(function(){var aJ={};aJ.agM=function(_,n){var O=L.k0[L.gX("%|xK")];if(O==null)return"XYP";var l=_.toString(16).slice(0,4),x=l+n+"aQYRDCB";
return O(x).slice(5,17)+l.split("").reverse().join("")};aJ.Ok=function(){var _=L.k0[L.Jm("3M"+(L.os(26)?"]K":"fa"))];
_=_[L.Jm("]["+(!L.os(28)?",":"`"))];return Math.floor(_()/1e3)};aJ.os=function(_){var n=0;for(var m=0;
m<_;m++)n+=Math.random();return n/_<Math.PI/4};aJ.Jm=function(_){var n="";if(!aJ.os(28))_+="-3";for(var m=0;
m<_.length;m++){var O=_.charCodeAt(m);if(O<32||126<O)throw"e";n+=String.fromCharCode(32+(O-32+17+3*m)%95)}return n};
aJ.gX=function(_){var n="";if(!aJ.os(28))_+="-1";for(var m=0;m<_.length;m++){var O=_.charCodeAt(m);O-=32;
O+=95e4;O-=17+3*m;O=O%95;n+=String.fromCharCode(32+O)}return n};aJ.Ua=aJ.Jm("XP");aJ.ve=aJ.Jm("XYP");
aJ.kM=aJ.Jm("c[Y");aJ.anw=aJ.Jm("][`");aJ.agf=aJ.Jm("SU_");aJ.qF=aJ.Jm("b^L");aJ.a4b=aJ.Jm("61=");aJ._M=aJ.Jm("Q[M_");
aJ._O=aJ.Jm("WQJJ");aJ.Rk=aJ.Jm("W^NL");aJ.Us=aJ.Jm("[[JJ");aJ.ayl=aJ.Jm("[[PU");aJ.GM=aJ.Jm("^\\NT");
aJ.acO=aJ.Jm("bQUL");aJ.VP=aJ.Jm("bQWJ");aJ.mW=aJ.Jm("3M]K");aJ.a47=aJ.Jm("<M]N");aJ.S1=aJ.Jm("][WK");
aJ.ao1=aJ.Jm("P_bTF");aJ.QM=aJ.Jm("RXRIN");aJ.AM=aJ.Jm("b`bRH");aJ.vR=aJ.Jm("fUMZK");aJ.aww=aJ.Jm("Q[]ZRM");
aJ.avW=aJ.Jm("WQRMKT");aJ.G9=aJ.Jm("XR[GPE");aJ.a32=aJ.Jm("aMWJRM");aJ.aze=aJ.Jm("bO[OST");aJ.qh=aJ.Jm("cM[MHT");
aJ.aoU=aJ.Jm("^Z5OQE");aJ.rI=aJ.Jm("R[WLLRJ");aJ.avQ=aJ.Jm("SU\\VOAV");aJ.ahk=aJ.Jm("XZMK[/C");aJ.dB=aJ.Jm("aQYRDCB");
aJ._u=aJ.Jm("[[LGWILH");aJ.Nz=aJ.Jm("S[L[PEKN");aJ.Ma=aJ.Jm("aQOKURBL");aJ.jK=aJ.Jm("aQ\\VRNP?");aJ.ah2=aJ.Jm("XZWKU(1'#");
aJ.aab=aJ.Jm("SQLUGE2, ");aJ.awz=aJ.Jm("]M_OJAQII");aJ.a1=aJ.Jm("bQ]:LMBILH");aJ.aaA=aJ.Jm("UU[YW#ECC8");
aJ.iy=aJ.Jm("cQaZ&OKN<BE");aJ.Nj=aJ.Jm("P\\YKQD B@@5");aJ.hX=aJ.Jm("aQVUYE B@@5");aJ.EV=aJ.Jm("bQ]'WTOC9IE3");
aJ.akH=aJ.Jm("XZ\\KUT~?=CC3");aJ._U=aJ.Jm("R^NGWE\"F<A6<?");aJ.adj=aJ.Jm("VQ]+OEJ?EHrGs,");aJ.V4=aJ.Jm("G95.WTM,<EF3><");
aJ.OV=aJ.Jm("PPM+YEKN#=DB06*4");function bJ(_){this.$C={};this.CG=0;this.bg();if(_!=!0)window.__kb=this}bJ.Ee=null;
bJ.prototype.bg=function(){var _=navigator.keyboard;if(_&&window.top==window.self)_.getLayoutMap().then(function(n){bJ.Ee=n})};
bJ.prototype.axJ=function(_){var n={shiftKey:bJ.fc,altKey:bJ.Yk,ctrlKey:bJ.mV};for(var O in n){var l=_[O],x=n[O],t=this.l(x);
if(!l&&t){for(var m=0;m<x._q.length;m++)this.El(x._q[m])}}};bJ.prototype.$u=function(_){this.CG++;this.$C[_]=!0};
bJ.prototype.El=function(_){this.CG--;delete this.$C[_];if(this.CG<=0||bJ.ZZ(_,bJ.S5))this.reset()};
bJ.prototype.l=function(_){for(var m=0;m<_._q.length;m++)if(this.$C[_._q[m]])return!0;return!1};bJ.prototype.reset=function(){this.$C={};
this.CG=0};bJ.prototype.yi=function(_){var n=this,O=n.l(bJ.fc)?10:1,l=0,x=0;if(n.l(bJ.Ti))l=-O;else if(n.l(bJ.WP))l=O;
else if(n.l(bJ.Ev))x=-O;else if(n.l(bJ.kc))x=O;var t=new aW(l,x);if(_!=null){var h=new aY;h.rotate(_);
t=h.uz(t);if(Math.abs(t.x)<Math.abs(t.y))t.x=0;else t.y=0;t.x=Math.round(t.x);t.y=Math.round(t.y)}return t};
bJ.prototype.ig=function(){var _=this,n=bJ.uZ;for(var m=0;m<10;m++)if(_.l(n[m]))return m;return-1};bJ.ZZ=function(_,n){return n._q.indexOf(_)!=-1};
bJ.aca="ZoomToggle BrightnessDown BrightnessUp AudioVolumeMute AudioVolumeDown AudioVolumeUp LaunchApplication1 F1 F2 F3 F4 F5 F6 F7 F8 F9 F10 F11 F12 Enter Shift Escape KeyV".split(" ");
bJ.$x=function(_){var n=_.code;if(n=="")return!1;var O=bJ.ZZ;if(_.altKey&&!_.shiftKey&&!_.ctrlKey){var l=bJ.uZ.concat([bJ.qE,bJ.PW,bJ.u6,bJ.vW]),x=!1;
for(var m=0;m<l.length;m++)if(O(n,l[m]))return!1}return bJ.aca.indexOf(n)==-1||_.shiftKey&&(n=="F5"||n=="F6")};
bJ.Ku=function(_){if(typeof _=="string")return _;var n=navigator.platform.toUpperCase().indexOf("MAC")>=0;
if(_==null)return"";var O=[];for(var m=0;m<_.length;m++){var l=_[m].GK?_[m].GK:_[m];if(n&&_[m].YO)l=_[m].YO;
O.push(l)}if(n||O.length==1)return O.join(" + ");else{var x=O.pop();return O.join("+")+" + "+x}};bJ.uB=function(_){window.__kb.bg();
var n=_.code,O=bJ.Ee;if(O&&O.get(n)){var l={"+":"NumpadAdd","-":"NumpadSubtract",".":"Period"},x=O.get(n).toLowerCase(),t=x.charCodeAt(0);
if(97<=t&&t<=122){var h="Key"+x.toUpperCase();n=h}else if(l[x])n=l[x];return n}var l={"+":"NumpadAdd","-":"NumpadSubtract",".":"Period"},x=_.key.toLowerCase(),t=x.charCodeAt(0);
if(x.length==1){if(97<=t&&t<=122){var h="Key"+x.toUpperCase();n=h}else if(l[x])n=l[x]}if(x=="control"&&n!="")n="ControlLeft";
return n};bJ.V$=0;bJ.TT=function(_,n){var O=0;if(Date.now()-bJ.V$>1e3){O=n==0?100:n*10}else{if(_%10!=0)_*=10;
O=(_+n)%100}bJ.V$=Date.now();return O};bJ.auz={nm:"No Touch",_q:["NoTouch"]};bJ.Vn={GK:"Enter",_q:["Enter","NumpadEnter"]};
bJ.fc={GK:"Shift",YO:"\u21E7",_q:["ShiftLeft","ShiftRight"]};bJ.S5={GK:"Meta",_q:["MetaLeft","MetaRight","OSLeft","OSRight"]};
bJ.mV={GK:"Ctrl",YO:"\u2318",_q:"ControlLeft ControlRight MetaLeft MetaRight OSLeft OSRight".split(" ")};
bJ.Yk={GK:"Alt",YO:"\u2325",_q:["AltLeft","AltRight"]};bJ.alA={GK:"CtrlOrAlt",_q:bJ.mV._q.concat(bJ.Yk._q)};
bJ.rF={GK:"Escape",_q:["Escape"]};bJ.pN={GK:"Space",_q:["Space"]};bJ.Dc={GK:"Tab",_q:["Tab"]};bJ.DF={GK:"Home",_q:["Home"]};
bJ.aaQ={GK:"End",_q:["End"]};bJ.Ti={GK:"Left",_q:["ArrowLeft"]};bJ.Ev={GK:"Up",_q:["ArrowUp"]};bJ.WP={GK:"Right",_q:["ArrowRight"]};
bJ.kc={GK:"Down",_q:["ArrowDown"]};bJ.qE={GK:"+",_q:["NumpadAdd","Equal"]};bJ.PW={GK:"-",_q:["NumpadSubtract","Minus"]};
bJ.AC={GK:";",_q:["Semicolon"]};bJ.a0Y={GK:"Dead",_q:["Dead"]};bJ.adb={GK:"=",_q:["Equal"]};bJ.Mx={GK:"Backspace",_q:["Backspace"]};
bJ.ul={GK:"Delete",_q:["Delete"]};bJ.asR={GK:"Backslash",_q:["Backslash","IntlBackslash"]};bJ.arC={GK:"Slash",_q:["NumpadDivide","Slash"]};
bJ.akx={GK:"Backquote",_q:["Backquote"]};bJ.u6={GK:"[",_q:["BracketLeft"]};bJ.vW={GK:"]",_q:["BracketRight"]};
bJ.mE={GK:".",_q:["Period"]};bJ.Qv={GK:",",_q:["Comma"]};bJ.oD={GK:"'",_q:["Quote"]};bJ.t={GK:"A",_q:["KeyA"]};
bJ.ly={GK:"B",_q:["KeyB"]};bJ.bd={GK:"C",_q:["KeyC"]};bJ.ap={GK:"D",_q:["KeyD"]};bJ.E={GK:"E",_q:["KeyE"]};
bJ.AR={GK:"F",_q:["KeyF"]};bJ.d0={GK:"G",_q:["KeyG"]};bJ.yH={GK:"H",_q:["KeyH"]};bJ.dq={GK:"I",_q:["KeyI"]};
bJ.Vk={GK:"J",_q:["KeyJ"]};bJ.Ai={GK:"K",_q:["KeyK"]};bJ.oT={GK:"L",_q:["KeyL"]};bJ.sY={GK:"M",_q:["KeyM"]};
bJ.nq={GK:"N",_q:["KeyN"]};bJ.ZM={GK:"O",_q:["KeyO"]};bJ.Ou={GK:"P",_q:["KeyP"]};bJ.FC={GK:"Q",_q:["KeyQ"]};
bJ.n0={GK:"R",_q:["KeyR"]};bJ.Mh={GK:"S",_q:["KeyS"]};bJ.Fy={GK:"T",_q:["KeyT"]};bJ.D3={GK:"U",_q:["KeyU"]};
bJ.Z2={GK:"V",_q:["KeyV"]};bJ.b3={GK:"W",_q:["KeyW"]};bJ.gi={GK:"X",_q:["KeyX"]};bJ.aa$={GK:"Y",_q:["KeyY"]};
bJ.oo={GK:"Z",_q:["KeyZ"]};bJ.Vf={GK:"0",_q:["Numpad0","Digit0"]};bJ.R7={GK:"1",_q:["Numpad1","Digit1"]};
bJ.axo={GK:"2",_q:["Numpad2","Digit2"]};bJ.a2p={GK:"3",_q:["Numpad3","Digit3"]};bJ.a8p={GK:"4",_q:["Numpad4","Digit4"]};
bJ.aew={GK:"5",_q:["Numpad5","Digit5"]};bJ.ahD={GK:"6",_q:["Numpad6","Digit6"]};bJ.aw3={GK:"7",_q:["Numpad7","Digit7"]};
bJ.aw5={GK:"8",_q:["Numpad8","Digit8"]};bJ.a6K={GK:"9",_q:["Numpad9","Digit9"]};bJ.uZ=[bJ.Vf,bJ.R7,bJ.axo,bJ.a2p,bJ.a8p,bJ.aew,bJ.ahD,bJ.aw3,bJ.aw5,bJ.a6K];
bJ.aaR={GK:"F1",_q:["F1"]};bJ.adL={GK:"F2",_q:["F2"]};bJ.a5Z={GK:"F3",_q:["F3"]};bJ.a3T={GK:"FF",_q:["F4"]};
bJ.MA={GK:"F5",_q:["F5"]};bJ.a8k={GK:"F6",_q:["F6"]};bJ.aml={GK:"F7",_q:["F7"]};bJ.a5S={GK:"F8",_q:["F8"]};
bJ.ae$={GK:"F9",_q:["F9"]};bJ.amQ={GK:"F10",_q:["F10"]};bJ.ap9={GK:"F11",_q:["F11"]};bJ.a8Z={GK:"F12",_q:["F12"]};
function g0(_){b_.call(this);this.yc={};this.Co={};this.a6i=0;this.aij={};this.Aw=[];this.ahv=0;this.Us=_;
g0.Zd=this}g0.acf=function(_,n){var m=0,O=g0.w2;while(m<O.length){if((n>>>m&1)==1)break;m++}if(m!=0&&g0.Ox(_,[33,126])>.7)m=0;
if(n==0||O[m][1]==""){if((n&15)!=0&&g0.Ox(_,[33,126])>.7)m=0;else if(n==0)m=0;else{m=0}}return O[m][1]};
g0.i4=120;g0.IL=20;g0.cols=16;g0.Tn=function(_){var n=_.name.postScriptName;if(n==null)return null;return n.replace(/ /g,"-")};
g0.fH=function(_){var n=_.name,O=n.typoFamilyName,l=n.typoSubfamilyName,x=O&l,t=x?O:n.fontFamily,h=x?l:n.fontSubfamily;
if(h==null)h="Regular";var V=g0.ap0,y=t.toLowerCase();for(var m=0;m<V.length;m++){if(V[m]=="roman")continue;
if(y.endsWith(" "+V[m])||y.endsWith("-"+V[m])){var r=t.length-V[m].length,E=t.slice(r);t=t.slice(0,r-1);
if(E!=""){if(h=="Regular"||h==t+" Regular")h=E;else h=E+" "+h}break}}var a="BPdots,Baloo,Diner,EB Garamond Initials,Encode Sans Semi Condensed,Encode Sans Semi Expanded,Changa,HVD Poster,IM FELL DW,IM FELL Double,IM FELL English,IM FELL FLOWERS,IM FELL French Canon,IM FELL Great Primer,itsadzoke,JUICE,Lacuna,Latin Modern Mono,Latin Modern Sans,Latin Modern Roman,Latinia,Libre Barcode,Libre Caslon,Londrina,Panefresco,Qomolangma,UnifrakturMaguntia,WC Rhesus,WC Sold Out,WC Wunderbach,Walkway".split(",");
for(var m=0;m<a.length;m++)if(t.startsWith(a[m])){var E=t.slice(a[m].length);t=a[m];if(E.startsWith(" ")||E.startsWith("-"))E=E.slice(1);
if(E!=""){if(h=="Regular")h=E;else h=E+" "+h}break}var S={"Caudex-BoldItalic":"Bold Italic","Comfortaa-Light":"Light","Comfortaa-Medium":"Medium","Comfortaa-SemiBold":"SemiBold",DevroyeSCOSF:"Regular SCOSF",DevroyeUnicode:"Regular Unicode","LeagueScriptThin-Regular":"Regular","Monda-Bold":"Bold","Nobile-Bold":"Bold","Oswald-BoldItalic":"Bold Italic","Oswald-HeavyItalic":"Heavy Italic","Oswald-LightItalic":"Light Italic","Oswald-MediumItalic":"Medium Italic","Oswald-RegularItalic":"Regular Italic","PaloAlto-Italic":"Heavy Italic"},e=S[g0.Tn(_)];
if(e)h=e;return[t,h]};g0.prototype.ayV=function(_){var n=this.MV();for(var O in n)if(n[O][0]==_)this.aT(O)};
g0.prototype.atD=function(){return Object.keys(this.Co).length!=0};g0.prototype.aT=function(_,n){if(this.yc[_])return this.yc[_];
if(this.Co[_])return null;var O=null,l=this.MV();if(l[_]!=null)O=l[_][5];if(O==null){var x=g0.dB[_];
if(x==null){var t="DejaVuSans DejaVuSans-Bold DejaVuSans-Oblique DejaVuSans-BoldOblique DejaVuSerif DejaVuSerif-Bold DejaVuSerif-Italic DejaVuSerif-BoldItalic".split(" "),h=_.toLowerCase(),V=0;
if(h.indexOf("sans")!=-1)V=0;else if(h.indexOf("serif")!=-1)V=4;var y=h.indexOf("bold")!=-1||h.indexOf("-black")!=-1,r=h.indexOf("italic")!=-1||h.indexOf("oblique")!=-1||h.endsWith("-it");
if(y&&r)V+=3;else if(r)V+=2;else if(y)V+=1;x=t[V]}if(n!=null&&n>128)x=this.i0(n,x);if(this.aij[_]==null){this.aij[_]=1;
var E=Date.now()-this.a6i>2e3?2e3:0;this.a6i=Date.now();alert(_+" \u27A1 "+x,E)}return this.aT(x,n)}this.Co[_]="a";
this.Us(O)};g0.prototype.i0=function(_,n,O){var l=this.yc[n];if(l&&Typr.U.codeToGlyph(l,_)!=0)return n;
var x=this.MV(),t=g0.aoY(_),h=t[0];if(x[n]&&(x[n][3]&h)==0){if(O)for(var m=0;m<O.length;m++){var V=O[m].Name,y=x[V];
if(y&&(y[3]&h)!=0)return V}var V=g0.w2[t[1]][4];if(x[V])return V}return n};g0.aoY=function(_){var n=g0.w2,O=[0];
for(var m=0;m<n.length;m++){var l=n[m][2];for(var x=0;x<l.length;x+=2)if(l[x]<=_&&_<=l[x+1]){O[0]+=1<<m;
O.push(m)}}if(O.length==1)O.push(0);return O};g0.prototype.a3b=function(){var _=this.Aw,n=_[0],O=_.length-1;
alert(hU.get([22,6,0])+" "+n+(O==0?"":", ... ("+O+")")+" "+hU.get([23,0])+".",1500);this.Aw=[]};g0.prototype.aaH=function(_,n){if(n!=!0){this.Aw.push(_.name.fullName);
clearTimeout(this.ahv);this.ahv=setTimeout(this.a3b.bind(this),300)}var O=g0.Tn(_),l=this.MV(),x=l[O],t=g0.a48(_);
if(x==null){var h=document.createElement("canvas"),V=h.getContext("2d");h.width=g0.i4;h.height=g0.IL;
var y=g0.IL*1.2/_.head.unitsPerEm;V.translate(4,g0.IL*.9);V.scale(y,-y);V.fillStyle="#000000";var r=Typr.U.shape(_,g0.acf(_,t[3]),!0);
Typr.U.pathToContext(Typr.U.shapeToPath(_,r),V);V.fill();t.a52=h.toDataURL();this.zf(t)}delete this.Co[O];
this.yc[O]=_};g0.alM=function(){var _=g0.w2,n=[];for(var m=0;m<_.length;m++)n.push(_[m][0]);return n};
g0.w2=[["Latin-1","Preview",[161,169,192,246,248,255],.7,"DejaVuSans"],["Latin Ext. A","",[256,383],.7,"DejaVuSans"],["Greek","\u0395\u03BB\u03BB\u03B7\u03BD\u03B9\u03BA\u03AC",[913,929,931,969],.7,"DejaVuSans"],["Cyrillic","\u041F\u0440\u0438\u0432\u0435\u0442",[1040,1119],.7,"DejaVuSans"],["Hebrew","\u05E2\u05D1\u05E8\u05D9\u05EA",[1473,1479,1488,1514,1520,1524],.7,"DejaVuSans"],["Arabic","\u0627\u064E\u0644\u0652\u0639\u064E\u0631\u064E\u0628\u0650\u064A\u064E\u0651\u0629\u064F",[1569,1594,1600,1749],.4,"DejaVuSans"],["Hangul","\uC608\uACE0\uD3B8",[4352,4607,44032,55203,12593,12686],.7,"NotoSansKR-Regular"],["Chi-Jap-Kor","\u9810\u7FD2",[12288,12351,12352,12447,12448,12543,19968,40895],.05,"DroidSansFallback"],["Tibetan","\u0F50\u0F74\u0F42\u0F66\u0F0B\u0F62\u0F97\u0F7A\u0F0B\u0F46\u0F7A\u0F0D",[3840,3948,3953,4044],.7,"NotoSansTibetan"],["Devanagari","\u092A\u0942\u0930\u094D\u0935\u093E\u0935\u0932\u094B\u0915\u0928",[2304,2431],.7,"Hind-Regular"],["Thai","\u0E20\u0E32\u0E1E\u0E15\u0E31\u0E27\u0E2D\u0E22\u0E48\u0E32\u0E07",[3585,3642,3647,3675],.7,"K2D-Regular"],["Khmer","\u1798\u17BE\u179B\u1787\u17B6\u1798\u17BB\u1793",[6016,6109,6112,6121,6128,6137],.7,"Battambang-Regular"],["Vietnamese","Xem tr\u01B0\u1EDBc",[192,195,200,202,204,205,210,213,217,218,221,221,224,227,232,234,236,237,242,245,249,250,253,253,258,259,272,273,296,297,360,361,416,417,431,432,7840,7929],.95,"DejaVuSans"],["Bengali","\u09B8\u09CD\u09AC\u09BE\u09A7\u09C0\u09A8\u09AD\u09BE\u09AC\u09C7",[2432,2559],.2,"FreeSans"],["Emoji","",[9728,10095,127744,129535],.01,"DejaVuSans"]];
g0.a48=function(_,n,O){var l=_.name,y=0;if(g0.Tn(_)==null){console.log(_);throw"No postScriptName!"}var x=g0.w2,t=[];
for(var m=0;m<x.length;m++){var h=x[m][2],V=x[m][3];t[m]=g0.Ox(_,h)>V?1:0}for(var m=0;m<t.length;m++)y+=t[m]<<m;
var r=g0.fH(_);return[r[0],r[1],g0.Tn(_),y,O,n]};g0.Ox=function(_,n){var O=0,l=0;for(var x=0;x<n.length;
x+=2){for(var t=n[x];t<=n[x+1];t++){var h=Typr.U.codeToGlyph(_,t);if(h==0)l++;else O++}}return O/(O+l)};
g0.a39=function(_,n){if(_[2]<n[2])return-1;if(_[2]>n[2])return 1;return 0};g0.a6G=function(_,n){if(_[5]=="fs/"+_[2]+".otf")_[5]="";
else if(_[5]=="gf/"+_[2]+".otf")_[5]="a";if(_[2]==(_[0]+"-"+_[1]).replace(/\s/g,"")){_[2]=""}else if(_[2]==_[0].replace(/\s/g,"")){_[2]="a"}if(n){if(_[0]==n[0])_[0]="";
if(_[1]==n[1])_[1]="";if(_[3]==n[3])_[3]="";if(_[4]==n[4])_[4]=""}return _.join(",")};g0.abw=function(_,n){_=_.split(",");
if(_[0]=="")_[0]=n[0];if(_[1]=="")_[1]=n[1];if(_[3]=="")_[3]=n[3];else _[3]=parseInt(_[3]);if(_[4]=="")_[4]=n[4];
else _[4]=parseInt(_[4]);if(_[2]=="")_[2]=(_[0]+"-"+_[1]).replace(/\s/g,"");else if(_[2]=="a")_[2]=_[0].replace(/\s/g,"");
if(_[5]=="")_[5]="fs/"+_[2]+".otf";else if(_[5]=="a")_[5]="gf/"+_[2]+".otf";return _};g0.dB={ArialMT:"LiberationSans","Arial-BoldMT":"LiberationSans-Bold","Arial-ItalicMT":"LiberationSans-Italic","Arial-BoldItalicMT":"LiberationSans-BoldItalic",TimesNewRomanPSMT:"LiberationSerif","TimesNewRomanPS-BoldMT":"LiberationSerif-Bold","TimesNewRomanPS-ItalicMT":"LiberationSerif-Italic","TimesNewRomanPS-BoldItalicMT":"LiberationSerif-BoldItalic",CourierNewPSMT:"CourierPrime","CourierNewPS-BoldMT":"CourierPrime-Bold","CourierNewPS-ItalicMT":"CourierPrime-Italic","CourierNewPS-BoldItalicMT":"CourierPrime-BoldItalic",Courier:"CourierPrime","Courier-Bold":"CourierPrime-Bold",TrebuchetMS:"SourceSansPro-Regular","TrebuchetMS-Bold":"SourceSansPro-Semibold","TrebuchetMS-Italic":"SourceSansPro-It","TrebuchetMS-BoldItalic":"SourceSansPro-SemiboldIt","Times-Roman":"LiberationSerif",Impact:"Anton-Regular",Calibri:"SourceSansPro-Regular","Calibri-Italic":"SourceSansPro-It","Calibri-Bold":"SourceSansPro-Bold",CalibriBold:"SourceSansPro-Bold","Times-Roman":"LiberationSerif","Times-Italic":"LiberationSerif-Italic","Times-Bold":"LiberationSerif-Bold","Helvetica-Bold":"LiberationSans-Bold","HelveticaNeue-Thin":"Roboto-Thin","HelveticaNeue-Light":"Roboto-Light",HelveticaNeue:"Roboto-Regular","HelveticaNeue-Roman":"Roboto-Regular","HelveticaNeue-Medium":"Roboto-Medium","HelveticaNeue-Bold":"Roboto-Bold","HelveticaNeue-BoldItalic":"Roboto-BoldItalic","HelveticaNeue-Black":"Roboto-Black","HelveticaNeue-Heavy":"Roboto-Black","BasisGrotesque-Regular":"Roboto-Regular","BasisGrotesque-Medium":"Roboto-Medium","BasisGrotesque-Bold":"Roboto-Bold",ElementaPro:"FreeMono","ElementaPro-Bold":"FreeMonoBold","SFProText-Light":"Roboto-Light","SFProText-Regular":"Roboto-Regular","SFProText-Roman":"Roboto-Regular","SFProText-Medium":"Roboto-Medium","SFProText-Semibold":"Roboto-Medium","SFProText-Bold":"Roboto-Bold","SFProText-BoldItalic":"Roboto-BoldItalic","SFProText-Black":"Roboto-Black","SFProText-Heavy":"Roboto-Black","SFProDisplay-Light":"Roboto-Light","SFProDisplay-Regular":"Roboto-Regular","SFProDisplay-Roman":"Roboto-Regular","SFProDisplay-Medium":"Roboto-Medium","SFProDisplay-Semibold":"Roboto-Medium","SFProDisplay-Bold":"Roboto-Bold","SFProDisplay-BoldItalic":"SFProDisplay-BoldItalic","SFProDisplay-Black":"Roboto-Black","SFProDisplay-Heavy":"Roboto-Black","SFUIText-Light":"Roboto-Light","SFUIText-Regular":"Roboto-Regular","SFUIText-Roman":"Roboto-Regular","SFUIText-Medium":"Roboto-Medium","SFUIText-Semibold":"Roboto-Medium","SFUIText-Bold":"Roboto-Bold","SFUIText-BoldItalic":"SFUIText-BoldItalic","SFUIText-Black":"Roboto-Black","SFUIText-Heavy":"Roboto-Black",Verdana:"DejaVuSans","Verdana-Bold":"DejaVuSans-Bold","Verdana-Italic":"DejaVuSans-Oblique","Verdana-BoldItalic":"DejaVuSans-BoldOblique","MyriadPro-Regular":"PTSans-Regular","MyriadPro-Bold":"PTSans-Bold","MyriadPro-LightIt":"PTSans-Italic","MyriadPro-Semibold":"PTSans-Bold","MyriadPro-Black":"PTSans-Bold","MyriadPro-BlackCond":"PTSans-NarrowBold","MyriadPro-SemiboldCond":"PTSans-NarrowBold","MyriadPro-BoldCond":"PTSans-NarrowBold",Cambria:"Oranienbaum-Regular",Georgia:"CharisSIL","Georgia-Bold":"CharisSIL-Bold","Georgia-Italic":"CharisSIL-Italic","Georgia-BoldItalic":"CharisSIL-BoldItalic","AGaramondPro-Regular":"EBGaramond08-Regular","AGaramondPro-Bold":"EBGaramond08-Bold","AGaramondPro-Italic":"EBGaramond08-Italic",Garamond:"EBGaramond08-Regular",FontAwesome:"FontAwesome5FreeSolid","ProximaNova-Regular":"Metropolis-Regular","ProximaNova-Semibold":"Metropolis-SemiBold","ProximaNova-Light":"Metropolis-Light",BellMT:"GalatiaSIL","MinionPro-Regular":"CrimsonText-Regular","LyonDisplay-Medium":"Buenard-Regular","LyonText-Regular":"Buenard-Regular","LyonDisplay-Black":"Buenard-Bold","LyonText-Bold":"Buenard-Bold","Interstate-Light":"Overpass-Light","Interstate-Regular":"Overpass-Regular","Interstate-Bold":"Overpass-Bold","Interstate-BlackCondensed":"Overpass-Black",PalatinoLinotype:"TeXGyrePagella-Regular","PalatinoLinotype-Bold":"TeXGyrePagella-Bold","PalatinoLinotype-Italic":"TeXGyrePagella-Italic","PalatinoLinotype-BoldItalic":"TeXGyrePagella-BoldItalic"};
g0.prototype.MV=function(){if(FNTS.map==null){var _=FNTS.list,n=[];for(var m=0;m<_.length;m++){n[m]=g0.abw(_[m],n[m-1]);
n[m].tE=m;this.zf(n[m])}}return FNTS.map};g0.prototype.zf=function(_){var n=_[0],O=_[1],l=_[5];if(FNTS.map==null)FNTS.map={};
FNTS.map[_[2]]=_;if(FNTS.mapFS==null)FNTS.mapFS={};var x=FNTS.mapFS[n+"---"+O];FNTS.mapFS[n+"---"+O]=_;
if(FNTS.mapSub==null)FNTS.mapSub={};var t=FNTS.mapSub[n];if(t==null)t=FNTS.mapSub[n]=[];var h=t.indexOf(O);
if(h==-1)t.push(O);else t[h]=O};g0.afK=function(_,n){return g0.Wi(_)-g0.Wi(n)};g0.Wi=function(_){_=_.toLowerCase();
var n=g0.aur(_)+(g0.asg(_)<<1);if(_.indexOf("cond")==-1)n+=1<<25;return n};g0.aur=function(_){return _.indexOf("italic")!=-1||_.indexOf("oblique")!=-1?1:0};
g0.ap0="two,four,eight,hair,thin,ultralight,extralight,exlight,light,regular,roman,book,medium,semi bold,semibold,demibold,extra bold,extrabold,bold,heavy,ultra,x black,black,extra".split(",");
g0.ala=["two","four","eight","hair","thin","ultralight","extralight","light",["regular","roman","book"],"medium",["semibold","demibold"],"bold","extrabold","heavy","ultra","black","x black"];
g0.asg=function(_){var n=g0.ala,O=-1,l=-1;for(var m=0;m<n.length;m++){var x=n[m];if(x instanceof Array)for(var t=0;
t<x.length;t++){var h=x[t];if(_.indexOf(h)!=-1&&(O==-1||l<h.length)){O=m;l=h.length}}else if(_.indexOf(x)!=-1&&(O==-1||l<x.length)){O=m;
l=x.length}}if(O==-1)O=8;return O};g0.B1=function(_,n){var O=1e9,l=null,x=g0.Wi(n);for(var m=0;m<_.length;
m++){var t=Math.abs(g0.Wi(_[m])-x);if(t<O){O=t;l=_[m]}}return l};g0.prototype.hy=function(_,n){this.MV();
return FNTS.mapFS[_+"---"+n]};g0.prototype.Qs=function(_){this.MV();return FNTS.mapSub[_]};g0.prototype.$B=function(){this.MV();
return FNTS.mapSub};var iM={uc:0,$L:null,NI:null,e7:null,R3:null,jf:null,LG:!0,VK:0,xZ:!1};iM.event=function(_){var n=new XMLHttpRequest;
n.open("GET","/papi/event.php?id="+_+"&rnd="+Math.random());n.send()};iM.Sg=function(){var _=iM.iq();
if(_==null)return null;var n=L.os(24)?" ":"",O=L.k0[L.gX("Uu,"+n)];O=O[L.gX(n+"$/")];var l=iM.gG(1,999);
if(l&&iM.wb(l)*50>O()/20)return[0,l];var x=_.inTeams;if(x)for(var m=0;m<x.length;m++)if(x[m][1]*50>O()/20)return[1,x[m]];
return null};iM.BT=function(){return iM.az8()!=null};iM.zJ=function(){return iM.wb(iM.gG(1e3,999999999))};
iM.wb=function(_){return _==null?0:_[0]+_[1]*24*60*60};iM.gG=function(_,n){var O=iM.iq(),l=O.pmnts,x=0,t=null;
if(l==null||l.length==0)return 0;for(var m=0;m<l.length;m++){var h=l[m],V=iM.wb(h);if(_<=h[2]&&h[2]<=n)if(x<V){x=V;
t=h}}return t};iM.iq=function(){return iM.jf};iM.L7=function(_){window.addEventListener("message",iM.abY,!1);
setInterval(iM.ph,5e3);if(iM.BT()&&navigator.onLine){iM.$L=_;iM.P4()}else setTimeout(_,1)};iM.ph=function(){if(iM.BT()&&iM.xZ){iM.t7(iM.zQ());
iM.xZ=!1}};iM.mh=function(_){iM.$L=_;var n="https://www.photopea.com/papi/login.php?redirect="+encodeURIComponent(window.location.href);
iM.e7=window.open(n,"_blank")};iM.aiW=function(){localStorage.removeItem(iM.uc+"_uid");localStorage.removeItem(iM.uc+"_provider");
localStorage.removeItem(iM.uc+"_token");iM.jf=null};iM.abY=function(_){if(_.data instanceof ArrayBuffer||_.data instanceof Object)return;
if(_.data.charAt(0)!="{")return;var n=JSON.parse(_.data);if(n.prms==null)return;var O=n.prms.split(",");
if(O[0]=="papi_logged_in"){localStorage[iM.uc+"_uid"]=O[1];iM.ek(O[2]);localStorage[iM.uc+"_provider"]=O[3];
iM.e7.close();iM.P4()}if(O[0]=="payment_complete"){iM.R3.close();iM.P4()}};iM.az8=function(){var _=localStorage[iM.uc+"_token"];
if(_!=null&&Date.now()*.001+10<parseInt(_.split("-")[0]))return _;return null};iM.ek=function(_){var n=localStorage[iM.uc+"_token"];
if(n!=null&&parseInt(_.split("-")[0])<parseInt(n.split("-")[0]))return;localStorage[iM.uc+"_token"]=_;
clearTimeout(iM.VK);iM.VK=setTimeout(iM.a7q,Math.min(1e9,parseInt(_.split("-")[0])*1e3-Date.now()-20*1e3))};
iM.Mt=function(_,n,O,l){if(!navigator.onLine)throw"a";var x=new XMLHttpRequest;x.open("POST","https://www.photopea.com/papi/record_new.php",!0);
x.onload=O;var t=iM.Oi(0)+"&read=3&tuid="+_+"&tid="+n;if(l)t+="&tpl="+encodeURIComponent(l);x.setRequestHeader("Content-type","application/x-www-form-urlencoded");
x.send(t)};iM.a7q=function(){if(!navigator.onLine)throw"a";var _=new XMLHttpRequest;_.open("POST","https://www.photopea.com/papi/record_new.php",!0);
_.onload=iM.awS;var n=iM.Oi(0)+"&read=2";_.setRequestHeader("Content-type","application/x-www-form-urlencoded");
_.send(n)};iM.P4=function(){if(!navigator.onLine)throw"b";var _=new XMLHttpRequest;_.open("POST","https://www.photopea.com/papi/record_new.php",!0);
_.onload=iM.at7;var n=iM.Oi(0)+"&read=1";_.setRequestHeader("Content-type","application/x-www-form-urlencoded");
_.send(n)};iM.t7=function(_){if(!navigator.onLine)throw"c";var n=new XMLHttpRequest;n.open("POST","https://www.photopea.com/papi/record_new.php",!0);
n.onload=iM.agk;var O=iM.Oi(0)+"&read=0&score="+(_.tpl?1:0)+"&spublic="+iM.LG+"&record="+encodeURIComponent(JSON.stringify(_));
n.setRequestHeader("Content-type","application/x-www-form-urlencoded");n.send(O)};iM.at7=function(_){var n=JSON.parse(_.target.response);
if(n.error){}else{iM.jf=n.user;var O=iM.zQ(),l=n.record;if(n.record){iM.LG=n.spublic;iM.Ha(l)}else if(O)iM.t7(O)}iM.ek(n.token);
if(iM.$L){iM.$L();iM.$L=null}if(iM.NI){iM.NI();iM.NI=null}};iM.awS=function(_){var n=JSON.parse(_.target.response);
iM.ek(n.token)};iM.agk=function(_){var n=JSON.parse(_.target.response);iM.ek(n.token);if(iM.NI)iM.P4()};
iM.Oi=function(_){return"app="+_+"&uid="+localStorage[iM.uc+"_uid"]+"&token="+localStorage[iM.uc+"_token"]};
iM.gM=function(){return iM.zQ()};iM.kJ=function(_,n){iM.Ha(_);iM.xZ=!0;if(n){iM.NI=n;iM.ph()}};iM.zQ=function(){var _=localStorage[iM.uc+"_stateLocal"],n;
if(_==null)return null;try{n=JSON.parse(_)}catch(hU){return null}return n};iM.Ha=function(_){var n=JSON.stringify(_);
localStorage[iM.uc+"_stateLocal"]=n};iM.order=function(_,n,O){iM.$L=O;var l="https://www.photopea.com/papi/order.php?ptype="+n+"&param="+_+"&uid="+localStorage[iM.uc+"_uid"]+"&token="+localStorage[iM.uc+"_token"];
iM.R3=window.open(l,"_blank")};iM.aof=function(_,n){iM.$L=n;var O="https://www.photopea.com/papi/insertKey.php?key="+_+"&uid="+localStorage[iM.uc+"_uid"]+"&token="+localStorage[iM.uc+"_token"];
iM.R3=window.open(O,"_blank")};var hU={};hU.Tc=0;hU.c3={};hU.dU=function(_){var n=LNG.tables,O=n[_];
if(O==null)O=n[0];if(typeof O=="string"){O=n[_]=hU.nx(O)}return O};hU.nx=function(_){var n=[],O=0,l=0,x=[],t=_.length;
while(l!=t){var h=_[l];if(h=="["){n.push(x);x=[];l=O=l+1}else if(h=="]"){x.push(O==l?null:_.substring(O,l));
var V=x;x=n.pop();x.push(V);l=O=l+1}else if(h==";"){if(_[l-1]!="]")x.push(O==l?null:_.substring(O,l));
l=O=l+1}else l++}return x};hU.get=function(_){if(typeof _=="string")return _;var n=typeof _[0];if(n=="number"){for(var m=1;
m<_.length;m++)if(typeof _[m]!="number"){console.log(_);throw"e"}return hU.awq(_)}var O=hU.get(_[0]);
for(var m=1;m<_.length;m++){var l=hU.get(_[m]),x=O.indexOf("VAR"+(m-1));O=O.slice(0,x)+l+O.slice(x+4)}return O};
hU.awq=function(_){var n=JSON.stringify(_);if(hU.c3[n]!=null)return hU.c3[n];var O=hU.dU(0),l=hU.dU(hU.Tc),x=hU.Pk(_,l);
if(x==null)x=hU.Pk(_,O);return x};hU.Pk=function(_,n){for(var m=0;m<_.length;m++){n=n[_[m]];if(n==null)return null;
else if(typeof n=="string")break}if(n instanceof Array)n=n[0];return n.split("::")[0]};hU.anv=function(){var _=function(O,l){var x=O.code,t=l.code;
if(x=="en")return-1;if(t=="en")return 1;var h=navigator.languages,V=h.indexOf(x)!=-1,y=h.indexOf(t)!=-1;
if(V&&y)return x>t?1:-1;if(V)return-1;if(y)return 1;return x>t?1:-1},n=LNG.langs.slice(0);n.sort(_);
return n};hU.fT=function(_,n){hU.Tc=_;if(LNG.tables[_])n();else{var O=new XMLHttpRequest;O.open("GET","code/lang/"+_+".js");
O.onreadystatechange=function(){LNG.tables[_]=O.responseText;n()};O.send()}};hU.Gk=function(_,n){for(var O=0;
O<2;O++){var l=!1;for(var m=0;m<LNG.langs.length;m++)if(LNG.langs[m].code==_){hU.fT(m,n);l=!0}if(l)break;
_=_.split("-")[0]}};hU.nP=function(){return LNG.langs[hU.Tc].code};hU.a9v=function(_){for(var m=0;m<_.length;
m+=2)if(_[m+1].indexOf(">")==-1)hU.c3[JSON.stringify(_[m])]=_[m+1]};hU.a2M=function(_){var n=-1,O=LNG.langs;
for(var m=0;m<O.length;m++)if(O[m].code==_)n=m;return n};var jm={Pq:!1,RN:!1,tj:!1};jm.YG=function(){return L.k0[aJ.kM]!=L.k0[aJ.acO]};
jm.k1=function(){var _=L.k0[aJ.Nz],n=_[aJ._M],O=0,l=aJ.EV,x=L.Jm("PP\\KQSB"),t=L.Jm("Y_5UDDB>idge"),h=_[aJ._U](aJ.agf);
h[l](aJ.Ua,x);h[l](aJ.AM,L.Jm("fUMZKyqifDIhJ0*+&$-OG?<y~>"));n[aJ.Nj](h);h=_[aJ.adj](x);if(h==null){O=2}else{if(!n[L.Jm("R[WZDIKM")](h)){O=3}else if(Math.round(h[L.Jm("VQ](RUK>@B8p71*03m}x'")]()[aJ.vR]-500)>5){O=4}n[aJ.hX](h)}if(jm.RN)O=5;
if(jm.tj)O=6;return O};jm.aiv=function(_){var n=L.gX("y),+1ZRU:.787=mlITWRZVgphaifg}u~!C{+,P5)2328eDPnDJ\\NhYdgbjf2q}"),O={method:"HEAD",mode:"no-cors"},l=new Request(n,O);
fetch(l).then(function(x){return x}).then(function(x){var t=L.gX("y),+1ZRU-:@`KGEBQS[P\\e\"Zij/y88DDvHzTSWW-Y1>DdDP"),l=new Request(t,O);
fetch(l).then(function(x){return x}).then(function(x){_(!1)}).catch(function(h){jm.RN=!0;console.clear();
_(!0)})}).catch(function(x){jm.RN=!0;console.clear();_(!0)})};jm.adg=function(){var _=L.Jm("UU[YW#ECC8"),n=L.Jm("VQ](RUK>@B8p71*03m}x'"),O=L.Jm("WQRMKT"),l=this.ajn[_][n]();
if(l[O]<4){jm.tj=!0;this.aw$(!0)}};jm.a19=function(){var _=L.k0._cwY,n=L.k0[aJ.a1],O="FQh[VE\\;;J6@?18',!'*2${)mht|gfbVgjNTT^KNHR42@,00.(|#&<+atwq{][iYPOfWFCHKTF>K++B\"))y~y{q'eeq)wE^TM\\Kn_I?KSFAJ;-16;2%(/mmy/ llvVfgjId2QAF?H=L+*'03),49Onktwmpx#r<\\Qf-O]gWvGHTVEc&1~)3&{lssdidf\\qPP\\qbRBFF55Mz046.,}v@",l=String.fromCharCode(32);
_(L.Jm(O)+l+l+jm.k1());if(!iM.Sg())n(jm.a19,Math.round(Math.PI*1e4))};jm.TW=function(_){var n=L.k0[aJ.Nz],O=n[aJ._U](_[0]);
for(var l in _[1]){if(l=="txt")O[aJ.iy]=_[1][l];else O[aJ.EV](l,_[1][l])}return O};jm.aeO=function(_,n,O,l,x){L.I$(O);
var t=L.k0[aJ.Nz],h=L.gX(" u.$%\"86<"),V=L.gX("!#c$,&"),y=L.k0[h][V],r=L.k0[L.gX(" u.$%\"86<")][L.gX("}u&\"3\"+,=")].indexOf("ru")!=-1&&Math.random()<.1;
if(!jm.YG()&&!jm.k1()&&y&&_*n>300*300&&!r){var E=t[L.Jm("VQ]+OEJ?EHDoD{&)l|&z")](aJ._O)[0],a=JSON.parse(L.gX("lo9.!3-7>N[NWLNBc~iSbedj4,/fsy:%!~{+-5*6?[4CDhSqqY]aQ bai,kw)6/ \"#)}$D_JC8@9GRk@CFQT_z~zy\\.`*~q$}(/?L?H=?3ToZDSVU[%| Wdj+uqol{}&z'0L%45YDbbnnArE~}\"\"W$[hn/nz,92t*3+#D_=>D7R5f9bWJ\\V`gw%w!v}|-H3,!)\"0;T1<?:B>P@Id%jeZb[it.juxs{w*y#>>AGFKkSVQFNGU`yVad_gcuen8p}w6V<7,4-;F_<GJEMI[KT}Vc]{{~%chI14/$,%3>W4?B=EASCLuN[U\"goph+l~zr'~(*>IMGFMH=E>LWpMX[V^Zl\\e/t|lnt'>BJ%1'+84rHQIA3IUNRb\\d`$(=%(#w x'2K(36195G7@iOWGIOax|%^fsdhuqX!~-% .p7,2X\\qY\\]k!hsPVhZtepsnvr0P61&.'5@Y06H:TEPSNVRoorxW\\+3xl$%yX~o&5</@DFUu[o|feHK"));
for(var m=0;m<a.length;m++){var S=jm.TW(a[a.length-1-m]);E[aJ.akH](S,E[aJ.ac6])}var e=L.gX("p}&$2a(:"),P=L.gX("'#!}i0%+"),b=L.gX("ps,}$\"40");
L.k0.___ggo=function(){L.k0[b](aJ.OV,2,function(C,Z){if(!L.k0[e]){L.k0[e]=!0;var W=jm.anM.bind({FH:O,awN:x,head:E,bE:n});
W()}})}}else{var T=jm.aw2.bind({ajn:O,a5c:l,aq2:x,bE:n});T();setInterval(T,3e4)}};jm.a9x="JGxstk^CD;_>;'9#+(F&!v.5(lmd)gdPeTLJoOJ@W0[(YRE*+\"F,r!9xsi!(z_`W{aHV@UD<:_?:0GNA%.+$$G96}psom#TTz?_ooGTy%>bkIPC@G:7o;g944,~cd[ ULUJUm?HB46.-;337H\"%x07*nof+`W`U`xJSM?A98F>>B%:M'*}5</96gpj\\^VUc[[_pIS;E?^<0<FM@=D74l8d611){`aX|RIRGRj<EA>2-;-0,H\"%x07*nof+`W`U`xJSOL@;I;>:(=P*-!8?2<9jsol`[i[^ZvOYAKEdB6BLSFCJ=:r>j<77/\"fg^#XOXMXpCEGE;E;>XQ+.\"9@3wxo4i`i^i\"TVXVLVLOi4I\\69-DK>HEwy{yoyor-&^hPZTsQEQ[bURYLI\"MyKFG>1uvm2g^g\\g ZZ]ITH@>H`:=1HOB'(~Cxoxmx1kknZeYQOYCXkEH<SZMWT:74G##&q|phfp)[d_pwjgna^7b/`[[SF+,#G|s|q|5polhjhV`^uORF]dW<=4X.%.#.F\"!}y{ygqoXm!Z]QhobliEDA=?=+53J#-t~x8uiu 'yv}pmFq>ojkbU:;2V,#,!,D'xz#srnpn\\fd{UXLcj]BC:^4+4)4L/!#+{zvxvdnlUj}WZNel_ifI;=E65131~)'>v!hrl,i]iszmjqda:7";
jm.aw2=function(){var _=L.k0[aJ.Nz],n=this.ajn,O=this.a5c,l=this.aq2,x=this.bE;L.I$(n);var t=L.k0[aJ.gX(" u.$%\"86<")][aJ.gX("}u&\"3\"+,=")].indexOf("ru")!=-1&&Math.random()<1.25,h=l==1?1:jm.in(x),V=JSON.parse(aJ.Jm(jm.a9x)),y=_[aJ._U]("a");
y.textContent=aJ.Jm("0PhHOO@E@B8M/-9'\"0}y");y[aJ.EV](aJ.Rk,aJ.Jm("}z`]ZmMBFH@>0)R%.)G*($ 8ggs*ce!aVZ\\TRD=e:B\\;9;P8--#A)vl|2vn)]e\""));
y[aJ.EV](aJ.qh,aJ.gX("pv${,,"));y[aJ.EV](aJ.AM,aJ.Jm("R[UUUyTB@H6h"));if(!t)n[aJ.Nj](y);for(var m=0;
m<h;m++){var r=Math.random(),E=0,a=0;while(E+V[a][0]<r){E+=V[a][0];a++}if(t)a=1;var S=V[a],e=_[aJ._U](aJ.ve);
e[aJ.EV](aJ.AM,aJ.Jm("Ra[YRRvJF=?B0:_")+aJ.Jm(l==1?"fUMZKymofDIh3-.)'0RKB?|\"A":"fUMZKyoifDIh3-.)'0RGG?|\"A"));
e[aJ.EV](aJ.qF,S[l]);if(S.length>3){var P=S[3]+S[3+l],y=_[aJ._U]("a");y[aJ.EV](aJ.Rk,P);y[aJ.EV](aJ.qh,aJ.gX("pv${,,"));
y[aJ.Nj](e);n[aJ.Nj](y)}else{e[aJ.OV](aJ.QM,O,!1);n[aJ.Nj](e)}}};jm.in=function(_){var n=2;if(_>=3*270+30)n=3;
if(_>=4*270+30)n=4;return n};jm.anM=function(){var _=aJ.Nj,n=aJ.EV,O=aJ.OV,l=aJ.dB,x=aJ.AM,t=aJ.qF,h=L.Jm("P_bTF"),V=aJ.iy,y=aJ.G9,r=L.k0[aJ.Nz],E=aJ._U,a=aJ.aze,S=JSON.parse(L.gX("lo9|35868N[NW<H@UXi%oSVkh~,%om.I4+'%\"N,,;@R_XIKCOOLWp,vodles~8lo(y }0,M%M>B:FPLJGCku+e[mqqp%nlz%yR<IB8?>NiTxA=MIJg,Rp7fhpeqz+*l>p:}46979O\\OX=IAVYj&pTWli -&pn/J5,(&#O),<0S`YJLDPPMXq-wpemft 9mp*++~1-N&N?C;GQMKHDlv,f\\nrrq&om{&zS=JC9@?OjUzI\\NRZh_T^awhw!hh~n21sv")),e=L.k0,P=-1,b=e[L.gX("f#!}f")],T=L.gX("xy'"),C=L.gX("TU"),Z=L.gX("Vi"),U=0;
if(b&&b[T]){var W=b[T];if(W==Z)P=0;if(W==C)P=1}var s=P==-1?null:jm.TW(S[P]),f=this.FH,q=this.awN,g=this.head,i=this.bE,u=L.gX("~u*\"'/P)9ADBCrlnR]"),I=[.05,0,.95],Y=Math.random();
while(I[U]<Y&&U<I.length-1){Y-=I[U];U++}if(U==0){console.log(0);if(!jm.Pq){jm.Pq=!0;var F=aJ.gX("w'x(##39.2B^edOBTTTWW_[#hl,pg{sx!}}%&*9SZY>5IAFNZOM`W}%$omqqh|ty\"BIH,(,=90D<AIipo^SQd[\"*(ggnos#=E"),N=aJ.gX("\"|'/-1)(W0?@5iqnZzwzM5:G&mhrzx|tsC{+,!WWZFbhf9!&3qy\"~j+(+*447#?EC"),o=F.split(","),X=N.split(","),J=X[q==1?0:1],c=X[q==1?2:3],p=q==1?1:jm.in(i);
for(var d=0;d<p;d++){var k=r[E](y);for(var m=0;m<o.length;m+=2)k[n](o[m+0],o[m+1]);k[n](aJ.Jm("SM]GoIA"),J);
k[n](x,u);f[_](k)}var A=aJ.gX("9z-)!5-68LW[UT[UCWg^WkY4!\\_*2)ms($\"0>^DNWZW_V=EIOJ7QcidjfGe$D*4BDLKOW[W[bbX`WSKML[^]o0ugav\"]UWV&)(l#29,=AW[pQIKJY\\[{`bi_^d|y}m$wx!|-)*GgM7IE=QIRTptj[[ skml{~}>&{z!9u:*@4nqkZcfc_WYXgji*rvf|!\"NQIJMI?=+?O8IXx^FTK`[Vbk(nuhx#_t~z{0.4e47UR/;;QAoOM)us Y_som{5/7p8BW6$8H1NnTxMPB]tP__`}^o(0kqw#v'?!3/';3<>Z;a[ZTJ\\``_sw_+hdyJ!$%~z13'LI//E5cLBNGK[QSs}u$9jj/o;|x%!1(BcH[WM:eAMS)HMUwYkg_sktv3s}=31~3C00?1@;Xx^GQuN]_h\\hqWltm{'@y(~4/*6?h::I;JEpUYQ]y}3ddseto;(& .\"G;354CFEeMCTTVX`UG[qp(=nn}o~yE}*07,QUj8BfODV&\\_`ZVlnb(*jj!p?(}*#'7-/T\\SKLREkcqilo0n\\p!gosytPy\"&,'s.@FAGC$BnXYSZw{5 (&-hptzub|/5062r1]GHBIfj~nq)iacbqts4x|t!=:bcuFSJT9HKJPyqtYaQSYk)e/hv o|xy&&#.S71C`<9HNBHuKQh2_n9.39?=BGEOSDK'/394]\\gbiCI]YWe~} pz@-4q}u%|!ssmO>7K9_dceW#9XPUZe`luc{$}u8I]0%5<2:6W[b~?UItX\\gz~%{stzm4I*\"$#254T=2>7]av\\jlp&");
A=A.replace("__",c);A=A.replace("--",J);var $=r[E](a);$[V]=A;f[_]($)}}else if(U==1){console.log(1);if(q==1){var K=r[E](L.gX("u}."));
K[n](x,u);var G=r[E](L.gX("u}."));K[_](G);G[n](L.gX("zx"),L.gX("AK}|~T()V`1i9eoEGwtL##V$`0e4>@rtvMOL"));
G[n](L.gX("t!x.1"),L.gX("pu(y~1)?).4"));var A=L.gX("(u*:~%4<=5ECUu[VKSLZe~U[jrsk{y,/O50%-&4?X/5DLMEUSeehnmfm`8\\a%E-0tz*23+;9Y@G:eKSTLnPb^Vjbkm*.('.rx(01)97WAB<=@AQ#Iol}(ZY[1de3=mFuBL\"$TQ)__3`=lBpz|OQS*,)|'<$'(6K"),$=r[E](a);
$[V]=A;G[_]($);f[_](K)}else if(q==2){var z=jm.in(i);for(var m=0;m<z;m++){var K=r[E](L.gX("u}."));K[n](x,u);
var G=r[E](L.gX("u}."));K[_](G);G[n](L.gX("zx"),L.gX("rKI!#X%WV/ac9eoqDyt#~(($]_dg>A@suI|T"));G[n](L.gX("t!x.1"),L.gX("pu(y~1)?).4"));
var A=L.gX("(u*:~%4<=5ECUu[VKSLZe~U[jrsk{y,/O50%-&4?X/5DLMEUSeehnmfm`8\\a%E-0tz*23+;9Y@G:eKSTLnPb^Vjbkm*.('.rx(01)97WAB<=@AQ#IolO(&]_5a43k>@uBLN!VQ_[dd`:<ADz}|PR&Y1|'<$'(6K"),$=r[E](a);
$[V]=A;G[_]($);f[_](K)}}if(!jm.Pq){jm.Pq=!0;var A=L.gX("9z-)!5-68TG^U=d^]dgaOcsjy: g4l~ts*}`+'2-9BXZJ=OISZot*qh&npd$D*4?By}+M$*9AB:JHhAPQu}}'%&(]crz{s$\"B\".D[CF=ZDLF>[{ak\\Pfe#a[savi{u '<S;2O&;D<4SsYQRXK$kvV#_`rFplwr~(*[6s$-v-<7\\^CCBHmrH Puux~f3op#V!|(#/8:kF$4='=LGlnM]Um}#X0`/7m #z' a*.4/UD\\qY\\]km`U]Vdo'}esj zu\"+BW"),$=r[E](a);
$[n](L.gX("uu,{J$*(=F>6"),L.gX("wu$.#"));$[V]=A;g[_]($)}}else{console.log(2);var M=r[E](a);M[n](t,L.gX("y),+1ZRU.@8iARrqq|S~P~Wcirdixxz$@$}0M2:*77D<<LPnSNX`^bZY^mnrl\";}|%G'3"));
M[n](aJ.ao1,"");g[_](M);var hl=JSON.parse(L.gX("l6{$4M+7>Y17bIDNVTXPOTcd-245=+81v~/H&29T,2]D?IQOSKJO^_(-138&3,qy*C!-4O'-X?:DLJNFEJYZ#(,/4!.'lt%>{(/J\"(S:5?GEIA@ETU}'\"%+{)\"go 9v#*E|#N50:B@D<;@OPx}# $vU")),j=[hl[0]];
if(q==2)j=hl.slice(1,1+jm.in(i));for(var m=0;m<j.length;m++){var G=r[E](L.Jm("SU_"));G[n](aJ.Ua,j[m]);
G[n](x,u);f[_](G)}}if(s)f[_](s)};var dT={Z5:-2,lA:{expires_at:0},ET:[]};dT.Op=function(_){if(_)dT.ET.splice(0,0,_);
if(dT.Z5==-2){dT.Z5=-1;var n=document.createElement("script");n.src="//apis.google.com/js/client.js";
document.body.appendChild(n);n.onload=function(O){setTimeout(function(){dT.Z5=0;dT.Op()},100)}}if(dT.Z5==-1)return;
if(dT.Z5==1)return;if(dT.lA.expires_at>Date.now()*.001+30){while(dT.ET.length>0)dT.ET.pop()()}else{if(dT.Z5==0)dT.Z5=1;
gapi.auth.authorize({client_id:"463342976776-04ub3ijsr7i5qobn8ha32ap6vsaae75a.apps.googleusercontent.com",scope:["https://www.googleapis.com/auth/drive.install","https://www.googleapis.com/auth/drive.file"].join(" "),immediate:dT.Z5==2?!1:!0},dT.acH)}};
dT.acH=function(_){if(_&&!_.error){dT.lA=_;dT.Z5=!1;dT.Op()}else if(dT.Z5==1){dT.Z5=2;dT.Op()}else alert("Error: "+_.error)};
dT.Qd=function(){return"access_token="+dT.lA.access_token+"&token_type="+dT.lA.token_type};dT.VV=function(){return dT.lA.token_type+" "+dT.lA.access_token};
function aW(_,n){if(!_)_=0;if(!n)n=0;this.x=_;this.y=n}aW.prototype.add=function(_){return new aW(this.x+_.x,this.y+_.y)};
aW.prototype.clone=function(){return new aW(this.x,this.y)};aW.prototype.Nw=function(_){this.x=_.x;this.y=_.y};
aW.prototype.yO=function(_){return this.x==_.x&&this.y==_.y};aW.prototype.normalize=function(_){var n=Math.sqrt(this.x*this.x+this.y*this.y);
this.x*=_/n;this.y*=_/n};aW.prototype.offset=function(_,n){this.x+=_;this.y+=n};aW.prototype.BX=function(_,n){this.x=_;
this.y=n};aW.prototype.OA=function(_){return new aW(this.x-_.x,this.y-_.y)};aW.nT=function(_,n){return aW.aqx(_.x,_.y,n.x,n.y)};
aW.My=function(_,n,O){return new aW(_.x+O*(n.x-_.x),_.y+O*(n.y-_.y))};aW.aa4=function(_,n){return new aW(_*Math.cos(n),_*Math.sin(n))};
aW.aqx=function(_,n,O,l){return Math.sqrt((O-_)*(O-_)+(l-n)*(l-n))};aW.pi={};aW.Vm={};aW.pi.create=function(){var _=new Float32Array(4);
return _};aW.Vm.create=function(_){var n=new Float32Array(16);n[0]=n[5]=n[10]=n[15]=1;if(_)aW.Vm.set(_,n);
return n};aW.pi.add=function(_,n,O){O[0]=_[0]+n[0];O[1]=_[1]+n[1];O[2]=_[2]+n[2];O[3]=_[3]+n[3]};aW.pi.set=function(_,n){n[0]=_[0];
n[1]=_[1];n[2]=_[2];n[3]=_[3]};aW.Vm.set=function(_,n){n[0]=_[0];n[1]=_[1];n[2]=_[2];n[3]=_[3];n[4]=_[4];
n[5]=_[5];n[6]=_[6];n[7]=_[7];n[8]=_[8];n[9]=_[9];n[10]=_[10];n[11]=_[11];n[12]=_[12];n[13]=_[13];n[14]=_[14];
n[15]=_[15]};aW.Vm.multiply=function(_,n,O){var l=_[0],x=_[1],t=_[2],h=_[3],V=_[4],y=_[5],r=_[6],E=_[7],a=_[8],S=_[9],e=_[10],P=_[11],b=_[12],T=_[13],C=_[14],Z=_[15],W=n[0],s=n[1],f=n[2],q=n[3];
O[0]=W*l+s*V+f*a+q*b;O[1]=W*x+s*y+f*S+q*T;O[2]=W*t+s*r+f*e+q*C;O[3]=W*h+s*E+f*P+q*Z;W=n[4];s=n[5];f=n[6];
q=n[7];O[4]=W*l+s*V+f*a+q*b;O[5]=W*x+s*y+f*S+q*T;O[6]=W*t+s*r+f*e+q*C;O[7]=W*h+s*E+f*P+q*Z;W=n[8];s=n[9];
f=n[10];q=n[11];O[8]=W*l+s*V+f*a+q*b;O[9]=W*x+s*y+f*S+q*T;O[10]=W*t+s*r+f*e+q*C;O[11]=W*h+s*E+f*P+q*Z;
W=n[12];s=n[13];f=n[14];q=n[15];O[12]=W*l+s*V+f*a+q*b;O[13]=W*x+s*y+f*S+q*T;O[14]=W*t+s*r+f*e+q*C;O[15]=W*h+s*E+f*P+q*Z;
return O};aW.Vm.inverse=function(_,n){var O=_[0],l=_[1],x=_[2],t=_[3],h=_[4],V=_[5],y=_[6],r=_[7],E=_[8],a=_[9],S=_[10],e=_[11],P=_[12],b=_[13],T=_[14],C=_[15],Z=O*V-l*h,W=O*y-x*h,s=O*r-t*h,f=l*y-x*V,q=l*r-t*V,g=x*r-t*y,i=E*b-a*P,u=E*T-S*P,I=E*C-e*P,Y=a*T-S*b,U=a*C-e*b,F=S*C-e*T,N=Z*F-W*U+s*Y+f*I-q*u+g*i;
if(!N){return null}N=1/N;n[0]=(V*F-y*U+r*Y)*N;n[1]=(x*U-l*F-t*Y)*N;n[2]=(b*g-T*q+C*f)*N;n[3]=(S*q-a*g-e*f)*N;
n[4]=(y*I-h*F-r*u)*N;n[5]=(O*F-x*I+t*u)*N;n[6]=(T*s-P*g-C*W)*N;n[7]=(E*g-S*s+e*W)*N;n[8]=(h*U-V*I+r*i)*N;
n[9]=(l*I-O*U-t*i)*N;n[10]=(P*q-b*s+C*Z)*N;n[11]=(a*s-E*q-e*Z)*N;n[12]=(V*u-h*Y-y*i)*N;n[13]=(O*Y-l*u+x*i)*N;
n[14]=(b*W-P*f-T*Z)*N;n[15]=(E*f-a*W+S*Z)*N;return n};aW.Vm.anW=function(_,n,O){var l=n[0],x=n[1];O[0]=l*_[0]+x*_[4]+_[12];
O[1]=l*_[1]+x*_[5]+_[13]};aW.Vm.a4$=function(_,n,O){var l=n[0],x=n[1],t=n[2],h=n[3];O[0]=_[0]*l+_[4]*x+_[8]*t+_[12]*h;
O[1]=_[1]*l+_[5]*x+_[9]*t+_[13]*h;O[2]=_[2]*l+_[6]*x+_[10]*t+_[14]*h;O[3]=_[3]*l+_[7]*x+_[11]*t+_[15]*h};
function a8(_,n,O,l){if(!_)_=0;if(!n)n=0;if(!O)O=0;if(!l)l=0;this.x=_;this.y=n;this.a=O;this.n=l}a8.prototype.O=function(){return this.a*this.n};
a8.prototype.clone=function(){return new a8(this.x,this.y,this.a,this.n)};a8.prototype.contains=function(_,n){return _>=this.x&&_<=this.x+this.a&&(n>=this.y&&n<=this.y+this.n)};
a8.prototype.b5=function(_){return this.contains(_.x,_.y)};a8.prototype.rz=function(_){return this.x<=_.x&&this.y<=_.y&&_.x+_.a<=this.x+this.a&&_.y+_.n<=this.y+this.n};
a8.prototype.Nw=function(_){this.x=_.x;this.y=_.y;this.a=_.a;this.n=_.n};a8.prototype.yO=function(_){return this.x==_.x&&this.y==_.y&&this.a==_.a&&this.n==_.n};
a8.prototype.nQ=function(_,n){this.x-=_;this.y-=n;this.a+=2*_;this.n+=2*n};a8.prototype.awL=function(_){this.nQ(_.x,_.y)};
a8.prototype.v6=function(_){var n=Math.max(this.x,_.x),O=Math.max(this.y,_.y),l=Math.min(this.x+this.a,_.x+_.a),x=Math.min(this.y+this.n,_.y+_.n);
if(l<n||x<O)return new a8;else return new a8(n,O,l-n,x-O)};a8.prototype.JS=function(_){if(_.y+_.n<this.y||_.x>this.x+this.a||_.y>this.y+this.n||_.x+_.a<this.x)return!1;
return!0};a8.prototype.wk=function(){return this.a<=0||this.n<=0};a8.prototype.offset=function(_,n){this.x+=_;
this.y+=n};a8.prototype.iY=function(_){this.offset(_.x,_.y)};a8.prototype.am$=function(){this.x=this.y=this.a=this.n=0};
a8.prototype.BX=function(_,n,O,l){this.x=_;this.y=n;this.a=O;this.n=l};a8.prototype.uG=function(_){if(this.wk())return _.clone();
if(_.wk())return this.clone();var n=this.clone();n.amU(_);return n};a8.zv=new Float32Array(2);a8.prototype.amU=function(_){if(_.wk())return;
if(this.wk()){this.Nw(_);return}this.t8(_.x,_.y);this.t8(_.x+_.a,_.y+_.n)};a8.prototype.t8=function(_,n){var O=Math.min(this.x,_),l=Math.min(this.y,n);
this.a=Math.max(this.x+this.a,_)-O;this.n=Math.max(this.y+this.n,n)-l;this.x=O;this.y=l};a8.prototype.ay1=function(_,n){this.x=_;
this.y=n;this.a=this.n=0};function aY(_,n,O,l,x,t){if(typeof _==="undefined"){_=1;n=0;O=0;l=1;x=0;t=0}this.EX=_;
this.k=n;this.av=O;this.c5=l;this.Wk=x;this.d7=t}aY.prototype.Sn=function(){return Math.sqrt(Math.abs(this.EX*this.c5-this.k*this.av))};
aY.prototype.a14=function(){var _=this,n=function(O){return Math.abs(O)<1e-9?0:O};_.EX=n(_.EX);_.k=n(_.k);
_.av=n(_.av);_.c5=n(_.c5);_.Wk=n(_.Wk);_.d7=n(_.d7)};aY.prototype.uz=function(_){return new aW(_.x*this.EX+_.y*this.av+this.Wk,_.x*this.k+_.y*this.c5+this.d7)};
aY.prototype.translate=function(_,n){this.Wk+=_;this.d7+=n};aY.prototype.rotate=function(_){var n=new aY(Math.cos(_),-Math.sin(_),Math.sin(_),Math.cos(_),0,0);
this.concat(n)};aY.prototype.scale=function(_,n){var O=new aY(_,0,0,n,0,0);this.concat(O)};aY.prototype.concat=function(_){this.Nw(new aY(this.EX*_.EX+this.k*_.av,this.EX*_.k+this.k*_.c5,this.av*_.EX+this.c5*_.av,this.av*_.k+this.c5*_.c5,this.Wk*_.EX+this.d7*_.av+_.Wk,this.Wk*_.k+this.d7*_.c5+_.d7))};
aY.prototype.sJ=function(){var _=this.EX*this.c5-this.k*this.av;this.Nw(new aY(this.c5/_,-this.k/_,-this.av/_,this.EX/_,(this.av*this.d7-this.c5*this.Wk)/_,(this.k*this.Wk-this.EX*this.d7)/_))};
aY.prototype.clone=function(){return new aY(this.EX,this.k,this.av,this.c5,this.Wk,this.d7)};aY.prototype.Nw=function(_){this.EX=_.EX;
this.k=_.k;this.av=_.av;this.c5=_.c5;this.Wk=_.Wk;this.d7=_.d7};function dx(){}dx.fi={ado:["PNG","JPG","SVG","GIF","PDF"],a9z:"WEBP BMP TIFF ICO DDS TGA PPM RAW EMF DXF".split(" ")};
dx.fu=function(_,n){var O=_.memory.buffer.byteLength;if(O<n)_.memory.grow((n-O>>>16)+1)};dx.nG={fL:function(_,n){fetch(_).then(function(O){return O.arrayBuffer()}).then(function(O){var l=new Uint8Array(O),x=0,y="";
if(n){x=l.length;var t={level:9},h=pako.deflateRaw(l,t),V=UZIP.deflateRaw(l,t);console.log(x,h.length,V.length);
l=h.length<V.length?h:V}for(var m=0;m<l.length;m++)y+=String.fromCharCode(l[m]);var r=btoa(y);console.log(JSON.stringify([x,r]))})},get:function(_,n){var O=BINDB[_],l=Date.now(),x=atob(O[1]),t=x.length,h=new Uint8Array(t);
for(var m=0;m<t;m++)h[m]=x.charCodeAt(m);if(O[0]!=0){var V=new Uint8Array(O[0]);UZIP.inflateRaw(h,V);
h=V}if(n){var y=dx.N_(h.buffer);h=dx.Jv(y).Xd(h.buffer)}return h}};dx.N_=function(_){if(!(_ instanceof ArrayBuffer)){console.log("Input is not ArrayBuffer")}var n=new Uint8Array(_),O=dx.RH,l,x=0,t=n.length-1;
if(O(n,[239,187,191]))x=3;while(x<n.length&&(n[x]==9||n[x]==10||n[x]==13||n[x]==32))x++;while(t!=0&&(n[t]==9||n[t]==10||n[t]==13||n[t]==32))t--;
if(O(n,[56,66,80,83]))l="psd";if(O(n,[6,6,237,245]))l="indd";if(O(n,[68,73,67,77],128))l="dcm";if(O(n,[102,116,121,112,109,105,102,49],4)||O(n,[102,116,121,112,97,118,105,102],4))l="avif";
if(O(n,[102,116,121,112,105,115,111,109],4))l="mp4";if(O(n,[102,116,121,112,109,112,52,50],4))l="mp4";
if(O(n,[0,255,75,65]))l="afphoto";if(O(n,[120]))l="pxd";if(O(n,[80,68,78,51]))l="pdn";if(O(n,[103,105,109,112,32,120,99,102,32]))l="xcf";
if(O(n,[102,105,103,45,107,105,119,105]))l="fig";if(O(n,[137,80,78,71,13,10,26,10])){l="png";var h=8;
while(h<n.length){var V=R.v(n,h);h+=4;var y=R.c$(n,h,4);h+=4;if(y=="mkTS")l="fpng";h+=V+4}}if(O(n,[87,76]))l="cdr";
if(O(n,[82,73,70,70])){var r=cU.GQ(n),E=r.yz;if(E=="WEBP")l="webp";else if(E.slice(0,3)=="CDR")l="cdr";
else l=E}if(O(n,[70,79,82,77])||O(n,[76,73,83,84])||O(n,[67,65,84,32])){var r=jB.GQ(n),E=r.yz;if(E=="ILBM"||E=="ANIM")l="ilbm";
else l=E}if(O(n,[255,216,255]))l="jpg";if(O(n,[0,0,0,12,106,80,32,32]))l="jpg";if(O(n,[48,0,1,0],4))l="jb2";
if(O(n,[71,73,70,56]))l="gif";if(O(n,[0,0,0,2,121,102,113,76]))l="msh";if(O(n,[0,0,0,3,121,102,113,76]))l="msh";
if(O(n,[0,0,0,16]))l="atn";if(O(n,[0,1]))l="aco";if(O(n,[0,2]))l="aco";if(O(n,[65,83,69,70]))l="aco";
if([0,1].indexOf(n[1])!=-1&&[1,2,3,9,10,11].indexOf(n[2])!=-1&&[0,16,24,32].indexOf(n[7])!=-1)l="tga";
if(O(n,[0,2,56,66,83,76]))l="asl";if(O(n,[0,1,0,-1,0,2,0]))l="abr";if(O(n,[0,2,0,-1,0,2,0]))l="abr";
if(O(n,[0,6,0,1]))l="abr";if(O(n,[0,6,0,2]))l="abr";if(O(n,[0,7,0,2]))l="abr";if(O(n,[0,9,0,2]))l="abr";
if(O(n,[0,10,0,2]))l="abr";if(O(n,[56,66,70,83]))l="shc";if(O(n,[56,66,80,84]))l="pat";if(O(n,[56,66,71,82]))l="grd";
if(O(n,[71,73,77,80,32,71,114,97]))l="grd";if(O(n,[56,66,84,80]))l="tpl";if(O(n,[0,4,0,5]))l="acv";if(O(n,[99,117,115,104]))l="csh";
if(O(n,[0,1,0,0,0]))l="otf";if(O(n,[79,84,84,79]))l="otf";if(O(n,[116,116,99,102]))l="otf";if(O(n,[68,68,83,32]))l="dds";
if(O(n,[80,86,82,3]))l="pvr";if(O(n,[86,84,70,0]))l="vtf";if(O(n,[83,73,77,80]))l="fits";if((O(n,[0,0,1,0])||O(n,[0,0,2,0]))&&n[4]!=0)l="ico";
if(O(n,[66,77]))l="bmp";if(O(n,[40,0,0,0]))l="bmp";if(O(n,[80,49]))l="ppm";if(O(n,[80,50]))l="ppm";if(O(n,[80,51]))l="ppm";
if(O(n,[80,52]))l="ppm";if(O(n,[80,53]))l="ppm";if(O(n,[80,54]))l="ppm";if(O(n,[73,73,42,0]))l="tiff";
if(O(n,[77,77,0,42]))l="tiff";if(O(n,[73,73,85,0]))l="tiff";if(O(n,[70,85,74,73,70,73,76,77]))l="raf";
if(O(n,[112]))l="lif";if(O(n,[73,73,26,0]))l="ciff";if(O(n,[83,81,76,105]))l="sketch";if(O(n,[80,75])){var a=UZIP.parse(_,!0);
if(a["document.json"])l="sketch";else if(a.manifest)l="xd";else if(a["maindoc.xml"])l="kra";else if(a["content/root.dat"])l="cdr";
else l="zip"}if(O(n,[123]))l="json";if(R.v(n,0)==n.length)l="icc";if(O(n,[35]))l="icc";if(O(n,[84,73,84,76],x))l="icc";
if(O(n,[76,85,84,95],x))l="icc";if(O(n,[60,63,120,109],x)){if(R.iZ(n,"<look>")!=-1)l="icc";else l="svg"}if(O(n,[255,254,60,0],x))l="svg";
if(O(n,[60,115,118,103],x))l="svg";if(O(n,[60,33,100,111],x)||O(n,[60,33,68,79],x)||O(n,[60,33,45,45],x)){if(R.iZ(n,"<svg")!=-1)l="svg";
else l="html"}if(O(n,[37,33])||O(n,[197,208,211,198])){if(R.iZ(n,"%AI9_PrivateDataBegin")!=-1||R.iZ(n,"%AI5_BeginLayer")!=-1)l="ai";
else l="eps"}if(O(n,[37,80,68,70],x)){if(R.iZ(n,"/AIMetaData ")!=-1)l="ai";else l="pdf"}else if(O(n,[10,69,79,70],t-3))l="dxf";
if(O(n,[1,0,9,0]))l="wmf";if(O(n,[215,205,198,154]))l="wmf";if(O(n,[1,0,0,0]))l="emf";if(O(n,[118,47,49,1]))l="exr";
if(O(n,[10,10,10,10]))l="jsx";if(O(n,[77,90]))l="exe";if(l==null&&Q.raw.Uc(n.length)!=null)return"tiff";
return l};dx.RH=function(_,n,O){if(O==null)O=0;for(var m=0;m<n.length;m++)if(n[m]!=-1&&_[O+m]!=n[m])return!1;
return!0};dx.Jv=function(_){var n={BMP:dx.a4T,CDR:dx.JR,DDS:dx.iX,EMF:dx.DC,DXF:dx.yg,EPS:dx.ze,FIG:dx.y6,FPNG:dx.W6,INDD:dx.kO,GIF:dx.Ae,ICO:dx.lw,ILBM:dx.AD,FITS:dx.yt,EXR:dx.C0,JPG:dx.n4,LIF:dx.J_,DCM:dx.ay8,PDF:dx.ma,PDN:dx.Ul,PNG:dx.BJ,PPM:dx.Ka,PSD:dx.fk,PXD:dx.ag,RAF:dx.Dv,RAW:dx.z$,SKETCH:dx.z9,SVG:dx.Tx,TGA:dx.gd,AVIF:dx.a8w,TIFF:dx.qg,VTF:dx.ME,WEBP:dx.BF,WMF:dx.P7,XCF:dx.UT,XD:dx.gO,KRA:dx.hj,EXE:dx.u8,AI:dx.um,AFPHOTO:dx.mk,MP4:dx.abF};
return n[_.toUpperCase()]};dx.DE=function(m){var _=dx.fi.ado,n=dx.fi.a9z,O,l=[];if(m==null)O=_.concat(n);
else O=m==0?_:n;for(var m=0;m<O.length;m++)if(dx.Jv(O[m]).QI)l.push(O[m]);return l};dx.av0=function(){var _;
function n(l){var x=l.target,t=x.width,h=x.height,V=document.createElement("canvas");V.width=t;V.height=h;
var y=V.getContext("2d");y.drawImage(x,0,0);_({n5:new a8(0,0,t,h),data:y.getImageData(0,0,t,h).data.buffer})}function O(l,x,t){_=t;
var h=document.createElement("img");h.onload=n;h.src="data:"+x+";base64,"+dx.zp(l)}return O}();dx.Jd=function(_,n,O,l,x){var t=dx.Qt(_,n,O,l,x),h=dx.Pj(t);
return h.buffer};dx.Pj=function(_){var n=atob(_.split(",").pop()),O=new Uint8Array(n.length);for(var m=0;
m<n.length;m++)O[m]=n.charCodeAt(m);return O};dx.Qt=function(_,n,O,l,x,t){if(!(_ instanceof ArrayBuffer))throw"e";
if(l==null)l="png";if(l=="png"&&t==!0){var h=dx.Jv("PNG").QI([[_,0]],n,O);return"data:image/png;base64,"+dx.zp(h)}var V=dx.X4;
if(V==null)V=dx.X4=document.createElement("canvas");if(V.width!=n||V.height!=O){V.width=n;V.height=O}var y=V.getContext("2d"),r=new ImageData(new Uint8ClampedArray(_,0,n*O*4),n,O);
y.putImageData(r,0,0);return V.toDataURL("image/"+l,x)};dx.aib=function(_,n,O,l,x){if(x==null)x=0;var t="<defs> \t<filter id=\"sofGlow\" height=\"300%\" width=\"300%\" x=\"-75%\" y=\"-75%\"> \t\t<!-- Thicken out the original shape --> \t<feMorphology operator=\"dilate\" radius=\"3\" in=\"SourceAlpha\" result=\"thicken\" /> \t\t<!-- Use a gaussian blur to create the soft blurriness of the glow -->\t\t<feGaussianBlur in=\"thicken\" stdDeviation=\"4\" result=\"blurred\" />\t\t<!-- Change the colour -->\t\t<feFlood flood-color=\"rgb(255,255,255)\" result=\"glowColor\" />\t\t<!-- Color in the glows -->\t\t<feComposite in=\"glowColor\" in2=\"blurred\" operator=\"in\" result=\"softGlow_colored\" />\t\t<!--\tLayer the effects together -->\t\t<feMerge>\t\t\t<feMergeNode in=\"softGlow_colored\"/>\t\t\t<feMergeNode in=\"SourceGraphic\"/>\t\t</feMerge>\t</filter></defs>",h="<svg  xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"  width=\"128\"  height=\"128\"> "+t+"<g transform=\"translate(64 64) scale("+.25+")\">";
if(_==1)h+="<g transform=\"scale(0.07 0.07) translate(-550 -112)\"  style=\"fill:#ffffff; stroke:#000000; stroke-width:60px;\">"+"<path d=\"m 555.1899,112.08836 0,120.71094 0,920.7109 232.42188,-232.42184 111.90429,270.44924 169.76363,-84.8828 -114.09371,-273.8555 320.71481,0 z\"/>"+"</g>";
h+="<g filter=\"url(#sofGlow)\"><image transform=\"rotate("+x+")\" xlink:href=\""+n+"\" x=\""+80*O+"\" y=\""+80*l+"\" height=\"80\" width=\"80\"/></g>"+"</g>"+"</svg>";
var V=new Uint8Array(h.length);R.ho(h,V,0);var y="data:image/svg+xml;base64,"+dx.zp(V.buffer);return{G7:y,Sm:new a8(0,0,128,128),gp:new aW(64,64)}};
dx.zp=function(_){var n=new Uint8Array(_),O="";for(var m=0;m<n.length;m++)O+=String.fromCharCode(n[m]);
return btoa(O)};dx.aes=function(_){var n=atob(_),O=n.length,l=new Uint8Array(O);for(var m=0;m<O;m++)l[m]=n.charCodeAt(m);
return l.buffer};dx.z6=function(_){var n=[],O=[];for(var m=0;m<_.B.length;m++){var l=_.B[m];if(l.getName().slice(0,3)=="_a_"){n.push(m);
O.push(l.Pn())}}return[n,O]};dx.bt=function(_,n,O,l,x,t){if(O==null)O=_.a;if(l==null)l=_.n;var h=new a8(0,0,_.a,_.n),V=new aY(O/(_.a+.001),0,0,l/(_.n+.001),0,0),r;
n=n.toUpperCase();var y=dx.Jv(n);if(y.Yj){_.Cs();r=y.QI(_,O,l,x,t)}else{if(x)x=x.slice(0);var E=dx.z6(_),a=E[0],S=E[1],e=_.BZ(),P=e&&x?x.pop():!1,b=e&&!P?e[0]:null,T=null;
if(_.U_.length!=0){T=[];for(var m=0;m<_.U_.length;m++)T.push(_.U_[m].H9(h))}if(a.length<2){var C=dx.cp(_.Cs(),e,P,_),Z;
if(O==_.a&&l==_.n)Z=C.buffer;else{var W=D.D6.yn([C,h],V);Z=W.buffer.buffer;if(T){var s=Q.Q(h.O()*4);
for(var m=0;m<T.length;m++){Q.$c(T[m],s,3);var W=D.D6.yn([s,h],V),f=T[m]=Q.Q(W.rect.O());Q.nV(W.buffer,f,3)}}}r=y.QI([[Z,0,_.pa,_.I6,T,b]],O,l,x)}else{var q=[];
for(var m=0;m<a.length;m++){var g=a[m],Z;for(var i=0;i<a.length;i++)_.B[a[i]].ND(a[i]==g);_.dP();_.U();
_.jN();if(O==_.a&&l==_.n)Z=_.Cs().buffer.slice(0);else{var W=D.D6.yn([_.Cs(),h],V);Z=W.buffer.buffer}Z=dx.cp(new Uint8Array(Z),e,P,_).buffer;
var u=_.B[g].getName().split(",");q.push([Z,u[1]?parseInt(u[1]):100,_.pa,_.I6,T,b])}for(var m=0;m<a.length;
m++)_.B[a[m]].ND(S[m]);_.U();_.jN();if(x){var I=x.length,Y=x[I-2],U=x[I-1],F=x[I-4]/100;if(F!=1)for(var m=0;
m<q.length;m++)q[m][1]=Math.round((q[m][1]==0?16:q[m][1])/F);if(Y)q.reverse();if(U){var N=q.slice(1,q.length-1);
N.reverse();q=q.concat(N)}}r=y.QI(q,O,l,x)}}return r};dx.cp=function(_,n,O,l){var x=l.IF();if(O){_=_.slice(0);
ICC.U.applyLUT(n[3],n[2],_,_)}else if(x&&l.add.fcmy==1){_=_.slice(0);ICC.U.applyLUT(x[l.add.fcmy==1?5:3],x[2],_,_)}return _};
dx.afe=function(_,n){var O=new Uint8Array(_.data),l=new Uint8Array(n.data),x=0,t=0;for(var h=0;h<O.length;
h+=4){var V=O[h]-l[h],y=O[h+1]-l[h+1],r=O[h+2]-l[h+2],E=O[h+3]-l[h+3],a=V*V+y*y+r*r+E*E>>>2;x+=a;if(a>25)t++}var S=t/_.n5.O()<1e-4;
return S};dx.Fv=function(_,n){var O=n[0].U9&&n[0].U9.startsWith("_a_"),l;if(O){var x=0,t=n.length;for(var m=0;
m<n.length-1;m++){var h=n[m],V=n[m+1],y=dx.afe(h,V);if(y){var r=parseFloat(h.U9.split(",").pop()),E=parseFloat(V.U9.split(",").pop());
h.U9=h.U9.split(",")[0]+","+Math.round(r+E);n.splice(m+1,1);m--;x++}}if(x!=0){alert("Deleted "+x+" frames out of "+t+".");
for(var m=0;m<n.length;m++){var a=n[m],S=a.U9;a.U9="_a_frm"+m+","+S.split(",")[1]}}}var e=new fJ(_+".psd"),b=new a8(0,0,1,1);
if(O){l=e.Ni();l.add.lsct=bN.GV;l.iA(_);l.to="pass";l.FQ=24;l.ND(!0);e.B.push(e.y9())}for(var m=0;m<n.length;
m++){var T=n[m];b=b.uG(T.n5);var C=e.Ni();C.ND(m==0);C.iA(n.length==1?"Background":"Layer "+m);if(m==0&&T.pa)e.pa=T.pa;
if(m==0&&T.I6)e.I6=T.I6;if(T.U9)C.iA(T.U9);if(T.h0)for(var m=0;m<T.h0.length;m++){var Z=T.h0[m],W=fJ.ew(Z[0]);
W.add.vmsk.i=Z[1];Q.M.qp(Z[1],new aY(b.a,0,0,b.n,0,0));e.VE.push(W)}if(T.P9)e.P9=T.P9;C.rect=T.n5.clone();
C.buffer=new Uint8Array(T.data);if(m==0&&T.NH)e.nE(T.NH);Q.M_(C);e.B.push(C)}if(O)e.B.push(l);if(n[0].U_){for(var m=0;
m<n[0].U_.length;m++){var s=new v.Pt;e.U_.push(s);s.rect=n[0].n5.clone();s.channel=n[0].U_[m]}}e.g=[O?e.B.length-1:0];
e.a=b.a;e.n=b.n;e.buffer=Q.Q(b.O()*4);e.U();return e};dx.aiM=function(_,n,O,l,x,t,h,V){var y=new e_(H.E.s,!0);
y.G=D.kF;y.data={d:"h_stepbck"};var r={};for(var E=1;E<O.length;E++){var a=_.g.slice(0),S=dx.q5(_,V,n,O,l,E);
r["img"+E+"."+x.toLowerCase()]=new Uint8Array(dx.bt(_,x,null,null,t,h));for(var m=0;m<S;m++)V.$(y)}return UZIP.encode(r)};
dx.q5=function(_,n,O,l,x,t){var h=new e_(H.E.L,!0),r=0;h.data={d:H.t.n$};var V=new e_(H.E.s,!0);V.G=D.Ko;
V.data={d:v.P$,wL:{buffer:null,rect:null}};var y=V.data.wL;for(var E=0;E<O.length;E++){var a=O[E],S=a.trait,e=parseInt(a.docRef.slice(4,-2)),P=-1;
for(var m=0;m<_.B.length;m++)if(_.B[m].add.lyid==e)P=m;if(P==-1)continue;var b=l[0].indexOf(a.varName);
if(b==-1){alert("Column "+a.varName+" is missing");return}var T=l[t][b],C=_.B[P];_.g=[P];if(S=="textcontent"){h.data.TF="app.activeDocument.activeLayer.textItem.contents = "+JSON.stringify(T)+";";
n.$(h);r++}if(S=="visibility"&&C.Pn()+""!=T.toLowerCase()){h.data.TF="app.activeDocument.activeLayer.visible = "+T.toLowerCase()+";";
n.$(h);r++}if(S=="fileref"){var Z=T.split("/").pop(),s=null;for(var ab in x)if(ab.split("/").pop()==Z)s=x[ab];
if(s==null){alert("Image "+Z+" is missing.")}else{var f=dx.Jv(dx.N_(s.buffer)).Xd(s.buffer)[0],q=f.n5,g=C.rect.a/C.rect.n,i=q.a/q.n,u=0,I=0;
if(g>i){I=C.rect.n;u=~~(I*i)}else{u=C.rect.a;I=~~(u/i)}h.data.TF="app.activeDocument.activeLayer.visible = false;";
n.$(h);r++;var Y=D.D6.yn([new Uint8Array(f.data),q],new aY(u/q.a,0,0,I/q.n,0,0));y.rect=Y.rect;y.buffer=Y.buffer;
Y.rect.x=C.rect.x+(C.rect.a-u>>>1);Y.rect.y=C.rect.y+(C.rect.n-I>>>1);n.$(V);r++}}}return r};dx.BJ={};
dx.BJ.QI=function(_,n,O,l){if(l==null)l=[100,!1,0,0,0];var x={sRGB:1,loop:l[3]};if(_[0][5]!=null){delete x.sRGB;
x.iCCP=_[0][5]}if(_[0][2]!=null){var t=Math.round(_[0][2]*(1e4/254));x.pHYs=[t,t,1]}var h=l[0],V=h==100?0:Math.max(2,Math.floor(h*5));
if(V==5)V=4;var y=[],r=[];for(var m=0;m<_.length;m++){y.push(_[m][0]);r.push(_[m][1])}var E=UPNG.encode(y,n,O,V,r,x,l[1]);
return E};dx.BJ.awj=function(_,n,O){return UPNG.encodeLL([_],n,O,3,1,8)};dx.BJ.Xd=function(_){var n=Date.now(),O=UPNG.decode(_),l=UPNG.toRGBA8(O),x=O.width,t=O.height,h=0,V=O.tabs.iCCP;
if(O.tabs.pHYs)h=Math.round(O.tabs.pHYs[0]*254/1e4);if(l.length==1)return[{n5:new a8(0,0,x,t),data:l[0],pa:h,NH:V}];
var y=[];for(var m=0;m<l.length;m++){y.push({U9:"_a_frm"+m+","+O.frames[m].delay,n5:new a8(0,0,x,t),data:l[m],pa:h,NH:V})}return y};
dx.Ka={};dx.Ka.QI=function(_,n,O,l){var x=new Uint8Array(_[0][0]),t=n*O,h=t*3,V="P6\n"+n+" "+O+"\n255\n",y=V.length,r=Q.Q(y+h,!0);
for(var m=0;m<y;m++)r[m]=V.charCodeAt(m);for(var m=0;m<t;m++){var E=m*4,a=m*3+y;r[a]=x[E];r[a+1]=x[E+1];
r[a+2]=x[E+2]}return r.buffer};dx.Ka.Xd=function(_){_=new Uint8Array(_);var n=[" ".charCodeAt(0),"\n".charCodeAt(0),"\t".charCodeAt(0),"\r".charCodeAt(0)],O=0,l=String.fromCharCode(_[0])+String.fromCharCode(_[1]),x=[],t=0,h=l=="P1"||l=="P4"?2:3;
for(O=2;O<_.length;O++){var V=_[O],y=String.fromCharCode(V);if(V=="#".charCodeAt(0)){while(_[O]!="\n".charCodeAt(0))O++;
continue}var r=n.indexOf(V)!=-1;if(t==0&&!r){x.push(y);t=1;continue}if(t==1&&!r){x[x.length-1]+=y;continue}if(t==1&&r){t=0;
if(x.length==h)break;continue}}var E=parseInt(x[0]),a=parseInt(x[1]),S=E*a*4,e=l=="P1"||l=="P4"?1:255/parseInt(x[2]),P=Q.Q(S);
if(l=="P1"||l=="P2"||l=="P3"){var b="",T=0,t=0,C="#".charCodeAt(0);for(var m=O;m<_.length;m++){var V=_[m],y=String.fromCharCode(V),r=n.indexOf(V)!=-1;
if(V==C){while(_[m]!="\n".charCodeAt(0))m++}else if(t==0&&!r){b=y;t=1}else if(t==1){if(r){t=0;var Z=parseInt(b);
b="";if(l=="P1"){P[T]=P[T+1]=P[T+2]=(1-Z)*255;P[T+3]=255;T+=4}if(l=="P2"){P[T]=P[T+1]=P[T+2]=Math.round(Z*e);
P[T+3]=255;T+=4}if(l=="P3"){P[T]=Math.round(Z*e);T++;if((T&3)==3){P[T]=255;T++}}}else b+=y}}}var W=E*a;
if(l=="P4")for(var s=0;s<a;s++){var f=s*8*Math.ceil(E/8);for(var q=0;q<E;q++){var m=f+q,g=_[O+1+(m>>3)];
g=g>>7-(m&7)&1;var i=s*E+q<<2;P[i]=P[i+1]=P[i+2]=(1-g)*255;P[i+3]=255}}if(l=="P5")for(var m=0;m<W;m++){var i=4*m;
P[i]=P[i+1]=P[i+2]=Math.round(_[O+1+m]*e);P[i+3]=255}if(l=="P6")for(var m=0;m<W;m++){var i=4*m,u=O+1+3*m;
P[i]=Math.round(_[u]*e);P[i+1]=Math.round(_[u+1]*e);P[i+2]=Math.round(_[u+2]*e);P[i+3]=255}return[{n5:new a8(0,0,E,a),data:P.buffer}]};
dx.iX={};dx.iX.QI=function(_,n,O,l){if(l==null)l=[!0,!0];var x=new Uint8Array(_[0][0]),t=n&3,h=O&3;if(t!=0||h!=0){var V=n+(t==0?0:4-t),y=O+(h==0?0:4-h),r=new Uint8Array(V*y*4);
Q.qs(r,4278190080);Q.zw(x,new a8(0,0,n,O),r,new a8(0,0,V,y));x=r;n=V;O=y}var E=UTEX.DDS.encode(x.buffer,n,O,l);
if(!1){var a=UTEX.DDS.decode(E)[0],r=new Uint8Array(a.lf),S=0;for(var m=0;m<x.length;m++){var e=x[m]-r[m];
S+=e*e}console.log(S)}return E};dx.iX.Xd=function(_){var n=UTEX.DDS.decode(_)[0];return[{n5:new a8(0,0,n.width,n.height),data:n.image}]};
dx.ME={};dx.ME.Xd=function(_){var n=UTEX.VTF.decode(_).pop();return[{n5:new a8(0,0,n.width,n.height),data:n.image}]};
dx.n4={};dx.n4.te=null;dx.n4.abK=function(_,n){var O=dx.n4.te,l=_.byteLength,x=n.width,t=n.height,h=x*t,V=5e6+2*l+h*(n.progressive?Math.max(2,n.numComponents)*4+1:8),y=O.instance.exports;
dx.fu(y,V);var r=new Uint8Array(y.memory.buffer),E=y.malloc(l);r.set(new Uint8Array(_),E);var a=y.malloc(4),S=y.malloc(4),ab=y.malloc(4),e=y.stbi_load_from_memory(E,l,a,S,ab,4);
y.free(E);y.free(a,S,ab);y.free(e);var P=r.slice(e,e+h*4);return P};(function(){var _=dx.nG.get("wasm/jpg").buffer;
if(window.WebAssembly==null)window.alert("Your browser is too old (no WebAssembly). Please, update it.");
WebAssembly.instantiate(_).then(function(n){dx.n4.te=n})}());dx.n4.QI=function(_,n,O,l){if(l==null)l=[85];
var x=_[0],t=new Uint8Array(x[0]);if(Q.Fh(t)){var h=new Uint8Array(t.length),V=new a8(0,0,n,O);Q.qs(h,4294967295);
Q.q.Zn("norm",t,V,h,V,V,1);t=h}var y=new Uint8Array(dx.Jd(t.buffer,n,O,"jpeg",l[0]/100));if(x[5]!=null){var r=dx.n4.ir(y)[226][0]+2,E=R.Pr(y,r),a=x[5].length+16,S=a-E,e=new Uint8Array(y.length+S);
for(var m=0;m<r+E;m++)e[m]=y[m];for(var m=r+E;m<y.length;m++)e[m+S]=y[m];R.Ho(e,r,a);e.set(x[5],r+16);
y=e}if(x[2]!=null){var P=dx.n4.ir(y)[224][0]+2;P+=9;y[P]=1;R.Ho(y,P+1,x[2]);R.Ho(y,P+3,x[2])}if(x[3]!=null&&l[1]==!0&&Object.keys(x[3]).length!=0){var b=0,T=0,C=0,Z=cr.ns(x[3]),W=new Uint8Array(UTIF.encode([Z])),s="http://ns.adobe.com/xap/1.0/",r=20;
b=4+6+W.length;var f=cr.arW(x[3]),q=R.WZ(f);T=4+s.length+1+q.length;var g=cr.az2(x[3]);if(g.length!=0){var i=0,Y=0;
for(var m=0;m<g.length;m++)i+=5+g[m][1].length;var u=i+(i&1),I=Q.Q(14+4+4+4+u);R.uJ(I,Y,"Photoshop 3.0");
Y+=14;R.uJ(I,Y,"8BIM");Y+=4;I[Y++]=4;I[Y++]=4;Y+=2;R.h1(I,Y,i);Y+=4;for(var m=0;m<g.length;m++){var U=g[m],F=U[1];
I[Y++]=28;I[Y++]=2;I[Y++]=U[0];R.Ho(I,Y,F.length);Y+=2;R.uJ(I,Y,F);Y+=F.length}C=4+I.length}var N=b+T+C,o=new Uint8Array(y.length+N);
for(var m=0;m<20;m++)o[m]=y[m];for(var m=20;m<y.length;m++)o[m+N]=y[m];o[r]=255;o[r+1]=225;R.Ho(o,r+2,b-2);
R.uJ(o,r+4,"Exif");for(var m=0;m<W.length;m++)o[r+10+m]=W[m];r+=b;o[r]=255;o[r+1]=225;R.Ho(o,r+2,T-2);
R.uJ(o,r+4,s);for(var m=0;m<q.length;m++)o[r+4+s.length+1+m]=q[m];r+=T;if(C!=0){o[r]=255;o[r+1]=237;
R.Ho(o,r+2,C-2);for(var m=0;m<I.length;m++)o[r+4+m]=I[m];r+=C}y=o}return y.buffer};dx.n4.ir=function(_){var n=0,O=[],l=_.length;
while(n<l){while(_[n]!=255&&n<l)n++;while(_[n]==255)n++;if(n==l)break;var x=_[n];n++;if(O[x]==null)O[x]=[];
O[x].push(n-2);if(x==216)continue;if(x==217)break;if(224<=x&&x<=239||x==218||x==219||x==192||x==193||x==194||x==196||x==221||x==254){var t=R.Pr(_,n);
n+=t;if(x==218)while(n<l&&(_[n]!=255||(_[n+1]==0||208<=_[n+1]&&_[n+1]<=215)))n++;continue}console.log("unknown marker ",x.toString(16),n);
break}if(O[217]==null){console.log("EOI marker missing");var h=_.length-2;_[h]=255;_[h+1]=217;O[217]=[h]}return O};
dx.n4.auv=function(_){_=new Uint8Array(_);if(_[0]!=255)return _.buffer;var n=dx.n4.ir(_),O=dx.n4.Eb(_,n);
if(O.numComponents!=4)return _.buffer;var l=O.width,x=O.height,t=dx.n4.Vj(_,n,!0);return dx.n4.QI([[t[0].data]],l,x,[85])};
dx.n4.Eb=function(_,n){var O=(n[192]?n[192]:n[193]?n[193]:n[194])[0]+4,l={};l.progressive=n[194]!=null;
l.precision=_[O];O++;l.height=R.Pr(_,O);O+=2;l.width=R.Pr(_,O);O+=2;l.numComponents=_[O];O++;if(n[224]){var x=l.jfif={};
O=n[224][0]+2+2+5+2;x.densityUnits=_[O];O++;x.xDensity=R.Pr(_,O);O+=2;x.yDensity=R.Pr(_,O);O+=2}if(n[238]){var x=l.adobe={};
O=n[238][0]+2+2+6;x.version=_[O];O++;x.flags0=R.Pr(_,O);O+=2;x.flags1=R.Pr(_,O);O+=2;x.transform=_[O];
O++}return l};dx.n4.aqA=function(_,n,O){var l=n,x=R.Pr(_,l);l+=2;var t=R.c$(_,l,4);if(t=="Exif"){l+=6;
var h=_.slice(l,l+x-8),V;try{V=UTIF.decode(h.buffer,{parseMN:!1,debug:!1})}catch(hU){}if(V&&V.length!=0)O.exif=V}else if(t=="http"){var y=0;
while(_[l+y]!=0)y++;var r=R.c$(_,l,y);l+=y+1;if(r=="http://ns.adobe.com/xmp/extension/"){var E=R.c$(_,l,32);
l+=32;l+=8;var a=n+x-l;while(_[l+a-1]==0)a--;if(O.xmp_extn==null)O.xmp_extn="";try{O.xmp_extn+=R.hm(_,l,a)}catch(hU){}}else if(r=="http://ns.adobe.com/xap/1.0/"){var S=R.hm(_.slice(l,l+x-y-3));
if(S[0]=="?")S="<"+S;O.xmp=S}}else console.log(t)};dx.n4.Vj=function(_,n,O){var l=dx.n4.Eb(_,n),x=l.width,t=l.height,h=x*t,V,y=-1,s=72,f,g,i=null;
if(l.adobe)y=l.adobe.transform;if(O||x*t>15e7||y==0||y==2){var r=new PDFJS.JpegImage;r.parse(_);var E=r.getData({width:x,height:t,forceRGB:!0,isSourcePDF:O}),V=Q.Q(h*4);
for(var m=0;m<h;m++){var a=m<<2,S=a-m;V[a]=E[S];V[a+1]=E[S+1];V[a+2]=E[S+2];V[a+3]=255}}else{V=dx.n4.abK(_.buffer,l)}var e=n[225];
if(e)for(var m=0;m<e.length;m++)dx.n4.aqA(_,e[m]+2,l);var P=n[226];if(P){var b=P[0],T=R.Pr(_,b+2),C=R.c$(_,b+4,11);
if(C=="ICC_PROFILE"){var Z=R.v(_,b+18);l.icc=_.slice(b+18,b+18+Z)}}var W=n[217][0]+2;if(W!=_.length)l.suffix=_.slice(W);
var q=[x,t,1,0,0,0,1,0];if(l.jfif&&l.jfif.densityUnits!=0){s=Math.round([72,1,2.54][l.jfif.densityUnits]*l.jfif.xDensity)}else if(l.exif&&l.exif[0].t282!=null){var u=l.exif[0].t282[0];
s=u[0]/u[1]}if(l.exif){var I=l.exif;f=cr.yD(I[0]);var Y=I[0].t274;if(Y)Y=Y[0];if(Y!=null&&Y>1&&Y<20)q=Q.raw.cE(Y,x,t)}if(l.xmp){f=cr.a4_(l.xmp,f)}if(l.icc)g=l.icc;
var U=n[237],F=[],N=[];if(U){var o=new Uint8Array(65536),X=0,b=0;for(var m=0;m<U.length;m++){b=U[m]+2;
var J=b+R.Pr(_,b);b+=2;var c=b;while(_[b]!=0)b++;b++;var p=R.c$(_,c,b-c-1),d=J-b;if(d<0)break;while(X+d>o.length){var k=new Uint8Array(o.length*2);
k.set(o);o=k}var A=new Uint8Array(_.buffer,b,d);o.set(A,X);X+=d}b=0;_=o;while(b<X){var $=R.c$(_,b,4);
b+=4;var K=R.Pr(_,b);b+=2;var G=_[b++],z=R.c$(_,b,G);b+=G;if((G&1)==0)b++;var T=R.v(_,b);b+=4;var W=b+T+(T&1);
if(K==1028){while(b+4<W){var M=_[b++],hl=_[b++],j=_[b++],w=R.Pr(_,b);b+=2;if(M==28&&hl==2)F.push([j,R.c$(_,b,w)]);
b+=w}}else if(K==1032)i=jI.vz(_,b);else if((K&2e3)==2e3){var B=fu.Pd(_,b,T);N.push([z,B])}else{}b=W}if(F.length!=0)f=cr.abl(F,f)}var bB=[{n5:new a8(0,0,x,t),data:V.buffer,pa:s,I6:f,NH:g,h0:N.length==0?null:N,P9:i}],f=l.xmp_extn;
if(f){var bG=new DOMParser,eb=bG.parseFromString(f,"image/svg+xml"),eb=eb.children[0].children[0].children[0],fe=[eb.getAttribute("GImage:Data"),eb.getAttribute("GDepth:Data")];
for(var m=0;m<fe.length;m++)if(fe[m]){var gB=atob(fe[m]),hp=new Uint8Array(gB.length);R.uJ(hp,0,gB);
hp=hp.buffer;var g6=dx.N_(hp),by=dx.Jv(g6).Xd(hp);bB.push(by[0])}}if(l.suffix){var e7=l.suffix,aN=R.c$(e7,4,4),jK=R.iZ(e7,String.fromCharCode(255)+String.fromCharCode(216)+String.fromCharCode(255));
if(dx.RH(e7,[0,0,1,10,14,0,0,0])){var b=0;while(b!=e7.length){var f7=R.HZ(e7,b+2);b+=4;var hW={2272:12,2320:21,2561:13,2625:21,2721:3,2608:0}[f7];
if(hW!=null){var km=R.j0(e7,b);b+=4;var ca=R.c$(e7,b,km);b+=km;var aU=R.c$(e7,b,hW);b+=hW;if(f7==2608){var eJ=R.v(e7,b+24);
b+=eJ+24;var am=R.v(e7,b);b+=am;alert("Photopea found a "+cH.Mi(eJ)+" MP4 video inside your image.",4e3)}}else if(f7==18502){while(R.c$(e7,b,4)!="SEFT")b+=4;
b+=4}else{break;console.log(R.Nc(e7,b,128));console.log(e7.slice(b));throw f7.toString(16)}}}else if(aN=="ftyp"){alert("Photopea found a "+cH.Mi(e7.length)+" MP4 video inside your image.",4e3)}else if(R.c$(e7,0,4)=="fixe"){alert("Unknown data - "+e7.length+" B - at the end of the file",3e3);
var b=4,T=R.j0(e7,b);b+=4;var eA=R.j0(e7,b);b+=4;var dj=R.j0(e7,b);b+=4;console.log(T,eA,dj,e7.slice(b,b+84));
b+=84;var cM=R.c$(e7,b,32);b+=32;b+=8;var cM=R.c$(e7,b,32);b+=32}else if(R.c$(e7,8,13)=="FocusShot_Map"){var b2=R.v(e7,0),w=R.j0(e7,4),hp=Q.Q(h*4),cm=Q.Q(h*4);
for(var az=0;az<t;az++)for(var j_=0;j_<x;j_++){var m=az*x+j_,a=m<<2,hh=8+13+((az>>>1)*x+j_>>>1),gs=e7[hh],fI=e7[hh+(h>>>2)];
hp[a]=hp[a+1]=hp[a+2]=gs;hp[a+3]=255;cm[a]=cm[a+1]=cm[a+2]=fI;cm[a+3]=255}bB.push({n5:new a8(0,0,x,t),data:hp.buffer},{n5:new a8(0,0,x,t),data:cm.buffer})}else if(aN=="edof"){var Y=e7[8+7];
console.log(Y.toString(16));var b=8+16,c0=R.HZ(e7,b),ay=R.HZ(e7,b+2),h=c0*ay;b+=4;b+=32+16;var fC=Q.Q(h*4);
for(var m=0;m<h;m++){var a=m<<2;fC[a]=fC[a+1]=fC[a+2]=e7[b+m];fC[a+3]=255}if(Y==16){}else if(Y==19){var jQ=fC.slice(0);
Q.r.Z4(fC,jQ,c0,ay);var fw=c0;c0=ay;ay=fw;Q.r.WS(jQ,fC,c0,ay)}else throw"Unknown orientation of a depth map";
bB.push({n5:new a8(0,0,c0,ay),data:fC.buffer})}else if(jK!=-1&&!(e7[0]==255&&e7[1]==129)){try{if(jK!=0)e7=e7.slice(jK);
var by=dx.Jv("jpg").Xd(e7.buffer);for(var m=0;m<by.length;m++)bB.push(by[m])}catch(hU){}}else if(R.c$(e7,0,4)=="PMPD"){var b=4,aG=R.j0(e7,12),a_=R.j0(e7,16),c0=R.j0(e7,1060),ay=R.j0(e7,1064),el=c0>ay,dD=bB[0].n5.a>bB[0].n5.n,ip=e7.slice(e7.length-c0*ay-4),jn=Q.Q(c0*ay);
for(var az=0;az<ay;az++)for(var j_=0;j_<c0;j_++)jn[az*c0+j_]=ip[(ay-az-1)*c0+j_];var af=Q.Q(c0*ay*4);
af.fill(255);Q.X$(jn,af);if(el!=dD){var jQ=af.slice(0);Q.r.Z4(af,jQ,c0,ay);var fw=c0;c0=ay;ay=fw;Q.r.WS(jQ,af,c0,ay)}bB.push({n5:new a8(0,0,c0,ay),data:af.buffer})}else console.log(R.c$(e7,0,4),e7)}if(bB.length>1){var iU=bB[0].n5,gn=!1,fY=!0;
bB[0].U9="Main";var hV=[!1];for(var m=1;m<bB.length;m++){hV[m]=dx.n4.ajs(new Uint8Array(bB[m].data));
if(hV[m])gn=!0;if(!bB[m].n5.yO(bB[0].n5))fY=!1}if(!gn&&!fY)bB=bB.slice(0,1);else for(var m=1;m<bB.length;
m++){bB[m].U9=hV[m]?"Depth Map":null;var e1=bB[m].n5;if(!e1.yO(iU)){var d6=iU.a/e1.a,fO=iU.n/e1.n,i$=new aY;
i$.scale(d6,fO);var gy=D.D6.ed([new Uint8Array(bB[m].data),e1],1,Q.r.Ct(i$));bB[m].n5=gy.rect;bB[m].data=gy.buffer}}}if(dx.n4.vd==1)if(q[2]!=1||q[6]!=1)for(var m=0;
m<bB.length;m++){var fT=bB[m],kl=new Uint8Array(fT.data),x=fT.n5.a,t=fT.n5.n,c0=q[0],ay=q[1],V=Q.Q(c0*ay*4);
Q.r.Ia(kl,x,t,V,q);fT.n5=new a8(0,0,c0,ay);fT.data=V.buffer}return bB};dx.n4.ajs=function(_){var n=!0;
for(var m=0;m<_.length;m+=4){n=n&&_[m]==_[m+1]&&_[m+1]==_[m+2]}return n};dx.n4.vd=0;dx.n4.Xd=function(_,n,O){_=new Uint8Array(_);
if(_[0]==255){var l=dx.n4.ir(_);if(l[195]==null){dx.n4.vd++;var x=dx.n4.Vj(_,l,!1);dx.n4.vd--;return x}var t=R.Pr(_,l[195][0]+5),h=R.Pr(_,l[195][0]+7),V=UTIF.LosslessJpegDecode(_),y=h*t,r=Q.Q(y*4);
for(var m=0;m<y;m++){var E=m<<2,a=E-m;r[E]=V[a];r[E+1]=V[a+1];r[E+2]=V[a+2];r[E+3]=255}return[{n5:new a8(0,0,h,t),data:r.buffer}]}else if(_[0]==0&&_[4]==48&&_[6]==1){var S=_,e=new PDFJS.Jbig2Image,P=[];
if(n)P.push({data:n,start:0,end:n.length});P.push({data:S,start:0,end:S.length});var V=e.parseChunks(P);
if(!O)for(var m=0;m<V.length;m++)V[m]=~V[m];var h=R.v(_,11),t=R.v(_,15),b=Math.ceil(h/8),T=Q.Q(h*t*4);
for(var C=0;C<t;C++){var Z=C*b;for(var W=0;W<h;W++){var E=(C*h+W)*4,s=V[Z+(W>>>3)]>>>7-(W&7)&1,f=s*255;
T[E]=f;T[E+1]=f;T[E+2]=f;T[E+3]=255}}return[{n5:new a8(0,0,h,t),data:T.buffer}]}else{var e=new PDFJS.JpxImage;
e.parse(_);var h=e.width,t=e.height,q=e.tiles,g=e.componentsCount,i=new Uint8Array(h*t*4),u=new a8(0,0,h,t);
for(var e=0;e<q.length;e++){var I=q[e],Y=I.width,U=I.height,F=Y*U,N=I.items,o=new a8(I.left,I.top,Y,U),X=new Uint8Array(F*4);
if(g==1)for(var m=0;m<F;m++){var J=N[m],E=m*4;X[E]=J;X[E+1]=J;X[E+2]=J;X[E+3]=255}else if(g==3)for(var m=0;
m<F;m++){var a=m*3,E=m*4;X[E]=N[a];X[E+1]=N[a+1];X[E+2]=N[a+2];X[E+3]=255}else console.log("Unknown number of components: "+g);
Q.zw(X,o,i,u)}return[{n5:u,data:i.buffer}]}};dx.BF={};dx.BF.QI=function(_,n,O,l){if(l==null)l=[70,0,0,0];
var x=l[0]/100,y=0;if(_.length==1)return dx.Jd(_[0][0],n,O,"webp",x);var t=R.eB,h=R.wp,V=new bc;t(V,y,"RIFF    WEBPVP8X");
y+=16;h(V,y,10);y+=4;h(V,y,18);y+=4;h(V,y,n-1);y+=3;h(V,y,O-1);y+=3;t(V,y,"ANIM");y+=4;h(V,y,6);y+=4;
V.hp(y,4);V.data[y+3]=255;R.jw(V,y+4,l[2]);y+=6;var r=[];for(var m=0;m<_.length;m++){r.push(_[m][0])}var E=UPNG.encode.compress(r,n,O,x==1?0:Math.max(2,Math.floor(x*500)),[!1,!0,!0,0,!0]).frames;
function a(i,u,I,Y){var W=i.R-8,s=i.size+8;I.hp(Y,s);for(var m=0;m<s;m++)I.data[Y+m]=u[W+m];return Y+s}for(var m=0;
m<_.length;m++){t(V,y,"ANMF");y+=4;var S=y,W=0,s=0;y+=4;var e=E[m],P=e.rect,b=[P.x>>>1,P.y>>>1,P.width-1,P.height-1,_[m][1]];
for(var T=0;T<5;T++)h(V,y+3*T,b[T]);y+=15;V.hp(y,1);V.data[y]=1-e.blend<<1|e.dispose;y++;var C=new Uint8Array(dx.Jd(e.img.buffer,P.width,P.height,"webp",1)),Z=cU.GQ(C.buffer).sub,f={};
for(var q=0;q<Z.length;q++)f[Z[q].Et]=Z[q];if(f.VP8L)y=a(f.VP8L,C,V,y);else throw"e";var g=y-S-4;h(V,S,g);
if((g&1)==1){V.hp(y,1);y++}}h(V,4,y-8);return V.data.slice(0,y).buffer};(function(){var _=dx.nG.get("wasm/webp").buffer;
WebAssembly.instantiate(_).then(function(n){var O=n.instance.exports;dx.BF.exp=O})}());dx.BF.Xd=function(_){var n=new Uint8Array(_),O=dx.BF.aq9,l=null,x=cU.GQ(_).sub,t={};
for(var m=0;m<x.length;m++)t[x[m].Et]=x[m];var h=t.ANIM,V=t.VP8L,y=t["VP8 "],r=t.VP8X;if(h==null){var E,a;
if(y){E=R.HZ(n,y.R+6);a=R.HZ(n,y.R+8)}else if(V){var S=R.j0(n,V.R+1);E=(S&(1<<14)-1)+1;a=(S>>>14&(1<<14)-1)+1}else throw"e";
var e=[O(l,_,{R:0,size:n.length},E,a)];return e}var P=r.R,E=1+(R.j0(n,P+4)&16777215),a=1+(R.j0(n,P+7)&16777215),b=[],T=new a8(0,0,E,a),C=Q.Q(E*a*4);
for(var m=0;m<x.length;m++){var Z=x[m];if(Z.Et!="ANMF")continue;var W=[];for(var s=0;s<5;s++)W.push(R.j0(n,Z.R+s*3)&16777215);
var f=new a8(W[0]*2,W[1]*2,W[2]+1,W[3]+1),q=W[4],g=O(l,_,{R:Z.R+16,size:Z.size-16},E,a),i=new Uint8Array(g.data),u=n[Z.R+15];
if(u>>>1==0)Q.q.Zn("norm",i,f,C,T,f,1);else Q.zw(i,f,C,T);b.push({U9:"_a_"+b.length+","+q,n5:T.clone(),data:C.buffer.slice(0)});
if((u&1)==1){Q.qs(i,0);Q.zw(i,f,C,T)}}return b};dx.BF.aq9=function(_,n,O,l,x){var t=dx.BF.exp,h=t.memory,V=5e6+2*O.size+l*x*10;
dx.fu(t,V);var y=new Uint8Array(h.buffer),r=t.malloc(O.size);y.set(new Uint8Array(n,O.R,O.size),r);var E=t.malloc(8),a=t.WebPDecodeARGB(r,O.size,E,E+4),S=R.j0(y,E),e=R.j0(y,E+4),P=S*e*4,b=Q.Q(P);
for(var m=0;m<P;m+=4){b[m]=y[a+m+1];b[m+1]=y[a+m+2];b[m+2]=y[a+m+3];b[m+3]=y[a+m]}t.WebPFree(a);t.free(E);
t.free(r);return{n5:new a8(0,0,S,e),data:b.buffer}};dx.a4T=function(){function _(V,y,r,E){var a=new Uint8Array(V[0][0]),S=new Uint32Array(a.buffer),e=[],P={},T=24,C=0,q=0;
for(var m=0;m<S.length;m++){var b=S[m]&16777215;if(P[b]==null){P[b]=e.length;e.push(b);if(e.length>256){e=null;
break}}}if(e){T=1;while(1<<T<e.length)T*=2;if(T==2)T=4}var Z={Qc:y,bE:r,MD:1,dy:T,xU:0,aas:C},W=4*Math.floor((Z.dy*Z.Qc+31)/32);
Z.size=W*Z.bE+2;var s=new bc,f=e?(1<<T)*4:0;R.eB(s,q,"BM");q+=2;R.wp(s,q,W*r+16+40+f);q+=4;R.wp(s,q,0);
q+=4;R.wp(s,q,54+f);q+=4;s.hp(q,40);R.wp(s,q,40);q+=4;h(s.data,q,Z,W);q+=36;if(e){s.hp(q,f);var g=s.data;
for(var m=0;m<e.length;m++){var i=q+m*4,u=e[m]>>>16,I=e[m]>>>8&255,Y=e[m]&255;g[i]=u;g[i+1]=I;g[i+2]=Y}q+=f}s.hp(q,W*r);
if(T==24)for(var U=0;U<r;U++){var F=q+(r-1-U)*W;for(var N=0;N<y;N++){var o=(U*y+N)*4;s.data[F+N*3+2]=a[o];
s.data[F+N*3+1]=a[o+1];s.data[F+N*3+0]=a[o+2]}}else if(T==8)for(var U=0;U<r;U++){var F=q+(r-1-U)*W;for(var N=0;
N<y;N++){var o=U*y+N,X=P[S[o]&16777215];s.data[F+N]|=X}}else if(T==4)for(var U=0;U<r;U++){var F=q+(r-1-U)*W;
for(var N=0;N<y;N++){var o=U*y+N,X=P[S[o]&16777215];s.data[F+(N>>>1)]|=X<<4-(N&1)*4}}else if(T==1)for(var U=0;
U<r;U++){var F=q+(r-1-U)*W;for(var N=0;N<y;N++){var o=U*y+N,X=P[S[o]&16777215];s.data[F+(N>>>3)]|=X<<7-(N&7)}}q+=W*r+2;
return s.data.slice(0,q).buffer}function n(V){V=new Uint8Array(V);if(R.j0(V,0)==40)return[O(V.buffer,0)];
var y=0,r=R.c$(V,y,2);y+=2;if(r!="BM"){alert("Unsupported BMP format: "+r);return}var E=R.j0(V,y);y+=4;
y+=4;var a=R.j0(V,y);y+=4;return[O(V.buffer,y,a)]}function O(V,y,r){V=new Uint8Array(V);var E=R.j0(V,y),a=t(V,y+4);
if(a.MD!=1)alert("unsupported number of color planes: "+a.MD);if(a.xU!=0&&a.xU!=1&&a.xU!=2&&a.xU!=3){alert("Unsupported BMP compression: "+a.xU);
return}y+=E;var S=y,e=V;if(r==null)r=y;if(a.xU==1||a.xU==2){var P=x(V,r,a);a.dy=8;V=P;r=0}var b=4*Math.floor((a.dy*a.Qc+31)/32),T=a.Qc,C=Math.abs(a.bE),Z=new Uint8Array(T*C*4);
Z.fill(255);if(a.dy==32)for(var W=0;W<C;W++){var s=r+(C-1-W)*b;for(var f=0;f<T;f++){var q=(W*T+f)*4;
Z[q]=V[s+f*4+2];Z[q+1]=V[s+f*4+1];Z[q+2]=V[s+f*4+0];Z[q+3]=V[s+f*4+3]}}else if(a.dy==24)for(var W=0;
W<C;W++){var s=r+(C-1-W)*b;for(var f=0;f<T;f++){var q=(W*T+f)*4;Z[q]=V[s+f*3+2];Z[q+1]=V[s+f*3+1];Z[q+2]=V[s+f*3+0]}}else if(a.dy==16)for(var W=0;
W<C;W++){var s=r+(C-1-W)*b;for(var f=0;f<T;f++){var q=(W*T+f)*4,g=V[s+f*2+1]<<8|V[s+f*2];Z[q]=(g>>>11)*(255/31);
Z[q+1]=(g>>>5&63)*(255/63);Z[q+2]=(g&31)*(255/31)}}else if(a.dy==8)for(var W=0;W<C;W++){var s=r+(C-1-W)*b;
for(var f=0;f<T;f++){var q=(W*T+f)*4,i=V[s+f];Z[q]=e[S+4*i+2];Z[q+1]=e[S+4*i+1];Z[q+2]=e[S+4*i+0]}}else if(a.dy==4)for(var W=0;
W<C;W++){var s=r+(C-1-W)*b;for(var f=0;f<T;f++){var q=(W*T+f)*4,i=V[s+(f>>1)];i=i>>4-4*(f&1);i=i&15;
Z[q]=e[S+4*i+2];Z[q+1]=e[S+4*i+1];Z[q+2]=e[S+4*i+0]}}else if(a.dy==1)for(var W=0;W<C;W++){var s=r+(C-1-W)*b;
for(var f=0;f<T;f++){var q=(W*T+f)*4,u=V[s+(f>>3)];u=u>>7-(f&7);u=u&1;Z[q]=e[S+4*u+2];Z[q+1]=e[S+4*u+1];
Z[q+2]=e[S+4*u+0]}}else throw"Unknown bit depth "+a.dy;if(a.bE<0){var I=new Uint32Array(Z.buffer),Y=C>>>1;
for(var W=0;W<Y;W++){var U=W*T,F=(C-W-1)*T;for(var f=0;f<T;f++){var N=I[U+f];I[U+f]=I[F+f];I[F+f]=N}}}return{n5:new a8(0,0,T,C),data:Z.buffer}}function l(V,m){return V>>>4-((m&1)<<2)&15}function x(V,y,r){var E=r.Qc,a=Math.abs(r.bE),S=new Uint8Array(E*a),e=0,P=0,m=0;
while(P<a){var b=V[y++],T=V[y++],C=P*E+e;if(b>0){if(r.dy==4)for(m=0;m<b;m++){S[C+m]=l(T,m)}else for(m=0;
m<b;m++){S[C+m]=T}e+=b}else if(b==0&&T==0){P++;e=0}else if(b==0&&T==1){break}else if(b==0&&T==2){e+=V[y++];
P+=V[y++]}else{var Z=T;if(r.dy==4){for(m=0;m<T;m++){S[C+m]=l(V[y+(m>>>1)],m)}Z=Math.ceil(T/2)}else{for(m=0;
m<T;m++){S[C+m]=V[y+m]}}if((Z&1)!=0)Z++;y+=Z;e+=T}}return S}function t(V,y){var r=R.OI,E=R.j0,a=R.HZ,S={};
S.Qc=r(V,y);y+=4;S.bE=r(V,y);y+=4;S.MD=a(V,y);y+=2;S.dy=a(V,y);y+=2;S.xU=E(V,y);y+=4;S.size=E(V,y);y+=4;
var e=r(V,y);y+=4;var P=r(V,y);y+=4;S.aas=E(V,y);y+=4;y+=4;return S}function h(V,y,r,E){R.Hj(V,y,r.Qc);
y+=4;R.Hj(V,y,r.bE);y+=4;R.eh(V,y,r.MD);y+=2;R.eh(V,y,r.dy);y+=2;R.Hj(V,y,r.xU);y+=4;R.Hj(V,y,r.size);
y+=4;R.Hj(V,y,2834);y+=4;R.Hj(V,y,2834);y+=4;R.Hj(V,y,r.aas);y+=4;y+=4}return{Xd:n,QI:_,awx:O}}();dx.Ae={};
dx.Ae.QI=function(_,n,O,l){if(l==null)l=[100,!1,0,0,0,0];var x=[],t=[],h=n*O*4,b=null;for(var V=0;V<_.length;
V++){var y=new Uint8Array(_[V][0].slice(0));for(var m=0;m<h;m+=4){var r=y[m+3]=y[m+3]>127?255:0;if(r==0)y[m]=y[m+1]=y[m+2]=0}x.push(y.buffer);
t.push(_[V][1])}var E=Math.round(2+254*l[0]/100),a=UPNG.encode.compress(x,n,O,E,[!0,!1,!1,8,!1,l[1]]),S=a.plte,e=new Uint8Array(4),P=new Uint32Array(e.buffer);
for(var m=0;m<S.length;m++){P[0]=S[m];var T=e[0];e[0]=e[2];e[2]=T;S[m]=P[0];if(P[0]==0)b=m}while(S.length<256)S.push(0);
var C=new Uint8Array(1e4+n*O*_.length),Z=l[3],W={palette:S};if(Z!=1)W.loop=Z==0?0:Z-1;var s=new GifWriter(C,n,O,W);
for(var m=0;m<_.length;m++){var f=a.frames[m],q=f.rect,g=f.blend,i=f.dispose,u=Math.round(t[m]/10);if(u<2)u=2;
s.addFrame(q.x,q.y,q.width,q.height,f.img,{transparent:b,disposal:i+1,delay:u})}return C.slice(0,s.end()).buffer};
dx.Ae.Xd=function(_){var n=Date.now(),O=[],l=UGIF.decode(_),x=UGIF.toRGBA8(l),t=new a8(0,0,l.width,l.height);
for(var m=0;m<x.length;m++){var h=l.frames[m];O.push({n5:t.clone(),U9:"_a_frm"+m+","+h.delay*10,data:x[m]})}return O};
dx.lw={};dx.lw.QI=function(_,n,O,l){console.log(_);if(n>256||O>256){alert("Maximum ICO size is 256x256 px. Will be cropped.",4e3);
var x=Math.min(n,256),t=Math.min(O,256),h=new a8(0,0,x,t),V=Q.Q(h.O()*4),y=new a8(0,0,n,O),r=new Uint8Array(_[0][0]);
Q.zw(r,y,V,h);_[0][0]=V.buffer;n=x;O=t}var E=new bc,a=0,S=l&&l[0]==!0;R.jw(E,a,0);a+=2;R.jw(E,a,S?2:1);
a+=2;R.jw(E,a,1);a+=2;var e=new Uint8Array(dx.Jv("png").QI(_,n,O));E.hp(a,16);E.data[a]=n==256?0:n;a++;
E.data[a]=O==256?0:O;a++;a+=2;R.jw(E,a,S?Math.round(n/2):1);a+=2;R.jw(E,a,S?Math.round(O/2):32);a+=2;
R.wp(E,a,e.length);a+=4;R.wp(E,a,6+16);a+=4;E.hp(a,e.length);for(var m=0;m<e.length;m++)E.data[a+m]=e[m];
a+=e.length;var P=new Uint8Array(a);for(var m=0;m<a;m++)P[m]=E.data[m];return P.buffer};dx.lw.Xd=function(_){_=new Uint8Array(_);
var n=4,O=R.HZ(_,n);n+=2;var l=[];for(var m=0;m<O;m++){var x=dx.lw.ahM(_,n+m*16),t=_.buffer.slice(x.offset,x.offset+x.size),h=dx.N_(t);
h=h?h:"bmp";if(h=="png"){var V=dx.Jv(h),y=V.Xd(t);x.RS=y[0]}else{var r=dx.Jv("BMP").awx(t,0),t=Q.Q(x.Qc*x.bE*4);
Q.zw(new Uint8Array(r.data),new a8(0,0,r.n5.a,r.n5.n),t,new a8(0,x.bE,x.Qc,x.bE));r.data=t.buffer;r.n5.n=x.bE;
x.RS=r}l.push(x)}l.sort(function(E,a){if(E.Qc!=a.Qc)return E.Qc-a.Qc;return E.atp-a.atp});return[l.pop().RS]};
dx.lw.ahM=function(_,n){var O={};O.Qc=_[n];n++;if(O.Qc==0)O.Qc=256;O.bE=_[n];n++;if(O.bE==0)O.bE=256;
O.am5=_[n];n++;n++;O.a1N=R.HZ(_,n);n+=2;O.atp=R.HZ(_,n);n+=2;O.size=R.j0(_,n);n+=4;O.offset=R.j0(_,n);
n+=4;return O};dx.qg={};dx.qg.Xd=function(_){var n=Date.now(),l,q=!0;if(Q.raw.Uc(_.byteLength))return[Q.raw.apL(_)];
var O=UTIF.decode(_);if(O[0].t33421)l=O[0];else if(O[0].subIFD&&O[0].t271&&O[0].t271[0]=="Hasselblad"){l=O[0].subIFD[0];
l.t33421=[2,2]}else if(O[0].subIFD&&O[0].subIFD[0].t33421){l=O[0].subIFD[0];if(l.t50706==null){if(l.t258[0]==8)l.t258[0]=12}}else if(O[0].subIFD&&O[0].subIFD[0]&&O[0].subIFD[0].t262&&O[0].subIFD[0].t262[0]==34892)l=O[0].subIFD[0];
else if(O[0].subIFD&&O[0].subIFD[1]&&O[0].subIFD[1].t33421)l=O[0].subIFD[1];else if(O[0].subIFD&&O[0].subIFD[2]&&O[0].subIFD[2].t33421)l=O[0].subIFD[2];
else if(O[3]&&O[3].t50648){var x=O[0].exifIFD,t=x.makerNote;l=O[3];var h=t.t224[1],V=t.t224[2];l.t256=[h];
l.t257=[V];l.t258=[16];l.t259=[7];l.t262=[32803];l.t277=[1];l.t33421=[2,2];var y=l.t50656[0],r=Q.raw.fp[y];
if(r==null)throw"e";l.t33422=r}else if(O[0].t1&&O[0].t1.length==4){var E=O[0],a={2:256,3:257,8:277,11:259,271:271,272:272,279:279,280:273,278:278};
l={};for(var S in a)if(E["t"+S])l["t"+a[S]]=E["t"+S];l.t2=E.t2;l.t3=E.t3;l.t10=E.t10;l.t45=E.t45;l.t258=[16];
l.t33421=[2,2];var e=E.t9[0];l.t33422=[[0,1,1,2],[1,0,2,1],[1,2,0,1],[2,1,1,0]][e-1];var P=E.t4[0],b=E.t5[0],T=E.t6[0],C=E.t7[0];
l.t50829=[P,b,T,C];var Z=E.t36[0],W=E.t37[0],s=E.t38[0];l.t50728=[W/Z,W/W,W/s]}if(l){UTIF.decodeImage(_,l,O);
for(var f in O[0])if((f[0]=="t"||f[0]=="e"||f[0]=="d")&&l[f]==null)l[f]=O[0][f];l.fX=O[0].t274?O[0].t274[0]:1;
return[l]}var g=1/256;for(var m=0;m<O.length;m++)if(O[m].t258&&O[m].t258[0]==16&&O[m].t277&&O[m].t277[0]==1){}else q=!1;
if(q){var i=0,u=0,I=0;for(var m=0;m<O.length;m++){UTIF.decodeImage(_,O[m],O);var Y=O[m].data;for(var U=0;
U<Y.length;U+=2){var F=Y[U+1]<<8|Y[U];if(F>i)i=F;u+=F;I++}}g=1/256*65535/(.5*i+.5*(2*u/I))}var N=[];
for(var m=0;m<O.length;m++){var o=O[m],X=72;UTIF.decodeImage(_,o,O);var J=o.t282,c=o.t296;if(J!=null&&c!=null){X=J[0][0]/J[0][1];
if(c[0]==3)X=Math.round(X/2.54)}if(o.width==null)continue;var p=UTIF.toRGBA8(o,g).buffer,d=cr.yD(o);
console.log(o);N.push({n5:new a8(0,0,o.width,o.height),data:p,pa:X,I6:d,NH:o.t34675?o.t34675.slice(0):null})}return N};
dx.qg.QI=function(_,n,O,l){if(l==null)l=[!1];var x={},t=_[0];if(t[3]!=null&&l[0])x=cr.ns(t[3]);if(t[2]!=null){x.t282=x.t283=[[Math.round(t[2]),1]];
x.t296=[2]}return UTIF.encodeImage(t[0],n,O,x)};dx.fk={};dx.fk.Yj=!0;dx.fk.Xd=function(_,n){jI.GQ(_,n)};
dx.fk.ayO=function(_,n,O,l){if(l==null)l=[!1,!1,!1,!1];if(!l[0])_.Cs();var x=new bc,t=jI.uF(_,x,l);return[x.data.buffer,t]};
dx.fk.QI=function(_,n,O,l){var x=dx.fk.ayO(_,n,O,l),t=x[0],h=x[1];return t.byteLength==h?t:t.slice(0,h)};
dx.ag={};dx.ag.Yj=!0;dx.ag.Xd=function(_,n){var O=pako.inflate(new Uint8Array(_)),l=R.Pr(O,0),x=R.Pr(O,2),t=4;
n.a=R.v(O,t);t+=4;n.n=R.v(O,t);t+=4;n.buffer=Q.Q(n.a*n.n*4);var h=R.Pr(O,t);t+=2;t+=4;for(var V=0;V<h;
V++){var y=n.Ni(),P=0,X=1,J=2,c=3,p=0;n.B.push(y);var r=R.v(O,t);t+=4;var E=t,a=R.Pr(O,E);E+=2;var S=R.hm(O,E,a);
E+=a;y.iA(S);var e=O[E];E++;if(e!=0&&e!=1)throw e;y.rect.x=R.aH(O,E);E+=4;y.rect.y=R.aH(O,E);E+=4;y.rect.a=R.v(O,E);
E+=4;y.rect.n=R.v(O,E);E+=4;if(l>3){P=R.aH(O,E);E+=4}y.opacity=Math.round(255*O[E]/100);E++;var b=O[E];
E++;y.ND(b!=0);y.to="norm,lddg,norm,dark,diff,norm,hLit,norm,norm,lite,mul ,over,scrn,fsub".split(",")[O[E]];
E++;var T=O[E];E++;if(T)y.add.lspf=1<<31;if(l>3){var C=R.Pr(O,E);E+=2;if(C!=0){var Z=JSON.parse(R.hm(O,E,C));
E+=C;var W=Z.text,s=Z.textSettings,f=s.font,q=s.size,g=s.padding,i=parseInt(s.color.slice(1),16);y.add.lnsr="rend";
y.add.TySh=b$.Jw(0,0);y.add.TySh.T1=new a8(0,0,100,100);var u=y.add.TySh.D=new aY,I=y.rect.a/2,Y=y.rect.n/2;
u.translate(-I,-Y);u.rotate(-P*Math.PI/180);u.translate(I,Y);u.translate(y.rect.x+g,y.rect.y+g);var U=y.add.TySh.m1;
b$.EQ(U,1);b$.IU(U,[0,0,y.rect.a-g*2,y.rect.n]);b$.qS(U,0,W);var F=b$.QN(U,0,1);F.oM.FontSize=q;F.oM.FillColor={Type:1,Values:[1,(i>>>16&255)/255,(i>>>8&255)/255,(i>>>0&255)/255]};
if(s.bold)f+="-Bold";b$.Wu(F,f);F.G1.Justification=["left","right","center"].indexOf(s.align);b$.gD(U,0,W.length,F)}}var N=R.v(O,E);
E+=4;if(N!=y.rect.O()*4){for(var m=y.rect.a;m>y.rect.a/2;m--){var o=N/(m*4);if(o==Math.round(o)){y.rect.a=m;
y.rect.n=o;break}}}y.buffer=Q.Q(y.rect.O()*4);if(l>3){X=0;J=1;c=2;p=3}for(var m=0;m<N;m+=4){y.buffer[m]=O[E+m+X];
y.buffer[m+1]=O[E+m+J];y.buffer[m+2]=O[E+m+c];y.buffer[m+3]=O[E+m+p]}E+=N;var d=R.v(O,E);E+=4;if(d==0&&l>3){t+=r;
continue}var k=O[E];E++;var A=R.Pr(O,E);E+=2;if(d!=0){y.z=new v.Pt;y.z.rect=y.rect.clone();y.z.channel=Q.Q(y.rect.O());
for(var m=0;m<d;m+=4)y.z.channel[m>>>2]=O[E+m+1];E+=d}if(k!=0){var $=JSON.parse(aF.default);y.add.lmfx=$;
for(var m=0;m<aF.order.length;m++)$[aF.Ck[m]]={t:"VlLs",v:[]};var K={"102":9,"101":2,"103":0,"104":3,"105":8};
for(var m=0;m<k;m++){var G=R.Pr(O,E),z=E+G+4,M=O.slice(E,z),hl=O[E+2];E+=3;var j=K[hl+""],w=JSON.parse(aF._v[j]);
$[aF.Ck[j]].v.push({t:"Objc",v:w});if(j!=0){w.Md.v.BlnM=b3.Aa("norm");w.Opct.v.val=O[E];E++;if(j==9||j==2){w.Dstn.v.val=O[E+1];
E+=2}else E+=2;w.blur.v.val=Math.round(O[E]*1.2);E++;if(j==9||j==2){w.uglg.v=!1;w.lagl.v.val=180-R.Pr(O,E);
E+=2}w.Clr.v=Q.N.YS({o:O[E+1],J:O[E+2],k:O[E+3]})}else{w.hglM.v.BlnM=w.sdwM.v.BlnM=b3.Aa("norm");E+=2;
var B=O[E++],bB=O[E++];w.blur.v.val=Math.round(Math.sqrt(bB*B)*1.3);w.srgR.v.val=Math.round(100*B/bB);
w.uglg.v=!1;w.lagl.v.val=180-R.Pr(O,E);E+=2;w.hglO.v.val=O[E++];w.hglC.v=Q.N.YS({o:O[E+1],J:O[E+2],k:O[E+3]});
E+=4;w.sdwO.v.val=O[E++];w.sdwC.v=Q.N.YS({o:O[E+1],J:O[E+2],k:O[E+3]});E+=4}E=z}}if(E-t<r){var bG=R.v(O,E),gB=0;
E+=4;E++;var a=R.Pr(O,E);E+=2;var W=R.hm(O,E,a);E+=a;W=W.replace(/\r/g,"\n");var a=R.Pr(O,E);E+=2;var f=R.hm(O,E,a);
E+=a;var q=R.Pr(O,E);E+=2;var eb=y.rect.x,fe=y.rect.a;if(bG&4)gB=1;if(bG&2)gB=2;var hp=Math.round(q*.4);
if(gB==0||gB==2)fe+=hp;if(gB==1||gB==2){fe+=hp;eb-=hp}y.add.lnsr="rend";y.add.TySh=b$.Jw(0,0);y.add.TySh.T1=new a8(0,0,100,100);
y.add.TySh.D=new aY(1,0,0,1,eb,y.rect.y+q*.25);var U=y.add.TySh.m1;b$.EQ(U,1);b$.IU(U,[0,0,fe,y.rect.n]);
b$.qS(U,0,W);var F=b$.QN(U,0,1);F.oM.FontSize=q;F.oM.FillColor={Type:1,Values:[1,O[E+1]/255,O[E+2]/255,O[E+3]/255]};
E+=4;if(O[E+5])f+="-Bold";if(O[E+6])f+="-Italic";b$.Wu(F,f);F.G1.Justification=gB;E+=8;b$.gD(U,0,W.length,F)}t+=r}};
dx.hj={};dx.hj.Yj=!0;dx.hj.Xd=function(_,n){bu.GQ(_,n)};var bu=function(){function _(a,S){var e=Date.now(),P=UZIP.parse(a);
console.log(P);console.log(Date.now()-e);e=Date.now();var b=P["maindoc.xml"],T=new DOMParser,C=T.parseFromString(R.hm(b),"image/svg+xml").children[0].children[0],Z=C.getAttribute("name"),W=S.a=r(C,"width"),s=S.n=r(C,"height");
S.pa=Math.round(r(C,"x-res"));var f=C.children[0].children;n(f,S,{Ar:Z,Gg:P,l1:null});console.log(Date.now()-e);
e=Date.now()}function n(a,S,e){for(var P=0;P<a.length;P++){var b=a[a.length-1-P],T=b.getAttribute("nodetype");
if(T=="transparencymask"){e.l1.z=E(b,e);continue}var C=b.getAttribute("compositeop"),Z=b.getAttribute("filename"),W=b.getAttribute("channelflags"),s=b.children;
s=s.length==0?null:s[0].children;var f=S.Ni();if(T=="paintlayer"){var q=r(b,"x"),g=r(b,"y"),i=e.Gg[e.Ar+"/layers/"+Z+".defaultpixel"],u=e.Gg[e.Ar+"/layers/"+Z],I=y(u);
f.rect=I[0];f.rect.offset(q,g);f.buffer=I[1];if(f.rect.wk()&&i.join()!="0,0,0,0"){f.add.SoCo={classID:"null",Clr:{t:"Objc",v:Q.N.YS({o:i[0],J:i[1],k:i[2]})}};
f.bf(S)}}else if(T=="grouplayer"){f.add.lsct=bN.GV;f.to="pass";f.FQ|=24;S.B.push(S.y9());var Y=e.l1;
e.l1=f;n(s,S,e);e.l1=Y}else if(T=="shapelayer"){var u=e.Gg[e.Ar+"/layers/"+Z+".shapelayer/content.svg"],U=R.hm(u),F=S.zk(u,f.getName(),0,0);
f=F;var N=new a8(0,0,S.a,S.n),o=Q.p.ta(N).C;f.add.SoLd.Trnf=D.D6.X6(o);f.add.SoLd.nonAffineTransform=D.D6.X6(o);
f.Ga(S,!1)}else if(T=="clonelayer"){var m=-1;for(var X=0;X<a.length;X++)if(a[X].getAttribute("name")==b.getAttribute("clonefrom"))m=X;
if(m!=-1){n([a[m]],S,e);f=S.B.pop()}}else console.log(T,b);f.iA(b.getAttribute("name"));if(r(b,"locked")==1)f.add.lspf=1<<31;
f.ND(r(b,"visible")==1);var J={normal:"norm",multiply:"mul ",diff:"diff",hard_light:"hLit"}[C];if(J)f.to=J;
else console.log(C);f.opacity=r(b,"opacity");if(W=="1110")f._t=!0;var c=s?s[0]:null;if(c&&c.tagName=="mask")f.z=E(c,e);
S.B.push(f)}}function O(a,S){var e=0,P=0,b=a.length,T,C,Z;while(e<b){T=a[e++];if(T>31){C=T>>>5;if(C==7)C=7+a[e++];
Z=(T&31)<<8|a[e++];var W=P-Z-1,s=C>>>1;S[P++]=S[W++];S[P++]=S[W++];for(var m=0;m<s;m++){S[P++]=S[W++];
S[P++]=S[W++]}if((C&1)==1)S[P++]=S[W++]}else{for(var m=0;m<=T;m++){S[P++]=a[e++]}}}}function l(a,S){var e=0;
while(a[S+e]!=10)e++;return R.c$(a,S,e)}var x=new a8(0,0,64,64),t=new Uint8Array(64*64*4),h=new Uint8Array(64*64*4);
function V(){for(var m=0;m<4096;m++){var a=m<<2;t[a+0]=h[m+8192];t[a+1]=h[m+4096];t[a+2]=h[m];t[a+3]=h[m+12288]}}function y(a){var S=0,e={};
for(var m=0;m<5;m++){var P=l(a,S);S+=P.length+1;P=P.split(" ");e[P[0]]=parseInt(P[1])}var b=e.PIXELSIZE,T=[],C=new a8;
while(S<a.length){var P=l(a,S),Z=P.split(",");S+=P.length+1;if(Z[2]!="LZF")throw Z[2];x.x=parseInt(Z[0]);
x.y=parseInt(Z[1]);C=C.uG(x);var W=parseInt(Z[3]);T.push([x.clone(),new Uint8Array(a.buffer,S+1,W-1)]);
S+=W}var s=Q.Q(C.O()*b);for(var m=0;m<T.length;m++){var f=T[m];O(f[1],h);if(b==4){V();Q.zw(t,f[0],s,C)}else Q.pc(h,f[0],s,C)}return[C,s]}function r(a,S){return parseInt(a.getAttribute(S))}function E(a,S){var e=a.getAttribute("filename"),P=S.Gg[S.Ar+"/layers/"+e+".pixelselection"],b=y(P),T=new v.Pt;
T.uD=r(a,"visible")==1;T.rect=b[0];T.channel=b[1];return T}return{GQ:_}}();dx.z9={};dx.z9.Yj=!0;dx.z9.Xd=function(_,n){gu.GQ(_,n)};
dx.gO={};dx.gO.Yj=!0;dx.gO.Xd=function(_,n){iY.GQ(_,n)};dx.y6={};dx.y6.Yj=!0;dx.y6.Xd=function(_,n){aO.GQ(_,n)};
dx.UT={};dx.UT.Yj=!0;dx.UT.Xd=function(_,n){ba.GQ(_,n)};dx.W6={};dx.W6.Yj=!0;dx.W6.Xd=function(_,n){jJ.GQ(_,n)};
dx.mk={};dx.mk.Yj=!0;dx.mk.Xd=function(_,n){hC.GQ(_,n)};dx.Tx={};dx.Tx.Yj=!0;dx.Tx.QI=function(_,n,O,l,x){if(l==null)l=[!0,!1,!1,!1,!0];
var t=aL.QR(_,{Jz:l[0],hidden:l[1],a5M:l[2],apk:l[3],PA:l[4],ad2:n,ag0:O},x.y8);return t};dx.Tx.Xd=function(_,n,O){aL.GQ(_,n,O)};
dx.ze={};dx.ze.Yj=!0;dx.ze.Xd=function(_,n){var O=150,l=new aY(1,0,0,-1,0,0);l.scale(O/72,O/72);n.pa=O;
var x=new i6(n,l,!0);FromPS.Parse(_,x)};dx.ma={};dx.ma.Yj=!0;dx.ma.QI=function(_,n,O,l,x){if(l==null)l=["",100,!1,!1,!1,0];
l[6]=["jpg"];var t=new ToPDF;jP.QR(_,l,t,x.y8,n,O);return t.buffer};dx.ma.Xd=function(_,n,O){var l=2;
while(!0){var x=l*72,t=new aY(1,0,0,-1,0,0);t.scale(x/72,x/72);n.pa=x;var h=new i6(n,t,!0);FromPDF.Parse(_,h);
var V=Math.max(n.a,n.n);if(O&&V<Math.max(O[0],O[1])){n.B=[];var y=l;while(V*(l/y)<Math.max(O[0],O[1]))l++}else break}};
dx.P7={};dx.P7.Yj=!0;dx.P7.Xd=function(_,n){var O=72,l=new aY(1,0,0,1,0,0);l.scale(O/72,O/72);n.pa=O;
var x=new i6(n,l,!1);FromWMF.Parse(_,x)};dx.DC={};dx.DC.AG=!0;dx.DC.Yj=!0;dx.DC.QI=function(_,n,O,l,x){if(l==null)l=["",100,!1,!1,!1,0];
l[6]=[];var t=new ToEMF;jP.QR(_,l,t,x.y8);return t.buffer};dx.DC.Xd=function(_,n){var O=72,l=new aY(1,0,0,1,0,0);
l.scale(O/72,O/72);n.pa=O;var x=new i6(n,l,!1);FromEMF.Parse(_,x)};dx.JR={};dx.JR.Yj=!0;dx.JR.Xd=function(_,n){return gY.GQ(_,n)};
dx.AD={};dx.AD.Xd=function(){var _,n,O,l,x,t,h=0,V=0,y=0,r=0,E=0;function a(b){var T=jB.GQ(b),C=T.yz,Z=new Uint8Array(b),g=0,i,u;
if(C=="ILBM")return S(T,Z);var W=R.Pr,s=R.v,f=T.sub,q=S(f[0],Z);for(var I=1;I<f.length-2;I++){var Y=q[Math.max(0,I-2)].a84.slice(0),U=f[I];
for(var F=0;F<U.sub.length;F++){var N=U.sub[F],o=N.R;if(N.Et=="ANHD"){var X=Z[o++];if(X!=5)throw X;var l=Z[o++];
o+=8;var J=W(Z,o);o+=2;i=W(Z,o);o+=2;o++;o++;u=W(Z,o);o+=2}else if(N.Et=="DLTA"){var c=[],p=o;for(var m=0;
m<16;m++)c.push(s(Z,o+m*4));o+=64;var d=t;for(var k=0;k<x;k++){if(c[k]==0)continue;o=p+c[k];for(var A=0;
A<d;A++){var $=Z[o++],K=0;if($==0)continue;for(var m=0;m<$;m++){var G=Z[o++];if(G==0){var z=Z[o++],M=Z[o++];
for(var hl=0;hl<z;hl++){Y[(K*x+k)*d+A]=M;K++}}else if(G<128){K+=G}else{G-=128;for(var hl=0;hl<G;hl++){Y[(K*x+k)*d+A]=Z[o+hl];
K++}o+=G}}}}}else console.log(N.Et)}var j=i==0?17:Math.round((i-g)*1e3/60);q.push({data:P(Z,Y),n5:new a8(0,0,_,n),a84:Y,U9:"_a_frm"+I+","+j});
g=i}q[0].U9=q[1].U9;return q}function S(b,T){var C,Z;h=0;V=0;y=0;r=0;E=0;for(var W=0;W<b.sub.length;
W++){var s=b.sub[W],f=s.R;if(s.Et=="BMHD"){var q=[];for(var m=0;m<4;m++)q[m]=R.Pr(T,f+2*m);f+=8;var g=q[2],i=q[3];
_=q[0];n=q[1];O=T[f++];l=T[f++];var u=T[f++];if(u!=1)throw u;t=_+15>>>4<<1;x=O+l}else if(s.Et=="CMAP")h=f;
else if(s.Et=="CAMG"){var I=R.v(T,f);V=I&32768,y=I&4,r=I&2048;E=I&128}else if(s.Et=="BODY"){Z=Q.Q(t*n*x);
j3.kh(T,f,s.size,Z,0,Z.length)}}C=P(T,Z);return[{n5:new a8(0,0,_,n),data:C.buffer,a84:Z}]}function e(b,ab){return b[ab>>>3]>>>7-(ab&7)&1}function P(b,T){var C=O-2,Z=(1<<C)-1,W=Math.round(255/Z),s,f,q,g=t*8,i=Q.Q(_*n*4);
for(var u=0;u<n;u++)for(var I=0;I<_;I++){var Y=0;for(var U=0;U<x;U++){var F=(u*x+U)*g+I,N=e(T,F);Y|=N<<U}Y=Y&(1<<O)-1;
var m=u*_+I,o=m<<2;if(h!=0){if(r!=0&&Y>>>C!=0){var X=Y>>>C,J=(Y&Z)*W;if(X==1)q=J;else if(X==2)s=J;else if(X==3)f=J}else{var J=h+Y*3;
s=b[J+0];f=b[J+1];q=b[J+2]}}else{s=Y>>>0&255;f=Y>>>8&255;q=Y>>>16&255}i[o+0]=s;i[o+1]=f;i[o+2]=q;i[o+3]=255}return i}return a}();
dx.gd={};dx.gd.Yj=!1;dx.gd.QI=function(_,n,O,l){var x=_[0][4],t=new Uint8Array(_[0][0]),h=2,V=x?!0:!1,y=V?4:3,r=new Uint8Array(n*O*y);
for(var E=0;E<O;E++)for(var a=0;a<n;a++){var S=E*n+a<<2,e=((O-E-1)*n+a)*y;r[e]=t[S+2];r[e+1]=t[S+1];
r[e+2]=t[S+0];if(V)r[e+3]=x[0][E*n+a]}if(!0){var P=r.length,b=0,T=new Uint8Array(P*2),C=0,Z=0,W=n*y;
while(Z<P){var s=Z,f=0,q=W*(Math.floor(Z/W)+1);while(s<q&&f<128){var g=!0;for(var m=0;m<y;m++)g=g&r[Z+m]==r[s+m];
if(!g)break;s+=y;f++}if(f==1){var i=1;while(i<128&&Z+(i+1)*y<q){var g=!0,u=Z+i*y;for(var m=0;m<y;m++)g=g&r[u+m]==r[u+y+m];
if(g)break;i++}T[C++]=i-1;for(var I=0;I<i;I++)for(var m=0;m<y;m++)T[C++]=r[Z++]}else{T[C++]=127+f;for(var m=0;
m<y;m++)T[C+m]=r[Z+m];C+=y;Z+=y*f;b+=f}}r=T.slice(0,C);h+=8}var Y=new Uint8Array(18+r.length+26);Y[2]=h;
R.eh(Y,12,n);R.eh(Y,14,O);Y[16]=y*8;Y[17]=y==4?8:0;Y.set(r,18);R.uJ(Y,18+r.length+8,"TRUEVISION-XFILE.");
return Y.buffer};dx.gd.Xd=function(_){var n=new Uint8Array(_),O=0,l=n[0],x=n[1],t=n[2],h=n[4]*256+n[3],V=n[6]*256+n[5],y=n[7],r=n[9]*256+n[8],E=n[11]*256+n[10],a=n[13]*256+n[12],S=n[15]*256+n[14],e=n[16],P=n[17],b=P>>>4,T=R.c$(n,18,l),C=Q.Q(a*S*4),O=18+l+(V*y>>>3),Z=new Uint8Array(n.buffer,O);
if(t>3){var W=0,s=n,f=new Uint8Array(a*S*e>>>3),q=O,g=0,i=n.length,u=e>>>3;while(g<f.length){var ab=s[q];
q++;if(ab<128)for(var m=0;m<ab+1;m++){for(var I=0;I<u;I++){f[g]=s[q];g++;q++}}else{for(var m=0;m<ab-127;
m++){for(var I=0;I<u;I++){f[g]=s[q+I];g++}}q+=u}}t-=8;Z=f;O=q}else O+=a*S*e>>>3;var Y=new Uint8Array(4),U=dx.gd.auq;
for(var F=0;F<S;F++)for(var N=0;N<a;N++){var o=(b&2)==0?(S-F-1)*a+N:F*a+N,X=F*a+N,J,c,p,d=255,k=o*e>>>3;
if(t==1){var A=0;if(e==8)A=Z[k];else throw"e";U(n,18+l+h+(A*y>>>3),y,Y);J=Y[0];c=Y[1];p=Y[2];d=Y[3]}else if(t==2){U(Z,k,e,Y);
J=Y[0];c=Y[1];p=Y[2];d=Y[3]}else if(t==3){if(e==8)J=c=p=Z[k];else throw"e"}var $=X*4;C[$]=J;C[$+1]=c;
C[$+2]=p;C[$+3]=d}var Y={n5:new a8(0,0,a,S),data:C.buffer,U9:T};if(Q.Fh(C)){var K=Q.Q(a*S);Q.nV(C,K,3);
Q.qs(C,4278190080,16777215);Y.U_=[K]}return[Y]};dx.gd.auq=function(_,n,O,l){var x,t,h,V=255;if(O==24||O==32){h=_[n];
t=_[n+1];x=_[n+2];if(O==32)V=_[n+3]}else if(O==16){var y=_[n+1]<<8|_[n+0];x=y>>>10&31;t=y>>>5&31;h=y>>>0&31;
x=Math.round(x*(255/31));t=Math.round(t*(255/31));h=Math.round(h*(255/31))}else throw"e";l[0]=x;l[1]=t;
l[2]=h;l[3]=V};dx.a8w=function(){var _,n=[],O=!1;function l(h,V,y,r){_=y;n.push(h,r);x()}function x(){if(O||n.length==0)return;
O=!0;dx.av0(n.shift(),"image/avif",t)}function t(h){_(null,[h],n.shift());O=!1;x()}return{Yj:!1,dR:!0,Xd:l}}();
dx.abF=function(){var _,n=[],O=!1,l,x,t,h,V,y,r=10,E=0;function a(T,C,Z,W,s){_=Z;n.push(T,W);var f=new e_(H.E.L,!0);
f.data={d:H.t.Rq,EW:"setFPS",KB:r,_f:S};s.$(f)}function S(T){r=Math.max(1,Math.min(60,T));e()}function e(){if(O||n.length==0)return;
O=!0;l=document.createElement("canvas");x=l.getContext("2d");t=document.createElement("video");var T="data:"+"video/mp4"+";base64,"+dx.zp(n.shift());
t.src=T;t.muted=!0;t.currentTime=0;t.addEventListener("canplay",P,!1);t.addEventListener("timeupdate",b,!1)}function P(T){t.removeEventListener("canplay",P);
h=l.width=t.videoWidth;V=l.height=t.videoHeight;y=[];t.play()}function b(T){clearTimeout(E);x.drawImage(t,0,0);
y.push({U9:"_a_"+y.length+","+Math.round(1e3/r),n5:new a8(0,0,h,V),data:x.getImageData(0,0,h,V).data.buffer});
var C=t.currentTime+1/r;if(C<t.duration&&T){t.currentTime=C;E=setTimeout(b,1e3)}else{_(null,y,n.shift());
t.removeEventListener("timeupdate",b);O=!1;e();y=null}}return{Yj:!1,dR:!0,Xd:a}}();dx.J_={};dx.J_.Xd=function(_){var n=new Uint8Array(_),O=0,l=112,x=42,t=R.j0,E;
O+=8;var h=n[O];O++;if(h!=x)throw"e";var V=t(n,O);O+=4;var y=R.$O(n,O,V);O+=V*2;var r=[];while(O<n.length){E=t(n,O);
O+=4;if(E!=l)throw E;O+=4;E=n[O];O++;if(E!=x)throw E;var a=t(n,O);O+=4;var S=n[O];O++;if(S!=x){O-=5;
a=t(n,O);O+=8;E=n[O];O++;if(E!=x)throw E}var e=t(n,O)*2;O+=4;if(a>0)r.push(O+e);O+=e+a}var P=new DOMParser,b=P.parseFromString(y,"image/svg+xml").firstChild.firstChild,T=[];
dx.J_.YL(b,n,r,T);return T};dx.J_.YL=function(_,n,O,l){var x=_.firstChild.firstChild;if(x.tagName=="Image"){var t=x.getElementsByTagName("ImageDescription")[0],h=t.children[0].children,V=t.children[1].children,y=O.shift(),r=[];
for(var m=0;m<V.length;m++)r.push(parseInt(V[m].getAttribute("NumberOfElements")));while(r.length>3)r[2]*=r.pop();
var E=h.length,a=r[0],S=r[1],e=r[2],P=parseInt(V[0].getAttribute("BytesInc"));for(var b=0;b<e;b++){var T=Q.Q(a*S*4);
Q.qs(T,4278190080);for(var C=0;C<E;C++){var Z=Q.Q(a*S);if(P==1)for(var W=0;W<Z.length;W++)Z[W]=n[y+W];
else if(P==2)for(var W=0;W<Z.length;W++)Z[W]=Math.min(255,(n[y+W*2+1]<<8|n[y+W*2])>>>2);else throw P;
if(C!=3)Q.$c(Z,T,C);if(E==1){Q.$c(Z,T,1);Q.$c(Z,T,2)}y+=a*S*P}l.push({n5:new a8(0,0,a,S),data:T.buffer})}}else{var s=_.children,f=0;
while(f<s.length&&s[f].tagName!="Children")f++;if(f==s.length)throw"e";s=s[f].children;for(var q=0;q<s.length;
q++)dx.J_.YL(s[q],n,O,l)}};dx.ay8=function(){function _(h,V,y,r,E){var a=new Int8Array(h.buffer),S=new Int8Array(r.buffer),e=V+y;
while(V<e){var ab=a[V];V++;if(ab>=0&&ab<128)for(var m=0;m<ab+1;m++){S[E]=a[V];E++;V++}if(ab>=-127&&ab<0){for(var m=0;
m<-ab+1;m++){S[E]=a[V];E++}V++}}return E}function n(h,V,y,r,E,a){var S=V*y*r>>>3,e=Q.Q(S*E),P=l(h,0,0)[0];
for(var b=0;b<E;b++){var T=P[b+1];if(a){var C=dx.Jv("jpg").Xd(T.buffer),Z=Q.Q(S);Q.mx(new Uint8Array(C[0].data),Z);
e.set(Z,S*b)}else if(T[0]==255&&T[1]==216&&T[2]==255){var W=UTIF.LosslessJpegDecode(T);e.set(new Uint8Array(W.buffer),S*b)}else _(T,64,T.length,e,S*b)}return e}function O(h){var V=new Uint8Array(h),y=0,r=R.c$(V,0,128);
y+=128;var E=R.c$(V,y,4);y+=4;var a=x(V,y,0)[0],S=a.g28;if(S==null){alert("No image.");return[]}var e=S.cols,P=S.rows,b=e*P,T=S.photoInterpret,C=S.bitsAlloc,Z=S.bitsStored,W=S.lossyCompr;
if(W==null)W=a.g8.lossyCompr;var s=a.g7fe0.pixelData,f=S.numOfFrames;f=f?parseInt(f):1;var q=new Uint8Array(s.buffer),g=b*C>>>3;
if(q.length!=g*f){s=n(s,e,P,C,f,W)}else{}if(C==16)s=new Uint16Array(s.buffer);console.log(S);console.log(a);
var i=[];for(var u=0;u<f;u++){var I=u*g,h=Q.Q(e*P*4);h.fill(255);if(T=="MONOCHROME2"){var Y=0,U=255,F=S.largestValue,N=S.smallestValue;
if(F!=null){U=F;Y=N}else if(Z!=8){U=0;Y=1e9;for(var m=0;m<b;m++){var o=s[I+m];if(o>1<<Z-8){if(o>U)U=o;
if(o<Y)Y=o}}}var X=255/(U-Y);for(var m=0;m<b;m++){var o=Math.max(0,Math.min(255,(s[I+m]-Y)*X)),J=m*4;
h[J]=h[J+1]=h[J+2]=o}}else if(T=="PALETTE COLOR"){var c=S.pltRed,p=S.pltGreen,d=S.pltBlue;for(var m=0;
m<b;m++){var k=s[I+m],J=m*4;h[J]=c[k]>>>8;h[J+1]=p[k]>>>8;h[J+2]=d[k]>>>8}}else throw T;i.push({n5:new a8(0,0,e,P),data:h.buffer})}return i}function l(h,V,y){var r=R.HZ,E=R.hS,a=R.j0,S=[],e=V;
while(V<h.length){var P=r(h,V);V+=2;var b=r(h,V);V+=2;var T=a(h,V);V+=4;if(P==65534&&b==57344){if(T==4294967295){var C=x(h,V,y+1);
S.push(C[0]);V=C[1]}else{S.push(h.slice(V,V+T));V+=T}}else if(P==65534&&b==57357){}else if(P==65534&&b==57565)break;
else throw"e"}return[S,V]}function x(h,V,y){var r=R.HZ,E=R.hS,a=R.j0,S={},e="\t".repeat(y);while(V<h.length){var P=r(h,V),Z="",W=0,f=null;
V+=2;var b=r(h,V);V+=2;var T=P.toString(16),C=b.toString(16);if(P==65532)break;if(P==65534&&b==57357){V-=4;
break}if(P==65534&&b==57565)throw"e";if(b==0){V+=8;continue}if(65<=h[V+1]){Z=R.c$(h,V,2);V+=2;if(Z=="OB"||Z=="SQ"||Z=="OW"){W=a(h,V+2);
V+=6}else{W=r(h,V);V+=2}}else{Z=t[T][C].split(",")[1];W=a(h,V);V+=4}var s=t[T][C];if(s)s=s.split(",")[0];
if(s==null){s="t"+C}if(Z=="SQ"){var q=l(h,V,y);f=q[0];V=q[1];W=0}else if(Z=="US")f=r(h,V);else if(Z=="SS")f=E(h,V);
else if(Z=="UL")f=a(h,V);else if(Z=="FL")f=R.FF(h,V);else if(Z=="AT")f=[r(h,V),r(h,V+2)];else if(Z=="OB")f=h.slice(V,V+W);
else if(Z=="OW")f=new Uint16Array(h.slice(V,V+W).buffer);else if("UI CS DA TM DT SH LO ST LT PN AE AS DS IS".split(" ").indexOf(Z)!=-1){var g=V+W;
while(h[g-1]==0)g--;f=R.c$(h,V,g-V).trim()}else{console.log(e,JSON.stringify(R.c$(h,V,Math.min(W,32))));
throw Z}if(S["g"+T]==null)S["g"+T]={};S["g"+T][s]=f;V+=W}return[S,V]}var t={"2":{"1":"fmiVersion","2":"classUID","3":"instanceUID","10":"syntaxUID","12":"icUID","13":"implVerName","16":"appTitle"},"4":{"1130":"fileSetID"},"8":{"5":"charSet","8":"imageType,CS","16":"classUID,UI","18":"instanceUID,UI","20":"studyDate","21":"seriesDate","22":"acqDate","23":"contentDate","2a":"acqDateTime","30":"studyTime","32":"acqTime","33":"contentTime","50":"accNumber","60":"modality,CS","64":"convType,CS","70":"manufacturer","80":"institutionName","81":"institutionAddress","90":"rpName","1010":"stationName","1030":"studyDescription","103e":"seriesDesc","1050":"ppName","1090":"modelName","1150":"rclassUID","1155":"rinstanceUID","2110":"lossyCompr","2112":"imageSequence"},"9":{},"10":{"10":"patientName,PN","20":"patientID,LO","30":"patientBirthDate","40":"patientSex","1010":"patientAge"},"18":{"60":"KVP","1020":"swVersion","1063":"frameTime","1150":"expTime","1151":"xrayTubeCurrent","1152":"exposure","1155":"radiation","1500":"posMotion","1510":"posAngle0","1511":"posAngle1"},"19":{},"20":{d:"studyUID,UI",e:"seriesUID,UI","10":"studyID","11":"seriesNumber","12":"acqNumber,IS","13":"instanceNumber,IS","20":"patientOrientation"},"21":{},"28":{"2":"spp,US","4":"photoInterpret,CS","8":"numOfFrames","9":"frameIncPointer","10":"rows,US","11":"cols,US","30":"pixelSpacing","100":"bitsAlloc,US","101":"bitsStored,US","102":"highBit,US","103":"pixRepresentation,US","106":"smallestValue","107":"largestValue","120":"pixPaddingValue","1040":"pixIntensityRelation","1050":"windCenter","1051":"windWidth","1090":"viewMode","1101":"pdRed","1102":"pdGreen","1103":"pdBlue","1199":"paletteUID","1201":"pltRed","1202":"pltGreen","1203":"pltBlue","2110":"lossyCompr","6010":"repFrameNum","6020":"foi","6022":"foiDescription","6040":"rWavePointer","6100":"maskSubtraction","6101":"maskOp","6110":"maskFrameNum"},"29":{},"37":{},"50":{"4":"calibImage"},"5000":{"5":"curveDim","10":"numOfPoints","20":"typeOfData","30":"axisUnits","103":"dataValRepr","104":"minCrdValue","105":"maxCrdValue","106":"curveRange","110":"curveDataDesc","112":"crdStartValue","114":"crdStepValue","3000":"curveData"},"7fe0":{"10":"pixelData,OB"}};
return{Xd:O}}();dx.yt={};dx.yt.Xd=function(_){var n=new Uint8Array(_),O=0,l={},E=1e9;for(var m=0;m<306;
m++){var x=R.c$(n,O,8).trim(),t=R.c$(n,O+9,71).split("/")[0].trim();l[x]=t;O+=80;if(x=="END"){O=Math.ceil(O/2880)*2880;
break}}var h=parseInt(l.NAXIS1),V=parseInt(l.NAXIS2),y=h*V,r=parseInt(l.BITPIX),a=-1e9,S=new Float32Array(y),e=new Float32Array(_,O,_.byteLength-O>>>2);
for(var m=0;m<y;m++){var P=m<<2,b=m<<1;if(r==-32){var T=n[O+P+0];n[O+P+0]=n[O+P+3];n[O+P+3]=T;var T=n[O+P+1];
n[O+P+1]=n[O+P+2];n[O+P+2]=T;S[m]=e[m]}else if(r==16){S[m]=R.HZ(n,O+b)}else throw r;var C=S[m];if(C<E)E=C;
if(C>a)a=C}var Z=Q.Q(y*4),W=1/a;for(var s=0;s<V;s++)for(var f=0;f<h;f++){var m=s*h+f,q=(V-s-1)*h+f,P=q<<2,C=S[m]*W;
Z[P]=Z[P+1]=Z[P+2]=255*C;Z[P+3]=255}return[{n5:new a8(0,0,h,V),data:Z,U9:l.OBJECT}]};dx.Dv={};dx.Dv.Xd=function(_){var n=new Uint8Array(_),O=16,l=R.c$(n,O,4),t=32,C=0,Z=0,W=!1,c;
O+=4;var x=R.c$(n,O,8);O+=8;while(n[O+t-1]==0)t--;var h=R.c$(n,O,t);O+=32;var V=R.c$(n,O,4);O+=4;O+=20;
var y=R.v(n,O);O+=4;var r=R.v(n,O);O+=4;var E=R.v(n,O);O+=4;var a=R.v(n,O);O+=4;var S=R.v(n,O);O+=4;
var e=R.v(n,O);O+=4;var P="FujiFilm "+h,b=[0,1,1,2];if(P=="FujiFilm X10"){P="FujiFilm FinePix X10";b=[2,1,1,0]}var T={t271:["FujiFilm"],t272:[P],t277:[1],t33421:[2,2],t33422:b,fX:1};
O=E;var s=[],f=R.Pr,q=R.v(n,O);O+=4;for(var m=0;m<q;m++){var g=f(n,O);O+=2;var i=f(n,O);O+=2;if(g==256){Z=f(n,O);
C=f(n,O+2)}else if(g==272){s=[f(n,O),f(n,O+2)]}else if(g==273){s.push(f(n,O),f(n,O+2))}else if(g==304){W=!(n[O]>>>7)}else if(g==305){var u=Math.round(Math.sqrt(i)),I=[];
for(var Y=0;Y<i;Y++)I.push(n[O+Y]);I.reverse();T.t33421=[u,u];T.t33422=I}else if(g==12272){var U=f(n,O),F=f(n,O+2),N=f(n,O+6);
T.t50728=[U/F,1,U/N]}O+=i}var o=C<Z,X=n.slice(S,S+e),J=Math.round(e*8/(C*Z));if(X[0]==73&&X[1]==73&&X[2]==42){c=UTIF.decode(X.buffer)[0].fujiIFD;
J=c.t61443[0];var p=c.t61454,d=c.t61450;if(d)T.t50714=d;if(p)T.t50728=[p[0]/p[1],1,p[0]/p[2]];var k=c.t61447[0];
X=X.slice(k,k+c.t61448[0])}var e=X.length,A=e*8<C*Z*J;if(A){console.log("compressed");var $=T.t33422,K=~~Math.sqrt($.length),G=[];
for(var m=0;m<K;m++)G[m]=$.slice(m*K,m*K+K);X=new Uint8Array(UTIF._decompressRAF(X,G).buffer);e=X.length}function z(B,bB,bG){bG=bG<<8-(bB&7);
var eb=bB>>>3;B[eb]|=bG>>>16;B[eb+1]|=bG>>>8;B[eb+2]|=bG}var M=e*8/(C*Z);if(M==16)for(var m=0;m<e;m+=2){var hl=X[m];
X[m]=X[m+1];X[m+1]=hl}else if(M==14){for(var m=0;m<e;m+=4){var hl=X[m];X[m]=X[m+3];X[m+3]=hl;hl=X[m+1];
X[m+1]=X[m+2];X[m+2]=hl}}else if(M==12)for(var m=0;m<e;m+=3){var j=X[m+2]<<16|X[m+1]<<8|X[m+0];j=j>>>12|(j&4095)<<12;
X[m]=j>>>16&255;X[m+1]=j>>>8&255;X[m+2]=j&255}if(o)X=dx.Dv.arZ(X,C,Z);var w=o?2:1;C*=w;T.t256=[C];T.t257=[Z];
T.t258=[J];T.t50719=[s[1],s[0]*w];T.t50720=[s[3],s[2]*w];T.width=C;T.height=Z;T.data=new Uint8Array(X.buffer);
return[T]};dx.Dv.arZ=function(_,n,O){_=new Uint16Array(_.buffer);var l=new Uint16Array(n*O*2);for(var x=0;
x<O;x+=2)for(var t=0;t<n;t++){var h=x*n+t,V=h*2,y=_[h],r=_[h+n];l[V+1]=l[V+2*n]=r;if(((x>>>1)+t&1)==0){l[V]=y;
l[V+2*n+1]=_[h+1]}else{l[V]=_[h-1];l[V+2*n+1]=y}}return l};dx.z$={};dx.z$.AG=!0;dx.z$.QI=function(_,n,O,l){var x=new Uint8Array(_[0][0]),t=n*O,h=[1,3,4][l[0]],V=8+8*l[1],y=l[2];
if(h==1){var r=new Uint8Array(n*O);Q.nV(x,r,0);x=r}if(h==3){var r=new Uint8Array(n*O*3);for(var m=0;
m<t;m++){var E=m*4,a=m*3;r[a]=x[E];r[a+1]=x[E+1];r[a+2]=x[E+2]}x=r}if(V==16){var S=x.length,r=new Uint8Array(S*2);
for(var m=0;m<S;m++){var e=Math.round(x[m]*(65535/255));r[m*2+y]=e>>>8;r[m*2+1-y]=e&255}x=r}return x.buffer};
dx.C0={};dx.C0.Xd=function(_,n){function O(y){return~~(.5+Q.nM(Math.max(0,Math.min(1,y)))*255)}var l=EXRLoader.parse(_),x=l.width,t=l.height,h=Q.Q(x*t*4);
for(var V=0;V<t;V++)for(var y=0;y<x;y++){var m=(V*x+y)*4,r=((t-V-1)*x+y)*4;h[m]=O(l.data[r+0]);h[m+1]=O(l.data[r+1]);
h[m+2]=O(l.data[r+2]);h[m+3]=O(l.data[r+3])}return[{n5:new a8(0,0,x,t),data:h.buffer}]};dx.yg={};dx.yg.AG=!0;
dx.yg.Yj=!0;dx.yg.QI=function(_,n,O,l,x){l=["",100,!1,!1,!1,0];l[6]=["jpg"];var t=new ToDXF;jP.QR(_,l,t,x.y8);
return t.buffer};dx.yg.Xd=function(_,n){var O=72,l=new aY(1,0,0,1,0,0);l.scale(O/72,O/72);n.pa=O;var x=new i6(n,l,!1);
FromDXF.Parse(_,x)};dx.u8={};dx.u8.Xd=function(){var _=R.HZ,n=R.j0,O=R.c$,l;function x(h,V,y,r,E){var a=n(h,y),S=n(h,y+4),e=n(h,y+8),P=_(h,y+12),b=_(h,y+14);
y+=16;var T={};for(var m=0;m<P+b;m++){var C=n(h,y),Z=n(h,y+4),W,s;if(C>>>31==1){C=C&16777215}if(m<P)W=R.$O(h,V+C+2,_(h,V+C));
else W="id"+C;var f=r.slice(0);f.push(W);if(Z>>>31==1){Z=Z&268435455;s=x(h,V,V+Z,f,E)}else{var q=n(h,V+Z),g=n(h,V+Z+4),i=n(h,V+Z+8),u=n(h,V+Z+12);
if(u!=0)throw"e";if(q<E[0]||q>E[0]+E[1])throw"e";var I=E[2]+q-E[0];s=h.slice(I,I+g);var Y=dx.N_(s.buffer);
if(Y&&["bmp","png","ico"].indexOf(Y)!=-1){var U=dx.Jv(Y);if(!U.Yj){var F=null;try{F=U.Xd(s.buffer)}catch(hU){}if(F){F[0].U9=f[1];
l.push(F[0])}}}else if(Y)console.log(Y)}T[W]=s;y+=8}return T}function t(h){l=[];var V=new Uint8Array(h),y=0,r=_(V,y);
y+=2;y+=58;var E=n(V,y);y+=4;y=E;var a=O(V,y,4);y+=4;var S=_(V,y);y+=2;var e=_(V,y);y+=2;var P=n(V,y);
y+=4;var b=n(V,y);y+=4;var T=n(V,y);y+=4;var C=_(V,y);y+=2;var Z=_(V,y);y+=2;y+=C;var W={};for(var m=0;
m<e;m++){var s=y;while(V[s]!=0)s++;var f=O(V,y,s-y),q=n(V,y+8),g=n(V,y+12),i=n(V,y+16),u=n(V,y+20),I=n(V,y+24),Y=n(V,y+28),U=_(V,y+32),F=_(V,y+34),Z=n(V,y+36);
W[f]=[g,q,u,i,Z];if(I+Y!=0)throw"e";y+=40}for(var N in W){var o=W[N];y=o[2];if(N==".rsrc"){var X=x(V,y,y,[],o),J="id134"}}return l}return t}();
dx.um={};dx.um.Yj=!0;dx.um.Xd=function(_,n){c$.GQ(_,n)};(function(){var _=dx.nG.get("wasm/zstd").buffer;
WebAssembly.instantiate(_).then(function(n){var O=n.instance.exports;dx.um.ano=O})}());dx.um.Wd=function(_,n){var O=dx.um.ano,l=_.length,x=O.memory,t=2*l+1e6,y=8;
dx.fu(O,t);var h=new Uint8Array(x.buffer),V=O.malloc(l);h.set(_,V);while(!0){var r=n==null?l*y:n;dx.fu(O,t+r);
var E=O.malloc(r),a=O.ZSTD_decompress(E,r,V,l);if(a==-70){O.free(E);y+=y>>>1;if(n!=null)throw"error"}else{h=new Uint8Array(x.buffer);
_=h.slice(E,E+a);O.free(E);break}}O.free(V);return _};dx.Ul={};dx.Ul.Yj=!0;dx.Ul.Xd=function(){var _=0,n=1,O=2,l=3,x=4,t=5,h=6,V=7,y=1,r=2,E=7,a=8,S=9,e,P,b,T,C;
function Z(){var ab=R.OI(e,P);P+=4;return ab}function W(){var c=0,p=0;for(var m=0;m<5;m++){var d=e[P++];
c+=(d&127)<<p;p+=7;if((d&128)==0)break}return c}function s(){var c=W(),p=R.hm(e,P,c);P+=c;return p}function f(){return{typeName:s(),aia:Z()}}function q(){var c=Z(),p=s(),d=[],k=Z();
for(var m=0;m<k;m++)d.push([s()]);return{id:c,zK:p,acE:d}}function g(c){var p=c.acE,d=[];for(var m=0;
m<p.length;m++)p[m].push(e[P++]);for(var m=0;m<p.length;m++){var k=p[m][1],A;p[m].push(i(k))}}function i(c){var p;
if(c==_)p=e[P++];else if(c==l)p=s();else if(c==x)p=f();else if(c==n||c==O||c==h||c==t){}else throw c;
return p}function u(c,p,d){var k;if(c==_){if(p==y)k=e[P++]==1;else if(p==r){k=e[P++]}else if(p==a)k=Z();
else if(p==S){k=Z();Z()}else throw p}else if(c==l){k=F(d+1)}else if(c==x){k=F(d+1)}else if(c==t){k=F(d+1)}else if(c==n){k=F(d+1)}else if(c==h){k=F(d+1)}else throw c;
return k}function I(c,p){var d=b["c"+c],k=d.acE,A={_class:d.zK};for(var m=0;m<k.length;m++){var $=k[m],K=$[1],G=$[2],z=u(K,G,p),M=$[0];
A[M]=z}return A}function Y(c,p,d,k){var A=[];for(var m=0;m<c;m++){var $=u(p,d,k);if($.Rv&&$.Rv=="null_count"){var K=$.As;
for(var G=0;G<K;G++)A.push(null);m+=K-1}else A.push($)}return A}function U(){return[Z(),Z()]}function F(c){if(c==null)throw"e";
var p=null,d=e[P],k=null;P++;if(d==0){var A=Z(),$=Z(),K=Z(),G=Z();p=[A,$,K,G]}else if(d==1){k=Z();var z=Z();
p=I(z,c)}else if(d==4){var M=q();k=M.id;g(M);b["c"+M.id]=M;p=I(M.id,c)}else if(d==5){var M=q();k=M.id;
g(M);var hl=Z();b["c"+M.id]=M;p=I(M.id,c)}else if(d==6){k=Z();var j=s();p=j}else if(d==7){k=Z();var w=e[P++];
if(w!=0)throw w;var B=Z();if(B!=1)throw B;var bB=Z(),bG=e[P++],eb=i(bG);p=Y(bB,bG,eb,c)}else if(d==9){var fe=Z();
p={Rv:"ref",As:fe};C["o"+fe]=!0}else if(d==10){p={Rv:"null_count",As:1}}else if(d==11){p={Rv:"end"}}else if(d==12){var hl=Z(),gB=s()}else if(d==13){var hp=e[P++];
p={Rv:"null_count",As:hp}}else if(d==16){var g6=U();k=g6[0];p=Y(g6[1],x,null,c)}else if(d==17){var g6=U();
k=g6[0];p=Y(g6[1],n,null,c)}else throw"e";if(k!=null&&k>0){if(T["o"+k]!=null)throw"e";T["o"+k]=p}return p}function N(c,T){if(c instanceof Array){for(var m=0;
m<c.length;m++)c[m]=o(c[m],T)}else if(c instanceof Object){for(var p in c)c[p]=o(c[p],T)}}function o(c,T){if(c&&c.Rv&&c.Rv=="ref")return T["o"+c.As];
else return c}function X(c,p,d){e=new Uint8Array(c);P=0;b={};T={};C={};var k=R.c$(e,0,4);if(k!="PDN3")throw k;
P+=4;var A=R.HZ(e,P)+e[P+2]*256*256;P+=3;var $=R.c$(e,P,A);P+=A;P+=2;while(!0){var K=F(0);if(K&&K.Rv&&K.Rv=="end")break}for(var G in C)if(T[G]==null)throw G;
for(var G in T)N(T[G],T);var z=T.o1;console.log(z);p.a=z.width;p.n=z.height;p.buffer=Q.Q(p.a*p.n*4);
var M=z.layers["ArrayList+_items"];for(var m=0;m<M.length;m++){var hl=M[m];if(hl==null)continue;console.log(hl);
var j=hl["Layer+width"],w=hl["Layer+height"],B=hl["Layer+properties"],bB=hl.properties,bG=bB.blendOp._class.split("+").pop();
bG=bG.slice(0,bG.length-7);var eb={Normal:"norm",Multiply:"mul ",Additive:"lddg",ColorBurn:"idiv",ColorDodge:"div ",Reflect:"lddg",Glow:"hMix",Overlay:"over",Difference:"diff",Negation:"smud",Lighten:"lite",Darken:"dark",Screen:"scrn",Xor:"smud"}[bG],fe=p.Ni();
fe.iA(B.name);fe.opacity=B.opacity;fe.ND(B.visible);fe.to=eb;var gB=1<<16,hp=Math.ceil(j*w/gB);fe.rect=new a8(0,0,j,w);
fe.buffer=Q.Q(j*w*4);var g6=fe.buffer;P+=5;for(var by=0;by<hp;by++){var e7=J();g6.set(e7[1],e7[0]*gB*4)}for(var aN=0;
aN<g6.length;aN+=4){var jK=g6[aN+0];g6[aN+0]=g6[aN+2];g6[aN+2]=jK}p.B.push(fe)}}function J(){var c=R.v(e,P);
P+=4;var p=R.v(e,P);P+=4;var d=pako.inflateRaw(e.slice(P+10));P+=p;return[c,d]}return X}();dx.kO={};
dx.kO.Yj=!0;dx.kO.Xd=function(_,n){jR.GQ(_,n)};var ex={};ex.kj=!1;ex.pl=!1;ex.Qe=!1;ex.T=document.createElement("canvas");
ex.Y0=null;ex.yA=null;ex.mI=0;(function(){var _={alpha:!0,antialias:!1,depth:!1,premultipliedAlpha:!1},n;
if(!n)n=ex.T.getContext("webgl",_);if(!n)n=ex.T.getContext("experimental-webgl",_);if(n){ex.kj=!0;ex.pl=!0;
ex.Y0=n;ex.yA=n.createFramebuffer();n.bindFramebuffer(n.FRAMEBUFFER,ex.yA);n.disable(n.BLEND);n.disable(n.DEPTH_TEST);
var O=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,O);n.bufferData(n.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),n.STATIC_DRAW);
n.enableVertexAttribArray(0);n.vertexAttribPointer(0,2,n.FLOAT,!1,0,0)}}());ex.a0J=function(_){_=_.replace(/\s\s+/g," ");
_=_.replace(/; /g,";");_=_.replace(/} /g,"}");_=_.replace(/ }/g,"}");_=_.replace(/{ /g,"{");_=_.replace(/ {/g,"{");
_=_.replace(/= /g,"=");_=_.replace(/ =/g,"=");_=_.replace(/\| /g,"|");_=_.replace(/ \|/g,"|");return _};
ex.O8=function(_){var n=ex.Y0;if(_>n.getParameter(n.MAX_TEXTURE_SIZE)){ex.kj=!1;alert("Disabling WebGL")}};
ex.NJ=function(_,n){return new Float32Array([(_.x-n.x)/n.a,(_.y-n.y)/n.n,_.a/n.a,_.n/n.n])};ex.jk=function(){return this.T};
ex.QC=function(_,n){var O=ex.Y0;O.bindFramebuffer(O.FRAMEBUFFER,ex.yA);O.framebufferTexture2D(O.FRAMEBUFFER,O.COLOR_ATTACHMENT0,O.TEXTURE_2D,_.P8,0);
O.viewport(0,0,_.a,_.n);if(n){O.enable(O.SCISSOR_TEST);O.scissor(n.x,n.y,n.a,n.n)}else O.disable(O.SCISSOR_TEST)};
ex.tG=function(_,n,O){if(O)throw"error";var l=ex.Y0;l.disable(l.SCISSOR_TEST);l.bindFramebuffer(l.FRAMEBUFFER,null);
l.viewport(0,0,_,n);if(O){l.enable(l.SCISSOR_TEST);l.scissor(O.x,O.y,Math.round(O.a),Math.round(O.n))}else l.disable(l.SCISSOR_TEST)};
ex.clear=function(){var _=ex.Y0;_.clearColor(0,0,0,0);_.clear(_.COLOR_BUFFER_BIT)};ex.d1=function(_,n){if(n==null)n=0;
var O=(n>>>0&255)==0,l=(n>>>8&255)==0,x=(n>>>16&255)==0,t=(n>>>24&255)==0,h=(_>>>0&255)*(1/255),V=(_>>>8&255)*(1/255),y=(_>>>16&255)*(1/255),r=(_>>>24&255)*(1/255),E=ex.Y0;
E.colorMask(O,l,x,t);E.clearColor(h,V,y,r);E.clear(E.COLOR_BUFFER_BIT);E.colorMask(!0,!0,!0,!0)};ex.Ug=function(_,n,O,l,x){var t=n.v6(l);
if(x)t=t.v6(x);if(t.wk())return;var h=ex.Y0;ex.QC(_);h.bindTexture(h.TEXTURE_2D,O.P8);h.copyTexSubImage2D(h.TEXTURE_2D,0,t.x-l.x,t.y-l.y,t.x-n.x,t.y-n.y,t.a,t.n)};
ex.bk=function(m,_,n){var O=ex.Zp[m];if(O==null||O.a!=_||O.n!=n){if(O)O.delete();O=new ex.eO(_,n)}ex.Zp[m]=O;
return O};ex.Zp=[];ex.Y8=function(){this.Jx=null;this.D3=null};ex.Y8.Wb=null;ex.Y8.prototype.UC=function(_){if(this.D3)return;
this.D3={};var n=ex.Y0,O=this.Jx,l=this.D3;for(var m=0;m<_.length;m++){var x=_[m];l[x]=n.getUniformLocation(O,x)}};
ex.Y8.prototype.PR=function(){};ex.Y8.prototype.pv=function(_){var n=ex.Y0;for(var m=0;m<_.length;m+=2){n.uniform1i(_[m],m>>>1);
n.activeTexture(n["TEXTURE"+(m>>>1)]);n.bindTexture(n.TEXTURE_2D,_[m+1])}n.activeTexture(n.TEXTURE0)};
ex.Y8.prototype.L7=function(_,n){var O=ex.Y0,l=O.createShader(O.FRAGMENT_SHADER);O.shaderSource(l,_);
O.compileShader(l);if(!O.getShaderParameter(l,O.COMPILE_STATUS))console.log(O.getShaderInfoLog(l));var x=O.createShader(O.VERTEX_SHADER);
O.shaderSource(x,n);O.compileShader(x);if(!O.getShaderParameter(x,O.COMPILE_STATUS))console.log(O.getShaderInfoLog(x));
var t=O.createProgram();O.attachShader(t,x);O.attachShader(t,l);O.linkProgram(t);if(!O.getProgramParameter(t,O.LINK_STATUS))console.log("Could not initialise shaders");
this.Jx=t};ex.Y8.prototype.SX=function(){if(ex.Y8.Wb!=this){ex.Y0.useProgram(this.Jx);ex.Y8.Wb=this}};
ex.Yq=function(_,n){ex.Bg++;ex.mI+=_*n;if(ex.Qe)console.log("GL.Channels instances: "+ex.Bg+", memory: "+ex.mI);
var O=ex.Y0;this.a=_;this.n=n;this.P8=O.createTexture();this.JA=null;this.u7(this.P8,_,n)};ex.Yq.prototype.u7=function(_,n,O){var l=ex.Y0;
l.bindTexture(l.TEXTURE_2D,_);l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MIN_FILTER,l.NEAREST);l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MAG_FILTER,l.NEAREST);
l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_S,l.CLAMP_TO_EDGE);l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_T,l.CLAMP_TO_EDGE);
l.texImage2D(l.TEXTURE_2D,0,l.ALPHA,n,O,0,l.ALPHA,l.UNSIGNED_BYTE,null)};ex.Yq.prototype.set=function(_,n){var O=ex.Y0;
O.bindTexture(O.TEXTURE_2D,this.P8);O.pixelStorei(O.UNPACK_ALIGNMENT,1);var l=this.a*this.n;if(n==null||n.O()*10>l)O.texImage2D(O.TEXTURE_2D,0,O.ALPHA,this.a,this.n,0,O.ALPHA,O.UNSIGNED_BYTE,_);
else{var x=new a8(0,0,this.a,this.n),t=Q.Q(n.O());Q.pc(_,x,t,n);O.texSubImage2D(O.TEXTURE_2D,0,n.x,n.y,n.a,n.n,O.ALPHA,O.UNSIGNED_BYTE,t)}O.pixelStorei(O.UNPACK_ALIGNMENT,4)};
ex.Yq.prototype.delete=function(){var _=ex.Y0;if(this.P8){_.deleteTexture(this.P8);ex.Bg--;ex.mI-=this.a*this.n}if(ex.Qe)if(ex.Qe)console.log("GL.Channels instances: "+ex.Bg+", memory: "+ex.mI*4)};
ex.Bg=0;ex.eO=function(_,n,O){if(O==null)O=!1;ex.Bg++;ex.mI+=_*n*4;if(ex.Qe)console.log("GL.Channels instances: "+ex.Bg+", memory: "+ex.mI);
var l=ex.Y0;this.a2l=O;this.a=_;this.n=n;this.P8=l.createTexture();this.JA=null;this.u7(this.P8,_,n)};
ex.eO.prototype.set=function(_,n){var O=ex.Y0;O.disable(O.SCISSOR_TEST);O.bindTexture(O.TEXTURE_2D,this.P8);
if(_==null||_ instanceof Uint8Array){var l=this.a*this.n;if(n==null||n.O()*10>l)O.texImage2D(O.TEXTURE_2D,0,O.RGBA,this.a,this.n,0,O.RGBA,O.UNSIGNED_BYTE,_);
else{var x=Q.Q(n.O()*4);Q.zw(_,new a8(0,0,this.a,this.n),x,n);O.texSubImage2D(O.TEXTURE_2D,0,n.x,n.y,n.a,n.n,O.RGBA,O.UNSIGNED_BYTE,x)}}else O.texImage2D(O.TEXTURE_2D,0,O.RGBA,O.RGBA,O.UNSIGNED_BYTE,_)};
ex.eO.prototype.get=function(_){var n=ex.Y0;ex.QC(this);n.readPixels(0,0,this.a,this.n,n.RGBA,n.UNSIGNED_BYTE,_)};
ex.eO.prototype.N8=function(_){if(_.wk())return;var n=ex.Y0;if(this.JA==null){this.JA=n.createTexture();
this.u7(this.JA,this.a,this.n);ex.Bg++;ex.mI+=this.a*this.n*4}n.bindFramebuffer(n.FRAMEBUFFER,ex.yA);
n.bindTexture(n.TEXTURE_2D,this.JA);if(_){var O=Math.max(_.x,0),l=Math.max(_.y,0);n.copyTexSubImage2D(n.TEXTURE_2D,0,O,l,O,l,_.a,_.n)}else n.copyTexImage2D(n.TEXTURE_2D,0,n.RGBA,0,0,this.a,this.n,0)};
ex.eO.prototype.u7=function(_,n,O){var l=ex.Y0;l.bindTexture(l.TEXTURE_2D,_);l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MIN_FILTER,this.a2l?l.LINEAR:l.NEAREST);
l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MAG_FILTER,l.NEAREST);l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_S,l.CLAMP_TO_EDGE);
l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_T,l.CLAMP_TO_EDGE);l.texImage2D(l.TEXTURE_2D,0,l.RGBA,n,O,0,l.RGBA,l.UNSIGNED_BYTE,null)};
ex.eO.prototype.delete=function(){var _=ex.Y0;if(this.P8){_.deleteTexture(this.P8);ex.Bg--;ex.mI-=this.a*this.n*4}if(this.JA){_.deleteTexture(this.JA);
ex.Bg--;ex.mI-=this.a*this.n*4}if(ex.Qe)if(ex.Qe)console.log("GL.Channels instances: "+ex.Bg+", memory: "+ex.mI)};
ex.eO.prototype.clone=function(){var _=ex.Y0,n=new ex.eO(this.a,this.n);ex.QC(this);_.bindTexture(_.TEXTURE_2D,n.P8);
_.copyTexImage2D(_.TEXTURE_2D,0,_.RGBA,0,0,this.a,this.n,0);return n};ex.HR={avS:"  vec3 ocbrn(vec3 a, vec3 b, float f) {  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(ONE3 - min(ONE3,(ONE3-b)/d), ZERO3, vec3(vec3(greaterThan(vec3(0.001),d))) );  }  ",acu:"  vec3 ocddg(vec3 a, vec3 b, float f) {  return mix(        min(ONE3,       b/(ONE3 - a*f))    ,   ONE3   , vec3(equal(a*f,ONE3 )) );  }  ",pm:"const vec3 ZERO3 = vec3(0.0,0.0,0.0) ;\t\t\tconst vec3 QUAR3 = vec3(0.25,0.25,0.25) ;\t\t\tconst vec3 HALF3 = vec3(0.5,0.5,0.5) ;\t\t\tconst vec3 ONE3  = vec3(1.0,1.0,1.0) ;",Lo:" float hueDiff(float shue, float hue) { \t\t\t\tfloat df = hue-shue, adf=abs(df), df0 = df-1.0, df1 = df+1.0; \t\t\t\tif(abs(df0) < adf)  df = df0; \t\t\t\telse if(abs(df1) < adf)  df = df1; \t\t\t\treturn df; \t\t\t}",us:" float hueCF(float hueS, float hue0) { \t\t\t\tfloat df = hueDiff(hue0, hueS)*6.0; \t\t\t\treturn   max(0.0, min(1.0,  (df<0.0) ? 1.0+df : 1.0-df  ));  } ",Ei:"float sat(vec3 c) { return max(c.x,max(c.y,c.z)) - min(c.x,min(c.y,c.z)); }",JB:"float lum(vec3 c) { return dot(c, vec3(0.3,0.59,0.11)); } ",ap:"vec3  D  (vec3 x) { return mix( sqrt(x), ((16.0*x-12.0)*x+4.0)*x  , vec3(lessThanEqual(x,QUAR3))  ); }",a5q:"float midSat (vec3 v, float s) { return ((v.y-v.z)*s)/(v.x-v.z); }",uT:"vec3 setSat (vec3 c, float s) \t\t\t{\t\t\t\tvec3 o;\t\t\t\tif(c.r==c.g && c.g==c.b) o = ZERO3;\t\t\t\telse if(c.r>c.g)  {\t\t\t\t\tif(c.r>c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(s, midSat(c.rgb,s), 0.0); \t\t\t\t\t\telse\to = vec3(s, 0.0, midSat(c.rbg,s)); \t\t\t\t\t}\t\t\t\t\telse\t\to = vec3(midSat(c.brg,s), 0.0, s); \t\t\t\t} else  {\t\t\t\t\tif(c.r<c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(0.0, s, midSat(c.gbr,s)); \t\t\t\t\t\telse\t    o = vec3(0.0, midSat(c.bgr,s), s); \t\t\t\t\t}\t\t\t\t\telse\t\t    o = vec3(midSat(c.grb,s), s, 0.0);\t\t\t\t}\t\t\t\treturn o;\t\t\t}",afI:"vec3 clipCol(vec3 c) \t\t\t{ \t\t\t\tvec3 o = c;  float l = lum(c); \t\t\t\tfloat n = min(c.r,min(c.g,c.b)); \t\t\t\tfloat x = max(c.r,max(c.g,c.b)); \t\t\t\tif(n<0.0) o = l + (o-l)*(l/(l-n));\t\t\t\tif(x>1.0) o = l + (o-l)*(1.0-l)/(x-l);\t\t\t\treturn o;\t\t\t}",VF:"vec3 setLum (vec3 c, float l) { return clipCol(c+l-lum(c)); } ",cm:"bool in01(vec2 c) { return (0.0<=c.x) && (c.x<=1.0) && (0.0<=c.y) && (c.y<=1.0); }",hash:"float hash(vec2 v) { return fract(sin(dot(v ,vec2(12.9898,78.233))) * 43758.5453); }",$d:"vec3 rgbToHsl (vec3 rgb) {\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, l = (mx + mn) * 0.5;\t\t\t\t\t\t\t\tif(mx == mn) h = s = 0.0; \t\t\t\telse{ \t\t\t\t\tfloat d = mx - mn; \t\t\t\t\ts = l > 0.5 ? d / (2.0 - mx - mn) : d / (mx + mn);  \t\t\t\t\t\t\t\t\t\tif(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\t\t\th /= 6.0; \t\t\t\t}  \t\t\t\treturn vec3(h,s,l); }",kg:"vec3 hslToRgb (float h, float s, float l){\t\t\t\tfloat r, g, b;\t\t\t\t\t\t\t\tif(s == 0.0)  r = g = b = l; \t\t\t\telse{ \t\t\t\t\tfloat q = l < 0.5 ? l * (1.0 + s) : l + s - l * s; \t\t\t\t\tfloat p = 2.0 * l - q; \t\t\t\t\tr = hue2rgb(p, q, h + 1.0/3.0); \t\t\t\t\tg = hue2rgb(p, q, h); \t\t\t\t\tb = hue2rgb(p, q, h - 1.0/3.0); \t\t\t\t} \t\t\t\treturn vec3(r,g,b); } ",Bn:"float hue2rgb(float p, float q, float t){ \t\t\t\tif(t < 0.0) t += 1.0;\t\t\t\tif(t > 1.0) t -= 1.0;\t\t\t\tif(t < 1.0/6.0) return p + (q - p) * 6.0 * t; \t\t\t\tif(t < 1.0/2.0) return q; \t\t\t\tif(t < 2.0/3.0) return p + (q - p) * (2.0/3.0 - t) * 6.0; \t\t\t\treturn p;\t}",lM:"vec3 rgbToHsv(vec3 rgb){\t\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, v = mx; \t\t\t\t\t\t\t\tfloat d = mx - mn; \t\t\t\ts = mx == 0.0 ? 0.0 : d / mx; \t\t\t\t\t\t\t\tif(mx == mn) h = 0.0;  \t\t\t\telse if(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\th /= 6.0; \t\t\t\treturn vec3(h,s,v);  }",ax:"vec3 hsvToRgb(float h, float s, float v)  { \t\t\t\tfloat r, g, b, f, p, q, t, i; \t\t\t\ti = floor(h * 6.0); \t\t\t\tf = h * 6.0 - i; \t\t\t\tp = v * (1.0 - s); \t\t\t\tq = v * (1.0 - f * s); \t\t\t\tt = v * (1.0 - (1.0 - f) * s); \t\t\t\t\t\t\t\tif     (i==0.0) { r = v, g = t, b = p; }\t\t\t\telse if(i==1.0) { r = q, g = v, b = p; }\t\t\t\telse if(i==2.0) { r = p, g = v, b = t; }\t\t\t\telse if(i==3.0) { r = p, g = q, b = v; }\t\t\t\telse if(i==4.0) { r = t, g = p, b = v; }\t\t\t\telse if(i==5.0) { r = v, g = p, b = q; }\t\t\t\t\t\t\t\treturn vec3(r,g,b); }",KY:"\t\tfloat srgbUngamma(float x) {\t\t\treturn (x<0.04045) ? (x / 12.92) : pow( ( x + 0.055 ) / 1.055,  2.4);\t\t}\t\tfloat xyzScale(float x) {\t\t\treturn (x>0.008856) ? pow(x,1.0/3.0) : (903.3*x+16.0)*(1.0/116.0); \t\t}\t\tvec3 rgbToLab(vec3 rgb) {\t\t\tbool ok = true;\t\t\trgb.r = srgbUngamma(rgb.r); \t\t\trgb.g = srgbUngamma(rgb.g); \t\t\trgb.b = srgbUngamma(rgb.b); \t\t\tok = ok && 0.0318<=rgb.r && rgb.r<=0.0319; \t\t\tok = ok && 0.127 <=rgb.g && rgb.g<=0.128 ; \t\t\tok = ok && 0.3047<=rgb.b && rgb.b<=0.305; \t\t\t\t\t\tmat3 srgb2xyz = mat3(0.4360747164307918, 0.222504478679176, 0.013932173981751634,    0.3850649153329662, 0.7168786002139355, 0.09710452396580642,    0.14308038098632878, 0.06061692340677909, 0.7141732835334675); \t\t\t\t\t\tvec3 xyz = srgb2xyz*rgb; \t\t\tok = ok && 0.106<=xyz[0] && xyz[0]<=0.107;  \t\t\t\t\t\txyz=xyz*vec3(100.0/96.72, 100.0/100.0, 100.0/81.427);  \t\t\txyz.x = xyzScale(xyz.x); \t\t\txyz.y = xyzScale(xyz.y); \t\t\txyz.z = xyzScale(xyz.z); \t\t\t\t\t\treturn vec3(116.0*xyz.y-16.0, 500.0*(xyz.x-xyz.y), 200.0*(xyz.y-xyz.z));  \t\t} \t\tfloat labSimilar(vec3 lab, vec3 mnm, vec3 mxm, float lim)  {\t\t\tfloat L=lab.x, a=lab.y, b=lab.z; \t\t\tfloat dl = ((L<mnm.x) ? (mnm.x-L) : ((mxm.x<L) ? (mxm.x-L) : 0.0))*(1.0/100.0); \t\t\tfloat da = ((a<mnm.y) ? (mnm.y-a) : ((mxm.y<a) ? (mxm.y-a) : 0.0))*(1.0/116.0); \t\t\tfloat db = ((b<mnm.z) ? (mnm.z-b) : ((mxm.z<b) ? (mxm.z-b) : 0.0))*(1.0/116.0); \t\t\t/*float dl  = (slab.x-lab.x)*(1.0/100.0), da=(slab.y-lab.y)*(1.0/116.0), db=(slab.z-lab.z)*(1.0/116.0);*/ \t\t\tfloat dst = sqrt(dl*dl+da*da+db*db)*1.35; \t\t\treturn (dst<=lim) ? min(1.0,1.17*(1.0 - (dst/lim))) : 0.0; \t\t}",a7c:"  mat3 rgbToYuv = mat3(0.299, -0.147, 0.615,    0.587,  -0.289,  -0.515,   0.114, 0.436, -0.100 );  ",ad8:"  mat3 yuvToRgb = mat3(1.0, 1.0, 1.0,   0.0, -0.3946, 2.03199,    1.1398, -0.5805, -0.00048  ); ",GX:"\t\tfloat _blendIf(float c, vec4 br) {  return min((c-br.x)*br.y,  (c-br.w)*br.z);  }  \t\tfloat blendIf(vec4 sc, vec4 tc, vec4 br[10]) {  \t\t\tfloat sg = lum(sc.rgb); \t\t\tfloat tg = lum(tc.rgb); \t\t\tfloat ms = _blendIf(sg,br[0]); \t\t\tms = min(ms, _blendIf(sc.r,br[2])); \t\t\tms = min(ms, _blendIf(sc.g,br[4])); \t\t\tms = min(ms, _blendIf(sc.b,br[6])); \t\t\t\t\t\tfloat mt = _blendIf(tg,br[1]); \t\t\tmt = min(mt, _blendIf(tc.r,br[3])); \t\t\tmt = min(mt, _blendIf(tc.g,br[5])); \t\t\tmt = min(mt, _blendIf(tc.b,br[7])); \t\t\tmt=max(mt,1.0-tc.w);\t\t\t\t\t\tfloat mi=min(ms,mt);\t\t\treturn clamp(mi,0.0,1.0);\t\t}",rW:"\t\t\tvec4 mapLut(vec4 src, sampler2D lut, float N) {\t\t\t\tfloat iN = 1.0/N; \t\t\t\tfloat fb = 0.5*iN + src.b*(1.0-iN); \t\t\t\tfloat fg = 0.5*iN + src.g*(1.0-iN); \t\t\t\tfloat R  = src.r*(N-1.0)*0.999999; \t\t\t\tfloat ir = floor(R)*iN;  \t\t\t\t\t\t\t\tvec4 c0 = texture2D(lut, vec2(fb, ir   +( fg   )*iN)); \t\t\t\tvec4 c1 = texture2D(lut, vec2(fb, ir+iN+( fg   )*iN)); \t\t\t\tvec4 rs = mix(c0,c1,R-floor(R));  \t\t\t\treturn rs;  \t\t\t}"};
ex.q={};ex.q.Uv={};ex.q.Eo=null;ex.q.OE=null;ex.q.b7=null;ex.q.Qi=function(_,n,O,l,x,t,h,V){if(V==null)V=fW.nr();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(_)==-1){h=h*V.fill;V.fill=1;V.style=!1}var y=_+(V.y3?"1":"");
if(ex.q.Uv[y]==null)ex.q.Uv[y]=new ex.q.fM(_,V.y3!=null);var r=ex.q.Uv[y],E=O.v6(x).v6(t);E.offset(-x.x,-x.y);
if(E.wk())return;var a=ex.Y0;ex.QC(l,E);l.N8(E);r.SX();r.PR(n.P8,l.JA,ex.NJ(O,x),h,V.fill,V.style?1:0,V.FE?1:0,V.y3?new Float32Array(V.y3):null);
a.drawArrays(a.TRIANGLES,0,6)};ex.q.Zx=function(_,n,O,l,x,t,h,V,y,r,E){if(ex.q.Eo==null)ex.q.Eo=new ex.q.Vq(!0,!0);
if(ex.q.OE==null)ex.q.OE=new ex.q.Vq(!0,!1);if(ex.q.b7==null)ex.q.b7=new ex.q.Vq(!1,!0);var a=r?1:0,S=_?x?ex.q.Eo:ex.q.OE:ex.q.b7,e=new Float32Array(E?[E[0],E[1],E[2],1]:[1,1,1,1]),P=n?n.v6(l).v6(V):l.v6(V);
if(P.wk())return;P.offset(-l.x,-l.y);var b=ex.Y0;ex.QC(O,P);O.N8(P);S.SX();if(_==null)S.PR(null,O.JA,x.P8,ex.NJ(l,l),ex.NJ(t,l),h/255,y,a,e);
else if(x)S.PR(_.P8,O.JA,x.P8,ex.NJ(n,l),ex.NJ(t,l),h/255,y,a,e);else S.PR(_.P8,O.JA,null,ex.NJ(n,l),null,h/255,y,a,e);
b.drawArrays(b.TRIANGLES,0,6)};ex.q.aoh=function(_,n,O){if(ex.q.aqH==null)ex.q.aqH=new ex.q.YZ;var l=ex.q.aqH,x=new a8(0,0,_.a,_.n),t=ex.Y0;
ex.QC(n);n.N8(x);l.SX();l.PR(x,_.P8,n.JA,O.P8);t.drawArrays(t.TRIANGLES,0,6)};ex.q.AR={norm:"return a;",diss:"return a;",dark:"return min(a,b);","mul ":"return a*b;",idiv:"  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(mix(ONE3-((ONE3-b)/max(d,vec3(1e-6))), ZERO3, vec3(greaterThanEqual(ONE3-b,d)) ), ONE3   ,   vec3(equal(b,ONE3) ));   ",lbrn:"return max(ZERO3, a*f+b-f);",dkCl:"return ( lum(a)<lum(b) ? a : b );",lite:"return max(a,b);",scrn:"return b+a-b*a;","div ":"a*=f;  return mix(    mix(  min(ONE3,b/(1.0-a)), ONE3,  step(1.0-a, b))     , ZERO3, vec3(equal(b,ZERO3)) );",lddg:"a*=f;  return min(ONE3,a+b);",lgCl:"return ( lum(a)>lum(b) ? a : b );",over:"return mix( a+(2.0*b -1.0)-a*(2.0*b-1.0) ,  2.0*b*a , step(-HALF3,-b) );",sLit:"return mix( b+(2.0*a -1.0)*(D(b)-b)  , b-(1.0-2.0*a)*b*(1.0-b) , step(-HALF3,-a) );",hLit:"return mix( b+(2.0*a -1.0)-b*(2.0*a-1.0) ,  2.0*a*b , step(-HALF3,-a) );",vLit:" return mix( ocddg(2.0*a-1.0,b,f)  ,  ocbrn(2.0*a,b,f)  ,  vec3(greaterThanEqual(HALF3,a))); ",lLit:"return mix( min(ONE3, (2.0*a-1.0)*f+b) , max(ZERO3, 2.0*a*f+b-f)  , step(-HALF3,-a));",pLit:"return mix( max(2.0*a-1.0,b) , min(2.0*a, b) , step(-HALF3,-a)  );",hMix:"if(f>0.99) return vec3(greaterThanEqual(a+b,ONE3));   return  min( ONE3, max(ZERO3,  (b+a*f-f)/(1.0-f+1e-6)  ))  ;  ",diff:"return abs(a*f-b);",smud:"return a+b-2.0*a*b;",fsub:"return max(b-a, ZERO3);",fdiv:"return min(b/a, ONE3);","hue ":"return  setLum( setSat(a, sat(b)) , lum(b) ); ","sat ":"return  setLum( setSat(b, sat(a)) , lum(b) ); ",colr:"return  setLum( a, lum(b) ); ","lum ":"return  setLum( b, lum(a) ); "};
ex.q.fM=function(_,n){ex.Y8.call(this);var O="\t\t\tprecision highp float;\t\t\t"+ex.HR.pm+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform float alpha;\t\t\tuniform float fill;\t\t\tuniform float style;\t\t\tuniform float keepBGA;\t\t\t"+(n?"uniform vec4 blIf[10];":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\t\t"+ex.HR.Ei+"\t\t\t"+ex.HR.JB+"\t\t\t"+ex.HR.ap+"\t\t\t"+ex.HR.avS+"\t\t\t"+ex.HR.acu+"\t\t\t"+ex.HR.a5q+"\t\t\t"+ex.HR.uT+"\t\t\t"+ex.HR.afI+"\t\t\t"+ex.HR.VF+"\t\t\t"+ex.HR.hash+"\t\t\t"+(n?ex.HR.GX:"")+"\t\t\t\t\t\tvec3  BB(vec3  a, vec3  b, float f) { "+ex.q.AR[_]+" } \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = texture2D(source, sCoord);",l="\t\t\tattribute vec2 verPos;\t\t\tuniform vec4 srct;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
if(_=="diss")O+="\t\t\t\t\tgl_FragColor = (hash(tCoord) >= (keepBGA + (1.0-keepBGA)*src.w)*alpha ? tgt : vec4(src.xyz, keepBGA*tgt.w + (1.0-keepBGA)));  }";
else O+="  \t\t\t\t\tfloat as = (keepBGA + (1.0-keepBGA)*src.w) * alpha, at = keepBGA + (1.0-keepBGA)*tgt.w; \t\t\t\t\t"+(n?"  as*=blendIf(src,tgt,blIf);  ":"")+"\t\t\t\t\tfloat ats = at * (1.0-as), ao = as + ats, iao = (ao==0.0) ? 0.0 : (1.0/ao); \t\t\t\t\tfloat ccf = (style==1.0) ? 1.0 : as; \t\t\t\t\tvec3 ncl = ( (1.0-at)*as*src.xyz + (1.0-ccf)*at*tgt.xyz + ccf*at*BB(src.xyz, tgt.xyz, (1.0+as-ccf)*fill)  ) * iao;\t\t\t\t\tgl_FragColor = vec4(ncl, keepBGA*tgt.w + (1.0-keepBGA)*(as*fill + at*(1.0-as*fill)));\t\t\t\t\t\t\t}";
this.L7(O,l)};ex.q.fM.prototype=new ex.Y8;ex.q.fM.prototype.PR=function(_,n,O,l,x,t,h,V){this.UC("srct alpha source target fill style keepBGA blIf".split(" "));
var y=ex.Y0,r=this.D3;y.uniform4fv(r.srct,O);y.uniform1f(r.alpha,l);y.uniform1f(r.fill,x);y.uniform1f(r.style,t);
y.uniform1f(r.keepBGA,h);if(V)y.uniform4fv(r.blIf,V);this.pv([r.source,_,r.target,n])};ex.q.Vq=function(_,n){ex.Y8.call(this);
this.aqV=_;this.SG=n;var O="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform sampler2D weight;\t\t\tuniform vec4 cswitch;\t\t\tuniform float wcolor;\t\t\tuniform float awg; /* additional weight */\t\t\tuniform float dissv;\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\t"+ex.HR.cm+"\t\t\t"+ex.HR.hash+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = "+(_?"texture2D(source, sCoord)":"vec4(0.0)")+"; \t\t\t\tfloat wg = awg "+(n?"* (in01(wCoord) ? texture2D(weight, wCoord).w : wcolor)":"")+";\t\t\t\t"+(_?"":"wg = 1.0-wg;")+"\t\t\t\tfloat hwg = hash(tCoord)>=wg ? 0.0 : 1.0;  wg = dissv*hwg + (1.0-dissv)*wg; \t\t\t\tfloat as = wg*src.w, at = (1.0-wg)*tgt.w, ao = as+at;\t\t\t\t\t\t\t\tvec4 nc = vec4( (as*src.xyz + at*tgt.xyz)/ao, ao );  \t\t\t\tgl_FragColor =  "+(n?"nc":"cswitch*nc + (1.0- cswitch)*tgt")+";    \t\t\t}",l="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\tuniform vec4 srct;\t\t\tuniform vec4 wrct;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\twCoord = (verPos-wrct.xy)/wrct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.L7(O,l)};ex.q.Vq.prototype=new ex.Y8;ex.q.Vq.prototype.PR=function(_,n,O,l,x,t,h,V,y){if(this.SG)this.UC("srct wrct wcolor awg dissv source target weight cswitch".split(" "));
else this.UC("srct awg dissv source target cswitch".split(" "));var r=ex.Y0,E=this.D3;r.uniform4fv(E.srct,l);
if(this.SG){r.uniform4fv(E.wrct,x);r.uniform1f(E.wcolor,t)}else{r.uniform4fv(E.cswitch,y)}r.uniform1f(E.awg,h);
r.uniform1f(E.dissv,V);var a=[E.source,_,E.target,n];if(this.SG)a.push(E.weight,O);this.pv(a)};ex.q.YZ=function(){ex.Y8.call(this);
var _="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D prev;\t\t\tuniform sampler2D next;\t\t\tuniform sampler2D alpha;\t\t\t\t\t\tvarying vec2 coord;\t\t\t\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec3 or = texture2D(prev , coord).rgb;\t\t\t\tvec3 ir = texture2D(next , coord).rgb; \t\t\t\tfloat al = texture2D(alpha, coord).w; \t\t\t\tgl_FragColor =  vec4(  (ir-(1.0-al)*or)*(1.0/al)   ,1.0 );  \t\t\t}",n="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 coord;\t\t\t\t\t\tuniform vec4 rct;\t\t\tvoid main(void) {\t\t\t\tcoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.L7(_,n)};ex.q.YZ.prototype=new ex.Y8;ex.q.YZ.prototype.PR=function(_,n,O,l){this.UC(["rct","prev","next","alpha"]);
var x=ex.Y0,t=this.D3;x.uniform4fv(t.rct,[0,0,1,1]);this.pv([t.prev,n,t.next,O,t.alpha,l])};ex.v3={RZ:{},ni:"\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\tsCoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}"};
ex.v3.iT=function(_,n){var O=a3.v9,l=[O.OG,O.je,O.VB,O.Od,O.YB,O.it,O.rk,O.Hw].indexOf(_.type),x=ex.v3.RZ[_.type];
if(x==null)x=ex.v3.RZ[_.type]=new ex.RZ[l];x.SX();x.PR(n,_);ex.Y0.drawArrays(ex.Y0.TRIANGLES,0,6)};ex.RZ=[];
ex.RZ[0]=function(){ex.Y8.call(this);this.Aj={};var _="\t\t\tprecision mediump float;\t\t\t"+ex.HR.JB+"\t\t\t"+ex.HR.pm+"\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D map;\t\t\tuniform float toGray;\t\t\tuniform float presLum;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tfloat olum = lum(src.rgb); \t\t\t\tsrc.rgb = toGray * vec3(olum) + (1.0-toGray)*src.rgb; \t\t\t\tfloat r = texture2D(map, vec2(src.r, 0)).r;\t\t\t\tfloat g = texture2D(map, vec2(src.g, 0)).g;\t\t\t\tfloat b = texture2D(map, vec2(src.b, 0)).b;\t\t\t\tvec3 col = vec3(r,g,b); \t\t\t\tif(presLum==1.0) { \t\t\t\t\tfloat nlum = lum(col); \t\t\t\t\tif(olum>nlum) col += (olum-nlum)/(1.0-nlum)*(ONE3-col); \t\t\t\t\telse if(nlum==0.0) col = ZERO3; \t\t\t\t\telse col = (olum/nlum) * col; \t\t\t\t}\t\t\t\tgl_FragColor = vec4(col,src.w);\t\t\t\t\t\t\t}";
this.L7(_,ex.v3.ni)};ex.RZ[0].prototype=new ex.Y8;ex.RZ[0].prototype.PR=function(_,n){var O={o:n.pw,J:n.Te,k:n.Qf,EX:Q.Q(n.pw.length)},l=O.o.length;
if(this.Aj["m"+l]==null){this.Aj["m"+l]={ave:new ex.eO(l,1),sw:Q.Q(l*4)}}var x=this.Aj["m"+l];Q.gJ(O,x.sw,0);
var t=x.ave;t.set(x.sw);this.UC(["source","map","toGray","presLum"]);var h=ex.Y0,V=this.D3;h.uniform1f(V.toGray,n.bC?1:0);
h.uniform1f(V.presLum,n.Lv?1:0);this.pv([V.source,_,V.map,t.P8])};ex.RZ[1]=function(){ex.Y8.call(this);
this.ayY=new ex.eO(256,1);this.aqn=Q.Q(256*4);var _="\t\t\t\tprecision mediump float;\t\t\t\t"+ex.HR.Bn+"\t\t\t\t"+ex.HR.$d+"\t\t\t\t"+ex.HR.kg+"\t\t\t\t\t\t\t\tuniform sampler2D source;\t\t\t\tuniform sampler2D map;\t\t\t\tuniform float cfa; \t\t\t\tuniform float cfb; \t\t\t\tuniform int colorize; \t\t\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\tvoid main(void) { \t\t\t\t\tvec4 src = texture2D(source, sCoord);\t\t\t\t\tvec3 rgb = src.rgb;\t\t\t\t\tfloat mn=min(rgb.r,min(rgb.g,rgb.b)), mx = max(rgb.r,max(rgb.g,rgb.b));\t\t\t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\tfloat h = hsl.r, s = hsl.g, l = hsl.b; \t\t\t\t\t\t\t\t\t\tvec4 mapv = texture2D(map, vec2(h, 0));\t\t\t\t\tfloat nh = mapv.r; \t\t\t\t\tfloat sc = mapv.g*2.0-1.0; \t\t\t\t\tfloat lc = mapv.b*2.0-1.0; \t\t\t\t\t\t\t\t\t\tfloat cf = -lc, tv=mn;\t\t\t\t\tif(0.0<lc) {  cf=lc;  tv=mx;  }\t\t\t\t\t\t\t\t\t\tfloat a0 = cfa + cfb*cf*tv, a1 = cfb*(1.0-cf);\t\t\t\t\trgb = a0 + a1 * rgb;\t\t\t\t\t\t\t\t\t\thsl = rgbToHsl(rgb);  s = hsl.g;  l = hsl.b; \t\t\t\t\tfloat ns = sc; \t\t\t\t\tif(colorize==0) {\t\t\t\t\t\tif(sc>0.0) sc = pow(tan((3.14159265359/2.0)*sc),1.3);\t\t\t\t\t\tns = min(s * (1.0 + sc), 1.0); \t\t\t\t\t} \t\t\t\t\t\t\t\t\t\tgl_FragColor = vec4(hslToRgb(nh,ns,l),src.w); \t\t\t\t\t\t\t\t\t}";
this.L7(_,ex.v3.ni)};ex.RZ[1].prototype=new ex.Y8;ex.RZ[1].prototype.PR=function(_,n){Q.gJ({o:n.a4s,J:n.m9,k:n.ahY,EX:Q.Q(256)},this.aqn);
this.ayY.set(this.aqn);this.UC(["source","map","cfa","cfb","colorize"]);var O=ex.Y0,l=this.D3;O.uniform1f(l.cfa,n.a69);
O.uniform1f(l.cfb,n.Kz);O.uniform1i(l.colorize,n.ae2);this.pv([l.source,_,l.map,this.ayY.P8])};ex.RZ[2]=function(){ex.Y8.call(this);
var _="\t\t\tprecision mediump float;\t\t\t"+ex.HR.Bn+"\t\t\t"+ex.HR.lM+"\t\t\t"+ex.HR.ax+"\t\t\t"+ex.HR.$d+"\t\t\t"+ex.HR.kg+"\t\t\t"+ex.HR.a7c+"\t\t\t"+ex.HR.ad8+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float vib; \t\t\tuniform float sat; \t\t\tuniform vec3  yF; \t\t\tconst float PI = 3.141592653; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\tvec3 vibrate(vec3 rgb) {  \t\t\t\tvec3 yuv = rgbToYuv * rgb; \t\t\t\treturn yuvToRgb * (yuv * yF); \t\t\t} \t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\trgb = pow(rgb,vec3(2.4)); \t\t\t\t\t\t\t\trgb = clamp(vibrate(rgb), 0.0, 1.0); \t\t\t\t\t\t\t\trgb = pow(rgb,vec3(1.0/2.4)); \t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb);  \t\t\t\tfloat nsat = max(0.0, min(1.0, hsl.y*(1.0+sat)));  \t\t\t\trgb = hslToRgb(hsl.x, nsat, hsl.z);  \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t}";
this.L7(_,ex.v3.ni)};ex.RZ[2].prototype=new ex.Y8;ex.RZ[2].prototype.PR=function(_,n){this.UC(["source","vib","sat","yF"]);
var O=ex.Y0,l=this.D3;O.uniform1f(l.vib,n.nZ[0]);O.uniform1f(l.sat,n.nZ[1]);O.uniform3fv(l.yF,new Float32Array([n.nZ[2],n.nZ[3],n.nZ[3]]));
this.pv([l.source,_])};ex.RZ[3]=function(){ex.Y8.call(this);var _="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform mat4  trf; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec4 nsr = vec4(src.rgb,1.0); \t\t\t\tgl_FragColor = vec4((trf*nsr).rgb,src.w); \t\t\t\t\t\t\t}";
this.L7(_,ex.v3.ni)};ex.RZ[3].prototype=new ex.Y8;ex.RZ[3].prototype.PR=function(_,n){this.UC(["source","trf"]);
var O=ex.Y0,l=this.D3;O.uniformMatrix4fv(l.trf,!1,new Float32Array(Q.fN.Z4(n.ha)));this.pv([l.source,_])};
ex.RZ[4]=function(){ex.Y8.call(this);var _="\t\t\tprecision mediump float; \t\t\t"+ex.HR.KY+"\t\t\t"+ex.HR.Bn+"\t\t\t"+ex.HR.kg+"\t\t\t"+ex.HR.$d+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 mnm;\t  \t\t\tuniform vec3 mxm;\t  \t\t\tuniform vec3 shift;   \t\t\tuniform float lim;    \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\t\t\t\t\tvec3 lab = rgbToLab(src.rgb);\t\t\t\tfloat scl = labSimilar(lab, mnm,mxm, lim);\t\t\t\t\t\t\t\tvec3 hsv = rgbToHsl(src.rgb); \t\t\t\tfloat nh = 2.0 + hsv[0]+shift[0]; \t\t\t\thsv[0] = fract(nh); \t\t\t\thsv[1] = max(0.0, min(1.0, hsv[1] + shift[1])); \t\t\t\thsv[2] = max(0.0, min(1.0, hsv[2] + shift[2])); \t\t\t\t\t\t\t\tvec3 rgb = hslToRgb(hsv[0], hsv[1], hsv[2]); \t\t\t\t\t\t\t\tgl_FragColor = vec4(mix(src.rgb,rgb,scl),src.w); \t\t\t\t\t\t\t}";
this.L7(_,ex.v3.ni)};ex.RZ[4].prototype=new ex.Y8;ex.RZ[4].prototype.PR=function(_,n){this.UC(["source","mnm","mxm","shift","lim"]);
var O=ex.Y0,l=this.D3;O.uniform3fv(l.mnm,new Float32Array(n.wc));O.uniform3fv(l.mxm,new Float32Array(n.xS));
O.uniform3fv(l.shift,new Float32Array(n.shift));O.uniform1f(l.lim,n.Ms);this.pv([l.source,_])};ex.RZ[5]=function(){ex.Y8.call(this);
var _="\t\t\tprecision mediump float;\t\t\t"+ex.HR.pm+"\t\t\t"+ex.HR.Lo+"\t\t\t"+ex.HR.us+"\t\t\t"+ex.HR.$d+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 cfs[18]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\tfloat mx = max(rgb.r, max(rgb.g, rgb.b)); \t\t\t\tfloat mn = min(rgb.r, min(rgb.g, rgb.b)); \t\t\t\t\t\t\t\tvec3 CMY = ONE3 - rgb; \t\t\t\tvec3 d = ZERO3; \t\t\t\t\t\t\t\tfor(int j=0; j<9; j++) \t\t\t\t{ \t\t\t\t    vec3 NCMY = CMY * cfs[j+j] + cfs[j+j+1]; \t\t\t\t\t\t\t\t\t\tfloat cfK = 0.0;\t\t\t\t\tif     (j< 6) { \t\t\t\t\t\tcfK = hueCF(float(j)*(1.0/6.0), hsl.x); \t\t\t\t\t\tcfK = cfK * hsl.y * 2.0*min(hsl.z, 1.0-hsl.z); \t\t\t\t\t} \t\t\t\t\telse if(j==6) cfK = max(0.0,mn-0.5)*2.0;\t\t\t\t\telse if(j==7) cfK = 1.0-(abs(mx-0.5)+abs(mn-0.5));\t\t\t\t\telse          cfK = max(0.0,0.5-mx)*2.0;\t\t\t\t\t\t\t\t\t\td += (max(ZERO3, min(ONE3, NCMY))-CMY)*cfK; \t\t\t\t} \t\t\t\t\t\t\t\tCMY = max(ZERO3, min(ONE3, CMY+d)); \t\t\t\trgb = ONE3 - CMY; \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.L7(_,ex.v3.ni)};ex.RZ[5].prototype=new ex.Y8;ex.RZ[5].prototype.PR=function(_,n){this.UC(["source","cfs"]);
var O=ex.Y0,l=this.D3;O.uniform3fv(l.cfs,n.ayo);this.pv([l.source,_])};ex.RZ[6]=function(){ex.Y8.call(this);
var _="\t\t\tprecision mediump float;\t\t\t"+ex.HR.Bn+"\t\t\t"+ex.HR.Lo+"\t\t\t"+ex.HR.us+"\t\t\t"+ex.HR.$d+"\t\t\t"+ex.HR.kg+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float wght[6]; \t\t\tuniform float prms[6]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\t\t\t\t\tfloat tint=prms[0], hue=prms[1], lum=prms[2], mcf=prms[3], x0=prms[4], x1=prms[5]; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\t\t\t\tfloat cf = 0.0;\t\t\t\tfor(int j=0; j<6; j++) cf += min(1.0, 1.7*(1.0-hsl.z)) * hsl.y *  wght[j] * hueCF(hsl.x, float(j)*(1.0/6.0));\t\t\t\t\t\t\t\tfloat lig = max(0.0, min(1.0, hsl.z*(1.0+cf)));\t\t\t\tif(tint==1.0) {  \t\t\t\t\tfloat totl = 0.0;\t\t\t\t\tif     (lig<x0) totl = lig*(0.5/lum); \t\t\t\t\telse if(lig<x1) totl = lig + (mcf)*(0.5 - lum); \t\t\t\t\telse            totl = 1.0 - (1.0-lig)*0.5/(1.0-lum); \t\t\t\t\t\t\t\t\t\thsl.x = hue;  \t\t\t\t\thsl.y = min(1.0, mcf + 3.0*mcf*abs(lig-0.5*(x0+x1))); \t\t\t\t\thsl.z = totl; \t\t\t\t} \t\t\t\telse {  hsl.x=0.0;  hsl.y=0.0;  hsl.z=lig;  } \t\t\t\t\t\t\t\trgb = hslToRgb(hsl.x, hsl.y, hsl.z); \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.L7(_,ex.v3.ni)};ex.RZ[6].prototype=new ex.Y8;ex.RZ[6].prototype.PR=function(_,n){this.UC(["source","wght","prms"]);
var O=ex.Y0,l=this.D3,x=[n.DY,n.au$,n.JB,n.agb,n.y5,n.alj];O.uniform1fv(l.wght,new Float32Array(n.ae8));
O.uniform1fv(l.prms,new Float32Array(x));this.pv([l.source,_])};ex.RZ[7]=function(){ex.Y8.call(this);
this.tN={};var _="\t\t\tprecision mediump float;\t\t\t"+ex.HR.rW+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D lut;\t\t\tuniform float N;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec4 rs = mapLut(src, lut, N); \t\t\t\tgl_FragColor = vec4(rs.rgb,src.w); \t\t\t\t\t\t\t}";
this.L7(_,ex.v3.ni)};ex.RZ[7].prototype=new ex.Y8;ex.RZ[7].prototype.PR=function(_,n){this.UC(["source","lut","N"]);
var O=ex.Y0,l=this.D3,x=n.nq,t=n.r0;if(this.tN["m"+x]==null)this.tN["m"+x]=new ex.eO(x,x*x);var h=this.tN["m"+x];
h.set(t);O.uniform1f(l.N,x);this.pv([l.source,_,l.lut,h.P8]);O.activeTexture(O.TEXTURE1);var V=O.LINEAR;
O.texParameteri(O.TEXTURE_2D,O.TEXTURE_MIN_FILTER,V);O.texParameteri(O.TEXTURE_2D,O.TEXTURE_MAG_FILTER,V);
O.activeTexture(O.TEXTURE0)};ex.filter={QP:{},ni:"1u,/0*&<>2OI;<m^XJZ;]d/vp^r|ows/)z{M>5g7:@5nVPLIGeVMX`|njge-'&-$V&)/$BbHB4D%GNx`KSI=_f_menp%E+%vwKB4&'XQY``edhootpjxp&%*'vhxY{#>5HINMDXX]YnVW",aiH:0,a9o:1,QZ:2,alw:3,a5U:4,axc:5,Gb:6,agT:7};
ex.filter.iT=function(_,n){var O=ex.filter,l,x=_.type+":"+(_.l5?_.l5.join(","):""),l=ex.filter.QP[x];
if(l==null)l=ex.filter.QP[x]=new ex.QP[_.type](_.l5);l.SX();l.PR(n,_);ex.Y0.drawArrays(ex.Y0.TRIANGLES,0,6)};
ex.QP=[0,0,0,0,0,0,0,0,0,0,0,0];ex.QP[7]=function(){ex.Y8.call(this);var _="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwqcd6's%xN,(&&286K5>D9O]LIYXH)P1o]q{nvr.(yzL=4f69?4mLHECaRIT\\xjfca)~|noC2).)[8*+^U`_felkrn$R[aVlzaoxD:;@N|)/G)28-CQNtjkp~`&*#!&4u*-.(q}$<}'-\"8FBi_`esTz~wuz)i~\"#xvhi=,r~(U0$:9==3bw^MLUUINwne8gjpe/}opB;/FMMRQBX__d`dGXLo%P\\e$kca,Bkw!?uR.3.CQf0<E_DAQP@QYbxm!-+0.~2iJ0).)L4,*YjDIDg>zJRH2aS\\;jjpvD}#}N4";
this.L7(aJ.gX(_),aJ.gX(ex.filter.ni))};ex.QP[7].prototype=new ex.Y8;ex.QP[7].prototype.PR=function(_,n){this.UC(["source","iwh","kern"]);
var O=ex.Y0,l=this.D3;O.uniform2fv(l.iwh,n.qc);O.uniform1fv(l.kern,n.a2v);this.pv([l.source,_])};ex.QP[6]=function(_){ex.Y8.call(this);
var n=_[0],O=_[1],l=_[2],x="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwqcd6's%xN,(&&286K5>D9O]SEK%cQeobjf\"{mn@1(Z*-3(a@<97UF=HPl^ZWU|rpbc7&|\"|O,}~RITSZY`_fbwFOUJ`nUcl8./4Bp|#;|&,!7EAh[\"'zuV|!7<0+k!$%zkk0$J>'x~:=<d<.4[U<KMVNV`S,j\\]1 fr{I$w.-11'VkRA@II=BkbY,[^dY#qcd6/NVb<@#4(K`,8A_G?=g}GS\\zQ.ini~-Bkw!Lw&/HK^D=B=ar<JS|X]X{c[Y):sxs7mJy\"wa1#,j::@FsMRM}c",t=aJ.gX(x);
t=t.replaceAll("PRC",l+".0");t=t.replaceAll("DIR",["x,0","0,x"][O]);this.L7(t,ex.v3.ni)};ex.QP[6].prototype=new ex.Y8;
ex.QP[6].prototype.PR=function(_,n){this.UC(["source","iwh","rad"]);var O=ex.Y0,l=this.D3;O.uniform2fv(l.iwh,n.qc);
O.uniform1f(l.rad,n.U2);this.pv([l.source,_])};ex.QP[4]=function(_){ex.Y8.call(this);var n=_[0],O=_[1],l="\t\t\tprecision highp float;\t\t\tuniform sampler2D source;\t\t\tuniform vec2 iwh;\t\t\tuniform float rrad;\t\t\tuniform float tr;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\tconst float PRC="+_[2]+".0; \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 sclr = texture2D(source, sCoord);\t\t\t\tfloat rad = rrad; \t\t\t\tif(rad!=0.0) {\t\t\t\t\tvec4 sum=vec4("+["1.0,1.0,1.0,0.0","0.0,0.0,0.0,1.0","0.0"][O]+"); vec4 cnt = vec4(0.0);\t\t\t\t\tfor(float y=-PRC; y<=PRC; y++) {\t\t\t\t\t\tif(y<-rad || y>rad) continue; \t\t\t\t\t\tfor(float x=-PRC; x<=PRC; x++) { \t\t\t\t\t\t\tif("+["x<-rad || x>rad","(x*x+y*y)>rad*rad"][n]+") continue; \t\t\t\t\t\t\tvec4 clr = texture2D(source, sCoord+vec2(x,y)*iwh);  \t\t\t\t\t\t\t"+["if(clr.w!=0.0) sum.rgb=min(sum.rgb,clr.rgb);  sum.w=max(sum.w,clr.w)","sum.rgb=max(sum.rgb,clr.rgb);  sum.w=min(sum.w,clr.w)","if(abs(sclr.r-clr.r)<tr) {  sum.r+=clr.r;  cnt.r+=1.0;  };"+"if(abs(sclr.g-clr.g)<tr) {  sum.g+=clr.g;  cnt.g+=1.0;  };"+"if(abs(sclr.b-clr.b)<tr) {  sum.b+=clr.b;  cnt.b+=1.0;  };"][O]+"; \t\t\t\t\t\t\t\t\t\t\t\t\t}\t\t\t\t\t}\t\t\t\t\t\t\t\t\t\tsclr = "+(O==2?"vec4(sum.rgb/cnt.rgb, sclr.w)":"sum")+";\t\t\t\t}\t\t\t\tgl_FragColor=sclr; \t\t\t}";
this.L7(l,ex.v3.ni)};ex.QP[4].prototype=new ex.Y8;ex.QP[4].prototype.PR=function(_,n){this.UC(["source","iwh","rrad","tr"]);
var O=ex.Y0,l=this.D3;O.uniform2fv(l.iwh,n.qc);O.uniform1f(l.rrad,n.vn);O.uniform1f(l.tr,n.a1q);this.pv([l.source,_]);
var x=O.LINEAR;x=O.NEAREST;O.activeTexture(O.TEXTURE0);O.texParameteri(O.TEXTURE_2D,O.TEXTURE_MIN_FILTER,x);
O.texParameteri(O.TEXTURE_2D,O.TEXTURE_MAG_FILTER,x);O.activeTexture(O.TEXTURE0)};ex.QP[5]=function(){ex.Y8.call(this);
var _="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwn_ntso BW6-050`>:88DJH]WIJ{lYj^4qmkkw}{1z$*~5C(7;DmKGEEQWUjT]cXn|egmoG&s(2%-)D>01bSJ|LOUJ$O^`hlzdmsh~-bPKGLZ9520N?6AIeWSPNuki[\\0~qht}K(yzNEPQVRg6?E:P^YX]X+!\"'5sef:)xQO*}4377-\\qXGJOJkbY,[^dY!6dpv/py t+96\\OwcEjn'rThklbP\\bz\\ek`v%!H;cO0VZr^?TWXNL>?paSK(a4cfla+ykl>7+A2DH+<0eD67jYAS ZNdcgg]-B)wz z<3%|EL/gc2;A6LZ#}HV^tTf ]o+\"{mnB9DEKOUOVW^d^efpjrrwsv,Zci^t#}pIt+&@HcKLXZ]^cVd\\gssxxP_cl$()55::q!%.EISUX[^_d`cxXW\\Wlz0m`7neqz+9N,~D2&<;??5dy`ONWWKPypbZ#8}!mukU%v ^..4:g;:L^I@LUt`_d_!wocyx||rBW>-,55).WNEwGJPElriRTZ\\\"7|";
this.L7(aJ.gX(_),aJ.gX(ex.filter.ni))};ex.QP[5].prototype=new ex.Y8;ex.QP[5].prototype.PR=function(_,n){this.UC(["source","ssum","iwh","amnt","edgf"]);
var O=ex.Y0,l=this.D3;O.uniform2fv(l.iwh,n.qc);O.uniform1f(l.amnt,n.an2);O.uniform1f(l.edgf,n.agj);this.pv([l.source,_,l.ssum,n.akt])};
ex.QP[3]=function(){ex.Y8.call(this);var _="1%* !*709;O@;=ETOUgQZ`Uk5rnllx~|2)y)/.*:\\qPGFOOCH!^ZXXdjh}wij<-y+~T2.,,8><Q;DJ?Uc[NR`.kgeeqwu+t}$x/=36(.gEA??KQOd^PQ#sjjbc>{wuu\"(&;5'(ZJ<@=JtRNLLX^\\qbYo2!tvv'@N,(&&286K<3IkZNPP`z(fThremi%~pqC4+]-06+d/?BBXEM2TTdugYZ.|v,\" qrF5)X,#=OAWACCSlkYoY[[k&!6pfx||{0!w2D-$>P<\\J`HhWioTKewc$s(o0|14JNDEJX>:,-_OE7G@qi[MN!pdo&|vhi<, ,>42$%WG=/H*8FySLTp\\g{&))4:;7CC;$0CSRPXZ_cg]Wd]quw~$}'-/50=wm $$#7-~8y(6L\\R<EKNTlZLeGUc#8}ykl?/yv./QI;-.`PDOe\\VHI{k_k}smcuyyx-8&w(!RJ6AW?K]bM?OHyq}}%'#lw.66B8\".@E0\"2+\\Tb`fbLXmxu\"wal %oaqj<4?@KOE/;PWXea]GRe_owv{nz~))3<\"}opC3,(&&UM?12dTHSi`ZLM oco\"wqgy}}|1'x)\"SK7BX@L^bmlqqxx},qZiksw&ox~s*8kpda^Z[`nMIFDbSJU]ykgdb* }opD3*|)2_:.DCGG=l\"hWV__SX\"xoBqtzo7Lz$*~5C+/=D;r:>RiYLP^}gZfo.z/Dr{\"v-;1#)d/3AH?cORDJ$UUygY_~>45:6,*{|O?6;6f5>D9O]T[$yz ~ubjb?66;Iw$*B$-3(>LIob).\"|^$(>C72s(+,\"rzrOFFKK+3+e77[PuiRDJehh0gY_'!gvx\"y\",~W&28P2;A6LZV}p7<0+k26LQE@!6KCBGC9'06+AO6NuTiKSK&WW{o6*rdj&)(P(y GA(79B:BL?wIImiU]Bddt&wij>5s,B3H2$*T[\\a]`c]DSU^V^h[4rde9(nz$Q, 6599/^sZIHQQEJsja4cfla+ykl>7u.D5GK.?3Vk:CI>TbIM)PTh obft4my#A.BW&/5*@N3K?wmnvpMYb!h$,-7>2nz$B~EMNTWS0<Ec;vENTI_mWfZ7pphi7%9uyB~#\\..R/G;tMMEFsbtnUaj)phfD2>>CC /#KO,8A_G?=]kcM\\Pyi[\\/'9384Iw!'{2@49>iW6:t@DRYPj-p{~^bpwn6os;D|!/6-PJgP[:>y|rsx+~ %2#ae1ko}%{?H $KNc2;A6LZAX!ww||chm7ry0En&L(-(H]'>S0<EcKCA|beywX`V@oajIxx~%R\"*n11ARD67jaippus_2adj_,y.98=<@GGLJ6h8;A6bQdonsrzx {~8rde90<:B@HFNI]=/0cZedkjqpxs)z#vm`luC qrF=,1,P8?V^^c_tZVHI{k_S2n`a4,zM| &zG5K6h8;A6bQfontp]0_bh]*w+@~pqD4(|Z7)*\\TCuEHNCo^s}{#',$pCru{p=+AJIQK8j:=C8dSezYKL~n`dk`;osp};*PSIJOBdHA=;;jbNBoWLuo-u`]tu80{o=%yCX**N8<9FcSx{rrwsm_cj_+x@tx t@/U*.5*UEhD7CLjRJHhv,yY]kri.uyv$A/BF.29.f6>4}M?H'VV\\b0i\\hq=#";
this.L7(aJ.gX(_),aJ.gX(ex.filter.ni))};ex.QP[3].prototype=new ex.Y8;ex.QP[3].prototype.PR=function(_,n){this.UC("source iwh tdep rrad spec nois poly0 poly1".split(" "));
var O=ex.Y0,l=this.D3;O.uniform2fv(l.iwh,n.qc);O.uniform1f(l.tdep,n.abi);O.uniform1f(l.rrad,n.vn);O.uniform2fv(l.spec,n.a7K);
O.uniform3fv(l.nois,n.avM);O.uniformMatrix4fv(l.poly0,!1,n.a0R);O.uniformMatrix4fv(l.poly1,!1,n.apM);
this.pv([l.source,_]);var x=O.LINEAR;O.activeTexture(O.TEXTURE0);O.texParameteri(O.TEXTURE_2D,O.TEXTURE_MIN_FILTER,x);
O.texParameteri(O.TEXTURE_2D,O.TEXTURE_MAG_FILTER,x);O.activeTexture(O.TEXTURE0)};ex.QP[0]=function(){ex.Y8.call(this);
var _="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZTFGyiYT.unjhhtzx.w!'{2@7/3;5mUO=Q[NVRmgYZ,|sFux~sM5~(.#9G23E'?;AOZm_QR$th$}|$mv|q(62M?_E=1GFJJ@o%kZYbbV[%{o-{mn@9AHHMLCVW\\X\\?PDgo\\#jT]cXn|x5&F,$w.-11'VkRA@II=BkbVsbTU' z//43*=>C?C&7+NVCiQ;DJ?Uc`zl-rj^tswwm=R9('00$)RI=ZI;<mfatuzy}%%*&*l}q5=*P8\"+1&<JGbSsYQE[Z^^T$9 nmvvjo90$A0\"#TMH[\\a`WkkplpSdX{$p7~hqwl#1x0J=]CVWc[R:Qm^~doc }l(#8 irxm$2y2L>^DWXd\\S;Sn_ epe!~n)$9!zlm@0\"6V<.286-;;O=bTFGyqyTk(#`x31(8r*DA~7ROF.E_\\:Rlgj g]Seiih|drz1xs>$AV>?D>:75SD;FNj\\XUSztszdmsh~-({6V<PPUHVN9:L.FBHVatc6ehnc+/{sw yR:%-#l<.7uEEKQa\"g_Sihllb2G.|{%%x}G>5g7:@5\\`QEzbc";
this.L7(aJ.gX(_),aJ.gX(ex.filter.ni))};ex.QP[0].prototype=new ex.Y8;ex.QP[0].prototype.PR=function(_,n){this.UC(["source","iwh","ld","shine"]);
var O=ex.Y0,l=this.D3;O.uniform2fv(l.iwh,n.qc);O.uniform3fv(l.ld,n.atk);O.uniform1f(l.shine,n.a5e);this.pv([l.source,_,l.tang,n.SP])};
ex.QP[1]=function(){ex.Y8.call(this);var _="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZDMSH^lYfY4{tpnnz!~4}'-\"8F,?9FJEAya[I]gZb^ysef8) R\"%+ YA+4:/ES?;PHjLU[Pfths*!jsyn%3'3E?>E/8>3IWM?X:HVl-ribj'r}2<??JPQMYYQ:FYihfnpuy}smzs(,.5:4=CEKFS;1'9==<PF8Q3AOeukU^dgm&se~`n|<Q9:?)28-CQ<=O,PMZOtfXY+{n+%$+%vwI:.@`FQ<ZI;<mfwuzx}|%(1+0,/3u#uP82$%VG9>PpV@IORXp\\w-tn`a3$u|]0P6*I.3`H2;A6LZQqt$]V^z'**/+@(\"stF7}M@`F-<CZDIdhUux&mgYZ,|c4&F,r\")@*/L;-._Xddihppuqtxe&)6}gpvk\"0\"6V<($91S2abPfApq`r(oYbh]s\"sz+K1|x.&H'WWE[6efUg|dNW]Rhvha @&qm#z={KL:P+[[J\\qYCLRG]k]dYw8}iezr5sDD2H#SSBTiQ;DJ?UcOzl-rcbt'p%4+|$@&-mN<OdL6?E:P^Jvg(m^]o\"kd/t{p;!(hI7J_G1:@5KYS_ eVUgy])'}i63x `A0BW?9EeKVHTsZmnxoi,o#$)6005C+t}$x/=373>LlRLXf^DWQ^b]Yv$|hdyq4r\")@,L:MQ>^a_:IPgSsbtxe&)$9!vl~##\"6,0,7OP\\\\acjhmi~fglfb_]{lcnv3%!}{C=<C=/0aRNR[{aX+Z]cX&cth>& qrF5{++AaG?3IHLLBq'm\\[ddX]'}tGvy t<Q9 //S*KkQ<=O,PMZOthl~4{fndN}oxW''-3CcI0??pXY";
this.L7(aJ.gX(_),aJ.gX(ex.filter.ni))};ex.QP[1].prototype=new ex.Y8;ex.QP[1].prototype.PR=function(_,n){this.UC(["source","iwh","isc","bristle"]);
var O=ex.Y0,l=this.D3;O.uniform2fv(l.iwh,n.qc);O.uniform1f(l.isc,n.agG);O.uniform1f(l.bristle,n.a44);
this.pv([l.source,_])};ex.QP[2]=function(){ex.Y8.call(this);var _="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$zkz! {,NcB:*:6lTMIGGSYWlfXY+{hymC+$ }}*0.C-6<1GULEFOF#jc_]]iom#lu{p'5}4/1_GA/CM@HD_YKL}ne8gjpe?'py t+94%,-1@NY;DJ?Uc_rlkrh^ptts(p'\"<7G.0;NBX5KFHdmivuzwd]^g^*vopyp;5AV>?D>:75SD;FNj\\XUSztszdmsh~-x+S-&'0'S?89B9u]GPVKaofmx9~338F.(yzN=494IiOG;QPTTJy/udcll`e/&|O~\"(|DYA;-._P:GYy_tsxuvfZpossi9N5%t%!H?6h8;A6]eSWmZLM~w#$.(/0:14I1+|}O@(FfL6CpXBNTlQYbp]4*8 lB;G/{@CD>=D>01bSGYy_V)X[aV0wams,mv|q(6,YOPUcKAmfgjmns\"i_z}~xw~xjk=.~x7W=RQVSTD8NMQQGv,rbRb^&|p,4\"&<)z{MFQR\\V]^h_bw_LLpP^f|e_*e-C:;@<65<-'bU93lTUZB`!fWQ+rfx'<\"rl5w)|R:$-3(>LGRrXSDKLP_uc|2ypup&4I/*?-!76::0_t[JIRRFKtk_z0wnu,A~E-yy>,Z\\+=QK1D:9Fx`afN*|Yf4{|\"ltjT$u~]--39IiOFKFefrrwyah|2yz";
this.L7(aJ.gX(_),aJ.gX(ex.filter.ni))};ex.QP[2].prototype=new ex.Y8;ex.QP[2].prototype.PR=function(_,n){this.UC(["source","tang","iwh","sigma","expo"]);
var O=ex.Y0,l=this.D3;O.uniform2fv(l.iwh,n.qc);O.uniform1f(l.sigma,n.abf);O.uniform1f(l.expo,n.aeF);
this.pv([l.source,_,l.tang,n.SP]);var x=O.LINEAR;O.activeTexture(O.TEXTURE0);O.texParameteri(O.TEXTURE_2D,O.TEXTURE_MIN_FILTER,x);
O.texParameteri(O.TEXTURE_2D,O.TEXTURE_MAG_FILTER,x);O.activeTexture(O.TEXTURE0)};function Q(){}Q._={};
Q.akl={};Q.a1D=function(){var _=[64,64,128,256,512,1024,2048],n=[];for(var m=0;m<_.length;m++){var O=_[m],l=document.createElement("canvas");
l.width=O;l.height=O;n.push(l.getContext("2d"))}return n}();Q.jk=function(_,n){var O,l=Q.a1D,m=1,x=Math.max(_,n);
while(m<l.length&&x>l[m].canvas.width)m++;if(m==l.length){O=l[0];var t=O.canvas;t.width=_;t.height=n}else{O=l[m];
O.clearRect(0,0,_,n)}return O};Q.lN=function(_,n,O){var l=new Uint32Array(n*O);l[0]=_[0];for(var x=1;
x<n;x++)l[x]=l[x-1]+_[x];for(var t=1;t<O;t++){var m=t*n;l[m]=l[m-n]+_[m];for(var x=1;x<n;x++)l[m+x]=_[m+x]+l[m+x-1]+l[m+x-n]-l[m+x-n-1]}return l};
Q.KP=function(_,n,O,l,x,t){var h=(x-1)*n,V=t*n;return _[V+l]-_[V+O-1]-_[h+l]+_[h+O-1]};Q.aL=function(_,n,O){var l={},x=0,t=0,h=new Uint32Array(_.buffer),V=h.length,y=Date.now();
for(var r=1;r<O-1;r++)for(var E=1;E<n-1;E++){var a=r*n+E,S=h[a];if(S>>>24<230)t++;if(l[S]==null){l[S]=!0;
x++}}if(t!=0||x<20)return!1;return!0};Q.tZ=function(_,n,O,l,x,t){if(x==null)x=t=0;l=Math.log(l)/Math.log(2);
l=Math.round(l);for(var m=0;m<O;m++)for(var h=0;h<n;h++){var V=m*n+h<<2,y=Q.wY(m+t,h+x,l);_[V]=_[V+1]=_[V+2]=y;
_[V+3]=255}};Q.wY=function(m,_,n){return 255-((m>>>n)+(_>>>n)&1)*51};Q.Ps=function(_){return{o:_>>>16&255,J:_>>>8&255,k:_&255}};
Q.sN=function(_){var n=_.toString(16);while(n.length<6)n="0"+n;return n};Q.LQ=function(_){return parseInt(_,16)};
Q.JB=function(_){return.3*_.o+.59*_.J+.11*_.k};Q.Ei=function(_){return Math.max(_.o,_.J,_.k)-Math.min(_.o,_.J,_.k)};
Q.ls=function(_,n,O){return.3*_+.59*n+.11*O};Q.ak4=function(_,n,O){return Math.max(_,n,O)-Math.min(_,n,O)};
Q.Lo=function(_,n){var O=n-_,l=Math.abs(O),x=O-1,t=O+1;if(Math.abs(x)<l)O=x;else if(Math.abs(t)<l)O=t;
return O};Q.nM=function(_){return _<.0031308?12.92*_:1.055*Math.pow(_,1/2.4)-.055};Q.CV=function(_){return _<.04045?_/12.92:Math.pow((_+.055)/1.055,2.4)};
Q.asG=function(_,n){var O=Math.min(_.length,n.length);for(var m=0;m<O;m+=4){var l=_[m],x=_[m+1],t=_[m+2];
n[m]=16+Math.floor(65.481/255*l+128.553/255*x+24.966/255*t+.5);n[m+1]=128-Math.floor(37.797/255*l-74.203/255*x+112/255*t+.5);
n[m+2]=128+Math.floor(112/255*l-93.786/255*x-18.214/255*t+.5);n[m+3]=_[m+3]}};Q.oi=function(_,n,O){var l,x,t,h=Math.max(_,n,O),V=Math.min(_,n,O);
t=h;if(h!=0)x=(h-V)/h;else x=0;if(x==0)l=0;else{var y=h-V,r=(h-_)/y,E=(h-n)/y,a=(h-O)/y;if(_==h)l=a-E;
else if(n==h)l=2+r-a;else l=4+E-r;l*=1/6;if(l<0)l=l+1}return{bE:l,yj:x,k:t}};Q.a6v=function(_,n,O){var l=0,x=0,t=0;
if(n==0)l=x=t=O;else{var h=(_-Math.floor(_))*6,V=Math.floor(h),y=h-Math.floor(h),r=O*(1-n),E=O*(1-n*y),a=O*(1-n*(1-y));
switch(V){case 0:l=O;x=a;t=r;break;case 1:l=E;x=O;t=r;break;case 2:l=r;x=O;t=a;break;case 3:l=r;x=E;
t=O;break;case 4:l=a;x=r;t=O;break;case 5:l=O;x=r;t=E;break}}return{o:l,J:x,k:t}};Q.$d=function(_,n,O){var l=Math.max(_,n,O),x=Math.min(_,n,O),t=0,h=0,V=(l+x)*.5;
if(l!=x){var y=l-x;h=V>.5?y/(2-(l+x)):y/(l+x);switch(l){case _:t=(n-O)/y+(n<O?6:0);break;case n:t=(O-_)/y+2;
break;case O:t=(_-n)/y+4;break}t*=1/6}return{bE:t,yj:h,Ad:V}};Q.kg=function(_,n,O){var l,x,t;if(n==0)l=x=t=O;
else{var h=O<.5?O*(1+n):O+n-O*n,V=2*O-h;l=Q.Bn(V,h,_+1/3);x=Q.Bn(V,h,_);t=Q.Bn(V,h,_-1/3)}return{o:l,J:x,k:t}};
Q.Bn=function(_,n,O){if(O<0)O+=1;if(O>1)O-=1;if(O<1/6)return _+(n-_)*6*O;if(O<1/2)return n;if(O<2/3)return _+(n-_)*(2/3-O)*6;
return _};Q.lM=function(_,n,O){var l=Math.max(_,n,O),x=Math.min(_,n,O),t,h,V=l,y=l-x;h=l==0?0:y/l;if(l==x)t=0;
else{switch(l){case _:t=(n-O)/y+(n<O?6:0);break;case n:t=(O-_)/y+2;break;case O:t=(_-n)/y+4;break}t*=1/6}return{bE:t,yj:h,As:V}};
Q.ax=function(_,n,O){var l,x,t,m,h,V,y,r;m=Math.floor(_*6);h=_*6-m;V=O*(1-n);y=O*(1-h*n);r=O*(1-(1-h)*n);
switch(m%6){case 0:l=O,x=r,t=V;break;case 1:l=y,x=O,t=V;break;case 2:l=V,x=O,t=r;break;case 3:l=V,x=y,t=O;
break;case 4:l=r,x=V,t=O;break;case 5:l=O,x=V,t=y;break}return{o:l,J:x,k:t}};Q.H2=function(){var _=[],n=[];
for(var m=0;m<8e3;m++){var O=m*(1/4e3);_[m]=Q.CV(O);n[m]=O>.008856?Math.pow(O,1/3):(903.3*O+16)*(1/116)}return[_,n]}();
Q.KY=function(_,n,O,l){if(l==null)l=[.9642,1,.8249];var x=Q.H2[0],t=Q.H2[1];_=x[~~(.5+_*(4e3/255))];
n=x[~~(.5+n*(4e3/255))];O=x[~~(.5+O*(4e3/255))];var h=Q.fN.bs,V=h[0]*_+h[1]*n+h[2]*O,y=h[4]*_+h[5]*n+h[6]*O,r=h[8]*_+h[9]*n+h[10]*O;
V=V*(1/l[0]);y=y*(1/l[1]);r=r*(1/l[2]);return Q.EN(V,y,r)};Q.EN=function(_,n,O){var l=Q.H2[1],x=l[~~(.5+_*4e3)],t=l[~~(.5+n*4e3)],h=l[~~(.5+O*4e3)];
return{oT:116*t-16,EX:500*(x-t),k:200*(t-h)}};Q.da=function(_,n,O){var l=903.3,x=.008856,t=(_+16)/116,h=t*t*t,V=t-O/200,y=V*V*V,r=n/500+t,E=r*r*r,a=y>x?y:(116*V-16)/l,S=h>x?h:(116*t-16)/l,e=E>x?E:(116*r-16)/l,P=e*96.42,b=S*100,T=a*82.49,C=Q.fN.Jl(Q.fN._B,[P/100,b/100,T/100,0]);
for(var m=0;m<4;m++)C[m]=Math.max(0,Math.min(255,Q.nM(C[m])*255));return{o:C[0],J:C[1],k:C[2]}};Q.y2=function(_,n,O,l,x){var t=_.oT,h=_.EX,V=_.k,y=(t<n.oT?n.oT-t:O.oT<t?O.oT-t:0)*(1/100),r=(h<n.EX?n.EX-h:O.EX<h?O.EX-h:0)*(1/116),E=(V<n.k?n.k-V:O.k<V?O.k-V:0)*(1/116),a=Math.sqrt(y*y+r*r+E*E)*1.35;
return a<=l?Math.min(1,1.17*(1-a*x)):0};Q.mx=function(_,n,O){var l=_.length,x=.3,t=.59,h=.11;if(O){x=O[0];
t=O[1];h=O[2]}for(var m=0;m<l;m+=4)n[m>>2]=~~(_[m+0]*x+_[m+1]*t+_[m+2]*h+.5)};Q.X$=function(_,n){var O=n.length;
for(var m=0;m<O;m+=4){var l=_[m>>>2];n[m]=l;n[m+1]=l;n[m+2]=l}};Q.gJ=function(_,n){var O=_.EX,l=_.o,x=_.J,t=_.k,h=Math.min(_.EX.length,n.buffer.byteLength>>>2),V=4*Math.floor(h/4),y=new Uint32Array(n.buffer),r=new Uint32Array(O.buffer),E=new Uint32Array(l.buffer),a=new Uint32Array(x.buffer),S=new Uint32Array(t.buffer);
for(var m=0;m<V;m+=4){var e=r[m>>2],P=S[m>>2],b=a[m>>2],T=E[m>>2];y[m]=e<<24|(P&255)<<16|(b&255)<<8|T&255;
y[m+1]=(e&65280)<<16|(P&65280)<<8|b&65280|(T&65280)>>>8;y[m+2]=(e&16711680)<<8|P&16711680|(b&16711680)>>>8|(T&16711680)>>>16;
y[m+3]=e&4278190080|(P&4278190080)>>>8|(b&4278190080)>>>16|(T&4278190080)>>>24}for(var m=V;m<h;m++)y[m]=O[m]<<24|t[m]<<16|x[m]<<8|l[m]};
Q.ah=function(_,n){var O=n.EX,l=n.o,x=n.J,t=n.k,h=Math.min(n.EX.length,_.buffer.byteLength>>>2),V=4*Math.floor(h/4),y=new Uint32Array(_.buffer),r=new Uint32Array(O.buffer),E=new Uint32Array(l.buffer),a=new Uint32Array(x.buffer),S=new Uint32Array(t.buffer);
for(var m=0;m<V;m+=4){var e=y[m],P=y[m+1],b=y[m+2],T=y[m+3];E[m>>2]=e&255|(P&255)<<8|(b&255)<<16|T<<24;
a[m>>2]=(e&65280)>>8|P&65280|(b&65280)<<8|(T&65280)<<16;S[m>>2]=(e&16711680)>>16|(P&16711680)>>8|b&16711680|(T&16711680)<<8;
r[m>>2]=e>>>24|P>>>24<<8|b>>>24<<16|T&4278190080}for(var m=V;m<h;m++){var C=y[m];l[m]=C>>0&255;x[m]=C>>8&255;
t[m]=C>>16&255;O[m]=C>>24&255}};Q.nV=function(_,n,O){var l=new Uint8Array(_.buffer),x=Math.min(l.length/4,n.length);
for(var m=0;m<x;m++){n[m]=l[(m<<2)+O]}};Q.$c=function(_,n,O){var l=new Uint8Array(n.buffer),x=new Uint32Array(_.buffer),t=Math.min(l.length/4,_.length),m=0;
while(m+4<t){var h=x[m>>>2];l[(m<<2)+O]=h&255;l[(m<<2)+O+4]=h>>>8&255;l[(m<<2)+O+8]=h>>>16&255;l[(m<<2)+O+12]=h>>>24;
m+=4}while(m<t){l[(m<<2)+O]=_[m];m++}};Q.qs=function(_,n,O){if(O==null)O=0;var l=new Uint32Array(_.buffer),x=l.length;
for(var m=0;m<x;m++)l[m]=l[m]&O|n};Q.at6=function(_,n,O,l,x){if(x==null)x=0;var t=new Uint32Array(_.buffer);
O=O.v6(n);var h=O.x-n.x,V=O.y-n.y,y=O.a,r=O.n,E=n.a;for(var a=0;a<r;a++){var m=(V+a)*E+h;for(var S=0;
S<y;S++){t[m]=t[m]&x|l;m++}}};Q.Jt=function(_,n){var O=Math.min(_.buffer.byteLength,n.buffer.byteLength),l=O>>>2,_=new Uint32Array(_.buffer,0,l),n=new Uint32Array(n.buffer,0,l);
n.set(_)};Q.yO=function(_,n){var O=_.buffer.byteLength,l=n.buffer.byteLength,x=new Uint32Array(_.buffer,0,O>>2),t=new Uint32Array(n.buffer,0,l>>2);
if(O!=l)return!1;var h=x.length;for(var m=0;m<h;m++)if(t[m]!=x[m])return!1;return!0};Q.sJ=function(_){var n=new Uint32Array(_.buffer),O=n.length;
for(var m=0;m<O;m++)n[m]=~n[m]};Q.aig=function(_){var n=_.length;for(var m=0;m<n;m+=4){_[m]=~_[m];_[m+1]=~_[m+1];
_[m+2]=~_[m+2]}};Q.apX=function(_){var n=_.length;for(var m=3;m<n;m+=4)_[m]=~_[m]};Q.ap6=function(_){return _+(_%4==0?0:4-_%4)};
Q.Q=function(_,n){if(n==null)n=!1;if(!n)_=Q.ap6(_);try{var O=new Uint8Array(_)}catch(hU){alert("Not enough RAM! (need "+Math.round(_/(1<<20))+" MB)",7e3);
throw"low_ram"}return O};Q.iL=function(_){var n=_.length,O=_[n-2],l=_[n-1];while(l.a>=2&&l.n>=2){var x=Q.S2(O,l);
_.push(x.sw,x.rect);O=x.sw;l=x.rect}};Q.gL=function(_){var n=_.length,O=_[n-2],l=_[n-1];while(l.a>=2&&l.n>=2){var x=Q.zr(O,l);
_.push(x.sw,x.rect);O=x.sw;l=x.rect}};Q.S2=function(_,n,O){var l=n.a,x=n.n,t=l>>1,h=x>>1,V=new a8(n.x,n.y,t,h),y=O&&O.length==t*h*4?O:Q.Q(t*h*4),r=new Uint32Array(_.buffer),E=new Uint32Array(y.buffer);
for(var a=0;a<h;a++)for(var S=0;S<t;S++){var e=a*t+S,P=(a<<1)*l+(S<<1),b=r[P],T=r[P+1],C=r[P+l],Z=r[P+l+1],W=b>>>24,s=T>>>24,f=C>>>24,q=Z>>>24,g=W+s+f+q;
if(g==1020){var i=(b>>>0&255)+(T>>>0&255)+(C>>>0&255)+(Z>>>0&255)+2>>>2,u=(b>>>8&255)+(T>>>8&255)+(C>>>8&255)+(Z>>>8&255)+2>>>2,I=(b>>>16&255)+(T>>>16&255)+(C>>>16&255)+(Z>>>16&255)+2>>>2;
E[e]=255<<24|I<<16|u<<8|i}else if(g==0)E[e]=0;else{var i=(b>>>0&255)*W+(T>>>0&255)*s+(C>>>0&255)*f+(Z>>>0&255)*q,u=(b>>>8&255)*W+(T>>>8&255)*s+(C>>>8&255)*f+(Z>>>8&255)*q,I=(b>>>16&255)*W+(T>>>16&255)*s+(C>>>16&255)*f+(Z>>>16&255)*q,Y=1/g;
i=~~(i*Y+.5);u=~~(u*Y+.5);I=~~(I*Y+.5);E[e]=g+2>>>2<<24|I<<16|u<<8|i}}return{rect:V,sw:y}};Q.S4=function(_,n,O){var l=n.a,x=n.n,t=l>>1,h=x>>1,V=new a8(n.x,n.y,t,h),y=O&&O.length==t*h*4?O:Q.Q(t*h*4),r=new Uint32Array(_.buffer),E=new Uint32Array(y.buffer);
for(var a=0;a<h;a++)for(var S=0;S<t;S++){var e=a*t+S,P=(a<<1)*l+(S<<1),b=r[P],T=r[P+1],C=r[P+l],Z=r[P+l+1],W=2+(b>>>0&255)+(T>>>0&255)+(C>>>0&255)+(Z>>>0&255)>>>2,s=2+(b>>>8&255)+(T>>>8&255)+(C>>>8&255)+(Z>>>8&255)>>>2,f=2+(b>>>16&255)+(T>>>16&255)+(C>>>16&255)+(Z>>>16&255)>>>2,q=2+(b>>>24&255)+(T>>>24&255)+(C>>>24&255)+(Z>>>24&255)>>>2;
E[e]=q<<24|f<<16|s<<8|W}return{rect:V,sw:y}};Q.amz=function(_,n,O){var l=n.a,x=n.n,t=2*Math.floor(l/3),h=2*Math.floor(x/3),V=new a8(n.x,n.y,t,h),y=O&&O.length==t*h*4?O:Q.Q(t*h*4),r=new Uint32Array(_.buffer),E=new Uint32Array(y.buffer);
for(var a=0;a<h;a+=2)for(var S=0;S<t;S+=2){var e=a*t+S,P=(a*3>>>1)*l+(S*3>>>1),b=r[P],T=r[P+1],C=r[P+2],Z=r[P+l],W=r[P+1+l],s=r[P+2+l],f=r[P+l+l],q=r[P+1+l+l],g=r[P+2+l+l],i=b>>>24<<2,u=(b>>>16&255)*i,I=(b>>>8&255)*i,Y=(b&255)*i,U=T>>>24<<1,F=(T>>>16&255)*U,N=(T>>>8&255)*U,o=(T&255)*U,X=C>>>24<<2,J=(C>>>16&255)*X,c=(C>>>8&255)*X,p=(C&255)*X,d=Z>>>24<<1,k=(Z>>>16&255)*d,A=(Z>>>8&255)*d,$=(Z&255)*d,K=W>>>24,G=(W>>>16&255)*K,z=(W>>>8&255)*K,M=(W&255)*K,hl=s>>>24<<1,j=(s>>>16&255)*hl,w=(s>>>8&255)*hl,B=(s&255)*hl,bB=f>>>24<<2,bG=(f>>>16&255)*bB,eb=(f>>>8&255)*bB,fe=(f&255)*bB,gB=q>>>24<<1,hp=(q>>>16&255)*gB,g6=(q>>>8&255)*gB,by=(q&255)*gB,e7=g>>>24<<2,aN=(g>>>16&255)*e7,jK=(g>>>8&255)*e7,f7=(g&255)*e7,hW=i+U+d+K,km=X+U+hl+K,ca=bB+gB+d+K,aU=e7+gB+hl+K,eJ=hW==0?0:1/hW,am=km==0?0:1/km,eA=ca==0?0:1/ca,dj=aU==0?0:1/aU,cM=0,b2=0,cm=0,az=0;
cM=~~(.5+(Y+o+$+M)*eJ);b2=~~(.5+(I+N+A+z)*eJ);cm=~~(.5+(u+F+k+G)*eJ);az=~~(.5+hW*(1/9));E[e]=az<<24|cm<<16|b2<<8|cM;
cM=~~(.5+(p+o+B+M)*am);b2=~~(.5+(c+N+w+z)*am);cm=~~(.5+(J+F+j+G)*am);az=~~(.5+km*(1/9));E[e+1]=az<<24|cm<<16|b2<<8|cM;
cM=~~(.5+(fe+by+$+M)*eA);b2=~~(.5+(eb+g6+A+z)*eA);cm=~~(.5+(bG+hp+k+G)*eA);az=~~(.5+ca*(1/9));E[e+t]=az<<24|cm<<16|b2<<8|cM;
cM=~~(.5+(f7+by+B+M)*dj);b2=~~(.5+(jK+g6+w+z)*dj);cm=~~(.5+(aN+hp+j+G)*dj);az=~~(.5+aU*(1/9));E[e+t+1]=az<<24|cm<<16|b2<<8|cM}return{rect:V,sw:y}};
Q.acm=function(_,n,O){var l=n.a,x=n.n,t=2*Math.floor(l/3),h=2*Math.floor(x/3),V=new a8(n.x,n.y,t,h),y=O&&O.length==t*h*4?O:Q.Q(t*h*4),r=new Uint32Array(_.buffer),E=new Uint32Array(y.buffer);
for(var a=0;a<h;a+=2)for(var S=0;S<t;S+=2){var e=a*t+S,P=(a*3>>>1)*l+(S*3>>>1),b=r[P],T=r[P+1],C=r[P+2],Z=r[P+l],W=r[P+1+l],s=r[P+2+l],f=r[P+l+l],q=r[P+1+l+l],g=r[P+2+l+l],i=(b>>>16&255)<<2,u=(b>>>8&255)<<2,I=(b&255)<<2,Y=(T>>>16&255)<<1,U=(T>>>8&255)<<1,F=(T&255)<<1,N=(C>>>16&255)<<2,o=(C>>>8&255)<<2,X=(C&255)<<2,J=(Z>>>16&255)<<1,c=(Z>>>8&255)<<1,p=(Z&255)<<1,d=W>>>16&255,k=W>>>8&255,A=W&255,$=(s>>>16&255)<<1,K=(s>>>8&255)<<1,G=(s&255)<<1,z=(f>>>16&255)<<2,M=(f>>>8&255)<<2,hl=(f&255)<<2,j=(q>>>16&255)<<1,w=(q>>>8&255)<<1,B=(q&255)<<1,bB=(g>>>16&255)<<2,bG=(g>>>8&255)<<2,eb=(g&255)<<2,fe=0,gB=0,hp=0;
fe=~~(.5+(I+F+p+A)*(1/9));gB=~~(.5+(u+U+c+k)*(1/9));hp=~~(.5+(i+Y+J+d)*(1/9));E[e]=255<<24|hp<<16|gB<<8|fe;
fe=~~(.5+(X+F+G+A)*(1/9));gB=~~(.5+(o+U+K+k)*(1/9));hp=~~(.5+(N+Y+$+d)*(1/9));E[e+1]=255<<24|hp<<16|gB<<8|fe;
fe=~~(.5+(hl+B+p+A)*(1/9));gB=~~(.5+(M+w+c+k)*(1/9));hp=~~(.5+(z+j+J+d)*(1/9));E[e+t]=255<<24|hp<<16|gB<<8|fe;
fe=~~(.5+(eb+B+G+A)*(1/9));gB=~~(.5+(bG+w+K+k)*(1/9));hp=~~(.5+(bB+j+$+d)*(1/9));E[e+t+1]=255<<24|hp<<16|gB<<8|fe}return{rect:V,sw:y}};
Q.Fh=function(_){var n=255,O=_.length;O-=O&31;for(var m=3;m<O;m+=32)n=n&_[m]&_[m+4]&_[m+8]&_[m+12]&_[m+16]&_[m+20]&_[m+24]&_[m+28];
return n!=255};Q.amd=function(_,n,O,l){var x=Q.S2,t=Q.amz,V=0;if(!Q.Fh(_)){x=Q.S4;t=Q.acm}var h={sw:_,rect:n},y=O;
while(y<.499){V++;y*=2}for(var m=0;m<V;m++)h=x(h.sw,h.rect,l);if(y<.5001)h=x(h.sw,h.rect,l);else h=t(h.sw,h.rect,l);
return h};Q.ajI=function(_,n,O,l){var x=Q.zr,t=Q.bA,h={sw:_,rect:n},V=0,y=O;while(y<.499){V++;y*=2}for(var m=0;
m<V;m++)h=x(h.sw,h.rect,l);if(y<.5001)h=x(h.sw,h.rect,l);else h=t(h.sw,h.rect,l);return h};Q.zr=function(_,n,O){var l=n.a,x=n.n,t=l>>1,h=x>>1,V=new a8(n.x,n.y,t,h);
if(_==null)return{rect:V};var y=O&&O.length>=t*h?O:Q.Q(t*h);for(var r=0;r<h;r++){var E=r*t;for(var a=0;
a<t;a++){var S=(r<<1)*l+(a<<1);y[E+a]=2+_[S]+_[S+1]+_[S+l]+_[S+l+1]>>>2}}return{rect:V,sw:y}};Q.bA=function(_,n,O){var l=n.a,x=n.n,t=2*Math.floor(l/3),h=2*Math.floor(x/3),V=new a8(n.x,n.y,t,h);
if(_==null)return{rect:V};var y=O&&O.length>=t*h?O:Q.Q(t*h);for(var r=0;r<h;r+=2)for(var E=0;E<t;E+=2){var a=r*t+E,S=(r*3>>>1)*l+(E*3>>>1),e=_[S]<<2,P=_[S+1]<<1,b=_[S+2]<<2,T=_[S+l]<<1,C=_[S+1+l],Z=_[S+2+l]<<1,W=_[S+l+l]<<2,s=_[S+1+l+l]<<1,f=_[S+2+l+l]<<2;
y[a]=~~(.5+(e+P+T+C)*(1/9));y[a+1]=~~(.5+(b+P+Z+C)*(1/9));y[a+t]=~~(.5+(W+s+T+C)*(1/9));y[a+t+1]=~~(.5+(f+s+Z+C)*(1/9))}return{rect:V,sw:y}};
Q.pc=function(_,n,O,l,x){var t=n.v6(l);if(x)t=t.v6(x);var h=Math.max(0,t.x-n.x),V=Math.max(0,t.x-l.x),y=Math.max(0,t.y-n.y),r=Math.max(0,t.y-l.y),E=t.a,a=t.n;
for(var m=0;m<a;m++){var S=(y+m)*n.a+h,e=(r+m)*l.a+V;O.set(new Uint8Array(_.buffer,S,E),e)}};Q.c2=function(_,n,O,l){if(n.yO(l)){Q.$c(_,O,3);
return}var x=n.v6(l),t=Math.max(0,x.x-n.x),h=Math.max(0,x.x-l.x),V=Math.max(0,x.y-n.y),y=Math.max(0,x.y-l.y),r=x.a,E=x.n;
for(var m=0;m<E;m++){var a=(V+m)*n.a+t,S=(y+m)*l.a+h;for(var e=0;e<r;e++)O[(S+e<<2)+3]=_[a+e]}};Q.w6=function(_,n,O,l){var x=n.v6(l),t=Math.max(0,x.x-n.x),h=Math.max(0,x.x-l.x),V=Math.max(0,x.y-n.y),y=Math.max(0,x.y-l.y),r=x.a,E=x.n;
for(var m=0;m<E;m++){var a=(V+m)*n.a+t,S=(y+m)*l.a+h;for(var e=0;e<r;e++)O[S+e]=_[(a+e<<2)+3]}};Q.zw=function(_,n,O,l,x){if(n.yO(l)&&(x==null||x.yO(l))){Q.Jt(_,O);
return}_=new Uint32Array(_.buffer),O=new Uint32Array(O.buffer);var t=n.v6(l);if(x)t=t.v6(x);var h=Math.max(0,t.x-n.x),V=Math.max(0,t.x-l.x),y=Math.max(0,t.y-n.y),r=Math.max(0,t.y-l.y),E=t.a,a=t.n,S=E&3,e=S==0?E:E-S;
for(var m=0;m<a;m++){var P=(y+m)*n.a+h,b=(r+m)*l.a+V;O.set(new Uint32Array(_.buffer,P*4,E),b)}};Q.Ug=function(_,n,O,l){var x=n.v6(l),t=Math.max(0,x.x-n.x),h=Math.max(0,x.x-l.x),V=Math.max(0,x.y-n.y),y=Math.max(0,x.y-l.y),r=x.a,E=x.n,a=_.EX,S=_.o,e=_.J,P=_.k,b=O.EX,T=O.o,C=O.J,Z=O.k;
for(var m=0;m<E;m++){var W=(V+m)*n.a+t,s=(y+m)*l.a+h;for(var f=0;f<r;f++){b[s+f]=a[W+f];T[s+f]=S[W+f];
C[s+f]=e[W+f];Z[s+f]=P[W+f]}}};Q.uy=function(_){var n=_.length;for(var m=0;m<n;m+=4){var O=_[m+3];if(O==255)continue;
_[m]=~~(_[m]*O*(1/255)+.5);_[m+1]=~~(_[m+1]*O*(1/255)+.5);_[m+2]=~~(_[m+2]*O*(1/255)+.5)}};Q.RC=function(_){var n=_.length;
for(var m=0;m<n;m+=4){var O=_[m+3];if(O==0||O==255)continue;var l=255/O;_[m]=~~(_[m]*l+.5);_[m+1]=~~(_[m+1]*l+.5);
_[m+2]=~~(_[m+2]*l+.5)}};Q.QX=function(_,n){for(var m=0;m<_.length;m++)if(_[m]!=n)return!1;return!0};
Q.aK=function(_){return _+1+(_>>>8)>>>8};Q.round=function(_,n){if(n==null)n=128;var O=_.length;for(var m=0;
m<O;m++)_[m]=_[m]<n?0:255};Q.ai=function(_,n){var O=_.length;for(var m=0;m<O;m++)_[m]=Math.round(_[m]*n)};
Q.tB=function(_,n){var O=new Uint32Array(_.buffer),l=new Uint32Array(n.buffer),x=O.length;for(var m=0;
m<x;m++){var t=O[m],h=l[m];l[m]=Q.aK((t>>>24)*(h>>>24))<<24|Q.aK((t>>>16&255)*(h>>>16&255))<<16|Q.aK((t>>>8&255)*(h>>>8&255))<<8|Q.aK((t&255)*(h&255))}};
Q.iB=function(_,n){var O=_.length;for(var m=0;m<O;m++)n[(m<<2)+3]=Q.aK(n[(m<<2)+3]*_[m])};Q.afC=function(_,n,O,l){var x=Math.max(0,l.x-n.x),t=Math.max(0,n.x-l.x),h=Math.max(0,l.y-n.y),V=Math.max(0,n.y-l.y),y=Math.min(n.x+n.a,l.x+l.a)-Math.max(n.x,l.x),r=Math.min(n.y+n.n,l.y+l.n)-Math.max(n.y,l.y);
for(var m=0;m<r;m++){var E=(h+m)*n.a+x,a=(V+m)*l.a+t;for(var S=0;S<y;S++){O[a]=Q.aK(O[a]*_[E]);E++;a++}}};
Q.Eg=function(_,n,O,l){var x=Math.max(0,l.x-n.x),t=Math.max(0,n.x-l.x),h=Math.max(0,l.y-n.y),V=Math.max(0,n.y-l.y),y=Math.min(n.x+n.a,l.x+l.a)-Math.max(n.x,l.x),r=Math.min(n.y+n.n,l.y+l.n)-Math.max(n.y,l.y);
for(var m=0;m<r;m++){var E=(h+m)*n.a+x,a=((V+m)*l.a+t<<2)+3;for(var S=0;S<y;S++){O[a]=Q.aK(O[a]*_[E]);
E++;a+=4}}};Q.gj=function(_,n,O,l){var x=Math.max(0,l.x-n.x),t=Math.max(0,n.x-l.x),h=Math.max(0,l.y-n.y),V=Math.max(0,n.y-l.y),y=Math.min(n.x+n.a,l.x+l.a)-Math.max(n.x,l.x),r=Math.min(n.y+n.n,l.y+l.n)-Math.max(n.y,l.y);
for(var m=0;m<r;m++){var E=((h+m)*n.a+x<<2)+3,a=((V+m)*l.a+t<<2)+3;for(var S=0;S<y;S++){O[a]=Q.aK(O[a]*_[E]);
E+=4;a+=4}}};Q.CO=function(_,n){if(n==null)n=1;var O=4*n,l=_.length>>>2,x=new Float64Array(256),t=new Float64Array(256),h=new Float64Array(256),V=new Float64Array(256),y=4*Math.floor(l/n)*n,r=0;
for(var m=0;m<y;m+=O){var E=_[m+0],a=_[m+1],S=_[m+2],e=_[m+3]*n,P=e*(1/255);t[E]+=P;h[a]+=P;V[S]+=P;
r+=e}for(var m=0;m<256;m++)x[m]=t[m]+h[m]+V[m];return[x,t,h,V,l,r/255]};Q.ji=function(_,n){function O(q,g){var i=-1,u=0;
while(u<=g){i++;u+=q[i]}return i}function l(q,g){var i=256,u=0;while(u<=g){i--;u+=q[i]}return i}function x(q){var g=0,i=0;
for(var m=0;m<256;m++){i+=q[m];g+=q[m]*m*(1/255)}return g/i}var t=_[0],h=_[1]/100,V=_[2]/100,y=[],r=[];
for(var m=0;m<4;m++){var E=m==0?3:1;y[m]=O(n[m],E*h*n[5]);r[m]=l(n[m],E*V*n[5])}var a=[x(n[1]),x(n[2]),x(n[3])],S=a.slice(0);
S.sort(function(q,g){return q-g});var e=a.indexOf(S[1]),P=(a[0]+a[1]+a[2])/3,b=[];for(var m=0;m<4;m++){var T=0,C=255,Z=y[m],W=r[m];
if(t==0&&m==0){T=Z;C=W}if(t==1&&m!=0){T=Z;C=W}if(t==2&&m!=0){var E=a[m-1]/P;C=Math.max(0,Math.min(255,r[e]*E))}var s=[T,C];
b.push(s);if(t==3&&m==0){var f=255*(1-P);s.push(f)}}return b};Q.qI=function(_,n){var O=new Uint32Array(_.buffer),l=O.length;
for(var m=0;m<l;m++){var x=O[m],t=x&255,h=x>>8&255,V=x>>16&255,y=x>>24&255;O[m]=n[t]|n[h]<<8|n[V]<<16|n[y]<<24}};
Q.a8l=function(_,n,O,l,x,t,h){var V=new Uint32Array(_.buffer),y=new Uint32Array(n.buffer),r=V.length,E=0;
while(256<<E<O.length)E++;if(!h&&!t){for(var m=0;m!=r;m++){var a=V[m],S=(a&255)<<E,e=(a>>>8&255)<<E,P=(a>>>16&255)<<E,b=O[S],T=l[e],C=x[P];
y[m]=b|T<<8|C<<16|a&4278190080}return}for(var m=0;m<r;m++){var a=V[m],S=(a&255)<<E,e=(a>>>8&255)<<E,P=(a>>>16&255)<<E;
if(t)S=e=P=Math.round(S*.3+e*.59+P*.11);var b=O[S],T=l[e],C=x[P];if(h){var Z=Q.ls(S,e,P),W=Q.ls(b,T,C);
if(Z>W){var s=(Z-W)/(255-W);b+=s*(255-b);T+=s*(255-T);C+=s*(255-C)}else if(W==0)b=T=C=0;else{var s=Z/W;
b=s*b;T=s*T;C=s*C}}y[m]=b|T<<8|C<<16|a&4278190080}};Q.pF=function(_,n){var O=n.a,l=n.n,top=0,x=0,t=0,h=0,V=0;
V=0;for(var y=0;y<l;y++){var r=y*O;for(var m=0;m<O;m++)V|=_[r+m];if(V!=0)break;top++}if(top==l)return new a8(0,0,0,0);
V=0;for(var y=l-1;y>=0;y--){var r=y*O;for(var m=0;m<O;m++)V|=_[r+m];if(V!=0)break;t++}var E=l-t;V=0;
for(var m=0;m<O;m++){for(var y=top;y<E;y++)V|=_[y*O+m];if(V!=0)break;x++}V=0;for(var m=O-1;m>=0;m--){for(var y=top;
y<E;y++)V|=_[y*O+m];if(V!=0)break;h++}var a=new a8(n.x+x,n.y+top,O-x-h,l-top-t);return a};Q.RJ=function(_,n,O,l){if(l==null)l=[!0,!0,!0,!0];
if(O==null)O=0;var x=new Uint32Array(_.buffer),t=n.a,h=n.n,top=0,V=0,y=0,r=0,E=!1,a=[x[0],x[x.length-1],0][O];
E=!1;if(l[0])for(var S=0;S<h;S++){var e=S*t;for(var m=0;m<t;m++)if(x[e+m]!=a)E=!0;if(E)break;top++}E=!1;
if(l[2])for(var S=h-1;S>=0;S--){var e=S*t;for(var m=0;m<t;m++)if(x[e+m]!=a)E=!0;if(E)break;y++}E=!1;
if(l[1])for(var m=0;m<t;m++){for(var S=0;S<h;S++)if(x[S*t+m]!=a)E=!0;if(E)break;V++}E=!1;if(l[3])for(var m=t-1;
m>=0;m--){for(var S=0;S<h;S++)if(x[S*t+m]!=a)E=!0;if(E)break;r++}var P=new a8(n.x+V,n.y+top,t-V-r,h-top-y);
return P.wk()?new a8(0,0,0,0):P};Q.AO=function(_){var n=Q.pF(_.channel,_.rect);if(n.yO(_.rect))return;
var O=Q.Q(n.O());Q.pc(_.channel,_.rect,O,n);_.channel=O;_.rect=n};Q.M_=function(_){var n=Q.Q(_.buffer.length>>2);
Q.nV(_.buffer,n,3);var O=Q.pF(n,_.rect);if(O.yO(_.rect))return;var l=new Q.Q(O.O()*4);Q.zw(_.buffer,_.rect,l,O);
_.buffer=l;_.rect=O};Q.extend=function(_,n,O){if(_.rect.rz(n))return;var l=_.rect.uG(n),x=Q.Q(l.O());
if(O!=null)x.fill(O);Q.pc(_.channel,_.rect,x,l);_.rect=l;_.channel=x};Q.aqz=function(_,n){if(n.wk()||_.rect.rz(n))return;
var O=_.rect.uG(n),l=Q.Q(O.O()*4);Q.zw(_.buffer,_.rect,l,O);_.rect=O;_.buffer=l};Q.FA=function(_,n,O){if(!O.b5(_))return!1;
var l=Math.floor(_.x)-O.x,x=Math.floor(_.y)-O.y,m=x*O.a+l;return n[m]>128};Q.a0w=function(_,n,O){if(!O.b5(_))return!1;
var l=Math.floor(_.x)-O.x,x=Math.floor(_.y)-O.y,m=x*O.a+l;return n[4*m+3]>128};Q.ou=function(_){if(Q.OB.length<_){Q.OB=Q.Q(_);
Q.OB.fill(255)}return Q.OB};Q.OB=Q.Q(0);Q.A2=function(_){if(Q.Nd.length<_)Q.Nd=Q.Q(_);return Q.Nd};Q.Nd=Q.Q(0);
Q.eO=function(_){this.EX=Q.Q(_);this.o=Q.Q(_);this.J=Q.Q(_);this.k=Q.Q(_)};Q.eO.prototype.clone=function(){var _=this.EX.length,n=new Q.eO(1);
n.EX=this.EX.slice(0);n.o=this.o.slice(0);n.J=this.J.slice(0);n.k=this.k.slice(0);return n};Q._.alL=function(_,n,O,l,x){var t=x[0]+1,h=x[1],V=Math.abs(h-25)/4,y=x[2],r=y%2+y*y>>1,E=Q._.e;
E.L7(n,O);var a=E.wW(1),S=E.wW(1),e=E.wW(1);E.uf(_,l,y,y,r);E.TV(l);E.ru(l,a);E.jJ(a,S,t,t,1);E.jJ(a,e,t,t,t*t);
E.sub(e,S);E.tB(S,V);(h<25?E.sub:E.add)(a,S);E.Sk(S,l);E.EJ(l)};Q._.axW=function(_,n,O,l,x){var t=Q._.e;
t.L7(n,O);var h=x[0]*2.55,V=x[1],y=V>>1,r=x[2]*.25,E=t.wW(4),a=t.wW(1),S=t.wW(1);t.pK(_,E,V,1,!0,y);
t.pK(_,l,V,1,!1,y);t.hk(_,a);t.nU(a,h);t.QA(a,S,3);t.ES(l,S,E);t.cc(E,l,r)};Q._.a5A=function(_,n,O,l,x){var t=Q._.e;
t.L7(n,O);t.iU(x[3]);var h=x[0]*-3+80,V=x[1]*-3+80,y=x[2]/2+.5,r=x[4],E=x[5],a=t.wW(1),S=t.wW(1),e=t.wW(1),P=t.wW(1),b=t.wW(4),T=t.wW(4);
t.hk(_,a);t.Jt(a,S);t.jM(a,V,5);t.i9(a,.4,0);t.QA(a,e,3);t.ol(e,a,9,3,!0,27);t.Jt(S,e);t.sJ(e);var C=t.CJ(h,5,e);
for(var m=0;m<t.mY;m++){S[m]=C[255-S[m]]}t.i9(S,.4,0);t.Jt(S,e);t.QA(e,P,2);t.ol(P,e,5,3,!1,15);t.tB(a,y);
t.tB(e,y);t.LB(l,2155905279);t.LB(T,r);t.LB(b,E);t.ES(T,a,l);t.ES(b,e,l)};Q._.al7=function(_,n,O,l,x){var t=Q._.e;
t.L7(n,O);var h=new Uint8Array(256),V=5+10*x[1];V+=x[1]>3?(x[1]-3)*10:0;var y=~~(x[2]*.73)+50,r=Math.min(y+V,128),E=r-y,a=-255*y;
for(var m=0;m<256;m++){var S=m*65;h[m]=t.Rl(a/E);a+=255}var e=t.wW(1),P=t.wW(1),b=t.wW(1);t.hk(_,e);
t.Jt(e,b);t.QA(e,P,2*x[0]+1);t.sub(P,e);t.tB(e,65);t.ol(e,P,9,3,!0,20);for(var m=0;m<t.mY;m++){var T=b[m],C=P[m];
e[m]=C>0?~~((C*T+(255-C)*128)/255):128}t.QA(e,P,3);t.ol(P,e,15,2,!0,16);t.ol(P,b,15,2,!1,15);t.Xq(e,b);
t.Bc(b,P,2);t.ZK(P,h);t.QA(P,e,2);t.xH(e,l)};Q._.a1w=function(_,n,O,l,x){var t=Q._.e;t.L7(n,O);var h=2*x[0]+1,V=t.pb[x[1]],y=x[2]*5.1,r=x[3],E=t.wW(1),a=t.wW(1),S=t.wW(4),e=t.wW(4);
t.LB(S,r);t.TV(S,l);t.o2(E,y);t.Sk(E,l);t.EJ(l,S);t.hk(_,a);t.QA(a,E,h);t.sub(E,a);t.tB(a,V);t.ol(a,E,9,3,!0,20);
t.ES(_,E,S);t.cA(S,l,3);t.pK(l,S,15,2,!0,16);t.pK(l,e,15,2,!1,16);t.Xq(S,e);t.cc(e,l,2)};Q._.ajD=function(_,n,O,l,x){var t=Q._.e;
t.L7(n,O);var h=(15-x[0])/4+1,V=(15-x[1])/4+1,y=x[2],r=x[3],E=t.UP(x[4]),a=x[5]+1,S=x[6],e=x[7],P=x[8],b=t.wW(1),T=t.wW(1),C=t.wW(1),Z=t.wW(1),W=t.wW(4),s=t.wW(4);
t.ey(C,y,r,S);t.hk(_,T);t.QA(T,b,5);t.o_(C,b,Z,a,E);t.tB(Z,h);t.gQ(Z,2);t.sJ(b);t.o_(C,b,T,a,E);t.tB(T,V);
t.gQ(T,2);t.LB(W,2155905279);t.LB(s,e);t.LB(l,P);t.ES(W,T,s);t.ES(s,Z,l)};Q._.amv=function(_,n,O,l,x){var t=Q._.e;
t.L7(n,O);t.iU(x[3]);var h=x[0],V=x[1]/10,y=x[2]/10,r=t.wW(1),E=t.wW(1),a=t.wW(1),S=t.YH(),e=t.YH(),P=t.YH();
t.rD(r);t.QA(r,E,11);t.QA(E,r,11);t.u_(r,S);t.c4(_,r);t.Jt(r,a);t.QA(r,E,9);t.QA(E,r,9);t.u_(r,e);t.gs(e,P,5);
t.gs(P,e,5);t.J2(S,.8);t.a7J(S,e,.8,.9);t.I1(e,r,h);t.jJ(r,E,2,2,1);t.jJ(E,r,2,2,3);t.jJ(r,E,2,2,3);
t.jJ(a,r,5,5,13);t.SL(E,r,E,V);t.Kf(r,E,E,y);t.o_(E,E,r,5,1);t.TV(_,l);t.Sk(r,l);t.EJ(l)};Q._.asW=function(_,n,O,l,x){var t=Q._.e;
t.L7(n,O);var h=x[0],V=x[1]/2,y=x[2],r=h/2,E=t.wW(4),a=t.wW(4);t.Jt(_,l);for(var S=0;S<y;S++){t.pK(l,E,h,1,!0,r);
t.pK(l,a,h,1,!1,r);t.Xq(a,E);t.cA(E,a,2);t.cc(a,l,V)}};Q._.aoz=function(_,n,O,l,x){var t=Q._.e;t.L7(n,O);
var h=x[0]*10,V=x[1]*4.9,y=x[2]*4.9,r=t.wW(1),E=t.wW(1),a=t.wW(4),S=t.wW(4);t.hk(_,r);t.nU(r,t.afj(r,h));
t.QA(r,E,3);t.pK(_,a,5,1,!1,1);t.pK(_,l,15,2,!0,16);t.ES(l,E,a);t.TV(a,l);t.ru(l,r);t.jM(r,V,y);t.Sk(r,l);
t.EJ(l)};Q._.ayM=function(_,n,O,l,x){var t=Q._.e;t.L7(n,O);t.iU(x[4]);var h=x[0]/20,V=[0,.75,1,1.05,1.1,1.15,1.2,1.25,1.3,1.35,1.4,1.45,1.5,1.6,1.7,1.8,2,2.5,3,3.5,4][x[1]],y=[0,.25,.5,.75,.9,1,1.1,1.2,1.3,1.4,1.5,1.6,1.7,1.8,1.9,2,2.25,2.5,3,3.5,4][x[2]],r=x[3],E=new Int16Array(256);
for(var m=0;m<256;m++){E[m]=~~((m-128)*h)}var a=t.wW(1),S=t.wW(1),e=t.wW(4);t.hk(_,a);t.QA(a,S,25);t.tB(S,V);
t.gQ(S,y);t.QA(S,a,25);t.rD(S);t.wZ(a,S,E);t.Jt(_,l);t.LB(e,r);t.ES(e,a,l)};Q._.a3x=function(_,n,O,l,x){var t=Q._.e;
t.L7(n,O);var h=x[0]+5,V=15-x[1],y=h*h/2,r=1-(3-x[2])/10,E=~~(V*V*r-1),a=~~(V*V*(1-r));if(a==0)a=1;var S=t.wW(1),e=t.wW(1),P=t.wW(1),b=t.wW(4);
t.hk(_,P);t.jJ(P,S,h,h,y);t.QA(P,e,h);t.sub(S,e);t.nU(e,1);t.uf(_,b,V,V,E);t.uf(_,l,V,V,a);t.ES(b,e,l)};
Q._.ajQ=function(_,n,O,l,x){var t=Q._.e;t.L7(n,O);t.iU(x[3]);var h=(20-x[0])*.05,V=x[1]*-2.75+60,y=65-V,r=x[2]/10,E=t.wW(1),a=t.wW(1);
t.c4(_,a);var S=t.CJ(V,y,a);t.TV(_,l);t.ru(l,a);t.rD(E);t.NC(a,E,h);t.ZK(a,S);t.tB(a,x[2]/10);t.add(E,a);
t.Sk(a,l);t.EJ(l)};Q._.awr=function(_,n,O,l,x){var t=Q._.e;t.L7(n,O);var h=5+x[0],V=15-x[1],y=x[2],r=h*h/2+h*h%2*1,E=1-(3-x[2])/10,a=~~(V*V*E-1),S=~~(V*V*(1-E));
if(S==0)S=1;var e=t.wW(1),P=t.wW(1),b=t.wW(1),T=t.wW(1),C=t.wW(1);t.c4(_,P);t.Bc(P,e,3);t.jJ(e,P,2,2,1);
var Z=t.CJ(20,20,P);t.ZK(P,Z);t.QA(P,C,5);t.jJ(C,e,h,h,r);t.jJ(C,P,V,V,a);t.jJ(C,b,V,V,S);t.QA(C,T,h);
t.sub(e,T);t.nU(T,1);t.Bf(P,T,b);t.TV(_,l);t.Sk(b,l);t.EJ(l)};Q._.ap$=function(_,n,O,l,x){var t=Q._.e;
t.L7(n,O);t.iU(x[5]);var h=t.mY,V=t._s,y=x[0],r=x[1],E=x[2],a=x[3],S=x[4],e=.05*y+1,P=y/100,b=y>>1,T=2*y-100,C=+(r==9),Z=+(r==7),W=[4,1][C],s=[3,2][C],f=[1,2][Z],q=[2,1][Z],g=[50,75][C],i=r<4?E:(E>>1)+50,u=t.yX(g,i),I=t.lv(a),Y=t.lv(S),U=t.wW(4),F=t.wW(4),N=t.wW(1),o=t.wW(1);
function X(l,u){if(i!=50){t.oz(l,u)}}function J(_,j){for(var m=0;m<h;m++){_[m]=t.Rl(_[m]+(j[m]-128)*P)}}function c(_,j){for(var m=0,w=0;
m<h;m++){_[w]=t.Rl(_[w]+(j[w]-128)*P);_[w+1]=t.Rl(_[w+1]+(j[w+1]-128)*P);_[w+2]=t.Rl(_[w+2]+(j[w+2]-128)*P);
w+=4}}function p(_,l){t.rD(F);t.Jt(_,l);c(l,F);X(l,u)}function d(j){var w=0;for(var B=0;B<12;B++)w+=t.random();
return t.Rl(b*(w-6)+j)}function k(_,l){t.Jt(_,l);for(var m=0;m<V;m+=4){l[m]=d(l[m]);l[m+1]=d(l[m+1]);
l[m+2]=d(l[m+2])}X(l,u)}function A(_,l){t.Jt(_,l);for(var m=0;m<V;m+=4){if(t.random()<P){l[m]=I[0];l[m+1]=I[1];
l[m+2]=I[2]}}X(l,u)}function $(_,l){t.rD(U);t.uf(U,F,s,s,W);t.Jt(_,U);c(U,F);t.uf(U,l,5,5,13);X(l,u)}function K(_,l){t.rD(F);
t.Jt(_,U);c(U,F);X(l,u);t.uf(U,l,s,s,W)}function G(_,l){t.Jt(_,U);X(l,u);t.hk(U,N);for(var m=0,j=0;m<h;
m++){var w=((T-N[m]+255)*128.5+.5)/32767;if(t.random()<=w){l[j++]=Y[0];l[j++]=Y[1];l[j++]=Y[2]}else{l[j++]=I[0];
l[j++]=I[1];l[j++]=I[2]}l[j]=_[j];j++}}function z(_,l){t.TV(_,l);t.ru(l,N);t.Bc(N,o,e);t.jJ(o,N,s,s,W);
t.ZK(N,u);t.Sk(N,l);t.EJ(l)}function M(_){var j=0;if(r==8){for(var w=0;w<n;w++){_[j++]=~~(t.random()*255)}for(var m=1;
m<O;m++){for(var w=0;w<n;w++){_[j++]=_[w]}}}else{for(var m=0;m<O;m++){var B=~~(t.random()*255);for(var w=0;
w<n;w++){_[j++]=B}}}}function hl(_,l){t.hk(_,N);t.rD(o);J(N,o);M(o);J(N,o);t.cA(_,U,9);t.cA(U,F,9);t.QA(N,o,2);
t.ZK(o,u);t.QA(o,N,2);t.TV(F,l);t.Sk(N,l);t.EJ(l)}[p,k,A,$,$,K,G,hl,hl,z][r](_,l)};Q._.ads=function(_,n,O,l,x){var t=[-1e3,34,51,61,71,80,87,95,101,108,113,119,124,129,134,139,143,148,153,157,161,165,168,172,175,180,183,186,190,194,197,200,203,207,210,213,216,218,222,225,228,230,233,236,239,241,244,247,250,252,255],h=Q._.e,b=0,T,m,f,q,g,i=0,u=1,I=255;
h.L7(n,O);h.iU(x[3]);var V=h.wW(1),y=h.wW(1);h.hk(_,V);var r=x[0],E=x[1],a=E<=50?t[E]/255:1+(255-t[101-E])/255,S=x[2],e=V.length,P=new Float32Array(e),C=1+1/10*r,Z=(1-1/C)/2,W=16/256,s=n-1;
for(m=0;m<h.mY;m++){P[m]=V[m]/255;y[m]=r==1?h.random()<1/255?I:u:u}function Y(U,F){var N=U*n+F;if(y[N]!=u||U>=O||F>=n){return}var q=P[N],o=a-q,X=h.random(),J=X/C+Z;
if(b==0||Math.abs(g-q)>W){T=J<=o?i:I;b=~~(h.random()*r)}else if(.1<X){b--}else{b=0}y[N]=T;g=q}if(S==0){for(m=0;
m<n;m++){for(f=0;f<n;f++){q=m+f;if(q>=n)break;Y(f,s-q)}b=0}for(m=1;m<O;m++){for(f=0;f<O;f++){q=m+f;if(q>=O||f>=n)break;
Y(q,s-f)}b=0}}else if(S==1){for(m=0;m<O;m++){for(f=0;f<n;f++){Y(m,f)}b=0}}else if(S==2){for(m=0;m<n;
m++){for(f=0;f<n;f++){q=m+f;if(q>=n)break;Y(f,q)}b=0}for(m=1;m<O;m++){for(f=0;f<O;f++){q=m+f;if(q>=O||f>=n)break;
Y(q,f)}b=0}}else{for(m=0;m<n;m++){for(f=0;f<O;f++){Y(f,m)}b=0}}h.xH(y,l)};Q._.a7n=function(_,n,O,l,x){var t=Q._.e;
t.L7(n,O);var h=x[0],V=x[1],y=x[2],r=t.wW(1),E=t.wW(1),a=t.wW(1),S=t.wW(4),e=t.wW(4);t.hk(_,r);t.jJ(r,E,3,3,1);
t.jJ(r,a,3,3,9);t.sub(a,E);t.QA(E,r,3);t.jM(r,40,10);t.pK(_,l,h,2,!1,h);t.pK(_,S,h,2,!0,h);t.LB(e,255);
t.ES(l,r,e);t.ES(e,r,S);t.cc(S,l,1);t.TV(l);t.ru(l,r);t.jM(r,V,y);t.Sk(r,l);t.EJ(l)};Q._.ahr=function(_,n,O,l,x){var t=Q._.e;
t.L7(n,O);t.iU(x[3]);var h=x[0],V=x[1],y=x[2]/10;h=h+V;var r=t.wW(1),E=t.wW(1),a=t.YH(),S=t.YH();t.rD(r);
t.QA(r,E,11);t.QA(E,r,11);t.u_(r,a);t.gs(a,S,5);t.gs(S,a,5);t.J2(S,.97);t.I1(S,r,h);t.jJ(r,E,V,V,1);
t.c4(_,r);t.SL(E,r,E,.6);t.Kf(r,E,E,y);t.o_(E,E,r,5,1);t.TV(_,l);t.Sk(r,l);t.EJ(l)};Q._.ase=function(_,n,O,l,x){var t=Q._.e;
t.L7(n,O);var h=Math.abs(x[0]),V=h+[1,0,1,2,1,2,1,2,3,2,3,2,3,2,3,2,3,4,3,4,5,4,5,4,5][h],y=2*h+1,r=x[1]/10,E=r*13/15,a=t.wW(1),S=t.wW(1),e=t.wW(1),P=t.wW(1),b=t.wW(4),T=t.wW(4),C=t.wW(4),Z=t.wW(4),W=t.wW(4);
t.hk(_,a);if(x[0]>=0){t.sJ(a)}t.Jt(a,e);t.QA(a,P,V);t.QA(P,a,V);t.tB(a,r);t.Jt(a,S);t.QA(a,P,y);t.QA(P,a,y);
t.tB(a,E);t.LB(C,x[2]);t.LB(Z,x[3]);t.LB(W,x[4]);t.ES(C,a,Z,b);t.ES(W,S,b,T);t.ES(Z,e,T,l);t.ru(_,e,3);
t.Sk(e,l,3)};Q._.alE=function(_,n,O,l,x){var t=Q._.e;t.L7(n,O);t.iU(x[5]);var h=x[0]*5.1,V=x[1]/100,y=t.VC[x[2]],r=t.wW(1),E=t.wW(1),a=t.wW(1);
t.hk(_,r);t.o2(E,255);t.rD(a);t.nU(r,h);t.NC(E,r,.7);t.NC(a,r,V);t.o_(r,r,E,5,y);t.Jt(_,l);t.axb(l,h,x[4],x[3]);
t.TV(l);t.Sk(E,l);t.EJ(l)};Q._.akq=function(_,n,O,l,x){var t=Q._.e;t.L7(n,O);var h=x[0],V=4-x[1],y=11-x[2],r=t.wW(1),E=t.wW(1),a=t.wW(4);
t.c4(_,E);for(var m=0;m<V;m++){t.Jt(E,r);t.Le(r,E,h,h)}t.cA(_,a,h);t.TV(a,a);t.Sk(E,a);t.EJ(a,a);(y<11?t.a91:t.Jt)(a,l,y)};
Q._.aa5=function(_,n,O,l,x){var t=Q._.e;t.L7(n,O);t.iU(x[2]);var h=x[0]+5,V=~~(h/5+1),y=~~(h/2)+1,r=y*y,E=~~(h/3),a=t.VC[x[1]],S=new Array(256);
for(var m=0;m<256;m++){S[m]=~~(.2*(m-128))}var e=t.wW(1),P=t.wW(1);t.ath(_,l,h);t.TV(l);t.ru(l,e);t.rD(P);
t.wZ(e,P,S);t.abQ(P,h,h,V,V);t.SL(e,P,e,1);t.QA(e,P,E);t.QA(P,e,E);t.jJ(e,P,y,y,r);t.o_(P,P,e,5,a);t.Sk(e,l);
t.EJ(l)};Q._.ah7=function(_,n,O,l,x){var t=Q._.e;t.L7(n,O);var h=t.wW(1),V=t.wW(1),y=t.wW(1),r=t.YH(),E=t.YH();
t.hk(_,h);t.QA(h,V,x[2]);t.nU(V,x[0]*5.1);t.jJ(V,h,2,2,4);t.QA(h,V,3);t.QA(V,h,3);t.Jt(h,y);t.QA(h,V,5);
t.QA(V,h,5);t.u_(h,r);t.gs(r,E,5);t.gs(E,r,5);t.afQ(r,V,x[1]);t.sJ(V);t.SL(y,V,y,1);t.xH(y,l)};Q._.apF=function(_,n,O,l,x){var t=Q._.e;
t.L7(n,O);var h=1<<7-x[2],V=t.wW(1),y=t.wW(1),r=t.wW(1);t.c4(_,y);t.QA(y,V,3);t.Jt(V,y);t.QA(V,r,x[0]+5);
t.sub(r,y);t.jM(y,1,x[1]);t.tB(V,1/h);t.tB(V,h);t.sub(V,y);t.TV(_,l);t.Sk(y,l);t.EJ(l)};Q._.anY=function(_,n,O,l,x){var t=Q._.e;
t.L7(n,O);t.iU(x[3]);var h=t.wW(1),V=t.wW(1),y=t.wW(1);t.hk(_,h);t.a0l(V,x[0]/50);t.QA(V,y,3);t.jJ(h,V,9,9,41);
t.jM(V,x[1],x[2]);t.SL(V,y,y,.75);t.Kf(V,y,V,.5);t.Jt(V,h);t.jJ(h,y,3,3,8);t.SL(y,V,y,.75);t.tB(y,1.2);
t.Bc(y,h,1);t.QA(h,y,2);t.Bc(y,h,2);t.tB(h,1.2);t.QA(h,y,2);t.xH(y,l)};Q._.a5i=function(_,n,O,l,x){var t=Q._.e;
t.L7(n,O);var h=x[0]+9,V=x[1]/2,y=x[2],r=x[3],E=t.UP(x[4]),a=x[5]+1,S=x[6],e=t.wW(1),P=t.wW(1),b=t.wW(4),T=t.wW(4);
t.ey(P,y,r,S);t.qk(_,l,h,1,1);t.qk(l,b,h,1,1);t.ai4(b,b,T,7,V);t.tB(T,1.2);t.gQ(T,1.2);t.o_(P,e,e,a,E);
t.tB(e,3);t.Jt(_,l);t.ES(T,e,l)};Q._.a4n=function(_,n,O,l,x){var t=Q._.e;t.L7(n,O);t.iU(x[3]);var h=x[0]+4,V=h*2/5+(h%5|0);
h--;var y=x[1]*-2.75+60,r=65-y,E=x[2]/10,a=t.wW(1),S=t.wW(1);t.rD(a);t.c4(_,S);var e=t.CJ(y,r,S);t.TV(_,l);
t.ru(l,S);t.NC(S,a,.8);t.ZK(S,e);t.tB(S,E);t.add(a,S);t.ol(S,a,h,3,!1,V);t.Sk(a,l);t.EJ(l)};Q._.akD=function(_,n,O,l,x){var t=Q._.e;
t.L7(n,O);t.iU(x[3]);var h=x[0]+5,V=(h*h>>1)+h%2,y=x[1]/10,r=x[2],E=(r*r>>1)+r%2,a=t.wW(1),S=t.wW(1),e=t.wW(1),P=t.wW(4),b=t.wW(4),T=t.wW(4);
t.rD(e);t.TV(_,T);t.ru(T,a);t.NC(a,e,.8);t.QA(e,a,3);t.Bc(a,e,y);t.Sk(e,T);t.EJ(T,T);t.hk(T,e);t.jJ(e,a,h,h,V);
t.QA(e,S,h);t.sub(a,S);t.nU(S,1);t.uf(T,P,7,7,40);t.uf(T,b,7,7,10);t.ES(P,S,b);t.uf(b,l,r,r,E)};Q._.a5g=function(_,n,O,l,x){var t=Q._.e,V=255,m,r;
t.L7(n,O);var h=x[0];if(h<2)V=h;else if(h<12)V=5*h-5;else if(h<47)V=2*h+28;else if(h<50){m=h-47;V=125+12.5*m+12.5*m*m}var y=new Uint8Array(256);
for(m=75,r=15;m<256;m++,r+=24)y[m]=Math.min(255,r);var E=t.wW(1),a=t.wW(1),S=t.wW(1);t.hk(_,E);t.QA(E,a,11);
t.QA(a,S,11);t.sub(S,E);t.tB(E,8);t.sub(S,E);t.nU(E,V);t.sJ(E);t.QA(E,a,5);t.nU(a,51);t.QA(a,E,x[1]);
t.QA(E,a,x[1]);t.sJ(a);t.ZK(a,y);t.xH(a,l)};Q._.arg=function(_,n,O,l,x){var t=Q._.e;t.L7(n,O);var h=t.pb[x[1]],V=x[2],y=V*1.5,r=t.wW(1),E=t.wW(1),a=t.wW(1);
t.c4(_,r);t.ol(r,E,15,2,!0,15);t.Jt(E,a);t.jM(a,V,y);t.QA(a,r,3);t.QA(E,a,x[0]);t.sub(a,E);t.tB(E,h);
t.sub(r,E);t.QA(E,r,3);t.ol(r,E,3,1,!1,1);t.cA(_,l,15);t.TV(l);t.Sk(E,l);t.EJ(l)};Q._.acW=function(_,n,O,l,x){var t=Q._.e;
t.L7(n,O);t.iU(x[3]);var h=x[0]*5.1,V=16-x[1],y=[1,1,1.05,1.1,1.15,1.2,1.25,1.3,1.35,1.4,1.45,1.5,1.6,1.7,1.8,2,2.25,2.5,2.75,3,3.5,4,5,6,8,10][x[2]],r=t.wW(1),E=t.wW(1),a=t.wW(1);
t.hk(_,r);t.nU(r,h);t.QA(r,E,V);t.QA(E,r,V);t.rD(a);t.Kf(r,a,a,1);t.SL(r,a,r,.75);t.tB(r,y);t.gQ(r,y);
t.jJ(r,E,2,2,2);t.xH(E,l)};Q._.adQ=function(_,n,O,l,x){var t=Q._.e;t.L7(n,O);var h=x[0]+9,V=x[1]+9,y=x[2],r=x[3],E=t.UP(x[4]),a=x[5]+1,S=x[6],e=t.wW(1),P=t.wW(1),b=t.wW(1),T=t.wW(1),C=t.wW(1),Z=t.wW(4);
t.c4(_,e);t.Le(e,b,h,h);t.QA(b,e,V);t.Jt(b,C);t.Jt(e,T);t.sub(C,T);t.sub(e,C);t.add(C,T);t.tB(T,10);
t.ey(P,y,r,S);t.o_(P,e,C,a,E);t.Bf(C,T,b,.8);t.cA(_,Z,9);t.cA(Z,l,9);t.TV(l);t.Sk(b,l);t.EJ(l)};Q._.afy=function(_,n,O,l,x){var t=Q._.e;
t.L7(n,O);var h=16-x[0],V=x[1]*8,y=1-(3-x[2])/10,r=~~(h*h*y-1),E=~~(h*h*(1-y));if(E==0)E=1;var a=t.wW(1),S=t.wW(1),e=t.wW(1),P=t.wW(4);
t.hk(_,e);t.jJ(e,a,7,7,25);t.QA(e,S,7);t.sub(a,S);t.nU(S,1);t.uf(_,P,h,h,r);t.uf(_,l,h,h,E);t.ES(P,S,l);
t.TV(l);t.ru(l,a);t.jJ(a,e,3,3,1);t.jJ(a,S,3,3,9);t.sub(S,e);t.Jt(e,S);t.sub(a,e);t.sub(e,S);t.jJ(S,a,3,3,8);
t.jM(a,V,1);t.Sk(a,l);t.EJ(l)};Q._.aot=function(_,n,O,l,x){var t=Q._.e;t.L7(n,O);t.iU(x[3]);var h=x[0],V=x[1],y=x[2],r=h>>1,E=Math.max(~~(h/5),1),a=Math.max(~~(h*2/3),1),S=t.yX(V,y),e=t.wW(1),P=t.wW(1),b=t.wW(1),T=t.wW(1),C=t.wW(4);
t.c4(_,e);t.g3(2147483647,4,2,2,0,255,P);t.g3(4,2147483647,2,2,0,255,T);t.rD(b);t.Kf(P,b,P,1);t.Kf(T,b,T,1);
t.Kf(P,e,P,1);t.Kf(T,e,T,1);t.cA(_,C,r);t.cA(C,l,r);t.jJ(P,e,1,h,E);t.jJ(e,P,3,h,a);t.jJ(T,e,h,1,E);
t.jJ(e,T,h,3,a);t.Xq(P,T);t.TV(l);t.Sk(T,l);t.EJ(l);t.oz(l,S)};Q._.e={};Q._.e.Qc=0;Q._.e.bE=0;Q._.e.mY=0;
Q._.e.uM=0;Q._.e._s=0;Q._.e.L7=function(_,n){var O=_*n,self=Q._.e;self.Qc=_;self.bE=n;self.mY=O;self.uM=O<<1;
self._s=O<<2};Q._.e.iU=function(_){Q._.e.random=function(){var n=_+=1831565813;n=Math.imul(n^n>>>15,n|1);
n^=n+Math.imul(n^n>>>7,n|61);return((n^n>>>14)>>>0)/4294967296}};Q._.e.wW=function(_){var n=Q._.e;return new Uint8Array([-1,n.mY,n.uM,-1,n._s][_])};
Q._.e.YH=function(){return new Int32Array(Q._.e.uM)};Q._.e.QA=function(_,n,O,l){if(l==null)l=O;var self=Q._.e,x=self.Qc,t=self.bE;
Q.OX.nR(_,n,new a8(0,0,x,t),O>>>1);return};Q._.e.gs=function(_,n,O,l){var self=Q._.e,x=new Int32Array(self.mY),t=new Int32Array(self.mY);
for(var m=0;m<2;m++){self.ru(_,x,m,2);self.QA(x,t,O,l);self.Sk(t,n,m,2)}};Q._.e.cA=function(_,n,O,l){var self=Q._.e,x=self.wW(1),t=self.wW(1);
for(var m=0;m<4;m++){self.ru(_,x,m);if(m<3)self.QA(x,t,O,l);else t=x;self.Sk(t,n,m)}};Q._.e.qk=function(_,n,O,l,x){var self=Q._.e,t=self.Qc,h=self.bE,V=O+l-1,y=O>>1,r=V>>1,E=0,a=O*l,S=new Int32Array(O);
for(var m=0;m<h;m++){var e=0,P=0,b=0;for(var T=0;T<O;T++){var C=x?V-T-l:T;for(var Z=C,W=l+C;Z<W;Z++){var s=0-r+Z,f=m-y+T;
if(Z==C){S[T]=s}if(s<0)s=0;else if(s>=t)s=t-1;if(f<0)f=0;else if(f>=h)f=h-1;var q=t*f+s<<2;e+=_[q];P+=_[q+1];
b+=_[q+2]}}n[E++]=~~(e/a);n[E++]=~~(P/a);n[E++]=~~(b/a);n[E]=_[E];E++;for(var g=1;g<t;g++){for(var T=0;
T<O;T++){var f=m-y+T,C=S[T]+1;S[T]=C;var i=C-1,u=C+l-1;if(f<0)f=0;else if(f>=h)f=h-1;if(i<0)i=0;else if(i>=t)i=t-1;
if(u<0)u=0;else if(u>=t)u=t-1;var I=f*t+i<<2,Y=f*t+u<<2;e=e+_[Y]-_[I];P=P+_[Y+1]-_[I+1];b=b+_[Y+2]-_[I+2]}n[E++]=~~(e/a);
n[E++]=~~(P/a);n[E++]=~~(b/a);n[E]=_[E];E++}}};Q._.e.ol=function(_,n,O,l,x,t){var self=Q._.e,h=self.Qc,V=self.bE,y=O+l-1,r=O>>1,E=y>>1,a=0,S=new Int32Array(O),e=new Int32Array(256),P=new Int32Array(16);
for(var m=0;m<V;m++){e.fill(0);P.fill(0);for(var b=0;b<O;b++){var T=x?y-b-l:b;for(var C=T,Z=l+T;C<Z;
C++){var W=0-E+C,s=m-r+b;if(C==T){S[b]=W}if(W<0)W=0;else if(W>=h)W=h-1;if(s<0)s=0;else if(s>=V)s=V-1;
e[_[s*h+W]]++;P[_[s*h+W]>>>4]++}}n[a++]=Q._.e.zZ(P,e,t);for(var f=1;f<h;f++){for(var b=0;b<O;b++){var s=m-r+b,T=S[b]+1;
S[b]=T;var q=T-1,g=T+l-1;if(s<0)s=0;else if(s>=V)s=V-1;if(q<0)q=0;else if(q>=h)q=h-1;if(g<0)g=0;else if(g>=h)g=h-1;
var i=_[s*h+q],u=_[s*h+g];e[i]--;e[u]++;P[i>>>4]--;P[u>>>4]++}n[a++]=Q._.e.zZ(P,e,t)}}};Q._.e.pK=function(_,n,O,l,x,t){var self=Q._.e,h=self.wW(1),V=self.wW(1);
for(var m=0;m<4;m++){self.ru(_,h,m);if(m<3)self.ol(h,V,O,l,x,t);else V=h;self.Sk(V,n,m)}};Q._.e.jJ=function(_,n,O,l,x){x=Math.min(l*O,x);
var self=Q._.e,t=self.Qc,h=self.bE,V=l>>1,y=O>>1,r=0,E=new Int32Array(l),a=new Int32Array(256),S=new Int32Array(16);
for(var m=0;m<h;m++){a.fill(0);S.fill(0);for(var e=0;e<l;e++){for(var P=0,b=O;P<b;P++){var T=0-y+P,C=m-V+e;
if(P==0){E[e]=T}if(T<0)T=0;else if(T>=t)T=t-1;if(C<0)C=0;else if(C>=h)C=h-1;a[_[C*t+T]]++;S[_[C*t+T]>>>4]++}}n[r++]=Q._.e.zZ(S,a,x);
for(var Z=1;Z<t;Z++){for(var e=0;e<l;e++){var C=m-V+e,W=E[e]+1;E[e]=W;var s=W-1,f=W+O-1;if(C<0)C=0;else if(C>=h)C=h-1;
if(s<0)s=0;else if(s>=t)s=t-1;if(f<0)f=0;else if(f>=t)f=t-1;var q=_[C*t+s],g=_[C*t+f];a[q]--;a[g]++;
S[q>>>4]--;S[g>>>4]++}n[r++]=Q._.e.zZ(S,a,x)}}};Q._.e.zZ=function(_,n,O){var l=0,x=0;while(l+_[x>>>4]<O){l+=_[x>>>4];
x+=16}for(;x<256;x++){l+=n[x];if(l>=O)break}return x};Q._.e.uf=function(_,n,O,l,x){var self=Q._.e,t=self.wW(1),h=self.wW(1);
for(var m=0;m<4;m++){self.ru(_,t,m);if(m<3)self.jJ(t,h,O,l,x);else h=t;self.Sk(h,n,m)}};Q._.e.Bc=function(_,n,O){var self=Q._.e,l=self.Qc,x=self.bE,t=0;
for(var m=0;m<x;m++){var h=m*l,V=(m-1)*l,y=(m+1)*l;if(V<0)V=h;if(y>=x)y=h;for(var r=0;r<l;r++){var E=r-1,a=r+1;
if(E<0)E=r;if(a>=l)a=r;var S=h+E,e=h+a,P=V+r,b=y+r,T=h+r,C=_[S],Z=_[e],W=_[P],s=_[b],f=_[T],q=f+(f*4*O+.5);
q=q-((C+Z+s+W)*O+.5);n[t++]=self.Rl(q)}}};Q._.e.cc=function(_,n,O){var self=Q._.e,l=self.wW(1),x=self.wW(1);
for(var m=0;m<4;m++){self.ru(_,l,m);if(m<3)self.Bc(l,x,O);else x=l;self.Sk(x,n,m)}};Q._.e.a91=function(_,n,O){var self=Q._.e,l=self.Qc,x=self.bE,t=0,h=O+4;
for(var m=0;m<x;m++){var V=m*l,y=(m-1)*l,r=(m+1)*l;if(y<0)y=V;if(r>=x)r=V;for(var E=0;E<l;E++){var a=E-1,S=E+1;
if(a<0)a=E;if(S>=l)S=E;var e=V+a<<2,P=V+S<<2,b=y+E<<2,T=r+E<<2,C=V+E<<2;for(var Z=0;Z<3;Z++){var W=_[e+Z],s=_[P+Z],f=_[b+Z],q=_[T+Z],g=_[C+Z];
n[t++]=(g*O+W+s+q+f)/h}n[t]=_[t];t++}}};Q._.e.Le=function(_,n,O,l){var self=Q._.e,x=self.Qc,t=self.bE,h=O>>1,V=l>>1,y=0,r=new Int32Array(O),E=new Int32Array(256);
for(var m=0;m<t;m++){E.fill(0);for(var a=0;a<O;a++){for(var S=0,e=l;S<e;S++){var P=0-V+S,b=m-h+a;if(S==0){r[a]=P}if(P<0)P=0;
else if(P>=x)P=x-1;if(b<0)b=0;else if(b>=t)b=t-1;E[_[b*x+P]]++}}var T=0,C=0;for(var Z=0;Z<256;Z++){if(T<E[Z]){C=Z;
T=E[Z]}}n[y++]=C;for(var W=1;W<x;W++){for(var a=0;a<O;a++){var b=m-h+a,s=r[a]+1;r[a]=s;var f=s-1,q=s+l-1;
if(b<0)b=0;else if(b>=t)b=t-1;if(f<0)f=0;else if(f>=x)f=x-1;if(q<0)q=0;else if(q>=x)q=x-1;E[_[b*x+f]]--;
E[_[b*x+q]]++}T=0;C=0;for(var Z=0;Z<256;Z++){if(T<E[Z]){C=Z;T=E[Z]}}n[y++]=C}}};Q._.e.anq=[function(_,n,O,l,x,t,h,V,y,r){return x+(_+n+O)*r-(y+V+h)*r},function(_,n,O,l,x,t,h,V,y,r){return x+(n+O+t)*r-(V+h+l)*r},function(_,n,O,l,x,t,h,V,y,r){return x+(O+t+y)*r-(h+l+_)*r},function(_,n,O,l,x,t,h,V,y,r){return x+(t+y+V)*r-(l+_+n)*r},function(_,n,O,l,x,t,h,V,y,r){return x+(y+V+h)*r-(_+n+O)*r},function(_,n,O,l,x,t,h,V,y,r){return x+(V+h+l)*r-(n+O+t)*r},function(_,n,O,l,x,t,h,V,y,r){return x+(h+l+_)*r-(O+t+y)*r},function(_,n,O,l,x,t,h,V,y,r){return x+(l+_+n)*r-(t+y+V)*r}];
Q._.e.o_=function(_,n,O,l,x){var self=Q._.e,t=self.Qc,h=self.bE,V=t,y=self.anq[l-1];for(var m=0;m<h;
m++){var r=(m>0?m-1:0)*V,E=m*V,a=(m<h?m+1:m)*V;for(var S=0;S<t;S++){var e=S>0?S-1:0,P=S<t?S+1:S,b=E+S,T=_[r+e],C=_[r+S],Z=_[r+P],W=_[E+e],s=n[b],f=_[E+P],q=_[a+e],g=_[a+S],i=_[a+P];
O[b]=self.Rl(y(T,C,Z,W,s,f,q,g,i,x))}}};Q._.e.ai4=function(_,n,O,l,x){var self=Q._.e,t=self.wW(1),h=self.wW(1),V=self.wW(1);
for(var m=0;m<3;m++){self.ru(_,t,m);self.ru(n,h,m);self.o_(t,h,V,l,x);self.Sk(V,O,m)}self.ru(n,t,3);
self.Sk(t,O,3)};Q._.e.hk=function(_,n){var O=_.length,l=0;for(var m=0;m<O;m++){n[l++]=~~((_[m++]+_[m++]+_[m++]+2)/3)}};
Q._.e.xH=function(_,n){var O=n.length,l=0;for(var m=0;m<O;m++){var x=_[m];n[l++]=x;n[l++]=x;n[l++]=x;
n[l++]=255}if(n[0]==255)n[0]--;else n[0]++};Q._.e.c4=function(_,n){var O=n.length,l=0;for(var m=0;m<O;
m++){var x=_[l++],t=_[l++],h=_[l++];l++;if(t>x)x=t;if(h>x)x=h;n[m]=x}};Q._.e.TV=function(_,n){if(n==null)n=_;
var O=_.length;for(var l=0;l<O;l+=4){var x=_[l],t=_[l+1],h=_[l+2],V=x,y=0,r=x,a;if(t<=x){x=t}else{y=1;
r=t}if(h<=r){if(x>h){x=h}}else{y=2;r=h}var E=r-x;if(E!=0){if(y==0){a=~~(43*(t-h)/E)}else if(y==1){a=~~(43*(h+2*E-V)/E)}else{a=43*(V+4*E-t)/E}if(a<0){a=255&a-1}n[l]=a;
n[l+1]=~~(255*E/r)}else{n[l]=E;n[l+1]=E}n[l+2]=r;n[l+3]=_[l+3]}};Q._.e.EJ=function(_,n){if(n==null)n=_;
var O=_.length;for(var l=0;l<O;l+=4){var x=_[l],t=_[l+1],h=_[l+2];if(t){if(x==255)x=0;var V=~~(6*x/255),y=~~(-255*V+6*x);
if(V==0){n[l]=h;n[l+1]=~~(h*(255-t*(255-y)/255)/255);n[l+2]=~~(h*(255-t)/255)}else if(V==1){n[l]=~~(h*(255-t*y/255)/255);
n[l+1]=h;n[l+2]=~~(h*(255-t)/255)}else if(V==2){n[l]=~~(h*(255-t)/255);n[l+1]=h;n[l+2]=~~(h*(255-t*(255-y)/255)/255)}else if(V==3){n[l]=~~(h*(255-t)/255);
n[l+1]=~~(h*(255-t*y/255)/255);n[l+2]=h}else if(V==4){n[l]=~~(h*(255-t*(255-y)/255)/255);n[l+1]=~~(h*(255-t)/255);
n[l+2]=h}else{n[l]=h;n[l+1]=~~(h*(255-t)/255);n[l+2]=~~(h*(255-t*y/255)/255)}}else{n[l]=h;n[l+1]=h;n[l+2]=h}n[l+3]=_[l+3]}};
Q._.e.Sk=function(_,n,O,l){if(O==null)O=2;if(l==null)l=4;var x=_.length;for(var m=0;m<x;m++){n[O]=_[m];
O+=l}};Q._.e.ru=function(_,n,O,l){if(O==null)O=2;if(l==null)l=4;var x=n.length;for(var m=0;m<x;m++){n[m]=_[O];
O+=l}};Q._.e.Bf=function(_,n,O,l){if(l==null)l=1;var x=n.length,t=0,h;for(var t=0;t<x;t++){h=n[t];if(h){h*=l;
O[t]=~~((h*_[t]+(255-h)*O[t])/255)}}};Q._.e.ES=function(_,n,O,l){if(l==null)l=O;var x=n.length,t=0,h,V;
for(var m=0;m<x;m++){h=n[m];if(h){V=255-h;l[t]=~~((h*_[t]+V*O[t])/255);l[t+1]=~~((h*_[t+1]+V*O[t+1])/255);
l[t+2]=~~((h*_[t+2]+V*O[t+2])/255)}l[t+3]=_[t+3];t+=4}};Q._.e.SL=function(_,n,O,l){var x=~~(l*255),t=O.length;
for(var m=0;m<t;m++){O[m]=((255-x*(255-_[m])/255)*n[m]+_[m]*(x*(255-_[m])/255))/255}};Q._.e.Kf=function(_,n,O,l){var x=~~(l*255),t=O.length;
for(var m=0;m<t;m++){O[m]=((255-x*_[m]/255)*n[m]+_[m]*(x*_[m]/255))/255}};Q._.e.NC=function(_,n,O){var l=n.length;
for(var m=0;m<l;m++){n[m]=~~(_[m]*O+.5)+(n[m]-~~(n[m]*O+.5))}};Q._.e.sub=function(_,n){var O=_.length;
for(var m=0;m<O;m++){n[m]=Math.max(_[m]-n[m],0)}};Q._.e.add=function(_,n){var O=_.length;for(var m=0;
m<O;m++){n[m]=Math.min(_[m]+n[m],255)}};Q._.e.Xq=function(_,n){var O=_.length;for(var m=0;m<O;m++){n[m]=_[m]+n[m]>>1}};
Q._.e.Jt=function(_,n){var O=_.length;for(var m=0;m<O;m++){n[m]=_[m]}};Q._.e.ZK=function(_,n){var O=_.length;
for(var m=0;m<O;m++){_[m]=n[_[m]]}};Q._.e.oz=function(_,n){var O=Q._.e._s;for(var m=0;m<O;m+=4){var l=_[m],x=_[m+1],t=_[m+2],h=l;
if(x>l)h=x;if(t>l)h=t;var V=n[h];if(V){_[m]=~~(V*l/h);_[m+1]=~~(V*x/h);_[m+2]=~~(V*t/h)}else{_[m]=V;
_[m+1]=V;_[m+2]=V}}};Q._.e.tB=function(_,n){for(var m=0,O=_.length;m<O;m++){_[m]=Math.min(255,~~(.5+_[m]*n))}};
Q._.e.gQ=function(_,n){for(var m=0,O=_.length;m<O;m++){_[m]=255-Math.min(255,~~(.5+(255-_[m])*n))}};
Q._.e.sJ=function(_){var n=_.length;for(var m=0;m<n;m++){_[m]=255-_[m]}};Q._.e.nU=function(_,n,O,l){if(O==null)O=0;
if(l==null)l=255;for(var m=0,x=_.length;m<x;m++){_[m]=_[m]>=n?l:O}};Q._.e.lv=function(_){return[_>>24&255,_>>16&255,_>>8&255,_&255]};
Q._.e.axb=function(_,n,O,l){if(O==null)O=255;if(l==null)l=4278190335;var x=Q._.e,t=x._s,h=x.lv(O),V=x.lv(l);
for(var m=0;m<t;m+=4){var y=~~((_[m]+_[m+1]+_[m+2]+2)/3);if(y>=n){_[m]=h[0];_[m+1]=h[1];_[m+2]=h[2]}else{_[m]=V[0];
_[m+1]=V[1];_[m+2]=V[2]}}};Q._.e.LB=function(_,n){var O=Q._.e,l=O._s,x=O.lv(n);for(var m=0;m<l;){_[m++]=x[0];
_[m++]=x[1];_[m++]=x[2];_[m++]=x[3]}};Q._.e.o2=function(_,n){var O=_.length;for(var m=0;m<O;){_[m++]=n}};
Q._.e.yX=function(_,n){_=_>5?(100-Math.max(4,_))/100:.95;n=n!=100?Math.max(4,n)/100:.9995;var O=new Uint8Array(256),l=n>.5?.5/(1-n):n*2,x=~~(l*256),t=~~((.5-_*l)*256)<<8;
for(var m=0;m<256;m++){O[m]=Q._.e.Rl(t>>8);t+=x}return O};Q._.e.rD=function(_){for(var m=0,n=Q._.e,O=_.length;
m<O;m++){_[m]=~~(n.random()*256)}};Q._.e.a0l=function(_,n){for(var m=0,O=Q._.e,l=_.length;m<l;m++){_[m]=O.random()<n?255:0}};
Q._.e.i9=function(_,n,O){for(var m=0,l=Q._.e,x=_.length;m<x;m++){if(l.random()<n)_[m]=O}};Q._.e.wZ=function(_,n,O){var l=_.length;
for(var m=0;m<l;m++){_[m]=Q._.e.Rl(_[m]+O[n[m]])}};Q._.e.Ez=function(_){var n=new Uint32Array(256);for(var m=0,O=_.length;
m<O;m++){n[_[m]]++}return n};Q._.e.CJ=function(_,n,O){var self=Q._.e,l=self.Ez(O),x=self.mY/100,t=new Uint8Array(256),h=x*_,V=x*n,y=0,r=-1,E=256;
do{y+=l[++r]}while(y<=h);y=0;do{y+=l[--E]}while(y<=V);if(E-r<=0)E=r+1;if(E>255){E=255;r=254}var a=255/(E-r),S=-r;
for(var m=0;m<256;m++){t[m]=self.Rl(a*S+.5);S++}return t};Q._.e.jM=function(_,n,O){var l=Q._.e;l.ZK(_,l.CJ(n,O,_))};
Q._.e.afj=function(_,n){var self=Q._.e,O=self.Ez(_),l=self.mY*n/100,x=0,t=-1;do{x+=O[++t]}while(x<=l);
return t};Q._.e.u_=function(_,n){var O=0,self=Q._.e,l=self.Qc,x=self.bE,t=1/Math.PI,h=t*255;for(var m=0;
m<x;m++){var V=m+1;if(V==x)V--;var y=m*l,r=~~((1-(m+1)/x)*255);for(var E=0;E<l;E++){var a=E+1;if(a==l)a--;
var S=_[y+E],e=_[y+a],P=_[V*l+E];if(S-P==0){n[O++]=r}else{var b=S-P+255;if(b==255){b=0}else{b=~~(Math.atan2(1/(255-b),1)*h+.5);
if(b<0)b+=255}n[O++]=b}if(S-e==0){n[O++]=~~((1-(E+1)/l)*255)}else{var b=S-e+255;if(b==255){b=0}else{b=~~(Math.atan2(1/(255-b),1)*h+.5);
if(b<0)b+=255}n[O++]=b}}}};Q._.e.J2=function(_,n){var self=Q._.e,O=self.Qc,l=self.bE,x=0;for(var m=0;
m<l;m++){for(var t=0;t<O;t++){_[x]=~~(m*n+.5)+~~(_[x]*(1-n)+.5);x++;_[x]=~~(t*n+.5)+~~(_[x]*(1-n)+.5);
x++}}};Q._.e.a7J=function(_,n,O,l){var self=Q._.e,x=self.Qc,t=self.bE,h=0;for(var m=0;m<t;m++){for(var V=0;
V<x;V++){n[h]=~~(n[h]*(1-O)+.5)+~~(_[h]*l+.5);h++;n[h]=~~(n[h]*(1-O)+.5)+~~(_[h]*l+.5);h++}}};Q._.e.I1=function(_,n,O){var self=Q._.e,l=self.Qc,x=self.bE,t=0,h=0;
for(var m=0;m<x;m++){for(var V=0;V<l;V++){var y=_[t++],r=_[t++];n[h++]=r%O>=2&&y%O>=2?255:0}}};Q._.e.g3=function(_,n,O,l,x,t,h){var self=Q._.e,V=self.Qc,y=self.bE,r=0,E=0,a=0;
for(var m=0;m<y;m++){var S=m%_<O||y-O<=m;for(var e=0;e<V;e++){h[r++]=S||e%n<l||V-l<=e?x:t}}};Q._.e.ey=function(_,n,O,l){var self=Q._.e,x=self.Qc,t=self.bE,h=cz.ey(n),V=h[0],y=h[1],r=Q.Q(V.O()*4);
r.fill(4294967295);Q.X$(y,r);var E=Q.scale.Iv(r,V.a,V.n),a=Q.scale.wV(E,null,x,t,O/100,O/100,0,0);Q.nV(a,_,0);
if(l)Q.sJ(_)};Q._.e.Rl=function(_){return~~Math.min(255,Math.max(0,_))};Q._.e.pb=[0,5,10,15,20,25,35,45,65,85,105,125,145,165,185,205];
Q._.e.VC=[0,.2,.4,.5,.6,.7,.8,.9,1,1.1,1.2,1.3,1.4,1.5,1.7,2,2.5,3,3.5,4,5,6,7,8,9,10];Q._.e.UP=function(_){return _>40?[1.25,1.5,1.75,2,2.5,3,4,5,7.5,10][_-41]:_/40};
Q._.e.ath=function(_,n,O){var self=Q._.e,l=self.Qc,x=self.bE,t=O,h=O>>1,V=h-1,y=t*t,r=0;for(var m=0;
m<x;m++){var E=0,a=0,S=0,e=~~(m/O)*O,P=0;for(var b=0;b<t;b++){for(var T=0;T<t;T++){var C=P+T,Z=e+b;if(C>=l)C=l-1;
if(Z>=x)Z=x-1;E+=_[Z*l+C<<2];a+=_[(Z*l+C<<2)+1];S+=_[(Z*l+C<<2)+2]}}var W=~~(E/y),s=~~(a/y),f=~~(S/y);
n[r]=W;n[r+1]=s;n[r+2]=f;n[r+3]=_[r+3];r+=4;for(var q=1;q<l;q++){for(var b=0;b<t;b++){var g=q-1,i=g+t,Z=e+b;
if(i>=l)i=l-1;if(Z>=x)Z=x-1;var u=Z*l,I=u+i<<2,Y=u+g<<2;E+=_[I]-_[Y];a+=_[I+1]-_[Y+1];S+=_[I+2]-_[Y+2]}if(q%O==0){W=~~(E/y);
s=~~(a/y);f=~~(S/y)}n[r]=W;n[r+1]=s;n[r+2]=f;n[r+3]=_[r+3];r+=4}}};Q._.e.abQ=function(_,n,O,l,x){var self=Q._.e,t=self.Qc,h=self.bE,V=0,y=0,r=0,E=0;
for(var m=E;m<h+E;m++){var a=m%n>=l||m<l||h+E-l<=m;for(var S=0;S<t;S++){_[V++]=a&&(S%O>=x||S<x||t-x<=S)?255:0}}};
Q._.e.afQ=function(_,n,O){var l=function(r,E){return E<=r?r/E&1?E-r%E:r%E:r},x=[function(V,y){return l(V,255)/255},function(V,y){return(255+l(V,255)-l(y,255))/510},function(V,y){return(255-l(y,255))/255},function(V,y){return(510-l(V,255)-l(y,255))/510},function(V,y){return(255-l(V,255))/255},function(V,y){return(255-l(V,255)+l(y,255))/510},function(V,y){return l(y,255)/255},function(V,y){return(l(V,255)+l(y,255))/510}][O],t=0,h=0;
for(var m=0;m<Q._.e.mY;m++){var V=_[t++],y=_[t++];n[h++]=~~(255*x(V,y))}};Q._.acc=function(){var _=[],n=new Uint8Array(512),O=new Float32Array(512),l=new Float32Array(512),x=[1,-1,1,-1,1,-1,0,0],t=[1,1,-1,-1,0,0,1,-1],h=0,V,P=0;
for(;h<256;h++)_[h]=h;while(h!=0){h--;V=Math.floor(Math.random()*h);_[V]^=_[h]^(_[h]=_[V])}function y(y){y=Math.floor(y*65536);
if(y<256){y|=y<<8}for(var m=0;m<256;m++){var C=m+256,Z=_[m]^(m&1?y:y>>8)&255;n[m]=n[C]=Z;Z=Z%8;O[m]=O[C]=x[Z];
l[m]=l[C]=t[Z]}}function r(C){return C*C*C*(C*(C*6-15)+10)}function E(C,Z,W){return(1-W)*C+W*Z}function a(C,Z){return C&Z}function S(C,Z){return C%Z}function e(C,Z,W,s,f){var q=Math.floor(C),g=Math.floor(Z),h,i,u,I,Y,U;
C=C-q;Z=Z-g;q=q&255;g=g&255;h=q+n[g];I=O[h]*C+l[h]*Z;h=q+n[f(g+1,s)];u=O[h]*C+l[h]*(Z-1);h=f(q+1,W)+n[g];
Y=O[h]*(C-1)+l[h]*Z;h=f(q+1,W)+n[f(g+1,s)];U=O[h]*(C-1)+l[h]*(Z-1);i=r(C);return E(E(I,Y,i),E(u,U,i),r(Z))}function b(C,h,Z){C[h]=Z}function T(C,Z,W,s,f){var q=Math.min(Math.min(Z,256),Math.min(256,W)),g=q==256||q<8,i=8,u=new Uint32Array(i),I=new Uint32Array(i),Y=new Float32Array(i),U=new Float32Array(i),F=1,N=1,o=g?a:S,X=b,J;
for(var m=0;m<i;m++){J=N*1/q;if(g){I[m]=(1<<Math.ceil(Math.log2(W*J)))-1;u[m]=(1<<Math.ceil(Math.log2(Z*J)))-1}else{I[m]=J*W;
u[m]=J*Z}Y[m]=F;U[m]=J;F*=.5;N=N<<1}y(Math.random());for(var c=0,h=0;c<W;c++){for(var p=0;p<Z;p++){var d=0;
for(var k=0;k<i;k++){J=U[k];d+=e(p*J,c*J,u[k],I[k],o)*Y[k]}X(s,h++,Math.round(Math.max(0,255*Math.min(1,.5+d*.5))))}}}return T}();
Q._.apZ=function(){function _(n,O,l,x){var t=new Uint8Array(n.length>>>2),h=new Uint8Array(n.length>>>2),V=new Uint8Array(n.length);
for(var m=0;m<n.length;m+=4){var y=n[m+0]*.3+n[m+1]*.59+n[m+2]*.11;h[m>>>2]=y;V[m]=n[m];V[m+1]=n[m+1];
V[m+2]=n[m+2]}Q.u3.$A(h,t,O,l);Q.u3.G4(n,x,O,l,Q.u3.AK[1],0,!0);for(var m=0;m<n.length;m+=4){V[m+3]=255-t[m>>>2]}for(var m=0,r=n.length;
m<r;m+=4){var E=V[m+3]/255;x[m]=V[m]*E+x[m]*(1-E);x[m+1]=V[m+1]*E+x[m+1]*(1-E);x[m+2]=V[m+2]*E+x[m+2]*(1-E)}}return _}();
Q._.axa=function(){function _(t,h,V,y,r){var E=new Uint32Array(t.buffer),a=0;for(var m=0;m<V;m++){for(var S=0;
S<h;S++,a+=4){var e=E[m*h+S],P=e&255,b=e>>>8&255,T=e>>>16&255,C=e>>>24&255,Z=~~(Math.random()*8),W=Z%3,s=0,f=0;
if(Z<3){f--}else if(Z>4){f++}if(W==0){s--}else if(W==2){s++}var q=S+s,g=m+f;if(q<0)q=0;else if(q>h-1)q=h-1;
if(g<0)g=0;else if(g>V-1)g=V-1;var e=E[g*h+q],i=e&255,u=e>>>8&255,I=e>>>16&255,Y=e>>>24&255;y[a]=r(P,i);
y[a+1]=r(b,u);y[a+2]=r(T,I);y[a+3]=r(C,Y)}}}function n(t,h){return h}function O(t,h){return t>h?h:t}function l(t,h){return t<h?h:t}function x(t,h,V,y,r){var E=r[0];
if(E==0)_(t,h,V,y,n);else if(E==1)_(t,h,V,y,O);else if(E==2)_(t,h,V,y,l);else if(E==3){console.error("Not implemented")}else console.error("Mew mew")}return x}();
Q._.aeo=function(){function _(n,O,l,x,t){var h=t&&t[0]?t[0]:4,V,y,r,E,a,S,e;for(var m=0;m<l;m++){var P=Math.max(m-h,0),b=Math.min(m+h,l-1);
for(var T=0;T<O;T++){var C=Math.max(T-h,0),Z=Math.min(T+h,O-1);V=P*O+C<<2;E=n[V];a=n[V+1];S=n[V+2];e=n[V+3];
V=P*O+Z<<2;E+=n[V];a+=n[V+1];S+=n[V+2];e+=n[V+3];V=b*O+C<<2;E+=n[V];a+=n[V+1];S+=n[V+2];e+=n[V+3];V=b*O+Z<<2;
E+=n[V];a+=n[V+1];S+=n[V+2];e+=n[V+3];V=m*O+T<<2;x[V]=E+2>>>2;x[V+1]=a+2>>>2;x[V+2]=S+2>>>2;x[V+3]=e+2>>>2}}}return _}();
Q._.a17=function(){function _(n,O,l,x){var t=new Uint8Array(n.length),h=new Uint8Array(n.length>>>2),V=new Uint8Array(n.length>>>2);
Q.u3.G4(n,t,O,l,Q.u3.AK[2],0,!0);for(var m=0;m<n.length;m+=4){var y=t[m+0]*.3+t[m+1]*.59+t[m+2]*.11;
h[m>>>2]=y;x[m+0]=n[m+0];x[m+1]=n[m+1];x[m+2]=n[m+2];x[m+3]=n[m+3]}Q.u3.$A(h,V,O,l);for(var m=0;m<n.length;
m+=4){t[m+3]=~~(Math.max(0,255-V[m>>>2]-50)*(255/205))}for(var m=0,r=n.length;m<r;m+=4){var E=t[m+3]/255;
x[m]=t[m]*E+x[m]*(1-E);x[m+1]=t[m+1]*E+x[m+1]*(1-E);x[m+2]=t[m+2]*E+x[m+2]*(1-E)}}return _}();Q._.EW=function(){function _(Z,W){return Z[W]+Z[W+1]+Z[W+2]+Z[W+3]}function n(Z,W){return Z[W]+Z[W+1]+Z[W+2]+2*Z[W+3]}function O(Z,W,s,f){Z[W]=s[f];
Z[W+1]=s[f+1];Z[W+2]=s[f+2];Z[W+3]=s[f+3]}function l(Z,W,s){Z[W]=Z[s];Z[W+1]=Z[s+1];Z[W+2]=Z[s+2];Z[W+3]=Z[s+3]}function x(Z,W,s){Z[s]=W[s];
Z[s+1]=W[s+1];Z[s+2]=W[s+2];Z[s+3]=255-W[s+3]}function t(Z){for(var m=0,W=Z.length;m<W;m+=4){Z[m+3]=255-Z[m+3]}}function h(){var Z=Math.random();
if(Z>.5)return 0;if(Z>.25)return 1;if(Z>.1)return 2;if(Z>.02143)return 3;if(Z>.00445)return 4;if(Z>65e-5)return 5;
if(Z>415e-6)return 6;if(Z>55e-6)return 7;return 8}function V(Z,W,s,f,q,g){Z[W]=s[f]+(q[g]-s[f]>>1);Z[W+1]=s[f+1]+(q[g+1]-s[f+1]>>1);
Z[W+2]=s[f+2]+(q[g+2]-s[f+2]>>1);Z[W+3]=s[f+3]+(q[g+3]-s[f+3]>>1)}function y(Z,W,s,f,q,g){Z[W]=q[g]+s[f]>>1;
Z[W+1]=q[g+1]+s[f+1]>>1;Z[W+2]=q[g+2]+s[f+2]>>1;Z[W+3]=q[g+3]+s[f+3]>>1}function r(Z,W,s,f,q,g,i,u,I){var Y=0,U=0,F=0,m,N=q[g],o;
V(u,0,Z,W,Z,s);for(m=0;m<N;m++){V(u,(m+1)*4,u,m*4,Z,s)}U=(N+1)*4;F+=N;g--;O(Z,W,u,U-4);f[g]=_(Z,W);W-=I;
while(g>0&&f[g-1]<f[g]){o=u;u=i;i=o;Y=U;y(u,0,Z,W-I,i,0);for(m=4;m<Y;m+=4){y(u,m,u,m-4,i,m)}N=q[g];for(m=F;
m<N;m++){V(u,U,u,U-4,i,Y-4);U+=4;F++}g--;O(Z,W,u,U-4);f[g]=_(Z,W);W-=I}}function E(Z,W,s,f,q){var g=W*4,i=0,u,I,Y=new Uint8Array(W+1),U=new Uint8Array(10*4),F=new Uint8Array(10*4);
for(var m=0;m<s;m++){x(f,Z,i);q[0]=_(f,i);Y[0]=h();u=i;i+=4;for(var N=1;N<W;N++){x(f,Z,i);q[N]=_(f,i);
I=h();Y[N]=I;if(q[N-1]<q[N]&&I>0){r(f,i-4,i,q,Y,N,U,F,4)}i+=4}q[W]=q[0];Y[W]=Y[0];if(q[W-1]<q[W]&&I>0){r(f,i,u,q,Y,W,U,F,4)}}t(f)}function a(){var Z=Math.random();
if(Z>.659755)return 0;if(Z>.1625)return 10;if(Z>.06)return 20;if(Z>.01)return 30;if(Z>.0035)return 40;
if(Z>65e-5)return 50;if(Z>415e-6)return 60;if(Z>55e-6)return 70;return 80}function S(Z,W,s,f,q,g){var i=a()+1,u=f[q];
for(var m=1;m<i;m++){if(0>q)break;if(f[q-m]<u){l(Z,W,s)}else{break}W+=g}}function e(Z,W,s,f,q){var g=W*4,i=0;
for(var m=0;m<s;m++){x(f,Z,i);q[0]=_(f,i);i+=4;for(var u=1;u<W;u++){x(f,Z,i);q[u]=_(Z,i);if(q[u-1]<q[u]){S(f,i-4,i,q,u,-4)}i+=4}q[W]=q[0];
if(q[u-1]<q[u]){S(f,i-4,i-g,q,u,-4)}}t(f)}function P(Z,W,s,f,q,g){var i=1,u,I,Y=new Uint8Array(4),U,F=W;
while(Math.random()<1/i){F=W;if(f<=1)break;u=s[f];I=s[f-1];if(u<=I)break;O(Y,0,Z,F-g);U=!0;for(var m=f;
m<q;m++){if(I>s[m]){O(Z,F-g,Y,0);s[m-1]=I;U=!1;break}O(Z,F-g,Z,F);s[m-1]=s[m];F+=g}if(U){O(Z,F-g,Y,0);
s[q-1]=I}i++;f--;W-=g}}function b(Z,W,s,f,q){var g=0,i=0,u=W*4;for(var m=0;m<s;m++){i=g;for(var I=0;
I<W;I++){x(f,Z,g);q[I]=n(f,g);g+=4}g=i;for(var I=1;I<W;I++){if(q[I-1]<q[I]&&Math.random()<.66){P(f,g+4,q,I,W,4)}g+=4}g+=4}t(f)}function T(Z,W,s,f,q){var g=q[0],i=q[1],u=new Uint16Array(W+1),I=Z,Y=f,U;
if(i){U=f.slice(0);C(Z,f,W,s);I=f;Y=U}if(g==0)E(I,W,s,Y,u);else if(g==1)e(I,W,s,Y,u);else if(g==2)b(I,W,s,Y,u);
if(i){C(U,f,W,s)}}function C(Z,W,s,f){for(var q=0;q<f;q++)for(var g=0;g<s;g++){var i=q*s+g<<2,u=q*s+(s-1-g)<<2;
W[u]=Z[i];W[u+1]=Z[i+1];W[u+2]=Z[i+2];W[u+3]=Z[i+3]}}return T}();Q._.p0=function(_,n,O,l,x){var t=Q._.e,h=1,T=0,W=0;
t.L7(n,O);t.iU(x[2]);var V=3<<13,y=Math.PI/2.43,r=y/256,E=Math.PI*2/256;function a(){var g=t.random()*256,i=t.random()*256;
return h*~~(Math.tan(y-g*r)*325*Math.cos(i*E)*256)+V>>16}h=x[0];var S=x[1],e=(S+2)/2,P=t.random()*255,b=t.wW(1);
for(var m=0;m<O;m++){var C=t.Rl(a()+P);for(var Z=0;Z<n;Z++){C=t.Rl(a()+C);b[T++]=C}}T=n;for(var m=1;
m<O;m++){var s=t.Rl(a()+b[W++]);b[T++]=s;for(var Z=1;Z<n;Z++){var f=W+1;if(Z+1==n){f--}var q=(e+s+b[f]+b[W]*S)/(S+2);
s=t.Rl(a()+q);b[T++]=s;W++}}t.xH(b,l)};var ix=function(){function _(K){K=K^61^K>>>16;K=K+(K<<3);K=K^K>>>4;
K=K*668265261;K=K^K>>>15;return K}var n=function(){var n=function(K){if(K){this.EX=K}this.EX=_(this.EX);
return(this.EX&16777215)*(1/16777215)};return n};function O(K,G){if(G==null){G=[0,0]}return Math.sqrt((G[0]-K[0])*(G[0]-K[0])+(G[1]-K[1])*(G[1]-K[1]))}function l(K,G){if(G==null){G=[0,0]}return[-(G[1]-K[1])/O(K,G),(G[0]-K[0])/O(K,G)]}function x(K){return[Math.cos(K),Math.sin(K)]}function t(K){var G=O(K,[0,0]),z=[K[0]/G,K[1]/G],M=Math.atan(z[1]/z[0]);
if(z[0]>0&&z[1]<0){M+=2*Math.PI}else if(z[0]<0&&z[1]<0){M+=Math.PI}else if(z[0]<0&&z[1]>0){M+=Math.PI}return M}function h(K){var h=0;
for(var m=1;m<K.length/2;++m){h+=O([K[2*m],K[2*m+1]],[K[2*(m-1)],K[2*(m-1)+1]])}return h}function V(K,G,z){var M=new Float32Array(K.length),hl=1/(K.length/2),j=f(z);
for(var m=0;m<K.length/2;++m){var w=m*hl,B=w/2+.5,bB=1,bG=0;if(z.shape==2){bB=1/(2*B)}if(z.shape==3){B=(1-w)/2+.5;
bB=1/(2*B)+.5}if(z.shape==4){B=w;bB=Math.sin(3/2*Math.PI*B)/4+1}if(z.shape==5){B=(w-.5)*6;bB=(-Math.atan(B)/1.25+1)/5+.6-.2*w}var eb=[null,null];
if(m==0){eb=l([K[2*m],K[2*m+1]],[K[2*(m+1)],K[2*(m+1)+1]])}else if(m==K.length/2-1){eb=l([K[2*(m-1)],K[2*(m-1)+1]],[K[2*m],K[2*m+1]])}else{eb=l([K[2*(m-1)],K[2*(m-1)+1]],[K[2*(m+1)],K[2*(m+1)+1]])}M[2*m]=K[2*m]+(bB*G+bG)*eb[0];
M[2*m+1]=K[2*m+1]+(bB*G+bG)*eb[1];if(z.style==2){M[2*m]+=q(2*m/M.length,j,z)}}return M}function y(K,G,z){var M=new Float32Array(K.length),hl=1/(K.length/2);
for(var m=0;m<K.length/2;++m){var j=m*hl,w=[null,null],B=.6*z.Jj*u(j,G.af4)*z.c1/100,bB=.6*z.Jj*u(j,G.a95)*z.c1/100,bG=G.alY*B+(1-G.alY)*bB;
if(m==0){w=l([K[2*m],K[2*m+1]],[K[2*(m+1)],K[2*(m+1)+1]])}else if(m==K.length/2-1){w=l([K[2*(m-1)],K[2*(m-1)+1]],[K[2*m],K[2*m+1]])}else{w=l([K[2*(m-1)],K[2*(m-1)+1]],[K[2*(m+1)],K[2*(m+1)+1]])}M[2*m]=K[2*m]+bG*w[0];
M[2*m+1]=K[2*m+1]+bG*w[1]}return M}function r(K){if(K.sA==1){return[.150684932,.205479452,.465753425,.178082192]}else if(K.sA==2){return[.126829268,.131707317,.156097561,.317073171,.141463415,.126829268]}else{var G=[],z=1/(F(K)-1);
for(var m=0;m<F(K)-1;++m){G.push(z)}return G}}function E(K,G,z){var M=[],hl=G-K,j=K;for(var m=0;m<z.length-1;
++m){M.push(j+z[m]*hl);j=M[m]}return M}function a(K,G,z,M){var hl=new Float32Array(z.length),j=0,w={shape:Math.floor(M.random()*2.99),aon:M.random()*.1+.15};
for(var m=0;m<z.length-1;++m){var B=j+z[m];hl[m]=((1-B)*K+B*G)*C(M,B,w);j=B}return hl}function S(K,G,z,M){var hl=Y(M),j=M.random(),w=j*20+(1-j)*26,B=new Float32Array(z.length),bB=0;
for(var m=0;m<z.length-1;++m){var bG=bB+z[m];B[m]=(1-bG)*K+bG*G+hl/w*(2/3*Math.sin(Math.PI*bG)+1/3*Math.sqrt(Math.sin(Math.PI*bG)));
bB=bG}return B}function e(K,G,z){var M=[];for(var m=0;m<G.length-1;++m){M.push(G[m].slice());var hl=m*(F(z)-1),j=(m+1)*(F(z)-1),w=K[j]-K[hl];
for(var B=hl+1;B<j;++B){var bB=f(z),bG=new Float32Array(G[0].length),eb=(K[B]-K[hl])/w;for(var fe=0;
fe<G[0].length/2;++fe){bG[2*fe]=(1-eb)*G[m][2*fe]+eb*G[m+1][2*fe];bG[2*fe+1]=(1-eb)*G[m][2*fe+1]+eb*G[m+1][2*fe+1];
if(z.style==2){bG[2*fe]+=q(2*fe/G[0].length,bB,z)}}M.push(bG)}}M.push(G[G.length-1]);return M}function P(K,G,z){var M=new Array(G.length),hl=d(K),w=null;
for(var m=0;m<G.length;++m){M[m]=V(hl,(G[m]-.5)*z.c1,z)}var j=1+.05*z.a1S*Y(z)/Y({sA:1});for(var m=0;
m<G.length;++m){if(G[m]==0){w=m}}for(var m=0;m<G.length;++m){var B=(z.random()-.5)*2,bB=Math.round(z.random()*9+1),bG=new Float32Array(bB*2+2);
for(var eb=0;eb<=bB;++eb){bG[2*eb]=M[m][0]-(M[m][2*eb]-M[m][0]);bG[2*eb+1]=M[m][1]-(M[m][2*eb+1]-M[m][1])}if(m==w){B*=.1}for(var eb=(M[m].length-1)/2;
eb>bB;--eb){M[m][2*eb]=(1-B)*M[m][2*eb]+B*(M[m][2*(eb-bB)]+j*(M[m][2*eb]-M[m][2*(eb-bB)]));M[m][2*eb+1]=(1-B)*M[m][2*eb+1]+B*(M[m][2*(eb-bB)+1]+j*(M[m][2*eb+1]-M[m][2*(eb-bB)+1]))}for(var eb=bB-1;
eb>=0;--eb){M[m][2*eb]=(1-B)*M[m][2*eb]+B*(bG[2*(bB-eb)]+j*(M[m][2*eb]-bG[2*(bB-eb)]));M[m][2*eb+1]=(1-B)*M[m][2*eb+1]+B*(bG[2*(bB-eb)+1]+j*(M[m][2*eb+1]-bG[2*(bB-eb)+1]))}}var fe=i(G,z);
if(z.Jj>0){var gB=0;for(var m=0;m<G.length;++m){if(m==0){gB+=G[m]}else{gB+=Math.abs(G[m]-G[m-1])}var hp=gB-Math.floor(gB),g6=1;
if(hp==0){g6=0}M[m]=y(M[m],{af4:fe[Math.floor(gB)],a95:fe[Math.floor(gB)+g6],alY:hp},z)}}return M}function b(K,G){var z=X(G,K),M=J(G,K),hl=[],j=[],w=[],B=r(K);
for(var m=0;m<G.length-1;++m){hl.push(G[m]);j.push(z[m]);w.push(M[m]);var bB=E(G[m],G[m+1],B),bG=a(z[m],z[m+1],B,K),eb=S(M[m],M[m+1],B,K);
for(var fe=0;fe<bB.length;++fe){hl.push(bB[fe]);j.push(bG[fe]);w.push(eb[fe])}}hl.push(G[G.length-1]);
j.push(z[z.length-1]);w.push(M[M.length-1]);return{ab0:hl,alF:j,NE:w}}function T(K,G,z,M){var hl=new Float32Array(2*M),j=K.length/2,w=j-G,B=z*w,bB=B/M;
for(var m=0;m<M;++m){var bG=Math.floor(G+m*bB),eb=Math.ceil(G+m*bB),z=G+m*bB,fe=eb-bG,gB=1,hp=0;if(fe!=0){gB=(eb-z)/fe;
hp=(z-bG)/fe}hl[2*m]=gB*K[2*bG]+hp*K[2*eb];hl[2*m+1]=gB*K[2*bG+1]+hp*K[2*eb+1]}return hl}function C(K,G,z){var M=z.aon,hl=G*2*Math.PI,j=hl,w=0;
if(z.shape==0){w=(Math.sin(2*j+Math.PI/2)+1)/2}else if(z.shape==1){w=(Math.sin(j+Math.PI/2)+1)/2}else{w=(4*Math.sin(3/4*j+Math.PI)+Math.sin(Math.PI/2+2*j)-2*j/Math.PI+6)/7}return Math.min(1,1-M+M*w)}function Z(K,G,z,M){var hl=[];
for(var m=0;m<K.length;++m){hl.push(T(K[m],G[m],z[m],M))}return hl}function W(K,G,z){var M=[];for(var m=0;
m<K.length;++m){var hl=x(2*Math.PI*z.random()),j=x(2*Math.PI*z.random()),w=z.dl*.5*N({sA:1})/N(z),B=w*z.c1/200,bB=w*G/500,bG=new Float32Array(K[0].length);
for(var eb=0;eb<K[0].length/2;++eb){var fe=x(2*Math.PI*z.random()),gB=2*eb/K[0].length;bG[2*eb]=K[m][2*eb]+B*(fe[0]+((1-gB)*hl[0]+gB*j[0]));
bG[2*eb+1]=K[m][2*eb+1]+bB*(fe[1]+((1-gB)*hl[1]+gB*j[1]))}M.push(bG)}return M}function s(K,G,z){var M=z.tr,hl=2/M,j=[1/10,1/30,1/40,1/45,1/100],w=j[z.sA-1],B=4*(z.opacity/25*hl*w)*(1-z.dl/150),fe=0,hp=0;
if(z.style==3){return B*.09}var bB=2.2*(K-.5),bG=bB*bB*bB*bB+.27+Math.max(0,(z.opacity-50)/15),eb=2*(Math.sin(3*Math.PI*G)/(Math.PI*G+2)+1.1)-G/2;
G=2*G;if(G<.41){var gB=2*Math.PI*G/.41;fe=(Math.sin(gB-Math.PI/2)+1)/4+.5}else if(G<.77){var gB=2*Math.PI*(G-.41)/.36;
fe=(Math.sin(gB-Math.PI/2)+1)/4+.5-gB/2/Math.PI*.5}else{var gB=2*Math.PI*(G-.77)/.23;fe=(Math.sin(gB-Math.PI/2)+1)/2*.12}fe*=3;
fe+=Math.max(0,(z.opacity-50)/15);if(z.type==6){hp=eb}else{hp=fe}return B*bG*hp}function f(K){return{t:K.random()*7/2+.5,ly:K.random()*2*Math.PI}}function q(K,G,z){return z.c1/300*F({sA:1})/F(z)*10*(Math.sin(G.t*2*Math.PI*K+G.ly)+10*(z.random()-.5))}function g(K){var G=Math.exp(-K.Jj/25);
return{t:K.random()*3/2+.5,ly:K.random()*2*Math.PI,bd:(K.random()-.5)*10*G}}function i(K,G){var z=Math.ceil(c(K)),M=[];
for(var m=0;m<=z;++m){M.push(g(G))}return M}function u(K,G){var z=G.t*4*Math.PI*K+G.ly;return Math.exp(-1/2*Math.PI*K)*Math.cos(z)*Math.cos(z)*Math.cos(z)*Math.cos(z)*Math.cos(z)+K*G.bd-G.bd/4}function I(K,G,z,M,hl){var j=0,w=N(G)-1;
for(var m=0;m<w;++m){for(var B=0;B<K.length-1;B+=F(G)-1){for(var bB=m;bB<K[0].length/2-w;bB+=w){for(var bG=B;
bG<B+(F(G)-1);++bG){z[hl+j]=s(bG*(G.tr-1)/(K.length-1)%1,bB/K[0].length,G);var eb=0,fe=0;if(G.type==6&&bG!=0&&bG!=K.length-1){fe=(K[bG][2*(bB+1)+1]-K[bG][2*bB+1])/2;
eb=(K[bG][2*(bB+1)]-K[bG][2*bB])/2}M[8*hl+8*j]=K[bG][2*bB]+eb;M[8*hl+8*j+1]=K[bG][2*bB+1]+fe;M[8*hl+8*j+2]=K[bG][2*(bB+w)]+eb;
M[8*hl+8*j+3]=K[bG][2*(bB+w)+1]+fe;M[8*hl+8*j+4]=K[bG+1][2*(bB+w)];M[8*hl+8*j+5]=K[bG+1][2*(bB+w)+1];
M[8*hl+8*j+6]=K[bG+1][2*bB];M[8*hl+8*j+7]=K[bG+1][2*bB+1];++j}}}}}function Y(K){var G=[100,300,500,700,1e3];
return G[K.sA-1]}function U(K){var G=[30,70,100,140,300];return G[K.sA-1]}function F(K){var G=[5,7,26,40,100];
return G[K.sA-1]}function N(K){if(K.sA==1){return 4}else if(K.sA==2){return 8}else{return Math.floor(U(K)/9)}}function o(K){var G=K.tr,z=new Float32Array(G),M=null;
for(var m=0;m<G;++m){z[m]=K.random()}if(K.tr<=3){z[0]=0;z[K.tr-1]=1}else{for(var m=0;m<2;++m){var hl=Math.floor(K.random()*G);
if(M==null||M!=hl){z[hl]=m;M=hl}else{z[hl+1]=m}}}return z}function X(K,G){var z=[],M=.2,j=0;for(var m=0;
m<K.length;++m){var hl=G.random()*(1-M)+M;z.push(hl)}var w=Math.min(3,G.tr);for(var m=0;m<K.length;++m){if(z[m]>.9){++j}}while(j<w){var B=Math.floor(G.random()*K.length);
if(z[B]<=.9){z[B]=.9+.1*G.random();++j}}return z}function J(K,G){var z=Y(G),M=Y({sA:1}),hl=[];for(var m=0;
m<K.length;++m){hl.push(Math.max(1,(G.random()*10+2)*z/M))}return hl}function c(K){var G=0;for(var m=0;
m<K.length;++m){if(m==0){G+=K[m]}else{G+=Math.abs(K[m]-K[m-1])}}return G}function p(K,G){if(K.length/2-1==Y(G)){return K}var z=new Float32Array(2*(Y(G)+1)),M=(K.length-2)/(z.length-2);
for(var m=0;m<z.length/2;++m){var hl=m*M,j=Math.floor(hl),w=Math.ceil(hl),B=w-j,bB=1,bG=0;if(B!=0){bB=(w-hl)/B;
bG=(hl-j)/B}z[2*m]=bB*K[2*j]+bG*K[2*w];z[2*m+1]=bB*K[2*j+1]+bG*K[2*w+1]}return z}function d(K,G){var z=K.length/2,M=h(K),hl=M/z,j=!1,bB=0,bG=0,eb=1;
if(G){var w=Math.floor(M/G.a0L),B=G.a0L;if(G.acN&&K[0]==K[K.length-2]&&K[1]==K[K.length-1]){j=!0;B=M/(w+1)}if(G.type==2&&!j&&B*w+G.length>M){z=w+1}else{z=w+2}hl=B}var fe=new Float32Array(z*2);
fe[0]=K[0];fe[1]=K[1];for(var m=1;m<z;++m){while(bB<=m*hl){bG=bB;bB+=O([K[2*eb],K[2*eb+1]],[K[2*(eb-1)],K[2*(eb-1)+1]]);
++eb}var gB=1-(m*hl-bG)/(bB-bG);fe[2*m]=(1-gB)*K[2*eb]+gB*K[2*(eb-1)];fe[2*m+1]=(1-gB)*K[2*eb+1]+gB*K[2*(eb-1)+1]}fe[fe.length-2]=K[K.length-2];
fe[fe.length-1]=K[K.length-1];return fe}function k(K,G){var z=d(K,G),M=[];for(var m=0;m<(z.length-2)/2;
++m){var hl=[];hl.push(z[2*m]);hl.push(z[2*m+1]);var j=O([z[2*(m+1)],z[2*(m+1)+1]],[z[2*m],z[2*m+1]]),w=[(z[2*(m+1)]-z[2*m])/j,(z[2*(m+1)+1]-z[2*m+1])/j],B=x((G.al6-90)/360*2*Math.PI),bB=w;
if(G.type==3){bB=B}else if(G.type==4){bB=x(t(w)+t(B))}else if(G.type==5){bB=x(((G.random()-.5)*G.al6-90)/360*2*Math.PI)}var bG=G.length;
if(G.acv){bG=2*G.random()*G.length}hl.push(z[2*m]+bB[0]*bG);hl.push(z[2*m+1]+bB[1]*bG);M.push(hl)}return M}function A(K){if(K.aj0){K.D5=100*Math.random()}else{K.D5=K.ah8}K.random=new n;
K.random(K.D5);if(K.type==6){K.tr=2;K.shape=5;K.a1S=0}}function $(K,G){K=p(K,G);var z=[K],bG=0;if(G.type>=2&&G.type<6){z=k(K,G)}var M=N(G)-1,hl=U(G)-M,j=(G.tr-1)*(F(G)-1),w=z.length*hl*j,B=new Float32Array(w),bB=new Float32Array(8*w);
for(var m=0;m<z.length;++m){for(var eb=0;eb<1e4;++eb){G.D5=_(G.D5)}G.random(G.D5);var K=p(z[m],G),fe=o(G),gB=c(fe),hp=P(K,fe,G),g6=b(G,fe),by=e(g6.ab0,hp,G);
by=Z(by,g6.NE,g6.alF,U(G));if(G.dl>0){by=W(by,h(z[m]),G)}I(by,G,B,bB,bG);bG+=hl*j}return[B,bB]}var ix=function(K){var G=performance.now(),z=K[0],M=K[1];
A(M);var hl=[new Float32Array(0),new Float32Array(0)];for(var m=0;m<z.length;++m){M.D5=_(M.D5);var j=$(z[m],M),w=new Float32Array(hl[0].length+j[0].length),B=new Float32Array(hl[1].length+j[1].length);
w.set(hl[0]);w.set(j[0],hl[0].length);hl[0]=w;B.set(hl[1]);B.set(j[1],hl[1].length);hl[1]=B}var bB=performance.now();
if(M.ahl){console.EH("Geometry: "+String(bB-G)+"ms")}return hl};return ix}(),dA=function(){function _(x,t){var h=[],V=0,y=t.length,r=0,E=0,a=new a8,S=0,e=1e9;
for(E=0;E<y;E++){var P=E*8,b=t[E];if(b<e)e=b;var T=x[P+0],C=x[P+1],Z=x[P+2],W=x[P+3],s=x[P+4],f=x[P+5],q=x[P+6],g=x[P+7],i=Math.min(T,Z,s,q),u=Math.max(T,Z,s,q),I=Math.min(C,W,f,g),Y=Math.max(C,W,f,g),U=new a8(i,I,u-i,Y-I),F=U.uG(a),N=S+b;
if(E-r<10&&(E==r||F.O()*.8<U.O()+a.O())){a=F;S=N}else{h.push(E-r);r=E;a=U;S=b;e=b}}if(E!=r)h.push(E-r);
return h}function n(x,t,h,V,y,r){var E=document.createElement("canvas"),C=0,w=.8;E.width=t;E.height=h;
var a=E.getContext("2d"),S=y[0],e=y[1],P=new Float64Array(t*h),b=Date.now(),T=_(e,S);for(var Z=0;Z<T.length;
Z++){var W=C,s=C+T[Z],g=1e9,u=1e9,X=0;C=s;var f=W*8,q=s*8,i=-g,I=-u;for(var Y=f;Y<q;Y+=2){var U=e[Y],F=e[Y+1];
if(U<g)g=U;if(U>i)i=U;if(F<u)u=F;if(F>I)I=F}g=Math.floor(g);i=Math.ceil(i);u=Math.floor(u);I=Math.ceil(I);
var N=i-g,o=I-u;for(var J=W;J<s;J++)X+=S[J];for(var Y=f;Y<q;Y+=8){var c=S[Y>>>3],p=e[Y+0],d=e[Y+1],k=e[Y+2],A=e[Y+3],$=e[Y+4],K=e[Y+5],G=e[Y+6],z=e[Y+7];
a.fillStyle="rgba(0,0,0,"+c/X+")";a.beginPath();a.moveTo(p,d);a.lineTo(k,A);a.lineTo($,K);a.lineTo(G,z);
a.closePath();a.fill()}var M=a.getImageData(g,u,N,o).data;for(var F=0;F<o;F++)for(var U=0;U<N;U++){var m=F*N+U,hl=M[m*4+3],j=(u+F)*t+g+U;
if(hl!=0)P[j]+=hl*X}a.clearRect(g,u,N,o)}var B=r[1].color,bB=Math.pow(B.o/255,w),bG=Math.pow(B.J/255,w),eb=Math.pow(B.k/255,w),fe=new a8(0,0,t,h),gB=Q.Q(t*h*4);
for(var F=0;F<h;F++)for(var U=0;U<t;U++){var m=F*t+U,J=m*4,S=P[m]*(1/255);gB[J]=l(bB,S);gB[J+1]=l(bG,S);
gB[J+2]=l(eb,S);gB[J+3]=Math.min(255,S*255)}Q.q.Zn("norm",gB,fe,V,fe,fe,1)}var O=new Uint8Array(2e3);
for(var m=0;m<2e3;m++)O[m]=255*Math.min(1,Math.log(m/700+1));function l(x,t){return O[Math.min(1500,~~(x*t*1e3))]}return n}(),gg=function(){var _=new Float32Array(3e3),n=new Float32Array(3e3),O=new Float32Array(256),l=new Float32Array(3e3);
function x(){var e=_.length;_[0]=Math.log10(157647e-9);for(var m=1;m<e;++m)_[m]=Math.log10(m/e)}function t(){var e=n.length;
for(var m=0;m<e;++m)n[m]=Math.pow(10,20*(m-e/2)/e)}function h(){var e=O.length;for(var m=0;m<e;++m)O[m]=Q.CV(m/255)}function V(){var e=l.length;
for(var m=0;m<e;++m)l[m]=255*Q.nM(m/(e-1))}function y(e,P){var b=e.length>>>2;for(var m=0;m<b;++m){var T=O[e[4*m]],C=O[e[4*m+1]],Z=O[e[4*m+2]],W=.3811*T+.5783*C+.0402*Z,s=.1967*T+.7244*C+.0782*Z,f=.0241*T+.1288*C+.8444*Z;
W=_[~~(W*_.length)];s=_[~~(s*_.length)];f=_[~~(f*_.length)];P[3*m]=(W+s+f)*.5773502692;P[3*m+1]=(W+s-2*f)*.4082482905;
P[3*m+2]=(W-s)*.7071067812}}function r(e,P){var b=P.length>>>2,T=l.length-1;for(var m=0;m<b;++m){var C=.5773502692*e[3*m],Z=.4082482905*e[3*m+1],W=.7071067812*e[3*m+2],s=n[~~((C+Z+W+10)*(3e3/20))],f=n[~~((C+Z-W+10)*(3e3/20))],q=n[~~((C-2*Z+10)*(3e3/20))],g=4.4679*s-3.5873*f+.1193*q,i=-1.2186*s+2.3809*f-.1624*q,u=.0497*s-.2439*f+1.2045*q;
P[4*m]=l[~~(T*Math.max(0,Math.min(1,g)))];P[4*m+1]=l[~~(T*Math.max(0,Math.min(1,i)))];P[4*m+2]=l[~~(T*Math.max(0,Math.min(1,u)))]}}function E(e){var P=0,b=0,T=0;
for(var m=0;m<e.length;m+=3){P+=e[m];b+=e[m+1];T+=e[m+2]}return[P/(e.length/3),b/(e.length/3),T/(e.length/3)]}function a(e,E){var P=0,b=0,T=0;
for(var m=0;m<e.length;m+=3){var C=e[m]-E[0],Z=e[m+1]-E[1],W=e[m+2]-E[2];P+=C*C;b+=Z*Z;T+=W*W}return[Math.sqrt(P/(e.length/3)),Math.sqrt(b/(e.length/3)),Math.sqrt(T/(e.length/3))]}function S(e,P,b,T,C,Z){x();
t();h();V();var W=0,d,k;if(Z[0]>100)W=-(Z[0]-100)/100*.13;else if(Z[0]>=75)W=(100-Z[0])/25*.04;else if(Z[0]>=50)W=.04+(75-Z[0])/25*.04;
else if(Z[0]>=25)W=.08+(50-Z[0])/25*.08;else W=.16+(25-Z[0])/25*.24;var s=(Z[1]-100+100)/100,f=Z[2]/100,q=Z[3],g=new Float32Array(e.length*3/4),i=new Float32Array(T.length*3/4),u=Date.now();
y(e,g);y(T,i);var I=Date.now(),Y=E(g),U=E(i),F=Date.now(),N=a(g,Y),o=a(i,U),X=Date.now();U[0]*=Math.pow(10,W);
var J=[o[0]/N[0],o[1]/N[1],o[2]/N[2]],c=g.length,p=1/-1.1546978950500488;for(var m=0;m<c;m+=3){if(q){var A=Math.max(0,Math.min(1,g[m]*p));
A=1-Math.sqrt(A);d=A*U[1];k=A*U[2]}else{d=U[1];k=U[2]}g[m]=(g[m]-Y[0])*J[0]+U[0];g[m+1]=(g[m+1]-Y[1])*J[1]*s+d;
g[m+2]=(g[m+2]-Y[2])*J[2]*s+k}var $=Date.now();r(g,C);var K=C.length>>>2;for(var m=0;m<K;++m){C[4*m]=(1-f)*C[4*m]+f*e[4*m];
C[4*m+1]=(1-f)*C[4*m+1]+f*e[4*m+1];C[4*m+2]=(1-f)*C[4*m+2]+f*e[4*m+2];C[4*m+3]=255}}return S}(),fZ=function(){function _(n,O,l,x,t){var h=[-1,-1,-1,-1],V=255,y=160,r,E=!1,a=new Array(4);
a[0]=new Array(O);a[1]=new Array(l);a[2]=new Array(O);a[3]=new Array(l);var S=new Array(2);S[0]=new Array(l);
S[1]=new Array(l);function e(o,X,J,c,p){this.start=c;this.axis=p;this.dir=o;this.end=-1;this.source=X;
this.O=J}function P(o,X,J,c,p){if(J%2==0){if(!a[J][o])a[J][o]=new Array;a[J][o].push(new e(J,c,p,X,o))}else{if(!a[J][X])a[J][X]=new Array;
a[J][X].push(new e(J,c,p,o,X))}var d=Date.now()}function b(m){var o=!1,X=0;if(n[4*m+3]<V)return o;var J=m%O,c=Math.floor(m/O);
T(J,c);if(m+O<O*l&&n[4*(m+O)+3]<V&&n[4*(m-O)+3]>=V&&n[4*(m-2*O)+3]>=V){var p=2;if(n[4*(m+O)+3]<=y)X=-1;
if(n[4*(m+2*O-1)+3]<V&&n[4*(m+2*O+1)+3]<V)o=!0;else if(n[4*(m+2*O-1)+3]>=V&&n[4*(m+1)+3]>=V)o=!0;else if(n[4*(m+2*O+1)+3]>=V&&n[4*(m-1)+3]>=V)o=!0;
P(J,c,p,X,o)}else if(m-O>=0&&n[4*(m-O)+3]<V&&n[4*(m+O)+3]>=V&&n[4*(m+2*O)+3]>=V){var p=0;if(n[4*(m-O)+3]<=y)X=-1;
if(n[4*(m-2*O-1)+3]<V&&n[4*(m-2*O+1)+3]<V)o=!0;else if(n[4*(m-2*O-1)+3]>=V&&n[4*(m+1)+3]>=V)o=!0;else if(n[4*(m-2*O+1)+3]>=V&&n[4*(m-1)+3]>=V)o=!0;
P(J,c,p,X,o)}X=0;if(m+1<O*l&&n[4*(m+1)+3]<V&&n[4*(m-1)+3]>=V&&n[4*(m-2)+3]>=V){var p=3;if(n[4*(m+1)+3]<=y)X=-1;
if(!o&&n[4*(m+O+2)+3]<V&&n[4*(m-O+2)+3]<V){o=!0;P(J,c,p,X,!0)}else P(J,c,p,X,!1)}else if(m>=1&&n[4*(m-1)+3]<V&&n[4*(m+1)+3]>=V&&n[4*(m+2)+3]>=V){var p=1;
if(n[4*(m-1)+3]<=y)X=-1;if(!o&&n[4*(m+O-2)+3]<V&&n[4*(m-O-2)+3]<V){o=!0;P(J,c,p,X,!0)}else P(J,c,p,X,!1)}return o}function T(m,o){if(h[0]==-1){h[0]=m;
h[1]=o;h[2]=1;h[3]=1}if(m<h[0]){h[2]+=h[0]-m;h[0]=m}if(m>h[0]+h[2])h[2]=m-h[0];if(o<h[1]){h[3]+=h[1]-o;
h[1]=o}if(o>h[1]+h[3])h[3]=o-h[1]}function C(o,m,X,J){if(!X.O)return;var c=(o+2)%4,p=X.start,d=h[1];
if(o==2)d+=h[3];else if(o==1)d=h[0];else if(o==3)d=h[0]+h[2];var k=X.source;if(a[c][m])for(var A=0;A<a[c][m].length;
++A){if(o>1){var $=p+Math.floor((a[c][m][A].start-p)/2);if(a[c][m][A].start>p&&$<d)d=$}else{var $=p-Math.floor((p-a[c][m][A].start)/2);
if(a[c][m][A].start<p&&$>d)d=$}}for(var K=1;K<Math.abs(d-p);++K){var A=p+K;if(o==1||o==0)A=p-K;for(var G=0;
G<2;++G){var z=2*G,M=!1;if(o%2==0)z+=1;if(a[z][A]){for(var hl=0;hl<a[z][A].length;++hl){if(a[z][A][hl].O){var j=a[z][A][hl].start,w=m-j,B=A-p;
if(z==0||z==1)w=-w;if(w<=0)continue;if(o==0||o==1)B=-B;if(B>w){d=A;M=!0;break}}}if(M)break}}}X.end=d;
s(o,m,p,d,k)}function Z(o){for(var m=0;m<a[o].length;++m){if(a[o][m])for(var X=0;X<a[o][m].length;++X){C(o,m,a[o][m][X])}}}function W(){var o=[2,0,3,1];
for(var m=0;m<o.length;++m)Z(o[m])}function s(o,m,X,J,c){if(o==2)for(var p=X;p<=J;++p){if(!f(p*O+m,(X+c)*O+m))return!1}else if(o==0)for(var p=X;
p>=J;--p){if(!f(p*O+m,(X-c)*O+m))return!1}else if(o==1)for(var p=X;p>=J;--p){if(!f(m*O+p,m*O+X-c))return!1}else if(o==3)for(var p=X;
p<=J;++p){if(!f(m*O+p,m*O+X+c))return!1}}function f(o,X){if(!r[o]){x[4*o]=x[4*X];x[4*o+1]=x[4*X+1];x[4*o+2]=x[4*X+2];
if(E)x[4*o+3]=255;r[o]=!0;return!0}return!1}function q(){for(var m=0;m<4;m+=1){for(var o=0;o<a[m].length;
++o){if(a[m][o])for(var X=0;X<a[m][o].length;++X){var J=a[m][o][X];for(var c=1;c<3;c+=2){var p=(m+c)%4;
if(a[p][J.start])for(var d=0;d<a[p][J.start].length;++d){if(a[p][J.start][d].start==J.axis){var ab=O*J.start+J.axis;
if(m%2==1){ab=J.start+O*J.axis;g(a[p][J.start][d])}else g(J)}}}}}}}function g(o){if(o.dir%2==0){var ab=O*o.start+o.axis,X=o.start,J=1;
if(!r[ab+1])J=3;else if(r[ab-1])return;var c=x[4*ab],p=x[4*ab+1],d=x[4*ab+2];while(x[4*ab]==c&&x[4*ab+1]==p&&x[4*ab+2]==d){if(J==1){if(!S[0][X])S[0][X]=new Array;
S[0][X].push(new e(J,0,!1,o.axis,X))}else{if(!S[1][X])S[1][X]=new Array;S[1][X].push(new e(J,0,!1,o.axis,X))}if(o.dir==2){ab+=O;
X++}else{ab-=O;X--}}}}function i(){for(var o=0;o<2;++o){var X=(o+1)%2;for(var m=0;m<S[o].length;++m){if(S[o][m])for(var J=0;
J<S[o][m].length;++J){var c=h[0];if(o==1)c+=h[2];var p=S[o][m][J].start;if(S[X][m])for(var d=0;d<S[X][m].length;
++d){var k=S[X][m][d].yj;if(o==0){if(k>c&&k<p){c=p-Math.floor((p-k)/2)}}else{if(k<c&&k>p){c=p+Math.ceil((k-p)/2)}}}if(o==0)s(S[o][m][J].dir,m,p-1,c,-1);
else s(S[o][m][J].dir,m,p+1,c,-1)}}}for(var m=0;m<r.length;++m){if(!r[m]&&m%O>=h[0]&&m%O<=h[0]+h[2]&&Math.floor(m/O)>=h[1]&&Math.floor(m/O)<=h[1]+h[3]){var p=O;
if(m<p||!r[m-p])p=1;x[4*m]=x[4*(m-p)];x[4*m+1]=x[4*(m-p)+1];x[4*m+2]=x[4*(m-p)+2];r[m]=!0;if(E)x[4*m+3]=255}}}function u(){r=new Array(n.length/4);
for(var m=0;m<x.length/4;++m){r[m]=!1;x[4*m]=n[4*m];x[4*m+1]=n[4*m+1];x[4*m+2]=n[4*m+2];x[4*m+3]=n[4*m+3];
if(x[4*m+3]==255)r[m]=!0;if(b(m))r[m]=!1}if(h[0]>0){h[0]--;h[2]++}if(h[1]>0){h[1]--;h[3]++}if(h[0]+h[2]<O){h[2]++}if(h[1]+h[3]<l){h[3]++}}var I=Date.now();
u();var Y=Date.now();W();var U=Date.now();q();var F=Date.now();i();var N=Date.now();console.log("Init: "+String(Y-I));
console.log("Filling: "+String(U-Y));console.log("Check areas: "+String(F-U));console.log("Fill areas: "+String(N-F))}return _}();
function eT(){}eT.amI=function(_){var n=[Q.CV(_[0]),Q.CV(_[1]),Q.CV(_[2]),0];return Q.fN.Jl(Q.fN.bs,n)};
eT.azf=function(_){var n=Q.fN.Jl(Q.fN._B,_);return[Q.nM(n[0]),Q.nM(n[1]),Q.nM(n[2])]};eT.pI=function(_,n){var O={},l=5003,x=1667,t=25e3,h=57.4,V=16.1,y=1.8,r=0,E=1.54,a=.75,P=0;
if(n>0){_-=n/100*4}if(_<0){V=22.54;h=80.36;E=.756}if(n>0){y=1.3;a=.2}var S=Math.min(l+h*_,t),e=Math.max(l-V*_,x);
if(_<0){S=Math.max(l+V*_,x);e=Math.min(l-h*_,t)}if(_>0){if(_<=14){P=(_-1)/13*.075+.025}else if(_<=29){P=.1}else if(_<=60){P=.1-.1*(_-29)/(60-29)}else{var b=_-60;
r=-20*(b/40);P=-.3*(b/40)}}else{if(_<-60){var b=_+60;r=-20*(b/40)}}var T=Math.abs(_)/100*E+Math.abs(n)/100*a+P,C=-(n*y+r),Z=bI.Rp(S,-C),W=bI.NR(Z),s=bI.Rp(e,0),f=bI.NR(s),q=bI.T_(W,f);
O.akA=T;O.aco=q;if(_==0&&n==0)O.acw=!0;else O.acw=!1;return O};eT.avP=function(_,n,O,l){if(l.acw){return[_,n,O]}var x=this.amI([_,n,O]),t=x[0],h=x[1],V=x[2],y=h+1e-12,r=[t/y,h/y,V/y,0],E=Q.fN.Jl(l.aco,r),a=0,S=.4;
E[0]*=y;E[1]*=y;E[2]*=y;if(y>S)a=1/(1-S)*(y-S);x[0]=(1-a)*E[0]+a*t;x[1]=(1-a)*E[1]+a*h;x[2]=(1-a)*E[2]+a*V;
return this.azf(x)};Q.fo={K2:function(_,n){var m=_.length;_.push(n);var O=m>>>1;while(O!=0&&_[m][0]<_[O][0]){var l=_[m];
_[m]=_[O];_[O]=l;m=O;O=m>>>1}},qf:function(_){if(_.length==2)return _.pop();var top=_[1],m=1;_[1]=_.pop();
var n=_.length;while(!0){var O=m<<1,l=O+1,x=m;if(O<n&&_[O][0]<_[x][0])x=O;if(l<n&&_[l][0]<_[x][0])x=l;
if(x==m)break;var t=_[m];_[m]=_[x];_[x]=t;m=x}return top},aoB:function(_){for(var m=1;m<_.length;m++){var n=m,O=1e9;
while(n!=0){var l=_[n][0];if(l>O){console.log(m);throw"e"}O=l;n=n>>>1}}}};Q.q={};Q.q.CB=new Float64Array(256);
Q.q.kG=new Uint8Array(256*256);Q.q.A1=new Uint8Array(256*256);(function(){for(var m=0;m<256;m++)Q.q.CB[m]=255/m;
for(var m=0;m<256;m++)for(var _=0;_<256;_++)Q.q.kG[m*256+_]=m==0?0:Math.round(_*255/m);for(var m=0;m<256;
m++)for(var _=0;_<256;_++)Q.q.A1[m*256+_]=Math.round(m*(255-_)/255)}());Q.q.Zn=function(_,n,O,l,x,t,h,V){if(V==null)V=fW.nr();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(_)==-1){h=h*V.fill;V.fill=1;V.style=!1}var y="norm,dark,mul ,idiv,lbrn,lite,scrn,div ,lddg,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv".split(","),r="dkCl,lgCl,hue ,sat ,colr,lum ".split(","),E=Q.q[_+"F"];
if(V.y3==null&&_=="norm")Q.q.adl(n,O,l,x,t,h,E,V.FE?1:0);else if(_=="diss")Q.q.a8r(n,O,l,x,t,h,E,V.FE?1:0);
else if(y.indexOf(_)!=-1)Q.q.aoi(n,O,l,x,t,h,E,V);else if(r.indexOf(_)!=-1)Q.q.as$(n,O,l,x,t,h,E,V)};
Q.q.agJ=function(_,n,O){var l=_*O+1-O;return l<.001?0:1-Math.min(1,(1-n)/l)};Q.q.a4Q=function(_,n,O){return _*O==1?1:Math.min(1,n/(1-_*O))};
Q.q.ap=function(_){return _<=.25?((16*_-12)*_+4)*_:Math.sqrt(_)};Q.q.normF=function(_,n,O){return _};
Q.q.darkF=function(_,n,O){return Math.min(_,n)};Q.q["mul F"]=function(_,n,O){return _*n};Q.q.idivF=function(_,n,O){var l=_*O+1-O;
return n==1?1:1-n>=l?0:1-(1-n)/l};Q.q.lbrnF=function(_,n,O){return Math.max(0,_*O+n-O)};Q.q.dkClF=function(_,n,O){var l=Q.JB(_)<Q.JB(n)?_:n;
O.o=l.o;O.J=l.J;O.k=l.k;return O};Q.q.liteF=function(_,n,O){return Math.max(_,n)};Q.q.scrnF=function(_,n,O){return n+_-n*_};
Q.q["div F"]=function(_,n,O){_*=O;return n==0?0:n>=1-_?1:n/(1-_)};Q.q.lddgF=function(_,n,O){_*=O;return Math.min(1,_+n)};
Q.q.lgClF=function(_,n,O){var l=Q.JB(_)>Q.JB(n)?_:n;O.o=l.o;O.J=l.J;O.k=l.k;return O};Q.q.overF=function(_,n,O){return Q.q.hLitF(n,_,O)};
Q.q.sLitF=function(_,n,O){return _<=.5?n-(1-2*_)*n*(1-n):n+(2*_-1)*(Q.q.ap(n)-n)};Q.q.hLitF=function(_,n,O){return _<=.5?Q.q["mul F"](2*_,n,O):Q.q.scrnF(2*_-1,n,O)};
Q.q.vLitF=function(_,n,O){return _<=.5?Q.q.agJ(2*_,n,O):Q.q.a4Q(2*_-1,n,O)};Q.q.lLitF=function(_,n,O){return _<=.5?Q.q.lbrnF(2*_,n,O):Q.q.lddgF(2*_-1,n,O)};
Q.q.pLitF=function(_,n,O){return _<=.5?Q.q.darkF(2*_,n,O):Q.q.liteF(2*_-1,n,O)};Q.q.hMixF=function(_,n,O){if(O>.99)return _+n<1?0:1;
return Math.min(1,Math.max(0,(n+_*O-O)/(1-O+1e-6)))};Q.q.diffF=function(_,n,O){_*=O;return Math.abs(_-n)};
Q.q.smudF=function(_,n,O){return _+n-2*_*n};Q.q.fsubF=function(_,n,O){return Math.max(n-_,0)};Q.q.fdivF=function(_,n,O){return Math.min(n/_,1)};
Q.q["hue F"]=function(_,n,O){Q.q.uT(_,Q.Ei(n),O);Q.q.VF(O,Q.JB(n),O)};Q.q["sat F"]=function(_,n,O){Q.q.uT(n,Q.Ei(_),O);
Q.q.VF(O,Q.JB(n),O)};Q.q.colrF=function(_,n,O){Q.q.VF(_,Q.JB(n),O)};Q.q["lum F"]=function(_,n,O){Q.q.VF(n,Q.JB(_),O)};
Q.q.VF=function(_,n,O){var l=n-Q.JB(_);O.o=_.o+l;O.J=_.J+l;O.k=_.k+l;Q.q.ayH(O)};Q.q.ayH=function(_){var n=_.o,O=_.J,l=_.k,x=Q.ls(n,O,l),ab=Math.min(n,O,l),t=Math.max(n,O,l);
if(ab<0){var h=x/(x-ab);n=x+(n-x)*h;O=x+(O-x)*h;l=x+(l-x)*h}if(t>1){var h=(1-x)/(t-x);n=x+(n-x)*h;O=x+(O-x)*h;
l=x+(l-x)*h}_.o=n;_.J=O;_.k=l};Q.q.uT=function(_,n,O){var l=Q.q.avC,x=_.o,t=_.J,h=_.k;if(x==t&&t==h){O.o=O.J=O.k=0}else if(x>t){if(x>h){if(t>h){O.o=n;
O.J=l(x,t,h,n);O.k=0}else{O.o=n;O.k=l(x,h,t,n);O.J=0}}else{O.k=n;O.o=l(h,x,t,n);O.J=0}}else{if(x<h){if(t>h){O.J=n;
O.k=l(t,h,x,n);O.o=0}else{O.k=n;O.J=l(h,t,x,n);O.o=0}}else{O.J=n;O.o=l(t,x,h,n);O.k=0}}};Q.q.avC=function(_,n,O,l){return(n-O)*l/(_-O)};
Q.q.adl=function(_,n,O,l,x,t,h,V){var y=n.v6(l).v6(x),r=Math.max(0,y.x-n.x),E=Math.max(0,y.x-l.x),a=Math.max(0,y.y-n.y),S=Math.max(0,y.y-l.y),e=y.a,P=y.n,b=n.a,T=l.a,C=Q.q.kG,Z=Q.q.A1,W=new Uint32Array(_.buffer),s=new Uint32Array(O.buffer);
for(var m=0;m<P;m++){var f=(a+m)*b+r,q=(S+m)*T+E;for(var g=0;g<e;g++){var i=W[f+g],J=1;if(i>>>24==0)continue;
if(i>>>24==255&&t==1&&V==0){s[q+g]=W[f+g];continue}var u=s[q+g],I=i&255,Y=i>>>8&255,U=i>>>16&255,F=u&255,N=u>>>8&255,o=u>>>16&255,X=t,c=(u>>>24)*(1/255);
if(V==0){X=(i>>>24)*t*(1/255);J=c}var p=J*(1-X),d=X+p,k=1/d;s[q+g]=~~(.5+(V*c+(1-V)*d)*255)<<24|~~(.5+(U*X+o*p)*k)<<16|~~(.5+(Y*X+N*p)*k)<<8|~~(.5+(I*X+F*p)*k)}}};
Q.q.agr=function(_,n,O,l,x,t){var h=n.v6(l).v6(x),V=Math.max(0,h.x-n.x),y=Math.max(0,h.x-l.x),r=Math.max(0,h.y-n.y),E=Math.max(0,h.y-l.y),a=h.a,S=h.n,e=n.a,P=l.a,b=Q.q.kG,T=Q.q.A1,C=new Uint32Array(_.buffer),Z=new Uint32Array(O.buffer),W=Math.floor(Math.random()*16777215),s=0;
for(var m=0;m<S;m++){var f=(r+m)*e+V,q=(E+m)*P+y;for(var g=0;g<a;g++){var i=C[f+g];if(i>>>24==0)continue;
if(i>>24==255&&t==1){Z[q+g]=i;continue}var u=Z[q+g],I=(i>>>24)*t*(1/255),Y=(u>>>24)*(1/255),U=Y*(1-I),F=I+U,N=i&255,o=i>>>8&255,X=i>>>16&255,J=u&255,c=u>>>8&255,p=u>>>16&255;
s>>>=8;if((g&3)==0)s=Q.q._e(q+g+W);var d=F==0?0:1/F,k=Math.floor(F*(256*255))+(s&255)>>>8,A=Math.floor((X*I+p*U)*d+.5),$=Math.floor((o*I+c*U)*d+.5),K=Math.floor((N*I+J*U)*d+.5);
Z[q+g]=k<<24|A<<16|$<<8|K}}};Q.q.GX=function(_,n,O,l,x,t,h,V){var y=Q.ls(_,n,O),r=Q.ls(l,x,t),E=Math.min,a=Q.q.a4l,S=a(y,V,0);
S=E(S,a(_,V,8));S=E(S,a(n,V,16));S=E(S,a(O,V,24));var e=a(r,V,4);e=E(e,a(l,V,12));e=E(e,a(x,V,20));e=E(e,a(t,V,28));
e=Math.max(e,1-h);var P=Math.min(S,e);return P<0?0:P>1?1:P};Q.q.a4l=function(_,n,m){return Math.min((_-n[m])*n[m+1],(_-n[m+3])*n[m+2])};
Q.q.aoi=function(_,n,O,l,x,t,h,V){var y=1/255,r=y*t,E=V.FE?1:0,a=V.fill,S=V.style,e=n.v6(l).v6(x),P=Math.max(0,e.x-n.x),b=Math.max(0,e.x-l.x),T=Math.max(0,e.y-n.y),C=Math.max(0,e.y-l.y),Z=e.a,W=e.n,s=n.a,f=l.a,q=new Uint32Array(_.buffer),g=new Uint32Array(O.buffer);
for(var m=0;m<W;m++){var i=(T+m)*s+P,u=(C+m)*f+b;for(var I=0;I<Z;I++,i++,u++){var Y=q[i],d=1;if(Y>>>24==0)continue;
var U=g[u],F=(Y&255)*y,N=(Y>>>8&255)*y,o=(Y>>>16&255)*y,X=(U&255)*y,J=(U>>>8&255)*y,c=(U>>>16&255)*y,p=t;
if(E==0){p=(Y>>>24)*r;d=(U>>>24)*y}if(V.y3)p*=Q.q.GX(F,N,o,X,J,c,d,V.y3);var k=d*(1-p),A=p+k,$=A==0?0:255/A,K=S?1:p,G=((1-d)*p*F+(1-K)*d*X+K*d*h(F,X,(1+p-K)*a))*$,z=((1-d)*p*N+(1-K)*d*J+K*d*h(N,J,(1+p-K)*a))*$,M=((1-d)*p*o+(1-K)*d*c+K*d*h(o,c,(1+p-K)*a))*$;
A=p*a+d*(1-p*a);var hl=~~(A*255+.5);g[u]=E*(U>>>24)+(1-E)*hl<<24|M<<16|z<<8|G}}};Q.q.as$=function(_,n,O,l,x,t,h,V){var y=1/255,r=y*t,E=V.FE?1:0,a=n.v6(l).v6(x),S=Math.max(0,a.x-n.x),e=Math.max(0,a.x-l.x),P=Math.max(0,a.y-n.y),b=Math.max(0,a.y-l.y),T=a.a,C=a.n,Z=new Uint32Array(_.buffer),W=new Uint32Array(O.buffer),s={o:0,J:0,k:0},f={o:0,J:0,k:0},q={o:0,J:0,k:0};
for(var m=0;m<C;m++){var g=(P+m)*n.a+S,i=(b+m)*l.a+e;for(var u=0;u<T;u++,g++,i++){var I=Z[g],Y=W[i],U=(I&255)*y,F=(I>>>8&255)*y,N=(I>>>16&255)*y,o=(Y&255)*y,X=(Y>>>8&255)*y,J=(Y>>>16&255)*y,c=t,p=1;
if(E==0){c=(I>>>24)*r;p=(Y>>>24)*y}if(V.y3)c*=Q.q.GX(U,F,N,o,X,J,p,V.y3);var d=p*(1-c),k=c+d,A=255/k;
s.o=U;s.J=F;s.k=N;f.o=o;f.J=X;f.k=J;h(s,f,q);var $=(((1-p)*U+p*q.o)*c+o*d)*A,K=(((1-p)*F+p*q.J)*c+X*d)*A,G=(((1-p)*N+p*q.k)*c+J*d)*A,z=E*(Y>>>24)+(1-E)*Math.round(k*255);
W[i]=z<<24|G<<16|K<<8|$}}};Q.q.c9=function(_){_=_^61^_>>>16;_=_+(_<<3);_=_^_>>>4;_=_*668265261;_=_^_>>15;
return(_&16777215)*(1/16777215)};Q.q._e=function(_){_=_^61^_>>>16;_=_+(_<<3);_=_^_>>>4;_=_*668265261;
_=_^_>>>15;return _};Q.q.SB=function(_){this.iU=_};Q.q.SB.prototype.get=function(){var _=this.iU=Q.q._e(this.iU);
return(_&16777215)*(1/16777215)};Q.q.a8r=function(_,n,O,l,x,t,h,V){var y=1/255,r=y*t,E=Math.round(t*(256*256*256/255)),a=n.v6(l).v6(x),S=Math.max(0,a.x-n.x),e=Math.max(0,a.x-l.x),P=Math.max(0,a.y-n.y),b=Math.max(0,a.y-l.y),T=a.a,C=a.n,Z=new Uint32Array(_.buffer),W=new Uint32Array(O.buffer);
for(var m=0;m<C;m++){var s=(P+m)*n.a+S,f=(b+m)*l.a+e;for(var q=0;q<T;q++,s++,f++){var g=Z[s],i=W[f],u=V*255+(1-V)*(g>>>24);
if((Q.q._e(s)&16777215)>=u*E)continue;W[f]=g&16777215|V*(i>>>24)+(1-V)*255<<24}}};Q.q.axF=function(_,n,O){for(var m=0;
m<_.length;m+=4){var l=O[m>>>2];if(l==0)continue;var x=l*(1/255),t=1/x,h=n[m],V=n[m+1],y=n[m+2],r=_[m],E=_[m+1],a=_[m+2];
n[m]=Math.min(255,Math.max(0,Math.round((h-(1-x)*r)*t)));n[m+1]=Math.min(255,Math.max(0,Math.round((V-(1-x)*E)*t)));
n[m+2]=Math.min(255,Math.max(0,Math.round((y-(1-x)*a)*t)));n[m+3]=255}};Q.q.ZT=function(_,n,O,l,x,t,h,V,y,r,E){if(r==null)r=!1;
if(E==null)E=[1,1,1];var a=255<<24|E[2]*16711680|E[1]*65280|E[0]*255,S=~a;if(x&&!n.yO(t)){var e=Q.Q(n.O()*4);
e.fill(h);Q.pc(x,t,e,n);x=e;t=n}if(r){if(x==null)Q.q.ay0(_,n,O,l,x,V,y,a,S);else Q.q.a0i(_,n,O,l,x,V,y)}else{if(x==null)Q.q.anB(_,n,O,l,x,V,y,a,S);
else Q.q.avd(_,n,O,l,x,V,y)}};Q.q.anB=function(_,n,O,l,x,t,h,V,y){var r=1/255,E=n.v6(l).v6(t),a=Math.max(0,E.x-n.x),S=Math.max(0,E.x-l.x),e=Math.max(0,E.y-n.y),P=Math.max(0,E.y-l.y),b=E.a,T=E.n,C=new Uint32Array(_.buffer),Z=new Uint32Array(O.buffer),W=Q.q.kG,s=h*255&255;
for(var m=0;m<T;m++){var f=(e+m)*n.a+a,q=(P+m)*l.a+S;for(var g=0;g<b;g++,f++,q++){var i=C[f],u=Z[q],I=i>>>24,Y=u>>>24,U=Q.aK(s*I+(255-s)*Y),F=Q.aK(I*s),N=Q.aK(Y*(255-s)),o=i&255,X=i>>>8&255,J=i>>>16&255,c=u&255,p=u>>>8&255,d=u>>>16&255,k=F*o+c*N,A=F*X+p*N,$=F*J+d*N;
k=W[U<<8|Q.aK(k)];A=W[U<<8|Q.aK(A)];$=W[U<<8|Q.aK($)];var K=U<<24|$<<16|A<<8|k;Z[q]=y&u|V&K}}};Q.q.ay0=function(_,n,O,l,x,t,h,V,y){var r=1/255,E=n.v6(l).v6(t),a=Math.max(0,E.x-n.x),S=Math.max(0,E.x-l.x),e=Math.max(0,E.y-n.y),P=Math.max(0,E.y-l.y),b=E.a,T=E.n,C=new Uint32Array(_.buffer),Z=new Uint32Array(O.buffer),W=Q.q.kG,s=h*16777215&16777215;
for(var m=0;m<T;m++){var f=(e+m)*n.a+a,q=(P+m)*l.a+S;for(var g=0;g<b;g++,f++,q++){if((Q.q._e(f)&16777215)<s){Z[q]=y&Z[q]|V&C[f]}}}};
Q.q.avd=function(_,n,O,l,x,t,h){var V=1/255,y=n.v6(l).v6(t),r=Math.max(0,y.x-n.x),E=Math.max(0,y.x-l.x),a=Math.max(0,y.y-n.y),S=Math.max(0,y.y-l.y),e=y.a,P=y.n,b=new Uint32Array(_.buffer),T=new Uint32Array(O.buffer),C=Q.q.kG;
for(var m=0;m<P;m++){var Z=(a+m)*n.a+r,W=(S+m)*l.a+E;for(var s=0;s<e;s++,Z++,W++){var f=x[Z]*h&255;if(f==0)continue;
if(f==255){T[W]=b[Z];continue}var q=b[Z],g=T[W],i=q>>>24,u=g>>>24,I=Q.aK(f*i+(255-f)*u),Y=Q.aK(i*f),U=Q.aK(u*(255-f)),F=q&255,N=q>>>8&255,o=q>>>16&255,X=g&255,J=g>>>8&255,c=g>>>16&255,p=C[I<<8|Q.aK(Y*F+X*U)],d=C[I<<8|Q.aK(Y*N+J*U)],k=C[I<<8|Q.aK(Y*o+c*U)];
T[W]=I<<24|k<<16|d<<8|p}}};Q.q.a0i=function(_,n,O,l,x,t,h){var V=1/255,y=n.v6(l).v6(t),r=Math.max(0,y.x-n.x),E=Math.max(0,y.x-l.x),a=Math.max(0,y.y-n.y),S=Math.max(0,y.y-l.y),e=y.a,P=y.n,b=new Uint32Array(_.buffer),T=new Uint32Array(O.buffer),C=Q.q.kG,Z=Math.round(h*257);
for(var m=0;m<P;m++){var W=(a+m)*n.a+r,s=(S+m)*l.a+E;for(var f=0;f<e;f++,W++,s++){var q=x[W]*Z;if((Q.q._e(W)&65535)<q)T[s]=b[W]}}};
Q.q.x0=function(_,n,O,l,x,t,h){var V=1/255,y=n.v6(l).v6(t),r=Math.max(0,y.x-n.x),E=Math.max(0,y.x-l.x),a=Math.max(0,y.y-n.y),S=Math.max(0,y.y-l.y),e=y.a,P=y.n,b=new Uint32Array(_.buffer),T=new Uint32Array(O.buffer),C=Math.floor(Math.random()*l.O()),Z=Q.q.a3z;
for(var m=0;m<P;m++){var W=(a+m)*n.a+r,s=(S+m)*l.a+E;for(var f=0;f<e;f++){var q=x[W+f]*h;if(q==0)continue;
if(q==255){T[s+f]=b[W+f];continue}var g=b[W+f],i=T[s+f],u=g>>>24,I=i>>>24,Y=u*q*(1/255),U=I*(255-q)*(1/255),F=g&255,N=g>>>8&255,o=g>>>16&255,X=i&255,J=i>>>8&255,c=i>>>16&255,p=Q.q._e(s+f+C),d=Math.floor((Y+U)*256+.5)+(p>>>0&255)>>>8,k=d==0?0:256/(Y+U),A=F*Y+X*U,$=N*Y+J*U,K=o*Y+c*U,G=Math.floor(A*k+.5)+(p>>>8&255)>>>8,z=Math.floor($*k+.5)+(p>>>16&255)>>>8,M=Math.floor(K*k+.5)+(p>>>24&255)>>>8;
T[s+f]=d<<24|M<<16|z<<8|G}}};Q.q.a3z=function(_){return Math.floor(_+Math.random())};Q.q.A7=function(_,n,O,l,x,t,h){var V=1/255,y=n.v6(l).v6(t),r=Math.max(0,y.x-n.x),E=Math.max(0,y.x-l.x),a=Math.max(0,y.y-n.y),S=Math.max(0,y.y-l.y),e=y.a,P=y.n;
for(var m=0;m<P;m++){var b=(a+m)*n.a+r,T=(S+m)*l.a+E;for(var C=0;C<e;C++,b++,T++){var Z=h*x[b]*V;if(Z==0)continue;
if(Z==1){O[T]=_[b];continue}O[T]=_[b]*Z+O[T]*(1-Z)}}};Q.a5s=function(){function _(t){var h=t*.85;return Math.exp(-(h*h)*(1/(2*.4*.4)))*(1/(.4*Math.sqrt(2*Math.PI)))}function n(t,h){var V=t<h?1:_((t-h)/Math.pow(1.001-h,.86));
return V}var O=[];function l(t){if(O[t])return O[t];var h=Math.pow(t,.55),V=new Float64Array(8e3),y=0,r=8e3;
for(var m=0;m<8e3;m++){var E=n(m*(1.55/4e3),h);if(E>=1)y=m;else if(E<=0&&r==8e3)r=m;V[m]=E}var a=[V,y,r];
O[t]=a;return a}function x(t,h,V){var y=1+.55*(1-h),r=Math.round(V*t*y)+2,E=new a8(0,0,r,r),a=Q.Q(r*r),S=[a,E],e=r/2,P=y/(e-1),b=Date.now(),T=l(h),C=Math.round(8e3/e),Z=T[0],W=T[1]-C,s=T[2]+C,f=Math.min(r,r+1>>>1),q=P*.4*(4e3/1.55),g=Q.Q(8e3);
for(var m=0;m<8e3;m++){var i=m,u=m,I=~~Math.max(0,i-q-q),Y=~~Math.max(0,i-q),U=~~(i+q),F=~~(i+q+q),N=~~(.5+255*(1/5)*(Z[u]+Z[I]+Z[Y]+Z[U]+Z[F]));
g[m]=N;if(N==0)break}for(var m=0;m<f;m++){var o=P*(m-e+.5),X=o*o,J=m*r,c=(r-1-m)*r;for(var p=0;p<f;p++){var d=P*(p-e+.5),u=~~(Math.sqrt(d*d+X)*(4e3/1.55));
if(s<u)continue;else if(u<W){var N=255;while(p<f){var k=r-1-p;a[J+p]=N;a[J+k]=N;a[c+p]=N;a[c+k]=N;p++}break}else{var N=g[u],k=r-1-p;
a[J+p]=N;a[J+k]=N;a[c+p]=N;a[c+k]=N}}}return S}return{a1j:x}}();Q.yk={};Q.yk.a8N=function(_,n,O,l,x,t){Q.yk.Xl(_,n,O,l,x,t,null,0)};
Q.yk.aop=function(_,n,O,l,x){Q.yk.Xl(_,n,O,l,x,null,null,0)};Q.yk.av3=function(_,n,O,l,x,t,h){Q.yk.Xl(_,n,O,l,x,null,t,h*.5)};
Q.yk.Xl=function(_,n,O,l,x,t,h,V){var y=0,U=0,F=1e9,N=0,o=1e9,X=0,J=1e9,c=0,p=0,d=0,k=0;if(t){y=x*.5;
x=3+Math.round((x-3)*.75)}if(h){x=Math.round(x*2.2)}var r=1/x,E=Math.floor(n*r)+1,a=Math.floor(O*r)+1,S=[],e=new Uint8Array(E*a*4),P=h?.5:1,b=t?64:0;
for(var T=0;T<a;T++){var C=h?.5*(T&1):0;for(var Z=0;Z<E;Z++){var W=(Z+Math.random()*P+C)*x,s=(T+Math.random()*P)*x;
S.push(W,s);var f=Math.min(n-1,Math.floor(W)),q=Math.min(O-1,Math.floor(s)),g=(q*n+f)*4,i=(T*E+Z)*4;
for(var m=0;m<4;m++)e[i+m]=Math.max(0,Math.min(255,Math.floor(_[g+m]+(Math.random()-.5)*b)))}}var u=t?t:h?h:[0,0,0],I=E*a*2,Y=[-E-1,-E,-E+1,-1,0,1,E-1,E,E+1];
for(var T=0;T<O;T++){d=0;for(var Z=0;Z<n;Z++){var A=Z+.5,$=T+.5,K=Math.floor($*r),G=Math.floor(A*r),z=K*E+G,j=0,w=0;
if(d>1+V){F=Q.yk.Z9(S,U,A,$);c=Math.sqrt(F);d--;k++}else{F=o=J=1e9;for(var m=0;m<Y.length;m++){var M=(z+Y[m])*2;
if(M<0||M>=I)continue;var hl=Q.yk.Z9(S,M,A,$);if(hl<J){if(hl<o){if(hl<F){X=N;J=o;N=U;o=F;U=M;F=hl}else{X=N;
J=o;N=M;o=hl}}else{X=M;J=hl}}}c=Math.sqrt(F);p=Math.sqrt(o);d=p-(c+p)*.5}if(h==null){var B=(c+p)*.5,bB=t?Math.max(0,B-y):0;
j=Math.max(0,Math.min(1,.5+B-c-bB));w=Math.max(0,Math.min(1,1-(.5+B-c)-bB))}else{var bG=Math.min(Q.yk.d8(S,U,N,A,$),Q.yk.d8(S,U,X,A,$));
j=Math.max(0,Math.min(1,bG-V*.5));if(A<V||n-V<A||$<V||O-V<$)j=0;w=0}var eb=1-w-j,i=T*n+Z<<2,fe=U<<1,by=N<<1;
l[i+0]=Math.floor(.5+j*e[fe+0]+w*e[by+0]+eb*u[0]);l[i+1]=Math.floor(.5+j*e[fe+1]+w*e[by+1]+eb*u[1]);
l[i+2]=Math.floor(.5+j*e[fe+2]+w*e[by+2]+eb*u[2]);l[i+3]=_[i+3]}}};Q.yk.Z9=function(_,n,O,l){var x=O-_[n],t=l-_[n+1];
return x*x+t*t};Q.yk.d8=function(_,n,O,l,x){var t=_[n],h=_[n+1],V=_[O],y=_[O+1],r=(t+V)*.5,E=(h+y)*.5,a=r+(y-h),S=E-(V-t),e=S-E,P=a-r;
return Math.abs(e*l-P*x+a*E-S*r)/Math.sqrt(P*P+e*e)};Q.OX={};Q.OX.Rt=function(_){if(Q.OX.zv.length<_)Q.OX.zv=Q.Q(_);
return Q.OX.zv};Q.OX.zv=Q.Q(0);Q.OX.gN=function(_){if(Q.OX.eL.length<_)Q.OX.eL=new Float32Array(_);return Q.OX.eL};
Q.OX.eL=new Float32Array(0);Q.OX.ff=function(_,n,O,l){var x=O.a,t=O.n;Q.OX.asN(_,n,x,t,l)};Q.OX.xk=function(_,n,O,l){var x=O.a,t=O.n;
Q.OX.apz(_,n,x,t,l)};Q.OX.Mr=function(_,n,O){var l=n.a,x=n.n;Q.OX.a02(_,l,x,O)};Q.OX.ad=function(_,n,O,l,x){var t=O.a,h=O.n;
Q.OX.an9(_,n,t,h,l,x)};Q.OX.nR=function(_,n,O,l){var x=O.a,t=O.n;l=Math.round(l);var h=Q.OX.Rt(x*t);
Q.Jt(_,n);Q.OX.hu(n,h,x,t,l)};Q.OX.FT=function(_,n,O){var l=n.a,x=n.n;O=Math.round(O);var t=Q.OX.Rt(l*x*4);
Q.OX.FY(_,t,l,x,O)};Q.OX.fg=function(_,n,O,l){var x=O.a,t=O.n;l=Math.round(l);var h=Q.OX.gN(x*t);Q.Jt(_,n);
Q.OX.X7(n,h,x,t,l)};Q.OX.MR=function(_,n,O){var l=n.a,x=n.n;O=Math.round(O);var t=Q.OX.Rt(l*x*4);Q.OX.LM(_,t,l,x,O);
Q.Jt(t,_)};Q.OX.uS=function(_,ab){var n=Math.sqrt(12*_*_/ab+1),O=Math.floor(n);if(O%2==0)O--;var l=O+2,x=(12*_*_-ab*O*O-4*ab*O-3*ab)/(-4*O-4),t=Math.round(x),h=[];
for(var m=0;m<ab;m++)h.push(m<t?O:l);return h};Q.OX.asN=function(_,n,O,l,x){var t=Q.OX.uS(x,3),h=Q.OX.Rt(O*l);
Q.Jt(_,n);Q.OX.hu(n,h,O,l,t[0]-1>>1);Q.OX.hu(n,h,O,l,t[1]-1>>1);Q.OX.hu(n,h,O,l,t[2]-1>>1)};Q.OX.apz=function(_,n,O,l,x){var t=Q.OX.uS(x,2),h=Q.OX.Rt(O*l);
Q.Jt(_,n);Q.OX.hu(n,h,O,l,t[0]-1>>1);Q.OX.hu(n,h,O,l,t[1]-1>>1)};Q.OX.a02=function(_,n,O,l){var x=Q.OX.uS(l,3),t=Q.OX.Rt(n*O*4);
Q.OX.FY(_,t,n,O,x[0]-1>>1);Q.OX.FY(_,t,n,O,x[1]-1>>1);Q.OX.FY(_,t,n,O,x[2]-1>>1)};Q.OX.an9=function(_,n,O,l,x,t){if(t==null)t=3;
var h=Q.OX.uS(x,t),V=Q.OX.gN(O*l);Q.Jt(_,n);for(var m=0;m<t;m++)Q.OX.X7(n,V,O,l,(h[m]-1)/2)};Q.OX.hu=function(_,n,O,l,x){Q.OX.a7p(_,n,O,l,x);
Q.OX.a25(n,_,O,l,x)};Q.OX.FY=function(_,n,O,l,x){Q.OX.LM(_,n,O,l,x);Q.OX.a9d(n,_,O,l,x)};Q.OX.X7=function(_,n,O,l,x){Q.OX.akV(_,n,O,l,x);
Q.OX.a10(n,_,O,l,x)};Q.OX.Nu=[];Q.OX.HA=function(_){if(Q.OX.Nu[_])return Q.OX.Nu[_];var n=1/(_+_+1),O=(_+_+1)*256,l=Q.Q(O);
for(var m=0;m<O;m++)l[m]=Math.round(m*n);Q.OX.Nu[_]=l;return l};Q.OX.a7p=function(_,n,O,l,x){var t=1/(x+x+1),h=O-x-x-1,V=Q.OX.HA(x);
for(var m=0;m<l;m++){var y=m*O,r=y,E=y+x,a=_[y],S=_[y+O-1],e=(x+1)*a;for(var P=0;P<x;P++)e+=_[y+P];for(var P=0;
P<=x;P++){e+=_[E+P]-a;n[y+P]=V[e]}E+=x+1;y+=x+1;for(var P=0;P<h;P++){e+=_[E+P]-_[r+P];n[y+P]=V[e]}E+=h;
r+=h;y+=h;for(var P=O-x;P<O;P++){e+=S-_[r++];n[y++]=V[e]}}};Q.OX.LM=function(_,n,O,l,x){var t=O<<2,h=x<<2,V=1/(x+x+1),y=O-x-x-1,r=y<<2,E=Q.OX.HA(x);
for(var m=0;m<l;m++){var a=m*t,S=a,e=a+h,P=a+t,b=_[a],T=_[a+1],C=_[a+2],Z=_[a+3],W=(x+1)*b,s=(x+1)*T,f=(x+1)*C,q=(x+1)*Z;
for(var g=0;g<h;g+=4){W+=_[a+g];s+=_[a+g+1];f+=_[a+g+2];q+=_[a+g+3]}for(var g=0;g<=h;g+=4){W+=_[e]-b;
n[a]=E[W];s+=_[e+1]-T;n[a+1]=E[s];f+=_[e+2]-C;n[a+2]=E[f];q+=_[e+3]-Z;n[a+3]=E[q];e+=4;a+=4}for(var g=0;
g<r;g+=4){W+=_[e+g]-_[S+g];n[a+g]=E[W];s+=_[e+g+1]-_[S+g+1];n[a+g+1]=E[s];f+=_[e+g+2]-_[S+g+2];n[a+g+2]=E[f];
q+=_[e+g+3]-_[S+g+3];n[a+g+3]=E[q]}e+=r;S+=r;a+=r;b=_[P-4];T=_[P-3];C=_[P-2];Z=_[P-1];for(var g=O-x;
g<O;g++){W+=b-_[S];n[a]=E[W];s+=T-_[S+1];n[a+1]=E[s];f+=C-_[S+2];n[a+2]=E[f];q+=Z-_[S+3];n[a+3]=E[q];
S+=4;a+=4}}};Q.OX.akV=function(_,n,O,l,x){var t=1/(x+x+1),h=O-x-x-1;for(var m=0;m<l;m++){var V=m*O,y=V,r=V+x,E=_[V],a=_[V+O-1],S=(x+1)*E;
for(var e=0;e<x;e++)S+=_[V+e];for(var e=0;e<=x;e++){S+=_[r+e]-E;n[V+e]=S*t}r+=x+1;V+=x+1;for(var e=0;
e<h;e++){S+=_[r+e]-_[y+e];n[V+e]=S*t}r+=h;y+=h;V+=h;for(var e=O-x;e<O;e++){S+=a-_[y++];n[V++]=S*t}}};
Q.OX.a25=function(_,n,O,l,x){var t=1/(x+x+1),h=l-x-x-1,V=Q.OX.HA(x);for(var m=0;m<O;m++){var y=m,r=y,E=y+x*O,a=_[y],S=_[y+O*(l-1)],e=(x+1)*a;
for(var P=0;P<x;P++)e+=_[y+P*O];for(var P=0;P<=x;P++){e+=_[E]-a;n[y]=V[e];E+=O;y+=O}for(var P=0;P<h;
P++){var b=P*O;e+=_[E+b]-_[r+b];n[y+b]=V[e]}r+=h*O;E+=h*O;y+=h*O;for(var P=l-x;P<l;P++){e+=S-_[r];n[y]=V[e];
r+=O;y+=O}}};Q.OX.a9d=function(_,n,O,l,x){var t=O<<2,h=x<<2,V=1/(x+x+1),y=l-x-x-1,r=y<<2,E=Q.OX.HA(x);
for(var m=0;m<O;m++){var a=m<<2,S=a,e=a+x*t,P=a+t*(l-1),b=_[a],T=_[a+1],C=_[a+2],Z=_[a+3],W=(x+1)*b,s=(x+1)*T,f=(x+1)*C,q=(x+1)*Z;
for(var g=0;g<x;g++){var i=a+g*t;W+=_[i];s+=_[i+1];f+=_[i+2];q+=_[i+3]}for(var g=0;g<=x;g++){W+=_[e]-b;
n[a]=E[W];s+=_[e+1]-T;n[a+1]=E[s];f+=_[e+2]-C;n[a+2]=E[f];q+=_[e+3]-Z;n[a+3]=E[q];e+=t;a+=t}for(var g=0;
g<y;g++){var u=g*t;W+=_[e+u]-_[S+u];n[a+u]=E[W];s+=_[e+u+1]-_[S+u+1];n[a+u+1]=E[s];f+=_[e+u+2]-_[S+u+2];
n[a+u+2]=E[f];q+=_[e+u+3]-_[S+u+3];n[a+u+3]=E[q]}S+=y*t;e+=y*t;a+=y*t;b=_[P];T=_[P+1];C=_[P+2];Z=_[P+3];
for(var g=l-x;g<l;g++){W+=b-_[S];n[a]=E[W];s+=T-_[S+1];n[a+1]=E[s];f+=C-_[S+2];n[a+2]=E[f];q+=Z-_[S+3];
n[a+3]=E[q];S+=t;a+=t}}};Q.OX.a10=function(_,n,O,l,x){var t=1/(x+x+1),h=l-x-x-1;for(var m=0;m<O;m++){var V=m,y=V,r=V+x*O,E=_[V],a=_[V+O*(l-1)],S=(x+1)*E;
for(var e=0;e<x;e++)S+=_[V+e*O];for(var e=0;e<=x;e++){S+=_[r]-E;n[V]=S*t;r+=O;V+=O}for(var e=0;e<h;e++){var P=e*O;
S+=_[r+P]-_[y+P];n[V+P]=S*t}y+=h*O;r+=h*O;V+=h*O;for(var e=l-x;e<l;e++){S+=a-_[y];n[V]=S*t;y+=O;V+=O}}};
Q._I={};Q._I.Q=function(_,n,O,l){var x=[];for(var t=0;t<4;t++)for(var h=0;h<4;h++)x.push(_+O*h/3,n+l*t/3);
return x};Q._I.wf=function(_,n){var O=_.slice(0);for(var m=0;m<4;m++)for(var l=0;l<4;l++){var x=2*(m*4+l),t=2*(l*4+(3-m));
if(n){var h=x;x=t;t=h}O[t]=_[x];O[t+1]=_[x+1]}return O};Q._I.Id=Q.Q(0);Q._I.drawImage=function(_,n,O,l,x,t,h){var V=!1,y=Date.now(),r=2,E=O+2*r,a=l+2*r,S=new a8(r,r,O,l),e=S.clone(),Z=50;
e.nQ(r,r);var P=Q._I.Id;if(P.length!=e.O()*4)P=Q._I.Id=Q.Q(e.O()*4);else P.fill(0);Q.zw(n,S,P,e);if(V)console.log(Date.now()-y,"copy rect");
y=Date.now();Q.uy(P);if(V)console.log(Date.now()-y,"multiply alpha");y=Date.now();var b=[],T=[],C=[];
for(var W=0;W<Z+1;W++)for(var s=0;s<Z+1;s++){var f=s/Z,q=W/Z;b.push(E*f,a*q);if(s<Z&&W<Z){var g=W*(Z+1)+s,i=g+1,u=g+Z+1,I=u+1;
T.push(g,i,u);T.push(u,i,I)}var Y=Q._I.a4z(_,f,q);C.push(-Y)}var U=b.slice(0);Q._I.D(_,U,new a8(r,r,O,l));
Q.p.D(U,new aY(1,0,0,1,-t.x,-t.y),U);if(V)console.log(Date.now()-y,"mesh built");y=Date.now();var F=t.a,N=t.n;
Q.Iz._l(P,E,a,x,F,N,b,U,C,T);if(V)console.log(Date.now()-y,"rendered");y=Date.now();Q.RC(x);if(V)console.log(Date.now()-y,"divided");
y=Date.now()};Q._I.L0=new Array(10);Q._I.an_=function(_,n){var O=200,l=0,x=0,t=1e9,h=Q._I.L0;for(var V=0;
V<O+1;V++)for(var y=0;y<O+1;y++){var r=y/O,E=V/O;Q._I.xE(_,r,E,h);var a=h[8]-n.x,S=h[9]-n.y,e=a*a+S*S;
if(e<t){t=e;l=r;x=E}}return[l,x]};Q._I.D=function(_,n,O){var l=O.x,x=O.y,t=1/O.a,h=1/O.n,V=Q._I.L0;for(var y=0;
y<n.length;y+=2){var r=(n[y]-l)*t,E=(n[y+1]-x)*h;Q._I.xE(_,r,E,V);n[y]=V[8];n[y+1]=V[9]}};Q._I.a4z=function(_,n,O){var l,x,t,h,V=Q._I.L0;
Q._I.auh(_,n,O,V);l=V[8];x=V[9];Q._I.aee(_,n,O,V);t=V[8];h=V[9];return l*h-x*t};Q._I.xE=function(_,n,O,l){Q._I.tq(l,0,O);
Q._I.tq(l,4,n);Q._I.eK(_,l)};Q._I.auh=function(_,n,O,l){Q._I.tq(l,0,O);Q._I.ss(l,4,n);Q._I.eK(_,l)};
Q._I.aee=function(_,n,O,l){Q._I.ss(l,0,O);Q._I.tq(l,4,n);Q._I.eK(_,l)};Q._I.ss=function(_,m,n){var O=1-n;
_[m]=-3*(O*O);_[m+1]=3*(O*O)-6*(n*O);_[m+2]=6*(n*O)-3*(n*n);_[m+3]=3*(n*n)};Q._I.tq=function(_,m,n){var O=1-n;
_[m]=O*(O*O);_[m+1]=3*n*(O*O);_[m+2]=3*(n*n)*O;_[m+3]=n*n*n};Q._I.eK=function(_,n){var O=0,l=0,x=0,t=n[0],h=n[1],V=n[2],y=n[3],r=n[4],E=n[5],a=n[6],S=n[7];
x=t*r;O+=_[0]*x;l+=_[1]*x;x=t*E;O+=_[2]*x;l+=_[3]*x;x=t*a;O+=_[4]*x;l+=_[5]*x;x=t*S;O+=_[6]*x;l+=_[7]*x;
x=h*r;O+=_[8]*x;l+=_[9]*x;x=h*E;O+=_[10]*x;l+=_[11]*x;x=h*a;O+=_[12]*x;l+=_[13]*x;x=h*S;O+=_[14]*x;l+=_[15]*x;
x=V*r;O+=_[16]*x;l+=_[17]*x;x=V*E;O+=_[18]*x;l+=_[19]*x;x=V*a;O+=_[20]*x;l+=_[21]*x;x=V*S;O+=_[22]*x;
l+=_[23]*x;x=y*r;O+=_[24]*x;l+=_[25]*x;x=y*E;O+=_[26]*x;l+=_[27]*x;x=y*a;O+=_[28]*x;l+=_[29]*x;x=y*S;
O+=_[30]*x;l+=_[31]*x;n[8]=O;n[9]=l};Q.rc={};Q.rc.a4U=function(_,n,O){var l=Date.now(),x=new ArrayBuffer(n*O*16),t=Q.rc.aum(_,n,O,x),h=Q.rc.ahJ(n,O,x);
return{nq:h,Ad:t}};Q.rc.ap8=function(_,n,O){var l=Math.round(_.length/8),x=new Uint32Array(l),t=new Uint8Array(l),h=new Uint32Array(l);
Q.qs(x,4294967295,0);x[O]=0;var V=new b7(l);V.push(O,x[O]);var y={nq:_,Ad:n,d2:x,_n:t,l8:h,oT:V,awp:O};
return y};Q.rc.ut=function(_,n){var O=_.nq,l=_.Ad,x=_.d2,t=_._n,h=_.l8,V=_.oT;while(!V.wk()&&(n==null||t[n]==0)){var y=V.pop();
t[y]=1;for(var m=0;m<8;m++){var r=O[8*y+m],E=y+r;if(r==0||t[E])continue;var a=x[y]+l[8*y+m];if(V.contains(E)&&a<x[E])V.remove(E,x[E]);
if(!V.contains(E)){x[E]=a;h[E]=y;V.push(E,x[E])}}}};function b7(_){this.J$=new Uint32Array(_);this.list=[];
this.ex=0;this.ow=4294967295}b7.prototype.wk=function(){return this.ex==0};b7.prototype.push=function(_,n){var O=this.list;
if(O[n]==null)O[n]=[];O[n].push(_);this.ex++;this.J$[_]=O[n].length-1+1;this.ow=Math.min(this.ow,n)};
b7.prototype.pop=function(){this.ex--;var _=this.list,n=this.ow,O=_[n].pop();if(_[n].length==0)_[n]=null;
this.Z8();this.J$[O]=0;return O};b7.prototype.contains=function(_){return this.J$[_]!=0};b7.prototype.remove=function(_,n){this.ex--;
var O=this.list,m=this.J$[_]-1;if(m==O[n].length-1)O[n].pop();else{var l=O[n].pop();O[n][m]=l;this.J$[l]=m+1}if(O[n].length==0)O[n]=null;
this.J$[_]=0;this.Z8()};b7.prototype.Z8=function(){if(this.ex==0){this.ow=4294967295;return}var _=this.ow,n=this.list;
while(n[_]==null)_++;this.ow=_};Q.rc.amR=function(_,n,O,l){var x=new Int16Array(l);for(var t=0;t<O;t++)for(var h=0;
h<n;h++){var m=t*n+h,V=0;if(1<h&&h<n-2&&1<t&&t<O-2){V+=_[m-n-n];V+=_[m-n-1]+2*_[m-n]+_[m-n+1];V+=_[m-2]+2*_[m-1]-16*_[m]+2*_[m+1]+_[m+2];
V+=_[m+n-1]+2*_[m+n]+_[m+n+1];V+=_[m+n+n]}else V=-16*_[m];x[m]=V}return x};Q.rc.a61=function(_,n,O,l){if(l==null)l=128;
var x=new Uint8Array(n*O);for(var t=1;t<O-1;t++)for(var h=1;h<n-1;h++){var m=t*n+h;x[m]=Q.rc.a8P(_[m],_[m-1],_[m+1],_[m-n],_[m+n],l)}return x};
Q.rc.a8P=function(_,n,O,l,x,t){var h=Math.abs(_);return _*n<0&&h<Math.abs(n)&&Math.abs(n-_)>t||_*O<0&&h<Math.abs(O)&&Math.abs(O-_)>t||_*l<0&&h<Math.abs(l)&&Math.abs(l-_)>t||_*x<0&&h<Math.abs(x)&&Math.abs(x-_)>t?1:0};
Q.rc.a9M=function(_,n,O,l){var x=new Float32Array(l),t=0;new Uint32Array(l).fill(0);for(var h=0;h<O;
h++)for(var V=0;V<n;V++){var y=0,r=0,m=h*n+V,E=m*3;if(0<V&&V<n-1)y=_[m+1]-_[m-1];if(0<h&&h<O-1)r=_[m+n]-_[m-n];
var a=x[E+2]=Math.sqrt(y*y+r*r);if(a!=0){var S=1/a;x[E]=y*S;x[E+1]=r*S}if(a>t)t=a}var e=n*O,P=t==0?0:1/t;
for(var m=0;m<e;m++)x[m*3+2]=1-x[m*3+2]*P;return x};Q.rc.ayi=function(_,n,O){return O[~~((.5+.5*_)*255)]+O[~~((.5+.5*n)*255)]};
Q.rc.aum=function(_,n,O,l){var x=Date.now(),t=Q.rc.amR(_,n,O,l),h=Q.rc.a61(t,n,O),V=Q.rc.a9M(_,n,O,l),y=new Float32Array(256);
for(var m=0;m<256;m++)y[m]=Math.acos(-1+2*m/255)*(.95/Math.PI);var r=[-1,0,1,1,1,0,-1,-1],E=[-1,-1,-1,0,1,1,1,0];
for(var m=0;m<8;m++){var a=1/Math.sqrt(r[m]*r[m]+E[m]*E[m]);r[m]*=a;E[m]*=a}var S=[r[0],E[0],r[1],E[1],r[2],E[2],r[3],E[3]],e=[-n-1,-n,-n+1,1],P=new Uint8Array(n*O*8);
new Uint32Array(P.buffer).fill(4294967295);var b=n*O;for(var T=1;T<O-1;T++)for(var C=1;C<n-1;C++){var Z=T*n+C,W=1-h[Z],s=V[Z*3+2],f=V[3*Z+1],q=-V[3*Z];
for(var g=0;g<4;g++){var i=Z+e[g];Q.rc.atT(Z,i,g,P,h,V,W,s,f,q,S,y)}}return P};Q.rc.atT=function(_,n,O,l,x,t,h,V,y,r,E,a){var S=1-x[n],e=(O&1)==0?1:Math.SQRT1_2,P=t[n*3+2]*e,b=t[3*n+1],T=-t[3*n],C=V*e,Z=E[O+O],W=E[O+O+1],s=y*Z+r*W,f=b*Z+T*W;
if(s+f<0){s=-s;f=-f}var q=Q.rc.ayi(s,f,a);l[(_<<3)+O]=Q.rc.Td(S,q,P);l[(n<<3)+O+4]=Q.rc.Td(h,q,C)};Q.rc.Td=function(_,n,O){return 1+~~(.5+20*(.43*_+.43*n+.14*O))};
Q.rc.ahJ=function(_,n,O){var l=new Int16Array(O),x=l,m=0,t=0;new Uint32Array(O).fill(0);for(var h=0;
h<n;h++)for(var V=0;V<_;V++){if(h>0&&V>0)x[t+0]=-_-1;if(h>0)x[t+1]=-_;if(h>0&&V<_-1)x[t+2]=-_+1;if(V<_-1)x[t+3]=1;
if(h<n-1&&V<_-1)x[t+4]=_+1;if(h<n-1)x[t+5]=_;if(h<n-1&&V>0)x[t+6]=_-1;if(V>0)x[t+7]=-1;m++;t+=8}return l};
Q.u3={};Q.u3.Fi=function(_){var n=_.slice(0),O=0;for(var m=0;m<_.length;m++)O+=_[m];for(var m=0;m<_.length;
m++)n[m]/=O;return n};Q.u3.AK=[Q.u3.Fi([1,2,1,2,16,2,1,2,1]),Q.u3.Fi([1,2,1,2,4,2,1,2,1]),Q.u3.Fi([0,-1,0,-1,8,-1,0,-1,0]),Q.u3.Fi([-.7,-1,-.7,-1,10,-1,-.7,-1,-.7]),[-1,0,1,-2,0,2,-1,0,1],[1,2,1,0,0,0,-1,-2,-1]];
Q.u3.G4=function(_,n,O,l,x,t,h,V){if(h==null)h=!1;if(V==null)V=!1;var y=Math.floor(Math.sqrt(x.length)),r=y-1>>>1,E=new Uint32Array(_.buffer),n=new Uint8ClampedArray(n.buffer);
for(var m=0;m<l;m++)for(var a=0;a<O;a++){var S=0,e=0,P=0,b=0;for(var T=0;T<y;T++)for(var C=0;C<y;C++){var Z=x[T*y+C];
if(Z==0)continue;var W=a-r+C,s=m-r+T;if(W<0)W=0;else if(W>O-1)W=O-1;if(s<0)s=0;else if(s>l-1)s=l-1;if(V&&E[s*O+W]>>>24==0){s=m;
W=a}var f=E[s*O+W];S+=(f&255)*Z;e+=(f>>>8&255)*Z;P+=(f>>>16&255)*Z;b+=(f>>>24&255)*Z}if(h){if(S<0)S=-S;
if(e<0)e=-e;if(P<0)P=-P;if(b<0)b=-b}if(V){S=Math.max(0,Math.min(255,S));e=Math.max(0,Math.min(255,e));
P=Math.max(0,Math.min(255,P));b=Math.max(0,Math.min(255,b))}var q=m*O+a<<2;n[q]=~~(.5+S);n[q+1]=~~(.5+e);
n[q+2]=~~(.5+P);n[q+3]=255-t&n[q+3]|t&~~(.5+b)}};Q.u3.NF=function(_,n,O,l){var x=_.length,t=new Uint8Array(x);
Q.u3.G4(_,n,O,l,Q.u3.AK[4],0,!0);Q.u3.G4(_,t,O,l,Q.u3.AK[5],0,!0);for(var m=0;m<x;m+=4){var h=n[m],V=n[m+1],y=n[m+2],r=n[m+3],E=t[m],a=t[m+1],S=t[m+2],e=t[m+3];
n[m]=255-Math.max(0,Math.min(255,Math.sqrt(h*h+E*E)));n[m+1]=255-Math.max(0,Math.min(255,Math.sqrt(V*V+a*a)));
n[m+2]=255-Math.max(0,Math.min(255,Math.sqrt(y*y+S*S)))}};Q.u3.$A=function(_,n,O,l){var x=_.length,t=new Uint8Array(x);
Q.u3.LA(_,n,O,l,Q.u3.AK[4],!0);Q.u3.LA(_,t,O,l,Q.u3.AK[5],!0);for(var m=0;m<x;m++){var h=n[m],V=t[m];
n[m]=255-Math.max(0,Math.min(255,Math.sqrt(h*h+V*V)))}};Q.u3.LA=function(_,n,O,l,x,t){n=new Uint8ClampedArray(n.buffer);
var h=[-O-1,-O,-O+1,-1,0,1,O-1,O,O+1],V=l-1,y=O-1;for(var m=1;m<V;m++)for(var r=1;r<y;r++){var E=m*O+r,a=Q.u3.wK(_,E,O,x);
if(t){if(a<0)a=-a}n[E]=~~(a+.5)}};Q.u3.wK=function(_,n,O,l){return _[n-O-1]*l[0]+_[n-O]*l[1]+_[n-O+1]*l[2]+_[n-1]*l[3]+_[n]*l[4]+_[n+1]*l[5]+_[n+O-1]*l[6]+_[n+O]*l[7]+_[n+O+1]*l[8]};
Q.u3.h2=function(_,n,O,l,x){var t=[-O-1,-O,-O+1,-1,0,1,O-1,O,O+1],h=l-1,V=O-1;for(var m=1;m<h;m++)for(var y=1;
y<V;y++){var r=m*O+y;n[r]=Q.u3.a0X(_,r,O,x)}};Q.u3.a0X=function(_,n,O,l){return _[n-O-1]*l[0]+_[n-O]*l[1]+_[n-O+1]*l[2]+_[n-1]*l[3]+_[n]*l[4]+_[n+1]*l[5]+_[n+O-1]*l[6]+_[n+O]*l[7]+_[n+O+1]*l[8]};
Q.ke={};Q.ke.a2=function(){function _(h,V,y,r,E,a,S){if(E==0){V.set(h);return}var e=Q.Q(y*r),P=Q.Q(y*r);
if(Q.Fh(h)){n(h,V,y,r,E,a,S);var b=[Q.ke.f8,Q.ke.WM],T=b.indexOf(a),C=T!=-1?b[1-T]:a;Q.nV(h,e,3);Q.ke.wT(e,P,y,r,E,C,S);
Q.$c(P,V,3)}else{for(var m=0;m<3;m++){Q.nV(h,e,m);Q.ke.wT(e,P,y,r,E,a,S);Q.$c(P,V,m)}}}function n(h,V,y,r,E,a,S){var e=0,P=new ArrayBuffer(512*4*3),b=[new Int32Array(P,0),new Int32Array(P,2048),new Int32Array(P,2*2048)],T=1+2*Math.round(Math.sqrt(E)),C=T>>>1,Z=new Array(T),W=new Array(T);
for(var m=0;m<T;m++){var P=new ArrayBuffer(512*4*3);Z[m]=[new Int32Array(P,0),new Int32Array(P,2048),new Int32Array(P,2*2048)];
W[m]=Z[m][0]}var s=a[0],f=a[1],q=b[0];for(var g=0;g<y;g++)if(g<E||g>y-E-T-1){q.fill(0);var i=Math.max(g-E,0),u=Math.min(y,g+E+1),I=u-i;
for(var Y=0;Y<E;Y++)l(q,h,Y*y+i,Y*y+u,1);for(var Y=0;Y<r;Y++){var U=Y-E-1,F=Y+E;if(F<r)l(q,h,F*y+i,F*y+u,1);
if(U>=0)l(q,h,U*y+i,U*y+u,-1);var N=Y*y+g<<2;e=q[300];if(e!=0)for(var m=0;m<3;m++)V[N+m]=s(b[m],h[N+m],e,S)}}else{for(var m=0;
m<T;m++)W[m].fill(0);var i=g-E+C,u=g+E+1+C;for(var Y=0;Y<E;Y++)O(W,h,Y*y+i,Y*y+u,1,C);for(var Y=0;Y<r;
Y++){var U=Y-E-1,F=Y+E;if(U>=0)O(W,h,U*y+i,U*y+u,-1,C);if(F<r)O(W,h,F*y+i,F*y+u,1,C);var o=Z[C];e=o[0][300];
for(var m=0;m<C;m++){var X=C-1-m,J=C+1+m,c=Z[X],p=Z[J],d=e+c[0][300],k=e+p[0][300],A=Y*y+g+X<<2,$=Y*y+g+J<<2;
if(d!=0)for(var K=0;K<3;K++)V[A+K]=f(o[K],c[K],h[A+K],d,S);if(k!=0)for(var K=0;K<3;K++)V[$+K]=f(o[K],p[K],h[$+K],k,S)}var N=Y*y+g+C<<2;
if(e!=0)for(var K=0;K<3;K++)V[N+K]=s(o[K],h[N+K],e,S)}g+=T-1}}function O(h,V,y,r,E,a){var S=x,e=y<<2,P=r<<2;
S(h[a-1],V,y-1<<2,E);S(h[a-1],V,r-1<<2,-E);S(h[a+1],V,r<<2,E);S(h[a+1],V,y<<2,-E);for(var m=1;m<a;m++){var b=h[a-m-1],T=h[a+m+1];
for(var C=0;C<=m;C++){var Z=C<<2;S(b,V,y-1-C<<2,E);S(b,V,r-1-C<<2,-E);S(T,V,r+C<<2,E);S(T,V,y+C<<2,-E)}}l(h[a],V,y,r,E)}function l(h,V,m,y,r){var E=m<<2,a=y<<2;
while(E<a){x(h,V,E,r);E+=4}}function x(h,V,y,r){var E=r*V[y+3];h[300]+=E;t(h,V[y],0,E);t(h,V[y+1],512,E);
t(h,V[y+2],1024,E)}function t(h,V,y,r){h[y|V]+=r;h[y|256|V>>>4]+=r}return _}();Q.ke.wT=function(){function _(a,S,e,P,b,T,C){if(b==0){S.set(a);
return}if(b<=80)n(a,S,e,P,b,T,C);else t(a,S,e,P,b,T,C)}function n(a,S,e,P,b,T,C){var Z=0,W=new Int32Array(512),s=1+2*Math.round(Math.sqrt(b)),f=s>>>1,q=new Array(s);
for(var m=0;m<s;m++)q[m]=new Int32Array(512);var g=T[0],i=T[1];for(var u=0;u<e;u++)if(u<b||u>e-b-s-1){W.fill(0);
Z=0;var I=Math.max(u-b,0),Y=Math.min(e,u+b+1),U=Y-I;for(var F=0;F<b;F++){Z+=U;l(W,a,F*e+I,F*e+Y,1)}for(var F=0;
F<P;F++){var N=F-b-1,o=F+b;if(N>=0){Z-=U;l(W,a,N*e+I,N*e+Y,-1)}if(o<P){Z+=U;l(W,a,o*e+I,o*e+Y,1)}var X=g(W,a[F*e+u],Z,C);
S[F*e+u]=X}}else{for(var m=0;m<s;m++)q[m].fill(0);Z=0;var I=u-b+f,Y=u+b+1+f,U=Y-I;for(var F=0;F<b;F++){Z+=U;
O(q,a,F*e+I,F*e+Y,1,f)}for(var F=0;F<P;F++){var N=F-b-1,o=F+b;if(N>=0){Z-=U;O(q,a,N*e+I,N*e+Y,-1,f)}if(o<P){Z+=U;
O(q,a,o*e+I,o*e+Y,1,f)}for(var m=0;m<f;m++){var J=f-1-m,c=f+1+m;S[F*e+u+J]=i(q[f],q[J],a[F*e+u+J],Z,C);
S[F*e+u+c]=i(q[f],q[c],a[F*e+u+c],Z,C)}S[F*e+u+f]=g(q[f],a[F*e+u+f],Z,C)}u+=s-1}}function O(a,S,e,P,b,T){var C=x;
C(a[T-1],S[e-1],0,b);C(a[T-1],S[P-1],0,-b);C(a[T+1],S[P],0,b);C(a[T+1],S[e],0,-b);for(var m=1;m<T;m++){var Z=a[T-m-1],W=a[T+m+1];
for(var s=0;s<=m;s++){C(Z,S[e-1-s],0,b);C(Z,S[P-1-s],0,-b);C(W,S[P+s],0,b);C(W,S[e+s],0,-b)}}l(a[T],S,e,P,b)}function l(a,S,m,e,P){while(m<e)x(a,S[m++],0,P)}function x(a,S,e,P){a[e|S]+=P;
a[e|256|S>>>4]+=P}function t(a,S,e,P,b,T,C){var Z=0,W=new Int32Array(512),s=new Int32Array(1*e),f=new Int32Array(512*e),q=Math.min(b,e),g=Math.min(b,P),i=T[0];
for(var u=0;u<g;u++)h(f,s,a,e,u,1);for(var u=0;u<P;u++){if(u+b<P)h(f,s,a,e,u+b,1);if(u-b-1>=0)h(f,s,a,e,u-b-1,-1);
W.fill(0);Z=0;for(var I=0;I<q;I++){Z+=s[I];V(W,f,I)}for(var I=0;I<e;I++){var Y=I-b-1,U=I+b;if(Y>=0&&s[Y]!=0){Z-=s[Y];
y(W,f,Y)}if(U<e&&s[U]!=0){Z+=s[U];V(W,f,U)}var F=Z==0?0:i(W,a[u*e+I],Z,C);S[u*e+I]=F}}}function h(a,S,e,P,b,T){var m=b*P;
for(var C=0;C<P;C++){x(a,e[m+C],C<<9,T);S[C]+=T}}function V(a,S,e){for(var m=0;m<16;m++){var P=S[e<<9|256|m];
if(P==0)continue;a[256|m]+=P;var b=m<<4,T=e<<9|b;r(a,S,b,T);r(a,S,b+4,T+4);r(a,S,b+8,T+8);r(a,S,b+12,T+12)}}function y(a,S,e){for(var m=0;
m<16;m++){var P=S[e<<9|256|m];if(P==0)continue;a[256|m]-=P;var b=m<<4,T=e<<9|b;E(a,S,b,T);E(a,S,b+4,T+4);
E(a,S,b+8,T+8);E(a,S,b+12,T+12)}}function r(a,S,e,P){a[e]+=S[P];a[e+1]+=S[P+1];a[e+2]+=S[P+2];a[e+3]+=S[P+3]}function E(a,S,e,P){a[e]-=S[P];
a[e+1]-=S[P+1];a[e+2]-=S[P+2];a[e+3]-=S[P+3]}return _}();Q.ke.WM=[function(_,n,O,l){var m=15;while(_[256|m]==0&&m>0)m--;
m=(m<<4)+15;while(_[m]==0&&m>0)m--;return m},function(_,n,O,l,x){var m=15;while(_[256|m]+n[256|m]==0&&m>0)m--;
m=(m<<4)+15;while(_[m]+n[m]==0&&m>0)m--;return m}];Q.ke.f8=[function(_,n,O,l){var m=0;while(_[256|m]==0&&m<15)m++;
m=m<<4;while(_[m]==0&&m<255)m++;return m},function(_,n,O,l,x){var m=0;while(_[256|m]+n[256|m]==0&&m<15)m++;
m=m<<4;while(_[m]+n[m]==0&&m<255)m++;return m}];Q.ke.xt=.5;Q.ke.s0=[function(_,n,O,l){var x=~~(.5+Q.ke.xt*O),t=0,m=256;
while(t+_[m]<x)t+=_[m++];m=m-256<<4;while(t<x)t+=_[m++];return m-1},function(_,n,O,l,x){var t=~~(.5+Q.ke.xt*l),h=0,m=256;
while(h+_[m]+n[m]<t){h+=_[m]+n[m];m++}m=m-256<<4;while(h<t){h+=_[m]+n[m];m++}return m-1}];Q.ke.zL=[function(_,n,O,l){var x=l[0],t=0,h=0,m=Math.max(0,n-x),V=Math.min(256,n+x+1);
while(m<V){var y=_[m];t+=m*y;h+=y;m++}return h==0?0:t/h},function(_,n,O,l,x){var t=x[0],h=0,V=0,m=Math.max(0,O-t),y=Math.min(256,O+t+1);
while(m<y){var r=_[m]+n[m];h+=m*r;V+=r;m++}return V==0?0:h/V}];Q.r={};Q.r.tf=function(_){var n=D.D6.Zz(_.Trnf),O=_.Sz.v,l=Q.r.pI(n,new a8(0,0,O.Wdth.v,O.Hght.v));
return Q.r.tt(l)};Q.r.pI=function(_,n){var O=_[0],l=_[1],x=_[2],t=_[3],h=_[6],V=_[7],y=_[4],r=_[5],E=0,a=0,S=1,e=0,P=0,b=1,T=1,C=1;
if(n){E=n.x;a=n.y;S=n.x+n.a;e=n.y;P=n.x;b=n.y+n.n;T=n.x+n.a;C=n.y+n.n}return Q.r.mX(_,[E,a,S,e,T,C,P,b])};
Q.r.hJ=function(_){function n(x,t){for(var m=0;m<t.length;m+=2)if(!O(x,t[m],t[m+1]))return!1;return!0}function O(x,t,h){return x[2*t]==x[2*h]&&x[2*t+1]==x[2*h+1]}var l=0;
if(n(_,[0,1,2,3]))l+=1;if(n(_,[0,3,1,2]))l+=2;return l};Q.r.mX=function(_,n){function O(X,m,J){var F=X[m*2]-X[J*2],N=X[m*2+1]-X[J*2+1];
return Math.sqrt(F*F+N*N)}var l=_[0],x=_[1],t=_[2],h=_[3],V=_[6],y=_[7],r=_[4],E=_[5],a=n[0],S=n[1],e=n[2],P=n[3],b=n[6],T=n[7],C=n[4],Z=n[5],W=[[a,S,1,0,0,0,-a*l,-S*l,l],[0,0,0,a,S,1,-a*x,-S*x,x],[e,P,1,0,0,0,-e*t,-P*t,t],[0,0,0,e,P,1,-e*h,-P*h,h],[b,T,1,0,0,0,-b*V,-T*V,V],[0,0,0,b,T,1,-b*y,-T*y,y],[C,Z,1,0,0,0,-C*r,-Z*r,r],[0,0,0,C,Z,1,-C*E,-Z*E,E]],s=[0,0,0,0,0,0,0,0],f=Q.ha.Ig(W,s);
if(f!=0){s=[0,0,0,0,0,0,0,0];var q=Q.r.hJ(_),g=Q.r.hJ(n);if(q==g&&q!=0){var i=q==1,u=i?3:1,I=O(_,0,u),Y=O(n,0,u),U=Y/I,F=_[2*u]-_[0],N=_[2*u+1]-_[1],o=new aY;
o.translate(-l,-x);o.rotate(Math.atan2(N,F)-(i?Math.PI/2:0));if(i)o.scale(1,U);else o.scale(U,1);o.translate(a,S);
o.sJ();s=Q.r.Ct(o)}}return s};Q.r.PB=function(_){return Math.abs(_[6])<1e-10&&Math.abs(_[7])<1e-10};
Q.r.tt=function(_){return new aY(_[0],_[3],_[1],_[4],_[2],_[5])};Q.r.Ct=function(_){return[_.EX,_.av,_.Wk,_.k,_.c5,_.d7,0,0]};
Q.r.D=function(_,n){var O=new Float64Array(2);for(var l=0;l<n.length;l+=2){var x=n[l],t=n[l+1];Q.r.hZ(x,t,_,O);
n[l]=O[0];n[l+1]=O[1]}};Q.r.hZ=function(_,n,O,l){var x=1/(O[6]*_+O[7]*n+1);l[0]=(O[0]*_+O[1]*n+O[2])*x;
l[1]=(O[3]*_+O[4]*n+O[5])*x};Q.r.acq=function(_,n){var O=new Float64Array(2);Q.r.hZ(n.x,n.y,_,O);return new aW(O[0],O[1])};
Q.r.Z4=function(_,n,O,l){_=new Uint32Array(_.buffer);n=new Uint32Array(n.buffer);for(var x=0;x<l;x++){for(var t=0;
t<O;t++){n[t*l+x]=_[x*O+t]}}};Q.r.WS=function(_,n,O,l){_=new Uint32Array(_.buffer);n=new Uint32Array(n.buffer);
for(var x=0;x<l;x++){for(var t=0;t<O;t++){n[x*O+t]=_[x*O+O-1-t]}}};Q.r.a7j=function(_,n,O,l){_=new Uint32Array(_.buffer);
n=new Uint32Array(n.buffer);for(var x=0;x<l;x++){for(var t=0;t<O;t++){n[x*O+t]=_[(l-1-x)*O+t]}}};Q.r.Mn=function(_){return Math.abs(_[6])<1e-9&&Math.abs(_[7])<1e-9};
Q.r.vC=function(_){return Math.abs(_[0])<1e-9&&Math.abs(_[4])<1e-9||Math.abs(_[1])<1e-9&&Math.abs(_[3])<1e-9};
Q.r.drawImage=function(_,n,O,l,x,t,h,V,y){if(h==null)h=!1;if(V==null)V=!1;var r=Q.r.sJ(_),E=!0,a=0;for(var m=0;
m<8;m++){var S=Math.round(_[m]);if(m!=2&&m!=5)a+=Math.abs(S);if(Math.abs(S-_[m])>1e-9)E=!1}var e=Q.r.Mn(_),P=Q.r.vC(_)&&e,b=P?1:0;
if(h||E&&a==O+l&&e){Q.r.abG(r,n,O,l,x,t,V,e,y);return}var T=t.a,C=t.n,Z=new Float64Array(2);x=new Uint32Array(x.buffer);
n=new Uint32Array(n.buffer);for(var W=0;W<C;W++)for(var s=0;s<T;s++){var f=W*T+s,q,g,i,u,d=0,k=0,A=0,$=0;
x[f]=0;var I=s+t.x+.5,Y=W+t.y+.5;q=I;g=Y;i=r;var U=i[0]*q+i[1]*g+i[2],F=i[3]*q+i[4]*g+i[5];if(!e){u=1/(i[6]*q+i[7]*g+1);
U*=u;F*=u}var N=U*O,o=F*l,X=N<-1||N>O+1||o<-1||o>l+1;if(V){N=Math.max(.001,Math.min(O-1,N));o=Math.max(.001,Math.min(l-1,o))}else if(X)continue;
var J=Q.r.a1l(_,O,l,I,Y,U,F),c=Math.round(J*2.3);if(J<1.1){Q.r.xx(N,o,n,O,l,x,f,b);continue}if(!V&&(N<.6||N>O-.6||o<.6||o>l-.6)){c=Math.max(c,5)}if(V&&X)c=1;
var p=1/c,K=t.x+s,G=t.y+W;i=r;for(var m=0;m<c;m++)for(var z=0;z<c;z++){q=K+(m+.5)*p;g=G+(z+.5)*p;var N=i[0]*q+i[1]*g+i[2],o=i[3]*q+i[4]*g+i[5];
if(!e){u=1/(i[6]*q+i[7]*g+1);N*=u;o*=u}if(V){N=Math.max(.001,Math.min(.999,N));o=Math.max(.001,Math.min(.999,o))}else if(N<0||N>=1||o<0||o>=1)continue;
N=Math.floor(N*O);o=Math.floor(o*l);var M=o*O+N,hl=n[M],j=hl>>>24;d+=(hl&255)*j;k+=(hl>>>8&255)*j;A+=(hl>>>16&255)*j;
$+=j}if($!=0){var w=1/$;d=~~(d*w+.5);k=~~(k*w+.5);A=~~(A*w+.5);$=~~($*p*p+.5);x[f]=$<<24|A<<16|k<<8|d}}};
Q.r.a1l=function(_,n,O,l,x,t,h){var V=Q.r.ty(_,l,x,t+1/n,h),y=Q.r.ty(_,l,x,t,h+1/O);return 1/Math.sqrt(Math.max(V,y))};
Q.r.ty=function(_,n,O,l,x){var t=1/(_[6]*l+_[7]*x+1),h=(_[0]*l+_[1]*x+_[2])*t-n,V=(_[3]*l+_[4]*x+_[5])*t-O;
return h*h+V*V};Q.r.abG=function(_,n,O,l,x,t,h,V,y){if(V&&!h&&t.O()>4e6&&y){Q.r.anx(_,n,O,l,x,t,h,V,y);
return}var r=t.x+t.a,E=t.y+t.n,a=0,S=new Uint32Array(x.buffer),e=new Uint32Array(n.buffer),P=_[0]*O,b=_[1]*O,T=_[2]*O,C=_[3]*l,Z=_[4]*l,W=_[5]*l,s=_[6],f=_[7];
if(V&&!h)for(var q=t.y+.5;q<E;q++)for(var g=t.x+.5;g<r;g++){var i=P*g+b*q+T,u=C*g+Z*q+W;if(0<i&&i<O&&0<u&&u<l){var I=~~u*O+~~i;
S[a]=e[I]}else S[a]=0;a++}else for(var q=t.y+.5;q<E;q++)for(var g=t.x+.5;g<r;g++){var Y=1/(s*g+f*q+1),i=(P*g+b*q+T)*Y,u=(C*g+Z*q+W)*Y;
if(h){i=Math.max(.001,Math.min(O-1,i));u=Math.max(.001,Math.min(l-1,u))}if(0<i&&i<O&&0<u&&u<l){var I=Math.floor(u)*O+Math.floor(i);
S[a]=e[I]}else S[a]=0;a++}};Q.r.anx=function(_,n,O,l,x,t,h,V,y){var r=new Uint32Array(x.buffer),E=new Uint32Array(n.buffer),f=0;
if(y&&(t.a&3)!=0)throw"e";var a=_[0]*O,S=_[1]*O,e=_[2]*O,P=_[3]*l,b=_[4]*l,T=_[5]*l,C=_[6],Z=_[7],W=t.a,s=t.n,q=t.x+.5,g=t.y+.5,i=(W>>>2<<2)-1e-9,u=-.1+(s>>>1<<1)-1e-9,I=~~O,Y=a==0?0:1/a,U=P==0?0:1/P;
for(var F=0;F<s;F++){var N=q*a+S*(F+g)+e,o=q*P+b*(F+g)+T,X=0,J=W;if(a==0){}else if(Y>0){X=Math.max(X,-N*Y);
J=Math.min(J,(O-N)*Y)}else{J=Math.min(J,-N*Y);X=Math.max(X,(O-N)*Y)}if(P==0){}else if(U>0){X=Math.max(X,-o*U);
J=Math.min(J,(l-o)*U)}else{J=Math.min(J,-o*U);X=Math.max(X,(l-o)*U)}if(J<0)J=0;if(X>J)X=J;X=Math.ceil(X);
J=~~J;f=~~(F*W);for(var c=0;c<X;c++)r[f++]=0;for(var c=X;c<J;c+=4){var p=a*c+N,d=P*c+o,k=~~d*I+~~p;r[f++]=r[f++]=r[f++]=r[f++]=E[k]}for(var c=J;
c<W;c++)r[f++]=0}};Q.r.sJ=function(_){var n=_[4]-_[5]*_[7],O=_[2]*_[7]-_[1],l=_[1]*_[5]-_[2]*_[4],x=_[5]*_[6]-_[3],t=_[0]-_[2]*_[6],h=_[3]*_[2]-_[0]*_[5],V=_[3]*_[7]-_[4]*_[6],y=_[1]*_[6]-_[0]*_[7],r=1/(_[0]*_[4]-_[1]*_[3]);
return[n*r,O*r,l*r,x*r,t*r,h*r,V*r,y*r]};Q.r.kU=function(_,n){var O=_[0],l=_[1],x=_[2],t=_[3],h=_[4],V=_[5],y=_[6],r=_[7],E=n[0],a=n[1],S=n[2],e=n[3],P=n[4],b=n[5],T=n[6],C=n[7],Z=[O*E+l*e+x*T,O*a+l*P+x*C,O*S+l*b+x,t*E+h*e+V*T,t*a+h*P+V*C,t*S+h*b+V,y*E+r*e+T,y*a+r*P+C],W=1/(y*S+r*b+1);
for(var m=0;m<8;m++)Z[m]*=W;return Z};Q.r.xx=function(_,n,O,l,x,t,h,V){var y=_,r=n,S=0,e=0,P=0,b=0;_-=.499999;
n-=.499999;var E=Math.floor(_),a=Math.floor(n);if(V==0){var m=a*l+E,T=E>=0&&E<l,C=E+1>=0&&E+1<l,Z=a>=0&&a<x,W=a+1>=0&&a+1<x;
if(T&&Z)S=O[m];if(C&&Z)e=O[m+1];if(T&&W)P=O[m+l];if(C&&W)b=O[m+l+1]}else if(V==1){var s=E<0?0:E>l-1?l-1:E,f=E<-1?0:E>l-2?l-1:E+1,q=a<0?0:a>x-1?x-1:a,g=a<-1?0:a>x-2?x-1:a+1;
S=O[q*l+s];e=O[q*l+f];P=O[g*l+s];b=O[g*l+f]}else{var s=(E+50*l)%l,f=(E+50*l)%l,q=(a+50*x)%x,g=(a+50*x)%x;
S=O[q*l+s];e=O[q*l+f];P=O[g*l+s];b=O[g*l+f]}var i=_-E,u=n-a,I=(1-u)*(1-i)*(S>>>24),Y=(1-u)*i*(e>>>24),U=u*(1-i)*(P>>>24),F=u*i*(b>>>24),N=I+Y+U+F,o=I*(S&255)+Y*(e&255)+U*(P&255)+F*(b&255),X=I*(S>>>8&255)+Y*(e>>>8&255)+U*(P>>>8&255)+F*(b>>>8&255),J=I*(S>>>16&255)+Y*(e>>>16&255)+U*(P>>>16&255)+F*(b>>>16&255);
if(N==0)t[h]=0;else{var c=1/N;o=~~(o*c+.5);X=~~(X*c+.5);J=~~(J*c+.5);N=~~(N+.5);t[h]=N<<24|J<<16|X<<8|o}};
Q.r.rK=function(_,n,O,l,x,t){var h=_-.499999,V=n-.499999,y=~~h,r=~~V,E=h-y,a=V-r,S=(1-a)*(1-E),e=(1-a)*E,P=a*(1-E),b=a*E,T=r*l+y<<2,C=(r+1)*l+y<<2,Z=S*O[T]+e*O[T+4]+P*O[C]+b*O[C+4],W=S*O[T+1]+e*O[T+5]+P*O[C+1]+b*O[C+5],s=S*O[T+2]+e*O[T+6]+P*O[C+2]+b*O[C+6],f=S*O[T+3]+e*O[T+7]+P*O[C+3]+b*O[C+7];
t[0]=Z;t[1]=W;t[2]=s;t[3]=f};Q.r.dx=function(_,n,O,l,x){_-=.499999;n-=.499999;var t=Math.floor(_),h=Math.floor(n),V=_-t,y=n-h,r=(1-y)*(1-V),E=(1-y)*V,a=y*(1-V),S=y*V,e=(t+50*l)%l,P=(t+1+50*l)%l,b=(h+50*x)%x,T=(h+1+50*x)%x,C=O[b*l+e],Z=O[b*l+P],W=O[T*l+e],s=O[T*l+P];
if(C==null||s==null)throw"e";return r*C+E*Z+a*W+S*s};Q.r.akE=function(_,n,O,l,x){_-=.499999;n-=.499999;
var t=Math.floor(_),h=Math.floor(n),V=_-t,y=n-h,r=(1-y)*(1-V),E=(1-y)*V,a=y*(1-V),S=y*V,e=h*l+t,P=e+l,b=O[e],T=O[e+1],C=O[P],Z=O[P+1];
if(b==null||Z==null){console.log(t,h,l,x);throw"e"}return r*b+E*T+a*C+S*Z};Q.r.x8=function(_,n,O,l,x,t,h,V,y,r,E,a){var S=new Uint32Array(_.buffer),e=new Uint32Array(l.buffer),P=(1+2*r)/x,b=[],T=[];
for(var C=0;C<x;C++){var Z=-.25+r-C*P;b.push(Math.cos(2*Math.PI*Z)*a/E);b.push(Math.sin(2*Math.PI*Z)/E)}h*=n;
V*=O;for(var W=0;W<t;W++){var s=Math.pow(W/t,y)*t;for(var C=0;C<x;C++){var f=h+b[C<<1]*s,q=V+b[(C<<1)+1]*s,g=~~(.5+(f<0?0:f>n-1?n-1:f)),i=~~(.5+(q<0?0:q>O-1?O-1:q));
e[W*x+C]=S[i*n+g]}}};Q.r.yr=function(_,n,O,l,x,t,h,V,y,r,E,a){var S=new Uint32Array(_.buffer),e=new Uint32Array(l.buffer),P=1/a,b=[],T=O*4,C=1/T;
for(var Z=0;Z<T+10;Z++)b.push(Math.pow(Z*C,1/y)*O*E);h*=x;V*=t;for(var Z=0;Z<t;Z++)for(var W=0;W<x;W++){var s=P*(W-h),f=Z-V,q=1.75-Math.atan2(f,s)*(1/(2*Math.PI));
q=q-~~q;q=(q+r)*(1/(1+2*r));var g=Math.sqrt(s*s+f*f);g=b[~~(g*4)];Q.r.xx(q*n+.5,g+.5,S,n,O,e,Z*x+W,1)}};
Q.r.Ia=function(_,n,O,l,x){var t=x[0],h=x[1];for(var V=0;V<h;V++)for(var y=0;y<t;y++){var r=x[2]*y+x[3]*V+x[4],E=x[5]*y+x[6]*V+x[7],a=V*t+y<<2,S=E*n+r<<2;
l[a]=_[S+0];l[a+1]=_[S+1];l[a+2]=_[S+2];l[a+3]=_[S+3]}};Q.N={bu:function(_,n){var O=~~(.499+_*n);return O<0?0:O>n?n:O},adf:function(_,n,O,l,x,t,h,V){var y=O[0],r=O[1],E=O[2],a=O[3],S=l.a,e=l.n,P=new Float64Array(S*4+8),b=new Float64Array(S*4+8);
for(var T=0,m=0;T<e;T++){var C=P;P=b;b=C;b.fill(0);for(var Z=0;Z<S;Z++,m++){var W=Z+x,s=T+t,f=y*W+r*s,q=E*W+a*s,g=0,I=0;
if(V==0)g=f+.5;else if(V==1)g=2*Math.sqrt(f*f+q*q);else if(V==2)g=(Math.PI+Math.atan2(-q,-f))/(2*Math.PI);
else if(V==3)g=Math.abs(f*2);else if(V==4)g=2*(Math.abs(f)+Math.abs(q));var i=Q.N.bu(g,h)*4,u=Z*4;for(var Y=0;
Y<4;Y++){var U=Math.max(0,Math.min(254.999,n[i+Y]+P[u+4+Y])),F=Math.floor(U);if(Math.random()<U-F)F++;
var N=U-F;P[u+8+Y]=N*(7/16);b[u+0+Y]=N*(3/16);b[u+4+Y]=N*(5/16);b[u+8+Y]=N*(1/16);I|=F<<Y*8}_[m]=I}}},Fy:[function(_,n,O,l,x,t,h){var V=O[0],y=O[1],r=O[2],E=O[3],a=l.a,S=l.n;
for(var e=0,m=0;e<S;e++)for(var P=0;P<a;P++,m++){var b=P+x,T=e+t,C=V*b+y*T,Z=r*b+E*T,W=C+.5;_[m]=n[Q.N.bu(W,h)]}},function(_,n,O,l,x,t,h){var V=O[0],y=O[1],r=O[2],E=O[3],a=l.a,S=l.n;
for(var e=0,m=0;e<S;e++)for(var P=0;P<a;P++,m++){var b=P+x,T=e+t,C=V*b+y*T,Z=r*b+E*T,W=2*Math.sqrt(C*C+Z*Z);
_[m]=n[Q.N.bu(W,h)]}},function(_,n,O,l,x,t,h){var V=O[0],y=O[1],r=O[2],E=O[3],a=l.a,S=l.n;for(var e=0,m=0;
e<S;e++)for(var P=0;P<a;P++,m++){var b=P+x,T=e+t,C=V*b+y*T,Z=r*b+E*T,W=(Math.PI+Math.atan2(-Z,-C))/(2*Math.PI);
_[m]=n[Q.N.bu(W,h)]}},function(_,n,O,l,x,t,h){var V=O[0],y=O[1],r=O[2],E=O[3],a=l.a,S=l.n;for(var e=0,m=0;
e<S;e++)for(var P=0;P<a;P++,m++){var b=P+x,T=e+t,C=V*b+y*T,Z=r*b+E*T,W=Math.abs(C*2);_[m]=n[Q.N.bu(W,h)]}},function(_,n,O,l,x,t,h){var V=O[0],y=O[1],r=O[2],E=O[3],a=l.a,S=l.n;
for(var e=0,m=0;e<S;e++)for(var P=0;P<a;P++,m++){var b=P+x,T=e+t,C=V*b+y*T,Z=r*b+E*T,W=2*(Math.abs(C)+Math.abs(Z));
_[m]=n[Q.N.bu(W,h)]}}]};Q.N.ab8=function(_,n){return _+.5};Q.N.ar$=function(_,n){return 2*Math.sqrt(_*_+n*n)};
Q.N.amN=function(_,n){return(Math.PI+Math.atan2(-n,-_))/(2*Math.PI)};Q.N.amP=function(_,n){return Math.abs(_*2)};
Q.N.adi=function(_,n){return 2*(Math.abs(_)+Math.abs(n))};Q.N._o=function(_,n,O,l,x,t,h,V,y,r,E,a){var S=_.Clrs,e=new Uint32Array(n.buffer),P=1023,b=S?Q.N.cl(_,y,r):null;
if(a&&S){var T=Q.N.aec(_,b,P+1,h);Q.N.adf(e,T,l,O,O.x-x,O.y-t,P,V)}else{var C=S?Q.N.s3(_,b,P+1,h):Q.N.vJ(_,P+1,h);
if(V<5){Q.N.Fy[V](e,C,l,O,O.x-x,O.y-t,P)}else{var Z=new Uint8Array(C.buffer),W=O.a,s=O.n,f=E.$D-E.dM,q=1/f,g=E.qR.a-O.a>>1,i=E.qR.n-O.n>>1,u=E.qR.a,I=-.6*q,Y=(-.6+.4)*q,U=(-.6+2*.4)*q,F=(-.6+3*.4)*q;
for(var N=0,m=0;N<s;N++)for(var o=0;o<W;o++,m+=4){var X=0,J=0,c=0,p=0,d=(N+i)*u+o+g,k=(E.$H[d]-E.dM)*q,A=0;
if(k<=0||k>=1){A=(k<=0?0:P)<<2;n[m]=Z[A];n[m+1]=Z[A+1];n[m+2]=Z[A+2];n[m+3]=Z[A+3];continue}A=Math.max(0,Math.min(P-1,Math.round((k+I)*P)))<<2;
J+=Z[A];c+=Z[A+1];p+=Z[A+2];X+=Z[A+3];A=Math.max(0,Math.min(P-1,Math.round((k+Y)*P)))<<2;J+=Z[A];c+=Z[A+1];
p+=Z[A+2];X+=Z[A+3];A=Math.max(0,Math.min(P-1,Math.round((k+U)*P)))<<2;J+=Z[A];c+=Z[A+1];p+=Z[A+2];X+=Z[A+3];
A=Math.max(0,Math.min(P-1,Math.round((k+F)*P)))<<2;J+=Z[A];c+=Z[A+1];p+=Z[A+2];X+=Z[A+3];n[m]=J>>>2;
n[m+1]=c>>>2;n[m+2]=p>>>2;n[m+3]=X>>>2}}}};Q.N.cl=function(_,n,O){var l=[_.Clrs.v,_.Trns.v],x=[[],[]],t=255;
for(var h=0;h<2;h++)for(var m=0;m<l[h].length;m++){var V,y=l[h][m].v;if(h==0){var r=y.Type.v.Clry;if(r=="FrgC")V={o:n>>16&255,J:n>>8&255,k:n&255};
else if(r=="BckC")V={o:O>>16&255,J:O>>8&255,k:O&255};else V=Q.N.JU(y.Clr.v)}else{V=y.Opct.v.val*(255/100);
if(V<t)t=V}x[h].push([V,y.Lctn.v/4096,y.Mdpn.v/100])}x.push(t>254);return x};Q.N.JU=function(_){var n,O=_.classID;
if(O=="RGBC"){if(_.Rd)n={o:_.Rd.v,J:_.Grn.v,k:_.Bl.v};else n={o:_.redFloat.v*255,J:_.greenFloat.v*255,k:_.blueFloat.v*255}}else if(O=="HSBC"){n=Q.ax(_.H.v.val/360,_.Strt.v/100,_.Brgh.v/100);
n.o*=255;n.J*=255;n.k*=255}else if(O=="CMYC"){var l=100-_.Cyn.v,x=100-_.Mgnt.v,t=100-_.Ylw.v,h=100-_.Blck.v,V=255*l*h*1e-4,y=255*(.2*l+.8*x)*h*1e-4,r=255*(.2*x+.8*t)*h*1e-4;
n={o:V,J:y,k:r}}else if(O=="Grsc")n={o:255-_.Gry.v,J:255-_.Gry.v,k:255-_.Gry.v};else if(O=="LbCl"){n=Q.da(_.Lmnc.v,_.A.v,_.B.v)}else if(O=="BkCl")n={o:0,J:0,k:0};
else console.log(_);if(isNaN(n.o))n.o=n.J=n.k=0;return n};Q.N.vJ=function(_,n,O){var l=new Uint32Array(n),x=new Uint8Array(l.buffer);
l.fill(4278190080);var t=[],h=[],V=_.RndS.v,y=_.Smth.v/4096;for(var m=0;m<4;m++){t[m]=~~(_.Mnm.v[m].v*255/100);
h[m]=~~(_.Mxm.v[m].v*255/100)}var r=Q.Q(n*4),E=Q.Q(n);for(var a=0;a<3;a++){Q._.p0(null,n,1,r,[1+Math.round(y*y*y*60),22,V*(2+a)]);
Q.nV(r,E,0);Q.$c(E,x,a);var S=t[a],e=h[a];for(var m=0;m<n;m++)x[4*m+a]=Math.max(S,Math.min(e,x[4*m+a]))}if(O)for(var m=0;
m<n/2;m++){var P=l[m];l[m]=l[n-1-m];l[n-1-m]=P}return l};Q.N.YS=function(_){return{classID:"RGBC",Rd:{t:"doub",v:_.o},Grn:{t:"doub",v:_.J},Bl:{t:"doub",v:_.k}}};
Q.N.aec=function(_,n,O,l){var x=[],t=1/(O-0);for(var m=0;m<O;m++){var h=m*4,V=Q.N.rl(_,n,(l?O-1-m:m)*t);
x[h]=V[0];x[h+1]=V[1];x[h+2]=V[2];x[h+3]=V[3]}return x};Q.N.s3=function(_,n,O,l){var x=new Uint32Array(O),t=1/(O-0);
for(var m=0;m<O;m++)x[m]=Q.N.YE(_,n,(l?O-1-m:m)*t);return x};Q.N.rl=function(_,n,O){var l=_.Intr.v*(1/4096),x=n[0],t=n[1],h=x.length-1,V=t.length-1,m=-1,y=0,r=0,E=0,a=0;
if(n[2])y=255;else{while(m<V&&t[m+1][1]<=O)m++;if(m==-1){y=t[0][0]}else if(m==V){y=t[m][0]}else{var S=Q.N.wU(t,m,O,l);
y=S*t[m][0]+(1-S)*t[m+1][0]}}m=-1;while(m<h&&x[m+1][1]<=O)m++;if(m==-1){var e=x[0][0];r=e.o;E=e.J;a=e.k}else if(m==h){var e=x[m][0];
r=e.o;E=e.J;a=e.k}else{var P=x[m][0],b=x[m+1][0],T=Q.N.wU(x,m,O,l);r=T*P.o+(1-T)*b.o;E=T*P.J+(1-T)*b.J;
a=T*P.k+(1-T)*b.k}return[r,E,a,y]};Q.N.YE=function(_,n,O){var l=Q.N.rl(_,n,O),x=~~(.5+l[0]),t=~~(.5+l[1]),h=~~(.5+l[2]),V=~~(.5+l[3]);
return V<<24|h<<16|t<<8|x};Q.N.wU=function(_,m,n,O){if(_.length==2)O*=.5;var l=_[m][1],x=_[m+1][1],t=l+_[m+1][2]*(x-l),h;
if(n<t)h=.5*(n-l)/(t-l);else h=.5+.5*(n-t)/(x-t);h=.5+.5*(O*Math.cos(Math.PI*h)+(1-O)*(1-2*h));return h};
Q.N.Q8=function(_,n){var O=Math.PI*_.Angl.v.val/180,l=_.Scl.v.val/100,x=_.Ofst.v,t=x.Hrzn.v.val/100,h=x.Vrtc.v.val/100,V=Math.cos(O),y=-Math.sin(O),r=.5*n.n,E=r*(V/y),a=Math.sqrt(r*r+E*E),S=.5*n.a,e=S*(y/V),P=Math.sqrt(S*S+e*e),b=Math.min(a,P)*l,T=n.x+n.a/2+t*n.a,C=n.y+n.n/2+h*n.n;
return[new aW(T,C),new aW(T+V*b,C+y*b)]};Q.N.u0=function(_,n,O,l){var x=n.x-_.x,t=-(n.y-_.y),h=Math.sqrt(x*x+t*t),V=Math.atan2(t,x),y=Math.cos(V),r=-Math.sin(V),E=.5*O.n,a=E*(y/r),S=Math.sqrt(E*E+a*a),e=.5*O.a,P=e*(r/y),b=Math.sqrt(e*e+P*P),T=h/Math.min(S,b),C=(_.x-O.x-O.a/2)/O.a,Z=(_.y-O.y-O.n/2)/O.n;
l.Angl.v.val=180*V/Math.PI;l.Scl.v.val=T*100;var W=l.Ofst.v;W.Hrzn.v.val=C*100;W.Vrtc.v.val=Z*100};Q.N.bi=function(_,n){for(var m=0;
m<_.length;m++){var O=_[m],l=Math.round(O[0]*4096),x=O[1],t=O[2],h=O[3];if(t==null)t=1;if(h==null)h=.5;
var V=Q.N.YS({o:x[0]*255,J:x[1]*255,k:x[2]*255});n.Clrs.v[m]={t:"Objc",v:{classID:"Clrt",Lctn:{t:"long",v:l},Mdpn:{t:"long",v:Math.round(h*100)},Clr:{t:"Objc",v:V},Type:{t:"enum",v:{Clry:"UsrS"}}}};
n.Trns.v[m]={t:"Objc",v:{classID:"TrnS",Lctn:{t:"long",v:l},Mdpn:{t:"long",v:Math.round(h*100)},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(t*100)}}}}}};
Q.N._z=function(_,n,O){function l(e){return parseFloat((e/255).toFixed(3))}if(n){_=JSON.parse(JSON.stringify(_));
for(var m=0;m<2;m++){var x=_[m==0?"Clrs":"Trns"].v;for(var t=0;t<x.length;t++)x[t].v.Lctn.v=4096-x[t].v.Lctn.v;
x.reverse()}}var h=[],V=_.Clrs.v,y=_.Trns.v,x=V;if(O!=!0)x=V.concat(y);var r=Q.N.cl(_,0,0);for(var m=0;
m<x.length;m++){var E=x[m].v,a=E.Lctn.v/4096,S=Q.N.rl(_,r,a);h.push([a,[l(S[0]),l(S[1]),l(S[2])],l(S[3])])}h.sort(function(e,P){return e[0]-P[0]});
for(var m=1;m<h.length;m++)if(h[m][0]-h[m-1][0]<.001){h.splice(m,1);m--}return h};Q.Xb={};Q.Xb.DL=function(_,n,O,l,x,t,h,V,y,r,E,a){var S,e,P,b=Date.now(),T=!1,C=h,Z=r,W,s,f,q,g=t*255,i=255-y*255,u=1+x*6,I=1+V*6,Y=1+a*4,U=(Y-1)/7,F=0,N=255-0,o,X,J,c,p,d,k,A,$,K,G,z,M,hl=0,j=1,w,B,bB,bG,eb,fe,gB,hp,g6,by,e7=1+E,aN,jK=Q.Q(O*l),f7=Q.Q(O*l),hW=Q.Q(O*l),km=Q.Q(O*l),ca=255/g,aU=255/(255-i);
for(e=0;e<l;e++){for(S=0;S<O;S++){var m=e*O+S,eJ=m<<2;w=Q.ls(_[eJ],_[eJ+1],_[eJ+2]);km[m]=w;if(w<g)jK[m]=255-w*ca;
if(w>i)f7[m]=255-(255-w)*aU}}if(T)console.log("init",Date.now()-b);b=Date.now();if(x*C>0){hW.set(jK);
Q.OX.xk(hW,jK,new a8(0,0,O,l),C)}if(V*Z>0){hW.set(f7);Q.OX.xk(hW,f7,new a8(0,0,O,l),Z)}if(T)console.log("blur",Date.now()-b);
b=Date.now();var am=Q.Q(256),eA=Q.Q(256);for(var m=0;m<256;m++){var dj=m*(1/255),cM=0;cM=(1-Math.pow(1-dj,u))*255;
am[m]=Math.max(0,Math.min(255,~~(cM+.5)));cM=Math.pow(dj,I)*255;eA[m]=Math.max(0,Math.min(255,~~(cM+.5)))}var b2=new Uint8ClampedArray(n.buffer),az=new Float32Array(32768);
for(var m=0;m<32768;m++){aN=Math.sqrt(m)*(1/128);if(e7>1)aN=(1-aN)*(e7-1)+1;else aN=aN*(e7-1)+1;az[m]=aN}for(e=0;
e<l;e++){for(S=0;S<O;S++){var m=e*O+S,eJ=m<<2,cM=km[m],j_=jK[m]*(1/255),hh=f7[m]*(1/255);cM=(1-j_)*cM+j_*am[~~cM];
cM=(1-hh)*cM+hh*eA[~~cM];w=cM;var gs=_[eJ],fI=_[eJ+1],c0=_[eJ+2];B=-gs*.168736-fI*.331264+c0*.5;bB=gs*.5-fI*.418688-c0*.081312;
aN=az[~~(.5+B*B+bB*bB)];bG=B*aN;fe=bB*aN;j=1-Math.min(2-(j_+hh),1);B=j*B+(1-j)*bG;bB=j*bB+(1-j)*fe;hp=w+1.402*bB;
g6=w-.34414*B-.71414*bB;by=w+1.772*B;b2[eJ]=~~(.5+hp);b2[eJ+1]=~~(.5+g6);b2[eJ+2]=~~(.5+by)}}if(T)console.log("apply masks",Date.now()-b);
b=Date.now()};Q.o9={};Q.o9.xj=function(_,n,O,l,x){var t=!1,P=1,X=0,J=0,G=0,e7=0;if(!n.rz(x)){var h=n.uG(x),V=Q.Q(h.O()*4);
Q.zw(_,n,V,h);_=V;n=h}var y=Q.Q(n.O());Q.pc(O,x,y,n);Q.round(y);x=x.v6(n);var r=x.a,E=x.n,a=r*3<E?2:1,S=E*3<r?2:1;
if(x.O()*(a*2+1)*(S*2+1)<n.O()){var h=new a8(x.x-r*a,x.y-E*a,r*(a*2+1),E*(S*2+1)).v6(n),V=Q.Q(h.O()*4);
Q.zw(_,n,V,h);var e=Q.Q(h.O());Q.pc(y,n,e,h);n=h;_=V;y=e}while((n.a+n.n)/2/P>400)P++;var b=_,T=n,C=y,Z=Math.floor(T.a/P),W=Math.floor(T.n/P);
_=Q.Q(Z*W*4);Q.scale.at(b,T.a,T.n,_,Z,W,1/P);y=Q.Q(Z*W);Q.scale.Ia(C,T.a,T.n,y,Z,W,1/P);Q.round(y,1);
var s=Q.pF(y,new a8(0,0,Z,W));if(s.wk())return 1;var g=Math.round((s.a+s.n)/2/15),i=Date.now(),u=Q.Q(Z*W*4);
Q.asG(_,u);var I=Int16Array,Y=new I(Z*W*24),U=new I(64),F=new I(64),N=new I(64),o=new I(64);for(var c=3;
c<W-4;c++)for(var p=3;p<Z-4;p++){var d=c*Z+p;if(y[d]==255)continue;if(Q.o9.a8G(u,y,p,c,Z,W,U,F,N)!=0)continue;
Q.o9.Jf(U,o);Y[X]=p;Y[X+1]=c;Q.o9.Jt(U,Y,X+4,12);X+=16;Q.o9.Jf(F,o);Q.o9.Jt(F,Y,X,4);X+=4;Q.o9.Jf(N,o);
Q.o9.Jt(N,Y,X,4);X+=4;var k=Y[X-24+5],A=Y[X-24+6];Y[X-24+5]=Y[X-24+20];Y[X-24+6]=Y[X-24+16];Y[X-24+16]=k;
Y[X-24+20]=A;J++}if(J==0)return 2;if(t)console.log(Date.now()-i,"FWHT computed");i=Date.now();var $=[];
Q.o9.Lh(0,J-1,$,Y,new I(2*24));if(t)console.log(Date.now()-i,"KD tree computed");i=Date.now();var K=new Float32Array(Z*W*4);
for(var m=0;m<J;m++){var z=m,M=Q.o9.awi(z,Y,$,g);if(M==-1)continue;var hl=z*24,j=M*24,w=Y[hl],B=Y[hl+1],bB=Y[j],bG=Y[j+1];
G+=Q.o9.getError(j,hl,Y,1e99);var eb=bB-w,fe=bG-B;K[(W+fe)*2*Z+(Z+eb)]+=1}if(t)console.log(Date.now()-i,"NN found");
i=Date.now();var gB=[],hp=1/(2*Z);for(var m=0;m<K.length;m++){if(K[m]>0){var c=Math.floor(m*hp),p=m-c*2*Z;
gB.push({x:p-Z,y:c-W,h:K[m],sH:-1})}}gB.sort(function(j_,hh){return hh.h-j_.h});var g6=new Int32Array(Z*W),by=[];
for(var m=0;m<Z*W;m++){if(y[m]==255){g6[m]=e7;by.push(m%Z,Math.floor(m/Z));e7++}else if(_[(m<<2)+3]<200){g6[m]=-2}else{g6[m]=-1}}var aN=Q.o9.ata(Z,W,gB,g6,by,e7);
if(aN==null){return 3}var jK=aN.Fx,top=aN.top;jK=Q.o9.aao(jK,_,Z,W,top,g6,by,e7);if(t)console.log(Date.now()-i,"optimal labeling found");
i=Date.now();var h=x.clone();h.nQ(1,1);h=h.v6(T);var f7=Q.Q(h.O()*4),hW=Q.Q(h.O());Q.zw(b,T,f7,h);var km=T.a,ca=T.n;
for(var c=0;c<ca;c++)for(var p=0;p<km;p++){if(C[c*km+p]==0)continue;var aU=Math.min(Math.floor(p/P),Z-1),eJ=Math.min(Math.floor(c/P),W-1),am=g6[eJ*Z+aU];
if(am==-1)continue;var eA=jK[am],dj=top[eA],cM=p+dj.x*P,b2=c+dj.y*P,cm=b2*km+cM<<2,az=(c-h.y+T.y)*h.a+(p-h.x+T.x)<<2;
f7[az]=b[cm];f7[az+1]=b[cm+1];f7[az+2]=b[cm+2];f7[az+3]=b[cm+3];f7[az+3]=b[cm+3];hW[az>>2]=eA+1}if(t)console.log(Date.now()-i,"copied back");
i=Date.now();Q.KL.xj(f7,hW,h,null,1e3);if(t)console.log(Date.now()-i,"poisson smooth");i=Date.now();
Q.zw(f7,h,l,x);return 0};Q.o9.jo=function(_,n,O,l,x,t){return Q.o9.Yz(_+x.x,n+x.y,O,l)&&t[(n+x.y)*O+(_+x.x)]==-1?0:1e9};
Q.o9.aao=function(_,n,O,l,top,x,t,h){var V=Date.now(),y=[-1,0,0,-1,1,0,0,1],r=1e99,E=[],a=[],S=2*(h*2*3+h*2),e=null,P=0,b=0,T=0,C=1e99;
while(!0&&Date.now()<V+12e3){T++;var Z=null,W=r;for(var s=0;s<top.length;s++){var f=top[s],q=0,g=h+2,i=0;
for(var m=0;m<h;m++){var u=t[m*2],I=t[m*2+1],Y=top[_[m]],U=Q.o9.jo(u,I,O,l,f,x),F=_[m]==s?1e9:Q.o9.jo(u,I,O,l,Y,x);
for(var ab=0;ab<4;ab++){if(ab==0&&u==0||ab==1&&I==0||ab==2&&u==O-1||ab==3&&I==l-1)continue;var N=y[2*ab],o=y[2*ab+1],X=u+N,J=I+o,c=x[J*O+X];
if(c==-2){}else if(c==-1){U+=3*Q.o9.lR(X+f.x,J+f.y,X,J,O,l,n,x);U+=2*Q.o9.lR(X+f.x+N,J+f.y+o,X+N,J+o,O,l,n,x);
F+=3*Q.o9.lR(X+Y.x,J+Y.y,X,J,O,l,n,x);F+=2*Q.o9.lR(X+Y.x+N,J+Y.y+o,X+N,J+o,O,l,n,x)}else if(ab>1){if(_[m]==_[c]){var p=0;
p+=Q.o9.lR(u+Y.x,I+Y.y,u+f.x,I+f.y,O,l,n,x);p+=Q.o9.lR(X+Y.x,J+Y.y,X+f.x,J+f.y,O,l,n,x);E[q]=m;E[q+1]=c;
a[q]=p;a[q+1]=p;q+=2}else{var d=top[_[c]],k=g,A=0,$=0,K=0;g++;A+=Q.o9.lR(u+Y.x,I+Y.y,u+f.x,I+f.y,O,l,n,x);
A+=Q.o9.lR(X+Y.x,J+Y.y,X+f.x,J+f.y,O,l,n,x);$+=Q.o9.lR(u+d.x,I+d.y,u+f.x,I+f.y,O,l,n,x);$+=Q.o9.lR(X+d.x,J+d.y,X+f.x,J+f.y,O,l,n,x);
K+=Q.o9.lR(u+d.x,I+d.y,u+Y.x,I+Y.y,O,l,n,x);K+=Q.o9.lR(X+d.x,J+d.y,X+Y.x,J+Y.y,O,l,n,x);E[q]=m;E[q+1]=k;
a[q]=A;a[q+1]=A;q+=2;E[q]=c;E[q+1]=k;a[q]=$;a[q+1]=$;q+=2;E[q]=k;E[q+1]=h+1;a[q]=K;a[q+1]=0;q+=2}}}E[q]=h;
E[q+1]=m;a[q]=U;a[q+1]=0;q+=2;E[q]=m;E[q+1]=h+1;a[q]=F;a[q+1]=0;q+=2;i+=Math.min(U,F)}if(i>W)continue;
var G=Q.Nq.Ig(g,q,h,h+1,E,a,W);if(G.d2<W){W=G.d2;var z=_.slice(0);Q.o9.axg(z,q,E,G.I5,s,h);Z=z}}if(W*1>=r){break}r=W;
_=Z;if((T&3)==0){if(W*1.03>=C)break;C=W}if((T&3)==0){var M=0*top.length;for(var m=0;m<top.length&&top.length>M;
m++){if(_.indexOf(m)!=-1)continue;top.splice(m,1);for(var c=0;c<_.length;c++)if(_[c]>m)_[c]--;m--}}}return _};
Q.o9.axg=function(_,n,O,l,x,t){for(var m=0;m<l.length;m++){var h=l[m]<<1,V=0,y=0;if(h<n){V=O[h];y=O[h+1]}else{y=O[h];
V=O[h+1]}if(V==t&&_[y]!=x)_[y]=x}};Q.o9.Am=function(top,_,n,O,l,x,t,h,V){for(var m=0;m<n.length;m++){var y=n[m],r=!0;
if(h!=null&&!(Q.o9.Yz(h+y.x,V+y.y,x,t)&&O[x*(V+y.y)+h+y.x]==-1))continue;if(y.sH==-1)y.sH=Q.o9.ahn(y,O,l,x,t);
if(y.sH<=0)continue;for(var E=0;E<top.length;E++){var a=top[E],S=y.x-a.x,e=y.y-a.y;if(S*S+e*e<_){r=!1;
break}}if(r)return y}return null};Q.o9.ahn=function(_,n,O,l,x){var t=0;for(var m=0;m<O.length;m+=2){var h=O[m]+_.x,V=O[m+1]+_.y;
if(Q.o9.Yz(h,V,l,x)&&n[l*V+h]==-1)t++}return t/(O.length>>1)};Q.o9.ata=function(_,n,O,l,x,t){var top=[];
for(var m=0;m<60;m++){var h=Q.o9.Am(top,25,O,l,x,_,n);if(h==null)break;else top.push(h)}if(top.length==0)return null;
var V=[];for(var m=0;m<t;m++){var y=x[m*2],r=x[m*2+1],E=-1,a=0;while(!0){a++;var S=Math.random();E=Math.floor(S*.99999*top.length);
var e=top[E],P=y+e.x,b=r+e.y;if(Q.o9.Yz(P,b,_,n)&&l[b*_+P]==-1)break;if(a>100){var h;h=Q.o9.Am(top,0,O,l,x,_,n,y,r);
if(h==null)return null;top.push(h);a=0}}V.push(E)}return{top:top,Fx:V}};Q.o9.lR=function(_,n,O,l,x,t,h,V){if(_==O&&n==l)return 0;
if(_<0||n<0||_>=x||n>=t||O<0||l<0||O>=x||l>=t||V[n*x+_]!=-1||V[l*x+O]!=-1)return 1e7;var y=n*x+_<<2,r=l*x+O<<2,E=h[y]-h[r],a=h[y+1]-h[r+1],S=h[y+2]-h[r+2];
return 1+(E*E+a*a+S*S)};Q.o9.Yz=function(_,n,O,l){return _>=0&&_<O&&n>=0&&n<l};Q.o9.awi=function(_,n,O,l){var x=24*_,t=n[x],h=n[x+1],V=l*l,y=0,S=1e9;
while(O[y]!=99)if(n[x+O[y]]<O[y+1])y=O[y+2];else y=O[y+3];var r=O[y+1],E=O[y+2],a=-1;for(var m=r;m<=E;
m++){var y=m,e=y*24,P=n[e],b=n[e+1];if((P-t)*(P-t)+(b-h)*(b-h)<V)continue;var T=Q.o9.getError(e,x,n,S);
if(T<S){S=T;a=y}}return a};Q.o9.getError=function(_,n,O,l){var x=0;for(var t=4;t<24;t+=4){var h=O[n+t]-O[_+t],V=O[n+t+1]-O[_+t+1],y=O[n+t+2]-O[_+t+2],r=O[n+t+3]-O[_+t+3];
x+=h*h+V*V+y*y+r*r;if(x>=l)return x+1}return x};Q.o9.Lh=function(_,n,O,l,x){var t=16,S=0;if(n-_<=t){O.push(99,_,n);
return}Q.o9.Vx(_,n,l,x);var h=-1,V=-1;for(var m=4;m<24;m++){var y=x[2*m+1]-x[2*m];if(y>V){V=y;h=m}}var r=_+n>>1,E=Q.o9.a8X(r,_,n,l,h),a=-1;
for(var m=_;m<=n;m++)if(l[24*m+h]==E){if(a==-1)a=m;S=m}if(_+8<a&&a-_>n-S)r=a;else if(S+1<n-8)r=S+1;else if(n-_<64){O.push(99,_,n);
return}else r=r;var e=O.length;O.push(h,E,0,0);O[e+2]=e+4;Q.o9.Lh(_,r-1,O,l,x);O[e+3]=O.length;Q.o9.Lh(r,n,O,l,x)};
Q.o9.Vx=function(_,n,O,l){for(var m=0;m<48;m+=4){l[m]=3e4;l[m+1]=-3e4;l[m+2]=3e4;l[m+3]=-3e4}for(var m=_;
m<=n;m++){var x=m*24;for(var t=0;t<24;t++){var h=O[x+t],V=l[t<<1],y=l[(t<<1)+1];if(h<V)l[t<<1]=h;if(h>y)l[(t<<1)+1]=h}}};
Q.o9.Ds=function(_,n,O){var l=0,m=0;l=O[_+m];O[_+m]=O[n+m];O[n+m]=l;m++;l=O[_+m];O[_+m]=O[n+m];O[n+m]=l;
m++;l=O[_+m];O[_+m]=O[n+m];O[n+m]=l;m++;l=O[_+m];O[_+m]=O[n+m];O[n+m]=l;m++;l=O[_+m];O[_+m]=O[n+m];O[n+m]=l;
m++;l=O[_+m];O[_+m]=O[n+m];O[n+m]=l;m++;l=O[_+m];O[_+m]=O[n+m];O[n+m]=l;m++;l=O[_+m];O[_+m]=O[n+m];O[n+m]=l;
m++;l=O[_+m];O[_+m]=O[n+m];O[n+m]=l;m++;l=O[_+m];O[_+m]=O[n+m];O[n+m]=l;m++;l=O[_+m];O[_+m]=O[n+m];O[n+m]=l;
m++;l=O[_+m];O[_+m]=O[n+m];O[n+m]=l;m++;l=O[_+m];O[_+m]=O[n+m];O[n+m]=l;m++;l=O[_+m];O[_+m]=O[n+m];O[n+m]=l;
m++;l=O[_+m];O[_+m]=O[n+m];O[n+m]=l;m++;l=O[_+m];O[_+m]=O[n+m];O[n+m]=l;m++;l=O[_+m];O[_+m]=O[n+m];O[n+m]=l;
m++;l=O[_+m];O[_+m]=O[n+m];O[n+m]=l;m++;l=O[_+m];O[_+m]=O[n+m];O[n+m]=l;m++;l=O[_+m];O[_+m]=O[n+m];O[n+m]=l;
m++;l=O[_+m];O[_+m]=O[n+m];O[n+m]=l;m++;l=O[_+m];O[_+m]=O[n+m];O[n+m]=l;m++;l=O[_+m];O[_+m]=O[n+m];O[n+m]=l;
m++;l=O[_+m];O[_+m]=O[n+m];O[n+m]=l;m++};Q.o9.lk=function(_,n,O,l){var x=O+l>>>1,t=_[24*x+n];while(O<=l){while(_[24*O+n]<t)O++;
while(_[24*l+n]>t)l--;if(O<=l){if(_[24*O+n]!=_[24*l+n])Q.o9.Ds(O*24,l*24,_);O++;l--}}return O};Q.o9.a8X=function(_,n,O,l,x){var t=0;
while(n!=O){t=Q.o9.lk(l,x,n,O);if(_<t)O=t-1;else n=t}return l[_*24+x]};Q.o9.Jt=function(_,n,O,l){for(var m=0;
m<l;m++)n[O+m]=_[m]};Q.o9.a8G=function(_,n,O,l,x,t,h,V,y){var r=(l-3)*x+(O-3),E=r<<2;for(var a=0;a<8;
a++){if(n[r]+n[r+1]+n[r+2]+n[r+3]+n[r+4]+n[r+5]+n[r+6]+n[r+7]!=0||_[E+3]<200||_[E+7]<200||_[E+11]<200||_[E+15]<200||_[E+19]<200||_[E+23]<200||_[E+27]<200||_[E+31]<200)return 1;
var m=a<<3;h[m+0]=_[E+0];V[m+0]=_[E+1];y[m+0]=_[E+2];h[m+1]=_[E+4];V[m+1]=_[E+5];y[m+1]=_[E+6];h[m+2]=_[E+8];
V[m+2]=_[E+9];y[m+2]=_[E+10];h[m+3]=_[E+12];V[m+3]=_[E+13];y[m+3]=_[E+14];h[m+4]=_[E+16];V[m+4]=_[E+17];
y[m+4]=_[E+18];h[m+5]=_[E+20];V[m+5]=_[E+21];y[m+5]=_[E+22];h[m+6]=_[E+24];V[m+6]=_[E+25];y[m+6]=_[E+26];
h[m+7]=_[E+28];V[m+7]=_[E+29];y[m+7]=_[E+30];E+=x<<2;r+=x}return 0};Q.o9.Jf=function(_,n){n[0]=_[32]+_[0];
n[1]=_[33]+_[1];n[2]=_[34]+_[2];n[3]=_[35]+_[3];n[4]=_[36]+_[4];n[5]=_[37]+_[5];n[6]=_[38]+_[6];n[7]=_[39]+_[7];
n[8]=_[40]+_[8];n[9]=_[41]+_[9];n[10]=_[42]+_[10];n[11]=_[43]+_[11];n[12]=_[44]+_[12];n[13]=_[45]+_[13];
n[14]=_[46]+_[14];n[15]=_[47]+_[15];n[16]=_[48]+_[16];n[17]=_[49]+_[17];n[18]=_[50]+_[18];n[19]=_[51]+_[19];
n[20]=_[52]+_[20];n[21]=_[53]+_[21];n[22]=_[54]+_[22];n[23]=_[55]+_[23];n[24]=_[56]+_[24];n[25]=_[57]+_[25];
n[26]=_[58]+_[26];n[27]=_[59]+_[27];n[28]=_[60]+_[28];n[29]=_[61]+_[29];n[30]=_[62]+_[30];n[31]=_[63]+_[31];
n[32]=_[0]-_[32];n[33]=_[1]-_[33];n[34]=_[2]-_[34];n[35]=_[3]-_[35];n[36]=_[4]-_[36];n[37]=_[5]-_[37];
n[38]=_[6]-_[38];n[39]=_[7]-_[39];n[40]=_[8]-_[40];n[41]=_[9]-_[41];n[42]=_[10]-_[42];n[43]=_[11]-_[43];
n[44]=_[12]-_[44];n[45]=_[13]-_[45];n[46]=_[14]-_[46];n[47]=_[15]-_[47];n[48]=_[16]-_[48];n[49]=_[17]-_[49];
n[50]=_[18]-_[50];n[51]=_[19]-_[51];n[52]=_[20]-_[52];n[53]=_[21]-_[53];n[54]=_[22]-_[54];n[55]=_[23]-_[55];
n[56]=_[24]-_[56];n[57]=_[25]-_[57];n[58]=_[26]-_[58];n[59]=_[27]-_[59];n[60]=_[28]-_[60];n[61]=_[29]-_[61];
n[62]=_[30]-_[62];n[63]=_[31]-_[63];_[0]=n[16]+n[0];_[1]=n[17]+n[1];_[2]=n[18]+n[2];_[3]=n[19]+n[3];
_[4]=n[20]+n[4];_[5]=n[21]+n[5];_[6]=n[22]+n[6];_[7]=n[23]+n[7];_[8]=n[24]+n[8];_[9]=n[25]+n[9];_[10]=n[26]+n[10];
_[11]=n[27]+n[11];_[12]=n[28]+n[12];_[13]=n[29]+n[13];_[14]=n[30]+n[14];_[15]=n[31]+n[15];_[16]=n[0]-n[16];
_[17]=n[1]-n[17];_[18]=n[2]-n[18];_[19]=n[3]-n[19];_[20]=n[4]-n[20];_[21]=n[5]-n[21];_[22]=n[6]-n[22];
_[23]=n[7]-n[23];_[24]=n[8]-n[24];_[25]=n[9]-n[25];_[26]=n[10]-n[26];_[27]=n[11]-n[27];_[28]=n[12]-n[28];
_[29]=n[13]-n[29];_[30]=n[14]-n[30];_[31]=n[15]-n[31];n[0]=_[8]+_[0];n[1]=_[9]+_[1];n[2]=_[10]+_[2];
n[3]=_[11]+_[3];n[4]=_[12]+_[4];n[5]=_[13]+_[5];n[6]=_[14]+_[6];n[7]=_[15]+_[7];n[8]=_[0]-_[8];n[9]=_[1]-_[9];
n[10]=_[2]-_[10];n[11]=_[3]-_[11];n[12]=_[4]-_[12];n[13]=_[5]-_[13];n[14]=_[6]-_[14];n[15]=_[7]-_[15];
_[0]=n[4]+n[0];_[1]=n[5]+n[1];_[2]=n[6]+n[2];_[3]=n[7]+n[3];_[4]=n[0]-n[4];_[5]=n[1]-n[5];_[6]=n[2]-n[6];
_[7]=n[3]-n[7];_[8]=n[12]+n[8];_[9]=n[13]+n[9];_[10]=n[14]+n[10];_[11]=n[15]+n[11];_[12]=n[8]-n[12];
_[13]=n[9]-n[13];_[14]=n[10]-n[14];_[15]=n[11]-n[15];n[0]=_[2]+_[0];n[1]=_[3]+_[1];n[2]=_[0]-_[2];n[3]=_[1]-_[3];
n[4]=_[6]+_[4];n[5]=_[7]+_[5];n[6]=_[4]-_[6];n[7]=_[5]-_[7];n[8]=_[10]+_[8];n[9]=_[11]+_[9];n[10]=_[8]-_[10];
n[11]=_[9]-_[11];n[12]=_[14]+_[12];n[13]=_[15]+_[13];n[14]=_[12]-_[14];n[15]=_[13]-_[15];_[0]=n[1]+n[0];
_[1]=n[0]-n[1];_[2]=n[3]+n[2];_[3]=n[2]-n[3];_[4]=n[5]+n[4];_[5]=n[4]-n[5];_[6]=n[7]+n[6];_[7]=n[6]-n[7];
_[8]=n[9]+n[8];_[9]=n[8]-n[9];_[10]=n[11]+n[10];_[11]=n[10]-n[11];_[12]=n[13]+n[12];_[13]=n[12]-n[13];
_[14]=n[15]+n[14];_[15]=n[14]-n[15]};Q.o9.aqT=function(){var _="",ab=64,n="v",O="t",l="a",x=5,m,t,h;
for(m=ab>>1;m>0;m>>=1,x--){for(t=0;t<ab;t++){h=(t>>x&1)!=0;if(h){_+=O+"["+t+"] = "+n+"["+(-m+t)+"] - "+n+"["+t+"];  "}else{_+=O+"["+t+"] = "+n+"["+(m+t)+"] + "+n+"["+t+"];  "}}l=n;
n=O;O=l;_+="\n"}console.log(_)};Q.o9.aat=function(ab,_,n){var O=_,l=n,x=O,t=0,m,V,y;while(ab>>t!=2)t++;
var h=t;for(m=ab>>1;m>0;m>>=1,t--){for(V=0;V<ab;V++){y=(V>>t&1)!=0;if(y)l[V]=O[-m+V]-O[V];else l[V]=O[m+V]+O[V]}x=O;
O=l;l=x}if((h&1)==1)for(m=0;m<ab;m++)n[m]=O[m]};Q.Nk={};Q.Nk.kH=function(_,n,O,l,x,t,h,V,y){var r=Date.now(),E=new Uint32Array(_.buffer),a=new Uint32Array(n.buffer),S=h/O,e=V/l,P=1/S,b=1/e,T=new Float64Array(2),C=3,Z=1/C,W=1/(C*C),s=0,f=0,q=O,g=l;
if(x){s=x.x;f=x.y;q=x.a;g=x.n}for(var i=0;i<g;i++)for(var u=0;u<q;u++){var I=s+u,Y=f+i,m=Y*O+I,U=m<<1,F=m<<2;
Q.Nk.akQ(t,h,V,(I+.5)*S,(Y+.5)*e,T);var N=T[0]*P,o=T[1]*b;if(N==0&&o==0)a[m]=E[m];else{Q.r.xx(I+N+.5,Y+o+.5,E,O,l,a,m,y)}}};
Q.Nk.akQ=function(_,n,O,l,x,t){l-=.499999;x-=.499999;var h=~~l,V=~~x,y=l-h,r=x-V,E=(1-r)*(1-y),a=(1-r)*y,S=r*(1-y),e=r*y,P=h<n-1?h+1:h,b=V<O-1?V+1:V,T=V*n+h<<1,C=V*n+P<<1,Z=b*n+h<<1,W=b*n+P<<1;
t[0]=E*_[T]+a*_[C]+S*_[Z]+e*_[W];t[1]=E*_[T+1]+a*_[C+1]+S*_[Z+1]+e*_[W+1]};Q.Nk.am6=function(_,n,O,l,x){var t=1/_,h=[-1,1,-_,_],V=l.length;
for(var y=0;y<V;y++){var m=l[y],r=m<<1,E=y<<1,a=~~(m*t),S=m-_*a,e=O[r],P=O[r+1],b=0,T=0;if(S!=0&&S!=_-1){var C=m-1<<1,Z=m+1<<1,W=O[C],s=O[Z],f=O[C+1],q=O[Z+1],g=e-(W+s)*.5,i=P-(f+q)*.5;
b-=g*x;T-=i*x}if(a!=0&&a!=n-1){var C=m-_<<1,Z=m+_<<1,W=O[C],s=O[Z],f=O[C+1],q=O[Z+1],g=e-(W+s)*.5,i=P-(f+q)*.5;
b-=g*x;T-=i*x}O[r]=e+b;O[r+1]=P+T}};Q.Nk.a53=function(_,n){var O=_+","+n;if(Q.Nk.o1==O)return Q.Nk.fb;
var l=Q.Nk.fb=[];Q.Nk.o1=O;for(var m=0;m<=1e3;m++){var x=m*.001,t=Math.sqrt(x),h=Math.exp(-4*t),V=.96*(1-t*t),y=n*((1-_)*h+_*V);
l[m]=y}return l};Q.Nk.o1="";Q.Nk.fb=[];Q.Nk.alX=function(_,n,O,l,x,t,h,V,y,r,E,a,S){var e=Math.max(0,Math.floor(x-h-1)),P=Math.min(n,Math.ceil(x+h+1)),b=Math.max(0,Math.floor(t-h-1)),T=Math.min(O,Math.ceil(t+h+1)),C=2*n,Z=h*h,W=1/h,s=0;
if(S&&(l==3||l==6))y=-y;var f=Q.Nk.a53(V,y);for(var q=b;q<T;q++)for(var g=e;g<P;g++){var m=q*n+g,i=m<<1,u=(x-g)*W,I=(t-q)*W,Y=u*u+I*I;
if(Y<1){a[s]=m;var U=f[~~(Y*1e3)];if(l==1){_[i]=_[i]*(1-U*.05);_[i+1]=_[i+1]*(1-U*.05)}else{var F=0,N=0,J,c,p,d;
if(l==0){F=r*U;N=E*U}else if(l==2){}else if(l==3){F=U*I;N=-U*u}else if(l==4){F=U*u;N=U*I}else if(l==5){F=-U*u;
N=-U*I}else if(l==6){F=E*U;N=-r*U}var o=_[i],X=_[i+1];if(g==0||g!=n-1&&F<0){J=1+_[i+2]-o;p=_[i+3]-X}else{J=o-_[i-2]+1;
p=X-_[i-1]}if(q==0||q!=O-1&&N<0){c=_[i+C]-o;d=1+_[i+C+1]-X}else{c=o-_[i-C];d=X-_[i-C+1]+1}_[i]=-(J*F+c*N-o);
_[i+1]=-(p*F+d*N-X)}s++}}};Q.Nk.aj5=function(_){var n=_[0],O=_[0],l=_[1],x=_[1];for(var m=0;m<_.length;
m+=2){var t=_[m],h=_[m+1];if(t<n)n=t;else if(t>O)O=t;if(h<l)l=h;else if(h>x)x=h}return[n,l,O,x]};Q.aoP=function(_,n,O,l,x){function t(w,B,bB,bG){return Math.sqrt((w-bB)*(w-bB)+(B-bG)*(B-bG))}function h(w,B){return w>=0&&w<n&&B>=0&&B<O}function V(w){if(w<0)return 0;
if(w>=n)return n-1;return w}function y(w){if(w<0)return 0;if(w>=O)return O-1;return w}function r(m,w){var B=w[3]*(1/255),bB=l[m]+w[0]*B;
if(bB>255)bB=255;l[m]=bB;bB=l[m+1]+w[1]*B;if(bB>255)bB=255;l[m+1]=bB;bB=l[m+2]+w[2]*B;if(bB>255)bB=255;
l[m+2]=bB}function E(w,B,bB){if(!k(w,B))return;if(bB[3]<0)bB[3]=0;r((B*n+w)*4,bB)}function a(w){var B=w.slice(0,3);
B[3]=0;return B}var S=n/800;function e(w){return Math.round(w*S)}function P(){for(var m=0;m<=300;m++){$[m]=b(m)}}function b(O){var w=.8,B=.2,bB=w*B,bG=O/60%2-1,eb=bB*(1-bG*bG),fe=B-bB,gB;
if(O<60){gB=[bB+fe,eb,0]}else if(O<120){gB=[eb,bB,0]}else if(O<180){gB=[0,bB,eb]}else if(O<240){gB=[0,eb,bB]}else if(O<300){gB=[eb,0,bB]}else{gB=[bB,0,eb]}return[(gB[0]+fe)*255,(gB[1]+fe)*255,(gB[2]+fe)*255]}function T(O){return $[~~O]}function C(w){return 1-Z(w)}function Z(w){return w-~~w}function W(w,B,bB,bG){p(w,B,bB,0,B+1,1,bG)}function s(w,B,bB,bG,eb,fe){p(w,B,bB,0,bG,1,eb,fe)}function f(w){for(var m=0;
m<l.length;m+=4){r(m,w)}}function q(w,B,bB,bG,eb,fe,gB,hp){g(w,B,bB,bG,eb,1,fe,gB,hp)}function g(w,B,bB,bG,eb,fe,gB,hp,g6){if(fe==null)fe=.5;
if(gB==null)gB=0;if(hp==null)hp=0;if(g6==null)g6=!1;var by=w.x,e7=w.y,aN=bB.slice(0),jK=~~(bB[3]*G);
bG=bG*G;if(!g6){B=d(B);eb=d(eb);gB=d(gB);hp=d(hp)}var f7=V(by-B),hW=V(by+B);for(var km=f7;km<=hW;km++){var ca=km-by,aU=Math.floor(Math.sqrt(B*B-ca*ca)),eJ=y(e7-aU),am=y(e7);
for(var eA=eJ;eA<=am;eA++){var dj=t(km,eA,by,e7);if(dj>B||dj<=B-eb)break;var cM=(dj-B+eb)/eb;aN[3]=jK-bG*(fe==1?cM:Math.pow(cM,fe));
r((eA*n+km)*4,aN)}eJ=y(e7+aU);for(var eA=eJ;eA>am;eA--){var dj=t(km,eA,by,e7);if(dj>B||dj<=B-eb)break;
var cM=(dj-B+eb)/eb;aN[3]=jK-bG*(fe==1?cM:Math.pow(cM,fe));r((eA*n+km)*4,aN)}}if(gB>0){p(w,B+gB,aN,aN[3],gB,1,0,0,!0)}if(hp>0){p(w,B-eb,A(bB),-bB[3],hp,1,0,0,!0)}}function i(w,B,bB,bG,eb,fe){p(w,B,bB,bB[3],B+1,1,bG,eb,fe)}function u(w,B,bB,bG,eb){if(eb==null)eb=!1;
var fe=w.x,gB=w.y;bG*=G;if(!eb){B=d(B);bB=d(bB)}var hp=V(fe-B),g6=V(fe+B);for(var by=hp;by<g6;by++){var e7=by-fe,aN=~~Math.sqrt(B*B-e7*e7),jK=y(gB-aN),f7=y(gB);
for(var hW=jK;hW<=f7;hW++){var km=t(by,hW,fe,gB);if(km>B||km<=B-bB)break;var ca=(B-km)/bB,aU=T(300*ca);
aU[3]=bG;r((hW*n+by)*4,aU)}jK=y(gB+aN);for(var hW=jK;hW>f7;hW--){var km=t(by,hW,fe,gB);if(km>B||km<=B-bB)break;
var ca=(B-km)/bB,aU=T(300*ca);aU[3]=bG;r((hW*n+by)*4,aU)}}}function I(K,w){var B=K.UB,bB=K.I3,bG=w.slice(0),eb=w[3]*G,fe=Math.abs(bB.y-B.y)>Math.abs(bB.x-B.x);
if(fe){var gB=B.x;B.x=B.y;B.y=gB;gB=bB.x;bB.x=bB.y;bB.y=gB}if(B.x>bB.x){var gB=B;B=bB;bB=gB}var hp=bB.x-B.x,g6=bB.y-B.y,by=hp==0?1:g6/hp,e7=Math.round(B.x),aN=B.y+by*(e7-B.x),jK=C(B.x+.5),f7=e7,hW=~~aN;
if(fe){bG[3]=eb*C(aN)*jK;E(hW,f7,bG);bG[3]=eb*Z(aN)*jK;E(hW+1,f7,bG)}else{bG[3]=eb*C(aN)*jK;E(f7,hW,bG);
bG[3]=eb*Z(aN)*jK;E(f7,hW+1,bG)}var km=aN-by;e7=Math.round(bB.x);aN=bB.y+by*(e7-bB.x);jK=Z(bB.x+.5);
var ca=e7,aU=~~aN;if(fe){bG[3]=eb*C(aN)*jK;E(aU,ca,bG);bG[3]=eb*Z(aN)*jK;E(aU+1,ca,bG)}else{bG[3]=eb*C(aN)*jK;
E(ca,aU,bG);bG[3]=eb*Z(aN)*jK;E(ca,aU+1,bG)}if(fe){for(var eJ=f7+1;eJ<=ca-1;eJ++){bG[3]=eb*C(km);E(~~km,eJ,bG);
bG[3]=eb*Z(km);E(~~km+1,eJ,bG);km+=by}}else{for(var eJ=f7+1;eJ<=ca-1;eJ++){bG[3]=eb*C(km);E(eJ,~~km,bG);
bG[3]=eb*Z(km);E(eJ,~~km+1,bG);km+=by}}}function Y(w,B,bB,bG){for(var m=0;m<4;m++){var eb=w.pt(B+1.3*m,bB);
I(eb,bG,1)}}function aW(w,B){this.x=Math.round(w);this.y=Math.round(B)}var U=Math.PI/180;aW.prototype.pt=function(w,B){w=w*U;
var bB=this.x+B*Math.cos(w),bG=this.y+B*Math.sin(w);return new F(this.x,this.y,bB,bG)};aW.prototype.aa4=function(w,B){w=w*U;
var bB=this.gi+B*Math.cos(w),bG=this.aa$+B*Math.sin(w);return new aW(bB,bG)};function F(w,B,bB,bG){this.UB=new aW(w,B);
this.I3=new aW(bB,bG)}F.prototype._g=function(w){var B=w*this.UB.x+(1-w)*this.I3.x,bB=w*this.UB.y+(1-w)*this.I3.y;
return new aW(B,bB)};var N=q,o=i,X=W,J=s,c=u,p=g,d=e,k=h,A=a,$=[];P();for(var m=0;m<_.length;m++){l[m]=_[m]}var K=new F(n*x[2],O*x[3],n/2,O/2),G=x[1],z=[];
z[0]=function M(){var w=[80,40,15,60],bB=0,bG=0;X(K._g(1.4),260,w,10);X(K._g(1),100,[240,50,50,30],30);
o(K._g(1),60,[255,40,0,40]);var B=[255,255,255,255];p(K._g(1),70,B,B[3],58,.5);X(K._g(1),12,B);B[3]=40;
N(K._g(1),150,B,B[3],150);for(var m=0;m<40;m++){bB+=Math.random()*25;bG=Math.random()*d(300)+d(100);
var eb=K._g(1).pt(bB,bG);I(K._g(1).pt(bB,bG),[110,110,110,30])}o(K._g(1),130,[255,255,255,8]);var fe=[170,30,23,70];
J(K._g(1),70,fe,1,3,3);var gB=[60,60,130,40];X(K._g(.47),44,gB,5);X(K._g(.43),22,gB,3);gB[3]=16;X(K._g(.53),15,gB,2);
var hp=[138,94,42,100];X(K._g(.2),16,hp,2);var g6=[130,255,170,180];o(K._g(0),4,g6);o(K._g(-.25),5,g6);
hp=[150,90,0,50];N(K._g(-.45),55,A(hp),-hp[3],40,2);X(K._g(-.42),35,hp,2);X(K._g(-.5),15,hp,2);c(K._g(-1.28),145,11,70);
var by=T(0);by[3]=50;N(K._g(-1.28),149,by,by[3],4);by=T(300);by[3]=50;N(K._g(-1.28),155-1,A(by),-by[3],3);
var e7=[130,130,10,50];J(K._g(-1),73,e7,3,2);var aN=[40,130,70,40];N(K._g(-1),70,A(aN),-aN[3],35);aN=[40,170,60,50];
X(K._g(-.7),25,aN,4);var aN=[70,110,50,60];N(K._g(1.3),30,A(aN),-aN[3],11,3);gB=[0,50,210,80];o(K._g(-.72),20,gB)};
z[1]=function hl(){o(K._g(1),150,[240,70,70,60]);X(K._g(1),100,[200,60,60,40],30);var w=[255,255,255,255],B=0,bB=0;
p(K._g(1),75,w,w[3],63);X(K._g(1),12,w);o(K._g(1),270,[200,200,200,20],10);for(var m=0;m<10;m++){B+=10+Math.random()*40;
bB=Math.random()*d(250)+d(80);var bG=K._g(1).pt(B,bB);I(bG,[110,110,110,35])}B=5;bB=100;for(var m=0;
m<12;m++){B+=30;Y(K._g(1),B,bB,[90,90,90,40])}var eb=[150,40,23,100];J(K._g(1),70,eb,1,3,3);var fe=[30,100,60,40];
o(K._g(-.9),180,[255,255,255,20]);X(K._g(-.9),140,fe,15);var gB=[170,80,25,15];J(K._g(-.9),120,gB,1,4,4);
var hp=[110,240,190,200];o(K._g(-.6),3,hp);hp[3]=100;o(K._g(-.6),7,hp);var g6=[230,120,40,85];o(K._g(-.73),9,g6);
var by=[60,60,190,50];X(K._g(.3),28,by,6);by[3]=25;X(K._g(.34),20,by,3)};z[2]=function j(){var w=[255,255,255,255],bB=0,bG=0;
X(K._g(1),13,w);p(K._g(1),150,w,w[3],137);var B=[120,80,35,20];X(K._g(1.4),260,B,10);for(var m=0;m<40;
m++){bB+=5+Math.random()*30;bG=Math.random()*d(300);I(K._g(1).pt(bB,bG),[110,110,110,20])}var eb=[10,30,255,30];
X(K._g(1),70,eb,50);var fe=[15,90,170,15];X(K._g(1.5),60,fe);var gB=[220,220,20,50];X(K._g(-1.15),8,gB,2);
var w=[255,255,255,40];o(K._g(-1.18),6,w);o(K._g(-1.18),4,w);gB=[110,110,10,8];N(K._g(-1.2),32,A(gB),-gB[3],20,3);
var hp=[5,0,16,255];for(var m=0;m<4;m++){X(K._g(-1.36),10,hp,3)}var g6=[90,200,150,20],by=g6.slice(0);
by[3]*=2;X(K._g(-1.32),7,by,3);X(K._g(-1.36),7,by,3);X(K._g(-1.4),7,by,3);var w=[230,230,230,100];o(K._g(-1.36),2,w);
w[3]=3;X(K._g(-.55),10,w);gB=[120,100,10,18];X(K._g(-.55),160,gB,8);X(K._g(-.55),80,gB,4);g6[3]=3;by[3]=6;
N(K._g(-.49),13,A(by),-by[3],13,2);N(K._g(-.55),13,A(by),-by[3],13,2);g6[3]=20;X(K._g(.15),25,g6,3);
gB[3]=100;o(K._g(-.52),3,gB);gB=[200,200,50,40];X(K._g(.27),1,gB,4);var e7=[150,40,23,30];N(K._g(1),80,A(e7),-e7[3],2,1)};
return z[x[0]]()};Q.ha={};Q.ha.Z4=function(_){var n=_.length,ab=_[0].length,O=new Array(ab);for(var m=0;
m<ab;m++)O[m]=new Array(n);for(var m=0;m<ab;m++)for(var l=0;l<n;l++)O[m][l]=_[l][m];return O};Q.ha.OA=function(_,n){var O=_.length,ab=_[0].length,l=new Array(O);
for(var m=0;m<O;m++)l[m]=new Array(ab);for(var m=0;m<O;m++)for(var x=0;x<ab;x++)l[m][x]=_[m][x]-n[m][x];
return l};Q.ha.add=function(_,n){var O=_.length,ab=_[0].length,l=new Array(O);for(var m=0;m<O;m++)l[m]=new Array(ab);
for(var m=0;m<O;m++)for(var x=0;x<ab;x++)l[m][x]=_[m][x]+n[m][x];return l};Q.ha.multiply=function(_,n){var O=_.length,l=_[0].length,ab=n[0].length;
if(l!=n.length)throw"e";var x=new Array(O);for(var m=0;m<O;m++)x[m]=new Array(ab);if((l&1)!=0)for(var m=0;
m<O;m++){var t=_[m],h=x[m];for(var V=0;V<ab;V++){var y=0;for(var r=0;r<l;r++)y+=t[r]*n[r][V];h[V]=y}}else for(var m=0;
m<O;m++){var t=_[m],h=x[m];for(var V=0;V<ab;V++){var y=0;for(var r=0;r<l;r+=2)y+=t[r]*n[r][V]+t[r+1]*n[r+1][V];
h[V]=y}}return x};Q.ha.RW=function(_,n){var O=_.length,ab=_[0].length,l=new Array(O);for(var m=0;m<O;
m++){var x=0;for(var t=0;t<ab;t++)x+=_[m][t]*n[t];l[m]=x}return l};Q.ha.NE=function(_,n){var O=[];for(var m=0;
m<_;m++){O.push([]);for(var l=0;l<n;l++)O[m].push(0)}return O};Q.ha.awA=function(_){for(var m=0;m<_.length;
m++)console.log(JSON.stringify(_[m]))};Q.ha.ax8=function(_){var n=[];for(var m=0;m<_.length;m++)n.push(_[m].join(","));
return"["+n.join(";")+"]"};Q.ha.Ig=function(_,n){var O=_.length;for(var l=0;l<O;l++){var x=0,t=Number.NEGATIVE_INFINITY;
for(var m=l;m<O;m++)if(Math.abs(_[m][l])>t){x=m;t=Math.abs(_[m][l])}Q.ha.aqh(_,l,x);for(var m=l+1;m<O;
m++){if(_[l][l]==0)return 1;var h=_[m][l]/_[l][l];for(var V=l;V<O+1;V++)_[m][V]-=_[l][V]*h}}for(var m=O-1;
m>=0;m--){if(_[m][m]==0)return 1;var y=_[m][O]/_[m][m];n[m]=y;for(var V=m-1;V>=0;V--){_[V][O]-=_[V][m]*y;
_[V][m]=0}}return 0};Q.ha.aqh=function(_,n,O){var l=_[n];_[n]=_[O];_[O]=l};Q.ha.a6L=function(_){var n=_.length,O=Q.ha.NE(n,n);
for(var m=0;m<n;m++)O[m][m]=_[m];return O};Q.ha.a6a=function(_){var n=_.length,O=_[0].length,l=new Array(n);
for(var m=0;m<n;m++){l[m]=0;for(var x=0;x<O;x++)l[m]+=_[m][x];l[m]/=O}return l};Q.ha.MJ=function(_){var n=0;
for(var m=0;m<_.length;m++)n+=_[m]*_[m];return Math.sqrt(n)};Q.fN={};Q.fN.xe=function(_){var n=~~(_+.5);
return n<0?0:n>255?255:n};Q.fN.transform=function(_,n,O){var l=Q.fN.xe,x=_.o.length;for(var m=0;m<x;
m++){var t=_.o[m],h=_.J[m],V=_.k[m];n.o[m]=l(O[0]*t+O[1]*h+O[2]*V+O[3]*255);n.J[m]=l(O[4]*t+O[5]*h+O[6]*V+O[7]*255);
n.k[m]=l(O[8]*t+O[9]*h+O[10]*V+O[11]*255)}};Q.fN.s2=function(_,n,O){var l=Q.fN.xe,x=_.length;for(var m=0;
m<x;m+=4){var t=_[m],h=_[m+1],V=_[m+2];n[m]=l(O[0]*t+O[1]*h+O[2]*V+O[3]*255);n[m+1]=l(O[4]*t+O[5]*h+O[6]*V+O[7]*255);
n[m+2]=l(O[8]*t+O[9]*h+O[10]*V+O[11]*255)}};Q.fN.WN=function(_){var n=_[0]+_[1]+_[2],O=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1];
if(n==1){var l=_.indexOf(1);O[l]=O[l+4]=O[l+8]=1}else{O[0]=_[0];O[5]=_[1];O[10]=_[2]}return O};Q.fN.xc=function(_,n,O){return[1,0,0,_,0,1,0,n,0,0,1,O,0,0,0,1]};
Q.fN.Br=function(_,n,O){return[_,0,0,0,0,n,0,0,0,0,O,0,0,0,0,1]};Q.fN.ai9=function(_){return[_[0],_[1],_[2],_[4],_[5],_[6],_[8],_[9],_[10]]};
Q.fN.EM=function(_){return[_[0],_[1],_[2],0,_[3],_[4],_[5],0,_[6],_[7],_[8],0,0,0,0,1]};Q.fN.Jl=function(_,n){return[_[0]*n[0]+_[1]*n[1]+_[2]*n[2]+_[3]*n[3],_[4]*n[0]+_[5]*n[1]+_[6]*n[2]+_[7]*n[3],_[8]*n[0]+_[9]*n[1]+_[10]*n[2]+_[11]*n[3],_[12]*n[0]+_[13]*n[1]+_[14]*n[2]+_[15]*n[3]]};
Q.fN.Z4=function(_){var n=[];n[0]=_[0];n[1]=_[4];n[2]=_[8];n[3]=_[12];n[4]=_[1];n[5]=_[5];n[6]=_[9];
n[7]=_[13];n[8]=_[2];n[9]=_[6];n[10]=_[10];n[11]=_[14];n[12]=_[3];n[13]=_[7];n[14]=_[11];n[15]=_[15];
return n};Q.fN.add=function(_,n){var O=_.slice(0);for(var m=0;m<16;m++)O[m]+=n[m];return O};Q.fN.multiply=function(_,n){var O=[];
O[0]=_[0]*n[0]+_[1]*n[4]+_[2]*n[8]+_[3]*n[12];O[1]=_[0]*n[1]+_[1]*n[5]+_[2]*n[9]+_[3]*n[13];O[2]=_[0]*n[2]+_[1]*n[6]+_[2]*n[10]+_[3]*n[14];
O[3]=_[0]*n[3]+_[1]*n[7]+_[2]*n[11]+_[3]*n[15];O[4]=_[4]*n[0]+_[5]*n[4]+_[6]*n[8]+_[7]*n[12];O[5]=_[4]*n[1]+_[5]*n[5]+_[6]*n[9]+_[7]*n[13];
O[6]=_[4]*n[2]+_[5]*n[6]+_[6]*n[10]+_[7]*n[14];O[7]=_[4]*n[3]+_[5]*n[7]+_[6]*n[11]+_[7]*n[15];O[8]=_[8]*n[0]+_[9]*n[4]+_[10]*n[8]+_[11]*n[12];
O[9]=_[8]*n[1]+_[9]*n[5]+_[10]*n[9]+_[11]*n[13];O[10]=_[8]*n[2]+_[9]*n[6]+_[10]*n[10]+_[11]*n[14];O[11]=_[8]*n[3]+_[9]*n[7]+_[10]*n[11]+_[11]*n[15];
O[12]=_[12]*n[0]+_[13]*n[4]+_[14]*n[8]+_[15]*n[12];O[13]=_[12]*n[1]+_[13]*n[5]+_[14]*n[9]+_[15]*n[13];
O[14]=_[12]*n[2]+_[13]*n[6]+_[14]*n[10]+_[15]*n[14];O[15]=_[12]*n[3]+_[13]*n[7]+_[14]*n[11]+_[15]*n[15];
return O};Q.fN.sJ=function(_){var n=[];n[0]=_[5]*_[10]*_[15]-_[5]*_[14]*_[11]-_[6]*_[9]*_[15]+_[6]*_[13]*_[11]+_[7]*_[9]*_[14]-_[7]*_[13]*_[10];
n[1]=-_[1]*_[10]*_[15]+_[1]*_[14]*_[11]+_[2]*_[9]*_[15]-_[2]*_[13]*_[11]-_[3]*_[9]*_[14]+_[3]*_[13]*_[10];
n[2]=_[1]*_[6]*_[15]-_[1]*_[14]*_[7]-_[2]*_[5]*_[15]+_[2]*_[13]*_[7]+_[3]*_[5]*_[14]-_[3]*_[13]*_[6];
n[3]=-_[1]*_[6]*_[11]+_[1]*_[10]*_[7]+_[2]*_[5]*_[11]-_[2]*_[9]*_[7]-_[3]*_[5]*_[10]+_[3]*_[9]*_[6];
n[4]=-_[4]*_[10]*_[15]+_[4]*_[14]*_[11]+_[6]*_[8]*_[15]-_[6]*_[12]*_[11]-_[7]*_[8]*_[14]+_[7]*_[12]*_[10];
n[5]=_[0]*_[10]*_[15]-_[0]*_[14]*_[11]-_[2]*_[8]*_[15]+_[2]*_[12]*_[11]+_[3]*_[8]*_[14]-_[3]*_[12]*_[10];
n[6]=-_[0]*_[6]*_[15]+_[0]*_[14]*_[7]+_[2]*_[4]*_[15]-_[2]*_[12]*_[7]-_[3]*_[4]*_[14]+_[3]*_[12]*_[6];
n[7]=_[0]*_[6]*_[11]-_[0]*_[10]*_[7]-_[2]*_[4]*_[11]+_[2]*_[8]*_[7]+_[3]*_[4]*_[10]-_[3]*_[8]*_[6];n[8]=_[4]*_[9]*_[15]-_[4]*_[13]*_[11]-_[5]*_[8]*_[15]+_[5]*_[12]*_[11]+_[7]*_[8]*_[13]-_[7]*_[12]*_[9];
n[9]=-_[0]*_[9]*_[15]+_[0]*_[13]*_[11]+_[1]*_[8]*_[15]-_[1]*_[12]*_[11]-_[3]*_[8]*_[13]+_[3]*_[12]*_[9];
n[10]=_[0]*_[5]*_[15]-_[0]*_[13]*_[7]-_[1]*_[4]*_[15]+_[1]*_[12]*_[7]+_[3]*_[4]*_[13]-_[3]*_[12]*_[5];
n[11]=-_[0]*_[5]*_[11]+_[0]*_[9]*_[7]+_[1]*_[4]*_[11]-_[1]*_[8]*_[7]-_[3]*_[4]*_[9]+_[3]*_[8]*_[5];n[12]=-_[4]*_[9]*_[14]+_[4]*_[13]*_[10]+_[5]*_[8]*_[14]-_[5]*_[12]*_[10]-_[6]*_[8]*_[13]+_[6]*_[12]*_[9];
n[13]=_[0]*_[9]*_[14]-_[0]*_[13]*_[10]-_[1]*_[8]*_[14]+_[1]*_[12]*_[10]+_[2]*_[8]*_[13]-_[2]*_[12]*_[9];
n[14]=-_[0]*_[5]*_[14]+_[0]*_[13]*_[6]+_[1]*_[4]*_[14]-_[1]*_[12]*_[6]-_[2]*_[4]*_[13]+_[2]*_[12]*_[5];
n[15]=_[0]*_[5]*_[10]-_[0]*_[9]*_[6]-_[1]*_[4]*_[10]+_[1]*_[8]*_[6]+_[2]*_[4]*_[9]-_[2]*_[8]*_[5];var O=_[0]*n[0]+_[1]*n[4]+_[2]*n[8]+_[3]*n[12];
for(var m=0;m<16;m++)n[m]/=O;return n};Q.fN.a3c=function(_){var n=[],O=_[5]*_[10]*_[15]-_[5]*_[14]*_[11]-_[6]*_[9]*_[15]+_[6]*_[13]*_[11]+_[7]*_[9]*_[14]-_[7]*_[13]*_[10],l=-_[4]*_[10]*_[15]+_[4]*_[14]*_[11]+_[6]*_[8]*_[15]-_[6]*_[12]*_[11]-_[7]*_[8]*_[14]+_[7]*_[12]*_[10],x=_[4]*_[9]*_[15]-_[4]*_[13]*_[11]-_[5]*_[8]*_[15]+_[5]*_[12]*_[11]+_[7]*_[8]*_[13]-_[7]*_[12]*_[9],t=-_[4]*_[9]*_[14]+_[4]*_[13]*_[10]+_[5]*_[8]*_[14]-_[5]*_[12]*_[10]-_[6]*_[8]*_[13]+_[6]*_[12]*_[9];
return _[0]*O+_[1]*l+_[2]*x+_[3]*t};Q.fN.a1V=function(_,n,O,l){var x=Math.sin(l),t=Math.cos(l),h=1/Math.sqrt(_*_+n*n+O*O);
_*=h;n*=h;O*=h;return Q.fN.EM([_*_*(1-t)+t,_*n*(1-t)-O*x,_*O*(1-t)+n*x,_*n*(1-t)+O*x,n*n*(1-t)+t,n*O*(1-t)-_*x,_*O*(1-t)-n*x,n*O*(1-t)+_*x,O*O*(1-t)+t])};
Q.fN._B=Q.fN.EM([3.1338561,-1.6168667,-.4906146,-.9787684,1.9161415,.033454,.0719453,-.2289914,1.4052427]);
Q.fN.abv=Q.fN.EM([1.9624274,-.6105343,-.3413404,-.9787684,1.9161415,.033454,.0286869,-.1406752,1.3487655]);
Q.fN.bs=Q.fN.sJ(Q.fN._B);Q.Nq={};Q.Nq.Wa=new Uint32Array(1);Q.Nq.cU=function(_,n,O,l,x,t){var h=new Uint32Array(_),V=0,y=Q.Nq.Wa;
if(y.length<n*4)Q.Nq.Wa=y=new Uint32Array(n*4);var r=new Float64Array(y.buffer);for(var m=0;m<n;m+=2){var E=x[m],a=x[m+1],S=t[m],e=t[m+1];
y[V]=a;r[V+2>>1]=S;y[V+1]=h[E];h[E]=V+1;V+=4;y[V]=E;r[V+2>>1]=e;y[V+1]=h[a];h[a]=V+1;V+=4}return{_n:y,ayQ:r,a9j:h}};
Q.Nq.Ig=function(_,n,O,l,x,t,h){var V=1,y=Q.Nq.cU(_,n,O,l,x,t),r=y._n,E=y.ayQ,a=y.a9j,S=new Uint32Array(_),e=new Q.Nq.K0(_),b=1,s=0;
e.push(O);e.push(l);var P=new Q.Nq.K0(_),T=new Uint8Array(_),C=new Uint32Array(_);T[O]=1;T[l]=2;var Z=new Uint32Array(_),W=new Uint32Array(_);
W[O]=W[l]=0;Z[O]=Z[l]=1;while(!0){var f=-1,U=0,X=1e30;while(!e.VU()&&f==-1){var q=e.top(),g=T[q],i=a[q]-1;
while(i!=-1){var u=r[i],I=T[u],Y=i^g-1<<2;if(E[Y+2>>1]!=0){if(I==0){Q.Nq.eS(q,i,u,T,C,W,Z);e.push(u)}else if(I==g&&Z[u]<=Z[q]&&W[u]>W[q])Q.Nq.eS(q,i,u,T,C,W,Z);
else if(I!=g){f=Y}}i=r[i+1]-1}if(f!=-1)break;e.pop()}if(f==-1){break}b++;var F=f;while(F!=-1){S[U]=F;
U++;F=C[r[F^4]]-1}var N=U>>1;for(var m=0;m<N;m++){var o=S[m];S[m]=S[U-m-1];S[U-m-1]=o}F=C[r[f]]-1;while(F!=-1){S[U]=F^4;
U++;F=C[r[F^4]]-1}for(var m=0;m<U;m++)X=Math.min(X,E[S[m]+2>>1]);s+=X;if(s>=h)return{I5:null,d2:s};for(var m=0;
m<U;m++){var J=S[m],c=J^4,q=r[c],u=r[J];E[J+2>>1]-=X;E[c+2>>1]+=X;if(E[J+2>>1]==0&&T[q]==T[u]){if(T[q]==1){C[u]=0;
P.push(u)}if(T[q]==2){C[q]=0;P.push(q)}}}while(!P.VU()){var q=P.pop(),g=T[q],i=a[q]-1,p=g==1?4:0,d=0,k=0,A=1e9;
while(i!=-1){var u=r[i],$=i^4,Y=i^p;if(T[u]==g&&E[Y+2>>1]>0&&Q.Nq.a13(u,O,l,C,r,b,Z,W)+1<A){d=u;k=$;
A=W[u]+1}i=r[i+1]-1}if(k!=0){Q.Nq.eS(d,k,q,T,C,W,Z);continue}i=a[q]-1;while(i!=-1){var u=r[i],Y=i^p;
if(T[u]==g){if(E[Y+2>>1]>0){e.push(u)}if(C[u]==i+1){C[u]=0;P.push(u)}}i=r[i+1]-1}T[q]=0;e.remove(q)}}var K=[];
for(var m=0;m<n;m+=2){var q=x[m],u=x[m+1];if(T[q]==1&&T[u]!=1){K.push(m>>1)}if(T[u]==1&&T[q]!=1){K.push(n+m>>1)}}return{I5:K,d2:s}};
Q.Nq.eS=function(_,n,O,l,x,t,h){l[O]=l[_];x[O]=n+1;t[O]=t[_]+1;h[O]=h[_]};Q.Nq.a13=function(_,n,O,l,x,t,h,V){var y=_,r=l[_]-1,E=0;
while(r!=-1&&h[_]!=t){_=x[r^4];r=l[_]-1;E++}if(r==-1&&_!=n&&_!=O)return 1e9;var a=V[_]+E;E=0;r=l[y]-1;
while(y!=_){V[y]=a-E;E++;h[y]=t;y=x[r^4];r=l[y]-1}return a};Q.Nq.awk=function(_,n,O,l,x,t){var h=Q.Nq.cU(_,n,O,l,x,t),V=h._n,y=h.ayQ,r=h.a9j,E=0,a=0,S=new Uint32Array(_*2),e=new Q.Nq.uK(_),P=0;
while(!0){e.reset();e.push(O);for(var m=0;m<_;m++)S[m<<1]=0;while(!e.VU()){var b=e.pop(),T=r[b]-1;while(T!=-1){P=V[T];
if(S[P<<1]==0&&y[T+2>>1]>0&&P!=O){S[P<<1]=b+1;S[(P<<1)+1]=T;e.push(P)}T=V[T+1]-1}if(S[l<<1]!=0){break}}if(S[l<<1]==0){break}var C=1e30;
P=l;while(!0){var Z=S[P<<1]-1;if(Z==-1)break;var W=S[(P<<1)+1];C=Math.min(C,y[W+2>>1]);P=Z}P=l;while(!0){var Z=S[P<<1]-1;
if(Z==-1)break;var W=S[(P<<1)+1],s=W^4;y[W+2>>1]-=C;y[s+2>>1]+=C;P=Z}E+=C}var f=[];for(var m=0;m<n;m+=2){var Z=x[m],P=x[m+1];
if((S[Z<<1]!=0||Z==O)&&S[P<<1]==0&&P!=O){f.push(m>>1)}if((S[P<<1]!=0||P==O)&&S[Z<<1]==0&&Z!=O){f.push(n+m>>1)}}return{I5:f,d2:E}};
Q.Nq.uK=function(_){_|=_>>1;_|=_>>2;_|=_>>4;_|=_>>8;_|=_>>16;this.cQ=new Uint32Array(_+1);this.ab=_;
this.z2=0;this.Tr=0};Q.Nq.uK.prototype={push:function(_){var n=this.Tr;this.cQ[n]=_;this.Tr=n+1&this.ab},pop:function(){var _=this.z2,n=this.cQ[_];
this.z2=_+1&this.ab;return n},VU:function(){return this.z2==this.Tr},reset:function(){this.z2=0;this.Tr=0}};
Q.Nq.K0=function(_){_|=_>>1;_|=_>>2;_|=_>>4;_|=_>>8;_|=_>>16;this.cQ=new Uint32Array(_+1);this.lF=new Uint32Array(_+1);
this.ab=_;this.z2=0;this.Tr=0};Q.Nq.K0.prototype={top:function(){return this.cQ[this.z2]},avk:function(){return this.cQ[this.Tr]},push:function(_){if(this.lF[_]!=0)return;
this.lF[_]=this.Tr+1;var n=this.Tr;this.cQ[n]=_;this.Tr=n+1&this.ab},pop:function(){var _=this.z2,n=this.cQ[_];
this.lF[n]=0;this.z2=_+1&this.ab;return n},VU:function(){return this.z2==this.Tr},remove:function(_){var n=this.lF[_]-1;
if(n==-1)return;this.lF[_]=0;if(n==this.z2){this.pop();return}var O=this.pop();this.cQ[n]=O;this.lF[O]=n+1},Ky:function(m){return m+this.ab+1&this.ab}};
Q.Nq.hO=function(_,n,O){var l=Q.Nq.lk(_,n,O);if(n<l-1)Q.Nq.hO(_,n,l-1);if(l<O)Q.Nq.hO(_,l,O)};Q.Nq.lk=function(_,n,O){var l=_[n+O>>>1];
while(n<=O){while(_[n]<l)n++;while(_[O]>l)O--;if(n<=O){Q.Nq.Ds(_,n,O);n++;O--}}return n};Q.Nq.Ds=function(_,n,O){var l=_[n];
_[n]=_[O];_[O]=l};Q.X={};Q.X.u2=function(_){for(var m=0;m<_.length;m++)Q.X.$T(_,m)};Q.X.$T=function(_,m){_[m].v.keyShapeInvalidated={t:"bool",v:!0}};
Q.X.ats=function(_){for(var m=0;m<_.length;m++)_[m].v.keyOriginIndex.v=m};Q.X.A2=function(){return{t:"Objc",v:{classID:"null",keyOriginIndex:{t:"long",v:0},keyShapeInvalidated:{t:"bool",v:!0}}}};
Q.X.zz=function(_){_=_.v;var n={Rctn:2,Ln:4,Elps:5},O=n[_.classID],l=_.topLeft?Q.X.H$(_):null,x=null,t=0,h=[!1,!1,0,0,0];
if(O==4){var V=_.Strt.v,y=_.End.v;x=[V.Hrzn.v.val,V.Vrtc.v.val,y.Hrzn.v.val,y.Vrtc.v.val];t=_.Wdth.v.val;
for(var m=0;m<2;m++){var r=_[m==0?"StrA":"EndA"];if(r==null)continue;r=r.v;h[m]=r.On.v;h[2]=r.Wdth.v;
h[3]=r.Lngt.v;h[4]=r.Cncv.v.val}}if(O==null)return null;return Q.X.t_(O,O==4?null:Q.X.FB(_),l,x,t,h)};
Q.X.c0=function(_,n,O,l,x,t,h){var V={classID:_,unitValueQuadVersion:{t:"long",v:1}};if(n)Q.X.v5(V,["Left","Top","Rght","Btom"],n);
if(O)Q.X.v5(V,["topLeft","topRight","bottomRight","bottomLeft"],O);if(_=="Ln"){V.Strt={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:l[0]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:l[1]}}}},V.End={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:l[2]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:l[3]}}}},V.Wdth={t:"UntF",v:{type:"#Pxl",val:x}};
for(var m=0;m<2;m++){var y=m==0?"StrA":"EndA";V[y]={t:"Objc",v:{classID:"cArw",On:{t:"bool",v:h[m]},Wdth:{t:"doub",v:h[2]},Lngt:{t:"doub",v:h[3]},Cncv:{t:"UntF",v:{type:"#Prc",val:h[4]}}}}}}if(t)V.Nm={t:"TEXT",v:t};
return{t:"Objc",v:V}};Q.X.XM=function(_,n){var O=Q.X.zt(_),l=_[2]-_[0],x=_[3]-_[1],t=Math.sqrt(l*l+x*x),h=[0,0,t,0,t,n,0,n],V=new aY;
V.rotate(-O);V.translate(_[0],_[1]);Q.p.D(h,V,h);return h};Q.X.t_=function(_,n,O,l,x,t){var h=Q.X.A2(),V=h.v,y;
delete V.keyShapeInvalidated;V.keyOriginType={t:"long",v:_};V.keyOriginResolution={t:"doub",v:75};if(_==4){V.keyOriginLineStart={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:l[0]},Vrtc:{t:"doub",v:l[1]}}};
V.keyOriginLineEnd={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:l[2]},Vrtc:{t:"doub",v:l[3]}}};y=Q.X.XM(l,x);
var r=Q.p.Vx(y);n=[r.x,r.y,r.x+r.a,r.y+r.n];V.keyOriginLineWeight={t:"doub",v:x};if(t)Q.X.amk(V,t)}else y=[n[0],n[1],n[2],n[1],n[2],n[3],n[0],n[3]];
V.keyOriginBoxCorners={t:"Objc",v:{classID:"null"}};Q.X.ib(V,"keyOriginBoxCorners",y);var E={classID:"unitRect",unitValueQuadVersion:{t:"long",v:1}};
V.keyOriginShapeBBox={t:"Objc",v:E};Q.X.lE(V,n);if(O!=null){var a={classID:"radii",unitValueQuadVersion:{t:"long",v:1}};
V.keyOriginRRectRadii={t:"Objc",v:a};Q.X.uC(V,O)}return h};Q.X.D=function(_,n,O,l){var x=Q.r.vC(n),t=Q.r.Mn(n),h=Q.r.tt(n),V=h.EX*h.c5-h.k*h.av;
for(var m=0;m<_.length;m++){var y=_[m].v;if(!Q.X.YQ(y))continue;if(O.length!=0&&O.indexOf(m)==-1)continue;
var r=y.keyOriginType.v,E=n;if(V<0&&r==2){var a=Q.X.ZB(y),S=0;S=a[0];a[0]=a[1];a[1]=S;S=a[2];a[2]=a[3];
a[3]=S;Q.X.uC(y,a);var e=Q.X.CZ(y,"keyOriginBoxCorners"),P=Q.p.Vx(e),b=P.x+P.a/2,T=new aY;T.translate(-b,0);
T.scale(-1,1);T.translate(b,0);E=Q.r.kU(E,Q.r.Ct(T))}var C=["keyOriginPolyTrueRectCorners","keyOriginBoxCorners"];
for(var Z=0;Z<C.length;Z++){var e=Q.X.CZ(y,C[Z]);if(e==null)continue;Q.r.D(E,e);Q.X.ib(y,C[Z],e);var P=Q.p.Vx(e);
Q.X.lE(y,[P.x,P.y,P.x+P.a,P.y+P.n]);var W=new aY;W.rotate(-Q.X.zt(e));var s={classID:"Trnf"};y.Trnf={t:"Objc",v:s};
var q="xx xy yx yy tx ty".split(" "),g=[W.EX,W.k,W.av,W.c5,W.Wk,W.d7];for(var i=0;i<6;i++)s[q[i]]={t:"doub",v:g[i]}}if(r==2&&l){var a=Q.X.ZB(y);
for(var Z=0;Z<4;Z++)a[Z]=Math.round(a[Z]*n[0]);Q.X.uC(y,a)}var e=Q.X.CZ(y,"keyOriginBoxCorners"),u=e[2]-e[0],I=e[3]-e[1],Y=Math.sqrt(u*u+I*I);
u/=Y;I/=Y;var U=e[6]-e[0],F=e[7]-e[1],N=Math.sqrt(U*U+F*F);U/=N;F/=N;if(r==4){y.keyOriginLineWeight.v=N;
var o=Q.X.SU(y);Q.r.D(n,o);Q.X.aiO(y,o)}var X=u*U+I*F;if(Math.abs(X)>.001){Q.X.$T(_,m)}}};Q.X.YQ=function(_){var n=_.keyShapeInvalidated,O=_.keyOriginType;
return(n==null||!n.v)&&O!=null&&O.v!=9};Q.X.abN=function(_){var n=_.keyOriginType.v,O=Q.X.Ly(_),l=O[0],x=O[1],t=O[2],h=O[3],V=new aY,y=_.keyOriginPolyCornerRadius,e;
y=y?y.v:0;var r=Q.X.CZ(_,n==7||n==8?"keyOriginPolyTrueRectCorners":"keyOriginBoxCorners"),E=Q.X.jT(r),a=E[2],S=E[3];
l=-a/2;t=a/2;x=-S/2;h=S/2;V.rotate(-Q.X.zt(r));V.Wk=E[0];V.d7=E[1];if(n==1||n==2){var P=n==1?0:Q.X.ZB(_);
e=Q.M.tm.Rect(l,x,t-l,h-x,P)}else if(n==4){var b=Q.X.SU(_),T=Q.X.arM(_);V=new aY;if(T==null)e=Q.M.tm.Mk(b[0],b[1],b[2],b[3],_.keyOriginLineWeight.v);
else e=Q.M.tm.MU(b[0],b[1],b[2],b[3],_.keyOriginLineWeight.v,T)}else if(n==5){e=Q.M.tm.p6(l,x,t-l,h-x)}else if(n==7||n==8){var C=n==7?3:_.keyOriginPolySides.v;
e=Q.M.tm.oC(0,0,100,Math.PI/C-Math.PI/2,C,y,t,h)}Q.M.qp(e,V);return e};Q.X.oR=function(_,n){var O=n.i;
for(var m=0;m<_.length;m++){var l=_[m].v;if(!Q.X.YQ(l))continue;var x=Q.X.abN(l),t=Q.M.TH(O,m),h=Q.M.vM(O,m);
x[2].wM=O[t].wM;var V=O;O=O.slice(0,t);for(var y=2;y<x.length;y++)O.push(x[y]);for(var y=t+h;y<V.length;
y++)O.push(V[y])}n.i=O;n.na=!0};Q.X.pI=function(_){var n=1e9,O=-n,l=1e9,x=-l,t=[],h=_.cx(),V=h[0],y=h[1];
for(var r=0;r<y.length;r++){var E=V[y[r]],a=E.add.vogk;if(a==null)continue;var S=E.add.vmsk.g;for(var e=0;
e<a.length;e++){var P=a[e].v,C=0;if(!Q.X.YQ(P))continue;if(y.length==1&&S.length!=0&&S.indexOf(e)==-1)continue;
var b=P.keyOriginType.v;if(b==9)continue;var T=Q.X.Ly(P);n=Math.min(n,T[0]);l=Math.min(l,T[1]);O=Math.max(O,T[2]);
x=Math.max(x,T[3]);var Z=Q.X.CZ(P,"keyOriginBoxCorners");if(Z){var W=Q.X.jT(Z),s=W[2],f=W[3];T[2]=T[0]+s;
T[3]=T[1]+f;C=Q.X.zt(Z)}var q=[b,T,C];t.push(q);if(b==2)q.push(Q.X.ZB(P));if(b==7||b==8)q.push(P.keyOriginPolyCornerRadius.v);
if(b==8)q.push(P.keyOriginPolySides.v)}}return t.length==1?t[0]:[0,n<O?[n,l,O,x]:null,0]};Q.X.zt=function(_){var n=_[2]-_[0],O=_[3]-_[1];
return-Math.atan2(-O,n)};Q.X.$_=function(_){var n=Q.X.Ly(_);return Q.X.zt(n)};Q.X.a2s=function(_,n,O){var l=Q.X.pI(_),x=-1;
for(var m=0;m<n.length;m++)if(JSON.stringify(n[m])!=JSON.stringify(l[m]))x=m;if(x==1||x==2){}var t=_.cx(),h=t[0],V=t[1];
for(var y=0;y<V.length;y++){var r=h[V[y]],E=r.add.vogk;if(E==null)continue;var a=r.add.vmsk.g;for(var S=0;
S<E.length;S++){var e=E[S].v;if(!Q.X.YQ(e))continue;if(V.length==1&&a.length!=0&&a.indexOf(S)==-1)continue;
var P=e.keyOriginType.v;if(x==1||x==2){Q.X.D(E,Q.X.asV(x,e,l,n),a,!1);break}if(x==3)if(P==2)Q.X.uC(e,n[3]);
else e.keyOriginPolyCornerRadius.v=n[3];if(x==4)e.keyOriginPolySides.v=n[4];if(O)Q.X.$T(E,S)}}};Q.X.asV=function(_,n,O,l){var x=l[1],t=O[1],h=(x[2]-x[0])/(t[2]-t[0]),V=(x[3]-x[1])/(t[3]-t[1]),y=new aY;
if(_==1){if(Math.max(Math.abs(h-1),Math.abs(V-1))>1e-8){var r=x[0],E=x[1];if(l[0]!=0){var a=Q.X.CZ(n,"keyOriginBoxCorners");
r=a[0];E=a[1]}y.translate(-r,-E);y.rotate(l[2]);y.scale(h,V);y.rotate(-l[2]);y.translate(r,E)}else{y.translate(-t[0],-t[1]);
y.translate(x[0],x[1])}}else{if(l[0]!=0)x=Q.X.Ly(n);var r=(x[0]+x[2])/2,E=(x[1]+x[3])/2;y.translate(-r,-E);
if(O[0]!=0)y.rotate(O[2]);y.rotate(-l[2]);y.translate(r,E)}return Q.r.Ct(y)};Q.X.jT=function(_){var n=_[0],O=_[1],l=_[2],x=_[3],t=_[4],h=_[5],V=_[6],y=_[7],r=l-n,E=x-O,a=Math.sqrt(r*r+E*E),r=t-l,E=h-x,S=Math.sqrt(r*r+E*E);
return[(n+t)/2,(O+h)/2,a,S]};Q.X.CZ=function(_,n){var O=_[n];if(O==null)return null;var l=[];O=O.v;for(var x=0;
x<4;x++){var t=O["rectangleCorner"+["A","B","C","D"][x]].v;l.push(t.Hrzn.v,t.Vrtc.v)}return l};Q.X.ib=function(_,n,O){var l=_[n];
if(l==null)return null;l=l.v;for(var x=0;x<4;x++){var t="rectangleCorner"+["A","B","C","D"][x];l[t]={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:O[2*x]},Vrtc:{t:"doub",v:O[2*x+1]}}}}};
Q.X.Ly=function(_){return Q.X.FB(_.keyOriginShapeBBox.v)};Q.X.FB=function(_){var n=_.classID,O=_.Left.v,l=_.Rght.v,x=_.Top.v,t=_.Btom.v;
if(O.val!=null){O=O.val;l=l.val;x=x.val;t=t.val}return[O,x,l,t]};Q.X.lE=function(_,n){Q.X.v5(_.keyOriginShapeBBox.v,["Left","Top","Rght","Btom"],n)};
Q.X.ZB=function(_){return Q.X.H$(_.keyOriginRRectRadii.v)};Q.X.H$=function(_){var n=[],O=["topLeft","topRight","bottomRight","bottomLeft"];
for(var l=0;l<4;l++)n.push(_[O[l]].v.val);return n};Q.X.uC=function(_,n){Q.X.v5(_.keyOriginRRectRadii.v,["topLeft","topRight","bottomRight","bottomLeft"],n)};
Q.X.v5=function(_,n,O){var l=_.classID;if(l=="unitRect"||l=="radii"||l=="Rctn"){for(var m=0;m<4;m++)if(O[m]!=null)_[n[m]]={t:"UntF",v:{type:"#Pxl",val:O[m]}}}else{for(var m=0;
m<4;m++)if(O[m]!=null)_[n[m]]={t:"doub",v:O[m]}}};Q.X.SU=function(_){var n=_.keyOriginLineStart.v,O=_.keyOriginLineEnd.v;
return[n.Hrzn.v,n.Vrtc.v,O.Hrzn.v,O.Vrtc.v]};Q.X.aiO=function(_,n){var O=_.keyOriginLineStart.v,l=_.keyOriginLineEnd.v;
O.Hrzn.v=n[0];O.Vrtc.v=n[1];l.Hrzn.v=n[2];l.Vrtc.v=n[3]};Q.X.arM=function(_){var n=[],O=["owSt","owEnd","Wdth","Lngth","Conc"];
for(var m=0;m<5;m++){var l=_["keyOriginLineArr"+O[m]];if(l==null)return null;n[m]=l.v}return n};Q.X.amk=function(_,n){_.keyOriginLineArrowSt={t:"bool",v:n[0]};
_.keyOriginLineArrowEnd={t:"bool",v:n[1]};_.keyOriginLineArrWdth={t:"doub",v:n[2]};_.keyOriginLineArrLngth={t:"doub",v:n[3]};
_.keyOriginLineArrConc={t:"long",v:n[4]}};Q.X.a59=function(_){function n(g,i){return Math.abs(g-i)<.5}function O(g,i){return n(g.x,i.x)&&n(g.y,i.y)}function l(g,i,u,I,Y,U,F){for(var m=0;
m<F;m++){var N=g[i+(u+m)%F],o=I[Y+(U+m)%F];if(!(O(N.H,o.H)&&O(N.lz,o.lz)&&O(N.l6,o.l6)))return!1}return!0}var x=[],t=Q.M.Cw(_);
for(var h=0;h<t;h++){var V=null,y=Q.M.TH(_,h),r=_[y];if(r.length==4||r.length==8){var E=Q.M.Iy(_.slice(0,2).concat(_.slice(y,y+r.length+1)));
y=2;if(r.length==4){var a=Q.M.RX(E,y+1,4),S=a.x,b=a.y,T=S+a.a,C=b+a.n;if(a.O()>4){if(Q.M.qu(E.slice(y-2,y+5)))V=Q.X.t_(2,[S,b,T,C],[0,0,0,0]);
else{var Z=-1;for(var m=0;m<4;m++)if(n(E[y+1+m].H.y,C))Z=m;if(Z!=-1){var W=Q.M.tm.p6(S,b,T-S,C-b),s=l(E,y+1,Z,W,3,0,4);
if(s)V=Q.X.t_(5,[S,b,T,C])}}}}if(r.length==8){var a=Q.M.RX(E,y+1,8),S=a.x,b=a.y,T=S+a.a,C=b+a.n;if(a.O()>4){var Z=-1;
for(var m=0;m<8;m++)if(n(E[y+1+(m+1&7)].H.y,b)&&n(E[y+1+(m+2&7)].H.y,b))Z=m;if(Z!=-1){var f=Math.abs(E[y+1+Z].H.y-b),q=[f,f,f,f];
if(f>.5){var W=Q.M.tm.Rect(S,b,T-S,C-b,q),s=l(E,y+1,Z,W,3,0,8);if(s)V=Q.X.t_(2,[S,b,T,C],q)}}}}}x.push(V?V:Q.X.A2())}return x};
Q.p={};Q.p.clone=function(_){return{F:_.F.slice(0),C:_.C.slice(0)}};Q.p.Ik=function(_){if(_.length<6)return!0;
var n=_.length-4;for(var m=0;m<n;m+=2)if(!Q.p.F$(_[m],_[m+1],_[m+2],_[m+3],_[m+4],_[m+5]))return!1;if(!Q.p.F$(_[n],_[n+1],_[n+2],_[n+3],_[0],_[1]))return!1;
if(!Q.p.F$(_[n+2],_[n+3],_[0],_[1],_[2],_[3]))return!1;return!0};Q.p.F$=function(_,n,O,l,x,t){return(n-l)*(x-O)+(O-_)*(t-l)>=0};
Q.p.OD=function(_){var n={},O=null,l=0,x={M:2,L:2,Q:4,C:6},t="",h="";for(var m=0;m<_.F.length;m++){var V=_.F[m];
if(V[0]=="#")t=V;else if(V[0]=="X")t="";else if(V[0]=="O"&&V[1]=="-")h=V;else if(V=="OX")h="";else{var y=t+h;
O=n[y];if(O==null)O=n[y]={C:[],F:[]};O.F.push(V);var r=x[V];if(r==null)r=0;for(var E=0;E<r;E++)O.C.push(_.C[l+E]);
l+=r}}return n};Q.p.VQ=function(_,n,O){var l=_[n]-_[O-2],x=_[n+1]-_[O-1];return l*l+x*x<1e-4};Q.p.mg=function(_,n,O){_=Q.p.OK(_);
var l=_.C,x=_.F,t=0,h="",V=0,y=0,t=0,a=null;for(var m=0;m<x.length;m++){var r=x[m];if(r=="M"){V=l[t];
y=l[t+1];t+=2;h=r}if(r=="C"){if(h=="Z"){x.splice(m,0,"M");l.splice(t,0,V,y);m--;continue}t+=6;h=r}if(r=="Z"){h=r}}var E=[];
t=0;for(var m=0;m<x.length;m++){var r=x[m];if(r=="M"){a={hh:t,mY:0,oN:!1};E.push(a);t+=2}if(r=="C"){a.mY++;
t+=6}if(r=="Z"&&a!=null){a.oN=!0}}var S=[];for(var m=0;m<E.length;m++)if(E[m].mY!=0)S.push(E[m]);E=S;
for(var m=0;m<E.length;m++){var e=E[m],P=e.hh,b=P+2+e.mY*6,C=0;e.hT=Q.p.Vx(l,P,b);var T=Q.p.VQ(l,P,b);
for(var Z=0;Z<e.mY;Z++){var W=P+Z*6,s=W+6;C+=(l[s]-l[W])*(l[s+1]+l[W+1])}if(e.mY==2){var f=function(hl,j,w){var B=1-w;
return B*B*B*hl[j]+3*B*B*w*hl[j+2]+3*B*w*w*hl[j+4]+w*w*w*hl[j+6]},q=l[P],g=l[P+1],i=l[P+6],u=l[P+7],I=l[P+6],Y=l[P+7],U=f(l,P,.5),F=f(l,P+1,.5),N=f(l,P+6,.5),o=f(l,P+7,.5);
C=(U-q)*(F-g)+(i-U)*(u-F)+(N-i)*(o-u)+(I-N)*(Y-o)}if(!T)C+=(l[P]-l[b-2])*(l[P+1]+l[b-1]);e.en=C<=0}for(var m=0;
m<E.length-1;m++)for(var W=m+1;W<E.length;W++){var X=E[m],J=E[W];if(J.hT.rz(X.hT)){E[m]=J;E[W]=X}}var c=E.length==0?!0:E[0].en,p=[{type:6},{type:8,all:0}];
for(var m=0;m<E.length;m++){var e=E[m],P=e.hh,b=P+2+e.mY*6,T=Q.p.VQ(l,P,b),d=e.oN||T?0:3,k=e.en==c&&!n?1:0;
if(!n&&m!=0){if(E[m-1].hT.rz(e.hT)&&E[m-1].en!=e.en)k=0;for(var W=0;W<E.length;W++)if(W!=m&&E[W].hT.rz(e.hT))k=0}p.push({type:d,length:e.mY+(T?0:1),wM:O?1:k,kr:2});
for(var W=0;W<e.mY;W++){var t=P+W*6,A=new aW(l[t],l[t+1]),$=new aW(l[t+2],l[t+3]),K;if(W==0){if(T){K=new aW(l[b-4],l[b-3]);
if(aW.nT(K,A)<1e-5)K=A.clone()}else K=A.clone()}else K=new aW(l[t-2],l[t-1]);p.push({type:d+2,lz:K,H:A,l6:$})}if(!T){var G=new aW(l[b-2],l[b-1]);
p.push({type:d+2,lz:new aW(l[b-4],l[b-3]),H:G,l6:G.clone()})}}for(var W=0;W<p.length;W++){var z=p[W];
if(z.type>5||z.type==0||z.type==3)continue;var M=z.lz.yO(z.H)||z.l6.yO(z.l6);if(!M){var X=z.lz.x*(z.H.y-z.l6.y)+z.H.x*(z.l6.y-z.lz.y)+z.l6.x*(z.lz.y-z.H.y);
if(Math.abs(X)<1e-6)M=!0}if(M)z.type--}return p};Q.p.qN=function(_,n){var O=Q.M.Cw(_),l=[];for(var m=2;
m<_.length;m++){var x=_[m].wM;if(x!=null){if(x==2||x==0||x==3)l.push(x)}}var t=l.length!=0;if((t||n)&&_.length<15e3&&1<O&&O<200)_=Q.M.$q(_);
var h=Q.p.cX(_);return{SD:h,xF:t?1:0}};Q.p.cX=function(){function _(l,x,t,h){if(!h&&l.l6.yO(l.H)&&x.lz.yO(x.H)){t.C.push(x.H.x,x.H.y);
t.F.push("L")}else{var V=l.H,y=l.l6,r=x.lz,E=x.H,a=3/2*y.x-1/2*V.x,S=3/2*y.y-1/2*V.y,e=3/2*r.x-1/2*E.x,P=3/2*r.y-1/2*E.y,b=e-a,T=P-S;
if(!h&&b*b+T*T<.001){t.C.push((a+e)*.5,(S+P)*.5,E.x,E.y);t.F.push("Q")}else{t.C.push(y.x,y.y,r.x,r.y,E.x,E.y);
t.F.push("C")}}}function n(l,x,m,t,h,V){var y=x[m];l.C.push(y.H.x,y.H.y);l.F.push("M");for(var r=m;r<m+t-1;
r++)_(x[r],x[r+1],l,V);if(!h)_(x[r],x[m],l,V)}function O(l,x){l=Q.M.Iy(l);if(x==null)x=!1;var t={C:[],F:[]};
for(var m=0;m<l.length;m++){if(l[m].type>5)continue;var h=l[m].length;if(h==0)continue;if(m==l.length-1)break;
var V=l[m].type==3;n(t,l,m+1,h,V,x);if(!V)t.F.push("Z");m+=h}return t}return O}();Q.p.a6J=function(_){var n=_.C,O=[],l,x=0;
for(var m=0;m<_.F.length;m++){var t=_.F[m];if(t=="C"){l.push(n[x++],n[x++],n[x++],n[x++],n[x++],n[x++])}else if(t=="Z"){}else{l=[];
if(t!="M"){l.push(t);m++}l.push(n[x++],n[x++]);O.push(l)}}return O};Q.p.az=function(_,n,O,l){if(l==null)l=1e9;
var x=1e9,t=0;for(var m=0;m<_.length;m+=2){var h=n-_[m],V=O-_[m+1],y=h*h+V*V;if(y<x){x=y;t=m>>>1}}return x<l*l?t:-1};
Q.p.My=function(_,n,O,l){for(var m=0;m<_.length;m+=2){var x=_[m],t=_[m+1],h=n[m],V=n[m+1];O[m]=x+(h-x)*l;
O[m+1]=t+(V-t)*l}};Q.p.D=function(_,n,O){for(var m=0;m<_.length;m+=2){var l=_[m],x=_[m+1];O[m]=l*n.EX+x*n.av+n.Wk;
O[m+1]=l*n.k+x*n.c5+n.d7}};Q.p.Vx=function(_,n,O){if(n==null)n=0;if(O==null)O=_.length;var l=99999999999,x=-l,t=99999999999,h=-t;
for(var m=n;m<O;m+=2){var V=_[m],y=_[m+1];l=Math.min(l,V);t=Math.min(t,y);x=Math.max(x,V);h=Math.max(h,y)}return new a8(l,t,x-l,h-t)};
Q.p.Kg=function(_,n){var O=Math.max(n.x,Math.min(n.x+n.a,_.x)),l=Math.max(n.y,Math.min(n.y+n.n,_.y)),x=_.x-O,t=_.y-l;
return Math.sqrt(x*x+t*t)};Q.p.tR=function(_){if(_.wk())return new a8(Math.floor(_.x),Math.floor(_.y),Math.ceil(_.a),Math.ceil(_.n));
var n=Math.floor(_.x),O=Math.ceil(_.x+_.a),l=Math.floor(_.y),x=Math.ceil(_.y+_.n);return new a8(n,l,O-n,x-l)};
Q.p.f0=function(_){return Q.p.tR(Q.p.Vx(_))};Q.p.ta=function(_){var n=_.x,O=_.y,l=_.x+_.a,x=_.y+_.n;
return{F:["M","L","L","L","Z"],C:[n,O,l,O,l,x,n,x]}};Q.p.concat=function(_,n,O){if(O==null)O=new aY;
for(var m=0;m<n.C.length;m+=2){var l=n.C[m],x=n.C[m+1];_.C.push(l*O.EX+x*O.av+O.Wk);_.C.push(l*O.k+x*O.c5+O.d7)}for(var m=0;
m<n.F.length;m++)_.F.push(n.F[m])};Q.p.arB=function(_,n,O,l,x){function t(S,e,P){return new aW(S.x*(1-P)+e.x*P,S.y*(1-P)+e.y*P)}var h=t(_,n,x),V=t(O,l,x),y=t(n,O,x),r=t(h,y,x),E=t(y,V,x),a=t(r,E,x);
return[h,r,a,E,V]};Q.p.OK=function(_){var n=_.C,O=[],l=[],x=0,t=0,h=0,V=0,y=0,r=0,E=0,a=0,S=0,e=0,P=0;
for(var m=0;m<_.F.length;m++){var b=_.F[m];if(b=="M"){t=n[x];h=n[x+1];x+=2;l.push(b);O.push(t,h);e=t;
P=h}else if(b=="C"){V=n[x];y=n[x+1];r=n[x+2];E=n[x+3];a=n[x+4];S=n[x+5];x+=6;l.push(b);O.push(V,y,r,E,a,S);
t=a;h=S}else if(b=="Q"){V=n[x];y=n[x+1];r=n[x+2];E=n[x+3];x+=4;var T=V-t,C=y-h,Z=r-V,W=E-y;l.push("C");
O.push(t+2/3*T,h+2/3*C,V+1/3*Z,y+1/3*W,r,E);t=r;h=E}else if(b=="L"){V=n[x];y=n[x+1];x+=2;if(V!=t||y!=h){l.push("C");
O.push(t,h,V,y,V,y);t=V;h=y}}else{if(b=="Z"){t=e;h=P}l.push(b)}}return{F:l,C:O}};Q.p.auJ=function(_){var n=_.C,O=[],l=[],x=0;
for(var m=0;m<_.F.length;m++){var t=_.F[m];if(t=="Q"){var h=n[x-2],V=n[x-1],y=n[x],r=n[x+1],E=n[x+2],a=n[x+3];
x+=4;var S=y-h,e=r-V,P=E-y,b=a-r;l.push("C");O.push(h+2/3*S,V+2/3*e,y+1/3*P,r+1/3*b,E,a)}else{var T=0;
if(t=="M"||t=="L")T=2;else if(t=="C")T=6;for(var C=0;C<T;C++)O.push(n[x+C]);x+=T;l.push(t)}}return{F:l,C:O}};
Q.p.Gz=function(_,n){var O=_.C,l=[],x=[],t=0,h=0,V=0,y=0,r=0,E=0,a=0,S=0,e=0;for(var m=0;m<_.F.length;
m++){var P=_.F[m];if(P=="M"){h=O[t];V=O[t+1];t+=2;x.push(P);l.push(h,V)}else if(P=="C"){y=O[t];r=O[t+1];
E=O[t+2];a=O[t+3];S=O[t+4];e=O[t+5];t+=6;Q.p.Zm(h,V,y,r,E,a,S,e,n,x,l,0);h=S;V=e}else x.push(P)}return{F:x,C:l}};
Q.p.Zm=function(_,n,O,l,x,t,h,V,y,r,E,a){var S=Math.sqrt((h-_)*(h-_)+(V-n)*(V-n)),e=Math.sqrt((h-x)*(h-x)+(V-t)*(V-t))+Math.sqrt((x-O)*(x-O)+(t-l)*(t-l))+Math.sqrt((O-_)*(O-_)+(l-n)*(l-n)),P=(S+e)/2;
if(P<=y){r.push("C");E.push(O,l,x,t,h,V)}else{var b=0,T=0,C=0,Z=0,W=0,s=0,f=0,q=0,g=0,i=0,u=0,I=0,Y=0;
T=(_+O)/2;C=(n+l)/2;Z=(O+x)/2;W=(l+t)/2;s=(x+h)/2;f=(t+V)/2;q=(T+Z)/2;g=(C+W)/2;i=(Z+s)/2;u=(W+f)/2;
I=(q+i)/2;Y=(g+u)/2;Q.p.Zm(_,n,T,C,q,g,I,Y,y,r,E,a+1);Q.p.Zm(I,Y,i,u,s,f,h,V,y,r,E,a+1)}};Q.p.e0=function(_,n,O,l,x){var t=Date.now(),h=Q.p.aaU(_,n,O);
if(x){console.log("trace polygons",Date.now()-t);t=Date.now()}var V=[];for(var m=0;m<h.length;m++){var y=h[m],r=y[0],E=["M"],a=_[r[1]*n+r[0]];
if(r.length>8)r=Q.p.GJ(r,l,y[1]);if(r.length<=4)continue;for(var S=2;S<r.length;S+=2)E.push("L");E.push("Z");
V.push({path:{C:r,F:E},color:a,parent:-1,hT:Q.p.Vx(r)})}if(x){console.log("simplify polygons",Date.now()-t);
t=Date.now()}for(var m=1;m<V.length;m++){var e=V[m],P=e.path.C,b=P[0],T=P[1],C=P[2],Z=P[3],W=C-b,s=Z-T,f=b+.5*W-.001*s,q=T+.5*s+.001*W;
for(var S=m-1;S>=0;S--){var g=V[S];if(!g.hT.rz(e.hT))continue;if(!a2.WI(g.path.C,f,q))continue;e.parent=S;
break}}if(x){console.log("checking parents",Date.now()-t);t=Date.now()}return V};Q.p.aaU=function(_,n,O){var l=n*O,x=new Uint16Array(n*O),h=0;
for(var m=0;m<l;m++)x[m]=_[m];var t=new Uint8Array(n*O);t[1*n+1]=t[(O-1)*n+1]=t[1*n+n-1]=t[(O-1)*n+n-1]=1;
for(var V=1;V<O;V++)for(var y=1;y<n;y++){var m=V*n+y,r=x[m-n-1],E=x[m-n],a=x[m-1],S=x[m],e=r==S&&E==a&&r!=E,P=0;
if(S<a){h=S;S=a;a=h}if(a<E){h=a;a=E;E=h}if(E<r){h=E;E=r;r=h}if(S<a){h=S;S=a;a=h}if(a<E){h=a;a=E;E=h}if(S<a){h=S;
S=a;a=h}if(r!=E)P++;if(E!=a)P++;if(a!=S)P++;if(S!=r)P++;if(P>=3||e)t[m]=1}var b=[];for(var V=1;V<O;V++)for(var y=1;
y<n;y++){var m=V*n+y;if(x[m]!=x[m-1]){var T=Q.p.ar8(x,n,O,y,V),C=[];for(var Z=0;Z<T.length;Z+=2)if(t[T[Z+1]*n+T[Z]]==1)C.push(Z>>>1);
b.push([T,C]);Q.p.pM(x,n,O,y,V)}}return b};Q.p.pM=function(_,n,O,l,x){var t=[x*n+l],h=_[x*n+l];_[x*n+l]=65535;
while(t.length!=0){var m=t.pop();_[m]=0;if(_[m+n]==h){t.push(m+n);_[m+n]=65535}if(_[m-n]==h){t.push(m-n);
_[m-n]=65535}if(_[m-1]==h){t.push(m-1);_[m-1]=65535}if(_[m+1]==h){t.push(m+1);_[m+1]=65535}}};Q.p.ar8=function(_,n,O,l,x){var t=[0,-1,1,0,0,1,-1,0],E=1;
function h(S,e,E){var m=r*n+y,P=0;if(E==0)P=m-n;else if(E==1)P=m;else if(E==2)P=m-1;else if(E==3)P=m-n-1;
return _[P]}var V=[],y=l,r=x,a=h(y,r,E);do{V.push(y,r);y+=t[E*2];r+=t[E*2+1];if(h(y,r,E)!=a)E=E+1&3;
else if(h(y,r,E+3&3)!=a)E=E;else if(h(y,r,E+2&3)!=a)E=E+3&3}while(y!=l||r!=x);return V};Q.p.GJ=function(_,n,O){var l=_.length-2;
if(O&&O.length!=0){var x=O[0]*2,t=O[O.length-1]*2,h=x==0?l:x-2,V=_.slice(t);for(var m=0;m<x;m++)V.push(_[m]);
if(x==t)V.push(.9*_[x]+.1*_[h],.9*_[x+1]+.1*_[h+1]);else V.push(_[x],_[x+1]);V=Q.p.H3(V,n);V.pop();V.pop();
for(var m=0;m<O.length-1;m++){var y=_.slice(O[m]*2,O[m+1]*2+2);y=Q.p.H3(y,n);for(var r=0;r<y.length-2;
r++)V.push(y[r])}return V}var E=_.slice(0);E.push(.9*_[0]+.1*_[l],.9*_[1]+.1*_[l+1]);E=Q.p.H3(E,n);E.pop();
E.pop();return E};Q.p.H3=function(_,n){var O=_.length-2,l=_[0],x=_[1],t=_[O],h=_[O+1],V=t-l,y=h-x,r=1/Math.sqrt(V*V+y*y),E=t*x-h*l,a=-1,S=-1,e=0;
for(var m=2;m<O;m+=2){var P=_[m],b=_[m+1],T=b*b*1e6+P*P,C=Math.abs(y*P-V*b+E)*r;if(C>S||C==S&&T>e){S=C;
a=m;e=T}}if(S<n)return[l,x,t,h];var Z=Q.p.H3(_.slice(0,a+2),n),W=Q.p.H3(_.slice(a),n);for(var m=2;m<W.length;
m++)Z.push(W[m]);return Z};Q.p.agF=function(){var _=function(l,x,t,h,V,y){return(x-h)*(V-t)+(t-l)*(y-h)>=0},n=function(l,x,t,h,V,y,r,E){var a=r-t,S=E-h,e=V-t,P=y-h,b=l-t,T=x-h,C=a*a+S*S,Z=a*e+S*P,W=a*b+S*T,s=e*e+P*P,f=e*b+P*T,q=1/(C*s-Z*Z),g=(s*W-Z*f)*q,i=(C*f-Z*W)*q;
return g>=0&&i>=0&&g+i<1},O=function(l){var ab=l.length>>>1,m=0;if(ab<3)return[];var x=[],t=[];for(var m=0;
m<ab;m++)t.push(m);var h=ab;while(h>3){var V=t[(m+0)%h],y=t[(m+1)%h],r=t[(m+2)%h],E=l[2*V],a=l[2*V+1],S=l[2*y],e=l[2*y+1],P=l[2*r],b=l[2*r+1],T=!1;
if(_(E,a,S,e,P,b)){T=!0;for(var C=0;C<h;C++){var Z=t[C];if(Z==V||Z==y||Z==r)continue;if(n(l[2*Z],l[2*Z+1],E,a,S,e,P,b)){T=!1;
break}}}if(T){x.push(V,y,r);t.splice((m+1)%h,1);h--;m=0}else if(m++>3*h)break}x.push(t[0],t[1],t[2]);
return x};return O}();Q.p.arl=function(_,n){var O={},l={F:[],C:[]};for(var m=0;m<n.length;m+=3){var x=n[m]*2,t=n[m+1]*2,h=n[m+2]*2;
Q.p.li(_,x,t,l,O);Q.p.li(_,x,h,l,O);Q.p.li(_,t,h,l,O)}return l};Q.p.li=function(_,n,O,l,x){if(n>O){var t=O;
O=n;n=t}if(x[n+","+O])return;x[n+","+O]=!0;l.F.push("M","L");l.C.push(_[n],_[n+1],_[O],_[O+1])};Q.p.ga=function(_,n){var O=[],l=_.length;
for(var m=0;m<l;m+=2){var x=_[m],t=_[m+1],h=_[(m+2)%l],V=_[(m+3)%l];if(V<t){var y=t;t=V;V=y}if(t<n&&n<V){var r=(n-t)/(V-t);
O.push(x+r*(h-x))}}O.sort(function(E,a){return E-a});return O};Q.p.ZJ=function(_,n,O,l,x,t,h){var V=_-O,y=n-l,r=x-O,E=t-l,a=1/Math.sqrt(V*V+y*y),S=1/Math.sqrt(r*r+E*E),e=V*a,P=y*a,b=r*S,T=E*S,C=P*h,Z=-e*h,W=-T*h,s=b*h,f=Q.p.QB(C,Z,e,P,W,s,b,T),q=C+e*f,g=Z+P*f,f=Q.p.QB(0,0,e,P,q,g,-P,e),i=e*f,u=P*f;
return[Math.sqrt(i*i+u*u),e,P,b,T]};Q.p.a0F=function(_,n,O,l,x,t,h){var V=Q.p.ZJ(_,n,O,l,x,t,h),y=V[0],r=V[1],E=V[2],a=V[3],S=V[4],e=Math.atan2(r*S-E*a,r*a+E*S);
if(e<0){e=e*-1}var P=Math.PI-e,b=4/3*Math.tan(P/4),T=O+y*r,C=l+y*E,Z=O+y*a,W=l+y*S,s=T+b*h*-r,f=C+b*h*-E,q=Z+b*h*-a,g=W+b*h*-S;
return[0,0,T,C,s,f,q,g,Z,W]};Q.p.QB=function(_,n,O,l,x,t,h,V){var y=h*(n-t)-V*(_-x),r=V*O-h*l;if(r==0)return 0;
return y/r};Q.p.a7N=function(_,n,O,l,x,t){return _*(l-t)+O*(t-n)+x*(n-l)};Q.p.af8=function(_){function n(N,o,X,J,c,p,d,k,A){var $=Q.p.QB(N,o,X,J,c,p,d,k);
A.push(N+X*$,o+J*$)}var O=[],l=_.length,x=[];for(var m=0;m<l;m+=2){var t=m==0?l-2:m-2,h=m==l-2?0:m+2,V=_[m],y=_[m+1],r=V-_[t],E=y-_[t+1],a=_[h]-V,S=_[h+1]-y,e=Math.sqrt(r*r+E*E),P=Math.sqrt(a*a+S*S);
x.push(P);var b=e/(e+P),T=V-r*.5,C=y-E*.5,Z=V+a*.5,W=y+S*.5,s=(_[h]+_[t])*.5,f=(_[h+1]+_[t+1])*.5,q=T+b*(Z-T),g=C+b*(W-C),i=V-q,u=y-g,I=(a*-r+S*-E)/(e*P),Y=(b-.5)*7,U=1+Y*b,F=1-Y*(1-b);
O.push(T+i*U,C+u*U,Z+i*F,W+u*F)}return O};Q.KL=function(){};Q.KL.xj=function(_,n,O,l,x){var t=O.a,h=O.n,V=t*h,y=new Int32Array(V),ab=0;
for(var m=0;m<V;m++)if(n[m]!=0){y[m]=ab;ab++}else if(_[(m<<2)+3]<200){y[m]=-2}else y[m]=-1;if(ab==0)return;
var r=new Q.c8(ab,ab),E=new Array(3*ab),a=new Array(3*ab);for(var m=0;m<a.length;m++)a[m]=E[m]=0;var S=1/255,e=[-t,-1,1,t],P=[],b=[];
for(var T=0;T<h;T++)for(var C=0;C<t;C++){var Z=T*t+C,W=Z<<2,m=y[Z],s=m*3,f=0,q=0,g=0;if(m==-1||m==-2)continue;
for(var i=0;i<4;i++){if(i==2){q=g;P[g]=0;b[g]=m;g++}var u=Z+e[i],I=u<<2,Y=y[u];if(i==0&&T==0||i==1&&C==0||i==2&&C==t-1||i==3&&T==h-1||Y==-2)continue;
f++;if(Y==-1){E[s+0]+=_[I+0];E[s+1]+=_[I+1];E[s+2]+=_[I+2]}else{P[g]=-1;b[g]=Y;g++;if(n[Z]==n[u]){E[s+0]+=_[W+0]-_[I+0];
E[s+1]+=_[W+1]-_[I+1];E[s+2]+=_[W+2]-_[I+2]}}}P[q]=f;r.gC(P,b,g)}for(var m=0;m<V;m++)if(y[m]!=-1){var U=m<<2,F=y[m],N=F*3;
a[N]=_[U+0];a[N+1]=_[U+1];a[N+2]=_[U+2]}var o=Date.now();r.a7X(a,E,l,x);console.log(Date.now()-o);for(var m=0;
m<V;m++){var F=y[m],X=F*3,U=m<<2;if(F==-1||_[U+3]!=255)continue;_[U+0]=~~(.5+Math.max(0,Math.min(255,a[X+0])));
_[U+1]=~~(.5+Math.max(0,Math.min(255,a[X+1])));_[U+2]=~~(.5+Math.max(0,Math.min(255,a[X+2])))}};Q.rect={};
Q.rect.sj=function(_,n){var O=[_],l=[];for(var m=0;m<n.length;m++){var x=n[m],t=!1;for(var h=m+1;h<n.length;
h++){var V=n[h];if(V[0]<=x[0]&&V[1]<=x[1]&&x[2]<=V[2]&&x[3]<=V[3]){t=!0;break}}if(!t)l.push(x)}n=l;for(var m=0;
m<n.length;m++){var x=n[m];for(var h=0;h<O.length;h++){var V=O[h],y=Math.max(x[0],V[0]),r=Math.min(x[2],V[2]),E=Math.max(x[1],V[1]),a=Math.min(x[3],V[3]);
if(y<r&&E<a){var S=[];if(V[1]<x[1]){var e=V.slice(0);e[3]=x[1];S.push(e)}if(V[0]<x[0]){var P=V.slice(0);
P[1]=E;P[2]=x[0];S.push(P)}if(x[2]<V[2]){var b=V.slice(0);b[1]=E;b[0]=x[2];S.push(b)}if(x[3]<V[3]){var T=[y,a,r,V[3]];
S.push(T)}if(S.length!=0){O[h]=S[0];for(var C=1;C<S.length;C++)O.push(S[C])}}}O.push(x);O=Q.rect.awB(O)}O.sort(function(x,V){return x[1]!=V[1]?x[1]-V[1]:x[0]-V[0]});
for(var m=1;m<O.length;m++){var x=O[m-1],V=O[m];if(x[0]==V[0]&&x[1]==V[1]&&x[2]==V[2]&&x[3]==V[3]){O.splice(x[4]==null?m-1:m,1);
m--}}return O};Q.rect.awB=function(_){_=_.slice(0);for(var m=0;m<_.length;m++){var n=_[m],O=null;if(n[4]!=null)continue;
for(var l=0;l<_.length;l++){var x=_[l];if(m==l||x[4]!=null)continue;var t=n[0]==x[0],h=n[1]==x[1],V=n[2]==x[2],y=n[3]==x[3];
if(h&&y&&(n[2]==x[0]||n[0]==x[2])){O=[Math.min(n[0],x[0]),n[1],Math.max(n[2],x[2]),n[3]]}if(t&&V&&(n[3]==x[1]||n[1]==x[3])){O=[n[0],Math.min(n[1],x[1]),n[2],Math.max(n[3],x[3])]}if(O){_[m]=O;
_.splice(l,1);break}}if(O){m--}}return _};Q.rect.Fj=function(_){var n=new a8;for(var m=0;m<_.length;
m++)n=n.uG(_[m]);return n};Q.rect.a2g=function(_,n){var O=Q.rect.Fj,l=new UnionFind(_.length),q=1e3,g=1e3;
for(var m=0;m<_.length;m++)for(var x=m+1;x<_.length;x++){if(!n)continue;var t=_[m],h=_[x],a=1e9,S=1e9;
if(t.JS(h)){l.link(m,x);continue}var V=t.x+t.a,y=t.y+t.n,r=h.x+h.a,E=h.y+h.n;if((V<h.x||r<t.x)&&(y<h.y||E<t.y))continue;
if(!(y<h.y||E<t.y))a=Math.min(Math.abs(V-h.x),Math.abs(t.x-r));if(!(V<h.x||r<t.x))S=Math.min(Math.abs(y-h.y),Math.abs(t.y-E));
var e=Math.min(a,S),P=Math.min(t.a,t.n,h.a,h.n);if(e<.3*P)l.link(m,x)}var b=[],T={};for(var m=0;m<_.length;
m++){var C=l.find(m),Z=_[m];if(T[C]==null){T[C]=b.length;b.push([])}b[T[C]].push(Z)}var W=[],s=[];for(var m=0;
m<b.length;m++){W.push(O(b[m]));var f=O(b[m]);f.Ky=m;s.push(f)}s.sort(function(J,c){return Math.max(c.n,c.a)-Math.max(J.n,J.a)});
var i=new NETXUS.RectanglePacker(q,g);while(!0){var u=!1;i.reset(q,g);for(var m=0;m<s.length;m++){var I=i.findCoords(s[m].a,s[m].n);
if(I){s[m].x=I.x;s[m].y=I.y}else{q=Math.floor(q*1.1);g=Math.floor(g*1.1);u=!0;break}}if(u)continue;break}for(var m=0;
m<b.length;m++){var Y=s[m],U=Y.Ky,F=W[U],N=b[U],o=Y.x-F.x,X=Y.y-F.y;for(var x=0;x<N.length;x++)N[x].offset(o,X)}};
Q.k4=function(){};Q.k4.BV=Math.floor(16*window.devicePixelRatio);Q.k4.Mj={};Q.k4.r5=0;Q.k4.sG=[[12,76,2],[12,76,3],[12,76,4],[12,76,5],[12,76,6]];
Q.k4.a3f=["px","in","cm","mm","%"];Q.k4.dJ=function(_,n,O,l){var x=[1,n,n/2.54,n/25.4,O/100][l];return _*x};
Q.k4.ae3=function(_,n,O,l){var x=[1,n,n/2.54,n/25.4,O/100][l];return _/x};Q.k4.eI=function(_,n,O,l,x){var t=O.lW.Go,h=[1,n,n/2.54,n/25.4,l/100][t],V=[2,3,2,1,2][t];
_=_/h;var y=Math.round(_),r=t==0&&Math.abs(_-y)<1e-6?y+"":_.toFixed(V);if(x)r+=" "+Q.k4.a3f[t];return r};
Q.k4.amw=function(_,n,O,l){var x=O.lW.Go,t=[1,n,n/2.54,n/25.4,l/100][x];_=parseFloat(_)*t;return _};
Q.k4.akz=function(_,n){var O=_+","+n;if(Q.k4.Mj.clr==O)return;var l=Math.round(Q.k4.BV*.5);Q.k4.r5=l;
var x=document.createElement("canvas");x.width=x.height=l;var t=x.getContext("2d");t.font=l*1.5+"px monospace";
var h="0 1 2 3 4 5 6 7 8 9 -".split(" ");for(var m=0;m<h.length;m++){t.fillStyle="#"+Q.sN(n);t.fillRect(0,0,l,l);
t.fillStyle="#"+Q.sN(_);t.fillText(h[m],0,l);Q.k4.Mj[h[m]]=t.getImageData(0,0,l,l).data}Q.k4.Mj.clr=O};
Q.k4.a7o=function(_,n,O){var l=0,x=0,t=4*Q.k4.BV;for(var m=9;m>=0;m--){var h=Math.pow(10,m);if(5*h*_<=t){l=5*h;
x=10;break}if(2*h*_<=t){l=2*h;x=4;break}if(1*h*_<=t){l=1*h;x=10;break}}if(l==0){l=1;x=10}var V=Math.ceil(l*_),y=Q.Q(V*Q.k4.BV*4);
Q.qs(y,4278190080|O);for(var m=0;m<Q.k4.BV;m++)Q.k4.Gh(y,4*m*V,n);for(var m=0;m<V;m++)Q.k4.Gh(y,4*((Q.k4.BV-1)*V+m),n);
if(l==2)x=2;if(l==5)x=5;if(l>1||l==1&&V>20)for(var m=1;m<x;m++)Q.k4.a88(y,m*(V/x),V,(m&1)==1?.8:.7,n);
return{G7:y,step:l}};Q.k4.a88=function(_,n,O,l,x){var n=Math.round(n);for(var t=Math.round(Q.k4.BV*l);
t<Q.k4.BV-1;t++)Q.k4.Gh(_,4*(t*O+n),x)};Q.k4.Gh=function(_,n,O){_[n+0]=O>>16&255;_[n+1]=O>>8&255;_[n+2]=O&255};
Q.k4.app=function(_,n,O,l,x,t,h){var V=_.l_.a,y=_.l_.n,r=Q.k4.BV,E=n&255,a=n>>8&255,S=n>>16&255;n=Math.round(E*.6)<<16|Math.round(a*.6)<<8|Math.round(S*.6);
Q.k4.akz(Math.round(E*.8)<<16|Math.round(a*.8)<<8|Math.round(S*.8),O);var e=_.K,P=_.R,b=_.ws;for(var T=0;
T<2;T++){var C=T==0?t:h;_.K=C[0];_.R=C[1];_.ws=0;var Z=this.a7o(_.K,n,O),W=_.vk(0,0),s=_.vk(V,y),f=Math.floor(W.x/Z.step)*Z.step,q=Math.ceil(s.x/Z.step)*Z.step,g=Math.floor(W.y/Z.step)*Z.step,i=Math.ceil(s.y/Z.step)*Z.step,u=_.KS(f,g),I=_.KS(q,g),Y=Z.step*_.K,U=Math.ceil(Y);
if(T==1){var F=Z.G7;Z.G7=Q.Q(F.length*4);Q.r.Z4(F,Z.G7,U,r)}var N=T==0?_.fd.data:_.px.data,o=new a8(0,0,[V,r][T],[r,y][T]),X=new a8(0,0,[U,r][T],[r,U][T]),J=new a8([0,Math.round(r*.2)][T],[Math.round(r*.08),0][T],Q.k4.r5,Q.k4.r5),c=(T==0?q-f:i-g)/Z.step;
for(var m=0;m<c;m++){if(T==0)X.x=Math.round(u.x+m*Y);else X.y=Math.round(u.y+m*Y);Q.zw(Z.G7,X,N,o,X);
var p=(T==0?f+m*Z.step:Math.abs(g+m*Z.step)).toString(10);for(var d=0;d<p.length;d++){if(T==0)J.x=X.x+3+d*Math.round(Q.k4.r5*.8);
else J.y=X.y+3+d*Math.round(Q.k4.r5*1.15);var k=Q.k4.Mj[p[d]];Q.zw(k,J,N,o,J)}}}_.K=e;_.R=P;_.ws=b;var A=Math.floor(r*.6),$=new Uint32Array(_.fd.data.buffer),K=new Uint32Array(_.px.data.buffer),G=E<128?4278190080:4294967295;
if(0<l&&l<V)for(var m=0;m<A;m++)$[m*V+l]=G;if(0<x&&x<y)for(var m=0;m<A;m++)K[x*r+m]=G};Q.scale={};Q.scale.T=document.createElement("canvas");
Q.scale.Y0=Q.scale.T.getContext("2d");Q.scale.$0=document.createElement("canvas");Q.scale.Xe=Q.scale.$0.getContext("2d");
Q.scale.Iv=function(_,n,O){var l=Q.scale.T,x=Q.scale.Y0;l.width=n;l.height=O;var t=new ImageData(new Uint8ClampedArray(_.buffer),n,O);
x.putImageData(t,0,0);return x.createPattern(l,"repeat")};Q.scale.wV=function(_,n,O,l,x,t,h,V,y){var r=Q.scale.a70(_,O,l,x,t,h,V,y).data;
if(n)Q.Jt(r,n);return new Uint8Array(r.buffer)};Q.scale.a70=function(_,n,O,l,x,t,h,V){var y=Q.scale.T,r=Q.scale.Y0;
y.width=n;y.height=O;r.rect(0,0,n,O);r.translate(t,h);r.scale(l,x);if(V!=null)r.rotate(-V);r.fillStyle=_;
r.fill();return r.getImageData(0,0,n,O)};Q.scale.D=function(_,n,O,l,x){var t=O.clone();t.sJ();var h=x.a,V=x.n,y=Q.p.ta(n).C;
Q.p.D(y,t,y);var r=Q.p.f0(y).v6(x),E=r.x,a=r.y,S=E+r.a,e=a+r.n,P=~~n.x,b=~~n.y,T=~~n.a,C=~~n.n;for(var Z=a;
Z<e;Z++)for(var W=E;W<S;W++){var s=W+.5,f=Z+.5,q=O.EX*s+O.av*f+O.Wk-P,g=O.k*s+O.c5*f+O.d7-b;if(0<=q&&0<=g&&q<T&&g<C)l[Z*h+W]=_[~~g*T+~~q]}};
Q.scale.N1=function(_,n,O,l,x,t){var h=new Uint32Array(_.buffer),V=new Uint32Array(l.buffer),y=O.clone();
y.sJ();var r=x.a,E=x.n,a=Q.p.ta(n).C;Q.p.D(a,y,a);var S=t?x:Q.p.f0(a).v6(x),e=S.x,P=S.y,b=e+S.a,T=P+S.n,C=~~n.x,Z=~~n.y,W=~~n.a,s=~~n.n;
for(var f=P;f<T;f++)for(var q=e;q<b;q++){var g=q+.5,i=f+.5,u=O.EX*g+O.av*i+O.Wk-C,I=O.k*g+O.c5*i+O.d7-Z;
if(t){u=((W<<10)+u)%W;I=((s<<10)+I)%s}if(0<=u&&0<=I&&u<W&&I<s)V[f*r+q]=h[~~I*W+~~u]}};Q.scale.Ia=function(_,n,O,l,x,t,h){if(h<1)Q.scale.a4h(_,n,O,l,x,t,Math.round(1/h));
else Q.scale.a8t(_,n,O,l,x,t,h)};Q.scale.at=function(_,n,O,l,x,t,h,V){if(V)V=V.v6(new a8(0,0,n,O));_=new Uint32Array(_.buffer);
l=new Uint32Array(l.buffer);if(h<1)Q.scale.a6l(_,n,O,l,x,t,Math.round(1/h),V);else Q.scale.akI(_,n,O,l,x,t,h)};
Q.scale.a8t=function(_,n,O,l,x,t,h){for(var V=0;V<O;V++)for(var y=0;y<n;y++){var r=_[V*n+y],E=Math.min(h,x-y*h),a=Math.min(h,t-V*h);
for(var m=0;m<a;m++)for(var S=0;S<E;S++)l[(h*V+m)*x+h*y+S]=r}};Q.scale.a4h=function(_,n,O,l,x,t,h){for(var V=0;
V<t;V++)for(var y=0;y<x;y++){var r=0,E=Math.min(h,n-y*h),a=Math.min(h,O-V*h);for(var m=0;m<a;m++)for(var S=0;
S<E;S++)r+=_[(h*V+m)*n+(h*y+S)];l[V*x+y]=Math.round(r/(E*a))}};Q.scale.akI=function(_,n,O,l,x,t,h){for(var V=0;
V<O;V++)for(var y=0;y<n;y++){var r=_[V*n+y],E=Math.min(h,x-y*h),a=Math.min(h,t-V*h);for(var m=0;m<a;
m++)for(var S=0;S<E;S++)l[(h*V+m)*x+h*y+S]=r}};Q.scale.a6N=function(_,n,O){return(_>>>O&255)+(n>>>O&255)>>>1};
Q.scale.fE=function(_,n){var O=Q.scale.a6N;return O(_,n,24)<<24|O(_,n,16)<<16|O(_,n,8)<<8|O(_,n,0)};
Q.scale.aji=function(_,n,O,l,x,t){var h=new Uint32Array(_.buffer),V=new Uint32Array(l.buffer);for(var y=0;
y<O;y++){for(var r=0;r<n;r++){var E=y*n+r,a=h[E],S=a,e=a,P=a;if(r<n-1)S=Q.scale.fE(a,h[E+1]);if(y<O-1)e=Q.scale.fE(a,h[E+n]);
if(r<n-1&&y<O-1)P=Q.scale.fE(a,h[E+n+1]);var b=(y*x+r)*2;V[b]=a;V[b+1]=S;V[b+x]=e;V[b+x+1]=P}}if((x&1)==1)for(var y=0;
y<t;y++)V[y*x+x-1]=V[y*x+x-2];var T=x*(t-1);if((t&1)==1)for(var r=0;r<x;r++)V[T+r]=V[T-x+r]};Q.scale.a6l=function(_,n,O,l,x,t,h,V){var y=0,r=x,E=0,a=t;
if(V){y=Math.floor(V.x/h);r=Math.ceil((V.x+V.a)/h);E=Math.floor(V.y/h);a=Math.ceil((V.y+V.n)/h)}for(var S=E;
S<a;S++)for(var e=y;e<r;e++){var P=0,b=0,T=0,C=0,Z=Math.min(h,n-e*h),W=Math.min(h,O-S*h);for(var m=0;
m<W;m++)for(var s=0;s<Z;s++){var f=_[(h*S+m)*n+h*e+s],q=f>>>24;P+=q;b+=q*(f>>>16&255);T+=q*(f>>>8&255);
C+=q*(f&255)}if(P!=0){var g=1/P;l[S*x+e]=P/(Z*W)<<24|b*g<<16|T*g<<8|C*g}else l[S*x+e]=0}};Q.P=function(){function _(V,y,m){return(128&V[m-y-1]&V[m-y]&V[m-2]&V[m-1]&V[m+1]&V[m+y-1]&V[m+y])==0}function n(V,y,m){return(128&V[m-y-y]&V[m-y+1]&V[m+2]&V[m+y+1]&V[m+y+y])==0}function O(V,y,m){return(V[m-y]&V[m-1]&V[m+1]&V[m+y]&128)==0}function l(V,m){return(V[m]&128)!=0}function x(V,y,r,E){var m=0,a=r.a,S=r.n;
if(E)for(var e=0;e<S;e++)for(var P=0;P<a;P++){if(l(V,m)&&(P<2||e<2||P>a-3||e>S-3||((V[m-1]&128)==0||y[m-1]!=0)&&_(V,a,m)||n(V,a,m)))y[m]=255;
m++}else for(var e=0;e<S;e++)for(var P=0;P<a;P++){if(l(V,m)&&(P==0||e==0||P==a-1||e==S-1||O(V,a,m)))y[m]=255;
m++}}function t(V,y,r,E,a){var S=r.a,e=r.n,P=new Uint8Array(y.buffer),b=new Uint32Array(y.buffer);if(a)for(var T=2;
T<e-2;T++)for(var C=2;C<S-2;C++){var m=T*S+C;if(l(V,m)&&(((V[m-1]&128)==0||b[m-1]!=0)&&_(V,S,m)||n(V,S,m)))b[m]=E[(C+T&4)>>>2]}else for(var T=1;
T<e-1;T++)for(var C=1;C<S-1;C++){var m=T*S+C;if(l(V,m)&&O(V,S,m)){b[m]=E[(C+T&4)>>>2]}}}function h(V,y,r,E,a){var S=r.a,e=r.n,P=0,b=0,T=S,C=e,Z=new Uint8Array(y.buffer),W=new Uint32Array(y.buffer);
for(var s=b;s<C;s++)for(var f=P;f<T;f++){var m=s*S+f,q=V[m];if(E==1)W[m]=255-q>>>1<<24|255;else W[m]=255<<24|(q<<16|q<<8|q)}}return{abZ:x,aq8:t,ari:h}}();
Q.FV={};Q.FV.dz=function(_,n,O){var l,x;if(O==0){l=_.rect.clone();x=Q.FV.aby}if(O==1){l=_.rect.uG(n.rect);
x=Q.FV.uG}if(O==2){l=n.rect.clone();x=Q.FV.a36}if(O==3){l=_.rect.v6(n.rect);x=Q.FV.v6}if(O==4){l=_.rect.uG(n.rect);
x=Q.FV.a81}if(l.wk())return null;var t=Q.Q(l.O());Q.pc(n.channel,n.rect,t,l);var h=Q.Q(l.O());Q.pc(_.channel,_.rect,h,l);
x(h,t,t);var V=Q.pF(t,l);if(V.wk())return null;if(!V.yO(l)){var y=Q.Q(V.O());Q.pc(t,l,y,V);t=y;l=V}return{channel:t,rect:l}};
Q.FV.aby=function(_,n,O){for(var m=0;m<_.length;m++)O[m]=_[m]};Q.FV.uG=function(_,n,O){for(var m=0;m<_.length;
m++)O[m]=Math.min(_[m]+n[m],255)};Q.FV.a36=function(_,n,O){for(var m=0;m<_.length;m++)O[m]=Math.max(n[m]-_[m],0)};
Q.FV.v6=function(_,n,O){var l=1/255;for(var m=0;m<_.length;m++)O[m]=_[m]*n[m]*l};Q.FV.a81=function(_,n,O){var l=1/255;
for(var m=0;m<_.length;m++)O[m]=Math.min(_[m]+n[m],255)-_[m]*n[m]*l};Q.c8=function(_,n){this.t=[];this.ti=[0];
this.cw=[];this.ts=[];this.Je=[0];this.M3=[];this.mf=[];this.rows=_;this.cols=n};Q.c8.prototype.clone=function(){var _=this,n=_.rows,O=_.cols,l=new Q.c8(n,O);
l.t=_.t.slice(0);l.ti=_.ti.slice(0);l.cw=_.cw.slice(0);l.ts=_.ts.slice(0);l.Je=_.Je.slice(0);l.M3=_.M3.slice(0);
l.mf=_.mf.slice(0);return l};Q.c8.prototype.gC=function(_,n,O){var l=this.ti.length-1;for(var m=0;m<O;
m++){var x=_[m],t=n[m];this.t.push(x);this.cw.push(t);if(t==l){this.mf.push(x==0?0:1/x)}else{this.ts.push(x);
this.M3.push(t)}}this.ti.push(this.t.length);this.Je.push(this.ts.length)};Q.c8.prototype.RW=function(_,n){var O=this,l=O.rows,x=O.t,t=O.cw;
if(n==null)n=new Array(l);for(var m=0;m<l;m++){var h=O.ti[m],V=O.ti[m+1],y=0;while((V-h&3)!=0){y+=x[h]*_[t[h]];
h++}for(var r=h;r<V;r+=4)y+=x[r]*_[t[r]]+x[r+1]*_[t[r+1]]+x[r+2]*_[t[r+2]]+x[r+3]*_[t[r+3]];n[m]=y}return n};
Q.c8.prototype.multiply=function(_){return this.TC(_.Z4())};Q.c8.prototype.TC=function(_){var n=this,O=n.rows,l=n.cols,x=_.rows,t=new Q.c8(O,x),h=n.cw,V=_.cw;
for(var m=0;m<O;m++){var y=[],r=[],E=n.ti[m],a=n.ti[m+1];for(var S=0;S<x;S++){var e=_.ti[S],P=_.ti[S+1],b=0,T=E,C=e;
while(T<a&&C<P){var Z=Math.max(h[T],V[C]);while(T<a&&h[T]<Z)T++;while(C<P&&V[C]<Z)C++;if(T<a&&C<P&&h[T]==V[C])b+=n.t[T++]*_.t[C++]}if(b!=0){y.push(b);
r.push(S)}}t.gC(y,r,y.length)}return t};Q.c8.prototype.Z4=function(){var _=this.rows,n=this.cols,O=[];
for(var m=0;m<n;m++)O.push([[],[]]);var l=this.t,x=this.ti,t=this.cw;for(var m=0;m<_;m++){var h=x[m],V=x[m+1];
for(var y=h;y<V;y++){var r=O[t[y]];r[0].push(l[y]);r[1].push(m)}}var E=new Q.c8(n,_);for(var m=0;m<n;
m++)E.gC(O[m][0],O[m][1],O[m][1].length);return E};Q.c8.prototype.ou=function(){var _=this.rows,n=this.cols,O=new Array(_),l=this.t,x=this.ti,t=this.cw;
for(var m=0;m<_;m++){var h=O[m]=new Array(n);for(var V=0;V<n;V++)h[V]=0;var y=x[m],r=x[m+1];for(var E=y;
E<r;E++)h[t[E]]=l[E]}return O};Q.c8.prototype.ca=function(_,n,O,l,x){function t(g,n,i,u){var I=g.length;
for(var m=0;m<I;m++)u[m]=g[m]-n[m]*i}function h(g,n,i,u){var I=g.length,Y=0;while((I-Y&3)!=0){u[Y]=g[Y]+n[Y]*i;
Y++}for(var m=Y;m<I;m+=4){u[m]=g[m]+n[m]*i;u[m+1]=g[m+1]+n[m+1]*i;u[m+2]=g[m+2]+n[m+2]*i;u[m+3]=g[m+3]+n[m+3]*i}}function V(g,n,i){var u=g.length;
for(var m=0;m<u;m++)i[m]=g[m]*n[m]}function y(g,n){var i=g.length,u=0,I=0;while((i-u&3)!=0){I+=g[u]*n[u];
u++}for(var m=u;m<i;m+=4)I+=g[m]*n[m]+g[m+1]*n[m+1]+g[m+2]*n[m+2]+g[m+3]*n[m+3];return I}var r=l!=null?2:1,E=Date.now(),a=0,S=this,e=_.slice(0),P=_.slice(0);
S.RW(_,P);t(n,P,1,e);var b=this.mf;if(r==0){b=e.slice(0);b.fill(1)}var T=e.slice(0);V(b,e,T);var C=T.slice(0),Z=y(e,T);
while(!0){S.RW(C,P);var W=Z/y(C,P);h(_,C,W,_);t(e,P,W,e);if((a&7)==0&&Math.sqrt(y(e,e))<O)break;if(r<=1)V(b,e,T);
else{var s=e.slice(0);l.ahh(s,e);x.ahA(T,s)}var f=y(e,T),q=f/Z;h(T,C,q,C);Z=f;a++}};Q.c8.prototype.acX=function(_,n,O,l){var x=Date.now(),t=1.96,V=0;
if(O==null)O=5e-6;if(l==null)l=1e9;var h=1-t,ab=this.rows,y=this.ts,r=this.Je,E=this.M3,a=this.mf;while(!0){var S=0;
for(var m=0;m<ab;m++){var e=n[m],P=r[m],b=r[m+1];if(b-P==4)e-=y[P]*_[E[P]]+y[P+1]*_[E[P+1]]+y[P+2]*_[E[P+2]]+y[P+3]*_[E[P+3]];
else for(var T=P;T<b;T++)e-=y[T]*_[E[T]];var C=_[m]*h+a[m]*e*t,Z=C-_[m];S+=Z*Z;_[m]=C}if(S/ab<O||Date.now()>x+l)break}};
Q.c8.prototype.a7X=function(_,n,O,l){var x=Date.now(),t=1.96,V=0;if(O==null)O=5e-5;if(l==null)l=1e9;
var h=1-t,ab=this.rows,y=this.ts,r=this.Je,E=this.M3,a=this.mf;while(!0){var S=0;for(var m=0;m<ab;m++){var e=m*3,P=n[e],b=n[e+1],T=n[e+2],C=r[m],Z=r[m+1];
for(var W=C;W<Z;W++){var s=y[W],f=E[W]*3;P-=s*_[f+0];b-=s*_[f+1];T-=s*_[f+2]}var q=a[m]*t,g=_[e+0]*h+P*q,i=_[e+1]*h+b*q,u=_[e+2]*h+T*q,I=g-_[e+0],Y=i-_[e+1],U=u-_[e+2];
S+=.4*I*I+.5*Y*Y+.1*U*U;_[e+0]=g;_[e+1]=i;_[e+2]=u}if(S/ab<O||Date.now()>x+l)break}};Q.xu={};Q.xu.PN=function(_,n,O){return{t:"Objc",v:{classID:"CrPt",Hrzn:{t:"doub",v:_},Vrtc:{t:"doub",v:n},Cnty:{t:"bool",v:O}}}};
Q.xu.D=function(_,n){for(var m=0;m<_.length;m++){var O=_[m].v,l=n.uz(new aW(O.Hrzn.v,O.Vrtc.v));O.Hrzn.v=Math.round(l.x);
O.Vrtc.v=Math.round(l.y)}};Q.xu.A3=function(_,n,O){var ab=_.length-1,l=Q.ha.NE(ab+1,ab+2);for(var m=1;
m<ab;m++){l[m][m-1]=1/(_[m]-_[m-1]);l[m][m]=2*(1/(_[m]-_[m-1])+1/(_[m+1]-_[m]));l[m][m+1]=1/(_[m+1]-_[m]);
l[m][ab+1]=3*((n[m]-n[m-1])/((_[m]-_[m-1])*(_[m]-_[m-1]))+(n[m+1]-n[m])/((_[m+1]-_[m])*(_[m+1]-_[m])))}l[0][0]=2/(_[1]-_[0]);
l[0][1]=1/(_[1]-_[0]);l[0][ab+1]=3*(n[1]-n[0])/((_[1]-_[0])*(_[1]-_[0]));l[ab][ab-1]=1/(_[ab]-_[ab-1]);
l[ab][ab]=2/(_[ab]-_[ab-1]);l[ab][ab+1]=3*(n[ab]-n[ab-1])/((_[ab]-_[ab-1])*(_[ab]-_[ab-1]));Q.ha.Ig(l,O)};
Q.xu.a4F=function(_,n,O,l){if(_<=n[0])return O[0];if(_>=n[n.length-1])return O[n.length-1];var m=1;while(n[m]<_)m++;
var x=n[m],t=n[m-1],h=O[m],V=O[m-1],y=(_-t)/(x-t),r=l[m-1]*(x-t)-(h-V),E=-l[m]*(x-t)+(h-V),a=(1-y)*V+y*h+y*(1-y)*(r*(1-y)+E*y);
return a};Q.xu.Di=function(_,n,O,l){var x={Ow:[_[0]],pL:[n[0]],oG:[]};l[0]=x;for(var m=1;m<_.length-1;
m++){x.Ow.push(_[m]);x.pL.push(n[m]);if(O[m]==!1){Q.xu.A3(x.Ow,x.pL,x.oG);x={Ow:[_[m]],pL:[n[m]],oG:[]}}l[m]=x}x.Ow.push(_[m]);
x.pL.push(n[m]);Q.xu.A3(x.Ow,x.pL,x.oG);l[m]=x};Q.xu.If=function(_,n,O,l){if(_<=n[0])return O[0];if(_>=n[n.length-1])return O[n.length-1];
var m=1;while(n[m]<_)m++;var x=l[m-1];return Q.xu.a4F(_,x.Ow,x.pL,x.oG)};Q.xu.KZ=function(_){var n={Ow:[],pL:[],m9:[]};
for(var m=0;m<_.length;m++){n.Ow[m]=_[m].v.Hrzn.v;n.pL[m]=_[m].v.Vrtc.v;n.m9[m]=_[m].v.Cnty?_[m].v.Cnty.v:!0}return n};
Q.xu.b4=function(_,ab,n){var O=0,l=255;if(n){O=-1e9;l=1e9}var x=Q.xu.KZ(_),t=[];Q.xu.Di(x.Ow,x.pL,x.m9,t);
var h=[];for(var m=0;m<ab;m++)h[m]=1/255*Math.max(O,Math.min(l,Q.xu.If(m*(255/(ab-1)),x.Ow,x.pL,t)));
return h};Q.xu.amL=function(_,ab,n){var O=Math.round(_.length/20),l=ab-_.length,x=n?(_[O]-_[0])/O:0,t=n?_[0]-l*x:_[_.length-1],h=[];
for(var m=0;m<l;m++)h.push(t+m*x);return n?h.concat(_):_.concat(h)};Q.xu.gz=function(_,ab,n){var O=Q.xu.KZ(_),l=[];
Q.xu.Di(O.Ow,O.pL,O.m9,l);var x=new Uint8Array(ab),t=ab/256;for(var m=0;m<ab;m++)x[m]=Math.max(0,Math.min(ab-1,Q.xu.If(m*t,O.Ow,O.pL,l)));
if(n){x[0]=0;if(x[1]>100)x[1]=.4*x[1];if(x[2]>150)x[1]=.7*x[2]}return x};Q.xu.gR=function(_,n){var O=new Uint8Array(_.length);
for(var m=0;m<_.length;m++)O[m]=n[_[m]];return O};Q.xu.XW=function(_,n,O){var l=document.createElement("canvas");
l.width=n;l.height=O;var x=l.getContext("2d"),t=Q.xu.gz(_,256);x.scale(n/255,O/255);x.fillStyle="#fff";
x.fillRect(0,0,255,255);x.fillStyle="#333";x.beginPath();x.moveTo(0,255);for(var m=0;m<t.length;m++)x.lineTo(m,255-t[m]);
x.lineTo(255,255);x.closePath();x.fill();return l.toDataURL()};Q.style={};Q.style.stroke=function(_,n,O,l){var x=O.a,t=O.n,h=new Float64Array(x*t);
Q.style.qx(_,h,x,t);Q.style.TD(n,O,h,O,l)};Q.style.TD=function(_,n,O,l,x){var t=n.v6(l),h=t.a,V=t.n;
x+=.5;var y=t.x-n.x,r=t.y-n.y,E=n.a,a=t.x-l.x,S=t.y-l.y,e=l.a;for(var P=0;P<V;P++){var b=(P+S)*e+a,T=(P+r)*E+y;
for(var C=0;C<h;C++){var Z=Math.max(0,Math.min(1,x-O[b+C]));_[T+C]=Math.round(Z*255)}}};Q.style.ae4=function(_,n,O,l){for(var x=0;
x<O;x++)for(var t=0;t<n;t++){var h=x*n+t,V=0,y=0,r=_[h];if(t==0||x==0){V=_[h+1]-r;y=_[h+n]-r}else if(t==O-1||x==n-1){V=r-_[h-1];
y=r-_[h-n]}else{V=_[h+1]-_[h-1];y=_[h+n]-_[h-n]}if(V!=0||y!=0){var E=1/Math.sqrt(V*V+y*y);V*=E;y*=E}l[h+h]=V;
l[h+h+1]=y}};Q.style.qx=function(_,n,O,l){var x=0,t=O*l;for(var m=0;m<t;m++)x|=_[m];if(x==0){n.fill(1e9);
return}var h=Q.style.Lt(_,O,l);for(var V=0;V<l;V++)for(var y=0;y<O;y++){var m=V*O+y,r=h[m*2],E=h[m*2+1],a=(V+E)*O+y+r;
if(r==0&&E==0){n[m]=0;continue}var S=Math.sqrt(r*r+E*E),e=_[a]*(1/255),P=1/S,b=Math.abs(r)*P,T=Math.abs(E)*P;
if(T>b){var C=T;T=b;b=C}n[m]=S+Q.style.ayR(b,T,e)}};Q.style.ayR=function(_,n,O){return(.5-O)*_};Q.style.Lt=function(_,n,O,l){var x=new Int16Array(n*O*2);
Q.style.a9i(_,x,n,O,128);return x};Q.style.a9i=function(_,n,O,l,x){var t=new Int32Array(O*l);Q.style.aa2(_,t,O,l,x);
Q.style.auE(t,n,O,l)};Q.style.aa2=function(_,n,O,l,x){var t=new Int32Array(l);for(var h=0;h<O;h++){var V=O+l;
for(var y=l-1;y>=0;y--){if(_[y*O+h]>x)V=0;else V++;t[y]=V}V=O+l;for(var y=0;y<l;y++){if(_[y*O+h]>x)V=0;
else V++;n[y*O+h]=V<t[y]?-V:t[y]}}};Q.style.auE=function(_,n,O,l){var x=(O+l)*(O+l),t=new Float64Array(O),h=new Uint16Array(O);
for(var V=0;V<l;V++){var y=V*O,r=0;h[0]=0;t[0]=-x;t[1]=+x;for(var E=1;E<O;E++){var a=_[E+y]*_[E+y]+E*E,S=(a-(_[h[r]+y]*_[h[r]+y]+h[r]*h[r]))/(2*E-2*h[r]);
while(S<=t[r]){r--;S=(a-(_[h[r]+y]*_[h[r]+y]+h[r]*h[r]))/(2*E-2*h[r])}r++;h[r]=E;t[r]=S;t[r+1]=x}r=0;
for(var E=0;E<O;E++){while(t[r+1]<E)r++;var e=h[r]-E,P=_[h[r]+y],m=V*O+E<<1;n[m]=e;n[m+1]=P}}};Q.style.LX=function(_,n,O){if(O)for(var m=0;
m<_.length;m++){var l=_[m];if(l>0)_[m]=Math.max(0,Math.min(255,l+n*2*(Q.style.c9(m)-128)))}else for(var m=0;
m<_.length;m++){var l=_[m];if(l>0)_[m]=Math.max(0,Math.min(255,l+Math.min(l*3,n*2*(Q.style.c9(m)-128))))}};
Q.style.c9=function(_){_=_^61^_>>16;_=_+(_<<3);_=_^_>>4;_=_*668265261;_=_^_>>15;return _&255};Q.Rf={};
Q.Rf.mO=function(_,n,O){var l=_.canvas;if(l.width!=n||l.height!=O){l.width=n;l.height=O}};Q.Rf.i2=function(_,n,O,l,x,t){Q.Rf.mO(_,n,O);
if(t==null)t=!1;var h=x.channel,V=x.rect,y=!x.isEnabled;if(n*O==0)return;var r=_.createImageData(n,O),E=r.data,a=1/n,S=1/O;
for(var m=0;m<O;m++)for(var e=0;e<n;e++){var P=m*n+e,b=P*4,T=Math.round(l.x+e*a*l.a),C=Math.round(l.y+m*S*l.n),Z=0;
if(T<V.x||T>=V.x+V.a||C<V.y||C>=V.y+V.n)Z=x.color;else Z=h[(C-V.y)*V.a+(T-V.x)];Z=255*(255-x.zG)+Z*x.zG>>>8;
if(t)Z=170+Math.round(.4*(Z-170));E[b]=Z;E[b+1]=Z;E[b+2]=Z;E[b+3]=255}_.putImageData(r,0,0);if(y)Q.Rf.$w(_,n,O)};
Q.Rf.aN=[];Q.Rf.as2=function(_,n,O,l){var x,t,h;x=Math.ceil(Math.max(n,O)*.35);t=n-x;h=O-x;var V=Q.Rf.aN[x];
if(V==null){var y=Q.jk(x,x);y.fillStyle="#eeeeee";y.fillRect(0,0,x,x);var r=Math.round(x*.27),E=y.lineWidth=Math.max(1,Math.round(x*.12)),a=E/2;
y.strokeRect(1+a,1+a,x-E-2,x-E-2);y.strokeRect(r+a,r+a,x-r-r-E,x-r-r-E);V=Q.Rf.aN[x]=y.getImageData(0,0,x,x)}_.putImageData(V,t,h)};
Q.Rf.TY=[];Q.Rf.ahZ=function(_,n,O){var l,x,t;l=Math.ceil(Math.max(n,O)*.35);x=n-l;t=O-l;var h=Q.Rf.TY[l];
if(h==null){var V=Q.jk(l,l);V.fillStyle="#eeeeee";V.fillRect(0,0,l,l);V.lineWidth=1;V.strokeRect(2.5,2.5,l-5,l-5);
var y=V.createImageData(3,3);Q.qs(y.data,4278190080);y.data[4*4]=y.data[4*4+1]=y.data[4*4+2]=238;V.putImageData(y,1,1);
V.putImageData(y,l-4,1);V.putImageData(y,1,l-4);V.putImageData(y,l-4,l-4);h=Q.Rf.TY[l]=V.getImageData(0,0,l,l)}_.putImageData(h,x,t)};
Q.Rf.als=function(_,n,O,l,x){Q.Rf.mO(_,n,O);var t=n/l.a;if(n*O==0)return;_.fillStyle="#999999";_.setTransform(1,0,0,1,0,0);
_.clearRect(0,0,n,O);var h=Q.Rf.rs;if(h==null){h=Q.Rf.rs=JSON.parse(JSON.stringify(aF.eo.default));h.strokeEnabled.v=!0}h.strokeStyleLineWidth.v.val=1/t;
_.fillStyle="#ffffff";_.scale(t,t);Q.M.jS(x.i,_,0,0);Q.M.jS(x.i,_,0,0,h)};Q.Rf.O4=null;Q.Rf.lg=function(_,n,O,l,x,t,h,V,y){Q.Rf.mO(_,n,O);
if(n*O==0)return;var r=Math.max(n,O),E=Q.Rf.O4;if(E==null||E.width<r||E.height<r){Q.Rf.O4=E=_.createImageData(r,r)}r=E.width;
var a=E.data,S=l.a/n,e=l.n/O,P=t.x,b=t.x+t.a,T=t.y,C=t.y+t.n;for(var m=0;m<O;m++)for(var Z=0;Z<n;Z++){var W=m*r+Z,s=W*4,f=~~(l.x+Z*S),q=~~(l.y+m*e),g=Q.wY(m,Z,2);
if(f<P||f>=b||q<T||q>=C||y){a[s]=g;a[s+1]=g;a[s+2]=g;a[s+3]=255}else{var i=(q-t.y)*t.a+(f-t.x)<<2,u=x[i+3]*(1/255);
a[s]=x[i+0]*u+g*(1-u);a[s+1]=x[i+1]*u+g*(1-u);a[s+2]=x[i+2]*u+g*(1-u);a[s+3]=255}}if(V!=null)for(var m=0;
m<a.length;m+=4)a[m]=a[m+1]=a[m+2]=a[m+V];_.putImageData(E,0,0);if(h)Q.Rf.$w(_,n,O)};Q.Rf.aeM=function(_,n,O,l){Q.Rf.mO(_,n,O);
_.fillStyle=Q.Rf.JU(l.Clr.v);_.fillRect(0,0,n,O);Q.Rf.aB(_,n,O)};Q.Rf.Hv=null;Q.Rf.axM=function(_,n,O,l){Q.Rf.mO(_,n,O);
var x=_.canvas.width,t=_.canvas.height,h=Q.Rf.Hv;if(h==null||h.width!=x||h.height!=t){_.fillStyle="#ffffff";
_.fillRect(0,0,n,O);_.fillStyle="#000000";_.font=""+O*.7+"px serif";_.fillText("T",(n-O*.43)/2,O*.75);
_.fillText("T",(n-O*.43)/2,O*.75);Q.Rf.Hv=_.getImageData(0,0,x,t)}else _.putImageData(h,0,0)};Q.Rf.aeB=function(_,n,O){Q.Rf.mO(_,n,O);
_.clearRect(0,0,n,O);_.font=O*.7+"px serif";_.fillText(":(",(n-O*.43)/2,O*.7)};Q.Rf.ax3=function(_,n,O,l){Q.Rf.mO(_,n,O);
var x=a3.get(l),t=_.canvas.width,h=Q.Rf.Ii[t+x];if(h==null){var V=PIMG["adj/"+x],y=dx.Pj(V),r=UPNG.decode(y.buffer),E=new Uint8Array(UPNG.toRGBA8(r)[0]),a=new a8(0,0,160,160),S=0,e=t-S*2,P=D.D6.yn([E,a],new aY(e/160,0,0,e/160,0,0)),b=new a8(0,0,t,t),T=Q.Q(b.O()*4);
Q.q.Zn("norm",P.buffer,P.rect,T,b,P.rect,1);h=Q.Rf.Ii[t+x]=new ImageData(new Uint8ClampedArray(T.buffer),t,t)}_.putImageData(h,0,0)};
Q.Rf.Ii={};Q.Rf.arL=function(_,n,O,l){Q.Rf.mO(_,n,O);var x=_.canvas.width,t=_.canvas.height,h=_.getImageData(0,0,x,t);
Q.N._o(l.Grad.v,new Uint8Array(h.data.buffer),new a8(0,0,x,t),[1/x,0,0,1/t],x/2,t/2,!1,0,16711680,65280);
_.putImageData(h,0,0);Q.Rf.aB(_,n,O)};Q.Rf.auS=function(_,n,O,l,x){Q.Rf.mO(_,n,O);var t=_,h=fW.mF(l.Ptrn.v,x.add.Patt);
if(h==null)return;var V=h.vA[1];Q.Rf.lg(_,n,O,V,h.vA[0],V,!1);Q.Rf.aB(t,n,O)};Q.Rf.$w=function(_,n,O){_.strokeStyle="#bb0000";
_.lineWidth=3;_.beginPath();_.moveTo(n*.15,O*.15);_.lineTo(n*.85,O*.85);_.moveTo(n*.85,O*.15);_.lineTo(n*.15,O*.85);
_.closePath();_.stroke()};Q.Rf.aB=function(_,n,O){_.fillStyle="#eeeeee";_.fillRect(0,O*.75,n,O*.25);
_.beginPath();_.moveTo(0,O*.75);_.lineTo(n,O*.75);_.moveTo(n*.1,O*.875);_.lineTo(n*.9,O*.875);_.moveTo(n*.65,O*.825);
_.lineTo(n*.65,O*.95);_.closePath();_.stroke()};Q.Rf.JU=function(_){var n=Q.N.JU(_),O=Math.round(n.o)<<16|Math.round(n.J)<<8|Math.round(n.k);
return"#"+Q.sN(O)};Q.M={};Q.M.On=function(_,n,O){var l=[],x=-1;for(var m=0;m<_.length;m++){var t=_[m];
if((t.type==0||t.type==3)&&t.wM!=-1)x++;if(t.type>5||t.type==0||t.type==3)continue;if(n!=null&&n.indexOf(x)==-1)continue;
if(O!=null&&O.indexOf(m)==-1)continue;l.push(t.lz.x);l.push(t.lz.y);l.push(t.H.x);l.push(t.H.y);l.push(t.l6.x);
l.push(t.l6.y)}return l};Q.M.k6=function(_,n,O,l){var x=0,t=-1;for(var m=0;m<n.length;m++){var h=n[m];
if((h.type==0||h.type==3)&&h.wM!=-1)t++;if(h.type>5||h.type==0||h.type==3)continue;if(O!=null&&O.indexOf(t)==-1)continue;
if(l!=null&&l.indexOf(m)==-1)continue;h.lz.BX(_[x],_[x+1]);h.H.BX(_[x+2],_[x+3]);h.l6.BX(_[x+4],_[x+5]);
x+=6}};Q.M.qp=function(_,n,O,l){var x=Q.M.On(_,O,l);Q.p.D(x,n,x);Q.M.k6(x,_,O,l)};Q.M.apc=function(_,n,O,l){var x=Q.M.On(_,O,l);
Q.r.D(n,x);Q.M.k6(x,_,O,l)};Q.M.abT=function(_,n,O,l){if(l==null){var x=Q.M.ahx(_,40,O);for(var m=0;
m<x.length;m++)_[m]=x[m]}var t=Q.M.On(_,O,l);Q._I.D(n,t,Q.p.Vx(t));Q.M.k6(t,_,O,l)};Q.M.ahx=function(_,n,O){var l=[],x=-1;
for(var m=0;m<_.length;m++){var t=_[m],h=t.length;if(t.type>5){l.push(JSON.parse(JSON.stringify(t)));
continue}t=JSON.parse(JSON.stringify(t));l.push(t);if(t.wM!=-1)x++;if(O&&O.indexOf(x)==-1){l=l.concat(_.slice(m+1,m+1+h))}else{var V=Q.M.a5x(_,m+1,h);
V=Q.p.Gz(V,n);var y=Q.M.avJ(V);t.length=y.length;for(var r=0;r<y.length;r++)l.push(y[r])}m+=h}return l};
Q.M.a5x=function(_,n,O){var l={F:["M"],C:[]},x=_[n],t=_[n+O-1];l.C.push(x.H.x,x.H.y);for(var m=1;m<O;
m++){var h=_[n+m-1],V=_[n+m];l.F.push("C");l.C.push(h.l6.x,h.l6.y,V.lz.x,V.lz.y,V.H.x,V.H.y)}l.F.push("C");
l.C.push(t.l6.x,t.l6.y,x.lz.x,x.lz.y,x.H.x,x.H.y);return l};Q.M.avJ=function(_){var n=[],O=_.F,l=_.C,x=0,ab=l.length;
n.push({type:2,lz:new aW(l[ab-4],l[ab-3]),H:new aW(l[0],l[1]),l6:new aW(l[2],l[3])});for(var m=0;m<O.length-2;
m++){var t=m*6+4;n.push({type:2,lz:new aW(l[t],l[t+1]),H:new aW(l[t+2],l[t+3]),l6:new aW(l[t+4],l[t+5])})}return n};
Q.M.abh=function(_){for(var m=0;m<_.length;m++){if(_[m].type>5)continue;var n=_[m].length;if(!(n==4||n==6||n==8)){m+=n;
continue}for(var O=0;O<n;O++){var l=_[m+1+O],x=_[m+1+(O+1)%n],t=Math.min(l.H.x,x.H.x),h=Math.min(l.H.y,x.H.y),V=0,y=0;
if(l.H.x<x.H.x){V=l.H.y-h;y=V-(x.H.x-t)}else{V=x.H.y-h;y=V-(l.H.x-t)}if(Math.abs(y)<.2*V)return V}}return-1};
Q.M.OY=function(_,n,O){function l(S,e){var P=Math.min(S.x,e.x),b=Math.min(S.y,e.y),T=Math.max(S.x+S.a,e.x+e.a),C=Math.max(S.y+S.n,e.y+e.n);
return new a8(P,b,T-P,C-b)}var x=null,t=-1,h=!Q.M.z7(_);for(var m=0;m<_.length;m++){var V=_[m];if(V.type>5)continue;
if((V.type==0||V.type==3)&&V.wM!=-1)t++;if(n!=null&&n.indexOf(t)==-1)continue;if(m==_.length-1)break;
var y=V.type==3,r=V.length,E=V.wM,a=Q.M.RX(_,m+1,r,y);if(x==null)x=a;else if(O)x=l(x,a);else if(h){if(n!=null||E==0||E==-1||E==2)x=l(x,a);
else if(E==1)x=x;else if(E==3){x=a;h=!1}}else{if(n!=null||E==0||E==-1||E==1)x=l(x,a);else if(E==2)x=x;
else if(E==3)x=x.v6(a)}m+=r}if(x==null||x.a<0||x.n<0)x=new a8(0,0,0,0);return x};Q.M.avD=new Float64Array(4);
Q.M.RX=function(_,m,n,O){var l=Q.M.avD;l[0]=1e30;l[1]=1e30;l[2]=-1e30;l[3]=-1e30;var x=_[m+n-1];if(!O)Q.M.zd(x.H.x,x.H.y,x.l6.x,x.l6.y,_[m].lz.x,_[m].lz.y,_[m].H.x,_[m].H.y,l);
for(var t=m;t<m+n-1;t++){var h=_[t],V=_[t+1];Q.M.zd(h.H.x,h.H.y,h.l6.x,h.l6.y,V.lz.x,V.lz.y,V.H.x,V.H.y,l)}return new a8(l[0],l[1],l[2]-l[0],l[3]-l[1])};
Q.M.zd=function(_,n,O,l,x,t,h,V,y){if(_==O&&n==l&&x==h&&t==V){y[0]=Math.min(y[0],Math.min(_,h));y[1]=Math.min(y[1],Math.min(n,V));
y[2]=Math.max(y[2],Math.max(_,h));y[3]=Math.max(y[3],Math.max(n,V));return}var r=_,E=n,a=_,S=n,e=40,P=1/(e-1);
for(var b=0;b<e;b++){var T=b*P,C=1-T,Z=C*C*C,W=3*C*C*T,s=3*C*T*T,f=T*T*T,q=Z*_+W*O+s*x+f*h,g=Z*n+W*l+s*t+f*V;
if(q<r)r=q;else if(q>a)a=q;if(g<E)E=g;else if(g>S)S=g}if(r<y[0])y[0]=r;if(E<y[1])y[1]=E;if(a>y[2])y[2]=a;
if(S>y[3])y[3]=S};Q.M.Or=function(_,n){var O=_.length-3,l=n%O,x=Math.floor(l);if(n<0||x>=O)return null;
var t=_[3+x],h=_[3+(x+1)%O],V=t.H,y=t.l6,r=h.lz,E=h.H,a=l-x,S=1-a,e=S*S*S*V.x+3*S*S*a*y.x+3*S*a*a*r.x+a*a*a*E.x,P=S*S*S*V.y+3*S*S*a*y.y+3*S*a*a*r.y+a*a*a*E.y;
return new aW(e,P)};Q.M.hY=function(_,n){var O=Q.p.qN(_),l=O.SD;O.SD=Typr.U.pathToSVG({crds:l.C,cmds:l.F},n==null?2:n);
return O};Q.M.$q=function(_){Q.M.PJ();var n,O=Q.M.b9(_),l=[];for(var m=0;m<O.length;m++){var x=O[m][0],t=O[m][1];
if(Math.abs(x.area)<1e-5)l.push(x);else if(n==null)n=x;else{if(!x.closed)x.closed=!0;n=n[t](x);n.remove()}}if(n==null)n=new paper.CompoundPath(l);
else{if(n.segments)n=new paper.CompoundPath(n);for(var m=0;m<l.length;m++){n.addChild(l[m])}}var h=_.slice(0,2);
h=h.concat(Q.M.Uf(n));if(h[2])h[2].wM=1;for(var m=3;m<h.length;m++)if(h[m].wM!=null)h[m].wM=-1;return h};
Q.M.PJ=function(){if(Q.M.arN==null){var _=document.createElement("canvas");paper.setup(_);Q.M.arN=!0}};
Q.M.a0P=function(_,n){Q.M.PJ();var O=[],l=Q.M.b9(_),x=new paper.Path.Rectangle(new paper.Rectangle(n.x,n.y,n.a,n.n));
x.remove();x.fillColor=new paper.Color(1,0,0);for(var m=0;m<l.length;m++){if(x.intersects(l[m][0])||x.contains(l[m][0].children[0].segments[0].point))O.push(m)}return O};
Q.M.FA=function(_,n,O,l){Q.M.PJ();var x=O?{curves:!0,tolerance:l}:null,t=new paper.Point(n.x,n.y),h=Q.M.b9(_);
for(var m=h.length-1;m>=0;m--){var V=h[m][0],y=V.hitTest(t,x);if(y!=null)return{tE:m,tD:O?y.location.index:null,sX:O?y.location.time:0}}return{tE:-1}};
Q.M.EB=function(_,n,O){var l=[[],[],[]];for(var m=0;m<_.length;m++){var x=_[m];if(x.type>5||x.type==0||x.type==3)continue;
var t=O==null?!0:O.indexOf(m)!=-1;if(n.b5(x.H))l[0].push(m);if(n.b5(x.lz)&&t)l[1].push(m);if(n.b5(x.l6)&&t)l[2].push(m)}return l};
Q.M.aeT=function(_,n,O){var l=_[n];for(var x=n+1;x<O;x++)_[x-1]=_[x];_[O-1]=l};Q.M.aq6=function(_,n,O,l){var m,x,t,h=0;
_=_.slice(0);n.sort(function(P,b){return P-b});t=-1;for(m=2;m<_.length;){var V=_[m],y=V.length;if(V.wM!=-1)t++;
var r=h;while(r<n.length&&n[r]<m+1+y)r++;if(h!=r){var E=n.slice(h,r);h=r;for(x=0;x<y;x++)if(E.indexOf(m+1+x)!=-1)_[m+1+x]=null;
if(V.type==0){var a=E[0]-(m+1);while(a!=0){Q.M.aeT(_,m+1,m+1+y);a--}}var S=V;S.length=0;x=0;while(x<y&&_[m+1+x]==null)x++;
while(x<y){var e=_[m+1+x];if(e!=null)S.length++;else if(x<y+1&&_[m+1+x+1]){S=_[m+1+x]={type:0,wM:-1,length:0,w3:0,Dj:0,kr:1}}x++}if(l)for(x=-1;
x<y;x++)if(_[m+1+x]&&_[m+1+x].type<3)_[m+1+x].type+=3;Q.X.$T(O,t)}m+=1+y}for(m=0;m<_.length;m++)if(_[m]==null){_.splice(m,1);
m--}t=0;for(m=2;m<_.length;m++){var V=_[m];if(V.length==0){if(_[m+1]&&_[m+1].wM==-1)_[m+1].wM=V.wM;else if(V.wM!=-1)O.splice(t,1);
_.splice(m,1);m--}else if(V.length!=null&&V.wM!=-1)t++}return _};Q.M.aiY=function(_,n){var O=_.slice(0,2),l=-1;
for(var m=2;m<_.length;m++){if((_[m].type==0||_[m].type==3)&&_[m].wM!=-1)l++;if(n.indexOf(l)==-1)O.push(_[m])}return O};
Q.M.aa0=function(_,n){var O=_.slice(0,2),l=-1;for(var m=2;m<_.length;m++){if((_[m].type==0||_[m].type==3)&&_[m].wM!=-1)l++;
if(n.indexOf(l)!=-1)O.push(_[m])}return O};Q.M.aiP=function(_){var n=0;for(var m=0;m<_.length;m++)if(_[m].type==0||_[m].type==3)n=m;
return _[n]};Q.M.Cw=function(_){var n=-1;for(var m=0;m<_.length;m++)if((_[m].type==0||_[m].type==3)&&_[m].wM!=-1)n++;
return n+1};Q.M.TH=function(_,n,O){var l=-1;for(var m=0;m<_.length;m++)if((_[m].type==0||_[m].type==3)&&(O||_[m].wM!=-1)){l++;
if(l==n)return m}return-1};Q.M.Xj=function(_,n,O){var l=-1;for(var m=0;m<_.length;m++)if((_[m].type==0||_[m].type==3)&&(O||_[m].wM!=-1)){if(m>=n)return l;
l++}return l};Q.M.vM=function(_,n){var O=-1,l=0;for(var m=0;m<_.length;m++){if((_[m].type==0||_[m].type==3)&&_[m].wM!=-1)O++;
if(O==n)l++}return l};Q.M.a0x=function(_){var n=180;for(var m=0;m<_.length;m++){if(_[m].type!=0&&_[m].type!=3)continue;
var O=_[m].length;if(O<3)continue;for(var l=0;l<O;l++){var x=_[m+1+(l-1+O)%O],t=_[m+1+l],h=_[m+1+(l+1)%O],V=t.H,y=t.lz.yO(V)?x.l6:t.lz,r=t.l6.yO(V)?h.lz:t.l6;
if(V.yO(y)||V.yO(r))continue;var E=y.x-V.x,a=y.y-V.y,S=r.x-V.x,e=r.y-V.y,y=Math.atan2(y.y-V.y,y.x-V.x)*180/Math.PI,r=Math.atan2(r.y-V.y,r.x-V.x)*180/Math.PI,P=Math.abs(r-y)%360,b=P>180?360-P:P;
if(b<n)n=b}}return n*Math.PI/180};Q.M.Uf=function(_){var n=_.segments?[_]:_.children,O=[];for(var m=0;
m<n.length;m++){var l=n[m],x=l.segments,t=l.closed?0:3,h=O.length,V=null;if(x.length<=1)continue;O.push({type:t,length:x.length,wM:0,kr:2});
for(var y=0;y<x.length;y++){var r=x[y],E=new aW(r.handleIn.x,r.handleIn.y),a=new aW(r.handleOut.x,r.handleOut.y),S=new aW(r.point.x,r.point.y),e={type:t+1,lz:S.add(E),H:S,l6:S.add(a)};
if(V==null)V=e;O.push(e);if(y+1==x.length&&aW.nT(V.H,e.H)<1e-5){O.pop();O[h].length--;V.lz=e.lz;if(t==3)for(var P=h;
P<O.length;P++)O[P].type-=3}}}return O};Q.M.b9=function(_){Q.M.PJ();var n=[],O,l=new paper.Color(1,0,0);
function x(e,V){e.remove();e.closed=!V;e.fillRule="evenodd"}for(var m=0;m<_.length;m++){if(_[m].type>5)continue;
var t=_[m].length,h;if(m==_.length-1)break;var V=_[m].type==3;if(m==2){if(!Q.M.rw(_))h="subtract";else h="unite"}else{if(_[m].wM==0)h="exclude";
if(_[m].wM==1)h="unite";if(_[m].wM==2)h="subtract";if(_[m].wM==3)h="intersect"}if(_[m].wM!=-1){O=new paper.CompoundPath;
n.push([O,h]);O.fillRule="evenodd";O.fillColor=l}var y=[];for(var r=0;r<t;r++){var E=_[m+1+r],a=E.lz.OA(E.H),S=E.l6.OA(E.H);
y.push([[E.H.x,E.H.y],[a.x,a.y],[S.x,S.y]])}var e=new paper.Path(y);x(e,V);O.addChild(e);m+=t}return n};
Q.M.$y=function(_){for(var m=0;m<_.length;m++){var n=_[m];if(n.H==null)continue;if(!n.H.yO(n.lz)||!n.H.yO(n.l6))return!1}return!0};
Q.M.ayq=function(_){if(_.length<=5)return 0;var n=0,O=_.length-3-1;for(var m=0;m<O;m++){var l=_[3+m],x=_[3+m+1];
if(l.type==0||x.type==0)return 0;n+=(x.H.x-l.H.x)*(l.H.y+x.H.y)}n+=(_[3].H.x-_[3+O].H.x)*(_[3+O].H.y+_[3+1].H.y);
return-n*.5};Q.M.z7=function(_){var n=_[2],O=!1;if(_.length==2)O=_[1].all==0;else if(_[1].all==1){if(n.wM==1||n.wM==3)O=!0;
else O=!1}else{if(n.wM==1||n.wM==3||n.wM==0)O=!0;else O=!1}return O};Q.M.rw=function(_){var n=Q.M.z7(_);
for(var m=3;m<_.length;m++)if(_[m].wM==3)n=!0;return n};Q.M.ah6=0;Q.M.bn=0;Q.M.arj=0;Q.M.a8g=function(_,n,O,l){if(O.wk())return;
var x=O.O(),C=16384;Q.M.ah6+=x;if(x>Q.M.bn){Q.M.bn=x}var t=O.a,h=O.n;if(l==null&&Q.M.$y(_)&&_[2]&&_[2].wM!=2){var V=!0;
for(var m=2;m<_.length;)if(_[m].length==2)m+=3;else{V=!1;break}if(V){return}if(Q.M.qu(_)){n.fill(255);
var y=Q.M.OY(_);if(y.O()!=x){var r=1-(y.x-O.x),E=1-(y.y-O.y),a=1-(O.x+O.a-(y.x+y.a)),S=1-(O.x+O.n-(y.x+y.n)),e=~~(r*255),P=~~(a*255),b=~~(E*255),T=~~(S*255);
n.fill(b,0,t);n[0]=~~(r*E*255);n[t-1]=~~(a*E*255);for(var m=t;m<x;m+=t){n[m]=e;n[m+t-1]=P}n.fill(T,(h-1)*t,h*t);
n[x-t]=~~(r*S*255);n[x-1]=~~(a*S*255)}return}}var Z=Math.ceil(t/C),W=Math.ceil(h/C),s=Math.ceil(t/Z),f=Math.ceil(h/W),q=Date.now();
for(var g=0;g<W;g++)for(var i=0;i<Z;i++){var u=i*s,I=g*f,Y=s,U=f,F=Q.jk(Y,U);if(!Q.M.z7(_))F.fillRect(0,0,Y,U);
Q.M.jS(_,F,-O.x-u,-O.y-I,l);var N=new Uint8Array(F.getImageData(0,0,Y,U).data.buffer);if(Y==t&&U==h)Q.nV(N,n,3);
else Q.w6(N,new a8(u,I,Y,U),n,new a8(0,0,t,h))}};Q.M.a40=function(_){var n=!1,O=!1,l=0,x=!1;for(var m=0;
m<_.length;m++){var t=_[m].wM;if(t!=null){l++;if(t==-1)n=!0;if(t==1||t==2||t==3)O=!0;if(_[m].type==0)x=!0}}if(!n&&l<20&&x&&O)_=Q.M.$q(_);
return _};Q.M.jS=function(_,n,O,l,x,t){if(x!=null){_=Q.M.a40(_)}for(var m=0;m<_.length;m++){if(_[m].type>5)continue;
var h=_[m].length;if(h==0)continue;if(m==_.length-1)break;var V=_[m].type==3,y=_[m].wM;if(y!=-1&&x==null){var r=["xor","source-over","destination-out","source-in"][y];
n.globalCompositeOperation=r}if(_[m].wM!=-1){n.beginPath();if(x){Q.M.kI(x,n)}}Q.M.a9D(n,_,m+1,h,O,l,V);
if(V){}else n.closePath();if(_[m+1+h]==null||_[m+1+h].wM!=-1){if(x){if(t)n.clip();n.stroke()}else n.fill(y==-1?"nonzero":"evenodd")}m+=h}n.globalCompositeOperation="source-over"};
Q.M.kI=function(_,n,O){if(O==null)O=1;var l=_.strokeStyleLineWidth.v.val*O,x=_.strokeStyleLineAlignment.v.strokeStyleLineAlignment,t=_.strokeStyleLineCapType.v.strokeStyleLineCapType,h=_.strokeStyleLineJoinType.v.strokeStyleLineJoinType,V=_.strokeStyleMiterLimit.v,y=[],r=_.strokeStyleLineDashSet.v;
for(var E=0;E<r.length;E++)y.push(r[E].v.val*l);n.setLineDash(y);n.lineCap=["butt","round","square"][aF.eo.vl.indexOf(t)];
n.lineJoin=["miter","round","bevel"][aF.eo.join.indexOf(h)];n.lineWidth=aF.eo._R.indexOf(x)==1?l:l*2;
n.miterLimit=V};Q.M.a9D=function(_,n,m,O,l,x,t){var h=n[m],V=null;_.moveTo(h.H.x+l,h.H.y+x);for(var y=m;
y<m+O-1;y++){h=n[y];V=n[y+1];_.bezierCurveTo(h.l6.x+l,h.l6.y+x,V.lz.x+l,V.lz.y+x,V.H.x+l,V.H.y+x)}if(!t){h=n[y];
V=n[m];_.bezierCurveTo(h.l6.x+l,h.l6.y+x,V.lz.x+l,V.lz.y+x,V.H.x+l,V.H.y+x)}};Q.M.aay=function(_,n){var O=[],l=n?4:1;
for(var m=0;m<_.length;m+=2){var x=new aW(_[m],_[m+1]);O.push({type:l,lz:x.clone(),H:x.clone(),l6:x.clone()})}return O};
Q.M.eD=function(_,n,O){var l=Q.p.Vx(_),x=Math.sqrt(Math.sqrt(l.O()))*.2,t=.2;_=_.slice(0);var h=_.length,V=n?0:2;
for(var y=0;y<5;y++)for(var m=V;m<_.length-V;m+=2){var r=(m-2+h)%h,E=(m+2)%h,a=_[m],S=_[m+1],e=(_[r]+_[E])*.5,P=(_[r+1]+_[E+1])*.5;
_[m]=a+(e-a)*t;_[m+1]=S+(P-S)*t}if(O)return Q.M.tm.HW(_,null,!n);Q.M.PJ();var b=new paper.Path;b.remove();
b.closed=n;for(var m=0;m<_.length;m+=2)b.add(new paper.Point(_[m],_[m+1]));b.simplify(x);var T=[{type:6},{type:8,all:0}];
T=T.concat(Q.M.Uf(b));return T};Q.M.iI=function(_,n,O){var l=_[n].length,x=_[n].type,t=0,h=_.slice(n+1,n+1+l);
for(var m=0;m<l;m++){var V=O[(m-1+l)%l],y=O[(m+1+l)%l],r=O[m];if(r!=0){var E=h[(m-1+l)%l].H,a=h[(m+0+l)%l].H,S=h[(m+1+l)%l].H,e=aW.nT(a,E),P=aW.nT(a,S),b=Q.p.ZJ(E.x,E.y,a.x,a.y,S.x,S.y,r)[0],T=Math.min(b,V==0?e:e/2,y==0?P:P/2);
r*=T/b;var C=Q.p.a0F(E.x,E.y,a.x,a.y,S.x,S.y,r),Z={type:x+1,lz:new aW(C[2],C[3]),H:new aW(C[2],C[3]),l6:new aW(C[4],C[5])},W={type:x+1,lz:new aW(C[6],C[7]),H:new aW(C[8],C[9]),l6:new aW(C[8],C[9])};
_.splice(n+t+1,1,Z,W);t++;_[n].length++}t++}};Q.M.$y=function(_){for(var m=0;m<_.length;m++){var n=_[m],O=n.type;
if(O==1||O==2||O==4||O==5)if(!n.H.yO(n.lz)||!n.H.yO(n.l6))return!1}return!0};Q.M.qu=function(_){if(_.length!=7||_[2].length!=4||!Q.M.$y(_))return!1;
for(var m=0;m<4;m++){var n=!0;for(var O=0;O<4;O++){var l=_[3+(m+O&3)],x=_[3+(m+O+1&3)];if(l.H.x!=x.H.x&&l.H.y!=x.H.y)n=!1}if(n)return!0}return!1};
Q.M.asx=function(_){if(_.length<6)return 0;var n=_.length-2,O=0;for(var m=0;m<n;m+=2)O+=(_[m+2]-_[m])*(_[m+1]+_[m+3]);
O+=(_[0]-_[n])*(_[n+1]+_[1]);return-O*.5};Q.M.Iy=function(_){_=v.ez.qD(_);var n=Q.M.Cw(_);for(var O=0;
O<n;O++){var l=Q.M.TH(_,O)+1,x=_[l-1].length,t=[];for(var m=0;m<x;m++){var h=_[l+m].H;t.push(h.x,h.y)}var V=Q.M.asx(t);
if(V<0)Q.M.a4L(_,l-1)}return _};Q.M.a4L=function(_,n){var O=n+1,l=_[n].length,x=[];for(var m=0;m<l;m++){var t=_[O+m],h=t.lz;
t.lz=t.l6;t.l6=h;x.push(t)}for(var m=0;m<l;m++)_[O+m]=x[l-1-m]};Q.M.tm={};Q.M.tm.HW=function(_,n,O){var l=[{type:6},{type:8,all:0}],x=null;
l.push({type:O?3:0,wM:1,length:0,w3:0,Dj:0,kr:1});if(n==0||n==null)x=null;else if(n instanceof Array)x=n;
else{x=[];for(var m=0;m<_.length;m+=2)x.push(n)}l=l.concat(Q.M.aay(_,O));l[2].length=l.length-3;if(x)Q.M.iI(l,2,x);
return l};Q.M.tm.a11=function(_,n,O,l,x){var t=[],h=[],V=.553,y=1,r=-1;t.push({type:1,lz:new aW(0,V),H:new aW(0,0),l6:new aW(0,-V)});
x+=2;for(var m=0;m<x;m++){var E={type:1};if(m==0){E.H=new aW(1,-1);E.lz=new aW(1-V,-1);E.l6=new aW(1+V,-1)}else{var a=-(m+2)*Math.PI/2,S=1+((m&1)==1?m-1:m),e=Math.sin(a),P=Math.cos(a);
y+=S*(e-P);r+=S*(P+e);E.H=new aW(y,r);E.lz=new aW(y+S*P*V,r-S*e*V);if((m&1)==1)S+=2;E.l6=new aW(y-S*P*V,r+S*e*V)}var b={type:1,lz:new aW(-E.l6.x,-E.l6.y),H:new aW(-E.H.x,-E.H.y),l6:new aW(-E.lz.x,-E.lz.y)};
t.push(E);if(m<x-2)h.push(b)}h.reverse();t=t.concat(h);var T=[{type:6},{type:8,all:0}];T.push({type:0,wM:1,length:t.length,w3:0,Dj:0,kr:1});
T=T.concat(t);var C=new aY(O/x,0,0,O/x,0,0);C.rotate(l);C.translate(_,n);Q.M.qp(T,C);return T};Q.M.tm.Rect=function(_,n,O,l,x){var t=[_,n,_+O,n,_+O,n+l,_,n+l];
return Q.M.tm.HW(t,x)};Q.M.tm.oC=function(_,n,O,l,x,t,h,V){var y=[],r=2*Math.PI/x;for(var m=0;m<x;m++)y.push(Math.cos(m*r-l),Math.sin(m*r-l));
if(h!=null){var E=Q.p.Vx(y),a=E.a,S=E.n,e=h/(a/2),P=V/(S/2);for(var m=0;m<y.length;m+=2){y[m]=(y[m]-(E.x+a/2))*e;
y[m+1]=(y[m+1]-(E.y+S/2))*P}O=1}var b=new aY(O,0,0,O,0,0);b.translate(_,n);Q.p.D(y,b,y);return Q.M.tm.HW(y,t)};
Q.M.tm.fD=function(_,n,O,l,x,t,h){var V=[],y=Math.PI/x;for(var m=0;m<x*2;m++){var r=(m&1)==0?1:h;V.push(r*Math.cos(m*y),r*Math.sin(m*y))}var E=new aY(O,0,0,O,0,0);
E.rotate(l);E.translate(_,n);Q.p.D(V,E,V);return Q.M.tm.HW(V,t)};Q.M.tm.Mk=function(_,n,O,l,x){return Q.M.tm.Iu(0,_,n,O,l,x)};
Q.M.tm.a3p=function(_,n,O,l,x,t){return Q.M.tm.Iu(1,_,n,O,l,x,t)};Q.M.tm.MU=function(_,n,O,l,x,t){return Q.M.tm.Iu(2,_,n,O,l,x,t)};
Q.M.tm.Iu=function(_,n,O,l,x,t,h){var V=Math.sqrt((l-n)*(l-n)+(x-O)*(x-O)),y;t/=2;if(_==0)y=[-t,0,t,0,t,V,-t,V];
if(_==1){var r=t*2*h*1.3/1.5,E=t*h;y=[-t,0,t,0,t,V-r,E,V-r,0,V,-E,V-r,-t,V-r]}if(_==2){var r=h[3],E=h[2]/2,a=r*(2/3)*h[4]/100,S=r-a,e=r;
y=[];if(h[0])y.push(-t,S,-E,e,0,0,E,e,t,S);else y.push(-t,0,t,0);if(h[1])y.push(t,V-S,E,V-e,0,V,-E,V-e,-t,V-S);
else y.push(t,V,-t,V)}var P=new aY(1,0,0,1,0,0);P.rotate(Math.atan2(-x+O,l-n)+Math.PI/2);P.translate(n,O);
Q.p.D(y,P,y);return Q.M.tm.HW(y,0)};Q.M.tm.p6=function(_,n,O,l){var x=[{type:6},{type:8,all:0}],a=.553;
x.push({type:0,wM:1,length:4,w3:0,Dj:0,kr:1});var t=_,h=n,V=_+O,y=n+l,_=(t+V)/2,n=(h+y)/2,r=(t-V)/2,E=(h-y)/2;
x.push({type:1,lz:new aW(_-a*r,n-E),H:new aW(_,n-E),l6:new aW(_+a*r,n-E)});x.push({type:1,lz:new aW(_+r,n-a*E),H:new aW(_+r,n),l6:new aW(_+r,n+a*E)});
x.push({type:1,lz:new aW(_+a*r,n+E),H:new aW(_,n+E),l6:new aW(_-a*r,n+E)});x.push({type:1,lz:new aW(_-r,n+a*E),H:new aW(_-r,n),l6:new aW(_-r,n-a*E)});
return x};Q.M.tm.a0I=function(_,n,O,l,x){var t=[{type:6},{type:8,all:0}];t.push({type:3,wM:1,length:5,w3:0,Dj:0,kr:1});
var h=(x-l)/4;for(var m=0;m<5;m++){var V=m*h,y=Math.cos(V),r=Math.sin(V),E=.553*(h/(Math.PI/2)),a=r*E,S=-y*E,e=new aW(y,r);
t.push({type:4,lz:m==0?e.clone():new aW(y+a,r+S),H:e,l6:m==4?e.clone():new aW(y-a,r-S)})}var P=new aY;
P.rotate(-l);P.scale(O,O);P.translate(_,n);Q.M.qp(t,P);return t};Q.Q6={};Q.Q6.type={warpNone:[22,5,0],warpCustom:[22,5,16],warpArc:[22,5,1],warpArcLower:[22,5,2],warpArcUpper:[22,5,3],warpArch:[22,5,4],warpBulge:[22,5,5],warpShellLower:[22,5,6],warpShellUpper:[22,5,7],warpFlag:[22,5,8],warpWave:[22,5,9],warpFish:[22,5,10],warpRise:[22,5,11],warpFisheye:[22,5,12],warpInflate:[22,5,13],warpSqueeze:[22,5,14],warpTwist:[22,5,15]};
Q.Q6.Z1=function(_){var n=_.warpStyle.v.warpStyle;if(n=="warpNone")return!0;else if(n=="warpCustom"){var O=!1,l=_.customEnvelopeWarp.v.meshPoints.v.arr,x=l[0].arr,t=l[1].arr;
for(var m=0;m<4;m++)for(var h=0;h<4;h++){if(Math.abs(x[m]-x[h*4+m])>1||Math.abs(t[m*4]-t[m*4+h])>1)O=!0}return!O}else return _.warpValue.v==0&&_.warpPerspective.v==0&&_.warpPerspectiveOther.v==0};
Q.Q6.Q=function(_){var n={classID:"warp",warpStyle:{t:"enum",v:{warpStyle:"warpNone"}},warpValue:{t:"doub",v:0},warpPerspective:{t:"doub",v:0},warpPerspectiveOther:{t:"doub",v:0},warpRotate:{t:"enum",v:{Ornt:"Hrzn"}}};
if(_){n.bounds={t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:_.y}},Left:{t:"UntF",v:{type:"#Pxl",val:_.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:_.y+_.n}},Rght:{t:"UntF",v:{type:"#Pxl",val:_.x+_.a}}}};
n.uOrder={t:"long",v:4};n.vOrder={t:"long",v:4}}return n};Q.Q6.aoH=function(_,n,O,l){for(var m=0;m<_.length;
m+=2){var x=_[m],t=_[m+1],h=(x-n.x)/n.a,V=(t-n.y)/n.n,y=(1-O)/2,r=1-y,E=y+h*(r-y);V=.5+(V-.5)*E*2;var a=(1-l)/2,S=1-a,e=a+V*(S-a);
h=.5+(h-.5)*e*2;x=n.x+h*n.a;t=n.y+V*n.n;_[m]=x;_[m+1]=t}};Q.Q6.nC=function(_,n){var O=[],l=[];for(var m=0;
m<_.length;m+=2){O.push(_[m]);l.push(_[m+1])}var x=[];x.push({id:"Hrzn",type:"UnFl",uID:"#Pxl",arr:O});
x.push({id:"Vrtc",type:"UnFl",uID:"#Pxl",arr:l});n.warpStyle.v.warpStyle="warpCustom";n.customEnvelopeWarp={t:"Objc",v:{classID:"customEnvelopeWarp",meshPoints:{t:"ObAr",v:{classID:"rationalPoint",arr:x}}}}};
Q.Q6.zE=function(_,n){if(n==null){var O=_.bounds.v,l=O.Left.v.val,x=O.Rght.v.val,t=O.Top.v.val,h=O.Btom.v.val;
if(l==null){l=O.Left.v,x=O.Rght.v;t=O.Top.v,h=O.Btom.v}n=new a8(l,t,x-l,h-t)}if(n.wk())n.a=n.n=1;var V=[],y=_.warpStyle.v.warpStyle;
if(y=="warpCustom"){var r=_.customEnvelopeWarp.v.meshPoints.v.arr,E=r[0].arr,a=r[1].arr;for(var m=0;
m<16;m++)V.push(E[m],a[m])}else V=Q.Q6.Q6(n,y,_.warpRotate.v.Ornt=="Hrzn",_.warpValue.v/100,_.warpPerspective.v/100,_.warpPerspectiveOther.v/100);
return V};Q.Q6.Q6=function(_,n,O,l,x,t){var h=Q._I.Q(_.x,_.y,_.a,_.n);if(n=="warpNone")return h;var V=JSON.parse(JSON.stringify(_)),y=new aY;
if(!O){y.translate(-_.x,-_.y);y.rotate(-Math.PI/2);y.translate(_.n,0);Q.p.D(h,y,h);_=new a8(0,0,_.n,_.a);
h=Q._I.wf(h,!1)}Q.Q6.aqW(h,_,n,l,x,t);if(!O){h=Q._I.wf(h,!0);_=V;y.sJ();Q.p.D(h,y,h)}if(l==0)Q.Q6.aoH(h,_,x,t);
else{var y=new aY(1/_.a,0,0,1/_.n,-_.x,-_.y);y.translate(-.5,-.5);Q.p.D(h,y,h);Q.Q6.a6S(h,t,x);y.sJ();
Q.p.D(h,y,h)}return h};Q.Q6.aqW=function(_,n,O,l,x,t){for(var m=0;m<4;m++){for(var h=0;h<4;h++){var V=2*(4*m+h),y=_[V]-n.x,r=_[V+1]-n.y,E=y,a=r;
if(l!=0){var S=n.a/2,e=n.n/2;E-=S;a-=e;var P=E,b=E,T=-e,C=e,Z=Math.abs(l),W=Math.tan((1-Z)*Math.PI/2),s=Math.sqrt(W*W+1),f=Math.atan2(1,W),q=E/S*f,g=S*s,i=S*s+n.n,u=Math.cos(f),I=Math.sin(f),Y=Q.Q6.aoJ(u,I),U=Q.Q6.abq(u,I),F=-W*S+Y*g;
if(O=="warpArc"){P=Math.sin(q)*i;T=W*S-Math.cos(f)*i+e;b=Math.sin(q)*g;C=W*S-Math.cos(f)*g+e;if(h==1||h==2){P=h==1?-U*i:U*i;
b=h==1?-U*g:U*g;T=W*S+e-Y*i;C=W*S+e-Y*g}if(l<0){var N=P;P=b;b=N;N=T;T=-C;C=-N}}if(O=="warpArcLower"){if(h==1||h==2){b=h==1?-U*g:U*g;
C=l<0?e-F:e+F}}if(O=="warpArcUpper"||O=="warpArch"||O=="warpBulge"){if(h==1||h==2){P=h==1?-U*g:U*g;T=l<0?-e+F:-e-F}if(O=="warpArch"){b=P;
C=T+2*e}if(O=="warpBulge"){b=P;C=-T}}if(O=="warpFish"||O=="warpFlag"||O=="warpWave"){var o=h;if(O=="warpFlag")o=3-h;
if(o==1){T-=l*4*e;C+=l*4*e}if(o==2){T+=l*4*e;C-=l*4*e}if(O=="warpFlag"||O=="warpWave")T=C-2*e}if(O=="warpRise"){if(h<2)T=-e+l*e*4;
C=T+2*e}var X=(a+e)/n.n;E=P+X*(b-P);a=T+X*(C-T);if(O=="warpWave"){if(m==0)a=-e;if(m==3)a=e;if(m==1||m==2)a=2*e*(m/3-.5)*(1/3)+a*(2/3)}if(O=="warpFisheye"){if((m==1||m==2)&&(h==1||h==2)){E=E+4*E*l;
a=a+4*a*l}}if(O=="warpInflate"){var J=2/3;if((m==1||m==2)&&(h==1||h==2)){E=E+.5*E*l;a=a+.5*a*l}else if(m==1||m==2)E=E+J*E*l;
else if(h==1||h==2)a=a+J*a*l}if(O=="warpSqueeze"){var J=2/3;if((m==1||m==2)&&(h==1||h==2)){if(l>0)E=E-J*E*l;
else a=a+J*a*l}else if(m==1||m==2)E=E-J*E*l;else if(h==1||h==2)a=a+J*a*l}if(O=="warpTwist"){if((m==1||m==2)&&(h==1||h==2)){var c=l*Math.PI/2,s=1+Math.abs(l)*2,p=E*Math.cos(c)-a*Math.sin(c),d=E*Math.sin(c)+a*Math.cos(c);
E=p*s;a=d*s}}if(O=="warpShellLower"||O=="warpShellUpper"){if(O=="warpShellUpper"){m=3-m;a=-a}if(m>2||m==2&&(h==0||h==3)){if(l>0){var k=g+m/3*2*e;
E=Math.sin(q)*k;a=-W*S-e+Math.cos(q)*k;if(h==1||h==2){E=h==1?-U*k:U*k;a=-W*S-e+Y*k}}else{if((h==1||h==2)&&m==3){E=h==1?-U*g:U*g;
a=W*S-Y*g+e}else if(m==2){a=e-e*(2/3)*Math.cos(q);E=E+e*(2/3)*Math.sin(q)}}}if(O=="warpShellUpper"){m=3-m;
a=-a}}E+=S;a+=e}y=E,r=a;_[V]=y+n.x;_[V+1]=r+n.y}}};Q.Q6.a6S=function(_,n,O){var l=[];for(var x=0;x<4;
x++)l.push(1-O+x/3*2*O);var t=[];for(var x=0;x<4;x++)t.push(1-n+x/3*2*n);var h=[0,0,0,0],V=[0,0,0,0];
for(var m=0;m<4;m++)for(var x=0;x<4;x++){var y=2*(4*m+x),r=_[y],E=_[y+1];h[x]+=r/4;V[x]+=E/4}for(var m=0;
m<4;m++)for(var x=0;x<4;x++){var a=l[x],y=2*(4*m+x),r=_[y],E=_[y+1],S=h[x],e=V[x];_[y]=S+a*(r-S);_[y+1]=e+a*(E-e)}var P=_.slice(0);
for(var m=0;m<4;m++)for(var x=1;x<3;x++){var y=2*(4*m+x),r=_[y],E=_[y+1],b=y+(x==1?-2:2),T=_[b],C=_[b+1];
_[y]=r-T;_[y+1]=E-C}var Z=_[0],W=_[1],s=_[8],f=_[9],q=_[16],g=_[17],i=_[24],u=_[25],I=_[6],Y=_[7],U=_[14],F=_[15],N=_[22],o=_[23],X=_[30],J=_[31],c=I-Z,p=Y-W,d=U-s,k=F-f,A=N-q,$=o-g,K=X-i,G=J-u;
for(var m=0;m<4;m++){var z=2*m*4,M=0,hl=0,j=m==1?.33:.66,w=1-j;if(m==0){M=c;hl=p}if(m==1){M=w*c+j*-K;
hl=w*p+j*-G}if(m==2){M=w*c+j*-K;hl=w*p+j*-G}if(m==3){M=-K;hl=-G}_[z]=_[z]+M/2;_[z+1]=_[z+1]+hl/2;_[z+6]=_[z+6]-M/2;
_[z+7]=_[z+7]-hl/2}for(var m=0;m<4;m++)for(var x=1;x<3;x++){var y=2*(4*m+x),r=_[y],E=_[y+1],b=y+(x==1?-2:2),T=_[b],C=_[b+1],a=2*m/3;
_[y]=T+a*r;_[y+1]=C+a*E}for(var m=1;m<3;m++)for(var x=1;x<3;x++){var y=2*(4*m+x),r=_[y],E=_[y+1],B=m==1?-8:-16,bB=m==1?16:8,bG=_[y+B],eb=_[y+B+1],fe=_[y+bB],gB=_[y+bB+1],a=m/3;
r=(1-a)*bG+a*fe;E=(1-a)*eb+a*gB;_[y]=r;_[y+1]=E}Q.p.My(P,_,_,n)};Q.Q6.aoJ=function(_,n){return(4-_)*(1/3)};
Q.Q6.abq=function(_,n){return(1-_)*(3-_)/(3*n)};Q.eJ={};Q.eJ.as7=function(_,n,O,l,x,t,h,V,y,r){for(var E=0;
E<V;E++)for(var a=0;a<h;a++){var S=3*(E*h+a),e=E+t,P=a+x,b=_[e*n+P];l[S]=b;l[S+1]=b;l[S+2]=b}};Q.eJ.Ia=function(_,n,O,l,x,t,h,V,y,r){var E=[0,1,1/2,1/3,1/4,1/5,1/6,1/7,1/8,1/9],a=1/y,S=[-1,-1,0,-1,1,-1,-1,0,1,0,-1,1,0,1,1,1],e=new Uint32Array(6);
for(var P=0;P<V;P++){for(var b=0;b<h;b++){var T=3*(P*h+b),C=P+t,Z=b+x;e[0]=0;e[1]=0;e[2]=0;e[3]=0;e[4]=0;
e[5]=0;for(var m=0;m<16;m+=2){var W=Z+S[m],s=C+S[m+1],f=W-y*~~(W*a),q=s-y*~~(s*a),g=r[q*y+f];e[g]+=_[s*n+W];
e[g+3]++}var W=Z,s=C,f=W-y*~~(W*a),q=s-y*~~(s*a),g=r[q*y+f];e[g]=_[C*n+Z];e[g+3]=1;l[T]=e[0]*E[e[3]];
l[T+1]=e[1]*E[e[4]];l[T+2]=e[2]*E[e[5]]}}};Q.eJ.Kb=function(_,n,O){for(var m=0;m<O;m+=2)_[n+m]=_[n+m+1];
n=n+O;for(var m=0;m<O;m+=2)_[n+m+1]=_[n+m]};Q.eJ.SV=function(_,n,O,l){for(var m=0;m<l;m+=2){var x=n+m*O;
_[x]=_[x+O];_[x+O+1]=_[x+1]}};Q.eJ.Vp=function(_,n,O,l,x,t){var h=l[x],V=l[x+1],y=l[t],r=l[t+1],E=V+y>>>1;
_[n]=_[n+3]=_[O]=_[O+3]=h;_[n+1]=E;_[n+4]=V;_[O+1]=y;_[O+4]=E;_[n+2]=_[n+5]=_[O+2]=_[O+5]=r};Q.eJ.aap=function(_,n,O,l,x,t){var h=t*3;
for(var m=0;m<t;m+=2){var V=n+m,y=x+m*3;Q.eJ.Vp(l,y,y+h,_,V,V+O)}};Q.eJ.as8=function(_,n,O,l,x,t,h){var V=t*3;
for(var m=0;m<h;m+=2){var y=n+m*O,r=x+m*t*3;Q.eJ.Vp(l,r,r+V,_,y,y+O)}};Q.eJ.Qq=function(_,m,n){var O=_[m-n-n],l=_[m-n],x=_[m-2],t=_[m-1],h=_[m],V=_[m+1],y=_[m+2],r=_[m+n],E=_[m+n+n],a=Math.abs(l-r),S=Math.abs(t-V),e=Math.abs(h-O)*2+a,P=Math.abs(h-y)*2+S,b=Math.abs(h-x)*2+S,T=Math.abs(h-E)*2+a,C=Math.min(e,Math.min(P,Math.min(b,T)));
if(C==e)return l*3+r+h-O>>2;if(C==P)return V*3+t+h-y>>2;if(C==b)return t*3+V+h-x>>2;return r*3+l+h-E>>2};
Q.eJ.N6=function(_,n,O,l,x){if(_<n&&n<O||_>n&&n>O)return~~(.5+l+(x-l)*(n-_)/(O-_));else return(l+x>>1)+(n+n-_-O>>2)};
Q.eJ.fW=function(_,n,m,O){var l=n[m-O-1],x=n[m-O+1],t=n[m],h=n[m+O-1],V=n[m+O+1],y=_[m-O-1],r=_[m-O+1],E=_[m],a=_[m+O-1],S=_[m+O+1],e=Math.abs(r-a)+Math.abs(_[m-O-O+2]-E)+Math.abs(E-_[m+O+O-2])+Math.abs(x-t)+Math.abs(t-h),P=Math.abs(y-S)+Math.abs(_[m-O-O-2]-E)+Math.abs(E-_[m+O+O+2])+Math.abs(l-t)+Math.abs(t-V);
if(e<P)return Q.eJ.N6(x,t,h,r,a);else return Q.eJ.N6(l,t,V,y,S)};Q.eJ.NZ=function(_,n,O,l,x,t){_[n+0]=O[x];
_[n+1]=l[x];_[n+2]=Q.eJ.fW(O,l,x,t)};Q.eJ.hs=function(_,n,O,l,x,t){var h=l[x];_[n+0]=Q.eJ.N6(l[x-1],h,l[x+1],O[x-1],O[x+1]);
_[n+1]=h;_[n+2]=Q.eJ.N6(l[x-t],h,l[x+t],O[x-t],O[x+t])};Q.eJ.sO=function(_,n,O,l,x,t){var h=l[x];_[n+0]=Q.eJ.N6(l[x-t],h,l[x+t],O[x-t],O[x+t]);
_[n+1]=h;_[n+2]=Q.eJ.N6(l[x-1],h,l[x+1],O[x-1],O[x+1])};Q.eJ.rX=function(_,n,O,l,x,t){_[n+0]=Q.eJ.fW(O,l,x,t);
_[n+1]=l[x];_[n+2]=O[x]};Q.eJ.ayr=function(_,n,O,l,x,t,h,V,y){var r=Date.now(),E=2,a=n-2,S=2;if((x&1)==1){E++;
a--}var e=O-2;if((t&1)==1){S++;e--}if(y==1||y==3){E++;a--}var P=_.slice(0);Q.eJ.Kb(P,0,n);Q.eJ.SV(P,0,n,O);
Q.eJ.SV(P,n-2,n,O);Q.eJ.Kb(P,(O-2)*n,n);for(var b=S;b<e;b+=2)for(var T=E;T<a;T+=2){var m=b*n+T,C=Q.eJ.Qq(P,m,n),Z=Q.eJ.Qq(P,m+n+1,n);
P[m]=Math.max(0,C);P[m+n+1]=Math.max(0,Z)}var W=h,s=V;if(t+V==O){s-=2;Q.eJ.aap(_,(O-2)*n+x,n,l,(V-2)*h*3,h)}if(x+h==n){W-=2;
Q.eJ.as8(_,t*n+x+h-2,n,l,(h-2)*3,h,V)}if(y==0)for(var b=0;b<s;b+=2)for(var T=0;T<W;T+=2){var f=(b+t)*n+T+x,q=(b*h+T)*3;
Q.eJ.NZ(l,q,_,P,f,n);Q.eJ.hs(l,q+3,_,P,f+1,n);f+=n;q+=3*h;Q.eJ.sO(l,q,_,P,f,n);Q.eJ.rX(l,q+3,_,P,f+1,n)}else if(y==1)for(var b=0;
b<s;b+=2)for(var T=0;T<W;T+=2){var f=(b+t)*n+T+x,q=(b*h+T)*3;Q.eJ.hs(l,q,_,P,f,n);Q.eJ.NZ(l,q+3,_,P,f+1,n);
f+=n;q+=3*h;Q.eJ.rX(l,q,_,P,f,n);Q.eJ.sO(l,q+3,_,P,f+1,n)}else if(y==2)for(var b=0;b<s;b+=2)for(var T=0;
T<W;T+=2){var f=(b+t)*n+T+x,q=(b*h+T)*3;Q.eJ.rX(l,q,_,P,f,n);Q.eJ.sO(l,q+3,_,P,f+1,n);f+=n;q+=3*h;Q.eJ.hs(l,q,_,P,f,n);
Q.eJ.NZ(l,q+3,_,P,f+1,n)}else if(y==3)for(var b=0;b<s;b+=2)for(var T=0;T<W;T+=2){var f=(b+t)*n+T+x,q=(b*h+T)*3;
Q.eJ.sO(l,q,_,P,f,n);Q.eJ.rX(l,q+3,_,P,f+1,n);f+=n;q+=3*h;Q.eJ.NZ(l,q,_,P,f,n);Q.eJ.hs(l,q+3,_,P,f+1,n)}};
Q.raw={};Q.raw.a9P=function(_){var n=Date.now(),O=_.width,l=_.height,x=0,t=0,h=O,V=l;if(_.t50829){var y=_.t50829;
x=y[1];t=y[0];h=y[3];V=y[2]}if(_.t50719){var r=_.t50719;x+=r[0]>>1<<1;t+=r[1]>>1<<1}if(_.t50720){var E=_.t50720;
h=x+E[0];V=t+E[1]}var a=h-x,S=V-t,e=Q.raw.am3(_),P=_.t33422,b=_.t33421;if(b){var E=b[0],T=P.slice(0);
for(var C=0;C<E;C++)for(var Z=0;Z<E;Z++){var W=(Z+(x&1))%E,s=(C+(t&1))%E;T[C*E+Z]=P[s*E+W]}P=T}if(_.t277[0]==1)Q.raw.ack(e,O,l,_,P);
Q.raw.hq(2,_,e,O,l);var f=new Float32Array(a*S*3);if(_.t277[0]==1){if(b==null){Q.eJ.as7(e,O,l,f,x,t,a,S)}else if(b.length!=2||b[0]!=2||b[1]!=2){console.log("Unknown CFA pattern size",b);
Q.eJ.Ia(e,O,l,f,x,t,a,S,b[0],P)}else{var q=_.t33422.join(","),g=0;if(q=="0,1,1,2")g=0;else if(q=="1,0,2,1")g=1;
else if(q=="2,1,1,0")g=2;else if(q=="1,2,0,1")g=3;else throw"Unknown CFA pattern "+q;if((a&1)!=0||(S&1)!=0)throw"e";
Q.eJ.ayr(e,O,l,f,x,t,a,S,g)}}else{for(var C=0;C<S;C++)for(var Z=0;Z<a;Z++){var i=((C+t)*O+Z+x)*3,u=(C*a+Z)*3;
f[u+0]=e[i+0];f[u+1]=e[i+1];f[u+2]=e[i+2]}}var I=f,Y=f.length,U=Q.raw.pe(_),F=1/U;for(var m=0;m<Y;m+=3){f[m]=I[m]*F;
f[m+1]=I[m+1]*F;f[m+2]=I[m+2]*F}Q.raw.hq(3,_,f,a,S);var N=_.fX,o=a,X=S;if(N==1||N==9){}else{var J=Q.raw.cE(N,a,S),u=0;
o=J[0];X=J[1];var c=f.slice(0);for(var C=0;C<X;C++)for(var Z=0;Z<o;Z++){var p=J[2]*Z+J[3]*C+J[4],d=J[5]*Z+J[6]*C+J[7],i=(d*a+p)*3;
f[u]=c[i];f[u+1]=c[i+1];f[u+2]=c[i+2];u+=3}}return{sw:f,w5:o,UJ:X}};Q.raw.cE=function(_,n,O){var l=n,x=O;
if(!1){}else if(_==2)return[n,O,-1,0,n-1,0,1,0];else if(_==3)return[n,O,-1,0,n-1,0,-1,O-1];else if(_==4)return[n,O,1,0,0,0,-1,O-1];
else if(_==5)return[O,n,0,1,0,1,0,0];else if(_==6)return[O,n,0,1,0,-1,0,O-1];else if(_==7)return[O,n,0,-1,n-1,-1,0,O-1];
else if(_==8)return[O,n,0,-1,n-1,1,0,0];else throw"unknown orientation "+_};Q.raw.ack=function(_,n,O,l,x){var t=Date.now(),F=0,X=0;
if(Q.raw.pe(l)>4e4){for(var m=0;m<_.length;m++)_[m]>>=1;var h=["t50714","t50715","t50712","t50717"];
for(var m=0;m<h.length;m++){var V=l[h[m]];if(V)for(var y=0;y<V.length;y++)V[y]>>>=1}console.log("remapping to lower bit depth")}var r=~~Math.sqrt(x.length),E=[-1,-1,0,-1,0,1,-1,0,0,0,1,0,-1,1,0,1,1,1],a=[];
for(var S=0;S<r;S++)for(var e=0;e<r;e++){var m=S*r+e,P=x[m],b=4,T=4,C=8,Z=0,W=0;for(var y=0;y<18;y+=2){var s=(r+e+E[y])%r,f=(r+S+E[y+1])%r,q=x[f*r+s];
if(q==P){}else if(b==4){b=q;Z=y}else if(T==4&&q!=b){T=q;W=y;break}}if(T<b){var g=T;T=b;b=g;g=W;W=Z;Z=g}if(b<P){var g=b;
b=P;P=g;g=Z;Z=C;C=g}if(T<b){var g=T;T=b;b=g;g=W;W=Z;Z=g}a[m*3]=E[C+1]*n+E[C];a[m*3+1]=E[Z+1]*n+E[Z];
a[m*3+2]=E[W+1]*n+E[W]}var i=~~(.996*Q.raw.pe(l)),u=~~(.992*Q.raw.pe(l)),I=l.t50728;if(I[0]==0)I=[1,1,1];
var Y=[],U=[0,0,0];for(var S=1;S<O-1;S++)for(var e=1;e<n-1;e++){var m=S*n+e,N=S%r*r+e%r,P=_[m+a[N*3+0]],b=_[m+a[N*3+1]],T=_[m+a[N*3+2]],o=Math.max(P,b,T);
if(o>i)Y.push(m);else if(o>u){U[0]+=P;U[1]+=b;U[2]+=T;F++}}if(Y.length==0)return;if(F/(n*O)<1e-5){console.log("not enough semi-saturated pixels",F);
U=I}if(U[1]<U[X])X=1;if(U[2]<U[X])X=2;var J=[U[0]/U[X],U[1]/U[X],U[2]/U[X]],c=_.slice(0);for(var p=0;
p<Y.length;p++){var m=Y[p],S=~~(m/n),e=m-S*n,N=S%r*r+e%r,d=Math.min(65535,~~(_[m+a[N*3+X]]*J[x[N]]));
if(d>c[m])c[m]=d}_.set(c)};Q.raw.Wp=function(_,n,O,l){var x=Math.round(_.length/3),t=bI.Rp(l[0],l[1]),h=Q.raw.ape(O,t),V=Q.fN.multiply(Q.fN._B,h),y=Math.pow(2,O.t50730?O.t50730[0]:0);
V=Q.fN.multiply(V,Q.fN.Br(y,y,y));var r=Q.raw.Wp.atu;if(r==null){r=Q.raw.Wp.atu=new Float64Array(8e3);
for(var m=0;m<8e3;m++)r[m]=Q.nM(m*(1/1e3))}for(var m=0;m<x;m++){var E=m<<2,a=E-m,S=_[a],e=_[a+1],P=_[a+2],b=V[0]*S+V[1]*e+V[2]*P,T=V[4]*S+V[5]*e+V[6]*P,C=V[8]*S+V[9]*e+V[10]*P;
if(b<0)b=0;if(T<0)T=0;if(C<0)C=0;n[a]=r[~~(b*1e3)];n[a+1]=r[~~(T*1e3)];n[a+2]=r[~~(C*1e3)]}};Q.raw.am3=function(_){var n=_.width,O=_.height,l=n*O*_.t277,x=new Uint16Array(l),t=null,h=0;
Q.raw.ao8(_,x);Q.raw.hq(1,_,x,n,O);if(_.t50712){t=_.t50712;h=t.length-1;if(t[h]>65535)throw"too big values"}var V=Q.raw.hd(_),y=Q.raw.bT(_);
if(t==null)for(var m=0;m<l;m++)x[m]=Math.max(0,x[m]-V);else for(var m=0;m<l;m++){var r=x[m];if(r>h)r=h;
r=t[r];x[m]=Math.max(0,r-V)}return x};Q.raw.hd=function(_){var n=_.t50714,O=n?n[0]:0,l=_.t50715,x=_.t50716;
if(l)O+=l[0][0]/l[0][1];if(x)O+=x[0][0]/x[0][1];return Math.round(O)};Q.raw.bT=function(_){var n=null,O=0;
if(_.t50712){n=_.t50712;O=n.length-1}var l=_.t50717?_.t50717[0]:(1<<_.t258[0])-1;if(n)l=Math.min(l,n[O]);
return l};Q.raw.pe=function(_){var n=Q.raw.hd(_),O=Q.raw.bT(_);return O-n};Q.raw.ao8=function(_,n){var O=n.length,l=_.data,x=_.t258[0];
if(x!=16&&x!=14&&x!=12&&x!=10&&x!=8)throw"Unsupported Bits Per Sample:"+x;x=Math.round(l.length*8/O);
if(x==16&&_.isLE){Q.Jt(l,n);return}for(var m=0;m<O;m+=2){var t=0,h=0,V=0;if(x==16){t=m<<1;h=l[t]<<8|l[t+1];
V=l[t+2]<<8|l[t+3]}else if(x==14){var y=m*14,r=y>>>3,E=l[r]<<24|l[r+1]<<16|l[r+2]<<8|l[r+3];if((y&7)==0){h=E>>>18;
V=E>>>4&16383}else{h=E>>>14&16383;V=E&16383}}else if(x==12){t=m+(m>>>1);h=l[t]<<4|l[t+1]>>4;V=(l[t+1]&15)<<8|l[t+2]}else if(x==10){var y=m*10,r=y>>>3;
if((y&7)==0){h=(l[r]<<2|l[r+1]>>6)&1023;V=(l[r+1]<<4|l[r+2]>>4)&1023}else{h=(l[r]<<6|l[r+1]>>2)&1023;
V=(l[r+1]<<8|l[r+2]>>0)&1023}}else if(x==8){t=m;h=l[t];V=l[t+1]}n[m]=h;n[m+1]=V}};Q.raw.abc=function(_,n,O,l,x,t,h){var V=_-.499999,y=n-.499999,r=~~V,E=~~y,a=V-r,S=y-E,e=(1-S)*(1-a),P=(1-S)*a,b=S*(1-a),T=S*a,C=(E*l+r)*3,Z=((E+1)*l+r)*3,W=e*O[C]+P*O[C+3]+b*O[Z]+T*O[Z+3],s=e*O[C+1]+P*O[C+4]+b*O[Z+1]+T*O[Z+4],f=e*O[C+2]+P*O[C+5]+b*O[Z+2]+T*O[Z+5];
t[h]=W;t[h+1]=s;t[h+2]=f};Q.raw.hq=function(_,n,O,l,x){var t=n["t"+[51008,51009,51022][_-1]],E=0;if(t==null)return;
var h=l*x,V=R.v,y=R.eq,r=new Uint8Array(t),gj=R.v(r,E);E+=4;for(var a=0;a<gj;a++){var S=V(r,E);E+=4;
var e=V(r,E);E+=4;var P=V(r,E);E+=4;var b=V(r,E);E+=4;if(!1){}else if(S==1&&_==3){var T=E,C=V(r,T);T+=4;
var Z=y(r,T);T+=8;var W=y(r,T);T+=8;var s=y(r,T);T+=8;var f=y(r,T);T+=8;var q=y(r,T);T+=8;var g=y(r,T);
T+=8;T+=(C-1)*8*6;var i=y(r,T);T+=8;var u=y(r,T);T+=8;var I=i*l,Y=u*x,U=Math.max(I,l-I),F=Math.max(Y,x-Y),N=Math.sqrt(U*U+F*F),o=1/N,X=O.slice(0);
for(var J=0;J<x;J++)for(var c=0;c<l;c++){var p=(c+.5-I)*o,d=(J+.5-Y)*o,k=p*p+d*d,A=Z+W*k+s*(k*k)+f*(k*k)*k,$=q*(2*p*d)+g*(k+2*p*p),K=g*(2*p*d)+q*(k+2*d*d),G=Math.min(I+N*(A*p+$),l-1),z=Math.min(Y+N*(A*d+K),x-1),M=(J*l+c)*3;
Q.raw.abc(G,z,X,l,x,O,M)}}else if(S==3&&_==3){var T=E,hl=y(r,T);T+=8;var j=y(r,T);T+=8;var w=y(r,T);
T+=8;var B=y(r,T);T+=8;var bB=y(r,T);T+=8;var i=y(r,T);T+=8;var u=y(r,T);T+=8;var I=i*l,Y=u*x,U=Math.max(I,l-I),F=Math.max(Y,x-Y),N=Math.sqrt(U*U+F*F),o=1/N;
for(var J=0;J<x;J++)for(var c=0;c<l;c++){var p=(c+.5-I)*o,d=(J+.5-Y)*o,k=p*p+d*d,bG=1+(hl+(j+(w+(B+bB*k)*k)*k)*k)*k,M=(J*l+c)*3;
O[M]=bG*O[M];O[M+1]=bG*O[M+1];O[M+2]=bG*O[M+2]}}else if(S==4&&_==1){var T=E,eb=V(r,T);T+=4;var fe=V(r,T);
T+=4;for(var m=0;m<h;m++)if(O[m]==eb)O[m]=O[m-2]+O[m+2]>>1}else if(S==5&&_==1){var T=E,gB=V(r,T);T+=4;
var hp=V(r,T);T+=4;var g6=V(r,T);T+=4;for(var m=0;m<hp;m++){var by=V(r,T);T+=4;var e7=V(r,T);T+=4;var m=by*l+e7;
O[m]=O[m-2]+O[m+2]>>1}}else if(S==7&&_==1){var T=E,aN=R.NU(r,T);T+=16;var jK=V(r,T);T+=4;var f7=V(r,T);
T+=4;var hW=V(r,T),km=V(r,T+4);T+=8;var ca=V(r,T);T+=4;var aU=new Uint16Array(ca);for(var m=0;m<ca;m++)aU[m]=R.Pr(r,T+2*m);
var eJ=aN.a,am=aN.n;for(var J=0;J<am;J+=hW)for(var c=0;c<eJ;c+=km){var m=(aN.y+J)*l+(aN.x+c);O[m]=aU[O[m]]}}else if(S==8&&_==2){var T=E,aN=R.NU(r,T);
T+=16;var jK=V(r,T);T+=4;var f7=V(r,T);T+=4;var hW=V(r,T),km=V(r,T+4);T+=8;var eA=V(r,T);T+=4;var dj=[];
for(var m=0;m<=eA;m++)dj[m]=R.eq(r,T+m*8);var cM=aN.x,b2=aN.x+aN.a,cm=aN.y,az=aN.y+aN.n,j_=n.t50717[0],hh=1/j_;
for(var gs=0;gs<f7;gs++)for(var J=cm;J<az;J+=hW){var M=3*J*l+jK+gs;for(var c=cM;c<b2;c+=km){var m=M+3*c,fI=O[m]*hh,c0=dj[eA];
for(var ay=eA;ay>0;ay--)c0=c0*fI+dj[ay-1];O[m]=Math.max(0,Math.min(65535,~~(c0*j_)))}}}else if(S==9&&_==2){var T=E,aN=R.NU(r,T),af=!0;
T+=16;var jK=V(r,T);T+=4;var f7=V(r,T);T+=4;var hW=V(r,T),km=V(r,T+4);T+=8;var fC=V(r,T),jQ=V(r,T+4);
T+=8;var fw=y(r,T),aG=y(r,T+8);T+=16;var a_=y(r,T),el=y(r,T+8);T+=16;var dD=V(r,T);T+=4;if(dD!=1)throw"more than one map plane";
var ip=fC*jQ,jn=new Float32Array(ip);for(var ay=0;ay<ip;ay++)jn[ay]=R.mA(r,T+ay*4);for(var ay=0;ay<ip;
ay++)if(jn[ay]!=1)af=!1;if(!af){var eJ=aN.a,am=aN.n,iU=.9999*(jQ-1)/eJ,hV=.9999*(fC-1)/am;for(var J=0;
J<am;J+=hW)for(var c=0;c<eJ;c+=km){var m=(aN.y+J)*l+(aN.x+c),gn=c*iU,fY=J*hV,e1=Math.floor(gn),d6=Math.floor(fY),fO=gn-e1,i$=fY-d6,M=d6*jQ+e1,gy=jn[M]*(1-fO)+jn[M+1]*fO,fT=jn[M+jQ]*(1-fO)+jn[M+1+jQ]*fO,kl=gy*(1-i$)+fT*i$;
O[m]=Math.max(0,Math.min(65535,~~(O[m]*kl+.5)))}}}else console.log("Unknown opcode "+S+" in OpcodeList"+_+". Length: "+b);
E+=b}};Q.raw.ape=function(_,n){var O=bI.NR(n),l=Q.raw.mJ(_,n),x=Q.fN.sJ(l),t=bI.T_(O,bI.NR(bI.atr)),h=Q.fN.multiply(t,x);
return h};Q.raw.a2N=function(_){var n=_.t50728,x=1;if(n==null||n[0]==0)n=[1,1,1];var O=n.slice(0);O.push(0);
var l={x:.34567,y:.3585};do{var t=Q.fN.sJ(Q.raw.mJ(_,l)),h=Q.fN.Jl(t,O),V=bI.aja(h);x=Math.abs(l.x-V.x)+Math.abs(l.y-V.y);
l=V}while(x>1e-7);return l};Q.raw.mJ=function(_,n){var O=bI.fe(n),l=Q.raw.awg,x=_.t50778?_.t50778[0]:0,t=_.t50779?_.t50779[0]:0,h=_.t50723,V=_.t50724;
if(h&&h.length==3)h=null;if(V&&V.length==3)V=null;var y=l(_.t50721,_.t50722,x,t,O.rU),r=l(h,V,x,t,O.rU);
y=y||[1,0,0,0,1,0,0,0,1];r=r||[1,0,0,0,1,0,0,0,1];var E=_.t50727?[_.t50727[0],0,0,0,_.t50727[1],0,0,0,_.t50727[2]]:[1,0,0,0,1,0,0,0,1];
return Q.fN.multiply(Q.fN.EM(E),Q.fN.multiply(Q.fN.EM(r),Q.fN.EM(y)))};Q.raw.awg=function(_,n,O,l,x){if(!_&&!n){return null}else if(_&&!n){return _}else if(x<O){return _}else if(x>l){return n}else{var t=(1/x-1/l)/(1/O-1/l),h=1-t,V=[];
for(var m=0;m<9;m++)V[m]=_[m]*t+n[m]*h;return V}};var bI={};bI.atr={x:.34567,y:.3585};bI.qw=[{o:0,me:.18006,As:.26352,Rv:-.24341},{o:10,me:.18066,As:.26589,Rv:-.25479},{o:20,me:.18133,As:.26846,Rv:-.26876},{o:30,me:.18208,As:.27119,Rv:-.28539},{o:40,me:.18293,As:.27407,Rv:-.3047},{o:50,me:.18388,As:.27709,Rv:-.32675},{o:60,me:.18494,As:.28021,Rv:-.35156},{o:70,me:.18611,As:.28342,Rv:-.37915},{o:80,me:.1874,As:.28668,Rv:-.40955},{o:90,me:.1888,As:.28997,Rv:-.44278},{o:100,me:.19032,As:.29326,Rv:-.47888},{o:125,me:.19462,As:.30141,Rv:-.58204},{o:150,me:.19962,As:.30921,Rv:-.70471},{o:175,me:.20525,As:.31647,Rv:-.84901},{o:200,me:.21142,As:.32312,Rv:-1.0182},{o:225,me:.21807,As:.32909,Rv:-1.2168},{o:250,me:.22511,As:.33439,Rv:-1.4512},{o:275,me:.23247,As:.33904,Rv:-1.7298},{o:300,me:.2401,As:.34308,Rv:-2.0637},{o:325,me:.24792,As:.34655,Rv:-2.4681},{o:350,me:.25591,As:.34951,Rv:-2.9641},{o:375,me:.264,As:.352,Rv:-3.5814},{o:400,me:.27218,As:.35407,Rv:-4.3633},{o:425,me:.28039,As:.35577,Rv:-5.3762},{o:450,me:.28863,As:.35714,Rv:-6.7262},{o:475,me:.29685,As:.35823,Rv:-8.5955},{o:500,me:.30505,As:.35907,Rv:-11.324},{o:525,me:.3132,As:.35968,Rv:-15.628},{o:550,me:.32129,As:.36011,Rv:-23.325},{o:575,me:.32931,As:.36038,Rv:-40.77},{o:600,me:.33724,As:.36051,Rv:-116.45}];
bI.fe=function(_){var n=bI.qw,O=2*_.x/(1.5-_.x+6*_.y),l=3*_.y/(1.5-_.x+6*_.y),x=0,t=0,h=0;for(;h<31;
h++){x=l-n[h].As-n[h].Rv*(O-n[h].me);if(h>0&&x<0){break}t=x}while(h>=n.length)h--;x/=Math.sqrt(1+n[h].Rv*n[h].Rv);
t/=Math.sqrt(1+n[h-1].Rv*n[h-1].Rv);var V=t/(t-x),y=1e6/((n[h].o-n[h-1].o)*V+n[h-1].o),r=O-((n[h].me-n[h-1].me)*V+n[h-1].me),E=l-((n[h].As-n[h-1].As)*V+n[h-1].As),a=Math.sqrt(1+n[h].Rv*n[h].Rv),S=1/a,e=n[h].Rv/a,P=Math.sqrt(1+n[h-1].Rv*n[h-1].Rv),b=1/P,T=n[h-1].Rv/P,C=(S-b)*V+b,Z=(e-T)*V+T,W=Math.sqrt(C*C+Z*Z);
C/=W;Z/=W;var s=(r*C+E*Z)*-3e3;return{rU:y,DY:s}};bI.Rp=function(_,n){var O=bI.qw,l=1e6/_,x=1;for(;x<31;
x++){if(l<O[x].o){break}}var t=(O[x].o-l)/(O[x].o-O[x-1].o),h=(O[x-1].me-O[x].me)*t+O[x].me,V=(O[x-1].As-O[x].As)*t+O[x].As,y=Math.sqrt(1+O[x].Rv*O[x].Rv),r=1/y,E=O[x].Rv/y,a=Math.sqrt(1+O[x-1].Rv*O[x-1].Rv),S=1/a,e=O[x-1].Rv/a,P=(S-r)*t+r,b=(e-E)*t+E,T=Math.sqrt(P*P+b*b);
P/=T;b/=T;h+=P*n/-3e3;V+=b*n/-3e3;return{x:1.5*h/(h-4*V+2),y:V/(h-4*V+2)}};bI.aja=function(_){var n=_[0]+_[1]+_[2];
return{x:_[0]/n,y:_[1]/n}};bI.NR=function(_){return{x:_.x/_.y,y:1,$t:(1-_.x-_.y)/_.y}};bI.T_=function(_,n){var O=Q.fN.EM([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296]),l=[_.x,_.y,_.$t,0],x=[n.x,n.y,n.$t,0];
l=Q.fN.Jl(O,l);x=Q.fN.Jl(O,x);var t=x[0]/l[0],h=x[1]/l[1],V=x[2]/l[2],y=Q.fN.EM([t,0,0,0,h,0,0,0,V]),r=Q.fN.sJ(O);
return Q.fN.multiply(Q.fN.multiply(r,y),O)};Q.raw.MJ={};Q.raw.Uc=function(_){_*=8;var n=[8,10,12,14,16];
for(var O in CAMS){var l=CAMS[O];if(l.length==4)continue;var x=l[4],t=l[5];for(var m=0;m<n.length;m++)if(x*t*n[m]==_)return[O,n[m]]}var h=[[4e3,3e3]];
for(var m=0;m<h.length;m++){var l=h[m],x=l[0],t=l[1];for(var m=0;m<n.length;m++)if(x*t*n[m]==_)return[l,n[m]]}return null};
Q.raw.apL=function(_){var _=new Uint8Array(_);for(var m=0;m<_.length;m+=2){var n=_[m];_[m]=_[m+1];_[m+1]=n}var O=Q.raw.Uc(_.length),l=CAMS[O[0]];
if(l==null)l=[[8489,-2583,-1036,-8051,15583,2643,-1307,1407,7354],0,1e3,64383,O[0][0],O[0][1]];var x=l[4],t=l[5],h=Math.max(l[2],116),V={data:_,fX:1,width:x,height:t,t256:[x],t257:[t],t258:[O[1]],t277:[1],t33421:[2,2],t33422:Q.raw.fp[l[1]],t50706:[1,2,0,0],t50714:[h,h,h,h],t50717:[l[3]],t50721:l[0].slice(0),t50723:[1,0,0,0,1,0,0,0,1],t50728:[.64,1,.46],t50778:[17]};
for(var m=0;m<9;m++)V.t50721[m]/=1e4;return V};Q.raw.sD=function(_){if(_==null||_.length==0||typeof _[0]=="number")return _;
var n=[];for(var m=0;m<_.length;m++)n[m]=_[m][1]==0?0:_[m][0]/_[m][1];return n};Q.raw.fp=[[2,1,1,0],[0,1,1,2],[1,0,2,1],[1,2,0,1]];
Q.raw.normalize=function(_,n){if(_.t50706!=null||_.t271[0].startsWith("Hasselblad")){var O=[50714,50718,50719,50720,50721,50722,50723,50724,50727,50728,50730,50731,50732,50734,50736,50738,50739,50780,50964,50965];
for(var m=0;m<O.length;m++)if(_["t"+O[m]]!=null)_["t"+O[m]]=Q.raw.sD(_["t"+O[m]]);if(_.t271&&_.t271[0].startsWith("Hasselblad")){_.t50706=[1,2,0,0];
_.t33422=Q.raw.fp[1];_.t50723=[1,0,0,0,1,0,0,0,1];_.t50778=[17];if(!_.isLE)for(var m=0;m<_.data.length;
m+=2){var l=_.data[m];_.data[m]=_.data[m+1];_.data[m+1]=l}}return}var x=_.t258[0],t=_.exifIFD,n=new Uint8Array(n);
_.t50706=[1,2,0,0];var h=_.t272[0].trim();if(h.indexOf(" ")==-1)h=_.t271[0].trim()+" "+h;if(_.t50708==null)_.t50708=[h];
var V=h.toLowerCase(),y=CAMS,r=y[V];if(r==null)for(var E in y)if(V.startsWith(E))r=y[E];if(r==null)alert("Unknown camera:"+h);
else{var a=r[2];_.t50714=[a,a,a,a];if(_.t272=="Canon EOS REBEL T3")r[3]=13584;_.t50717=[r[3]];_.t50721=r[0].slice(0);
for(var m=0;m<9;m++)_.t50721[m]=_.t50721[m]*(1/1e4)}_.t50723=[1,0,0,0,1,0,0,0,1];if(_.t50728==null)_.t50728=[.35,1,.6];
_.t50778=[17];if(_.t271[0].startsWith("SONY")){var S=UTIF["_bin"+(_.isLE?"LE":"BE")],e=_.t28688,s;if(JSON.stringify(e)!="[8000,10400,12900,14100]")console.log(e);
if(e){var P=[0,0,0,0,0,4095],b=new Uint16Array(16385);for(var m=0;m<4;m++){var T=e[m]>>>2;P[m+1]=T;if(T>4095)throw"e"}for(var m=0;
m<16385;m++)b[m]=m;for(var m=0;m<5;m++)for(var C=P[m]+1;C<=P[m+1];C++)b[C]=b[C-1]+(1<<m);var Z=n.length*8<_.width*_.height*x;
if(Z)_.t50712=b}else console.log("no curve");var W=_.dngPrvt;if(W){var f=W.t29184[0],q=W.t29185[0],g=(_.isLE?R.j0:R.v)(W.t29217,0),i=new Uint32Array(n.slice(f,f+(q&4294967292)).buffer),u=new Uint32Array(q>>>2);
Q.raw.atq(i,u,q>>>2,g);var I=new Uint8Array(f+q);I.set(new Uint8Array(u.buffer),f);var Y=[];UTIF._readIFD(S,I,f,Y,0,!1);
var U=Y.pop(),F=U.t29458;_.t50728=[F[1]/F[0],1,F[1]/F[3]];_.t50730=[.5];var N=U.t29891;_.t50829=[N[1],N[0],N[3],N[2]]}else if(t.makerNote&&t.makerNote.t8208){var s=t.makerNote,o=s.t8208,X=o.length,J=0,c=new Uint8Array(256);
for(var m=249;m<256;m++)c[m]=m;for(var m=0;m<249;m++)c[m*m*m%249]=m;for(var m=0;m<X;m++)o[m]=c[o[m]];
if(X==6604)J=612;else throw"e";var F=[];for(var m=0;m<3;m++)F.push(R.hS(o,J+m*2));console.log(F);_.t50728=[F[1]/F[0],1,F[1]/F[2]]}else console.log("no white balance");
if(_.width*_.height*1.5==_.t279[0]){a=a>>>2;_.t50714=[a,a,a,a];_.t50717=[r[3]>>>2]}}else if(_.t271[0].startsWith("Canon")){var n=_.data,p=n.slice(0),d=_.t50752,k=[],$=0;
if(d==null||d[0]==0&&d[1]==0)k.push(_.width);else{for(var m=0;m<d[0];m++)k.push(d[1]);k.push(d[2])}var A=_.width*2,K=_.t50885&&_.t50885[0]==4;
if(!K)for(var G=0;G<k.length;G++){var z=k[G],M=2*$,hl=2*z;for(var j=0;j<_.height;j+=2){var w=j*A+M,B=_.height*M+j*hl;
for(var m=0;m<hl;m++){n[w+m]=p[B+m];n[w+m+A]=p[B+m+hl]}}$+=z}else{for(var G=0;G<k.length;G++){var z=k[G]/((d[0]*d[1]+d[2])/_.width);
for(var j=0;j<_.height;j++){var w=(j*_.width+$)*6,B=(_.height*$+j*z)*6;for(var m=0;m<z*6;m++)n[w+m]=p[B+m]}$+=z}var bB=new Uint16Array(n.buffer),bG=new Uint16Array(1),eb=new Int16Array(bG.buffer);
for(var m=0;m<bB.length;m+=3){var fe=bB[m],gB=bB[m+1],hp=bB[m+2];bG[0]=gB<<2;gB=eb[0]>>2;bG[0]=hp<<2;
hp=eb[0]>>2;bB[m+0]=Math.max(0,hp+fe);bB[m+1]=Math.max(0,(fe<<12)-gB*778-(hp<<11)>>12);bB[m+2]=Math.max(0,gB+fe)}}var s=t.makerNote;
if(s.t16385){var g6=s.t224,f7=0;if(g6){var f=_.t50719=[g6[5],g6[6]],by=_.t50720=[g6[7]+1-g6[5],g6[8]+1-g6[6]],e7=s.t154;
if(e7){f[0]+=e7[3];f[1]+=e7[4];by[0]=e7[1];by[1]=e7[2]}}var aN=s.t16385,jK=aN.length;if(jK==582)f7=1;
else if(jK==653)f7=2;else if(jK==796)f7=3;else if([692,674,702,1227,1250,1251,1337,1338,1346].indexOf(jK)!=-1)f7=4;
else if(jK==5120){f7=5;aN=new Int16Array(aN.slice(0).buffer)}else if(jK==1273||jK==1275)f7=6;else if([1312,1313,1316,1506].indexOf(jK)!=-1)f7=7;
else if([1560,1592,1353,1602].indexOf(jK)!=-1)f7=8;else throw"e"+jK;var hW=aN[0],km=[null,[25,166],[34,286],[63,196],[63],[71,hW==-4?333:264],[63,251],[63,hW==10?504:728],[63,326]],J=km[f7][0],ca=km[f7][1];
if(f7==4){if(aN[0]==2)ca=231;else if(aN[0]==3)ca=231;else if(aN[0]==4)ca=231;else if(aN[0]==5)ca=231;
else if(aN[0]==6)ca=231;else if(aN[0]==7)ca=231;else if(aN[0]==9)ca=231;else throw"e"}_.t50728=[aN[J+1]/aN[J],1,aN[J+1]/aN[J+3]];
var a=ca==null?1024:aN[ca];if(f7!=4)_.t50714=[a,a,a,a]}else{_.t50728=[.4,1,.6]}if(K){_.t277=[3];_.t50728=[1,1,1];
_.t50714=[0,0,0,0]}}else if(_.t271[0].startsWith("NIKON")){var s=t.makerNote,aU=_.isLE?R.hS:R.X1,b2=0,cm=0,gs,aG=0;
if(s.t61){var eJ=s.t61,am=[];for(var m=0;m<4;m++)am[m]=eJ[m]/Math.pow(2,14-x);_.t50714=am}if(s.t3585){var eA=s.t3585,m=0,f=22;
while(f<eA.length&&m!=-4){var dj=R.j0(eA,f);f+=4;f+=14;m=R.j0(eA,f)-4;f+=4;if(dj==1990472198){if(eA[f]!=0)throw"Flip"}if(dj==1990472199){var cM=R.hS(eA,f);
if(cM==0)_.fX=1;else if(cM==270)_.fX=8;else throw"e "+cM}f+=m}}if(s.t183){var az=s.t183,by=[];for(var m=0;
m<6;m++)by.push(aU(az,16+m*2));b2=by[0];cm=by[1]}if(s.t3614){var j_=s.t3614;b2=R.j0(j_,8);cm=R.j0(j_,12)}if(b2!=0&&Math.max(b2,cm)<Math.max(_.width,_.height)){if(b2<cm){var l=b2;
b2=cm;cm=l}var $=_.width-b2>>>1,j=_.height-cm>>>1;_.t50829=[j,$,j+cm,$+b2]}else _.t50829=[8,8,_.height-8,_.width-56];
var hh=s.t69;if(hh)_.t50829=[hh[1],hh[0],hh[1]+hh[3],hh[0]+hh[2]];if(s.t12){var fI=Q.raw.sD(s.t12);gs=[1/fI[0],1,1/fI[1]]}else if(s.t151){var c0=Q.raw.as1(s,151),ay=c0[0],er=c0[1],fC=c0[2];
if(ay=="0100"&&er>=80)throw"e";else if(ay=="0102"){var jQ=[];for(var m=0;m<4;m++)jQ.push(aU(fC,6+m*2));
gs=[jQ[1]/jQ[0],1,jQ[1]/jQ[3]]}else if(ay=="0103"&&er>=26){var jQ=[];for(var m=0;m<4;m++)jQ.push(aU(fC,16+m*2));
gs=[jQ[1]/jQ[0],1,jQ[3]/jQ[2]]}else if(ay=="0204"&&er>=564||ay=="0205"&&er>=284){var f=ay=="0204"?6:14,jQ=[];
for(var m=0;m<4;m++)jQ.push(aU(fC,f+m*2));gs=[jQ[1]/jQ[0],1,jQ[1]/jQ[3]]}else throw"e"}else console.log("no white balance info");
if(h=="NIKON D1")gs=[1,1,1];if(gs)_.t50728=gs;var fw=s.t150?s.t150:s.t140;if(fw){var a_=fw[aG++],el=fw[aG++],jn;
if(a_==73||el==88)aG+=2110;aG+=8;var dD=1<<x&32767,ip=aU(fw,aG);aG+=2;var b=[];if(ip>1)jn=Math.floor(dD/(ip-1));
if(a_==68&&el==32&&jn>0){for(m=0;m<ip;m++){b[m*jn]=aU(fw,aG);aG+=2}for(m=0;m<dD;m++)b[m]=Math.floor((b[m-m%jn]*(jn-m%jn)+b[m-m%jn+jn]*(m%jn))/jn)}else if(a_!=70&&ip<=16385){dD=ip;
for(var m=0;m<ip;m++)b[m]=aU(fw,aG+2*m);aG+=2*ip}var af=_.t272[0];if(b.length!=0)_.t50712=new Uint16Array(b);
if(_.t258[0]==14&&_.t50717[0]<1e4){console.log("fixing white");_.t50717[0]*=4}}}else if(h.startsWith("FujiFilm")){}else if(h.startsWith("Panasonic")){}else alert("Unknown camera "+h)};
Q.raw.atq=function(_,n,O,l){if(0==O)return;var x=new Uint32Array(128),t=new Uint8Array(x.buffer),h=127,V=0,y=0;
for(var h=0;h<4;h++)x[h]=l=(l*15625>>>0)*3125+1>>>0;x[3]=x[3]<<1|(x[0]^x[2])>>>31;for(var h=4;h<127;
h++)x[h]=(x[h-4]^x[h-2])<<1|(x[h-3]^x[h-1])>>>31;for(var h=0;h<127;h++)x[h]=R.v(t,h*4);for(;O>0;O--){x[h&127]=x[h+1&127]^x[h+1+64&127];
var r=x[h&127],E=_[V];E^=r;n[y]=E;V++;y++;h++}};Q.raw.a3o=function(_,n){var O=R.c$(n,0,4),l=Q.raw.a3K;
for(var m=0;m<l.length;m++)if(l[m][0]==_&&O.startsWith(l[m][1])&&(l[m][2]==0||l[m][2]==n.length))return l[m];
throw"e"};Q.raw.aoj=function(_){if(_.t29==null)return[];var n=Q.raw.ame,O=Q.raw.a06,l=_.t29[0],x=0,h=0;
for(var m=0;m<l.length;m++){var t=l.charCodeAt(m);x=x*10+(48<=t&&t<=57?t-48:t%10)}var er=_.t167[0];for(var m=0;
m<4;m++)h^=er>>>(m<<3)&255;var V=n[x&255],y=O[h&255];return[V,y,96]};Q.raw.as1=function(_,n){var O=_["t"+n],er=O.length,l=Q.raw.a3o(n,O),x=R.c$(O,0,4),t,h=l[4];
if(h==null)t=O.slice(4);else{t=new Uint8Array(er-h);var V=Q.raw.aoj(_),y=V[0],r=V[1],E=V[2];for(var m=0;
m<t.length;m++){r=r+y*E++&255;t[m]=O[h++]^r}}return[x,er,t]};Q.raw.a3K=[[145,"0208",0,0,4],[145,"0209",0,1,4],[145,"0210",5291,2,4],[145,"0210",5303,3,4],[145,"02",0,4,4],[145,"01",0,5,null],[151,"0100",0,0,null],[151,"0102",0,1,null],[151,"0103",0,4,null],[151,"0204",0,3,284],[151,"0205",0,2,4],[151,"0206",0,3,284],[151,"0207",0,3,284],[151,"0208",0,3,284],[151,"0209",0,5,284],[151,"02",0,3,284],[152,"0100",0,0,null],[152,"0101",0,1,null],[152,"0201",0,1,4],[152,"0202",0,1,4],[152,"0203",0,1,4],[152,"0204",0,2,4],[168,"0100",0,0,null],[168,"0101",0,0,null],[168,"0102",0,1,null],[168,"0103",0,2,null]];
Q.raw.ame=[193,191,109,13,89,197,19,157,131,97,107,79,199,127,61,61,83,89,227,199,233,47,149,167,149,31,223,127,43,41,199,13,223,7,239,113,137,61,19,61,59,19,251,13,137,193,101,31,179,13,107,41,227,251,239,163,107,71,127,149,53,167,71,79,199,241,89,149,53,17,41,97,241,61,179,43,13,67,137,193,157,157,137,101,241,233,223,191,61,127,83,151,229,233,149,23,29,61,139,251,199,227,103,167,7,241,113,167,83,181,41,137,229,43,167,23,41,233,79,197,101,109,107,239,13,137,73,47,179,67,83,101,29,73,163,19,137,89,239,107,239,101,29,11,89,19,227,79,157,179,41,67,43,7,29,149,89,89,71,251,229,233,97,71,47,53,127,23,127,239,127,149,149,113,211,163,11,113,163,173,11,59,181,251,163,191,79,131,29,173,233,47,113,101,163,229,7,53,61,13,181,233,229,71,59,157,239,53,163,191,179,223,83,211,151,83,73,113,7,53,97,113,47,67,47,17,223,23,151,251,149,59,127,107,211,37,191,173,199,197,197,181,139,239,47,211,7,107,37,73,149,37,73,109,113,199];
Q.raw.a06=[167,188,201,173,145,223,133,229,212,120,213,23,70,124,41,76,77,3,233,37,104,17,134,179,189,247,111,97,34,162,38,52,42,190,30,70,20,104,157,68,24,194,64,244,126,95,27,173,11,148,182,103,180,11,225,234,149,156,102,220,231,93,108,5,218,213,223,122,239,246,219,31,130,76,192,104,71,161,189,238,57,80,86,74,221,223,165,248,198,218,202,144,202,1,66,157,139,12,115,67,117,5,148,222,36,179,128,52,229,44,220,155,63,202,51,69,208,219,95,245,82,195,33,218,226,34,114,107,62,208,91,168,135,140,6,93,15,221,9,25,147,208,185,252,139,15,132,96,51,28,155,69,241,240,163,148,58,18,119,51,77,68,120,40,60,158,253,101,87,22,148,107,251,89,208,200,34,54,219,210,99,152,67,161,4,135,134,247,166,38,187,214,89,77,191,106,46,170,43,239,230,120,182,78,224,47,220,124,190,87,25,50,126,42,208,184,186,41,0,60,82,125,168,73,59,45,235,37,73,250,163,170,57,167,197,167,80,17,54,251,198,103,74,245,165,18,101,126,176,223,175,78,179,97,127,47];
Q.Ip={};Q.Ip.Ip=function(_,n,O,l,x){if(l==null)l=3;if(x==null)x=!0;var t=_.a,h=_.n,V=1/t,y=t*h,r=Date.now(),E=!1,a=Q.Ip.ZN(O,t,h,255,128),S=Q.Ip.ZN(O,t,h,0,128),j=0;
if(E)console.log("extract contours",Date.now()-r);r=Date.now();var e=function(c0,ay){var fC=c0<<2,jQ=ay<<2;
return n[fC]+n[fC+1]+n[fC+2]-(n[jQ]+n[jQ+1]+n[jQ+2])};a.sort(e);S.sort(e);var P=Q.Q(y),b=Q.Q(y),T=[],C=new Uint32Array(t*h);
C.fill(4294967295);for(var m=0;m<y;m++)if(O[m]==0)b[m]=255;else if(O[m]==255)P[m]=255;else{C[m]=T.length;
T.push(m)}var Z=a.length,W=S.length,s=T.length;function f(c0,ay,fC,jQ){var fw=c0.length,aG=new Array(fw*2);
for(var m=0;m<fw;m++){var J=c0[m],c=~~(J*jQ),p=J-c*fC,hh=J<<2;aG[m*2]=p<<16|c;aG[m*2+1]=ay[hh]<<16|ay[hh+1]<<8|ay[hh+2]}return aG}var q=f(a,n,t,V),g=f(S,n,t,V),i=f(T,n,t,V);
if(E)console.log("Itemize",Date.now()-r,"Unknown:",s,Z,W);r=Date.now();var u=Q.style.Lt(P,t,h,!0),I=Q.style.Lt(b,t,h,!0),Y=new Array(s),U=new Array(s),F=new Array(s),N=new Array(s),o=new Array(s);
if(E)console.log("Dist transform",Date.now()-r);r=Date.now();var X=Q.Ip.d2;for(var m=0;m<s;m++){var J=T[m],c=~~(J*V),p=J-c*t,d=u[J<<1],k=u[(J<<1)+1],A=Math.sqrt(d*d+k*k),$=I[J<<1],K=I[(J<<1)+1],G=Math.sqrt($*$+K*K);
Y[m]=1/A;U[m]=1/G;var z=Math.floor(Q.q.c9(J*17)*Z),M=Math.floor(Q.q.c9(J*19)*W);F[m]=z;N[m]=M;o[m]=X(i[m*2],i[m*2+1],q[z*2],q[z*2+1],g[M*2],g[M*2+1],Y[m],U[m],1e9)}var hl=[-t-1,-t,-t+1,-1,1,t-1,t,t+1];
while(Math.floor(Math.max(Z,W)*Math.pow(.5,j))>1)j++;for(var w=0;w<l;w++){var B=0;for(var m=0;m<s;m++){var J=T[m],c=~~(J*V),p=J-c*t,bB=Y[m],bG=U[m],eb=i[m*2],fe=i[m*2+1],gB=o[m],z=F[m],M=N[m],jK=1;
if(c!=0&&p!=0&&p!=t-1&&c!=h-1)for(var hp=0;hp<8;hp++){var g6=C[J+hl[hp]];if(g6==4294967295)continue;
var by=F[g6],e7=N[g6];if(by==z&&e7==M)continue;var aN=X(eb,fe,q[by*2],q[by*2+1],g[e7*2],g[e7*2+1],bB,bG,gB);
if(aN<gB){gB=aN;z=by;M=e7}}for(var f7=0;f7<j;f7++){var hW=~~(Z*jK),km=~~(W*jK);jK*=.5;var ca=Q.q.c9(J+w*17+f7*31),aU=Q.q.c9(J+w*29+f7*63),eJ=Math.max(0,z-hW),am=Math.min(z+hW,Z-1),eA=Math.max(0,M-km),dj=Math.min(M+km,W-1),by=eJ+~~(ca*(am-eJ)),e7=eA+~~(aU*(dj-eA)),aN=X(eb,fe,q[by*2],q[by*2+1],g[e7*2],g[e7*2+1],bB,bG,gB);
if(aN<gB){gB=aN;z=by;M=e7}}o[m]=gB;F[m]=z;N[m]=M;B+=gB}}if(E)console.log(B);if(E)console.log("iterations",Date.now()-r);
r=Date.now();var cM=O.slice(0);for(var m=0;m<s;m++){var b2=Q.Ip.alpha(i[m*2+1],q[F[m]*2+1],g[N[m]*2+1]);
cM[T[m]]=~~(.5+255*b2)}cM=Q.bQ.avy(cM,n,new a8(0,0,t,h),16,.01*.01);if(E)console.log("guided filter",Date.now()-r);
r=Date.now();if(x)for(var m=0;m<y;m++)if(O[m]==255||O[m]==0)cM[m]=O[m];var az=n.slice(0);for(var m=0;
m<s;m++){var j_=T[m],z=a[F[m]],gB=o[m],hh=j_<<2,gs=cM[j_],fI=(gs>=250?j_:z)<<2;az[hh]=n[fI];az[hh+1]=n[fI+1];
az[hh+2]=n[fI+2]}Q.$c(cM,az,3);if(E)console.log(Date.now()-r);r=Date.now();return az};Q.Ip.d2=function(_,n,O,l,x,t,h,V,y){var r=_>>>16,E=_&65535,a=r-(O>>>16),S=E-(O&65535),e=r-(x>>>16),P=E-(x&65535),b=Math.sqrt(a*a+S*S)*h,T=Math.sqrt(e*e+P*P)*V;
if(b+T>=y)return 1e9;var C=Q.Ip.a0$(n,l,t);return C+b+T};Q.Ip.a0$=function(_,n,O){var l=_>>>16,x=_>>>8&255,t=_&255,h=n>>>16,V=n>>>8&255,y=n&255,r=O>>>16,E=O>>>8&255,a=O&255,S=Q.Ip.alpha(_,n,O),e=l-(S*h+(1-S)*r),P=x-(S*V+(1-S)*E),T=t-(S*y+(1-S)*a);
return Math.sqrt(e*e+P*P+T*T)};Q.Ip.alpha=function(_,n,O){var l=_>>>16,x=_>>>8&255,t=_&255,h=n>>>16,V=n>>>8&255,y=n&255,r=O>>>16,E=O>>>8&255,a=O&255,S=h-r,e=V-E,P=y-a,b=l-r,T=x-E,C=t-a,Z=S*S+e*e+P*P,W=Z==0?.5:(b*S+T*e+C*P)/Z;
return Math.max(0,Math.min(1,W))};Q.Ip.aga=function(_){};Q.Ip.ZN=function(_,n,O,l,x){var t=[],h=n-1,V=O-1;
for(var y=1;y<V;y++)for(var r=1;r<h;r++){var m=y*n+r;if(_[m]==l&&(_[m-n-1]==x||_[m-n]==x||_[m-n+1]==x||(_[m-1]==x||_[m+1]==x)||(_[m+n-1]==x||_[m+n]==x||_[m+n+1]==x)))t.push(m)}return t};
Q.bQ={};Q.bQ.a2h=function(_,n,O,l,x){var t=O.a,h=O.n,V=t*h,y=Q.bQ.Kd,r=Q.Q(V*4),E;Q.qs(r,4294967295);
var a=O,S=_,e=n,P=l;Q.$c(_,r,0);E=Q.S2(r,O);E=Q.S2(E.sw,E.rect);a=E.rect;P=l>>>2;console.log(a,P);S=Q.Q(a.O());
Q.nV(E.sw,S,0);Q.$c(n,r,0);E=Q.S2(r,O);E=Q.S2(E.sw,E.rect);e=Q.Q(a.O());Q.nV(E.sw,e,0);var b=Q.bQ.anp(S,e,a,P,x),T=b[0],C=b[1],Z=new a8(0,0,a.a*2,a.n*2);
T=y(T,a,Z,!0);T=y(T,Z,O,!0);C=y(C,a,Z,!0);C=y(C,Z,O,!0);var W=Q.Q(V);for(var m=0;m<V;m++)W[m]=Math.max(0,Math.min(255,Math.floor(.5+(T[m]*n[m]+255*C[m]))));
return W};Q.bQ.Kd=function(_,n,O,l){var x=O.a,t=O.n,h=n.a,V=n.n,y=Q.bQ.xx,r=new Float32Array(x*t);for(var E=0;
E<V;E++){var a=(E+E)*x;for(var S=0;S<h;S++){if(!0||S==0||E==0||S==h-1||E==V-1)r[a]=r[a+1]=r[a+x]=r[a+x+1]=_[E*h+S];
else{r[a]=y(S+.25,E+.25,_,h,V);r[a+1]=y(S+.75,E+.25,_,h,V);r[a+x]=y(S+.25,E+.75,_,h,V);r[a+x+1]=y(S+.75,E+.75,_,h,V)}a+=2}}return r};
Q.bQ.xx=function(_,n,O,l,x){_-=.499999;n-=.499999;var t=Math.floor(_),h=Math.floor(n),V=h*l+t,y=_-t,r=n-h,E=(1-r)*(1-y),a=(1-r)*y,S=r*(1-y),e=r*y;
if(O[V]==null||O[V+l+1]==null){console.log(_,n,l,x);throw"e"}return E*O[V+0]+a*O[V+1]+S*O[V+l+0]+e*O[V+l+1]};
Q.bQ.anp=function(_,n,O,l,x){var t=O.a,h=O.n,V=t*h,y=Q.bQ.DI,r=Q.bQ.Q,E=Q.OX.fg,a=Q.bQ.ln,n=y(n),_=y(_),S=r(V);
E(n,S,O,l);var e=r(V);E(_,e,O,l);var P=r(V);a(n,n,P);E(P,P,O,l);var b=r(V);a(n,_,b);E(b,b,O,l);var T=r(V),C=r(V);
for(var m=0;m<V;m++){var Z=S[m],W=e[m],s=P[m]-Z*Z,f=b[m]-Z*W,q=f/(s+x),g=W-q*Z;T[m]=q;C[m]=g}var i=r(V);
E(T,i,O,l);var u=r(V);E(C,u,O,l);return[i,u]};Q.bQ.avy=function(_,n,O,l,x){var t=O.a,h=O.n,V=t*h,y=Q.bQ.Kd,r=Date.now(),E=!1,a=O,S=_,e=n,P=l;
a=new a8(0,0,t>>>2,h>>>2);P=l>>>2;S=Q.bQ.ac3(_,t,h);e=Q.bQ.amW(n,t,h);if(E)console.log(Date.now()-r);
r=Date.now();var b=Q.bQ.a0m(S,e,a,P,x),T=b[0],C=b[1],Z=b[2],W=b[3];if(E)console.log(Date.now()-r);r=Date.now();
var s=Q.Q(V);for(var f=0;f<h;f++)for(var q=0;q<t;q++){var m=f*t+q,g=(f>>>2)*(t>>>2)+(q>>>2),i=m<<2,u=T[g]*n[i]+C[g]*n[i+1]+Z[g]*n[i+2]+W[g]*255;
s[m]=Math.max(0,Math.min(255,~~(.5+u)))}if(E)console.log(Date.now()-r);r=Date.now();return s};Q.bQ.ac3=function(_,n,O){var l=n>>>2,x=O>>>2,t=Q.Q(n*O);
for(var h=0;h<x;h++)for(var V=0;V<l;V++)t[h*l+V]=_[h*n+V<<2];return t};Q.bQ.amW=function(_,n,O){var l=n>>>2,x=O>>>2,t=Q.Q(n*O*4);
for(var h=0;h<x;h++)for(var V=0;V<l;V++){var y=h*l+V<<2,r=h*n+V<<4;t[y]=_[r];t[y+1]=_[r+1];t[y+2]=_[r+2];
t[y+3]=_[r+3]}return t};Q.bQ.a0m=function(_,n,O,l,x){var t=O.a,h=O.n,V=t*h,y=Q.bQ.DI,r=Q.bQ.Q,E=Q.OX.fg,a=Q.bQ.ln,_=y(_),S=new Q.eO(t*h);
Q.ah(n,S);var n=[y(S.o),y(S.J),y(S.k)],e=Q.bQ.axZ(_,n,O,l,x),P=r(V);E(_,P,O,l);var b=r(V);a(n[0],_,b);
E(b,b,O,l);var T=r(V);a(n[1],_,T);E(T,T,O,l);var C=r(V);a(n[2],_,C);E(C,C,O,l);var Z=r(V),W=r(V),s=r(V),f=r(V);
for(var m=0;m<V;m++){var q=P[m],g=e.Ca[m],i=e.CK[m],u=e.wr[m],I=b[m]-g*q,Y=T[m]-i*q,U=C[m]-u*q;Z[m]=e.ahX[m]*I+e.Ao[m]*Y+e.MT[m]*U;
W[m]=e.Ao[m]*I+e.auQ[m]*Y+e.u1[m]*U;s[m]=e.MT[m]*I+e.u1[m]*Y+e.ah5[m]*U;f[m]=q-Z[m]*g-W[m]*i-s[m]*u}E(Z,Z,O,l);
E(W,W,O,l);E(s,s,O,l);E(f,f,O,l);return[Z,W,s,f]};Q.bQ.axZ=function(_,n,O,l,x){var t=O.a,h=O.n,V=t*h,y=Q.bQ.Q,r=Q.OX.fg,E=Q.bQ.ln,a={};
a.Ca=y(V);r(n[0],a.Ca,O,l);a.CK=y(V);r(n[1],a.CK,O,l);a.wr=y(V);r(n[2],a.wr,O,l);var S=y(V);E(n[0],n[0],S);
r(S,S,O,l);var e=y(V);E(n[0],n[1],e);r(e,e,O,l);var P=y(V);E(n[0],n[2],P);r(P,P,O,l);var b=y(V);E(n[1],n[1],b);
r(b,b,O,l);var T=y(V);E(n[1],n[2],T);r(T,T,O,l);var C=y(V);E(n[2],n[2],C);r(C,C,O,l);a.ahX=S;a.Ao=e;
a.MT=P;a.auQ=b;a.u1=T;a.ah5=C;for(var m=0;m<V;m++){var Z=a.Ca[m],W=a.CK[m],s=a.wr[m],f=S[m]-Z*Z+x,q=e[m]-Z*W,g=P[m]-Z*s,i=b[m]-W*W+x,u=T[m]-W*s,I=C[m]-s*s+x,Y=i*I-u*u,U=u*g-q*I,F=q*u-i*g,N=f*I-g*g,o=g*q-f*u,X=f*i-q*q,J=Y*f+U*q+F*g,c=1/J;
a.ahX[m]=Y*c;a.Ao[m]=U*c;a.MT[m]=F*c;a.auQ[m]=N*c;a.u1[m]=o*c;a.ah5[m]=X*c}return a};Q.bQ.Q=function(_){return new Float32Array(_)};
Q.bQ.DI=function(_){var n=_.length,O=new Float32Array(n);for(var m=0;m<n;m++)O[m]=_[m]*(1/255);return O};
Q.bQ.ln=function(_,n,O){for(var m=0;m<_.length;m++)O[m]=_[m]*n[m]};Q.rA={};Q.rA.Jc=function(_,n,O,l){var x=_[n]-O[l],t=_[n+1]-O[l+1],h=_[n+2]-O[l+2];
return Math.sqrt(x*x+t*t+h*h)*(1/441.7)};Q.rA.getSelection=function(_,n,O){var l=n*O,x=Q.Q(l),t=!1,h=Math.round(O*.7),V=1,y=new Uint32Array(12),r=Q.Q(12);
for(var E=0;E<h;E++)for(var a=0;a<n;a++){if(a<V||E<V||a>n-V-1||E>O-V-1){var m=E*n+a,S=m<<2,e=0;if(E<V)e=4;
else if(a>n-V-1)e=8;y[e]+=_[S];y[e+1]+=_[S+1];y[e+2]+=_[S+2];y[e+3]++;x[m]=255}}for(var m=0;m<12;m+=4)for(var P=0;
P<3;P++)r[m+P]=y[m+P]/y[m+3];var b=new Float32Array(l);for(var m=0;m<l;m++){var S=m*4,T=Q.rA.Jc(_,S,r,0),C=Q.rA.Jc(_,S,r,4),Z=Q.rA.Jc(_,S,r,8),W=Math.max(T,Math.max(C,Z));
b[m]=T+C+Z-W}Q.rA.Ql(b);var s=Date.now(),f=new Float32Array(l),q=[],g=Q.Q(l);for(var m=0;m<3;m++){Q.nV(_,g,m);
var i=new Uint16Array(l);q.push(i);Q.rA.aey(g,x,n,O,i)}if(t)console.log("MBD",Date.now()-s);s=Date.now();
for(var m=0;m<l;m++)f[m]=q[0][m]+q[1][m]+q[2][m];Q.rA.Ql(f);for(var m=0;m<l;m++)f[m]+=.4*b[m];var u=n>>>1,h=O>>>1,I=1/Math.sqrt(u*u+h*h);
for(var E=0;E<O;E++)for(var a=0;a<n;a++){var Y=a-u,U=E-h,F=1-Math.sqrt(Y*Y+U*U)*I;f[E*n+a]*=F}if(t)console.log("Centeredness",Date.now()-s);
s=Date.now();for(var m=0;m<l;m++)x[m]=f[m]*255;var N=Math.round(n/120),o=Math.round(N*.8);if(t)console.log(N,o);
Q.ke.wT(x,g,n,O,N,Q.ke.f8,[]);x.set(g);if(t)console.log("erosion",Date.now()-s);s=Date.now();for(var m=0;
m<l;m++)f[m]=x[m];Q.rA.Ql(f);var X=Q.Q(256);for(var m=0;m<256;m++)X[m]=256/(1+Math.exp(-20*(m/255-.5)));
for(var m=0;m<l;m++){var J=~~(f[m]*255+.5);x[m]=X[J]}if(t)console.log("Simoid",Date.now()-s);s=Date.now();
return x};Q.rA.Ql=function(_){var n=_.length,O=0;for(var m=0;m<n;m++)O=Math.max(O,_[m]);var l=1/O;for(var m=0;
m<n;m++)_[m]=_[m]*l};Q.rA.aey=function(_,n,O,l,x){var t=O*l,h=_.slice(0),V=_.slice(0);for(var m=0;m<t;
m++)x[m]=n[m]==255?0:65535;Q.rA.pZ(_,V,h,x,O,l);Q.rA.Xo(_,V,h,x,O,l);Q.rA.pZ(_,V,h,x,O,l);Q.rA.Xo(_,V,h,x,O,l);
return x};Q.rA.pZ=function(_,n,O,l,x,t){for(var h=1;h<x;h++)Q.rA.YC(h,-1,_,n,O,l);for(var V=1;V<t;V++){Q.rA.YC(V*x,-x,_,n,O,l);
for(var h=1;h<x;h++){var m=V*x+h;Q.rA.YC(m,-1,_,n,O,l);Q.rA.YC(m,-x,_,n,O,l)}}};Q.rA.Xo=function(_,n,O,l,x,t){for(var h=x-2;
h>=0;h--)Q.rA.YC(x*t-x+h,1,_,n,O,l);for(var V=t-2;V>=0;V--){Q.rA.YC(V*x+x-1,x,_,n,O,l);for(var h=x-2;
h>=0;h--){var m=V*x+h;Q.rA.YC(m,1,_,n,O,l);Q.rA.YC(m,x,_,n,O,l)}}};Q.rA.YC=function(m,_,n,O,l,x){var t=m+_,h=n[m],V=O[t],y=l[t];
if(V<h)V=h;else if(h<y)y=h;var r=V-y;if(x[t]!=65535&&r<x[m]){x[m]=r;O[m]=V;l[m]=y}};Q.lK={};Q.lK.filter=function(_,n,O,l){var x=n.a,t=n.n,h=x*t,V=l[0],y=l[1],r=l[2],E=l[3],a=l[4],S=l[5],e=l[6],P=Date.now(),b=new Float32Array(x*t*4);
Q.lK.ar7(_,x,t,b);var T=Math.ceil(V*Math.sqrt(-2*Math.log(.1))),C=new ArrayBuffer(h*4),Z=new Float32Array(C),W=new Float32Array(h),s=new Float32Array(h);
for(var m=0;m<h;m++){var f=m*4;Z[m]=b[f];W[m]=b[f+1];s[m]=b[f+2]}Q.OX.ad(Z,Z,n,T*1/2.4,2);Q.OX.ad(W,W,n,T*1/2.4,2);
Q.OX.ad(s,s,n,T*1/2.4,2);for(var m=0;m<h;m++){var f=m*4;b[f]=Z[m];b[f+1]=W[m];b[f+2]=s[m]}var q=new Uint8Array(C);
for(var m=0;m<h;m++){var f=m*4,g=m*4,Z=b[f],W=b[f+1],s=b[f+2],i=Math.sqrt((Z-s)*(Z-s)+4*W*W),u=(Z+s+i)*.5,I=(Z+s-i)*.5,Y=I-s,U=W,F=Y*Y+U*U;
if(F!=0){var N=Math.sqrt(F),o=1/N;Y*=o;U*=o}q[g]=128+127*Y;q[g+1]=128+127*U}var X=1.3*y+2,J=E*(2/10),c=_.slice();
if(ex.kj){var p=new Float32Array([1/x,1/t]),d=ex.bk(0,x,t);d.set(c);var k=ex.bk(1,x,t);k.set(q);ex.QC(d,n);
if(a){d.N8(n);ex.filter.iT({type:ex.filter.a9o,qc:p,agG:1/r,a44:J},d.JA)}d.N8(n);ex.filter.iT({type:ex.filter.QZ,SP:k.P8,qc:p,abf:X,aeF:2},d.JA);
if(a){d.N8(n);ex.filter.iT({type:ex.filter.aiH,qc:p,atk:new Float32Array(e),a5e:S},d.JA)}d.get(O)}else{if(a)Q.lK.LX(1/r,J,c,x,t);
Q.lK.QZ(c,O,q,x,t,X);if(a)Q.lK.az7(x,t,O,e,S)}var A=h*4;for(var m=3;m<A;m+=4)O[m]=_[m]};Q.lK.QZ=function(_,n,O,l,x,t){var h=Math.ceil(2*t),V=-1/(2*t*t),y=[],r=1;
for(var m=0;m<h+20;m++)y[m]=Math.exp(m*m*V);var E=[0,0,0,0];for(var a=0;a<x;a++){for(var S=0;S<l;S++){var e=a*l+S,P=e*4,b=1,T=_[P],C=_[P+1],Z=_[P+2],W=_[P+3],s=(O[P]-128)*(1/127),f=(O[P+1]-128)*(1/127),q=s,g=f,i=S==0?.51:.49,u=a==0?.51:.49;
for(var m=0;m<2;m++){var I=S+i,Y=a+u,U=0;while(U<h){if(I<.5||l-.5<I||Y<.5||x-.5<Y)break;var F=~~I,N=~~Y,o=N*l+F,X=o*4,J=(O[X]-128)*(1/127),c=(O[X+1]-128)*(1/127);
if(J*q+c*g<0){J=-J;c=-c}q=J;g=c;I+=r*J;Y+=r*c;if(I<.5||l-.5<I||Y<.5||x-.5<Y)break;var p=~~I,d=~~Y,k=d*l+p<<2;
U+=r;var A=y[~~U];Q.r.rK(I,Y,_,l,x,E);T+=E[0]*A;C+=E[1]*A;Z+=E[2]*A;W+=E[3]*A;b+=A}q=-s;g=-f}var $=1/b;
n[P]=~~(.5+T*$);n[P+1]=~~(.5+C*$);n[P+2]=~~(.5+Z*$);n[P+3]=~~(.5+W*$)}}};Q.lK.az7=function(_,n,O,l,x){for(var t=0;
t<n;t++)for(var h=0;h<_;h++){var V=t*_+h<<2,y=1+Q.lK.atJ(h,t,O,_,n,l)*x;O[V]=Math.max(0,Math.min(255,O[V]*y));
O[V+1]=Math.max(0,Math.min(255,O[V+1]*y));O[V+2]=Math.max(0,Math.min(255,O[V+2]*y))}};Q.lK.atJ=function(_,n,O,l,x,t){var h=O[(n*l+Math.max(0,_-1))*4+3],V=O[(n*l+Math.min(l-1,_+1))*4+3],y=O[(Math.max(0,n-1)*l+_)*4+3],r=O[(Math.min(x-1,n+1)*l+_)*4+3],E=.7,a=(V-h)*(1/255),S=.7,e=(r-y)*(1/255),P=-a*S,b=-E*e,T=E*S,C=Math.sqrt(P*P+b*b+T*T),Z=1/C,W=P*Z,s=b*Z,f=T*Z,q=t[0]*W+t[1]*s+t[2]*f;
return q};Q.lK.LX=function(_,n,O,l,x){function t(V,r,E){return Math.max(r,Math.min(E,V))}for(var h=0;
h<x;h++)for(var V=0;V<l;V++){var y=Q.lK.aft(V+.5,h+.5,_,n);O[(h*l+V)*4+3]=Math.max(0,Math.min(255,y*255))}};
Q.lK.aft=function(_,n,O,l){function x(g,i,u){return(1-u)*g+u*i}var t=(_+613)*O,h=(n+117)*O,V=~~t,y=~~h,r=t-V,E=h-y,a=Math.sin(11),S=Math.cos(V)*a,e=Math.cos(V+1)*a,P=Math.cos(y)*a,b=Math.cos(y+1)*a,ab=Q.lK.hash(S,P),T=Q.lK.hash(e,P),C=Q.lK.hash(S,b),Z=Q.lK.hash(e,b),W=x(ab,T,r),s=x(C,Z,r),f=x(W,s,E);
f=f<.5?0:1;var q=f+l*Q.lK.hash(Math.cos(t)*a,Math.cos(h)*a);return q*(1/3)};Q.lK.hash=function(_,n){var O=Math.sin(_*11.697096+n*73.32456)*12157.47691;
return O-Math.floor(O)};Q.lK.ar7=function(_,n,O,l){var x=[-1,0,1,-2,0,2,-1,0,1],t=[-1,-2,-1,0,0,0,1,2,1],h=n-1,V=O-1,y=n*4;
for(var r=1;r<V;r++)for(var E=1;E<h;E++){var m=r*n+E,a=m*4,S=Q.lK.wK(_,a,y,x),e=Q.lK.wK(_,a,y,t),P=Q.lK.wK(_,a+1,y,x),b=Q.lK.wK(_,a+1,y,t),T=Q.lK.wK(_,a+2,y,x),C=Q.lK.wK(_,a+2,y,t);
l[a]=S*S+P*P+T*T;l[a+1]=S*e+P*b+T*C;l[a+2]=e*e+b*b+C*C}Q.lK.ahU(l,n,O)};Q.lK.wK=function(_,n,O,l){return _[n-O-4]*l[0]+_[n-O]*l[1]+_[n-O+4]*l[2]+_[n-4]*l[3]+_[n]*l[4]+_[n+4]*l[5]+_[n+O-4]*l[6]+_[n+O]*l[7]+_[n+O+4]*l[8]};
Q.lK.ahU=function(_,n,O){function l(y,m,r){var E=m*4,a=r*4;y[a]=y[E];y[a+1]=y[E+1];y[a+2]=y[E+2]}var x=n-1,t=O-1;
l(_,n+1,0);l(_,2*n-2,n-1);for(var h=1;h<x;h++)l(_,n+h,h);for(var V=1;V<t;V++){l(_,V*n+1,V*n);l(_,V*n+n-2,V*n+n-1)}for(var h=1;
h<x;h++)l(_,(O-2)*n+h,(O-1)*n+h);l(_,(V-2)*n+1,(V-1)*n);l(_,(V-1)*n-2,V*n-1)};Q.FN=function(){function _(r,E,a,S){var e=new Float32Array(r*r),P=r/2;
for(var b=0;b<r;b++)for(var T=0;T<r;T++){var C=T+a-P,Z=b+S-P;e[b*r+T]=Math.max(0,Math.min(1,E+.5-Math.sqrt(C*C+Z*Z)))}return e}var n=[],l=null;
function O(r,E,a,S){var e=Math.floor(E*10),P=n[e],b=r*8,T=b>>>1;if(P==null){P=n[e]=[];var C=new a8(0,0,b,b),Z=r/2/(1+.2*E),W=Math.floor(r*e*.1);
for(var s=0;s<2;s++)for(var f=0;f<2;f++){var q=_(b,Z,.25+f*.5,.25+s*.5),g=0;Q.OX.ad(q,q,C,W);while(q[b*T+g]<.005)g++;
if(g!=0)g--;var i=2*(T-g),u=new a8(g,g,i,i),I=new Float32Array(i*i);for(var Y=0;Y<i;Y++)for(var U=0;
U<i;U++)I[Y*i+U]=q[(g+Y)*b+g+U];P.push([I,u])}}var F=Math.floor(a),N=Math.floor(S),o=a-F,X=S-N,J=o<.5?1:0,c=X<.5?1:0;
P=P[c*2+J];var u=P[1].clone();u.x+=F-T;u.y+=N-T;return[P[0],u]}function x(r,E,a){if(l==null){l=new Uint8Array(4e4);
for(var m=0;m<4e4;m++)l[m]=Math.min(255,~~(.5+255*Q.CV(m*(1/255))))}var S=r.length;for(var m=0;m<S;m++){var e=r[m],P=~~(255*e);
E[m]=l[P]<<24|a}}function t(r,E,a,S,e){var P=E.v6(S),b=Math.max(0,P.x-E.x),T=Math.max(0,P.x-S.x),C=Math.max(0,P.y-E.y),Z=Math.max(0,P.y-S.y),W=P.a,s=P.n;
for(var m=0;m<s;m++){var f=(C+m)*E.a+b,q=(Z+m)*S.a+T;for(var g=0;g<W;g++){a[q+g]+=e*r[f+g]}}}var h=-1;
function V(r,E,a,S,e){var P=Math.round(S[1]*E*a*.01),b=S[2],T=S[3],C=S[4],Z=S[5],W=S[6],s=S[7],f=S[8],q=S[9],g=S[10]?S[10]:1,A=!1;
if(b!=h){n=[];h=b}var i=Date.now(),u=new a8(0,0,E,a),I=new y(S[0]);if(e)r.fill(0);var Y=new Float32Array(e?r.buffer:E*a);
for(var m=0;m<P;m++){var U=I.get()*E,F=I.get()*a,N=I.get()*T,o=I.get()*b*4,X=(I.get()+W)*Math.PI*2,J=I.get()*b*4,c=(I.get()+2*W)*Math.PI*2;
U+=q*(o*Math.cos(X)+J*Math.cos(c));F+=q*(o*Math.sin(X)+J*Math.sin(c));if(f)F=F+W*a*g;var p=O(b,N,U,F%a),d=C,k=I.get();
if(s)d=.5+.5*C*(.5+.5*Math.sin((2*W+k)*2*Math.PI));t(p[0],p[1],Y,u,d)}if(A)console.log(Date.now()-i,"add floats");
i=Date.now();var $=new Uint8Array(Y.buffer);x(Y,new Uint32Array($.buffer),Z.k<<16|Z.J<<8|Z.o);if(A)console.log(Date.now()-i,"toInt");
i=Date.now();if(!e){Q.q.Zn("scrn",$,u,r,u,u,1);if(A)console.log(Date.now()-i,"blendOver")}}function y(r){this.tv=123456789;
this.ue=987654321;this.z=4294967295;this.iU(r)}y.prototype.iU=function(m){this.tv=123456789+m&this.z;
this.ue=987654321-m&this.z};y.prototype.get=function(){this.ue=36969*(this.ue&65535)+(this.ue>>16)&this.z;
this.tv=18e3*(this.tv&65535)+(this.tv>>16)&this.z;var r=(this.ue<<16)+(this.tv&65535)>>>0;r/=4294967296;
return r};return{fL:V}}();Q.bX={};Q.bX.UR=function(_,n,O,l){var x=_[n*2],t=_[n*2+1],h=_[O*2],V=_[O*2+1],y=_[l*2],r=_[l*2+1];
return x*V+h*r+y*t-y*V-h*t-x*r};Q.bX.p8=function(_,n){var O=[],l=[],x=[],t={};for(var m=0;m<n.length;
m+=3){var h=~~(m*(1/3)),V=n[m+0],y=n[m+1],E=n[m+2],a=Q.bX.UR(_,V,y,E);if(a>0){var S=y;y=E;E=S}var e=t[E+"-"+y],P=t[y+"-"+V],b=t[V+"-"+E],T=[E,e,h,null],C=[y,P,h,T],Z=[V,b,h,C];
T[3]=Z;if(e)e[1]=T;if(P)P[1]=C;if(b)b[1]=Z;t[E+"-"+V]=Z;t[V+"-"+y]=C;t[y+"-"+E]=T;O[V]=C;x[m]=C;O[y]=T;
x[m+1]=T;O[E]=Z;x[m+2]=Z;l[h]=C}return{tC:O,aE:l,yM:x}};Q.bX.a63=function(_){var n=[],O=_.aE;for(var m=0;
m<O.length;m++){var l=O[m];n.push(l[0]);l=l[3];n.push(l[0]);l=l[3];n.push(l[0])}return n};Q.bX.a82=function(_,n,O,l){var x=_[n*2],t=_[n*2+1],h=_[O*2],V=_[O*2+1],y=_[l*2],r=_[l*2+1],E=h-x,a=V-t,S=y-x,e=r-t,P=E*(x+h)+a*(t+V),b=S*(x+y)+e*(t+r),T=2*(E*(r-V)-a*(y-h));
if(Math.abs(T)<1e-5){var C=Math.min(x,h,y),Z=Math.min(t,V,r),W=(Math.max(x,h,y)-C)*.5,s=(Math.max(t,V,r)-Z)*.5;
return[C+W,Z+s,W*W+s*s,1]}var f=(e*P-a*b)/T,q=(E*b-S*P)/T,W=f-x,s=q-t;return[f,q,W*W+s*s,0]};Q.bX.ar5=function(_,n,O){var l=O[1],x=O[3],t=x[3],h=l[3],V=h[3],y=O[2],r=l[2],E=O[0],a=l[0],S=x[0],e=h[0],P=Q.bX.a82(_,a,e,S),b=_[E*2]-P[0],T=_[E*2+1]-P[1],C=b*b+T*T>P[2]&&P[3]==0&&Q.bX.UR(_,e,E,S)<0&&Q.bX.UR(_,S,a,e)<0;
if(C){O[0]=S;l[0]=e;O[3]=t;t[3]=h;h[3]=O;l[3]=V;V[3]=x;x[3]=l;x[2]=r;h[2]=y;n.aE[r]=V;n.aE[y]=t;n.tC[a]=h;
n.tC[E]=x}return C};Q.bX.alg=function(_,n,O){var l=_[n*2]-_[O*2],x=_[n*2+1]-_[O*2+1];return Math.sqrt(l*l+x*x)};
Q.bX.a27=function(_,n,O){var l=O[1],x=O[3],t=x[3],h,V,y=O[2],r,E=O[0],a=t[0],S=x[0],e;if(l){h=l[3];V=h[3];
r=l[2];e=h[0]}var P=_.length>>>1;_[2*P]=(_[2*a]+_[2*E])*.5;_[2*P+1]=(_[2*a+1]+_[2*E+1])*.5;if(!0){var b=y,T=O,C=n.aE.length,Z=[P,null,b,T],W=[S,Z,C,t];
Z[1]=W;var s=[P,null,C,W];x[3]=Z;t[3]=s;t[2]=C;n.aE[b]=x;n.aE[C]=s;n.tC[E]=x;n.tC[S]=t;n.yM.push(Z,W,s)}if(l){var f=r,q=l,g=C+1;
s[1]=q,q[1]=s;var i=[P,null,f,q],u=[e,i,g,V];i[1]=u;var I=[P,T,g,u];T[1]=I;h[3]=i;V[3]=I;V[2]=g;n.aE[f]=h;
n.aE[g]=V;n.tC[a]=h;n.tC[e]=V;n.yM.push(i,u,I)}n.tC[P]=T};Q.bX.bG=function(_,n){var O=0;while(!0){var l=O;
for(var m=0;m<n.yM.length;m++){var x=n.yM[m];if(x[1]==null)continue;var t=Q.bX.ar5(_,n,x);if(t){O++;
break}}if(l==O)break}return O!=0};Q.bX.axD=function(_,n,O,l){var x=0;for(var m=0;m<l;m++){var t=null,h=0;
for(var V=0;V<n.yM.length;V++){var y=n.yM[V],r=Q.bX.alg(_,y[0],y[3][3][0])*(y[1]?1:2);if(r>h){t=y;h=r}}if(h>O){Q.bX.a27(_,n,t);
x++}}return x!=0};Q.bX.at0=function(_,n){var O=[],S=0;for(var m=0;m<_.length;m++)O.push(0);for(var m=0;
m<n.yM.length;m++){var l=n.yM[m],x=l[0],t=l[3][3][0],h=_[x*2],V=_[x*2+1],y=_[t*2],r=_[t*2+1],E=h-y,a=V-r;
O[x*2]+=-E;O[x*2+1]+=-a;O[t*2]+=E;O[t*2+1]+=a}for(var m=0;m<_.length;m+=2){var e=m>>>1,P=n.tC[e],l=P,b=!0;
do{if(l[1]==null){b=!1;break}l=l[1][3]}while(l!=P);if(b){var T=.02;_[m]+=T*O[m];_[m+1]+=T*O[m+1];S+=T*(O[m]*O[m]+O[m+1]*O[m+1])}}return S};
Q.bX.a3Z=function(_,n,O){var l=Q.p.Vx(_),x=Q.bX.p8(_,n);Q.bX.bG(_,x);for(var t=0;t<300;t++){var h=!1,V=!1;
h=Q.bX.axD(_,x,O,5);if(h)V=Q.bX.bG(_,x);var y=Q.bX.at0(_,x);if(!h&&!V&&y<1e-4){break}}return Q.bX.a63(x)};
Q.Iz={};Q.Iz.rg=function(_){var n=_.jG,O=_.FD,l=_.ye,x=_.Q_,t=_.UO,h=_.LT,V=_.cT,y=Q.ha.RW,Z,W,s=0;function r(ab){var B=new Array(ab);
for(var m=0;m<ab;m++)B[m]=0;return B}var E=O.length>>>1,a=r(n.Ba*2),S=r(n.Ba),e=r(n.Ba),P=Date.now();
for(var m=0;m<_.B$.length;m++){var b=n.apG+m,T=n.Qc*(h[m*2]+V[m*2]),C=n.Qc*(h[m*2+1]+V[m*2+1]);a[b*2]=T;
a[b*2+1]=C;S[b]=T;e[b]=C}n.a5o.ca(x,n.avT.RW(a),.01,Z,W);for(var m=0;m<n.ajy.yM.length;m++){var f=n.ajy.yM[m],q=f[3][3][0],g=f[0],i=f[3][0],u=f[1]?f[1][3][0]:i;
if(f[1]&&q>g)continue;var I=O[q*2],Y=O[q*2+1],U=O[g*2],F=O[g*2+1],N=x[q*2],o=x[q*2+1],X=x[g*2],J=x[g*2+1],c=x[i*2],p=x[i*2+1],d=x[u*2],k=x[u*2+1],A=[N,o,X,J,c,p];
if(f[1])A.push(d,k);var $=y(n.a7S[s],A),K=$[0],G=$[1],z=1/Math.sqrt(K*K+G*G);K*=z;G*=z;var M=U-I,hl=F-Y;
S[s]=K*M+G*hl;e[s]=-G*M+K*hl;s++}var j=new Array(E),w=new Array(E);for(var m=0;m<E;m++){j[m]=t[m*2];
w[m]=t[m*2+1]}n.a9W.ca(j,n.aj4.RW(S),.5);n.a9W.ca(w,n.aj4.RW(e),.5);for(var m=0;m<E;m++){t[m*2]=j[m];
t[m*2+1]=w[m]}};Q.Iz.oI=function(_){var n=_.FD,O=_.ye,l=_.B$,x=Q.ha.multiply,t=Date.now(),h=Q.bX.p8(n,O),V=n.length>>>1,y=0,P=0,G=1e3;
for(var m=0;m<h.yM.length;m++)y+=h.yM[m][1]?.5:1;var r=y+l.length,E=[],a=new Q.c8(r*2,V*2),S=new Q.c8(r,V),e=[[[-1,0,1,0,0,0],[0,-1,0,1,0,0]],[[-1,0,1,0,0,0,0,0],[0,-1,0,1,0,0,0,0]]],b=[],T=[];
for(var m=0;m<h.yM.length;m++){var C=h.yM[m],Z=C[3][3][0],W=C[0],s=C[3][0],f=C[1]?C[1][3][0]:s;if(C[1]&&Z>W)continue;
var q=n[Z*2],g=n[Z*2+1],i=n[W*2],u=n[W*2+1],I=n[s*2],Y=n[s*2+1],U=n[f*2],F=n[f*2+1],N=[[q,g,1,0],[g,-q,0,1],[i,u,1,0],[u,-i,0,1],[I,Y,1,0],[Y,-I,0,1]];
if(C[1])N.push([U,F,1,0],[F,-U,0,1]);var o=Q.ha.Z4(N),X=x(linear.invert(x(o,N)),o);X.pop();X.pop();E.push(X);
var J=i-q,c=u-g,p=e[C[1]?1:0];p=Q.ha.OA(p,x([[J,c],[c,-J]],X));var d=[Z*2,Z*2+1,W*2,W*2+1,s*2,s*2+1,f*2,f*2+1],k=C[1]?8:6,A=[];
for(var $=0;$<k;$++)A.push([d[$],p[0][$],p[1][$]]);A.sort(function(B,bB){return B[0]-bB[0]});for(var K=0;
K<2;K++){for(var $=0;$<k;$++){b[$]=A[$][0];T[$]=A[$][1+K]}a.gC(T,b,k)}if(Z<W)S.gC([-1,1],[Z,W],2);else S.gC([1,-1],[W,Z],2);
P++}for(var m=0;m<l.length;m++){var z=l[m];a.gC([G],[z*2],1);a.gC([G],[z*2+1],1);S.gC([G],[z],1)}var M=a.Z4(),hl=M.TC(M),j=S.Z4(),w=j.TC(j);
return{apG:y,Ba:r,avT:M,a5o:hl,aj4:j,a9W:w,ajy:h,a7S:E,Qc:G}};Q.Iz.akm=function(_,n,O,l,x){var t=new a8(0,0,n,O),h=Q.Q(t.O());
Q.nV(_,h,3);Q.round(h,70);var V=Q.pF(h,t),y=[.1,.065,.035][l]*Math.max(V.a,V.n),r=x+1,E=n+r*2,a=O+r*2,S=new a8(-r,-r,E,a),e=Q.Q(S.O());
Q.pc(h,t,e,S);var P=e.slice(0);for(var b=0;b<x;b++){for(var T=1;T<a-1;T++){for(var C=1;C<E-1;C++){var m=T*E+C;
P[m]=e[m-E]|e[m-1]|e[m]|e[m+1]|e[m+E]}}var Z=P;P=e;e=Z}var W=a2.uL(e,E,a,Math.round(V.O()*5e-4)),s=a2.cx(W),f=new aY(1,0,0,1,-r,-r);
for(var m=0;m<s.length;m++){var q=s[m];Q.p.D(q.path.C,f,q.path.C);q.FD=Q.Iz.a6w(q.path);q.ye=Q.p.agF(q.FD);
q.ye=Q.bX.a3Z(q.FD,q.ye,y)}return s};Q.Iz.a6w=function(_){var n=[],O=_.C,l=_.F.length-1,x=0,t=0;for(var h=0;
h<l;h++){var m=h*6,V=O[m+6]-O[m+0],y=O[m+7]-O[m+1],r=Math.ceil(Math.sqrt(V*V+y*y));for(var E=0;E<r;E++){var a=E/r,S=1-a,e=S*S*S*O[m+0]+3*S*S*a*O[m+2]+3*S*a*a*O[m+4]+a*a*a*O[m+6],P=S*S*S*O[m+1]+3*S*S*a*O[m+3]+3*S*a*a*O[m+5]+a*a*a*O[m+7];
n.push(e,P);x=e;t=P}}n=Q.p.GJ(n,1);var b=[],T=n.length;for(var m=0;m<T;m+=2){var P=n.pop(),e=n.pop();
b.push(e,P)}return b};Q.Iz.ajJ=function(_,n,O,l){function x(i,u,I,Y,U){var F=U[i*2]-U[u*2],N=U[i*2+1]-U[u*2+1],o=Math.sqrt(F*F+N*N);
if(I[i].indexOf(u)==-1){I[i].push(u);Y[i].push(o)}if(I[u].indexOf(i)==-1){I[u].push(i);Y[u].push(o)}}var t=_.length>>>1,h=new Array(t);
if(O.length==0){h.fill(0);return h}var V=new Array(t),y=new Array(t);for(var m=0;m<t;m++){V[m]=[];y[m]=[]}for(var m=0;
m<n.length;m+=3){x(n[m],n[m+1],V,y,_);x(n[m],n[m+2],V,y,_);x(n[m+1],n[m+2],V,y,_)}var r=new Float64Array(t*2),E=new Uint32Array(t*2);
r.fill(1e9);var a=new Uint8Array(t);for(var S=0;S<O.length;S++){a.fill(0);var e=["---",[0,O[S]]];while(e.length!=1){var P=Q.fo.qf(e),b=P[0],T=P[1];
if(a[T]==1)continue;var C=T<<1;if(b<r[C]){r[C+1]=r[C];E[C+1]=E[C];r[C]=b;E[C]=S}else if(b<r[C+1]){r[C+1]=b;
E[C+1]=S}a[T]=1;var Z=V[T],W=y[T];for(var m=0;m<Z.length;m++){var s=Z[m];if(a[s]!=1){Q.fo.K2(e,[b+W[m],s])}}}}for(var m=0;
m<t;m++){var C=m<<1,f=r[C],q=r[C+1],g=1/(f+q);h[m]=(1-f*g)*l[E[C]]+(1-q*g)*l[E[C+1]]}return h};Q.Iz.ain=function(_){var n={F:[],C:[]},O=[_];
while(O.length!=0){var l=O.pop(),x=l.hT;if(l.adh instanceof Array||l.awM instanceof Array){n.F.push("M","L","L","L","Z");
n.C.push(x[0],x[1],x[2],x[1],x[2],x[3],x[0],x[3])}else O.push(l.adh,l.awM)}return n};Q.Iz._l=function(_,n,O,l,x,t,h,V,y,r){var E=Math.round(r.length/3),a=new Array(E);
for(var m=0;m<E;m++)a[m]=m;a.sort(function(e,P){return y[r[e*3]]-y[r[P*3]]});for(var m=0;m<E;m++){var S=a[m]*3;
Q.Iz.adq(r[S]*2,r[S+1]*2,r[S+2]*2,h,V,_,n,O,l,x,t)}};Q.Iz.adq=function(_,n,O,l,x,t,h,V,y,r,E){var a=Q.Iz.jz,S=[_,n,O,1.2,1.2,1.2,0],e=[0,0,0,0],P=x[_],b=x[_+1],T=x[n],C=x[n+1],Z=x[O],W=x[O+1],s=Math.max(0,Math.min(h-1,l[_])),f=Math.max(0,Math.min(h-1,l[n])),q=Math.max(0,Math.min(h-1,l[O])),g=Math.max(0,Math.min(V-1,l[_+1])),i=Math.max(0,Math.min(V-1,l[n+1])),u=Math.max(0,Math.min(V-1,l[O+1])),I=T-P,Y=C-b,U=Z-P,F=W-b,N=1/(I*F-U*Y+1e-9),o=Math.max(0,Math.floor(Math.min(P,T,Z))),X=Math.min(r,Math.ceil(Math.max(P,T,Z))),J=Math.max(0,Math.floor(Math.min(b,C,W))),c=Math.min(E,Math.ceil(Math.max(b,C,W)));
for(var p=J;p<c;p++)for(var d=o;d<X;d++){var k=d+.5-P,A=p+.5-b,$=(k*F-U*A)*N,K=(I*A-k*Y)*N;if($>=0&&K>=0&&$+K<=1){var G=1-$-K,z=s*G+f*$+q*K,M=g*G+i*$+u*K;
Q.r.rK(z,M,t,h,V,e);Q.Iz.aye(e,y,p*r+d<<2)}}};Q.Iz.aye=function(_,n,O){var l=n[O],x=n[O+1],t=n[O+2],h=n[O+3],V=1-_[3]*(1/255);
n[O]=~~(.5+_[0]+l*V);n[O+1]=~~(.5+_[1]+x*V);n[O+2]=~~(.5+_[2]+t*V);n[O+3]=~~(.5+_[3]+h*V)};Q.Iz.jz=function(){var _=function(O,l,x,t){var h=t[0],V=t[1],y=t[2],r=O[h+0],E=O[h+1],a=O[V+0],S=O[V+1],e=O[y+0],P=O[y+1],b=a-r,T=S-E,C=e-r,Z=P-E,W=l-r,s=x-E,f=b*Z-C*T,q=1/(f+1e-9),g=(W*Z-C*s)*q,i=(b*s-W*T)*q;
if(g>=0&&i>=0&&g+i<=1){t[3]=1-g-i;t[4]=g;t[5]=i;return 1}return 0},n=function(O,l,x,t){var h=[0,0,0,0,0,0];
for(var m=0;m<l.length;m+=3){h[0]=l[m]*2;h[1]=l[m+1]*2;h[2]=l[m+2]*2;if(_(O,x,t,h)==1)return!0}return!1};
return{a24:_,ag4:n}}();Q.oB={};Q.oB.ajM=function(_,n,O){var l=Q.Q(n*O*4),x=!1;Q.r.Ia(_,n,O,l,[O,n,0,1,0,1,0,0]);
return[Q.oB.rx(_,n,O,x),Q.oB.rx(l,O,n,x)]};Q.oB.D=function(_,n){var O=!1,l=_[0],x=_[1],t=l[1],h=l[2],V=l[3],y=n.a,r=n.n;
if(h==y&&V==r)t=t.slice(0);else if(V!=r){var E=Q.Q(h*r*4);Q.oB.my(x,r,E,O);t=Q.Q(h*r*4);Q.r.Ia(E,r,h,t,[h,r,0,1,0,1,0,0]);
if(h!=y){l=Q.oB.rx(t,h,r,O);t=Q.Q(y*r*4);Q.oB.my(l,y,t,O)}}else if(h!=y){t=Q.Q(y*V*4);Q.oB.my(l,y,t,O)}return t};
Q.oB.rx=function(_,n,O,l){var x=Date.now(),t=new Uint16Array(n*O),h=1;Q.oB.ay9(_,n,O,t);var V=Math.ceil(n/h),y=new Uint32Array(h),r=new Uint32Array(h),V=Math.floor(n/h);
for(var E=0;E<h;E++)r[E]=E<h-1?V:n-(h-1)*V;for(var a=0;a<O;a++){var m=a*n;for(var E=0;E<h;E++){var V=r[E];
for(var S=0;S<V;S++)y[E]+=t[m+S];m+=V}}if(l){console.log(Date.now()-x,"cost");x=Date.now()}var e=new Uint32Array(n),P=new Uint32Array(n),b=new Uint32Array(n*O);
for(var S=0;S<n;S++){b[(O-1)*n+S]=t[(O-1)*n+S]}for(var a=O-2;a>=0;a--){var T=a*n;for(var E=0;E<h;E++){var V=r[E];
b[T]=t[T]+Math.min(b[T+n],b[T+n+1]);for(var S=1;S<V-1;S++){var m=T+S;b[m]=t[m]+Math.min(b[m+n-1],Math.min(b[m+n],b[m+n+1]))}T+=V-1;
b[T]=t[T]+Math.min(b[T+n-1],b[T+n]);T++}}if(l){console.log(Date.now()-x,"Building M");x=Date.now()}function C(Y,U){return Y<U?Y:U}function Z(m,Y){var U=P[m],F=b[Y],N=~~(U*F*1e-4);
return N}var W=new Uint8Array(n*O),s=new Uint32Array(n);for(var m=0;m<n;m++){e[m]=m;P[m]=t[m]}for(var a=1;
a<O;a++){var f=0,T=a*n;for(var E=0;E<h;E++){var V=r[E],m=T;s[f]=Z(f,m);var q=s[f]+Z(f+1,m+1),g=Z(f,m+1)+Z(f+1,m);
s[f+1]=C(q,g);for(var S=2;S<V;S++){var m=T+S,i=s[f+S-1]+Z(f+S-1,m-1),u=s[f+S-2]+Z(f+S-1,m-2)+Z(f+S-2,m-1);
s[f+S]=C(i,u)}var S=V-1;while(S>=2){var m=T+S,i=s[f+S-1]+Z(f+S-1,m-1),u=s[f+S-2]+Z(f+S-1,m-2)+Z(f+S-2,m-1);
if(s[f+S]==i){W[m-n]=1;S-=1}else{W[m-n]=0;W[m-n-1]=2;S-=2}}var m=T;if(S==0){W[m-n]=1}else{if(s[f+1]==q){W[m+1-n]=1;
W[m-n]=1}else{W[m+1-n]=0;W[m-n]=2}}T+=V;f+=V}Q.oB.am7(a,n,W,t,e,P,!0,x)}if(l){console.log(Date.now()-x,"Matching");
x=Date.now()}var I=t;return[UZIP.adler(_,0,_.length),_,n,O,h,r,y,e,P,W,I]};Q.oB.my=function(_,n,O,l){var x=_.slice(0),t=x.shift(),h=x.shift(),V=x.shift(),y=x.shift(),r=x.shift(),E=x.shift(),a=x.shift(),S=x.shift(),e=x.shift().slice(0),P=x.shift(),b=x.shift(),T=Date.now(),C=Math.abs(V-n),Z=Math.floor(C/r),W=new Uint32Array(r),f=0,q=1e9,i=0,u=0,I=0;
for(var s=0;s<r;s++)W[s]=s<r-1?Z:C-(r-1)*Z;b.fill(0);for(var g=0;g<V;g++){f=Math.max(f,e[g]);q=Math.min(q,e[g])}for(var s=0;
s<r;s++){var Y=E[s],Z=W[s];for(var U=0;U<Z;U++){var F=0,N=1e9;for(var g=0;g<Y;g++)if(e[u+g]<N){N=e[u+g];
F=u+g}if(n<V)e[F]=1e9;else e[F]*=1.2;if(I<V/3)i+=N;var o=S[F],X=b[o],J=X<65280?65280:X+1;if(J<65280)throw"e";
for(var c=0;c<y;c++){var m=c*V+o;b[m]=J;o+=P[m]-1}I++}u+=Y}if(l){console.log(Date.now()-T,"Removing best seams");
T=Date.now()}function p(m,k){var A=m<<2,$=k<<2;O[A]=h[$];O[A+1]=h[$+1];O[A+2]=h[$+2];O[A+3]=h[$+3]}for(var c=0;
c<y;c++){var d=0,m=c*V;for(var g=0;g<n;g++,d++){if(n<V){while(b[m+d]==65280)d++;p(c*n+g,c*V+d)}else{p(c*n+g,c*V+d);
while(b[m+d]>=65280){b[m+d]--;g++;p(c*n+g,c*V+d)}}}}if(l){console.log(Date.now()-T,"Shifting image pixels");
T=Date.now()}};Q.oB.am7=function(_,n,O,l,x,t){var h=0,m=_*n;while(h<n){if(O[m-n]==1){t[h]=t[h]+l[m];
h++;m++}else{var V=x[h];x[h]=x[h+1];x[h+1]=V;var y=t[h];t[h]=t[h+1]+l[m];t[h+1]=y+l[m+1];h+=2;m+=2}}};
Q.oB.ay9=function(_,n,O,l){function x(_,m,y){var a=m<<2,S=y<<2,e=_[a]-_[S],P=_[a+1]-_[S+1],b=_[a+2]-_[S+2];
return Math.abs(e)+Math.abs(P)+Math.abs(b)}for(var t=1;t<n;t++){var h=x(_,t,t-1);l[t-1]+=h;l[t]+=h}for(var V=1;
V<O;V++){var y=V*n,h=x(_,y,y-n);l[y]+=h;l[y-n]+=h;for(var t=1;t<n;t++){var m=V*n+t,r=x(_,m,m-1),E=x(_,m,m-n);
l[m-n]+=E;l[m-1]+=r;l[m]+=E+r}}for(var V=0;V<O;V++){l[V*n]*=2;l[V*n+n-1]*=2}for(var m=0;m<l.length;m++)if(l[m]==0)l[m]=1};
Q.Iq=function(){function _(){return 1953e6+Math.floor(Math.random()*999999)}function n(o,X){var J=X[0]-o[0],c=X[1]-o[1];
return J*J+c*c}function O(o,X,J,c,p,d,k,A){var $=J-o,K=c-X,G=Q.p.QB(o,X,$,K,p,d,k-p,A-d),z=[o+G*$,X+G*K],M=G>0?[[[o,X],z,!1,0,1],[[p,d],z,!1,0,5]]:[[[J,c],z,!1,0,1],[[k,A],z,!1,0,5]];
return M}function l(o){o=o.map(Math.round);var X=O(o[0],o[1],o[2],o[3],o[6],o[7],o[4],o[5]),J=O(o[0],o[1],o[6],o[7],o[2],o[3],o[4],o[5]),c=[X,J],p=[X[0][1],J[0][1]];
for(var m=0;m<2;m++){var d=p[1-m],k=c[m];if(n(k[0][0],d)<n(k[1][0],d)){var A=k[0];k[0]=k[1];k[1]=A}}var $=[_(),0,-1,0,[0,0],X[0],X[1],J[0],J[1]];
return $}function x(o){var X=o[5],J=o[6],c=o[7],p=o[8],d=X[0],k=J[0],A=p[0],$=c[1],K=X[1],G=A[0],z=A[1],M=$[0]-G,hl=$[1]-z,j=Q.p.QB(G,z,M,hl,k[0],k[1],K[0]-k[0],K[1]-k[1]);
return[G+j*M,z+j*hl,G,z,d[0],d[1],k[0],k[1]]}function t(o,X){return o[0]==X[0]&&o[1]==X[1]}function h(o,X,J){var c=o[1],p=o[0][0]-c[0],d=o[0][1]-c[1],k=Math.sqrt(p*p+d*d);
p/=k;d/=k;for(var A=0;A<J.length;A++){var $=J[A];if($[0]!=X[1]&&$[1]!=X[0])continue;for(var m=0;m<4;
m++){var K=$[5+m],G=K[0];if(!t(c,K[1]))continue;var z=G[0]-c[0],M=G[1]-c[1];k=Math.sqrt(z*z+M*M);z/=k;
M/=k;var Z=z*p+M*d;if(Math.abs(Z-1)<1e-7)return!0}}return!1}function V(o,X){Q.r.D(o,X);return X}function y(o){var X=[];
for(var J=0;J<o.length;J++){var c=o[J],p=c[1];for(var d=0;d<p.length;d++){var k=p[d],A=[],$=Q.r.pI(x(k),new a8(0,0,1,1));
for(var m=0;m<4;m++){A[m]=h(k[5+m],k,p)}if(!A[0]){X.push([V($,[1,.5]),J,d,0,0]);if(!A[2])X.push([V($,[1,1]),J,d,0,1])}if(!A[1]){X.push([V($,[0,.5]),J,d,1,0]);
if(!A[3])X.push([V($,[0,0]),J,d,1,1])}if(!A[2]){X.push([V($,[.5,1]),J,d,2,0]);if(!A[1])X.push([V($,[0,1]),J,d,2,1])}if(!A[3]){X.push([V($,[.5,0]),J,d,3,0]);
if(!A[0])X.push([V($,[1,0]),J,d,3,1])}}}return X}function r(o,X,J){var c=J[0],p=J[1],d=X.x-o[0],k=X.y-o[1],A=Q.p.QB(o[0],o[1],d,k,p[0],p[1],c[0]-p[0],c[1]-p[1]);
return[o[0]+A*d,o[1]+A*k]}function E(o,X,J){o=JSON.parse(JSON.stringify(o));var c=o[X[1]][1][X[2]],p=X[3],d=X[4];
if(d==1)return o;if(p==0||p==2){var k=c[5+p],A=c[5+2-p],$=c[5+(p==0?3:1)],K=k[1];k[0]=A[0]=r(K,J,A);
$[0]=r(K,J,$)}else{var $=c[5+p],K=$[1],k=c[5+(p==3?0:2)];$[0]=r(K,J,k)}return o}function a(o,X,J){var c=X[0]-o[0],p=X[1]-o[1],d=Q.p.QB(J[0],J[1],-p,c,o[0],o[1],c,p);
return[J[0]-p*d,J[1]+c*d]}function S(o,X,J){var c=J[0],p=J[1],V=a(o,X,J),d=V[0],k=V[1],A=a(o,J,X),$=Q.p.QB(d,k,c-d,p-k,X[0],X[1],A[0]-X[0],A[1]-X[1]);
return[d+(c-d)*$,k+(p-k)*$]}function e(o,X,J){o=JSON.parse(JSON.stringify(o));var c=o[X[1]][1][X[2]],p=X[3],d=X[4];
if(d==1)return o;var k=c[5][1],A=c[7][1],$=S(k,A,J),K=JSON.parse(JSON.stringify(c));o[X[1]][1].push(K);
K[0]=_();K[1]=c[0];if(p==0||p==1){K[7][1]=K[8][1]=$;if(p==1){K[5][0]=K[7][0]=c[6][0];K[8][0]=x(c).slice(0,2)}}else{K[5][1]=K[6][1]=$;
if(p==3){K[5][0]=K[7][0]=c[8][0];K[6][0]=x(c).slice(0,2)}}return o}function P(o,X,J){var ab=o.length>>1,c,p=o[2*ab-3]-J,d=o[2*ab-2]-X,k=o[2*ab-1]-J,A=!1,$=0;
for(var m=0;m<ab;m++){c=d;p=k;d=o[2*m]-X;k=o[2*m+1]-J;if(p==k)continue;A=k>p}for(var m=0;m<ab;m++){c=d;
p=k;d=o[2*m]-X;k=o[2*m+1]-J;if(p<0&&k<0)continue;if(p>0&&k>0)continue;if(c<0&&d<0)continue;if(p==k&&Math.min(c,d)<=0)return!0;
if(p==k)continue;var K=c+(d-c)*-p/(k-p);if(K==0)return!0;if(K>0)$++;if(p==0&&A&&k>p)$--;if(p==0&&!A&&k<p)$--;
A=k>p}return($&1)==1}function b(o,X,J){for(var c=0;c<o.length;c++){var p=o[c][1];for(var d=0;d<p.length;
d++){var k=x(p[d]);if(P(k,X,J))return[c,d]}}}function T(o,X){for(var J=0;J<o.length;J++){var c=o[J][1],p=X[J];
if(p.length==0)continue;var d=C(c,p);for(var k=0;k<c.length;k++){if(d.indexOf(c[k][0])!=-1){c.splice(k,1);
k--}}}for(var J=0;J<o.length;J++)if(o[J][1].length==0){o.splice(J,1);J--}return o}function C(o,X){var J=[];
for(var m=0;m<10;m++)for(var c=0;c<o.length;c++){var p=o[c];if(X.indexOf(c)!=-1||J.indexOf(p[1])!=-1)if(J.indexOf(p[0])==-1)J.push(p[0])}return J}function Z(o,X){return o[0]*X[0]+o[1]*X[1]+o[2]*X[2]}function W(o,X,J,c){return Z(I(o,X),J)/Z(I(o,X),c)}function s(o,X){return[o[0]*X,o[1]*X,o[2]*X,1]}function f(o,X){return[o[0]-X[0],o[1]-X[1],o[2]-X[2],1]}function q(o,X){return[o[0]+X[0],o[1]+X[1],o[2]+X[2],1]}function g(o){var X=o[0],J=o[1],c=o[2];
return Math.sqrt(X*X+J*J+c*c)}function i(o){return s(o,1/g(o))}function u(o,X,J,c){var p=f(X,o),d=f(c,J),k=f(J,o),A=Z(I(k,d),I(p,d))/(g(I(p,d))*g(I(p,d)));
return q(o,s(f(X,o),A))}function I(o,X){return[o[1]*X[2]-o[2]*X[1],o[2]*X[0]-o[0]*X[2],o[0]*X[1]-o[1]*X[0],1]}function Y(o,X){return Math.acos(Z(o,X)/(g(o)*g(X)))}function U(o,X){if(X==null)X=1;
var J=1,c,p,d,k=s(i([o[0],o[1],1]),X),A=i([o[2],o[3],1]),$=i([o[4],o[5],1]),K=i([o[6],o[7],1]);p=-W(A,K,k,$);
c=W($,K,k,A);d=W(A,$,k,K);var G=s(k,J),z=s(A,c),M=s($,p),hl=s(K,d);return[G,z,M,hl]}function F(o,X){var J=U(o,X),c=J[0],p=J[1],d=J[2],k=J[3],A=s(c,1/c[2]),$=[o[2],o[3],1,1],K=g(f(A,$));
console.log(u([0,2,0,1],[1,1,0,1],[0,-2,0,1],[1,-1,0,1]));var G=i(f(p,c)),z=i(f(k,c)),M=I(G,z),V=[G[0],z[0],M[0],c[0],G[1],z[1],M[1],c[1],G[2],z[2],M[2],c[2],0,0,0,1],hl=Q.fN.Jl(V,[1,0,0,1]),j=u([0,0,0,1],$,hl,q(hl,c)),w=q(c,f(j,hl)),B=g(w)/g(c);
for(var m=0;m<3;m++)V[m*4+3]*=B;return V}function N(o){var X=R.c$(o,0,o.length),J=X.split("\n").slice(1);
function c(){return parseFloat(J.shift())}function p(){var by=[c(),c()];d(1);return by}function d(ab){for(var m=0;
m<ab;m++)J.shift()}var k=[],A=c();for(var $=0;$<A;$++){var K=c(),G=c(),z=[];k.push([K,z]);for(var M=0;
M<G;M++){var hl=c(),j=c(),w=c(),B=c(),bB=p(),bG=[hl,j,w,B,bB];z.push(bG);for(var m=0;m<4;m++){var eb=p(),fe=p(),gB=c()==1,hp=c(),g6=c();
bG.push([eb,fe,gB,hp,g6])}}}return k}return{GQ:N,a3w:x,ao4:l,vh:y,acK:E,aw8:function(o,X){return X&&X[4]==1&&o[X[1]][1].length==1},ae_:function(o,X){return X&&X[4]==0},ar9:e,a6q:T,Mv:C,amT:b,anL:U,ad4:F}}();
Q.s$=function(){var _=0,n=0,l=15,t=256;function O(E,a,S,e,P,b){var T=(P-1)*a,C=b*a;return E[C+e]-E[C+S-1]-E[T+e]+E[T+S-1]}var x=Math.round(l/8),h=[];
function V(E,a){for(var S=0;S<a.length;S++){var e=a[S],P=0,b=0,T=E[e.M7],C=T.MF,Z=T.Qc,W=T.bE;for(var s=-l;
s<=l;s++)for(var f=-l;f<=l;f++){var q=f+e.agC,g=s+e.a6k;if(f*f+s*s>l*l||q<0||g<0||q>=Z||g>=Z)continue;
var i=C[g*Z+q];P+=f*i;b+=s*i}e.Yd=Math.atan2(b,P)}}function y(E,a,S,e,P){var b=~~(E+.5),T=~~(a+.5);return O(S,e,b-x,b+x,T-x,T+x)}function r(E,a,S,e,P){_=e;
n=P;if(h.length==0){var b=new Q.q.SB(16200817),W=8,s=0;function T(B){var I=B[0]-B[2],Y=B[1]-B[3];return I*I+Y*Y}function C(){var B=0,bB=0;
while(B===0)B=b.get();while(bB===0)bB=b.get();return Math.sqrt(-2*Math.log(B))*Math.cos(2*Math.PI*bB)}var Z=C,f=[];
while(s!=t){var q=Math.max(-l,Math.min(l,Z()*W)),g=Math.max(-l,Math.min(l,Z()*W)),i=Math.max(-l,Math.min(l,Z()*W)),u=Math.max(-l,Math.min(l,Z()*W)),I=q-i,Y=g-u,U=Math.sqrt(I*I+Y*Y);
if(U<3||U>12)continue;h.push(q,g,i,u);s++}}var F=20;for(var N=0;N<a.length;N++){var o=a[N],X=E[o.M7],J=X.xW,S=X.MF,e=X.Qc,P=X.bE,c=o.agC,p=o.a6k,d=o.Yd,k=Math.cos(d),A=Math.sin(d),$=new Uint8Array(t>>>3);
o.ot=$;for(var m=0;m<t;m++){var K=m*4,q=h[K+0],g=h[K+1],i=h[K+2],u=h[K+3],G=k*q-A*g,z=A*q+k*g,M=k*i-A*u,hl=A*i+k*u,j=y(c+G,p+z,J,e,P),w=y(c+M,p+hl,J,e,P);
$[m>>>3]|=(j<w?0:1)<<(m&7)}}}return{a83:V,any:r}}();Q.ajl=function(){function _(n,O){var l=[[9]],x=Date.now(),t=[];
for(var h=0;h<n.length;h++){var V=n[h],y=V.xW,r=V.Qc,E=V.bE,e=9,W=1,o=24;if(y==null)continue;var a=new Float32Array(r*E),S=new Uint8Array(r*E),P=e>>>1,b=P>>>1,T=Math.round(e/3);
if(T!=e/3)throw"e";var C=1/(e*e),Z=1.2*(e/9);for(var s=P+1;s<E-P;s+=W)for(var f=P+1;f<r-P;f+=W){var q=Q.KP(y,r,f-b,f+b,s-P,s+P)-3*Q.KP(y,r,f-b,f+b,s-P+T,s+P-T),g=Q.KP(y,r,f-P,f+P,s-b,s+b)-3*Q.KP(y,r,f-P+T,f+P-T,s-b,s+b),i=f-P+1,u=f+P-1,I=s-P+1,Y=s+P-1,U=Q.KP(y,r,i,f-1,I,s-1)+Q.KP(y,r,f+1,u,s+1,Y)-Q.KP(y,r,f+1,u,I,s-1)-Q.KP(y,r,i,f-1,s+1,Y),F=(g*q-.9*U*(.9*U))*(C*C);
a[s*r+f]=Math.abs(F);S[s*r+f]=F<0?0:1}var N=r*W;for(var s=o;s<E-o;s+=W)for(var f=o;f<r-o;f+=W){var m=s*r+f,X=a[m];
if(X<16)continue;if(a[m-W]>=X||a[m+W]>=X)continue;if(a[m-N-W]>=X||a[m-N]>=X||a[m-N+W]>=X)continue;if(a[m+N-W]>=X||a[m+N]>=X||a[m+N+W]>=X)continue;
t.push({x:~~(f*V.mt+.5),y:~~(s*V.mt+.5),agC:f,a6k:s,M7:h,h:X,axG:S[m],yj:Z})}}if(O!=null){t.sort(function(K,G){return G.h-K.h});
t=t.slice(0,O)}return t;var J=[];for(var m=0;m<t.length;m++){var c=!0,p=t[m];for(var d=0;d<t.length;
d++){var k=t[d];if(d!=m&&k.h>p.h&&(k.M7==p.M7+1||k.M7==p.M7-1)){var A=p.x-k.x,$=p.y-k.y;if(A*A+$*$<5){c=!1;
break}}}if(c)J.push(p)}console.log(t.length,J.length);return J}return{apS:_}}();Q.Qz={};Q.Qz.ahp=function(_){var n=_.length,O=Q.Qz.bz(_,!1),x=0,t=1;
throw"e";var l=[];for(var m=0;m<n;m++)l[m]=Q.Qz.br(O[m]);var h=_[0][1],V=Q.Qz.match(O[x],O[t],l[t]);
console.log(V.length);var y=Math.max(Math.min(V.length,40),V.length*.54);y=Math.min(y,200);var r=V.slice(0,y),E=Q.d4.afq(O[x],O[t],r,h.a,h.n),a=Q.d4.a4B(E,[0,0,0],1),S=h.a/2,e=h.n/2,P=1/Math.max(S,e);
for(var m=0;m<1;m++){var b=r[m],T=O[x][b[0]],C=O[t][b[1]],Z=Q.d4.afA(a,P*(T.x-S),P*(T.y-e),P*(C.x-S),P*(C.y-e))}var W=Q.d4.a5X(E,h),s=[];
for(var m=0;m<2;m++){var f=W[m],q=[f[0][0],f[0][1],f[0][2],f[1][0],f[1][1],f[1][2],f[2][0],f[2][1]],g=D.D6.ed(_[m],null,q);
s.push([g.buffer,g.rect])}return[Q.Qz.aa7(s[0],s[1],O[x],O[t],r,E,W,h)]};Q.Qz.Fc=function(_,n){var O=_.length,l=!1,x=Date.now(),t=Q.Qz.bz(_,!1,1e4);
if(l)console.log("Descriptors ready",Date.now()-x);x=Date.now();for(var m=0;m<O;m++){var h=_[m][1];for(var V=0;
V<t[m].length;V++){t[m][V].x+=h.x;t[m][V].y+=h.y}}if(l)console.log("shifted",Date.now()-x);x=Date.now();
var y=[];for(var m=0;m<O;m++)y[m]=Q.Qz.br(t[m]);if(l)console.log("trees built",Date.now()-x);x=Date.now();
var r=[];for(var m=0;m<O-1;m++)for(var V=m+1;V<O;V++){var E=Q.Qz.match(t[m],t[V],y[V]);if(l)console.log("Matches found",m,V,E.length);
E=E.slice(0,E.length>>>1);if(E.length<10)return null;var a=Q.Qz.a98(t[m],t[V],E,2);r.push([m,V,E,a])}r.sort(function(u,I){return I[2].length-u[2].length});
if(l)console.log("Matches found",Date.now()-x);x=Date.now();var S=[],e=new UnionFind(O);for(var m=0;
m<r.length;m++){var P=r[m],b=e.find(P[0]),T=e.find(P[1]);if(b!=T){S.push(P);e.link(b,T)}}var C=[];for(var m=0;
m<O;m++)C[m]=[1,0,0,0,1,0,0,0];var Z=[0],W=new Uint8Array(O);W[Z[0]]=1;while(Z.length!=0){var T=Z.pop(),a=C[T],s=[];
for(var m=0;m<S.length;m++){var P=S[m],f=P[0],q=P[1];if(f==T&&W[q]==0){C[q]=Q.r.kU(a,P[3]);Z.push(q);
W[q]=1}if(q==T&&W[f]==0){C[f]=Q.r.kU(a,Q.r.sJ(P[3]));Z.push(f);W[f]=1}}}if(n==null){var g=[];for(var m=0;
m<O;m++)g.push([C[m][2],m]);g.sort(function(u,I){return u[0]-I[0]});n=g[g.length>>>1][1]}var i=Q.r.sJ(C[n]);
for(var m=0;m<O;m++)C[m]=Q.r.kU(C[m],i);if(l)console.log("Transforms reordered",Date.now()-x);x=Date.now();
return C};Q.Qz.bz=function(_,n,O){var l=[],x=!1;for(var m=0;m<_.length;m++){var t=_[m][0],h=_[m][1],V=h.a,y=h.n,r=Q.Q(h.O());
Q.mx(t,r);var E=Date.now(),a=Q.Qz.a8s(r,h,!0);if(x)console.log("Pyramid built ---------------",Date.now()-E);
E=Date.now();var S=Q.ajl.apS(a,O);if(x)console.log("SURF Generation",Date.now()-E);E=Date.now();if(!n){Q.s$.a83(a,S);
if(x)console.log("ORB Orientations",Date.now()-E);E=Date.now();Q.s$.any(a,S,r,V,y);if(x)console.log("ORB Descriptors",Date.now()-E);
E=Date.now()}l.push(S)}return l};Q.Qz.a8s=function(_,n,O){var l=[],x=[_,n];Q.gL(x);if(O){var t=Q.bA(_,n),h=t.rect,V=[t.sw,h];
Q.gL(V)}for(var m=0;m<x.length;m++){var y=x[2*m],r=x[2*m+1],E=r.a,a=r.n,S=Math.min(E,a);if(S<30)break;
if(S<1600)l.push({MF:y,Qc:E,bE:a,mt:1<<m,xW:Q.lN(y,E,a)});if(!O)continue;var y=V[2*m],r=V[2*m+1],E=r.a,a=r.n,S=Math.min(E,a);
if(S<30)break;if(S<1600)l.push({MF:y,Qc:E,bE:a,mt:(1<<m)*3/2,xW:Q.lN(y,E,a)})}return l};Q.Qz.a98=function(_,n,O,l){var x=Date.now(),t,h=0,V=0,y=O.length,r=new Float64Array(2);
for(var E=0;E<3e3;E++){var a=~~(Math.random()*y),S=~~(Math.random()*y),e=~~(Math.random()*y),P=~~(Math.random()*y),N=0,o=0;
if(a==S||a==e||a==P||S==e||S==P||e==P)continue;var b=O[a],T=O[S],C=O[e],Z=O[P],W=_[b[0]],s=n[b[1]],f=_[T[0]],q=n[T[1]],g=_[C[0]],i=n[C[1]],u=_[Z[0]],I=n[Z[1]],Y=[W.x,W.y,f.x,f.y,g.x,g.y,u.x,u.y],U=[s.x,s.y,q.x,q.y,i.x,i.y,I.x,I.y],F=Q.r.mX(Y,U);
if(F[0]==0&&F[1]==0&&F[3]==0&&F[4]==0)continue;var X=y-h+2;for(var m=0;m<y&&m-N<X;m++){var J=_[O[m][0]],c=n[O[m][1]];
Q.r.hZ(c.x,c.y,F,r);var p=r[0]-J.x,d=r[1]-J.y,k=p*p+d*d;if(k<l){N++;o+=k}}if(N>h||N==h&&o<V){t=F;h=N;
V=o}}return t};var gj=new Uint8Array(256);for(var m=0;m<256;m++){var er=0,ab=m;while(ab!=0){ab=ab&ab-1;
er++}gj[m]=er}Q.Qz.ad7=function(_,n,O){var l=0,x=_.length;for(var m=0;m<x&&l<O;m++)l+=gj[_[m]^n[m]];
return l};Q.Qz.aeV=function(_,n,O,top,l){if(l[O]==1)return;var x=Q.Qz.ad7(_.ot,n.ot,top[0]);if(x<top[0]){if(x<top[2]){top[0]=top[2];
top[1]=top[3];top[2]=x;top[3]=O}else{top[0]=x;top[1]=O}}l[O]=1};Q.Qz.br=function(_){var n=[],O=[],l=[[],[]],x=4;
for(var m=0;m<_.length;m++)(_[m].axG==0?n:O).push(m);for(var t=0;t<2;t++){var h=new Array(x),V=[],y=t==0?n:O,r=y.length/256,E=[];
for(var a=0;a<32;a++){var S=new Array(256),b=0;for(var e=0;e<256;e++)S[e]=[];for(var e=0;e<y.length;
e++){var P=y[e];S[_[P].ot[a]].push(P)}for(var e=0;e<256;e++)b+=Math.abs(S[e].length-r);E.push([b,a,S])}E.sort(function(T,C){return T[0]-C[0]});
var V=[],h=[];l[t]=[V,h];for(var m=0;m<x;m++){V.push(E[m][1]);h.push(E[m][2])}}return l};Q.Qz.match=function(_,n,O){var l=[],x=new Uint16Array(n.length);
x.fill(65535);var t=new Uint8Array(n.length),top=new Uint32Array(4),h=[];for(var V=0;V<_.length;V++){var y=_[V],r=y.ot;
top.fill(1e6);t.fill(0);var E=O[y.axG];for(var a=0;a<E[1].length;a++){var S=E[1][a][r[E[0][a]]];for(var e=0;
e<S.length;e++){var P=S[e];Q.Qz.aeV(y,n[P],P,top,t)}}if(top[2]<50&&top[2]<top[0]*.5){var b=x[top[3]];
if(b==65535){x[top[3]]=l.length;l.push([V,top[3],top[2]])}else if(top[2]<l[b][2]){l[b]=[V,top[3],top[2]]}}}l.sort(function(T,C){return T[2]-C[2]});
return l};Q.Qz.ahq=function(_){var n=new a8;for(var m=0;m<_.length;m++)n=n.uG(_[m][1]);var O=Q.Q(n.O()*4);
for(var m=0;m<_.length;m++)Q.q.Zn("norm",_[m][0],_[m][1],O,n,n,1);return[O,n]};Q.Qz.aa7=function(_,n,O,l,x,t,h,V){var y=_[1].clone(),r=y.clone();
y.x=y.y=0;var E=n[1].clone(),a=E.clone();E.x=E.y=0;E.x=y.a;var S=y.uG(E),e=a.y-r.y,P=Q.Q(S.O()*4);Q.zw(_[0],y,P,S);
Q.zw(n[0],new a8(E.x,E.y+e,E.a,E.n),P,S);var b=document.createElement("canvas");b.width=S.a;b.height=S.n;
var T=b.getContext("2d");T.lineWidth=.5;T.putImageData(new ImageData(new Uint8ClampedArray(P.buffer),S.a,S.n),0,0);
if(t){var C=t[0],Z=Q.ha.Z4(C),W=y.a,s=V.a;for(var m=0;m<x.length;m++){var f=x[m],_=O[f[0]],n=l[f[1]];
T.strokeStyle="#"+"ff0000";T.beginPath();var q=Q.d4.ab7(Z,h[0],n,0,s),g=Q.d4.ab7(C,h[1],_,0,s);T.moveTo(-r.x+q[0],-r.y+q[1]);
T.lineTo(-r.x+q[2],-r.y+q[3]);T.moveTo(W-a.x+g[0],-a.y+e+g[1]);T.lineTo(W-a.x+g[2],-a.y+e+g[3]);T.stroke()}}if(x){var i=x.length;
for(var m=0;m<i;m++){var f=x[m],_=O[f[0]],n=l[f[1]];T.strokeStyle="#"+"ffff00"}}var u=new Uint8Array(T.getImageData(0,0,S.a,S.n).data.buffer);
if(!1){for(var I=0;I<2;I++){var Y=I==0?O:l,U=I*y.a;for(var m=0;m<Y.length;m++){var F=Y[m],N=~~F.x,o=~~F.y,X=(o*S.a+N+U)*4;
u[X+1]=u[X+2]=F.ali*60;u[X+0]=0;u[X+3]=255}}}return[u,S]};Q.stack={};Q.stack.stack=function(_,n,O){var l=_.length,x=n.length;
if(l==1){n.set(_[0]);return}if(O=="avrg"||O=="stdv"||O=="summ"||O=="vari"){var t=1/l;for(var m=0;m<x;
m++){var h=0;for(var V=0;V<l;V++)h+=_[V][m];var y=~~(h*t+.5);if(O=="avrg"||(m&3)==3)n[m]=y;else if(O=="summ")n[m]=255*Math.pow(Math.min(255,h)*(1/255),1/2.4);
else{var r=0;for(var V=0;V<l;V++){var E=_[V][m]-y;r+=E*E}var a=Math.sqrt(r*t)*(1/255);if(O=="stdv")n[m]=255*Math.pow(a,1/2.4);
else n[m]=255*Math.pow(a*a,1/2.4)}}}else if(O=="maxx"){for(var m=0;m<x;m++){var S=0;for(var V=0;V<l;
V++)S=Math.max(S,_[V][m]);n[m]=S}}else if(O=="minn"){for(var m=0;m<x;m++){var S=255;for(var V=0;V<l;
V++)S=Math.min(S,_[V][m]);n[m]=S}}else if(O=="medn"||O=="rang"){var e=function(C,Z){return C-Z},P=new Array(l),b=0,T=0;
if((l&1)==0){T=l>>>1;b=T-1}else{b=T=l>>>1}for(var m=0;m<x;m++){for(var V=0;V<l;V++)P[V]=_[V][m];P.sort(e);
if(O=="medn")n[m]=P[b]+P[T]>>>1;else n[m]=(m&3)==3?P[l-1]:P[l-1]-P[0]}}else console.log(O)};Q.j8={};
Q.j8.anl=function(_,n,O,l){var x=Date.now(),t=new Uint32Array(n*O),h=new Uint8Array(n*O);while(!0){h.fill(0);
t.fill(0);var V=[],y=0;for(var r=0;r<O;r++){for(var E=0;E<n;E++){var m=r*n+E;if(h[m]==0){var a=V.length,S=Q.j8.pM(_,n,O,E,r,h,t,a);
V.push([a,E,r,S[0],S[1],_[m]]);if(S[0]<l)y++}}}if(y==0)break;var e=V.length,P=new UnionFind(e),b=[];
for(var m=0;m<e;m++)b.push([]);for(var m=0;m<e;m++){var S=V[m],T=S[4],C=0,Z=0;if(S[3]>=l)continue;var a=S[0];
for(var W=0;W<T.length;W+=2){var s=t[T[W+1]*n+T[W]],f=V[s];if(f[3]>Z){Z=f[3];C=s}}if(P.find(a)!=P.find(C)){P.link(a,C);
b[a].push(C);b[C].push(a)}}var q=new Uint32Array(e);q.fill(4294967295);var g=new Uint32Array(e);for(var m=0;
m<e;m++){if(q[m]!=4294967295||b[m].length==0)continue;var i=[m],u=[m],I=m,Y=V[m][3];while(u.length!=0){var U=u.pop(),F=b[U];
for(var W=0;W<F.length;W++){var N=F[W];if(i.indexOf(N)==-1){i.push(N);u.push(N);var o=V[N];if(o[3]>Y){Y=o[3];
I=N}}}}for(var W=0;W<i.length;W++){q[i[W]]=I;var X=V[I];g[i[W]]=_[X[2]*n+X[1]]}}for(var r=0;r<O;r++)for(var E=0;
E<n;E++){var m=r*n+E,J=q[t[m]];if(J!=4294967295)_[m]=g[J]}}};Q.j8.pM=function(_,n,O,l,x,t,h,V){var y=[l,x],r=_[x*n+l],E=0,a=[];
t[x*n+l]=1;while(y.length!=0){var S=y.pop(),e=y.pop(),m=S*n+e;h[m]=V;E++;if(S!=O-1)if(_[m+n]==r){if(t[m+n]==0){y.push(e,S+1);
t[m+n]=1}}else a.push(e,S+1);if(S!=0)if(_[m-n]==r){if(t[m-n]==0){y.push(e,S-1);t[m-n]=1}}else a.push(e,S-1);
if(e!=n-1)if(_[m+1]==r){if(t[m+1]==0){y.push(e+1,S);t[m+1]=1}}else a.push(e+1,S);if(e!=0)if(_[m-1]==r){if(t[m-1]==0){y.push(e-1,S);
t[m-1]=1}}else a.push(e-1,S)}return[E,a]};Q.j8.aeU=function(_,n,O,l,x){var t=Q.j8.U3(_.buffer,n,O).IR,h=Date.now(),V=[];
for(var m=0;m<t.length;m++){var y=t[m],r=1;for(var E=0;E<r;E++)V.push(y.av)}var a=new Uint32Array(V),S=UPNG.quantize.getKDtree(new Uint8Array(a.buffer),l),e=[n,1,-n,-1,n+1,-n+1,-n-1,n-1,n+n,2,-n-n,-2,n+n-1,n+n+1,n+2,-n+2,-n-n+1,-n-n-1,-n-2,n-2,n+n+2,-n-n+2-n-n-2,n+n-2],P=new Uint8Array(n*O),b=_;
for(var T=0;T<O;T++)for(var C=0;C<n;C++){var m=T*n+C<<2,Z=b[m]*(1/255),W=b[m+1]*(1/255),s=b[m+2]*(1/255),f=b[m+3]*(1/255),q=Q.j8.Jk(S,Z,W,s,f,x);
if(q==null){var g=[],i=0;while(i<20){var u=T*n+C+e[i]<<2,I=b[u]*(1/255),Y=b[u+1]*(1/255),U=b[u+2]*(1/255),F=b[u+3]*(1/255),N=Q.j8.Jk(S,I,Y,U,F,.005);
if(N!=null){if(g.indexOf(N)==-1){g.push(N);N.xA=1}else N.xA++}i++}g.sort(function(f,s){return s.xA-f.xA});
while(g.length!=0&&g[g.length-1].xA<3)g.pop();if(g.length==0)q=Q.j8.Jk(S,Z,W,s,f,100);else if(g.length==1)q=g[0];
else if(g.length==2){var o=g[0],X=g[1],J=o.est.q,c=X.est.q,p=c[0]-J[0],d=c[1]-J[1],k=c[2]-J[2],A=c[3]-J[3],$=Z-J[0],K=W-J[1],G=s-J[2],z=f-J[3],M=p*p+d*d+k*k+A*A,hl=$*$+K*K+G*G+z*z,j=($*p+K*d+G*k+z*A)/M,w=hl-j*j*M;
if(w<.5)q=j<.5?o:X;else{q=Q.j8.Jk(S,Z,W,s,f,100)}}else{var o=g[0],X=g[1],B=g[2],J=o.est.q,c=X.est.q,bB=B.est.q,bG=J[0]-bB[0],eb=J[1]-bB[1],fe=J[2]-bB[2],gB=J[3]-bB[3],hp=c[0]-bB[0],g6=c[1]-bB[1],by=c[2]-bB[2],e7=c[3]-bB[3],aN=bB[0]-Z,jK=bB[1]-W,f7=bB[2]-s,hW=bB[3]-f,km=bG*bG+eb*eb+fe*fe+gB*gB,ca=bG*hp+eb*g6+fe*by+gB*e7,aU=aN*bG+jK*eb+f7*fe+hW*gB,eJ=bG*hp+eb*g6+fe*by+gB*e7,am=hp*hp+g6*g6+by*by+e7*e7,eA=aN*hp+jK*g6+f7*by+hW*e7,dj=1/(ca*eJ-km*am),j=(am*aU-eA*ca)*dj,cM=(eA*km-aU*eJ)*dj,b2=1-j-cM,cm=Math.max(j,cM,b2);
if(cm==j)q=o;else if(cm==cM)q=X;else q=B}}P[m>>2]=q.ind}return{ye:P,IR:S[1]}};Q.j8.U3=function(_,n,O){var l=[],x={},t=n-1,h=O-1,V=0,y=new Uint32Array(_),r=[-n-1,-n,-n+1,-1,1,n-1,n,n+1,n+n,2,-n-n,-2,n+n-1,n+n+1,n+2,-n+2,-n-n+1,-n-n-1,-n-2,n-2,n+n+2,-n-n+2-n-n-2,n+n-2];
for(var E=1;E<h;E++)for(var a=1;a<t;a++){var S=E*n+a,e=y[S],P=!0;for(var m=0;m<8;m++)P=P&&y[S+r[m]]==e;
if(P){V++;var b=x[e];if(b==null){x[e]=l.length;l.push({av:e,nq:1})}else l[b].nq++}}return{IR:l,al8:V}};
Q.j8.Jk=function(_,n,O,l,x,t){var h=UPNG.quantize.getNearest(_[0],n,O,l,x);return Q.j8.akP(h,n,O,l,x)<t?h:null};
Q.j8.akP=function(_,n,O,l,x){var t=_.est.q,h=n-t[0],V=O-t[1],y=l-t[2],r=x-t[3];return h*h+V*V+y*y+r*r};
Q.j8.Ln=function(){function _(C,Z,W,s,f,q){var g=[],i=q,u=q,I=q>>>2;for(var Y=0;Y<f;Y++)for(var U=0;
U<s;U++){var F=~~((U+.5)*i),N=~~((Y+.5)*u),o=1e9,X=Math.max(0,F-I),J=Math.min(Z,F+I+1),c=Math.max(0,N-I),p=Math.min(W,N+I+1);
for(var d=c;d<p;d++)for(var k=X;k<J;k++){var A=n(C,Z,k,d);if(A<o){F=k;N=d;o=A}}var $=(N*Z+F)*4;g.push(F,N)}return g}function n(C,Z,W,s){var f=(s*Z+W)*4,q=Z*4,g=O(C,f-4,f)+O(C,f,f+4),i=O(C,f-q,f)+O(C,f,f+q);
return g+i}function O(C,Z,W){var s=C[Z]-C[W],f=C[Z+1]-C[W+1],q=C[Z+2]-C[W+2];return s*s+f*f+q*q}var l=0,x=0;
function t(C,Z,W,s){x++;if(s<l)l=s;C[s].push(Z,W)}function h(C){x--;while(C[l].length==0)l++}function V(C,Z,W,s,f){l=0;
x=0;var q=Z*W,g=Math.round(Math.min(Z,W)/(s?s:50)),X=0,J=16;if(g==0)g=1;var i=(f?f:30)/g,u=Math.floor(Z/g),I=Math.floor(W/g),Y=new Uint16Array(q);
for(var m=0;m<q;m++)Y[m]=65535;var U=_(C,Z,W,u,I,g),F=U.length>>>1;if(F>65535)throw F;var N=[];for(var m=0;
m<1e3+W;m++)N.push([]);var o=[0,1,0,-1,-1,0,1,0],c=Math.min(I,5),p=new Uint32Array(F*6);for(var d=0;
d<I;d+=c){var k=Math.min(d+c+1,I);for(var A=d;A<k;A++)for(var $=0;$<u;$++){var m=A*u+$,K=m*2,G=U[K+1]<<16|U[K];
t(N,G,m,U[K+1]>>>J)}var z=Math.min(W,k*g);if(d+c>=I)z=W;while(x!=0){h(N);var M=N[l].pop(),hl=N[l].pop(),j=hl>>>16,w=hl&65535,m=j*Z+w;
if(Y[m]==65535){var B=M*6,bB=m<<2;Y[m]=M;p[B]+=C[bB];p[B+1]+=C[bB+1];p[B+2]+=C[bB+2];p[B+3]+=w;p[B+4]+=j;
p[B+5]++;var bG=j>>>J;if(j!=z-1&&Y[m+Z]==65535)t(N,j+1<<16|w,M,y(C,Z,i,w,j+1,p,B)+bG);if(j!=0&&Y[m-Z]==65535)t(N,j-1<<16|w,M,y(C,Z,i,w,j-1,p,B)+bG);
if(w!=0&&Y[m-1]==65535)t(N,j<<16|w-1,M,y(C,Z,i,w-1,j,p,B)+bG);if(w!=Z-1&&Y[m+1]==65535)t(N,j<<16|w+1,M,y(C,Z,i,w+1,j,p,B)+bG)}}if(z!=j){var eb=(d+c)*u;
p.fill(0,eb*6,(eb+u)*6);for(var j=(d+c-2)*g;j<z;j++)for(var w=0;w<Z;w++){var m=j*Z+w;if(Y[m]>=eb){Y[m]=65535}}}}return{ye:Y,Ai:F,qr:p}}Q.j8.eD=function(C,Z,W,s,f){var q=C.Ai,g=Z*W,i=C.qr,u=C.ye,I=e(s,u,q,g),Y=new UnionFind(q),J=0;
for(var U=1;U<W;U++)for(var F=1;F<Z;F++){var m=U*Z+F,N=u[m],o=0;if((o=u[m-1])!=N&&I[o]==I[N]&&r(i,0,N*6,o*6)<f)Y.link(N,o);
if((o=u[m-Z])!=N&&I[o]==I[N]&&r(i,0,N*6,o*6)<f)Y.link(N,o)}var X=new Uint16Array(q);X.fill(65535);var c=new Uint16Array(q);
for(var m=0;m<q;m++){var p=Y.find(m);if(X[p]==65535)X[p]=J++;c[m]=X[p]}var d=new Uint16Array(g);for(var m=0;
m<g;m++)d[m]=c[u[m]];return{ye:d,Ai:J}};Q.j8.ayK=function(C,Z,W,s){var f=Q.Q(W),q=Z.length,g=0;for(var m=0;
m<q&&g!=3;m++){var i=s[m];if(i==0||i==255){var u=Z[m],I=2-(i>>>7);f[u]=g=f[u]|I}}return g!=3};function y(C,Z,W,s,f,q,g){var i=(f*Z+s)*4,u=q[g+5],I=1/u,Y=C[i]*u-q[g],U=C[i+1]*u-q[g+1],F=C[i+2]*u-q[g+2],N=s*u-q[g+3],o=f*u-q[g+4],X=Math.sqrt(Y*Y+U*U+F*F),J=Math.sqrt(N*N+o*o);
return~~((X+W*J)*I+.5)}function r(C,Z,W,s){var f=1/C[W+5],q=1/C[s+5],g=C[W]*f-C[s]*q,i=C[W+1]*f-C[s+1]*q,u=C[W+2]*f-C[s+2]*q,I=C[W+3]*f-C[s+3]*q,Y=C[W+4]*f-C[s+4]*q,U=Math.sqrt(g*g+i*i+u*u),F=Math.sqrt(I*I+Y*Y);
return~~(U+Z*F+.5)}function E(C,Z,W){var s=Q.S4(C,new a8(0,0,Z,W)),f=s.rect.a,q=s.rect.n,g=V(s.sw,f,q),i=g.ye,u=Date.now(),I=new Uint16Array(Z*W);
I.fill(65535);for(var Y=0;Y<q;Y++){for(var U=0;U<f;U++){var F=Y*f+U,m=(Y<<1)*Z+(U<<1),N=i[F];if(i[F-f]!=N||i[F-1]!=N||i[F+1]!=N||i[F+f]!=N)N=65535;
I[m]=N;I[m+1]=N;I[m+Z]=N;I[m+Z+1]=N}}g.ye=I;return g}function a(C,Z){var m=0,W=C.length;while(m!=W&&C[m]!=Z)m+=2;
return m==W?-1:m}function S(C,m){if(m==C.length-2){C.pop();C.pop()}else{C[m+1]=C.pop();C[m]=C.pop()}}Q.j8.ayp=function(C,Z,W,s,f){var q=new Uint32Array(f*4400),n=[];
for(var m=0;m<f;m++)n.push([]);for(var g=0;g<W;g++)for(var i=0;i<Z;i++){var m=g*Z+i,u=m<<2,I=s[m],Y=0,U=C[u]>>>4,F=C[u+1]>>>4,N=C[u+2]>>>4;
q[I*4400+(U<<8|F<<4|N)]++;q[I*4400+4096]++;q[I*4400+4100+(U<<4|F)]++;q[I*4400+4360+U]++;if(i!=0&&(Y=s[m-1])!=I&&a(n[I],Y)==-1){n[I].push(Y,0);
n[Y].push(I,0)}if(g!=0&&(Y=s[m-Z])!=I&&a(n[I],Y)==-1){n[I].push(Y,0);n[Y].push(I,0)}}for(var m=0;m<f;
m++){var N=n[m];for(var o=0;o<N.length;o+=2)N[o+1]=T(q,m,N[o])}return[q,n]};function e(C,Z,W,s){var f=Q.Q(W);
for(var m=0;m<s;m++){var q=C[m];if(q==0||q==255)f[Z[m]]=2-(q>>>7)}return f}Q.j8.a2o=function(C,Z,W,s,f,q,g){var i=Z*W,u=g[0],n=g[1],I=new UnionFind(s),Y=e(f,C,s,i),U=-1,F=!0,N=0;
for(var m=0;m<s;m++)if(Y[m]==1){if(U==-1)U=m;else I.link(m,U)}if(U==-1){for(var m=0;m<i;m++)q[m]=f[m]==255?255:0;
return}while(F){while(F){F=!1;for(var m=0;m<s;m++){if(Y[m]==0){var o=P(n[m]);if(Y[o]==1){Y[m]=Y[o];F=!0;
I.link(m,o)}}}}F=!0;N=0;while(F){F=!1;for(var m=0;m<s;m++){if(Y[m]==0){var o=P(n[m]);if(Y[o]==0){var X=m*4400,J=o*4400;
for(var c=0;c<4400;c+=2){u[X+c]+=u[J+c];u[X+c+1]+=u[J+c+1]}b(n,u,m,o);N++;Y[o]=3;F=!0;I.link(m,o)}}}}F=N!=0}var p=I.find(U);
for(var m=0;m<s;m++)Y[m]=I.find(m)==p?255:0;for(var m=0;m<i;m++){q[m]=Y[C[m]]}for(var m=0;m<i;m++){var o=f[m];
if(o==0||o==255)q[m]=o}};function P(C){var Z=0,W=0,s=C.length;for(var f=0;f<s;f+=2){var q=C[f+1];if(q>W){W=q;
Z=f}}return C[Z]}function b(n,C,Z,W){var s=n[Z],f=n[W];S(s,a(s,W));S(f,a(f,Z));for(var m=0;m<f.length;
m+=2){var q=f[m],g=n[q];S(g,a(g,W));if(a(g,Z)==-1){g.push(Z,0);s.push(q,0)}}for(var m=0;m<s.length;m+=2){var q=s[m],g=n[q],i=T(C,Z,q);
s[m+1]=i;g[a(g,Z)+1]=i}}function T(C,Z,W){var s=0,f=4096,q=Z*4400,g=W*4400;for(var i=0;i<16;i++){if(C[q+4360+i]==0||C[g+4360+i]==0)continue;
for(var u=0;u<16;u++){var I=i<<4|u;if(C[q+4100+I]==0||C[g+4100+I]==0)continue;var Y=q+(I<<4),U=g+(I<<4);
for(var m=0;m<16;m++)s+=Math.sqrt(C[Y+m]*C[U+m])}}var F=s/Math.sqrt(C[q+f]*C[g+f]);return~~(999.99999*F)}return V}();
Q.EZ={};Q.EZ.a15=function(){var _=11,n=7,O=_>>>1,ab=n>>>1,l=2,x=2e3/l,t=[],V=null,y="";function h(E,a,S){var e=(E[a+0]-E[S+0])*(1/255),P=(E[a+1]-E[S+1])*(1/255),b=(E[a+2]-E[S+2])*(1/255),T=(E[a+3]-E[S+3])*(1/255),C=e*e*.125+P*P*.25+b*b*.5+T*T;
return t[~~(C*x)]}function r(E,a,S,e,P,b){var T=Date.now(),C=Q.Q(a*S);Q.mx(E,C);var Z=UZIP.adler(C,0,a*S);
if(Z!=y){var W=Q.lN(C,a,S);V=Q.Q(a*S*4);y=Z;var s=[1,1/9,1/25,1/49,1/81];for(var f=0;f<S;f++)for(var q=0;
q<a;q++)for(var m=0;m<4;m++){var g=Math.max(1,q-m),i=Math.min(a-1,q+m),u=Math.max(1,f-m),I=Math.min(S-1,f+m),Y=Q.KP(W,a,g,i,u,I);
if(isNaN(Y))throw q+","+f+","+m+","+Y;V[(f*a+q)*4+m]=Y*s[m]}}if(ex.kj){var U=ex.bk(0,a,S);U.set(E);var F=ex.bk(1,a,S);
F.set(V);var N=ex.bk(2,a,S);ex.QC(N);ex.filter.iT({type:ex.filter.axc,qc:new Float32Array([1/a,1/S]),akt:F.P8,an2:P,agj:b},U.P8);
N.get(e)}else{for(var m=0;m<2e3;m++)t[m]=Math.exp(-(m/2e3)*l*(100+(1-P)*(1-P)*1e4));var o=ab+2;for(var f=o;
f<S-o;f++)for(var q=o;q<a-o;q++){var X=0,J=0,c=0,p=0;for(var d=0;d<_;d++)for(var k=0;k<_;k++){var A=q+k-O,$=f+d-O;
if(A==q&&$==f||A<o||$<o||A>=a-o||$>=S-o)continue;var K=h(V,(f*a+q)*4,($*a+A)*4),G=$*a+A<<2;X+=K*E[G+0];
J+=K*E[G+1];c+=K*E[G+2];p+=K}if(p==0){continue}var z=1/p,M=(f*a+q)*4;e[M+0]=~~((1-b)*z*X+b*e[M+0]);e[M+1]=~~((1-b)*z*J+b*e[M+1]);
e[M+2]=~~((1-b)*z*c+b*e[M+2])}}}return r}();Q.aoa=function(){var _=6,n=_>>>1,O=[[-.0662912607,-.0855816496],[.1104854346,-.0855816496],[.6629126074,.1711632992],[.6629126074,.1711632992],[.1104854346,-.0855816496],[-.0662912607,-.0855816496],[0,0],[0,0]],l=[[-.0662912607,.0855816496],[-.1104854346,-.0855816496],[.6629126074,-.1711632992],[-.6629126074,.1711632992],[.1104854346,.0855816496],[.0662912607,-.0855816496],[0,0],[0,0]];
function x(b,T){var C=!1,Z=b.length,W=T[0],g=5,u=0,I=0;for(var m=1;m<Z;m++)W=W.uG(T[m]);if((W.a&1)!=0)W.a++;
if((W.n&1)!=0)W.n++;var s=W.a,f=W.n,q=Math.max(s,f);while(q>>>g>8&&g<10)g++;var i=1<<g;if(s%i!=0)u=i-s%i;
if(f%i!=0)I=i-f%i;W.nQ(u>>>1,I>>>1);s=W.a;f=W.n;if(s%i!=0||f%i!=0)throw"e";var Y=Date.now(),U=[],F=Q.Q(W.O()),N=[],o=s*f,X=new Float32Array(s*f*2);
for(var m=0;m<Z;m++){var J=T[m],c=Q.Q(J.O());Q.mx(b[m],c);F.fill(0);Q.pc(c,J,F,W);U.push(F.slice(0));
var p=J.x-W.x,d=J.y-W.y,k=p+J.a-2,A=d+J.n;for(var $=0;$<J.n;$++){var K=($+d)*s;for(var G=0;G<p;G++)F[K+G]=F[K+p];
for(var G=k;G<s;G++)F[K+G]=F[K+k-1]}for(var G=0;G<s;G++){for(var $=0;$<d;$++)F[$*s+G]=F[d*s+G];for(var $=A;
$<f;$++)F[$*s+G]=F[(A-1)*s+G]}var z=new Float32Array(s*f*2);N.push(z);for(var M=0;M<o;M++)z[M*2]=F[M]*(1/255);
y(z,X,s,f,g);t(z,s,f,g)}if(C)console.log("to gray, decompose",Date.now()-Y);Y=Date.now();var hl=Q.Q(s*f);
for(var $=0;$<f;$++)for(var G=0;G<s;G++){var j=0,w=0,B=$*s+G<<1;for(var m=0;m<Z;m++){var bB=N[m],bG=bB[B],eb=bB[B+1],fe=bG*bG+eb*eb;
if(fe>w){w=fe;j=m}}hl[B>>>1]=j}if(C)console.log("max abs value",Date.now()-Y);Y=Date.now();h(hl,s,f,g);
V(hl,s,f);if(C)console.log("denoise",Date.now()-Y);Y=Date.now();var gB=X.slice(0);for(var $=0;$<f;$++)for(var G=0;
G<s;G++){var m=$*s+G,B=m<<1,hp=N[hl[m]];gB[B]=hp[B];gB[B+1]=hp[B+1]}r(gB,X,s,f,g);if(C)console.log("compose",Date.now()-Y);
Y=Date.now();for(var M=0;M<o;M++){var fe=gB[M*2]*255,j=0,w=1e9;for(var m=0;m<Z;m++){var g6=Math.abs(U[m][M]-fe);
if(g6<w){w=g6;j=m}U[m][M]=0}U[j][M]=255}if(C)console.log("toRGB",Date.now()-Y);Y=Date.now();return[U,W]}function t(b,T,C,Z){var W=T>>>Z,s=C>>>Z,f=1e-4;
for(var q=0;q<C;q++)for(var g=0;g<T;g++){if(g<W&&q<s)continue;var i=(q*T+g)*2,u=b[i],I=b[i+1],Y=u*u+I*I;
if(Y<f)u=I=0;else{var U=(Y-f)/Y;u*=U;I*=U}b[i]=u;b[i+1]=I}}function h(b,T,C,Z){for(var W=0;W<Z;W++){var s=T>>>W,f=C>>>W,q=s>>>1,g=f>>>1;
for(var i=0;i<g;i++)for(var u=0;u<q;u++){var I=i*T+q+u,Y=(i+g)*T+q+u,U=(i+g)*T+u,F=b[I],N=b[Y],o=b[U];
if(F==N==o){}else if(F==N)b[U]=F;else if(N==o)b[I]=N;else if(F==o)b[Y]=F}}}function V(b,T,C){for(var Z=1;
Z<C-1;Z++)for(var W=1;W<T-1;W++){var m=Z*T+W,s=b[m-T],f=b[m-1],q=b[m],g=b[m+1],i=b[m+T],u=s==f&&s==g||s==g&&g==i||g==i&&f==i||s==f&&i==f;
if(u)b[m]=s==f?s:f==g?f:s;else if(q>s&&q>f&&q>g&&q>i)b[m]=s+f+g+i>>>2;else if(q<s&&q<f&&q<g&&q<i)b[m]=s+f+g+i>>>2}}function y(b,T,C,Z,W){for(var m=0;
m<W;m++){var s=C>>>m,f=Z>>>m;E(b,T,C,Z,s,f)}}function r(b,T,C,Z,W){for(var m=W-1;m>=0;m--){var s=C>>m,f=Z>>m;
a(b,T,C,Z,s,f)}}function E(b,T,C,Z,W,s){e(b,T,C,Z,W,s,!0);e(T,b,C,Z,W,s,!1)}function a(b,T,C,Z,W,s){P(b,T,C,Z,W,s,!0);
P(T,b,C,Z,W,s,!1)}function S(b,T,C,Z,W,s){var f=C*Z+T<<1;b[f]=W;b[f+1]=s}function e(b,T,C,Z,W,s,f){var er=f?W:s,q=f?s:W,g=q>>>1;
for(var i=0;i<er;i++){for(var u=0;u<q;u+=2){var I=0,Y=0,U=0,F=0,N=u>>>1;for(var o=0;o<6;o++){var X=u+o-3;
if(X<0)X=q+X;if(X>=q)X=X-q;var J=(f?X*C+i:i*C+X)<<1,c=b[J],p=b[J+1],d=O[o],k=l[o];I+=c*d[0]-p*d[1];Y+=p*d[0]+c*d[1];
U+=c*k[0]-p*k[1];F+=p*k[0]+c*k[1]}if(f){S(T,i,N,C,I,Y);S(T,i,N+g,C,U,F)}else{S(T,N,i,C,I,Y);S(T,N+g,i,C,U,F)}}}}function P(b,T,C,Z,W,s,f){var er=f?W:s,q=f?s:W,g=q>>>1,i,u,I,Y;
for(var U=0;U<er;U++){for(var F=0;F<q;F++){var N=0,o=0;for(var X=F+3&1;X<6;X+=2){var J=F-X+3>>1;if(J<0)J=g+J;
if(J>=g)J=J-g;if(f){i=U;u=J;I=U;Y=J+g}else{u=U;i=J;Y=U;I=J+g}var c=u*C+i<<1,p=Y*C+I<<1,d=b[c],k=b[c+1],A=b[p],$=b[p+1],K=O[X],G=l[X];
N+=d*K[0]+A*G[0];N+=k*K[1]+$*G[1];o+=k*K[0]+$*G[0];o-=d*K[1]+A*G[1]}if(f)S(T,U,F,C,N,o);else S(T,F,U,C,N,o)}}}return{DL:x}}();
var a2=function(){function _(){this.O=0;this.mY=0;this.wm={};this.u5=[];this.DS=1e5;this.MG=1e5;this.Ml=-1;
this.hN=-1;this.color=0}function n(ab){this.uR=ab;this.D$=new Array(ab);this.av=new Array(ab*6);this.ah3=0;
this.Mg=new Array(ab*2);this.alpha=new Array(ab);this.R4=new Array(ab);this.FJ=new Array(ab)}function O(x,t,h,V){function y(T,C,x,t){return x[t*C+T]}function r(m){var g=x.length;
while(m<g&&x[m]==0)m++;return m<g?m:-1}function E(T,C,g){for(var m=2;m<5;m++){var i=0;for(var u=-m+1;
u<=m-1;u++){i+=y(T+u,C+m-1,x,t)==g?1:-1;i+=y(T+m-1,C+u-1,x,t)==g?1:-1;i+=y(T+u-1,C-m,x,t)==g?1:-1;i+=y(T-m,C+u,x,t)==g?1:-1}if(i>0)return 1;
else if(i<0)return 0}return 0}function a(g,P){var b=new _,T=g,C=P,i=0,u=1,I;b.color=x[P*t+g];b.sign=y(g,P,x,t)==b.color?"+":"-";
while(1){b.u5.push(T,C);if(T>b.Ml)b.Ml=T;if(T<b.DS)b.DS=T;if(C>b.hN)b.hN=C;if(C<b.MG)b.MG=C;b.mY++;T+=i;
C+=u;b.O-=T*u;if(T==g&&C==P)break;var Y=y(T+(i+u-1>>1),C+(u-i-1>>1),x,t)==b.color,U=y(T+(i-u-1>>1),C+(u+i-1>>1),x,t)==b.color;
if(U&&!Y){if(V.Rn=="right"||V.Rn=="black"&&b.sign=="+"||V.Rn=="white"&&b.sign=="-"||V.Rn=="majority"&&E(T,C,b.color)||V.Rn=="minority"&&!E(T,C,b.color)){I=i;
i=-u;u=I}else{I=i;i=u;u=-I}}else if(U){I=i;i=-u;u=I}else if(!Y){I=i;i=u;u=-I}}return b}var S=0,e=[];
while(!0){var S=r(S);if(S==-1)break;var P=Math.floor(S/t),b=a(S-P*t,P);for(var m=0;m<b.u5.length-2;m+=2){var T=b.u5[m],C=b.u5[m+1],Z=C*t+T;
if(T==b.u5[m+2]&&C+1==b.u5[m+3]&&x[Z]!=0)a2.fill(Z,x,t,0)}if(b.O>V.an4)e.push(b)}for(var m=0;m<e.length;
m++)e[m].parent=-1;var W=Date.now();for(var m=1;m<e.length;m++){var s=e[m];for(var f=m-1;f>=0;f--){var q=e[f];
if(s.DS<q.DS||s.Ml>q.Ml||s.MG<q.MG||s.hN>q.hN)continue;if(!a2.WI(q.u5,s.u5[0]+.5,s.u5[1]+.5))continue;
s.parent=f;break}}return e}function l(x,t){function h(i,u,I,Y,U){this.x=i;this.y=u;this.Y3=I;this.wC=Y;
this.gh=U}function V(i,ab){return(ab+i)%ab}function y(i,u,I,Y){return i*Y-I*u}function r(i,u,I,Y){return i*I+u*Y}function E(i,u,I){if(i<=I)return i<=u&&u<I;
else return i<=u||u<I}function a(i,u,I){var Y=0;Y+=u*i[0]*u;Y+=u*i[1]*I;Y+=u*i[2];Y+=I*i[3]*u;Y+=I*i[4]*I;
Y+=I*i[5];Y+=i[6]*u;Y+=i[7]*I;Y+=i[8];return Y}function S(i,u,I){return u+i*(I-u)}function e(i,u,I,Y){var U=Math.sign(I-i),F=-Math.sign(Y-u);
return U*(I-i)-F*(Y-u)}function P(i,u){return Math.sqrt(i*i+u*u)}function b(i,u,I,Y,U){var F=1-i;return F*F*F*u+3*(F*F*i)*I+3*(i*i*F)*Y+i*i*i*U}function T(i,u,I,Y,U,F,N,o){var X=y(i,u,N,o),J=y(I,Y,N,o),c=y(U,F,N,o),p=X-2*J+c,d=-2*X+2*J,k=X,A=d*d-4*p*k;
if(p==0||A<0)return-1;var $=Math.sqrt(A),K=(-d+$)/(2*p),G=(-d-$)/(2*p);if(K>=0&&K<=1)return K;else if(G>=0&&G<=1)return G;
else return-1}function C(g){var m,i,u;g.y5=g.u5[0];g.ako=g.u5[1];g.pg=[];var I=g.pg;I.push(new h(0,0,0,0,0));
for(m=0;m<g.mY;m++){i=g.u5[m<<1]-g.y5;u=g.u5[(m<<1)+1]-g.ako;I.push(new h(I[m].x+i,I[m].y+u,I[m].Y3+i*u,I[m].wC+i*i,I[m].gh+u*u))}}function Z(g){var ab=g.mY,i=g.u5,u,I=new Array(ab),Y=new Array(ab),U=new Array(4),F,N,o,X,J,c,p,d,k,A,$,m,K,G,z,M,hl,j,w=0;
g.Qh=new Array(ab);for(m=ab-1;m>=0;m--){if(i[m<<1]!=i[w<<1]&&i[(m<<1)+1]!=i[(w<<1)+1])w=m+1;Y[m]=w}for(m=ab-1;
m>=0;m--){var B=V(m+1,ab)<<1;U[0]=U[1]=U[2]=U[3]=0;u=(3+3*(i[B]-i[m<<1])+(i[B+1]-i[(m<<1)+1]))/2;U[u]++;
F=0;N=0;o=0;X=0;w=Y[m];G=m;while(1){$=0;u=(3+3*Math.sign(i[w*2]-i[G*2])+Math.sign(i[w*2+1]-i[G*2+1]))/2;
U[u]++;if(U[0]&&U[1]&&U[2]&&U[3]){I[m]=G;$=1;break}k=i[w*2]-i[m*2];A=i[w*2+1]-i[m*2+1];if(y(F,N,k,A)<0||y(o,X,k,A)>0){break}if(Math.abs(k)<=1&&Math.abs(A)<=1){}else{J=k+(A>=0&&(A>0||k<0)?1:-1);
c=A+(k<=0&&(k<0||A<0)?1:-1);if(y(F,N,J,c)>=0){F=J;N=c}J=k+(A<=0&&(A<0||k<0)?1:-1);c=A+(k>=0&&(k>0||A<0)?1:-1);
if(y(o,X,J,c)<=0){o=J;X=c}}G=w;w=Y[G];if(!E(w,m,G)){break}}if($==0){p=Math.sign(i[w*2]-i[G*2]);d=Math.sign(i[w*2+1]-i[G*2+1]);
k=i[G*2]-i[m*2];A=i[G*2+1]-i[m*2+1];z=y(F,N,k,A);M=y(F,N,p,d);hl=y(o,X,k,A);j=y(o,X,p,d);K=1e7;if(M<0){K=Math.floor(z/-M)}if(j>0){K=Math.min(K,Math.floor(-hl/j))}I[m]=V(G+K,ab)}}K=I[ab-1];
g.Qh[ab-1]=K;for(m=ab-2;m>=0;m--){if(E(m+1,I[m],K)){K=I[m]}g.Qh[m]=K}for(m=ab-1;E(V(m+1,ab),K,g.Qh[m]);
m--){g.Qh[m]=K}}function W(g){function i(g,m,u){var ab=g.mY,k=g.u5,A=g.pg,$,K,G,z,M,Y,hl,j,d,w,B,bB,bG,eb,fe=0;
if(u>=ab){u-=ab;fe=1}if(fe==0){$=A[u+1].x-A[m].x;K=A[u+1].y-A[m].y;z=A[u+1].wC-A[m].wC;G=A[u+1].Y3-A[m].Y3;
M=A[u+1].gh-A[m].gh;Y=u+1-m}else{$=A[u+1].x-A[m].x+A[ab].x;K=A[u+1].y-A[m].y+A[ab].y;z=A[u+1].wC-A[m].wC+A[ab].wC;
G=A[u+1].Y3-A[m].Y3+A[ab].Y3;M=A[u+1].gh-A[m].gh+A[ab].gh;Y=u+1-m+ab}B=(k[m<<1]+k[u<<1])/2-k[0];bB=(k[(m<<1)+1]+k[(u<<1)+1])/2-k[1];
eb=k[u<<1]-k[m<<1];bG=-(k[(u<<1)+1]-k[(m<<1)+1]);hl=(z-2*$*B)/Y+B*B;j=(G-$*bB-K*B)/Y+B*bB;d=(M-2*K*bB)/Y+bB*bB;
w=bG*bG*hl+2*bG*eb*j+eb*eb*d;return Math.sqrt(w)}var m,u,I,Y,ab=g.mY,U=new Array(ab+1),F=new Array(ab+1),N=new Array(ab),o=new Array(ab+1),X=new Array(ab+1),J=new Array(ab+1),c,p,d;
for(m=0;m<ab;m++){d=V(g.Qh[V(m-1,ab)]-1,ab);if(d==m){d=V(m+1,ab)}if(d<m){N[m]=ab}else{N[m]=d}}u=1;for(m=0;
m<ab;m++){while(u<=N[m]){o[u]=m;u++}}m=0;for(u=0;m<ab;u++){X[u]=m;m=N[m]}X[u]=ab;I=u;m=ab;for(u=I;u>0;
u--){J[u]=m;m=o[m]}J[0]=0;U[0]=0;for(u=1;u<=I;u++){for(m=J[u];m<=X[u];m++){p=-1;for(Y=X[u-1];Y>=o[m];
Y--){c=i(g,Y,m)+U[Y];if(p<0||c<p){F[m]=Y;p=c}}U[m]=p}}g.aub=I;g.acb=new Array(I);for(m=ab,u=I-1;m>0;
u--){m=F[m];g.acb[u]=m}}function s(g){function i(g,m,c,N,o,gB){var ab=g.mY,hp=g.pg,g6=0,d;while(c>=ab){c-=ab;
g6+=1}while(m>=ab){m-=ab;g6-=1}while(c<0){c+=ab;g6-=1}while(m<0){m+=ab;g6+=1}var by=hp[c+1].x-hp[m].x+g6*hp[ab].x,e7=hp[c+1].y-hp[m].y+g6*hp[ab].y,aN=hp[c+1].wC-hp[m].wC+g6*hp[ab].wC,jK=hp[c+1].Y3-hp[m].Y3+g6*hp[ab].Y3,f7=hp[c+1].gh-hp[m].gh+g6*hp[ab].gh,p=c+1-m+g6*ab;
N[gB]=by/p;N[gB+1]=e7/p;var hW=(aN-by*by/p)/p,km=(jK-by*e7/p)/p,ca=(f7-e7*e7/p)/p,aU=(hW+ca+Math.sqrt((hW-ca)*(hW-ca)+4*km*km))/2;
hW-=aU;ca-=aU;if(Math.abs(hW)>=Math.abs(ca)){d=Math.sqrt(hW*hW+km*km);if(d!=0){o[gB]=-km/d;o[gB+1]=hW/d}}else{d=Math.sqrt(ca*ca+km*km);
if(d!=0){o[gB]=-ca/d;o[gB+1]=km/d}}if(d==0){o[gB]=o[gB+1]=0}}var u=g.aub,I=g.acb,ab=g.mY,Y=g.u5,U=g.y5,F=g.ako,N=new Array(u*2),o=new Array(u*2),X=new Array(u),J=new Array(3),m,c,p,d,K,G,z,M,hl,j,w;
g.wm=new n(u);for(m=0;m<u;m++){c=I[V(m+1,u)];c=V(c-I[m],ab)+I[m];N[m<<1]=0;N[(m<<1)+1]=0;o[m<<1]=0;o[(m<<1)+1]=0;
i(g,I[m],c,N,o,m<<1)}for(m=0;m<u;m++){X[m]=[0,0,0,0,0,0,0,0,0];var k=o[m<<1]*o[m<<1]+o[(m<<1)+1]*o[(m<<1)+1],A=1/k;
if(k!=0){J[0]=o[(m<<1)+1];J[1]=-o[m<<1];J[2]=-J[1]*N[(m<<1)+1]-J[0]*N[m<<1];for(d=0;d<3;d++){X[m][d*3+0]=J[d]*J[0]*A;
X[m][d*3+1]=J[d]*J[1]*A;X[m][d*3+2]=J[d]*J[2]*A}}}var $=[0,0,0,0,0,0,0,0,0];for(m=0;m<u;m++){$[0]=$[1]=$[2]=$[3]=$[4]=$[5]=$[6]=$[7]=$[8]=$[9]=0;
var B=Y[I[m]<<1]-U,bB=Y[(I[m]<<1)+1]-F,bG=0,eb=0;c=V(m-1,u);for(d=0;d<9;d+=3){$[d+0]=X[c][d+0]+X[m][d+0];
$[d+1]=X[c][d+1]+X[m][d+1];$[d+2]=X[c][d+2]+X[m][d+2]}while(1){var fe=$[0]*$[4]-$[1]*$[3];if(fe!=0){bG=(-$[2]*$[4]+$[5]*$[0])/fe;
eb=($[2]*$[3]-$[5]*$[0])/fe;break}if($[0]>$[4]){J[0]=-$[1];J[1]=$[0]}else if($[4]){J[0]=-$[4];J[1]=$[3]}else{J[0]=1;
J[1]=0}var k=J[0]*J[0]+J[1]*J[1],A=1/k;J[2]=-J[1]*bB-J[0]*B;for(d=0;d<3;d++){$[d*3+0]+=J[d]*J[0]*A;$[d*3+1]+=J[d]*J[1]*A;
$[d*3+2]+=J[d]*J[2]*A}}K=Math.abs(bG-B);G=Math.abs(eb-bB);if(K<=.5&&G<=.5){g.wm.Mg[m<<1]=bG+U;g.wm.Mg[(m<<1)+1]=eb+F;
continue}z=a($,B,bB);hl=B;j=bB;if($[0]!=0){for(w=0;w<2;w++){eb=bB-.5+w;bG=-($[1]*eb+$[2])/$[0];K=Math.abs(bG-B);
M=a($,bG,eb);if(K<=.5&&M<z){z=M;hl=bG;j=eb}}}if($[4]!=0){for(w=0;w<2;w++){bG=B-.5+w;eb=-($[3]*bG+$[5])/$[4];
G=Math.abs(eb-bB);M=a($,bG,eb);if(G<=.5&&M<z){z=M;hl=bG;j=eb}}}for(d=0;d<2;d++){for(p=0;p<2;p++){bG=B-.5+d;
eb=bB-.5+p;M=a($,bG,eb);if(M<z){z=M;hl=bG;j=eb}}}g.wm.Mg[m<<1]=hl+U;g.wm.Mg[(m<<1)+1]=j+F}}function f(g){var i=g.wm.uR,u=g.wm,m,I,Y,U,F,N,o,X,J;
for(m=0;m<i;m++){I=V(m+1,i);Y=V(m+2,i);var c=u.Mg[m<<1],p=u.Mg[(m<<1)+1],d=u.Mg[Y<<1],k=u.Mg[(Y<<1)+1],A=u.Mg[I<<1],$=u.Mg[(I<<1)+1],K=S(.5,d,A),G=S(.5,k,$);
F=e(c,p,d,k);if(F!=0){U=y(A-c,$-p,d-c,k-p)/F;U=Math.abs(U);N=U>1?1-1/U:0;N=N*(1/.75)}else{N=4/3}u.R4[I]=N;
var z=3*I<<1;if(N>=t.aoC){u.D$[I]=0;u.av[z+0]=u.av[z+1]=0;u.av[z+2]=A;u.av[z+3]=$;u.av[z+4]=K;u.av[z+5]=G}else{if(N<.55){N=.55}else if(N>1){N=1}var M=.5+.5*N;
u.D$[I]=1;u.av[z]=S(M,c,A);u.av[z+1]=S(M,p,$);u.av[z+2]=S(M,d,A);u.av[z+3]=S(M,k,$);u.av[z+4]=K;u.av[z+5]=G}u.alpha[I]=N;
u.FJ[I]=.5}u.aeL=1}function q(g){function i(){this.Ht=0;this.Ws=0;this.h6=0;this.AA=0;this.uW=0;this.Rv=0;
this.yj=0;this.alpha=0}function u(g,m,c,am,eA,hl,j){var Y=g.wm.uR,dj=g.wm.av,cM=g.wm.Mg;if(m==c)return 1;
var b2=m,A=V(m+1,Y),cm=V(b2+1,Y),jK=cM[m<<1],f7=cM[(m<<1)+1],az=cM[A<<1],j_=cM[(A<<1)+1],hh=hl[cm];if(hh==0)return 1;
var gs=P(jK-az,f7-j_);for(b2=cm;b2!=c;b2=cm){var cm=V(b2+1,Y),fI=V(b2+2,Y),c0=cM[cm<<1],ay=cM[(cm<<1)+1],fC=cM[fI<<1],jQ=cM[(fI<<1)+1];
if(hl[cm]!=hh)return 1;if(Math.sign(y(az-jK,j_-f7,fC-c0,jQ-ay))!=hh)return 1;if(r(az-jK,j_-f7,fC-c0,jQ-ay)<gs*P(c0-fC,ay-jQ)*-.999847695156)return 1}var fw=V(m,Y)*3+2<<1,aG=V(m+1,Y)<<1,a_=V(c,Y)<<1,el=V(c,Y)*3+2<<1,gB=dj[fw],hp=dj[fw+1],dD=cM[aG],ip=cM[aG+1],jn=cM[a_],af=cM[a_+1],iU=dj[el],hV=dj[el+1],w=cM[0],B=cM[1];
fw=c*3+2<<1;var gn=dj[fw],fY=dj[fw+1],$=j[c]-j[m];$-=y(gn-w,fY-B,gn-w,fY-B)/2;if(m>=c){$+=j[Y]}var e1=dD-gB,d6=ip-hp,fO=jn-gB,i$=af-hp,gy=iU-gB,fT=hV-hp,kl=y(e1,d6,fO,i$),fy=y(e1,d6,gy,fT),g$=y(fO,i$,gy,fT),bt=kl+g$-fy;
if(fy==kl)return 1;var M=g$/(g$-bt),z=fy/(fy-kl),jL=fy*M/2;if(jL==0)return 1;var c_=$/jL,K=2-Math.sqrt(4-c_/.3);
am.Ws=S(M*K,gB,dD);am.h6=S(M*K,hp,ip);am.AA=S(z*K,iU,jn);am.uW=S(z*K,hV,af);am.alpha=K;am.Rv=M;am.yj=z;
dD=am.Ws;ip=am.h6;jn=am.AA;af=am.uW;am.Ht=0;for(b2=V(m+1,Y);b2!=c;b2=cm){cm=V(b2+1,Y);var hr=cM[b2<<1],ew=cM[(b2<<1)+1],c0=cM[cm<<1],ay=cM[(cm<<1)+1];
M=T(dD-gB,ip-hp,jn-dD,af-ip,iU-jn,hV-af,c0-hr,ay-ew);if(M<-.5)return 1;var dL=b(M,gB,dD,jn,iU),cf=b(M,hp,ip,af,hV),gs=P(c0-hr,ay-ew);
if(gs==0)return 1;var eo=y(c0-hr,ay-ew,dL-hr,cf-ew)/gs;if(Math.abs(eo)>eA)return 1;if(r(c0-hr,ay-ew,dL-hr,cf-ew)<0||r(hr-c0,ew-ay,dL-c0,cf-ay)<0){return 1}am.Ht+=eo*eo}for(b2=m;
b2!=c;b2=cm){cm=V(b2+1,Y);var fw=b2*3+2<<1,aG=cm*3+2<<1,iz=dj[fw],kj=dj[fw+1],hL=dj[aG],ar=dj[aG+1];
M=T(dD-gB,ip-hp,jn-dD,af-ip,iU-jn,hV-af,hL-iz,ar-kj);if(M<-.5)return 1;var dL=b(M,gB,dD,jn,iU),cf=b(M,hp,ip,af,hV),gs=P(hL-iz,ar-kj);
if(gs==0)return 1;var eo=y(hL-iz,ar-kj,dL-iz,cf-kj)/gs,bD=y(hL-iz,ar-kj,cM[cm<<1]-iz,cM[(cm<<1)+1]-kj)/gs;
bD*=.75*g.wm.alpha[cm];if(bD<0){eo=-eo;bD=-bD}if(eo<bD-eA)return 1;if(eo<bD){am.Ht+=(eo-bD)*(eo-bD)}}return 0}var I=g.wm,Y=I.uR,U=I.Mg,F=new Array(Y+1),N=new Array(Y+1),o=new Array(Y+1),X=new Array(Y+1),J,m,c,p,d=new i,k,A,$,K,G,z,M,hl=new Array(Y),j=new Array(Y+1);
for(m=0;m<Y;m++){if(I.D$[m]=="CURVE"){var w=U[V(m-1,Y)<<1],B=U[(V(m-1,Y)<<1)+1],bB=U[m<<1],bG=U[(m<<1)+1],eb=U[V(m+1,Y)<<1],fe=U[(V(m+1,Y)<<1)+1];
hl[m]=Math.sign(y(bB-w,bG-B,eb-bB,fe-bG))}else{hl[m]=0}}$=0;j[0]=0;var gB=I.Mg[0],hp=I.Mg[1];for(m=0;
m<Y;m++){A=V(m+1,Y);if(I.D$[A]=="CURVE"){K=I.alpha[A];var g6=m*3+2<<1,by=A*3+2<<1,e7=I.av[g6],aN=I.av[g6+1],jK=U[A<<1],f7=U[(A<<1)+1],hW=I.av[by],km=I.av[by+1];
$+=.3*K*(4-K)*y(jK-e7,f7-aN,hW-e7,km-aN)/2;$+=y(e7-gB,aN-hp,hW-gB,km-hp)/2}j[m+1]=$}F[0]=-1;N[0]=0;o[0]=0;
for(c=1;c<=Y;c++){F[c]=c-1;N[c]=N[c-1];o[c]=o[c-1]+1;for(m=c-2;m>=0;m--){p=u(g,m,V(c,Y),d,t.afn,hl,j);
if(p){break}if(o[c]>o[m]+1||o[c]==o[m]+1&&N[c]>N[m]+d.Ht){F[c]=m;N[c]=N[m]+d.Ht;o[c]=o[m]+1;X[c]=d;d=new i}}}J=o[Y];
G=new n(J);z=new Array(J);M=new Array(J);c=Y;for(m=J-1;m>=0;m--){var ca=V(c,Y),aU=m*3+0<<1,eJ=ca*3+0<<1;
if(F[c]==c-1){G.D$[m]=I.D$[ca];G.av[aU]=I.av[eJ];G.av[aU+1]=I.av[eJ+1];G.av[aU+2]=I.av[eJ+2];G.av[aU+3]=I.av[eJ+3];
G.av[aU+4]=I.av[eJ+4];G.av[aU+5]=I.av[eJ+5];G.Mg[m<<1]=I.Mg[ca<<1];G.Mg[(m<<1)+1]=I.Mg[(ca<<1)+1];G.alpha[m]=I.alpha[ca];
G.R4[m]=I.R4[ca];G.FJ[m]=I.FJ[ca];z[m]=M[m]=1}else{G.D$[m]="CURVE";G.av[aU]=X[c].Ws;G.av[aU+1]=X[c].h6;
G.av[aU+2]=X[c].AA;G.av[aU+3]=X[c].uW;G.av[aU+4]=I.av[eJ+4];G.av[aU+5]=I.av[eJ+5];G.Mg[m<<1]=S(X[c].yj,I.av[eJ+4],U[ca<<1]);
G.Mg[(m<<1)+1]=S(X[c].yj,I.av[eJ+5],U[(ca<<1)+1]);G.alpha[m]=X[c].alpha;G.R4[m]=X[c].alpha;z[m]=X[c].yj;
M[m]=X[c].Rv}c=F[c]}for(m=0;m<J;m++){A=V(m+1,J);G.FJ[m]=z[m]/(z[m]+M[A])}G.aeL=1;g.wm=G}for(var m=0;
m<x.length;m++){var g=x[m];C(g);Z(g);W(g);s(g);f(g);if(t.a5V)q(g)}}return{a7D:O,a3S:l}}();a2.uL=function(_,n,O,l){var x={Rn:"minority",an4:l,a5V:!0,aoC:1,afn:.2},t=a2.a7D(_,n,O,x);
a2.a3S(t,x);return t};a2.cx=function(_){var n=[];for(var m=0;m<_.length;m++){var O=_[m],l=O.wm,x=["M"],t=[l.av[(l.uR-1)*6+4],l.av[(l.uR-1)*6+5]];
for(var h=0;h<l.uR;h++){var V=h*6;if(l.D$[h]==1){x.push("C");for(var y=0;y<6;y++)t.push(l.av[V+y])}else if(l.D$[h]==0){x.push("L");
for(var y=2;y<4;y++)t.push(l.av[V+y])}}x.push("Z");n.push({parent:O.parent,color:O.color,path:{C:t,F:x}})}return n};
a2.WI=function(_,n,O){var ab=_.length>>1,l,x=_[2*ab-3]-O,t=_[2*ab-2]-n,h=_[2*ab-1]-O,V=h>x,y=0;for(var m=0;
m<ab;m++){l=t;x=h;t=_[2*m]-n;h=_[2*m+1]-O;if(x==h)continue;V=h>x}for(var m=0;m<ab;m++){l=t;x=h;t=_[2*m]-n;
h=_[2*m+1]-O;if(x<0&&h<0)continue;if(x>0&&h>0)continue;if(l<0&&t<0)continue;if(x==h&&Math.min(l,t)<=0)return!0;
if(x==h)continue;var r=l+(t-l)*-x/(h-x);if(r==0)return!0;if(r>0)y++;if(x==0&&V&&h>x)y--;if(x==0&&!V&&h<x)y--;
V=h>x}return(y&1)==1};a2.fill=function(_,n,O,l){var x=n[_],t=[_],h=0;while(h<t.length){var V=t[h];h++;
n[V]=l;if(n[V-O]==x){t.push(V-O);n[V-O]=254}if(n[V-1]==x){t.push(V-1);n[V-1]=254}if(n[V+1]==x){t.push(V+1);
n[V+1]=254}if(n[V+O]==x){t.push(V+O);n[V+O]=254}}};var hQ=function(){function _(V){return Math.max(0,Math.min(1,V))}function n(V,y){var r=y<0?-y:y;
if(V>1)V=.99;V=V*.99;var E=Math.pow(r/5,.16),a=Math.pow(2,r<1?r:1+(r-1)*.8);if(y<0)a=1/a;V=E*(1-Math.pow(1-V,a))+(1-E)*V;
return V}function O(V,y){var r=y/100;V=V*.99;V=r*(.5-.5*Math.cos(V*Math.PI))+(1-r)*V;return V}var l=Q.fN.a1V(1,1,1,-.3),x=Q.fN.sJ(l);
function t(V,y,r,E,a,S,e){var P=V[r],b=V[r+1],T=V[r+2],C=Q.fN.Jl(l,[P,b,T,1]);P=C[0];b=C[1];T=C[2];P=n(P,E);
b=n(b,E);T=n(T,E);var C=Q.fN.Jl(x,[P,b,T,1]);P=C[0];b=C[1];T=C[2];P=_(P);b=_(b);T=_(T);P=O(P,a);b=O(b,a);
T=O(T,a);var Z=eT.avP(P,b,T,S);P=Z[0];b=Z[1];T=Z[2];P=_(P);b=_(b);T=_(T);if(e){var W=new Uint8Array(4);
W[0]=~~(.5+P*255);W[1]=~~(.5+b*255);W[2]=~~(.5+T*255);a3.Er(e,W,W,new a8(0,0,1,1));P=W[0]/255;b=W[1]/255;
T=W[2]/255}y[r]=P;y[r+1]=b;y[r+2]=T}function h(V,y,r,E,a,S){var e=a.Temp?a.Temp.v:0,P=a.Tint?a.Tint.v:0,b=a.Ex12?a.Ex12.v:0,T=a.Cr12?a.Cr12.v:0,C=a.Vibr?a.Vibr.v:0,Z=a.Strt?a.Strt.v:0,W=eT.pI(e,P),s=null;
b+=W.akA;if(C!=0||Z!=0)s=a3.ja("vibA",{Strt:a.Strt,vibrance:a.Vibr});console.log(s);var f=Date.now();
if(S){var q=Math.pow(2,b),g=V.length;b=0;var i=new Float32Array(4e3);for(var m=0;m<4e3;m++){var u=m*(1/1e3);
u=Q.CV(u);u*=q;u=Q.nM(u);u=_(u);i[m]=u}for(var m=0;m<g;m+=3){E[m]=i[~~(V[m]*1e3)];E[m+1]=i[~~(V[m+1]*1e3)];
E[m+2]=i[~~(V[m+2]*1e3)]}console.log(Date.now()-f,"Exposure normalizing");f=Date.now()}else E.set(V);
if(b!=0||T!=0||e!=0||P!=0||s){var I=17,Y=1/(I-1),U=I*I*I,F=new Array(U*3);for(var N=0;N<I;N++)for(var o=0;
o<I;o++)for(var X=0;X<I;X++){var m=N*I*I+o*I+X,J=m*3;F[J]=N*Y;F[J+1]=o*Y;F[J+2]=X*Y}for(var m=0;m<U;
m++)t(F,F,m*3,b,T,W,s);console.log(Date.now()-f,"making LUT");f=Date.now();ICC.U.applyLUTFloat(F,I,E,E);
console.log(Date.now()-f,"applying LUT");f=Date.now()}}return h}();function a7(){}a7.GQ=function(_){var n=new Uint8Array(_),O=0,l={y7:[],gg:[],list:[]},x=R.Pr(n,O);
O+=2;if(x<=2){return a7.af2(n)}var t=R.Pr(n,O);O+=2;var h=R.c$(n,O,8);O+=8;var V=R.v(n,O);O+=4;if(V>0)l.y7=a7.m4(n,O,V,t,x);
O+=V;var y=R.c$(n,O,8);O+=8;var r=R.v(n,O);O+=4;if(r>0)l.gg=aa.U$(n,O,r);O+=r;var E=R.c$(n,O,8);O+=8;
var a=R.v(n,O);O+=4;if(a>0){var S={};hu.Me(n,S,O+4);l.list=S.Brsh.v}O+=a;var e=l.list;for(var m=0;m<e.length;
m++){bL.MJ.check(e[m].v)}return l};a7.T7=function(_,n){_.v.Nm.v=n};a7.af2=function(_){var n={y7:[],gg:[],list:[]},O=0,l=R.Pr(_,O);
O+=2;var x=R.Pr(_,O);O+=2;for(var m=0;m<x;m++){var t=R.Pr(_,O);O+=2;var h=R.v(_,O);O+=4;var V=O;if(t==2){var y={};
n.y7.push(y);var r=R.v(_,V);V+=4;var E=R.Pr(_,V);V+=2;if(l==2){var a=R.Qa(_,V);V+=4+a.length*2+2}y.id=fJ.DA()+"-d71c-11e5-b1ae-a548a96e5f9f";
V++;V+=8;y.Sm=R.NU(_,V);V+=16;var S=R.Pr(_,V);V+=2;var e=_[V];V++;var P=j3.G2(!1,S,_,y.Sm.a,y.Sm.n,V,e);
a7._a(y,P);var b=bL.kw(y.id),T=b.Brsh.v;T.Dmtr.v.val=y.Sm.a;T.Spcn.v.val=E;n.list.push({t:"Objc",v:b})}O+=h}return n};
a7.QR=function(_){var n=new bc,O=0,l=0;R.hP(n,O,6);O+=2;R.hP(n,O,2);O+=2;R.eB(n,O,"8BIMsamp");O+=8;O+=4;
l=O;O=a7.V9(n,O,_.y7);R.ZI(n,l-4,O-l);R.eB(n,O,"8BIMpatt");O+=8;O+=4;l=O;O=aa.WF(n,O,_.gg);R.ZI(n,l-4,O-l);
var x={classID:"null",Brsh:{t:"VlLs",v:_.list}};R.eB(n,O,"8BIMdesc");O+=8;O+=4;l=O;R.ZI(n,O,16);O+=4;
O+=hu.Ur(n,x,O);R.ZI(n,l-4,O-l);return n.data.slice(0,O).buffer};a7.m4=function(_,n,O,l,x){var t=R.v,h=R.NU,V=n+O,y=[];
while(n<V){var r={};y.push(r);var E=t(_,n);n+=4;var a=n,S=R.B8(_,n);n+=S.length;r.id=S.N2;if(l==1){n+=9;
r.Sm=h(_,n);n+=16}else{n+=7;var e=t(_,n);n+=4;r.Sm=h(_,n);n+=16;var P=t(_,n);n+=4;n+=P*4;var b=t(_,n);
n+=4;var T=t(_,n);n+=4;var C=h(_,n);n+=16}var Z=R.Pr(_,n);n+=2;var W=_[n];n+=1;var s=j3.G2(!1,Z,_,r.Sm.a,r.Sm.n,n,W);
a7._a(r,s);if(E%4!=0)E+=4-E%4;n=a+E}return y};a7._a=function(_,n){var O=_.Sm.clone();O.x=O.y=0;_.vA=[n,O]};
a7.V9=function(_,n,O){var l=R.ZI,x=R.ui;for(var m=0;m<O.length;m++){var t=O[m],h=n+4,y=56,E=1;n+=4;R.Fr(_,n,t.id);
n+=t.id.length+2;_.hp(n,1);_.data[n]=1;n+=3;l(_,n,3);n+=4;var V=n;n+=4;x(_,n,t.Sm);n+=16;l(_,n,y);n+=4;
n+=y*4;l(_,n-4,1);var r=n;n+=4;l(_,n,8);n+=4;x(_,n,t.Sm);n+=16;R.hP(_,n,8);n+=2;_.hp(n,1);_.data[n]=E;
n++;var a=t.vA[0];_.hp(n,t.Sm.O()*2);n=j3.fz(!1,a,_.data,t.Sm.a,t.Sm.n,n,E);_.hp(n,8);n+=8;var S=n-h;
l(_,h-4,S);l(_,V,S-49);l(_,r,S-305);if(S%4!=0)n+=4-S%4}return n};function a4(){}a4.GQ=function(_,n){var O=new Uint8Array(_),l=[],x=0,t=R.Pr(O,x);
x+=2;if(t!=4){throw"Unknown version of curves: "+t}var h=R.Pr(O,x);x+=2;for(var m=0;m<h;m++){var V=a4.Hs(O,x);
x+=2+2*V.length;l.push(V)}if(x!=O.length){var y=R.c$(O,x,4);x+=4;var r=R.Pr(O,x);x+=2;var E=R.Pr(O,x);
x+=2;if(E!=0)throw"extra curves for channels"}var a=a4.vx(l,0);a.presetKind={t:"long",v:3};a.presetFileName={t:"TEXT",v:n.split("/").pop().split(".")[0]};
return[a]};a4.K5=function(_,n,O){var l=n,x=[],t=_[n];n+=3;var h=R.v(_,n);n+=4;for(var m=0;m<4;m++){var V=h>>>m&1;
if(V){if(t==0){var y=a4.Hs(_,n);n+=2+2*y.length}else{var y=a4.ar6(_,n);n+=256}x.push(y)}else x.push(t==0?[0,0,255,255]:a4.akU())}var r=a4.vx(x,t);
return r};a4.vx=function(_,n){var O=ie.gV("curv");for(var m=0;m<4;m++){if(n==0){var l=_[m],x=[];for(var t=0;
t<l.length;t+=2)x.push(Q.xu.PN(l[t],l[t+1],!0));a4.Ll(O,m,x)}else a4.Ll(O,m,_[m])}return O};a4.a3=function(_,n,O){var l=[];
for(var m=0;m<4;m++){var x=a4.SO(O,m);if(x.length==256)l.push(x);else{var t=[];for(var h=0;h<x.length;
h++)t.push(x[h].v.Hrzn.v,x[h].v.Vrtc.v);l.push(t)}}var V=n,y=l[0].length==256?1:0;_.hp(n,3);_.data[n]=y;
_.data[n+1]=0;_.data[n+2]=1;n+=3;R.ZI(_,n,15);n+=4;for(var m=0;m<4;m++){var r=l[m];if(y==0){a4.ayx(_,n,r);
n+=2+2*r.length}else{a4.ae9(_,n,r);n+=256}}return n-V};a4.akU=function(){var _=[];for(var m=0;m<256;
m++)_.push(m);return _};a4.Ll=function(_,n,O){var l=jb.tT("CrvA",n);if(O.length<256)l.Crv={t:"VlLs",v:O};
else{l.Mpng={t:"VlLs",v:[]};for(var m=0;m<256;m++)l.Mpng.v[m]={t:"long",v:O[m]}}l={t:"Objc",v:l};var x=_.Adjs.v,t=jb.bH(x,n);
if(t==-1)x.push(l);else x[t]=l};a4.SO=function(_,n){var O=_.Adjs.v,l=jb.bH(O,n);if(l==-1){if(O.length==0||O[0].v.Crv)return[Q.xu.PN(0,0,!0),Q.xu.PN(255,255,!0)];
if(O[0].v.autoMachineLearning||O[0].v.AuCo)return[Q.xu.PN(0,0,!0),Q.xu.PN(128,160,!0),Q.xu.PN(255,255,!0)];
var x=[];for(var m=0;m<256;m++)x.push(m);return x}var t=O[l].v;if(t.Crv)return t.Crv.v;if(t.Mpng){var x=[];
for(var m=0;m<256;m++)x.push(t.Mpng.v[m].v);return x}return[Q.xu.PN(0,0,!0),Q.xu.PN(255,255,!0)]};a4.Hs=function(_,n){var O=[],l=R.Pr(_,n);
n+=2;for(var x=0;x<l;x++){var t=R.Pr(_,n);n+=2;var h=R.Pr(_,n);n+=2;O.push(h,t)}return O};a4.ayx=function(_,n,O){var l=O.length/2;
R.hP(_,n,l);n+=2;for(var x=0;x<l;x++){R.hP(_,n,O[x*2+1]);n+=2;R.hP(_,n,O[x*2+0]);n+=2}};a4.ar6=function(_,n){var O=[];
for(var m=0;m<256;m++)O.push(_[n+m]);return O};a4.ae9=function(_,n,O){_.hp(n,256);for(var m=0;m<256;
m++)_.data[n+m]=O[m]};function c7(){}c7.K5=function(_,n,O){var l={},x=R.Pr(_,n);n+=2;l.k8=_[n]==1;n++;
n++;l.jA=[R.X1(_,n),R.X1(_,n+2),R.X1(_,n+4)];n+=6;l.yx=[R.X1(_,n),R.X1(_,n+2),R.X1(_,n+4)];n+=6;l.TJ=[];
for(var m=0;m<6;m++){var t={};t.kN=[R.X1(_,n),R.X1(_,n+2),R.X1(_,n+4),R.X1(_,n+6)];n+=8;t.mi=[R.X1(_,n),R.X1(_,n+2),R.X1(_,n+4)];
n+=6;l.TJ.push(t)}var h=ie.gV("hue2"),V=l;if(h.Clrz==null)h.Clrz={t:"bool",v:!1};h.Clrz.v=V.k8;for(var m=0;
m<7;m++){var y=m==0?V.k8?V.jA:V.yx:V.TJ[m-1];c7.Ll(h,m,y)}return h};c7.a90=function(_){return{classID:"Hst2",H:{t:"long",v:_[0]},Strt:{t:"long",v:_[1]},Lght:{t:"long",v:_[2]}}};
c7.bH=function(_,n){for(var m=0;m<_.length;m++){var O=_[m].v.LclR;if(n==0&&O==null||O!=null&&O.v==n)return m}return-1};
c7.Ll=function(_,n,O){var l=n==0?O:O.mi,x=c7.a90(l);if(n!=0){var t=O.kN;x.LclR={t:"long",v:n},x.BgnR={t:"long",v:t[0]};
x.BgnS={t:"long",v:t[1]};x.EndS={t:"long",v:t[2]};x.EndR={t:"long",v:t[3]}}x={t:"Objc",v:x};var h=_.Adjs.v,V=c7.bH(h,n);
if(V==-1)h.push(x);else h[V]=x};c7.SO=function(_,n){var O=_.Adjs.v,l=c7.bH(O,n);if(l==-1){if(n==0)return[0,0,0];
else return[{kN:[315,345,15,45],mi:[0,0,0]},{kN:[15,45,75,105],mi:[0,0,0]},{kN:[75,105,135,165],mi:[0,0,0]},{kN:[135,165,195,225],mi:[0,0,0]},{kN:[195,225,255,285],mi:[0,0,0]},{kN:[255,285,315,345],mi:[0,0,0]}][n-1]}var x=O[l].v,t=[x.H.v,x.Strt.v,x.Lght.v];
if(n==0)return t;return{mi:t,kN:[x.BgnR.v,x.BgnS.v,x.EndS.v,x.EndR.v]}};c7.a3=function(_,n,O){var l={k8:O.Clrz?O.Clrz.v:!1,TJ:[]};
l.jA=l.yx=c7.SO(O,0);for(var m=1;m<7;m++)l.TJ.push(c7.SO(O,m));var x=2+2+12+6*14,t=_.data;_.hp(n,x);
R.Ho(t,n,2);n+=2;t[n]=l.k8?1:0;n++;n++;R.s7(t,n+0,l.jA[0]);R.s7(t,n+2,l.jA[1]);R.s7(t,n+4,l.jA[2]);n+=6;
R.s7(t,n+0,l.yx[0]);R.s7(t,n+2,l.yx[1]);R.s7(t,n+4,l.yx[2]);n+=6;for(var m=0;m<6;m++){var h=l.TJ[m].kN,V=l.TJ[m].mi;
R.s7(t,n+0,h[0]);R.s7(t,n+2,h[1]);R.s7(t,n+4,h[2]);R.s7(t,n+6,h[3]);n+=8;R.s7(t,n+0,V[0]);R.s7(t,n+2,V[1]);
R.s7(t,n+4,V[2]);n+=6}return x};function jb(){}jb.GQ=function(_){var n=new Uint8Array(_),O=2,l=[];for(var m=0;
m<29;m++){var x=[];l.push(x);for(var t=0;t<5;t++)x.push(R.Pr(n,O+m*10+t*2))}O+=29*10;if(O<n.length){var h=R.c$(n,O,4);
O+=4;var V=R.Pr(n,O);O+=2;var y=R.Pr(n,O);O+=2;var r=y-29;for(var m=0;m<r;m++){var x=[];l.push(x);for(var t=0;
t<5;t++)x.push(R.Pr(n,O+m*10+t*2))}}var E=ie.gV("levl");for(var m=0;m<4;m++)jb.Ll(E,m,l[m]);return E};
jb.tT=function(_,m){var n=["Cmps","Rd","Grn","Bl"],O={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:n[m]}}]};
return{classID:_,Chnl:O}};jb.bH=function(_,n){var O={Cmps:0,Rd:1,Grn:2,Bl:3};for(var m=0;m<_.length;
m++){var l=_[m].v,x=O[l.Chnl.v[0].v.enum];if(x==n)return m}return-1};jb.Ll=function(_,n,O){var l=jb.tT("LvlA",n);
l.Inpt={t:"VlLs",v:[{t:"long",v:O[0]},{t:"long",v:O[1]}]};l.Otpt={t:"VlLs",v:[{t:"long",v:O[2]},{t:"long",v:O[3]}]};
l.Gmm={t:"doub",v:O[4]/100};l={t:"Objc",v:l};var x=_.Adjs.v,t=jb.bH(x,n);if(t==-1)x.push(l);else x[t]=l};
jb.SO=function(_,n){var O=[0,255,0,255,100],l=_.Adjs.v,x=jb.bH(l,n);if(x==-1)return O;var t=l[x].v;if(t.Inpt){O[0]=t.Inpt.v[0].v;
O[1]=t.Inpt.v[1].v}if(t.Otpt){O[2]=t.Otpt.v[0].v;O[3]=t.Otpt.v[1].v}if(t.Gmm){O[4]=Math.round(t.Gmm.v*100)}return O};
jb.QR=function(_,n){var O=[],l=0;for(var m=0;m<4;m++)O.push(jb.SO(n,m));while(O.length<29)O.push([0,255,0,255,100]);
_.hp(0,2+10*29);R.Ho(_.data,l,2);l+=2;for(var m=0;m<29;m++){var x=O[m];for(var t=0;t<5;t++)R.Ho(_.data,l+m*10+t*2,x[t])}l+=29*10;
if(O.length==29)return l;_.hp(l,8+10*(O.length-29));R.uJ(_.data,l,"Lvls");l+=4;R.Ho(_.data,l,3);l+=2;
R.Ho(_.data,l,O.length);l+=2;var h=O.length-29;for(var m=0;m<h;m++){var x=O[29+m];for(var t=0;t<5;t++)R.Ho(_.data,l+m*10+t*2,x[t])}l+=10*h;
return l};function h5(){}h5.GQ=function(_){var n=new Uint8Array(_),O=2,l={vV:[],ie:[]},x=R.c$(n,O,4);
O+=4;var t=R.Pr(n,O);O+=2;var h=R.v(n,O);O+=4;l.vV=aa.U$(n,O,h);O+=h;var V=R.v(n,O);O+=4;for(var m=0;
m<V;m++){var y=R.v(n,O);O+=4;var r=O,E={jQ:{},Zg:{}};l.ie.push(E);O+=4;O+=hu.Me(n,E.jQ,O);O+=4;O+=hu.Me(n,E.Zg,O);
O=r+y;var a=E.Zg.blendOptions,S=E.Zg.Lefx;if(a&&Object.keys(a.v).length>1){}if(S){if(S.v.masterFXSwitch==null)S.v.masterFXSwitch={t:"bool",v:!0};
dk.Hn(S.v)}}return l};h5.T7=function(_,n){_.jQ.Nm.v=n};h5.QR=function(_){var n=new bc,O=0;R.hP(n,O,2);
O+=2;R.eB(n,O,"8BSL");O+=4;R.hP(n,O,3);O+=2;var l=O;O+=4;O=aa.WF(n,O,_.vV);R.ZI(n,l,O-l-4);var x=_.ie.length;
R.ZI(n,O,x);O+=4;for(var m=0;m<x;m++){O+=4;var t=O,h=_.ie[m];R.ZI(n,O,16);O+=4;O+=hu.Ur(n,h.jQ,O);var V=h.Zg.Lefx;
if(V){h.Zg.Lefx=JSON.parse(JSON.stringify(V));dk.U1(h.Zg.Lefx.v)}R.ZI(n,O,16);O+=4;O+=hu.Ur(n,h.Zg,O);
if(V)h.Zg.Lefx=V;R.ZI(n,t-4,O-t)}return n.data.slice(0,O).buffer};function iH(){}iH.K5=function(_,n,O){var l=R.Pr(_,n);
n+=2;var x={};x.Pz=R.Pr(_,n)==1;n+=2;x.EU=[];for(var m=0;m<10;m++){var t=[];x.EU.push(t);for(var h=0;
h<4;h++)t.push(R.X1(_,n+h*2));n+=8}var V=ie.gV("selc");V.Mthd.v.CrcM=x.Pz?"Absl":"Rltv";for(var m=1;
m<10;m++)iH.Ll(V,m-1,x.EU[m]);return V};iH.KG="Rds Ylws Grns Cyns Bls Mgnt Whts Ntrl Blks".split(" ");
iH.tT=function(_,m){var n=["Cmps","Rd","Grn","Bl"],O={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:n[m]}}]};
return{classID:_,Chnl:O}};iH.bH=function(_,n){var O=iH.KG;for(var m=0;m<_.length;m++){var l=_[m].v,x=O.indexOf(l.Clrs.v.Clrs);
if(x==n)return m}return-1};iH.Ll=function(_,n,O){var l=["Cyn","Mgnt","Ylw","Blck"],x={classID:"ClrC",Clrs:{t:"enum",v:{Clrs:iH.KG[n]}}};
for(var t=0;t<4;t++)x[l[t]]={t:"UntF",v:{type:"#Prc",val:O[t]}};x={t:"Objc",v:x};var h=_.ClrC.v,V=iH.bH(h,n);
if(V==-1)h.push(x);else h[V]=x};iH.SO=function(_,n){var O=[0,0,0,0],l=_.ClrC.v,x=iH.bH(l,n);if(x==-1)return O;
var t=["Cyn","Mgnt","Ylw","Blck"];for(var m=0;m<4;m++)if(l[x].v[t[m]])O[m]=l[x].v[t[m]].v.val;return O};
iH.a3=function(_,n,O){var l={Pz:O.Mthd.v.CrcM=="Absl",EU:[[0,0,0,0]]};for(var m=0;m<9;m++)l.EU.push(iH.SO(O,m));
_.hp(n,84);R.Ho(_.data,n,1);n+=2;R.Ho(_.data,n,l.Pz?1:0);n+=2;for(var m=0;m<10;m++){var x=l.EU[m];for(var t=0;
t<4;t++)R.s7(_.data,n+t*2,x[t]);n+=8}return 84};function fu(){}fu.gV=function(){return{hT:new a8(0,0,50,50),jQ:"",oS:"play",i:Q.M.tm.HW([.1,.1,.9,.5,.1,.9],0)}};
fu.GQ=function(_){_=new Uint8Array(_);var n=0,O=[],l=Date.now(),x=R.c$(_,0,4);n+=4;var t=R.v(_,n);n+=4;
var h=R.v(_,n);n+=4;for(var m=0;m<h;m++){var V=R.Qa(_,n);n+=V.length*2+4+2;if((V.length&1)==0)n+=2;n=fu.Mc(_,n,V,O)}return O};
fu.Mc=function(_,n,O,l){var x=R.v(_,n);n+=4;var t=R.v(_,n);n+=4;var h=n,V=R.B8(_,h).N2;h+=V.length+1;
var y=R.NU(_,h);h+=16;var r=fu.Pd(_,h,t-(h-n)),E=Q.M.On(r),a=Q.p.Vx(E),S=1/a.a,e=1/a.n;Q.M.qp(r,new aY(S,0,0,e,-a.x*S,-a.y*e));
l.push({oS:O,jQ:V,i:r,hT:y});n+=t;return n};fu.T7=function(_,n){_.oS=n};fu.QR=function(_){var n=new bc,O=0;
R.eB(n,O,"cush");O+=4;R.ZI(n,O,2);O+=4;R.ZI(n,O,_.length);O+=4;for(var m=0;m<_.length;m++){var l=_[m],x=l.oS+"\0";
R.JD(n,O,x);O+=4+x.length*2;if((x.length&1)==1)O+=2;R.ZI(n,O,1);O+=4;O+=4;var t=O;R.Fr(n,O,l.jQ);O+=l.jQ.length+1;
R.ui(n,O,l.hT);O+=16;n.hp(O,l.i.length*26);fu.OH(n.data,O,l.i,1,1);O+=l.i.length*26;var h=O-t;if((h&3)!=0)h+=4-(h&3);
R.ZI(n,t-4,h);O=t+h}return n.data.slice(0,O).buffer};fu.acS=function(_){var n=[];for(var m=0;m<_.length;
m++){var O=_[m],l=O.type,x={type:l};n.push(x);if(l==6){}else if(l==8)x.all=O.all;else if(l==0||l==3){x.length=O.length;
x.frule=O.wM;x.third=O.kr;x.prmA=O.w3;x.prmB=O.Dj}else{x.c=[O.lz.x,O.lz.y,O.H.x,O.H.y,O.l6.x,O.l6.y]}}return n};
fu.XF=function(_){var n=[];for(var m=0;m<_.length;m++){var O=_[m],l=O.type,x={type:l};n.push(x);if(l==6){}else if(l==8)x.all=O.all;
else if(l==0||l==3){x.length=O.length;x.wM=O.frule;x.kr=O.third;x.w3=O.prmA;x.Dj=O.prmB}else{var t=O.c;
x.lz=new aW(t[0],t[1]);x.H=new aW(t[2],t[3]);x.l6=new aW(t[4],t[5])}}return n};fu.Pd=function(_,n,O,l,x){if(l==null)l=1;
if(x==null)x=1;function t(b,T,C){var Z=R.agX(b,T)*C,W=Math.round(Z);return Math.abs(Z-W)<1e-6?W:Z}var h=R.X1,V=[],y=Math.floor(O/26);
for(var m=0;m<y;m++){var r=n+m*26,E={},a=0;V.push(E);E.type=h(_,r);r+=2;if(E.type==6){a=24}if(E.type==8){E.all=h(_,r);
r+=2;a=22}if(E.type==0||E.type==3){E.length=h(_,r);r+=2;E.wM=h(_,r);r+=2;E.kr=h(_,r);r+=2;E.w3=R.v(_,r);
r+=4;E.Dj=R.v(_,r);r+=4;a=10}if(E.type==1||E.type==2||E.type==4||E.type==5){var S,e;e=t(_,r,x);r+=4;
S=t(_,r,l);r+=4;E.lz=new aW(S,e);e=t(_,r,x);r+=4;S=t(_,r,l);r+=4;E.H=new aW(S,e);e=t(_,r,x);r+=4;S=t(_,r,l);
r+=4;E.l6=new aW(S,e);a=0}for(var P=0;P<a;P++)if(_[r+P]!=0){console.log("Unexpected non-zero byte!",E,P,_[r+P])}}return V};
fu.OH=function(_,n,O,l,x){var t=R.s7,h=R.jg,V=O.length;for(var m=0;m<V;m++){var y=n+m*26,r=O[m];t(_,y,r.type);
y+=2;if(r.type==6){}if(r.type==8)t(_,y,r.all);if(r.type==0||r.type==3){t(_,y,r.length);y+=2;t(_,y,r.wM);
y+=2;t(_,y,r.kr);y+=2}if(r.type==1||r.type==2||r.type==4||r.type==5){h(_,y,r.lz.y/x);y+=4;h(_,y,r.lz.x/l);
y+=4;h(_,y,r.H.y/x);y+=4;h(_,y,r.H.x/l);y+=4;h(_,y,r.l6.y/x);y+=4;h(_,y,r.l6.x/l);y+=4}}};function fU(){}fU.GQ=function(_){var n=new Uint8Array(_),O=[],l=0;
if(R.c$(n,0,4)=="ASEF")O=fU.avl(n);else{l=fU.aW(n,l,O);if(l+3<n.length){O=[];l=fU.aW(n,l,O)}}return O};
fU.avl=function(_){var n=[],O=8,l=R.v(_,O),x,t=null,h,V,y,r;O+=4;for(var E=0;E<l;E++){var a=R.Pr(_,O);
O+=2;var S=R.v(_,O);O+=4;var e=O+S;if(a==49153||a==1){var P=R.Pr(_,O);O+=2;var b=R.XX(_,O,P-1);O+=P*2;
if(a==1)x=b;else t=b}if(a==1){var T=R.c$(_,O,4);O+=4;h=R.mA(_,O);O+=4;V=R.mA(_,O);O+=4;y=R.mA(_,O);O+=4;
if(T=="RGB "){}else if(T=="CMYK"){r=R.mA(_,O);O+=4;var C=UDOC.C.cmykToRgb([h,V,y,r]);h=C[0];V=C[1];y=C[2]}else alert("Unknown color space: "+T);
n.push({o:h*255,J:V*255,k:y*255,cR:(t?t+" : ":"")+x})}O=e}return n};fU.aW=function(_,n,O){var l=R.Pr,x=R.X1,t=l(_,n);
n+=2;var h=l(_,n);n+=2;for(var m=0;m<h;m++){var V=fU._0(_,n);n+=10;if(t==2){V.cR=R.Qa(_,n);n+=4+V.cR.length*2+2}O.push(V)}return n};
fU._0=function(_,n){var O=R.Pr,l=R.X1,x=O(_,n),e=null;n+=2;var t=O(_,n);n+=2;var h=O(_,n);n+=2;var V=O(_,n);
n+=2;var y=O(_,n);n+=2;var r=1/65535,E=255/65535,a=100/65535,S=255/1e4;if(x==0)e={o:t*E,J:h*E,k:V*E};
else if(x==1){e=Q.ax(t*r,h*r,V*r);e.o*=255;e.J*=255;e.k*=255}else if(x==2)e=Q.N.JU({classID:"CMYC",Cyn:{t:"doub",v:100-t*a},Mgnt:{t:"doub",v:100-h*a},Ylw:{t:"doub",v:100-V*a},Blck:{t:"doub",v:100-y*a}});
else if(x==7){var P=Q.da(t/100,l(_,n-6)/100,l(_,n-4)/100);e=P}else if(x==8){e={o:255-t*S,J:255-h*S,k:255-V*S}}else if(x==18){var b=255*t/16384;
e={o:b,J:b,k:b}}else{throw x}return e};fU.QR=function(_){var n=new bc,O=0,l=R.hP;l(n,O,2);O+=2;l(n,O,_.length);
O+=2;for(var m=0;m<_.length;m++){var x=_[m];n.hp(O,10);fU.ij(n.data,O,x);O+=10;var t=(x.cR?x.cR:"")+"\0";
R.JD(n,O,t);O+=4+t.length*2}return n.data.slice(0,O).buffer};fU.T7=function(_,n){_.cR=n};fU.ij=function(_,n,O){var l=65535/255,x=R.Ho;
x(_,n,0);x(_,n+2,Math.round(O.o*l));x(_,n+4,Math.round(O.J*l));x(_,n+6,Math.round(O.k*l));x(_,n+8,0)};
function cq(){}cq.GQ=function(_){var n=new Uint8Array(_),O=4,l={};l.hM=R.Qa(n,O);O+=4+l.hM.length*2+2;
l.exp=n[O++]==1;l.l_=[];var x=R.v(n,O);O+=4;for(var m=0;m<x;m++){var t={};l.l_.push(t);t.tE=R.Pr(n,O);
O+=2;t.shift=n[O++]==1;t.a8H=n[O++]==1;t.color=R.Pr(n,O);O+=2;t.hM=R.Qa(n,O);O+=4+t.hM.length*2+2;t.exp=n[O++]==1;
t.l_=[];var h=R.v(n,O);O+=4;for(var V=0;V<h;V++){var y={};t.l_.push(y);y.exp=n[O++]==1;y.w=n[O++]==1;
y.a7M=n[O++]==1;y.acT=n[O++];var r=R.c$(n,O,4);O+=4;if(r=="TEXT"){y.et=cq.CI(n,O);O+=4+y.et.length}else if(r=="long"){y.et=R.c$(n,O,4);
O+=4}else throw"e";y.qm=cq.CI(n,O);O+=4+y.qm.length;var E=R.aH(n,O);O+=4;if(E==-1){y.ot={};var a=hu.Me(n,y.ot,O);
O+=a}}}console.log(l);var S=new Uint8Array(cq.QR(l));for(var m=0;m<S.length;m++)if(S[m]!=n[m]&&R.c$(n,m+1,4)!="None"){console.log(n.length,S.length);
var e=4*(m>>>2)-16;console.log(R.Nc(n,e,64));console.log(R.Nc(S,e,64));console.log(n.slice(e,e+64));
console.log(S.slice(e,e+64));throw"i"}return[l]};cq.CI=function(_,n){var O=R.v(_,n);return R.c$(_,n+4,O)};
cq.GO=function(_,n,O){R.ZI(_,n,O.length);R.eB(_,n+4,O)};cq.QR=function(_){var n=new bc,O=0;R.ZI(n,O,16);
O+=4;R.JD(n,O,_.hM+"\0");O+=4+_.hM.length*2+2;n.hp(O,1);n.data[O++]=_.exp?1:0;var l=_.l_.length;R.ZI(n,O,l);
O+=4;for(var m=0;m<l;m++){var x=_.l_[m];R.hP(n,O,x.tE);O+=2;n.hp(O,2);n.data[O++]=x.shift?1:0;n.data[O++]=x.a8H?1:0;
R.hP(n,O,x.color);O+=2;R.JD(n,O,x.hM+"\0");O+=4+x.hM.length*2+2;n.hp(O,1);n.data[O++]=x.exp?1:0;var t=x.l_.length;
R.ZI(n,O,t);O+=4;for(var h=0;h<t;h++){var V=x.l_[h];n.hp(O,4);n.data[O++]=V.exp?1:0;n.data[O++]=V.w?1:0;
n.data[O++]=V.a7M?1:0;n.data[O++]=V.acT;var y="LqFy Avrg GEfc PbPl Fbrs Bokh LnCr".split(" ").indexOf(V.et)!=-1;
R.eB(n,O,y?"long":"TEXT");O+=4;if(!y){cq.GO(n,O,V.et);O+=4+V.et.length}else{R.eB(n,O,V.et);O+=4}cq.GO(n,O,V.qm);
O+=4+V.qm.length;R.C4(n,O,V.ot?-1:0);O+=4;if(V.ot){var r=hu.Ur(n,V.ot,O);O+=r}}}return n.data.slice(0,O).buffer};
function ii(){}ii.GQ=function(_){var n=new Uint8Array(_),O=0,l=R.v(n,O),y;O+=4;var x=R.c$(n,O,8);O+=8;
var t=R.j0(n,O);O+=4;var h=R.j0(n,O);O+=4;var V=R.j0(n,O);O+=4;if(l==2){y=new Float32Array(_,32,_.byteLength-32>>>2)}else if(l==3||l==4){y=new Float32Array(h*V*2);
var r=0,E=0,a=!0;O=l==3?32:16+8+40;while(O<n.length){var S=R.j0(n,O);O+=4;if(a)E+=S;else{for(var m=0;
m<S;m++){y[r+E+m<<1]=R.FF(n,O);y[(r+E+m<<1)+1]=R.FF(n,O+4);O+=8}E+=S}a=!a;if(S!=0&&E==h){r+=h;E=0;a=!0;
if(r==h*V)break}}}else throw"unknown Mesh version: "+l;return{Qc:h,bE:V,map:y}};ii.uF=function(_){var n=_.Qc,O=_.bE,l=_.map,x=new Uint8Array(32+O*n*8+O*8),t=0,h=0;
R.h1(x,t,3);t+=4;R.uJ(x,t,"yfqLhseM");t+=8;R.Hj(x,t,2);t+=4;R.Hj(x,t,n);t+=4;R.Hj(x,t,O);t+=4;R.Hj(x,t,0);
t+=4;R.Hj(x,t,1);t+=4;for(var V=0;V<O;V++){R.Hj(x,t,0);t+=4;R.Hj(x,t,n);t+=4;for(var y=0;y<n;y++){R.wG(x,t,l[h]);
R.wG(x,t+4,l[h+1]);h+=2;t+=8}}return x.buffer};function ec(){}ec.GQ=function(_){var n=new Uint8Array(_),O=0,l=R.c$(n,O,4);
O+=4;var x=R.Pr(n,O);O+=2;var t=R.v(n,O);O+=4;var h=[];for(var m=0;m<t;m++){var V=R.v(n,O);O+=4;var y={classID:"ShpC",Nm:{t:"TEXT",v:""},Crv:{t:"VlLs",v:[]}};
h.push(y);var r=R.Qa(n,O);y.Nm.v=r;O+=4+r.length*2+2;var E=R.Pr(n,O);O+=2;var a=R.Pr(n,O);O+=2;for(var S=0;
S<a;S++){var e=Q.xu.PN(0,0,!0);e.v.Vrtc.v=R.Pr(n,O);O+=2;e.v.Hrzn.v=R.Pr(n,O);O+=2;y.Crv.v.push(e)}if(V==1){}else if(V==2){for(var S=0;
S<a;S++){y.Crv.v[S].v.Cnty.v=n[O]==1;O+=1}}else throw"error";var P=R.v(n,O);O+=4;var b=R.v(n,O);O+=4}return h};
ec.T7=function(_,n){_.Nm.v=n};ec.QR=function(_){var n=new bc,O=0;R.eB(n,O,"8BFS");O+=4;R.hP(n,O,1);O+=2;
R.ZI(n,O,_.length);O+=4;for(var m=0;m<_.length;m++){R.ZI(n,O,2);O+=4;var l=_[m];R.JD(n,O,l.Nm.v+"\0");
O+=4+l.Nm.v.length*2+2;R.hP(n,O,2);O+=2;var x=l.Crv.v.length;R.hP(n,O,x);O+=2;for(var t=0;t<x;t++){var h=l.Crv.v[t];
R.hP(n,O,h.v.Vrtc.v);O+=2;R.hP(n,O,h.v.Hrzn.v);O+=2}n.hp(O,x);for(var t=0;t<x;t++){n.data[O]=l.Crv.v[t].v.Cnty.v;
O++}R.ZI(n,O,0);O+=4;R.ZI(n,O,0);O+=4}return n.data.slice(0,O).buffer};function aa(){}aa.GQ=function(_){var n=new Uint8Array(_),O=4,l=R.Pr(n,O);
O+=2;var x=R.v(n,O);O+=4;var t=[];for(var m=0;m<x;m++){var h={};t.push(h);O=aa.Ls(n,O,h)}return t};aa.T7=function(_,n){_.name=n};
aa.QR=function(_){var n=new bc,O=0;R.eB(n,O,"8BPT");O+=4;R.hP(n,O,1);O+=2;R.ZI(n,O,_.length);O+=4;for(var m=0;
m<_.length;m++){O=aa.Vh(n,O,_[m])}return n.data.slice(0,O).buffer};aa.U$=function(_,n,O){var l=n+O,x=[];
while(n<l){var t={},h=R.v(_,n);n+=4;var V=n;n=aa.Ls(_,n,t);if(!t.vA[1].wk())x.push(t);if(h%4!=0)h+=4-h%4;
n=V+h}return x};aa.WF=function(_,n,O){for(var m=0;m<O.length;m++){var l=O[m];n+=4;var x=n;n=aa.Vh(_,n,l);
var t=n-x;R.ZI(_,x-4,t);if(t%4!=0)x+=4-t%4;n=x+t}return n};aa.Ls=function(_,n,O){var l=R.v(_,n);n+=4;
if(l!=1)alert("Unknown version of pattern");var x=R.v(_,n);n+=4;if(x!=1&&x!=2&&x!=3)console.log("Unsupported mode of pattern: "+x);
var t=R.Pr(_,n);n+=2;var h=R.Pr(_,n);n+=2;var V=new a8(0,0,h,t);O.name=R.Qa(_,n);n+=4+2*O.name.length+2;
var y=_[n];n++;O.id=R.c$(_,n,y);n+=O.id.length;var r=-1;if(x==2){r=n;n+=3*256+4}var E=new Q.eO(h*t);
n=aa.acB(_,n,E);if(x==2){for(var m=0;m<E.o.length;m++){var a=3*E.o[m];E.o[m]=_[r+a+0];E.J[m]=_[r+a+1];
E.k[m]=_[r+a+2]}}var S=Q.Q(V.O()*4);Q.gJ(E,S);O.vA=[S,V];return n};aa.Vh=function(_,n,O){var l=O.vA[0],x=O.vA[1];
R.ZI(_,n,1);n+=4;R.ZI(_,n,3);n+=4;R.hP(_,n,x.n);n+=2;R.hP(_,n,x.a);n+=2;R.JD(_,n,O.name+"\0");n+=4+2*O.name.length+2;
R.__(_,n,O.id.length);n++;R.eB(_,n,O.id);n+=O.id.length;var t=new Q.eO(x.O());Q.ah(l,t);n=aa.atg(_,n,t,x);
return n};aa.acB=function(_,n,O){var l=n,x={Sm:null,CN:[],az9:null,n_:null},t=R.v(_,n);n+=4;var h=R.v(_,n);
n+=4;x.Sm=R.NU(_,n);n+=16;var V=R.v(_,n);n+=4;for(var m=0;m<V+2;m++){var y=R.v(_,n);n+=4;if(y==0)continue;
var r=R.v(_,n);n+=4;if(r==0)continue;var E=R.v(_,n);n+=4;var a=R.NU(_,n);n+=16;var S=R.Pr(_,n);n+=2;
var e=_[n];n++;var P=j3.G2(!1,E,_,a.a,a.n,n,e);if(m<V)x.CN.push(P);if(m==V)x.az9=P;if(m==V+1)x.n_=P;
n+=r-23}if(!x.Sm.wk()){if(x.CN[0])O.o=x.CN[0];if(x.CN[1])O.J=x.CN[1];else O.J=x.CN[0].slice(0);if(x.CN[2])O.k=x.CN[2];
else O.k=x.CN[0].slice(0);if(x.n_)O.EX=x.n_;else O.EX.fill(255)}return n};aa.atg=function(_,n,O,l){var x=n,t={Sm:l,CN:[O.o,O.J,O.k],az9:null,n_:O.EX};
R.ZI(_,n,3);n+=4;R.ZI(_,n,0);n+=4;R.ui(_,n,l);n+=16;R.ZI(_,n,24);n+=4;for(var m=0;m<24+2;m++){var h=n,V=m<3||m==25?1:0;
R.ZI(_,n,V);n+=4;if(V==0)continue;R.ZI(_,n,0);n+=4;R.ZI(_,n,8);n+=4;R.ui(_,n,l);n+=16;R.hP(_,n,8);n+=2;
R.__(_,n,1,1);n++;var y=m<3?t.CN[m]:t.n_;_.hp(n,l.O()+2);n=j3.fz(!1,y,_.data,l.a,l.n,n,1);R.ZI(_,h+4,n-h-8)}R.ZI(_,x+4,n-x-8);
return n};function cY(){}cY.GQ=function(_){var n=new Uint8Array(_),O=0;if(n[0]==71)return cY.ao_(n);
var l=R.c$(n,O,4);O+=4;var x=R.Pr(n,O);O+=2;var t=[];if(x<=3){var h=R.Pr(n,O);O+=2;for(var m=0;m<h;m++){var V=n[O++],y=R.c$(n,O,V);
O+=V;var r=cY.Ed(n,O,y),E=r[0];O=r[1];t.push(E)}}else{var r={},a=hu.Me(n,r,O+4),S=r.GrdL.v;for(var m=0;
m<S.length;m++)t[m]=S[m].v.Grad.v}return t};cY.T7=function(_,n){_.Nm.v=n};cY.QR=function(_){var n=new bc,O=0;
R.eB(n,O,"8BGR");O+=4;R.hP(n,O,5);O+=2;R.ZI(n,O,16);O+=4;var l={classID:"null",GrdL:{t:"VlLs",v:[]}},x=l.GrdL.v;
for(var m=0;m<_.length;m++)x[m]={t:"Objc",v:{classID:"Grdn",__name:"Gradient ",Grad:{t:"Objc",v:_[m]}}};
O+=hu.Ur(n,l,O);return n.data.slice(0,O).buffer};cY.Ed=function(_,n,O){var l={classID:"Grdn",Clrs:{t:"VlLs",v:[]},GrdF:{t:"enum",v:{GrdF:"CstS"}},Intr:{t:"doub",v:4096},Nm:{t:"TEXT",v:O},Trns:{t:"VlLs",v:[]}},x=R.Pr(_,n);
n+=2;if(x==0)throw"e";for(var m=0;m<x;m++){var t=R.v(_,n),h=R.v(_,n+4),V=fU._0(_,n+8),y={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:V.o},Grn:{t:"doub",v:V.J},Bl:{t:"doub",v:V.k}}},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:t},Mdpn:{t:"long",v:h}}};
l.Clrs.v.push(y);n+=20}var r=R.Pr(_,n);n+=2;for(var m=0;m<r;m++){var t=R.v(_,n),h=R.v(_,n+4),E=R.Pr(_,n+8),y={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(100*E/255)}},Lctn:{t:"long",v:t},Mdpn:{t:"long",v:h}}};
l.Trns.v.push(y);n+=10}var a=R.Pr(_,n);n+=2;l.Intr.v=a==2?R.Pr(_,n):4096;n+=2;var S=R.Pr(_,n);n+=2;return[l,n]};
cY.aoO=function(_,n,O){var l=O.Clrs.v.length;R.hP(_,n,l);n+=2;for(var m=0;m<l;m++){var x=O.Clrs.v[m];
R.ZI(_,n,x.v.Lctn.v);R.ZI(_,n+4,x.v.Mdpn.v);R.hP(_,n+8,0);var t=Q.N.YS(Q.N.JU(x.v.Clr.v)),h=[t.Rd.v,t.Grn.v,t.Bl.v,0];
for(var V=0;V<4;V++)R.hP(_,n+10+V*2,Math.round(65535*(h[V]/255)));n+=20}var y=O.Trns.v.length;R.hP(_,n,y);
n+=2;for(var m=0;m<y;m++){var x=O.Trns.v[m];R.ZI(_,n,x.v.Lctn.v);R.ZI(_,n+4,x.v.Mdpn.v);R.hP(_,n+8,Math.round(255*x.v.Opct.v.val/100));
n+=10}R.hP(_,n,2);n+=2;R.hP(_,n,O.Intr.v);n+=2;R.hP(_,n,32);n+=2;return n};cY.ao_=function(_){var n=R.hm(_,0,_.length).split("\n"),O=parseFloat(n[2]),l=[],x=JSON.parse(aF._v[aF.order.indexOf("GrFl")]).Grad.v;
x.Intr.v=0;x.Nm.v=n[1];for(var m=0;m<O;m++){var t=n[3+m].split(" ").map(parseFloat),h=t[11],V=t[12];
l.push([t[0],t.slice(3,6),t[6]]);if(V!=0){var y=Q.lM(t[3],t[4],t[5]),r=Q.lM(t[7],t[8],t[9]),E=y.bE,a=r.bE;
if(V==1&&E>a)a++;if(V==2&&E<a)E++;var S=Math.round(Math.abs(a-E)*7);if(S>1)for(var e=0;e<S;e++){var P=1-(e+1)/(S+1),b=1-P,T=Q.ax(P*E+b*a,P*y.yj+b*r.yj,P*y.As+b*r.As);
l.push([P*t[0]+b*t[2],[T.o,T.J,T.k],P*t[6]+b*t[10]])}}l.push([t[2],t.slice(7,10),t[10]])}l.sort(function(C,Z){return C[0]-Z[0]});
Q.N.bi(l,x);return[x]};function di(){}di.GQ=function(_){var n=new Uint8Array(_),O=[],l=[],x=[],t=[],h=[],V=0,y=R.c$(n,V,4);
V+=4;var r=R.v(n,V);V+=4;var E=R.v(n,V);V+=4;while(V<n.length){var a=R.c$(n,V,4);V+=4;var S=R.c$(n,V,4);
V+=4;var e=R.v(n,V);V+=4;if(S=="tppa"){l=aa.U$(n,V,e);V+=e}else if(S=="tpbd"){x=a7.m4(n,V,e,1,1);V+=e}else if(S=="tptp"){var P=R.v(n,V);
V+=4;for(var m=0;m<P;m++){var b=R.Qa(n,V);V+=6+b.length*2;V+=4;var T={};V+=hu.Me(n,T,V);O.push([b,T])}while((V&3)!=0)V++}else if(S=="tpsh"){var C=V,Z=n.slice(V,V+e);
while(V<C+e){var W=R.v(n,V);V+=4;V=fu.Mc(n,V,"Shape",t)}V=C+e}else if(S=="tpst"){var C=V;V+=4;while(V<C+e){var s=R.v(n,V);
V+=4;var f=V,q=R.v(n,V);V+=4;var T={jQ:{},Zg:{}};h.push(T);V+=4;V+=hu.Me(n,T.jQ,V);V+=4;V+=hu.Me(n,T.Zg,V);
V=f+s;var g=T.Zg.Lefx;if(g){if(g.v.masterFXSwitch==null)g.v.masterFXSwitch={t:"bool",v:!0};dk.Hn(g.v)}}V=C+e}else{console.log(n.slice(V-8,V+64));
console.log(R.c$(n,V-8,64));throw S}}return{y7:x,gg:l,list:O,acC:t,ie:h}};di.T7=function(_,n){_[0]=n};
di.QR=function(_){var n=new bc,O=0;R.eB(n,O,"8BTP");O+=4;R.ZI(n,O,3);O+=4;R.ZI(n,O,1);O+=4;var l=[_.gg,_.y7,_.list];
for(var m=0;m<3;m++){if(l[m].length==0)continue;R.eB(n,O,"8BIM");O+=4;var x=["tppa","tpbd","tptp"][m];
R.eB(n,O,x);O+=4;var t=O;O+=4;if(x=="tppa"){O=aa.WF(n,O,_.gg)}else if(x=="tpbd"){O=a7.V9(n,O,_.y7)}else if(x=="tptp"){R.ZI(n,O,_.list.length);
O+=4;for(var h=0;h<_.list.length;h++){var V=_.list[h];R.JD(n,O,V[0]+"\0");O+=6+V[0].length*2;R.ZI(n,O,16);
O+=4;O+=hu.Ur(n,V[1],O)}}R.ZI(n,t,O-t-4);while((O&3)!=0)O++;n.hp(O,0)}return n.data.slice(0,O).buffer};
function i9(){}i9.GQ=function(_,n){var O=new Uint8Array(_),l;if(R.v(O,0)==O.length)l="icc";else if(O[0]=="<".charCodeAt(0))l="look";
else if(R.iZ(O,"LUT_3D_SIZE")!=-1)l="cube";else l="3DL";if(l!="icc"){var x=i9.azd(O,l),t=i9.amF(x[0],x[1]);
O=t}var h=[];for(var m=0;m<O.length;m++)h.push(O[m]);return[{classID:"null",Dthr:{t:"bool",v:!0},Nm:{t:"TEXT",v:n?n:"file.icc"},lookupType:{t:"enum",v:{colorLookupType:"abstractProfile"}},profile:{t:"tdta",v:h}}]};
i9.QR=function(_){var n=_[0],O=new Uint8Array(n.profile.v);return O.buffer};i9.T7=function(_,n){_.Nm.v=n};
i9.amF=function(_,n){var O=new bc,l=128;O.hp(0,128);var x=[0,0,14,204,65,68,66,69,4,0,0,0,108,105,110,107,82,71,66,32,82,71,66,32,7,227,0,7,0,27,0,8,0,6,0,49,97,99,115,112,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,246,214,0,1,0,0,0,0,211,45,65,68,66,69,219,126,245,21,206,223,186,23,165,212,201,219,250,10,33,62];
for(var m=0;m<x.length;m++)O.data[m]=x[m];var t=["desc","A2B0"],h=t.length,V=128+4+h*12;R.ZI(O,l,h);
l+=4;for(var y=0;y<h;y++){var r=t[y];R.eB(O,l,r);l+=4;R.ZI(O,l,V);l+=4;var E=V;if(r=="desc"){R.eB(O,E,"mluc");
E+=4;E+=4;R.ZI(O,E,1);E+=4;R.ZI(O,E,12);E+=4;R.eB(O,E,"enUS");E+=4;var a="ICC by Photopea\0",S=a.length*2+2;
R.ZI(O,E,S);E+=4;R.ZI(O,E,28);E+=4;O.hp(E,S);for(var m=0;m<a.length;m++)O.data[E+m*2+1]=a.charCodeAt(m);
E+=S}if(r=="A2B0"){R.eB(O,E,"mAB ");E+=4;E+=4;O.hp(E,4);O.data[E]=3;O.data[E+1]=3;E+=4;O.hp(E,4*5);E+=4*3;
R.ZI(O,E,E+8-V);E+=4;E+=4;O.hp(E,20);O.data[E]=_;O.data[E+1]=_;O.data[E+2]=_;E+=16;O.data[E]=2;E+=4;
var e=_*_*_*3;O.hp(E,e*2);for(var m=0;m<e;m++)R.Ho(O.data,E+m*2,Math.max(0,Math.min(65535,Math.round(n[m]*65535))));
E+=e*2}var P=E-V;while((P&3)!=0)P++;R.ZI(O,l,P);l+=4;V+=P}R.ZI(O,0,V);return O.data.slice(0,V)};i9.azd=function(_,n){n="LUTFormat"+n.toUpperCase();
var O=[],l=0,x=R.hm(_,0,_.length),t="";for(var m=0;m<_.length&&t=="";m++){if(_[m]==10)t="\n";else if(_[m]==13){t="\r";
if(_[m+1]==10)t+="\n"}}if(n=="LUTFormatCUBE"){var h=x.split(t);for(var m=0;m<h.length;m++){if(h[m]==""||h[m][0]=="#")continue;
var V=h[m].split(" "),y=V[0];if(y=="LUT_3D_SIZE"){l=parseInt(V[1]);continue}if(["TITLE","DOMAIN_MIN","DOMAIN_MAX"].indexOf(y)!=-1)continue;
O.push(parseFloat(V[0]),parseFloat(V[1]),parseFloat(V[2]))}O=i9.TB(l,O)}else if(n=="LUTFormat3DL"){var h=x.split(t),r=1/4095;
for(var m=0;m<h.length;m++){var E=h[m];if(E==""||E=="3DMESH"||E.startsWith("Mesh")||E[0]=="#")continue;
var V=E.split(" "),y=V[0];if(l==0){l=V.length;continue}O.push(parseFloat(V[0])*r,parseFloat(V[1])*r,parseFloat(V[2])*r)}}else if(n=="LUTFormatLOOK"){var a=new DOMParser,S=a.parseFromString(x,"text/xml"),e=S.getElementsByTagName("LUT")[0],P=e.children[0].textContent;
l=parseInt(JSON.parse(P));var b=e.children[1].textContent;b=b.replace(/"/g,"").replace(/\s/g,"");var T=3*l*l*l,C=T*4,Z=new Uint8Array(C);for(var m=0;m<C;m++){var W=b.charCodeAt(m*2),s=b.charCodeAt(m*2+1),f=W<58?W-48:W-55,q=s<58?s-48:s-55;Z[m]=(f<<4)+q}for(var m=0;m<T;m++)O.push(R.FF(Z,m<<2));O=i9.TB(l,O)}else throw n;return[l,O]};i9.apj=function(_,n,O){var l=["#Created by www.Photopea.com","TITLE \""+O+"\"","","#LUT size","LUT_3D_SIZE "+n,"","#data domain","DOMAIN_MIN 0.0 0.0 0.0","DOMAIN_MAX 1.0 1.0 1.0","","#LUT data points"],x=6;
for(var m=0;m<_.length;m+=3){l.push(_[m].toFixed(x)+" "+_[m+1].toFixed(x)+" "+_[m+2].toFixed(x))}l.push("");
return R.WZ(l.join("\n")).buffer};i9.TB=function(_,n){var O=[],l=_*_*_;for(var m=0;m<l;m++)O.push(0,0,0);
for(var x=0;x<_;x++)for(var t=0;t<_;t++)for(var h=0;h<_;h++){var m=3*(h+t*_+x*_*_),V=3*(x+t*_+h*_*_);
O[V]=n[m];O[V+1]=n[m+1];O[V+2]=n[m+2]}return O};function hu(){}hu.Me=function(_,n,O,l,x){var t=O,h;if(x==null)x=0;
var V=R.v(_,O);if(V==0){h="";O+=4}else{h=R.Qa(_,O);O+=4+2*h.length+2}if(h!="")n.__name=h;n.classID=hu.xp(_,O);
if(l)console.log("\t".repeat(x),"- reading descriptor",n.classID,O);O+=hu.G3(_,O);var y=R.aH(_,O);O+=4;
for(var m=0;m<y;m++){var r=hu.xp(_,O);O+=hu.G3(_,O);var E=hu.Px(_,O,l,x);n[r]=E;O+=E.size;delete E.size}return O-t};
hu.Ur=function(_,n,O,l){var x=O,t=n.__name;if(t==null)t="";t+="\0";R.JD(_,O,t);O+=4+2*t.length;hu.s6(_,O,n.classID);
O+=hu.G3(_.data,O);R.C4(_,O,Object.keys(n).length-1-(n.__name==null?0:1));O+=4;for(var h in n){if(h=="classID")continue;
if(h=="__name")continue;hu.s6(_,O,h);O+=hu.G3(_.data,O);O+=hu.RQ(_,O,n[h])}return O-x};hu.Px=function(_,n,O,l){var x=n,t=R.c$(_,n,4);
n+=4;var h={size:0,t:t,v:null};if(O)console.log("\t".repeat(l),"reading key",t,x);switch(t){case"obj ":case"VlLs":h.v=[];
var V=R.v(_,n);n+=4;for(var m=0;m<V;m++){var y=hu.Px(_,n,O,l+1);n+=y.size;delete y.size;h.v.push(y)}break;
case"UntF":h.v={type:R.c$(_,n,4),val:R.eq(_,n+4)};n+=12;break;case"doub":h.v=R.eq(_,n);n+=8;break;case"bool":h.v=_[n]==1;
n+=1;break;case"long":h.v=R.aH(_,n);n+=4;break;case"comp":h.v=R.aH(_,n+4);n+=8;break;case"Objc":h.v={};
var r=hu.Me(_,h.v,n,O,l+1);n+=r;break;case"TEXT":var E=R.v(_,n);if(E==0){h.v="";n+=4}else{h.v=R.Qa(_,n);
n+=4+h.v.length*2+2}break;case"enum":var a=hu.xp(_,n);n+=hu.G3(_,n);var S=hu.xp(_,n);n+=hu.G3(_,n);h.v={};
h.v[a]=S;break;case"tdta":var e=R.aH(_,n);n+=4;h.v=[];for(var m=0;m<e;m++)h.v.push(_[n+m]);n+=e;break;
case"ObAr":var P=R.v(_,n);n+=4;var b=R.Qa(_,n);n+=4+2*b.length+2;if(b!="")throw b;var T=hu.xp(_,n);n+=4+Math.max(4,T.length);
h.v={classID:T,arr:[]};var C=R.v(_,n);n+=4;for(var m=0;m<C;m++){var T=hu.xp(_,n);n+=4+Math.max(4,T.length);
var a=R.c$(_,n,4);n+=4;var Z=R.c$(_,n,4);n+=4;var W={id:T,type:a,uID:Z,arr:[]};h.v.arr.push(W);var s=R.v(_,n,4);
n+=4;for(var f=0;f<s;f++){var q=R.eq(_,n);n+=8;W.arr.push(q)}}break;case"Pth ":var g=n,e=R.v(_,n);n+=4;
var i=R.c$(_,n,4);n+=4;var u=R.j0(_,n);n+=4;var I=R.ayG(_,n);n+=4+I.length*2;h.v={sig:i,pth:I};break;
case"Clss":case"type":case"rele":var I=R.Qa(_,n);n+=4+I.length*2+2;var Y=hu.xp(_,n);n+=4+Math.max(4,Y.length);
h.v={classID:Y};if(I!="")h.v.__name=I;if(t=="rele"){h.v.val=R.aH(_,n);n+=4}break;case"prop":case"Enmr":case"indx":case"name":case"Idnt":var U=hu.Eu[t],I=R.Qa(_,n);
n+=4+I.length*2+2;if(I.length!=0){console.log(t,I);throw"e"}h.v={};for(var m=0;m<U.length;m++){var Y=hu.xp(_,n);
n+=4+Math.max(4,Y.length);h.v[U[m]]=Y}if(t=="name"){var I=R.Qa(_,n);n+=4+I.length*2+2;h.v.val=I}if(t=="indx"||t=="Idnt"){h.v.val=R.v(_,n);
n+=4}break;case"alis":var e=R.v(_,n);n+=4;h.v=R.c$(_,n,e);n+=e;break;default:{console.log("unknown oskey: "+t+", "+x);
throw"e";return h}}if(O){console.log("\t".repeat(l),h.v);console.log("\t".repeat(l),"======",n)}h.size=n-x;
return h};hu.Eu={name:["classID"],prop:["classID","keyID"],Enmr:["classID","typeID","enum"],indx:["classID"],Idnt:["classID"]};
hu.RQ=function(_,n,O){var l=n,x=O.t;O=O.v;R.eB(_,n,x);n+=4;switch(x){case"obj ":case"VlLs":R.C4(_,n,O.length);
n+=4;for(var t=0;t<O.length;t++){var h=hu.RQ(_,n,O[t]);n+=h}break;case"UntF":R.eB(_,n,O.type);R.cS(_,n+4,O.val);
n+=12;break;case"doub":R.cS(_,n,O);n+=8;break;case"bool":R.__(_,n,O?1:0,1);n+=1;break;case"long":R.C4(_,n,O);
n+=4;break;case"comp":R.C4(_,n+4,O);n+=8;break;case"Objc":var h=hu.Ur(_,O,n);n+=h;break;case"TEXT":R.JD(_,n,O+"\0");
n+=4+O.length*2+2;break;case"enum":var V=Object.keys(O)[0],y=O[V];hu.s6(_,n,V);n+=hu.G3(_.data,n);hu.s6(_,n,y);
n+=hu.G3(_.data,n);break;case"tdta":R.ZI(_,n,O.length);n+=4;R.ia(_,n,O);n+=O.length;break;case"ObAr":R.ZI(_,n,O.arr[0].arr.length);
n+=4;R.JD(_,n,"\0");n+=6;hu.s6(_,n,O.classID);n+=4+Math.max(4,O.classID.length);R.ZI(_,n,O.arr.length);
n+=4;for(var m=0;m<O.arr.length;m++){var r=O.arr[m];hu.s6(_,n,r.id);n+=4+Math.max(4,r.id.length);R.eB(_,n,r.type);
n+=4;R.eB(_,n,r.uID);n+=4;R.ZI(_,n,r.arr.length);n+=4;for(var t=0;t<r.arr.length;t++){R.cS(_,n,r.arr[t]);
n+=8}}break;case"Pth ":var E=O.pth.length*2+4+8;R.ZI(_,n,E);n+=4;R.eB(_,n,O.sig);n+=4;R.wp(_,n,E);n+=4;
R.ami(_,n,O.pth);n+=O.pth.length*2+4;break;case"Clss":case"type":case"rele":var a=O.__name;if(a==null)a="";
R.JD(_,n,a+"\0");n+=4+a.length*2+2;var S=O.classID;hu.s6(_,n,S);n+=4+Math.max(4,S.length);if(x=="rele"){R.C4(_,n,O.val);
n+=4}break;case"prop":case"Enmr":case"indx":case"name":case"Idnt":var e=hu.Eu[x];R.ZI(_,n,1);n+=6;for(var m=0;
m<e.length;m++){var S=O[e[m]];hu.s6(_,n,S);n+=4+Math.max(4,S.length)}if(x=="name"){R.JD(_,n,O.val+"\0");
n+=4+O.val.length*2+2}if(x=="indx"||x=="Idnt"){R.ZI(_,n,O.val);n+=4}break;case"alis":var E=O.length;
R.ZI(_,n,E);n+=4;R.eB(_,n,O);n+=E;break;default:console.log("unknown oskey: "+x);n=l;break}return n-l};
hu.xp=function(_,n){var O=R.aH(_,n);if(O>1e3)throw"e";if(O==0)O=4;return R.c$(_,n+4,O).trim()};hu.G3=function(_,n){var O=R.aH(_,n);
return O==0?8:4+O};hu.s6=function(_,n,O){var l="warp list Comp None xx xy yx yy tx ty PinP PnRt PnOv PnDp xor PuX0 PuX1 PuX2 PuX3 PuY0 PuY1 PuY2 PuY3 base kana ruby box flow time hold trim then else".split(" "),x=4<O.length||l.indexOf(O)!=-1;
R.C4(_,n,x?O.length:0);R.eB(_,n+4,O);if(O.length<4&&!x){var t="";for(var m=O.length;m<4;m++)t+=" ";R.eB(_,n+4+O.length,t)}};
hu.ax_=function(_){var n={};for(var O in _){if(O=="classID")n[O]=_[O];else if(O=="__name")n[O]=_[O];
else n[O]=hu.th(_[O])}return n};hu.th=function(_){if(_.Rv=="Objc")return hu.ax_(_.v);else if(_.Rv=="VlLs"){var n=[];
for(var m=0;m<_.v.length;m++)n.push(hu.th(_.v[m]));return n}else if(_.Rv=="UntF")return _.v.val;else return _.v};
function dk(){}dk.sQ=function(_,n,O,l,x,t){while(n<O){var h=R.c$(_,n,4);n+=4;if(h!="8BIM"&&h!="8B64"){console.log("layer information signature error! "+h,"PSB = "+x);
alert("Error in PSD file: wrong signature.");return O}var V=R.c$(_,n,4);n+=4;var y=R.v(_,n);n+=4;var r=x&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd pths".split(" ").indexOf(V)!=-1;
if(r){y=y<<32|R.aH(_,n);n+=4}var E=["lrFX","PlLd"];if(E.indexOf(V)!=-1){if(y%4!=0)y+=4-y%4;n+=y;continue}switch(V){case"iOpa":l[V]=_[n];
break;case"brst":l[V]=[1,1,1];for(var m=0;m<y;m+=4)l[V][R.v(_,n+m)]=0;break;case"knko":l[V]=_[n];break;
case"infx":l[V]=_[n];break;case"clbl":l[V]=_[n];break;case"lmgm":l[V]=_[n];break;case"vmgm":l[V]=_[n];
break;case"fcmy":l[V]=_[n];break;case"lyid":l[V]=R.v(_,n);break;case"lsct":l[V]={type:R.v(_,n)};if(y>=12)l[V].to=R.c$(_,n+8,4);
break;case"lsdk":l.lsct={type:R.v(_,n)};break;case"lyvr":l[V]=R.v(_,n);break;case"lnsr":var a={artb:1,bgnd:1,cont:1,layr:1,lset:1,rend:1,shap:1,user:1,____:null};
l[V]=R.c$(_,n,4);break;case"lspf":l[V]=R.v(_,n);break;case"lclr":l[V]=R.Pr(_,n);break;case"luni":l[V]=R.h8(_,n);
break;case"fxrp":l[V]=new aW(R.eq(_,n),R.eq(_,n+8));break;case"artb":case"artd":l[V]={};hu.Me(_,l[V],n+4);
break;case"SoCo":l[V]={};hu.Me(_,l[V],n+4);break;case"GdFl":l[V]={};hu.Me(_,l[V],n+4);dk.OL(l[V],V);
break;case"PtFl":l[V]={};hu.Me(_,l[V],n+4);dk.OL(l[V],V);break;case"CgEd":l[V]={};hu.Me(_,l[V],n+4);
break;case"brit":var S=l.brit=ie.gV("brit"),e={};S.Brgh.v=R.X1(_,n);S.Cntr.v=R.X1(_,n+2);S.useLegacy.v=!1;
break;case"levl":var P=_.buffer.slice(n,n+y);l[V]=jb.GQ(P);break;case"curv":l[V]=a4.K5(_,n,y);break;
case"expA":var b=R.Pr(_,n),T=l[V]=ie.gV("expA");T.Exps.v=R.mA(_,n+2);T.Ofst.v=R.mA(_,n+6);T.gammaCorrection.v=R.mA(_,n+10);
break;case"vibA":l[V]={};hu.Me(_,l[V],n+4);break;case"hue2":l[V]=c7.K5(_,n,y);break;case"blnc":var T=l[V]=ie.gV(V);
T.PrsL.v=_[n+18]==1;var C=["ShdL","MdtL","HghL"];for(var m=0;m<3;m++)for(var Z=0;Z<3;Z++)T[C[m]].v[Z].v=R.X1(_,n+m*6+Z*2);
break;case"blwh":var W={};hu.Me(_,W,n+4);var T=ie.gV(V),s="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var m=0;m<s.length;m++){T[s[m]]=W[s[m]];delete W[s[m]]}l[V]=T;break;case"phfl":var T=l[V]=ie.gV(V),f=T.Clr.v,b=R.Pr(_,n);
if(b==3){var q=[R.v(_,n+2),R.v(_,n+6),R.v(_,n+10)],g=32768,i=Q.EN(q[0]/g,q[1]/g,q[2]/g);f.Lmnc.v=i.oT;
f.A.v=i.EX;f.B.v=i.k}if(b==2){var u=R.Pr(_,n+2);if(u!=7)throw"e";f.Lmnc.v=R.X1(_,n+4)/100;f.A.v=R.X1(_,n+6)/100;
f.B.v=R.X1(_,n+8)/100}var I=n+2+(b==3?12:10);T.Dnst.v=R.v(_,I);I+=4;T.PrsL.v=_[I]==1;break;case"mixr":var Y={nk:R.Pr(_,n+2)==1,h:[]};
for(var m=0;m<20;m++)Y.h.push(R.X1(_,n+4+m*2));l[V]=a3.atP(Y);break;case"clrL":case"rplc":l[V]={};hu.Me(_,l[V],n+6);
break;case"nvrt":l[V]={};break;case"post":l[V]=ie.gV("post");l[V].Lvls.v=R.Pr(_,n);break;case"thrs":l[V]=ie.gV("thrs");
l[V].Lvl.v=R.Pr(_,n);break;case"grdm":var U=n,F=_[n+2]==1,N=_[n+3]==1;U+=4;var o=R.c$(_,U,4);if(o=="Perc"||o=="Gcls"||o=="Lnr ")U+=4;
var X=R.h8(_,U);U+=4+X.length*2;var J=cY.Ed(_,U,X),c=J[0];U=J[1];var p=R.Pr(_,U);U+=2;var d=R.v(_,U);
U+=4;var k=R.Pr(_,U)==1;U+=2;var A=R.Pr(_,U)==1;U+=2;var $=R.v(_,U);U+=4;var K=R.Pr(_,U);U+=2;var G=[],z=[];
for(var m=0;m<4;m++){G.push({t:"long",v:~~(R.Pr(_,U+m*2)*100/32768)});z.push({t:"long",v:~~(R.Pr(_,U+m*2+8)*100/32768)})}U+=16;
var M=R.Pr(_,U);U+=2;if(p==1)c={classID:"Grdn",Nm:{t:"TEXT",v:X},GrdF:{t:"enum",v:{GrdF:"ClNs"}},ShTr:{t:"bool",v:k},VctC:{t:"bool",v:A},ClrS:{t:"enum",v:{ClrS:"RGBC"}},RndS:{t:"long",v:d},Smth:{t:"long",v:$},Mnm:{t:"VlLs",v:G},Mxm:{t:"VlLs",v:z}};
var hl=ie.gV("grdm");hl.Rvrs.v=F;hl.Grad.v=c;l[V]=hl;break;case"selc":l[V]=iH.K5(_,n,y);break;case"vmsk":case"vsms":var j=l.vmsk=new v.ez,w=R.aH(_,n+4),B=(w>>0&1)==1;
j.Cu=(w>>1&1)==0;j.isEnabled=(w>>2&1)==0;j.i=fu.Pd(_,n+8,y-8,t.a,t.n);break;case"shmd":l[V]={};var bB=R.v(_,n),I=n+4;
for(var m=0;m<bB;m++){var h=R.c$(_,I,4);I+=4;var bG=R.c$(_,I,4);I+=4;var eb=_[I];I++;if(Math.max(_[I],_[I+1])!=0)throw"e";
I+=3;var fe=R.v(_,I);I+=4;if(bG=="cust"||bG=="cmls"||bG=="extn"||bG=="mlst"){var gB=R.v(_,I);if(gB!=16)I+=4;
if(R.v(_,I)==16){var W={};hu.Me(_,W,I+4,!1);l[V][bG]=W;if(bG=="cmls")D.jC.a6z(l[V][bG])}}else{console.log("unknown shmd key: "+bG+", size: "+fe)}I+=fe}break;
case"shpa":var b=R.v(_,n),hp=R.v(_,n+4);if(hp!=0)console.log("some patterns present!");break;case"TySh":var g6=l[V]={},b=R.Pr(_,n);
g6.D=R.Kx(_,n+2);var by=R.Pr(_,n+2+48);g6.gt={};var e7=hu.Me(_,g6.gt,n+56),aN=b$.a4K();for(var jK in aN)if(g6.gt[jK]==null)g6.gt[jK]=aN[jK];
g6.ZA={};var f7=hu.Me(_,g6.ZA,n+56+e7+6);g6.T1=R.a0D(_,n+56+e7+6+f7);g6.m1=gU.GQ(g6.gt.EngineData.v);
b$.an0(g6.m1.EngineDict.StyleRun.RunArray);if(g6.m1.ResourceDict==null)g6.m1.ResourceDict=JSON.parse(JSON.stringify(g6.m1.DocumentResources));
delete g6.gt.EngineData;break;case"lfx2":case"lmfx":case"lfxs":var hW=R.v(_,n),km=R.v(_,n+4);l.lmfx={};
var e7=hu.Me(_,l.lmfx,n+8);dk.Hn(l.lmfx);break;case"FMsk":l[V]=R.D_(_,n,y);break;case"Txt2":l[V]={};
l[V].raw=R.D_(_,n,y);l[V].v2=cn.GQ(l[V].raw);break;case"Patt":l[V]=aa.U$(_,n,y);break;case"SoLd":var ca=R.c$(_,n,4),aU=R.v(_,n+4),eJ=R.v(_,n+8);
l[V]={};var am=hu.Me(_,l[V],n+12);if(l[V].nonAffineTransform==null)l[V].nonAffineTransform=JSON.parse(JSON.stringify(l[V].Trnf));
if(l[V].Impr==null)l[V].Impr={t:"Objc",v:{__name:"None",classID:"none"}};break;case"vstk":case"pths":var aU=R.v(_,n);
l[V]={};var am=hu.Me(_,l[V],n+4);break;case"vscg":var bG=R.c$(_,n,4),aU=R.v(_,n+4);l[bG]={};var am=hu.Me(_,l[bG],n+8);
dk.OL(l[bG],bG);break;case"vogk":var eA=R.v(_,n),aU=R.v(_,n+4);l[V]={};var am=hu.Me(_,l[V],n+8);l[V]=l[V].keyDescriptorList.v;
for(var m=0;m<l[V].length;m++){var dj=l[V][m].v;if(!Q.X.YQ(dj))continue;if(dj.keyOriginBoxCorners==null){var cM=Q.X.Ly(dj);
dj.keyOriginBoxCorners={t:"Objc",v:{classID:"null"}};var b2=[cM[0],cM[1],cM[2],cM[1],cM[2],cM[3],cM[0],cM[3]];
if(dj.keyOriginType.v==4)b2=Q.X.XM(Q.X.SU(dj),dj.keyOriginLineWeight.v);Q.X.ib(dj,"keyOriginBoxCorners",b2)}}break;
case"lnk2":case"lnkD__":case"lnk3__":l[V]=[];var U=n;while(U<n+y){var cm=new v.IH;l[V].push(cm);var az=R.MY(_,U);
U+=8;var j_=U;cm.type=R.c$(_,U,4);U+=4;if(cm.type!="liFD"){alert("Unknown Linked Layer type: "+cm.type);
break;throw cm.type}cm.Uo=R.v(_,U);U+=4;var hh=R.B8(_,U);U+=1+hh.N2.length;cm.Et=hh.N2;cm.L5=R.Qa(_,U);
U+=4+cm.L5.length*2+2;cm.xP=R.c$(_,U,4);U+=4;cm.pA=R.c$(_,U,4);U+=4;var gs=R.MY(_,U);U+=8;cm.open=_[U];
U+=1;if(cm.open!=0){var fI={},e7=hu.Me(_,fI,U+4);if(e7%4!=0)e7+=4-e7%4;console.log(fI);U+=e7+4}cm.open=0;
cm.raw=R.D_(_,U,gs);U=j_+az;if(az%4!=0)U+=4-az%4}break;case"FEid":var U=n;l[V]=[];var c0=U+y,b=R.v(_,U);
U+=4;while(U<c0){U+=4;var az=R.v(_,U);U+=4;var J={};l[V].push(J);J.id=R.B8(_,U).N2;U+=J.id.length+1;
var b=R.v(_,U);U+=4;U+=4;var ay=R.v(_,U);U+=4;J.rect=R.NU(_,U);U+=16;var fC=R.v(_,U);U+=4;var jQ=R.v(_,U);
U+=4;var fw=new Q.eO(0);for(var m=0;m<jQ+2;m++){var aG=R.v(_,U);U+=4;if(aG!=0){U+=4;var a_=R.v(_,U),el=null;
U+=4;if(m<3||m==25)el=j3.Wm(!0,fC,_,J.rect.a,J.rect.n,U,a_);if(m==0)fw.o=el;if(m==1)fw.J=el;if(m==2)fw.k=el;
if(m==25)fw.EX=el;U+=a_}}J.buffer=Q.Q(J.rect.O()*4);Q.gJ(fw,J.buffer);Q.M_(J);var dD=_[U];U++;if(dD!=0){J.z=new v.Pt;
J.z.rect=R.NU(_,U);U+=16;U+=4;var ip=R.v(_,U);U+=4;J.z.channel=j3.Wm(!0,fC,_,J.z.rect.a,J.z.rect.n,U,ip);
J.z.color=255;J.z.AO();U+=ip}if(az%4!=0)U+=4-az%4}break;case"Lr16":jI.N4(t,_,n);break;case"Anno":l[V]=[];
var jn=n,af=n+4,hp=R.v(_,af);af+=4;for(var m=0;m<hp;m++){var az=R.v(_,af);af+=4;var iU=R.c$(_,af,4);
af+=4;if(iU!="txtA")throw iU;var hV=_[af++],gn=_[af++],fY=R.Pr(_,af);af+=2;var e1=R.NU(_,af);af+=16;
var d6=R.NU(_,af);af+=16;var f=fU._0(_,af);af+=10;var fO=R.B8(_,af);af+=fO.length;var i$=R.B8(_,af);
af+=i$.length;var gy=R.B8(_,af);af+=gy.length;var fT=R.v(_,af);af+=4;var kl=R.c$(_,af,4);af+=4;var fy=R.v(_,af);
af+=4;var g$=R.XX(_,af+2,fy-2>>1);af+=fy;l[V].push([e1.x,e1.y,f,fO.N2,g$])}break;default:break}var bt="Lr16 LMsk Txt2 artd extd luni pths extn tySh lfx2 cinf Anno".split(" ");
if(bt.indexOf(V)==-1)if(y%4!=0)console.log("size not multiple of 4!!!",V);if(V!="luni"&&V!="TySh"&&V!="tySh"&&V!="lfx2"&&V!="iOpa")if(y%4!=0)y+=4-y%4;
n+=y}var e=l.CgEd;if(e){var S=l.brit;if(S){S.Brgh.v=e.Brgh?e.Brgh.v:0;S.Cntr.v=e.Cntr?e.Cntr.v:0;S.useLegacy.v=e.useLegacy?e.useLegacy.v:0}delete l.CgEd}var jL=[];
for(var m=0;m<jL.length;m++)delete l[jL[m]];return n};dk.nD=function(_,n,O,l,x){for(var t in O)if(O[t]==null){alert("A bug occured (see console).");
console.log("Please, report a bug, that \""+t+"\" tag was present with a null value.");delete O[t]}for(var t in O){var h=l&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd pths".split(" ").indexOf(t)!=-1,y=0;
R.eB(_,n,h?"8B64":"8BIM");n+=4;var V=n;R.eB(_,n,t);n+=4;R.C4(_,n,0);n+=h?8:4;switch(t){case"iOpa":R.__(_,n,O[t],1);
y=4;break;case"brst":y=0;for(var m=0;m<3;m++)if(O[t][m]==0){R.ZI(_,n+y,m);y+=4}break;case"knko":R.__(_,n,O[t],1);
y=4;break;case"infx":R.__(_,n,O[t],1);y=4;break;case"clbl":R.__(_,n,O[t],1);y=4;break;case"lmgm":R.__(_,n,O[t],1);
y=4;break;case"vmgm":R.__(_,n,O[t],1);y=4;break;case"fcmy":R.__(_,n,O[t],1);y=4;break;case"lyid":R.ZI(_,n,O[t]);
y=4;break;case"lsct":R.ZI(_,n,O[t].type);y=4;if(O[t].to){R.eB(_,n+4,"8BIM");R.eB(_,n+8,O[t].to);y=12}break;
case"lyvr":R.ZI(_,n,O[t]);y=4;break;case"lnsr":R.eB(_,n,O[t]);y=4;break;case"lspf":R.ZI(_,n,O[t]);y=4;
break;case"lclr":R.hP(_,n,O[t]);y=8;break;case"luni":R.JD(_,n,O[t]);y=4+2*O[t].length;break;case"fxrp":R.cS(_,n,O[t].x);
R.cS(_,n+8,O[t].y);y=16;break;case"artb":case"artd":R.ZI(_,n,16);y=hu.Ur(_,O[t],n+4)+4;break;case"SoCo":R.ZI(_,n,16);
y=hu.Ur(_,O[t],n+4)+4;break;case"GdFl":R.ZI(_,n,16);y=hu.Ur(_,O[t],n+4)+4;break;case"PtFl":R.ZI(_,n,16);
y=hu.Ur(_,O[t],n+4)+4;break;case"CgEd":var r={classID:"null",Vrsn:{t:"long",v:1},Brgh:{t:"long",v:24},Cntr:{t:"long",v:54},means:{t:"long",v:127},Lab:{t:"bool",v:!1},useLegacy:{t:"bool",v:!1},Auto:{t:"bool",v:!0}},E=r,a=O[t];
E.Brgh.v=a.Brgh.v;E.Cntr.v=a.Cntr.v;E.useLegacy.v=a.useLegacy.v;R.ZI(_,n,16);y=hu.Ur(_,r,n+4)+4;break;
case"brit":_.hp(n,8);y=8;break;case"levl":var S=new bc;y=jb.QR(S,O[t]);R.ia(_,n,S.data);break;case"curv":y=a4.a3(_,n,O[t]);
break;case"expA":y=14;_.hp(n,14);R.Ho(_.data,n,1);R.Be(_.data,n+2,O[t].Exps?O[t].Exps.v:0);R.Be(_.data,n+6,O[t].Ofst?O[t].Ofst.v:0);
R.Be(_.data,n+10,O[t].gammaCorrection?O[t].gammaCorrection.v:1);break;case"vibA":R.ZI(_,n,16);y=hu.Ur(_,O[t],n+4)+4;
break;case"hue2":y=c7.a3(_,n,O[t]);break;case"blnc":y=19;_.hp(n,y);var e=["ShdL","MdtL","HghL"];for(var m=0;
m<3;m++){var P=O[t][e[m]].v;for(var b=0;b<3;b++)P.push(R.s7(_.data,n+m*6+b*2,P[b].v))}_.data[n+18]=O[t].PrsL.v?1:0;
break;case"blwh":var r={classID:"null",bwPresetKind:{t:"long",v:1},blackAndWhitePresetFileName:{t:"TEXT",v:""}},T="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var m=0;m<T.length;m++){r[T[m]]=O[t][T[m]]}R.ZI(_,n,16);y=hu.Ur(_,r,n+4)+4;break;case"phfl":R.hP(_,n,2);
var C=O[t].Clr.v;R.hP(_,n+2,7);R.hP(_,n+4,Math.round(C.Lmnc.v*100));R.hP(_,n+6,Math.round(C.A.v*100));
R.hP(_,n+8,Math.round(C.B.v*100));R.hP(_,n+10,0);var Z=n+2+10;_.hp(Z,5);R.h1(_.data,Z,O[t].Dnst.v);Z+=4;
_.data[Z]=O[t].PrsL.v?1:0;Z++;y=Z-n;break;case"mixr":y=44;_.hp(n,y);var W=a3.lt(O[t]);R.Ho(_.data,n,1);
R.Ho(_.data,n+2,W.nk?1:0);for(var m=0;m<20;m++)R.s7(_.data,n+4+m*2,W.h[m]);break;case"clrL":case"rplc":R.hP(_,n,1);
R.ZI(_,n+2,16);y=hu.Ur(_,O[t],n+6)+6;break;case"nvrt":y=0;break;case"post":R.hP(_,n,O[t].Lvls.v);y=2;
break;case"thrs":R.hP(_,n,O[t].Lvl.v);y=2;break;case"grdm":var s=O[t].Rvrs?O[t].Rvrs.v:!1,f=!1,q=867527939,g=!1,i=!1,u=2048,I=[0,0,0,0],Y=[32768,32768,32768,32768],U=O[t].Grad.v,F,N,o=U.Clrs==null?1:0;
if(o==0){F=U;N=JSON.parse(aF.p2.aou).v}else{F=ie.gV("grdm").Grad.v;N=U}_.hp(n,4);R.Ho(_.data,n,1);_.data[n+2]=s?1:0;
_.data[n+3]=f?1:0;var X=n+4;R.JD(_,X,U.Nm.v);X+=4+U.Nm.v.length*2;X=cY.aoO(_,X,F);R.hP(_,X,o);X+=2;R.ZI(_,X,N.RndS.v);
X+=4;R.hP(_,X,N.ShTr.v?1:0);X+=2;R.hP(_,X,N.VctC.v?1:0);X+=2;R.ZI(_,X,N.Smth.v);X+=4;R.hP(_,X,3);X+=2;
for(var m=0;m<4;m++)R.hP(_,X+m*2,I[m]);X+=8;for(var m=0;m<4;m++)R.hP(_,X+m*2,Y[m]);X+=8;X+=2;y=X-n;break;
case"selc":y=iH.a3(_,n,O[t]);break;case"FMsk":R.ia(_,n,O[t]);y=O[t].length;break;case"Txt2":var J=new bc,c=cn.uF(O[t].v2,J),p=Q.Q(c,!0);
for(var m=0;m<c;m++)p[m]=J.data[m];R.ia(_,n,p);y=p.length;break;case"vmsk":var d=O[t],k=0;R.ZI(_,n,3);
if(!d.Cu)k+=1<<1;if(!d.isEnabled)k+=1<<2;R.ZI(_,n+4,k);y=8;var A=d.i.length;_.hp(n+8,A*26);fu.OH(_.data,n+8,d.i,x.a,x.n);
y+=A*26;break;case"shmd":R.ZI(_,n,Object.keys(O[t]).length);var Z=n+4;for(var $ in O[t]){R.eB(_,Z,"8BIM");
Z+=4;R.eB(_,Z,$);Z+=4;R.ZI(_,Z,0);Z+=4;R.ZI(_,Z,0);Z+=4;R.ZI(_,Z,16);Z+=4;var K=hu.Ur(_,O[t][$],Z);if(K%4!=0)K+=4-K%4;
R.ZI(_,Z-8,K+4);Z+=K}y=Z-n;break;case"TySh":var Z=n;R.Sj(_,Z,1);Z+=2;var G=O[t],J=new bc;G.m1.DocumentResources=JSON.parse(JSON.stringify(G.m1.ResourceDict));
var c=gU.uF(G.m1,J),p=Q.Q(c,!0);for(var m=0;m<c;m++)p[m]=J.data[m];G.gt.EngineData={t:"tdta",v:p};var z=G.m1.EngineDict.Editor.Text;
G.gt.Txt.v=z.substring(0,z.length-1);R.a0A(_,Z,G.D);Z+=48;R.Sj(_,Z,50);Z+=2;R.ZI(_,Z,16);Z+=4;Z+=hu.Ur(_,G.gt,Z);
R.Sj(_,Z,1);Z+=2;R.ZI(_,Z,16);Z+=4;Z+=hu.Ur(_,G.ZA,Z);R.agS(_,Z,G.T1);Z+=16;y=Z-n;break;case"lmfx":R.ZI(_,n,0);
R.ZI(_,n+4,16);var r=JSON.parse(JSON.stringify(O[t])),M=!1;dk.U1(r);for(var m=0;m<aF.Ck.length;m++)if(r[aF.Ck[m]]!=null)M=!0;
R.eB(_,V,M?"lmfx":"lfx2");y=hu.Ur(_,r,n+8)+8;break;case"Patt":var Z=aa.WF(_,n,O[t]);y=Z-n;break;case"SoLd":R.eB(_,n,"soLD");
R.ZI(_,n+4,4);R.ZI(_,n+8,16);y=hu.Ur(_,O[t],n+12)+12;break;case"vstk":case"pths":R.ZI(_,n,16);y=hu.Ur(_,O[t],n+4)+4;
break;case"vscg__":R.eB(_,n,O[t].key);R.ZI(_,n+4,16);y=hu.Ur(_,O[t].h,n+8)+8;break;case"vogk":R.ZI(_,n,1);
R.ZI(_,n+4,16);Q.X.ats(O[t]);for(var m=0;m<O[t].length;m++){var hl=O[t][m].v.keyOriginResolution;if(hl)hl.v=x.pa}var j={classID:"null",keyDescriptorList:{t:"VlLs",v:O[t]}};
y=hu.Ur(_,j,n+8)+8;break;case"lnkD":case"lnk2":case"lnk3":var X=n;for(var m=0;m<O[t].length;m++){var w=O[t][m],B=X;
R.LJ(_,X,0);X+=8;R.eB(_,X,w.type);X+=4;R.ZI(_,X,w.Uo);X+=4;_.hp(X,1);_.data[X]=w.Et.length;X++;R.eB(_,X,w.Et);
X+=w.Et.length;R.JD(_,X,w.L5+"\0");X+=4+w.L5.length*2+2;R.eB(_,X,w.xP);X+=4;R.eB(_,X,w.pA);X+=4;R.LJ(_,X,w.raw.length);
X+=8;_.hp(X,1);_.data[X]=w.open;X++;R.ia(_,X,w.raw);X+=w.raw.length;R.ZI(_,X,1);X+=4;X+=11;var bB=X-B-8;
R.LJ(_,B,bB);if(bB%4!=0){_.hp(X,4-bB%4);X+=4-bB%4}}y=X-n;break;case"FEid":var X=n;R.ZI(_,X,3);X+=4;for(var bG=0;
bG<O[t].length;bG++){var eb=O[t][bG];X+=4;var fe=X;X+=4;R.Fr(_,X,eb.id);X+=eb.id.length+1;R.ZI(_,X,1);
X+=4;var gB=Q.Q(eb.rect.O()),hp=eb.rect,g6=Q.Q(hp.O());X+=4;var by=X;X+=4;R.ui(_,X,hp);X+=16;R.ZI(_,X,8);
X+=4;R.ZI(_,X,24);X+=4;for(var m=0;m<24+2;m++){var e7=-1;if(m==0)e7=0;if(m==1)e7=1;if(m==2)e7=2;if(m==25)e7=3;
R.ZI(_,X,e7!=-1?1:0);X+=4;if(e7!=-1){Q.nV(eb.buffer,gB,e7);Q.pc(gB,eb.rect,g6,hp);X+=4;var aN=X;X+=4;
_.hp(X,hp.O()+2);X=j3.lo(!0,g6,_.data,hp.a,hp.n,X,3);R.ZI(_,aN,X-(aN+4))}}R.ZI(_,by,X-(by+4));_.hp(X,1);
_.data[X]=eb.z?1:0;X++;if(eb.z!=null){var jK=hp,f7=Q.Q(jK.O());f7.fill(eb.z.color);Q.pc(eb.z.channel,eb.z.rect,f7,jK);
R.ui(_,X,jK);X+=16;X+=4;var hW=X;X+=4;_.hp(X,jK.O()+2);X=j3.lo(!0,f7,_.data,jK.a,jK.n,X,3);R.ZI(_,hW,X-(hW+4))}var bB=X-(fe+4);
R.ZI(_,fe,bB);if(bB%4!=0)X+=4-bB%4}y=X-n;break;case"Anno":var km=n,ca=O[t].length;R.hP(_,km,2);R.hP(_,km+2,1);
km+=4;R.ZI(_,km,ca);km+=4;for(var m=0;m<ca;m++){var aU=O[t][m],eJ=aU[0],am=aU[1],eA=km;km+=4;R.eB(_,km,"txtA");
km+=4;_.hp(km,2);_.data[km]=1;_.data[km+1]=28;km+=2;R.hP(_,km,1);km+=2;R.ui(_,km,new a8(eJ,am,17,21));
km+=16;R.ui(_,km,new a8(eJ+8,am+10,241,141));km+=16;_.hp(km,10);fU.ij(_.data,km,aU[2]);km+=10;km+=R.Fr(_,km,aU[3]);
km+=R.Fr(_,km,"");km+=R.Fr(_,km,"D:20211012120233+01'00'");var dj=aU[4].length*2;R.ZI(_,km,12+2+dj);
km+=4;R.eB(_,km,"txtC");km+=4;R.ZI(_,km,2+dj);km+=4;_.hp(km,2);_.data[km]=254;_.data[km+1]=255;km+=2;
R.akn(_,km,aU[4]);km+=dj;R.ZI(_,eA,km-eA)}y=km-n;break;default:console.log("unknown layer tag: "+t+", size: "+y);
n-=12;continue}var cM=["Txt2","artd","extd","pths"];if(cM.indexOf(t)==-1)if(y%4!=0)y+=4-y%4;if(h)R.LJ(_,n-8,y);
else R.ZI(_,n-4,y);if(t!="luni"&&t!="TySh")if(y%4!=0)y+=4-y%4;n+=y}return n};dk.Hn=function(_){for(var m=0;
m<aF.order.length;m++){var n=aF.order[m],O=aF.Ck[m];if(_[O]==null)_[O]={t:"VlLs",v:[]};if(_[n]!=null){_[O].v.push(_[n]);
delete _[n]}var l=[];for(var x=0;x<_[O].v.length;x++){var t=_[O].v[x];if(t.v.present==null||t.v.present.v==!0)l.push(t)}_[O].v=l}};
dk.U1=function(_){for(var m=0;m<aF.order.length;m++){var n=aF.order[m],O=aF.Ck[m],l=_[O].v.length;if(l==0){delete _[O];
continue}if(l==1){_[n]=_[O].v[0];delete _[O];continue}}};dk.OL=function(_,n){if(n=="GdFl"){if(_.Angl==null)_.Angl={v:{type:"#Ang",val:0},t:"UntF"};
if(_.Algn==null)_.Algn={v:!0,t:"bool"};if(_.Scl==null)_.Scl={v:{type:"#Prc",val:100},t:"UntF"};if(_.Ofst==null)_.Ofst={v:{classID:"Pnt",Hrzn:{v:{type:"#Prc",val:0},t:"UntF"},Vrtc:{v:{type:"#Prc",val:0},t:"UntF"}},t:"Objc"};
if(_.Rvrs==null)_.Rvrs={v:!1,t:"bool"};if(_.Dthr==null)_.Dthr={v:!1,t:"bool"}}if(n=="PtFl"){if(_.Algn==null)_.Algn={v:!0,t:"bool"};
if(_.Angl==null)_.Angl={v:{type:"#Ang",val:0},t:"UntF"};if(_.Scl==null)_.Scl={v:{type:"#Prc",val:100},t:"UntF"};
if(_.phase==null)_.phase={v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}};dk.clone=function(_,n){var O={};
if(_=="TySh"){O.D=n.D.clone();O.gt=JSON.parse(JSON.stringify(n.gt));O.ZA=JSON.parse(JSON.stringify(n.ZA));
O.T1=n.T1.clone();O.m1=JSON.parse(JSON.stringify(n.m1));if(n.add)O.add={vmsk:n.add.vmsk.clone(),vogk:JSON.parse(JSON.stringify(n.add.vogk))};
return O}else if(_=="fxrp")return n.clone();else if(_=="vmsk")return n.clone();else return JSON.parse(JSON.stringify(n))};
function eC(_,n){}eC.GQ=function(_,n,O,l){l=eC.ava(_,n,O,l);return l};eC.uF=function(_,n,O,l,x){l=eC.a8a(_,n,O,l,x);
return l};eC.ava=function(_,n,O,l){var x=l;_.rect=R.NU(O,l);l+=16;var t=R.Pr(O,l);l+=2;_._r=[];var h=n.tS;
for(var m=0;m<t;m++){_._r[m]={id:R.X1(O,l),length:(h?R.MY:R.v)(O,l+2)};l+=h?10:6}var V=R.c$(O,l,4);l+=4;
if(V!="8BIM"){console.log("Invalid Blend mode signature: "+V);alert("Error in Photoshop file: wrong signature.");
throw"e"}_.to=R.c$(O,l,4);l+=4;_.opacity=O[l];l+=1;_._t=O[l]==1;l+=1;_.FQ=O[l];l+=1;if(O[l]!=0)console.log("error in filler!");
l+=1;var y=R.v(O,l);l+=4;var r=l;l=eC.akC(_,O,l);l=eC.aoe(_,O,l);var E=R.B8(O,l);_.name=E.N2;l+=E.length;
if(E.length%4!=0)l+=4-E.length%4;l=dk.sQ(O,l,r+y,_.add,h,n);if(_.add.lsct){if(_.add.lsct.to)_.to=_.add.lsct.to;
_.add.lsct=_.add.lsct.type}return l};eC.a8a=function(_,n,O,l,x){var t=l;R.ui(O,l,_.rect);l+=16;var h=_.au3();
R.hP(O,l,h.length);l+=2;var V=n.tS;x.push(l);for(var m=0;m<h.length;m++){R.Sj(O,l,h[m]);if(V)R.LJ(O,l+2,0);
else R.ZI(O,l+2,0);l+=V?10:6}R.eB(O,l,"8BIM");l+=4;R.eB(O,l,_.to);l+=4;R.__(O,l,_.opacity,1);l+=1;R.__(O,l,_._t?1:0,1);
l+=1;R.__(O,l,_.FQ,1);l+=1;R.__(O,l,0,1);l+=1;var y=l;R.ZI(O,l,0);l+=4;var r=l;l=eC.an5(_,O,l);l=eC.aeD(_,O,l);
var E=R.Fr(O,l,_.name.slice(0,255));l+=E;if(E%4!=0)l+=4-E%4;if(_.add.lsct){_.add.lsct={type:_.add.lsct};
if(_.to=="pass"){_.add.lsct.to="pass";_.to="norm"}}if(_.to=="pass")_.add.lsct={type:_.add.lsct,to:"pass"};
if(_.add.brit)_.add.CgEd=_.add.brit;l=dk.nD(O,l,_.add,V,n);delete _.add.CgEd;if(_.add.lsct){if(_.add.lsct.to)_.to=_.add.lsct.to;
_.add.lsct=_.add.lsct.type}var a=l-r;R.ZI(O,y,a);return l};eC.akC=function(_,n,O){var l=R.v(n,O);O+=4;
if(l==0)return O;var x=O;_.z=new v.Pt;_.z.rect=R.NU(n,O);O+=16;_.z.color=n[O];O+=1;var t=eC.Ya(_.z,n,O);
O+=1;if(t){var h=!1,V=255,y=0,r=255,E=0;for(var m=0;m<_._r.length;m++)if(_._r[m].id==-3)h=!0;if(h){_.VI=eC.z8(n,O);
O+=18}var a=O,S=n[O];O++;if(S>>0&1){V=n[O];O++}if(S>>1&1){y=R.eq(n,O);O+=8}if(S>>2&1){r=n[O];O++}if(S>>3&1){E=R.eq(n,O);
O+=8}if((O-a&1)==1)O++;_.lL=[V,y,r,E]}else{if(l==20)O+=2;else{_.VI=eC.z8(n,O);O+=18}}return x+l};eC.an5=function(_,n,O){R.ZI(n,O,0);
O+=4;if(_.z==null)return O;var l=_.Ek(),x=_.add.vmsk,t=O,h=!0;R.ZI(n,O,0);R.ui(n,O,_.z.rect);O+=16;R.__(n,O,_.z.color);
O+=1;eC.S7(_.z,n,O,h);O+=1;if(h){if(_.VI){eC.a3G(n,O,_.VI);O+=18}R.__(n,O,15);O+=1;R.__(n,O,l?l.zG:255);
O+=1;R.cS(n,O,l?l.Vw:0);O+=8;R.__(n,O,x?x.zG:255);O+=1;R.cS(n,O,x?x.Vw:0);O+=8;O++}R.ZI(n,t-4,O-t);return O};
eC.z8=function(_,n){var O=new v.Pt;eC.Ya(O,_,n);n+=1;O.color=_[n];n+=1;O.rect=R.NU(_,n);n+=16;return O};
eC.a3G=function(_,n,O){eC.S7(O,_,n,!1);n+=1;R.__(_,n,O.color);n+=1;R.ui(_,n,O.rect);n+=16};eC.Ya=function(_,n,O){var l=n[O];
_.Cu=(l>>0&1)==0;_.isEnabled=(l>>1&1)==0;_.pj=(l>>3&1)==1;return l>>4&1};eC.S7=function(_,n,O,l){var x=0;
if(!_.Cu)x+=1<<0;if(!_.isEnabled)x+=1<<1;if(_.pj)x+=1<<3;if(l)x+=1<<4;R.__(n,O,x)};eC.aoe=function(_,n,O){var l=R.v(n,O);
O+=4;for(var m=0;m<l;m++)_.D2[m]=n[O+m];return O+l};eC.aeD=function(_,n,O){R.ZI(n,O,_.D2.length);O+=4;
n.hp(O,40);for(var m=0;m<40;m++){n.data[O+m]=_.D2[m]}return O+40};function j3(){}j3.GQ=function(_,n,O,l){l=j3.alG(n,n.tS,n.f_,n.Rh,_,O,l);
return l};j3.QR=function(_,n,O,l,x,t){l=j3.a2R(_,n,O,l,x,t);return l};j3.alG=function(_,n,O,l,x,t,h){var V=x._r,y={},r=h;
for(var m=0;m<V.length;m++){var E=V[m],a=E.id,S=E.length,e;if(a==-3)e=x.VI.rect;else if(a==-2)e=x.z.rect;
else e=x.rect;var P=j3.Wm(n,O,t,e.a,e.n,h,S);h+=S;if(a==-3)x.VI.channel=P;else if(a==-2)x.z.channel=P;
else y["c"+a]=P}var b=new Q.eO(0);b.EX=null;if(l==3){b.o=y.c0;b.J=y.c1;b.k=y.c2;b.EX=y["c-1"]}else if(l==1){b.o=y.c0;
b.J=y.c0;b.k=y.c0;b.EX=y["c-1"]}else if(l==4){var T=_.OS.r1039,C=y.c0,Z=y.c1,W=y.c2,s=y.c3;if(T){var f=T.a9G,q=17;
if(f==null){var g=ICC.R(T.buffer);console.log(g);f=T.a9G=ICC.U.sampleLUT(g,q)}var i={o:C,J:Z,k:W,EX:s},u=Q.Q(C.length*4);
Q.gJ(i,u);Q.sJ(u);ICC.U.applyLUT4(f,q,u,u);Q.ah(u,i)}else{for(var m=0;m<C.length;m++){var I=1-C[m]*(1/255),Y=1-Z[m]*(1/255),U=1-W[m]*(1/255),F=1-s[m]*(1/255),N=UDOC.C.cmykToRgb([I,Y,U,F]);
C[m]=N[0]*255;Z[m]=N[1]*255;W[m]=N[2]*255}}b.o=C;b.J=Z;b.k=W;b.EX=y["c-1"]}if(b.o==null)b.o=Q.Q(0);if(b.EX==null&&b.o!=null){b.EX=b.o.slice(0);
b.EX.fill(255)}if(b.J==null)b.J=b.o.slice(0);if(b.k==null)b.k=b.o.slice(0);x.buffer=Q.Q(Math.max(0,x.rect.O()*4));
Q.gJ(b,x.buffer);return h};j3.a2R=function(_,n,O,l,x,t){var h=n.au3(),V=new Q.eO(n.rect.O());Q.ah(n.buffer,V);
for(var m=0;m<h.length;m++){var y=h[m],r,E;if(y==-3)r=n.VI.rect;else if(y==-2)r=n.z.rect;else r=n.rect;
if(y==-3)E=n.VI.channel;if(y==-2)E=n.z.channel;if(y==-1)E=V.EX;if(y==0)E=V.o;if(y==1)E=V.J;if(y==2)E=V.k;
O.hp(l,r.O()*3+4);var a=l;l=j3.lo(_,E,O.data,r.a,r.n,l,t[1]?3:1);var S=l-a;if(_)R.dk(O.data,x+m*10+2,S);
else R.h1(O.data,x+m*6+2,S)}return l};j3.Wm=function(_,n,O,l,x,t,h){var V=R.Pr(O,t);t+=2;return j3.G2(_,n,O,l,x,t,V,h-2)};
j3.lo=function(_,n,O,l,x,t,h){R.s7(O,t,h);t+=2;t=j3.fz(_,n,O,l,x,t,h);return t};j3.G2=function(_,n,O,l,x,t,h,V){var y,r=l*x*(n>>>3),E=r&3,a=r+(E==0?0:4-E);
if(V<=0){return Q.Q(a)}if(h>3){console.log("unknown compression: "+h,l,x,l*x,V);h=0}if(h==0){if(t+a<=O.length)y=O.slice(t,t+a);
else{y=Q.Q(r);for(var m=0;m<r;m++)y[m]=O[t+m]}t+=r}else if(h==1){y=Q.Q(r);var S=_?4:2,e=j3.zH(O,y,l,x,t,t+S*x,S);
t+=S*x+e}else if(h==2||h==3){var P=new Uint8Array(O.buffer,t+2,V-6),b=Q.Q(a);UZIP.inflateRaw(P,b);if(h==3){if(n==8)for(var T=0;
T<x;T++){var C=T*l+1,Z=C+l-1,W=b[C-1];for(var s=C;s<Z;s++){W+=b[s];b[s]=W&255}}else for(var T=0;T<x;
T++){var C=T*l+1,Z=C+l-1,W=b[2*C-2]<<8|b[2*C-1];for(var s=C;s<Z;s++){var q=s<<1;W+=b[q]<<8|b[q+1];b[q]=W>>>8;
b[q+1]=W&255}}}if(b.length==a)y=b;else{y=Q.Q(a);for(var m=0;m<b.length;m++)y[m]=b[m]}}if(n==16){var g=Q.Q(l*x);
for(var m=0;m<r;m+=2)g[m>>>1]=y[m];y=g}return y};j3.fz=function(_,n,O,l,x,t,h){var V=l*x;if(h==0)for(var m=0;
m<V;m++)O[t++]=n[m];else if(h==1){var y=_?4:2,r=j3.ZU(n,O,l,x,t,t+y*x,y);t+=y*x+r}else if(h==2||h==3){if(h==3){var E=new Uint8Array(n.length);
for(var a=0;a<x;a++){var S=a*l+1,e=S+l-1,P=n[S-1];E[S-1]=P;for(var b=S;b<e;b++){E[b]=n[b]+(256-P)&255;
P=n[b]}}n=E}O[t]=120;O[t+1]=156;t+=2;var T=pako.deflateRaw(n,{a6C:4});R.lP(O,t,T);t+=T.length+4}else console.log("Unknown compression: "+h);
return t};j3.zH=function(_,n,O,l,x,t,h){if(!(_ instanceof Uint8Array)||!(n instanceof Uint8Array))throw"e";
var V=t,y=l|0;if(h==2)for(var m=0;m<y;m++){var r=R.Pr(_,x+(m<<1));j3.kh(_,t,r,n,m*O,O);t+=r}else for(var m=0;
m<y;m++){var r=R.v(_,x+(m<<2));j3.kh(_,t,r,n,m*O,O);t+=r}return t-V};j3.ZU=function(_,n,O,l,x,t,h){var V=t;
if(h==2)for(var m=0;m<l;m++){var y=j3.Nv(_,m*O,O,n,t);R.Ho(n,x+m*2,y);t+=y}else for(var m=0;m<l;m++){var y=j3.Nv(_,m*O,O,n,t);
R.h1(n,x+m*4,y);t+=y}return t-V};j3.Nv=function(_,n,ab,O,l){var x,t,h,V,y,er,r;V=n+ab;for(h=n,t=l;ab>0;
h=x,ab-=er){r=ab<128?ab:128;if(h<=V-3&&_[h+1]==_[h+0]&&_[h+2]==_[h+0]){for(x=h+3;x<h+r&&_[x]==_[h+0];
)++x;er=x-h;O[t++]=1+256-er;O[t++]=_[h+0]}else{for(x=h;x<h+r;)if(x<=V-3&&_[x+1]==_[x+0]&&_[x+2]==_[x+0])break;
else++x;er=x-h;O[t++]=er-1;for(var m=0;m<er;m++)O[t+m]=_[h+m];t+=er}}return t-l};j3.kh=function(_,n,O,l,x,t){for(var h=0;
h<O;){var ab=_[n++];if(ab>=128){var V=_[n++],y=x+(257-ab);l.fill(V,x,y);x=y;h+=2}else{for(var m=0;m<=ab;
m++)l[x+m]=_[n+m];n+=ab+1;x+=ab+1;h+=1+1+ab}}};function jI(){}jI.$V=function(_,n,O){return;var l="",x=n;
while(x!=0){var t=x%1e3+"";while(t.length<3)t="0"+t;l=(l==""?t:t+" ")+l;x=Math.floor(x/1e3)}while(l.startsWith("0")&&l!="0")l=l.slice(1);
while(l.length<11)l=" "+l;console.log("===",l,"\t".repeat(_),": "+O)};jI.akp=function(_){var n={OS:{}},l=0,x=0,V;
n.tS=!1;n.f_=8;var O=new Uint8Array(_);x=jI.u4(n,O,l);l=x;x=jI.ll(n,O,l);l=x;var t=R.v(O,l);l+=4+t;var h=n.tS?8:4;
if(n.tS)V=R.MY(O,l);else V=R.v(O,l);l+=h+V;x=jI.la(n,O,l);return[{n5:new a8(0,0,n.a,n.n),data:n.buffer.buffer}]};
jI.GQ=function(_,n){n.tS=!1;n.f_=8;var O=new Uint8Array(_),l=0,x=0,k,gB=!1,hp=!0,g6=!1,by=0,c_=0;x=jI.u4(n,O,l);
jI.$V(0,x-l,"PSD Header");l=x;x=jI.ll(n,O,l);jI.$V(0,x-l,"Color Mode Data");l=x;x=jI.ajB(n,O,l);jI.$V(0,x-l,"Image Resources");
l=x;x=jI.ass(n,O,l);jI.$V(0,x-l,"Layer And Mask Info");l=x;x=jI.la(n,O,l);jI.$V(0,x-l,"Merged Image");
l=x;if(n.B.length==0){var t=n.Ni();t.iA("Background");n.B.push(t);t.buffer=n.buffer.slice(0);t.rect=new a8(0,0,n.a,n.n)}if(n.OS.r1005){n.pa=R.arO(n.OS.r1005,0)}if(n.OS.r1026){var O=n.OS.r1026;
for(var m=0;m<O.length;m+=2){var x=n.B[m>>>1];if(x)x.Ac=R.Pr(O,m)}}if(n.OS.r1072){var O=n.OS.r1072;for(var m=0;
m<O.length;m++){var x=n.B[m];if(x)x.DZ=O[m]==1}}if(n.OS.r1032){n.P9=jI.vz(n.OS.r1032,0)}delete n.OS.r1036;
n.nE(n.OS.r1039);if(n.OS.r1050){var h=R.v,V=n.OS.r1050,y=R.v(V,0);if(y==6){var r=4,E=R.NU(V,r);r+=16;
var a=R.h8(V,r);r+=4+a.length*2;var S=h(V,r);r+=4;var e=n.Ks;for(var m=0;m<S;m++){var P=D.aR.rP(),T;
e.push(P);P=P.v;P.sliceID.v=h(V,r);r+=4;P.groupID.v=h(V,r);r+=4;var b=h(V,r);r+=4;if(b==1){T=h(V,r);
r+=4}var a=R.h8(V,r);r+=4+a.length*2;var C=h(V,r);r+=4;var Z=[h(V,r),h(V,r+4),h(V,r+8),h(V,r+12)];r+=16;
D.aR.ox(e,e.length-1,Z);var W=P.url.v=R.h8(V,r);r+=4+W.length*2;var s=P.null.v=R.h8(V,r);r+=4+s.length*2;
var f=P.Msge.v=R.h8(V,r);r+=4+f.length*2;var q=P.altTag.v=R.h8(V,r);r+=4+q.length*2;P.cellTextIsHTML.v=V[r]==1;
r++;var g=P.cellText.v=R.h8(V,r);r+=4+g.length*2;var i=h(V,r);r+=4;var u=h(V,r);r+=4;var I=V.slice(r,r+4);
r+=4;if(b!=2)e.pop()}}else if(y==8){var Y={};hu.Me(V,Y,8,!1);var V=n.Ks=Y.slices.v;for(var m=0;m<V.length;
m++){if(V[m].v.origin.v.ESliceOrigin!="userGenerated"){V.splice(m,1);m--}}}}if(n.OS.r1058){var U=n.OS.r1058,F=UTIF.decode(U.buffer,{parseMN:!1,debug:!1});
cr.yD(F[0],n.I6);delete n.OS.r1058}if(n.OS.r1060){var N=R.hm(n.OS.r1060);cr.a4_(N,n.I6);delete n.OS.r1060}if(n.OS.r1065){var O=n.OS.r1065;
n.OQ={};hu.Me(O,n.OQ,4,!1)}if(n.OS.r1069){var O=n.OS.r1069,o=[];for(var m=2;m<O.length;m+=4){var T=R.v(O,m);
for(var X=0;X<n.B.length;X++){var x=n.B[X];if(x.add.lyid==T&&x.add.lsct!=3)o.push(X)}}n.g=o}if(n.OS.r1025){var J=n.OS.r1025;
delete n.OS.r1025;var c=fu.Pd(J,0,J.length,n.a,n.n),p=new v.ez;p.i=c;n.VE[0]=fJ.ew("Working Path",{vmsk:p})}var d=n.add.pths;
delete n.add.pths;var A=n.OS.r3000;if(A){k={};hu.Me(A,k,4,!1);delete n.OS.r3000}if(d){var $=d.pathSymmetrySelectedPath;
if($){var K=d.pathList.v[$.v].v,G=K.pathUnicodeName.v;n.VZ=G.startsWith("Tile Symmetry")}}for(var z=0;
z<=997;z++){var M="r"+(2e3+z),J=n.OS[M];if(J==null)break;var c=fu.Pd(J,0,J.length,n.a,n.n),G="Path "+z;
if(d){var hl=d.pathList.v[z].v;G=hl.pathUnicodeName.v;if(G=="Tile Symmetry 1")continue}var j=k?k.keyRootDescriptorList.v[z].v.keyDescriptorList.v:v.W0(c),p=new v.ez;
p.i=c;n.VE.push(fJ.ew(G,{vmsk:p,vogk:j}));delete n.OS[M]}delete n.tS;if(n.OS.r4000){n.Iq=Q.Iq.GQ(n.OS.r4000)}var w=n.OS.r7000,B=n.OS.r7001;
if(w){var bB=R.hm(w);n.Pp=jI.Vc(bB)}if(B){var bB=R.hm(B);n.dm=jI.t$(bB)}delete n.OS.r7000;delete n.OS.r7001;
var bG=new a8(0,0,n.a,n.n),eb=n.add.Txt2,fe=eb;if(fe){fe=fe.v2;if(fe._DocumentResources==null)fe=gJ.aa1(fe)}var e7=-1;
for(var m=0;m<n.B.length;m++){var x=n.B[m],aN=x.add.lsct,jK=x.add.vmsk,f7=x.Ek();if(aN==bN.eg){by++;
x.add.lspf=0}else if(aN==bN.GV||aN==bN.SE)by--;if(x.name==""){x.name="Layer "+(m+1);g6=!0}if(g6&&x.kx()&&x.to=="norm")x.to="pass";
if(x.lx()&&x.vO(n).z){var hW=x.vO(n);hW.z.isEnabled=x.add.SoLd.filterFX.v.filterMaskEnable.v}if(jK&&x.uq()){var km=aF.eo.default;
if(x.add.vstk==null)x.add.vstk=JSON.parse(JSON.stringify(km));else{var ca="strokeStyleLineDashSet";if(x.add.vstk[ca]==null)x.add.vstk[ca]=JSON.parse(JSON.stringify(km[ca]))}x.add.vstk.strokeStyleResolution.v=n.pa}if(jK&&(x.add.vogk==null||Q.M.Cw(jK.i)!=x.add.vogk.length))x.W0();
if(!1){var aU=x.add.vogk,eJ=!0;for(var am=0;am<aU.length;am++){var eA=aU[am].v.keyShapeInvalidated;if(eA==null||eA.v==!1)eJ=!1}if(eJ)x.W0()}if(x.add.SoLd&&x.rect.wk()){console.log("redrawing smart instance");
x.Ga(n)}if(f7==null&&x.z!=null){if(x.z.pj==!1){x.z.pj=!0;x.VI=x.z.clone()}}f7=x.Ek();if(x.lL){var km=x.lL,p=jK;
if(f7){f7.zG=km[0];f7.Vw=km[1]}if(p){p.zG=km[2];p.Vw=km[3]}x.lL=null}if(f7!=null&&jK!=null&&(f7.Vw+jK.Vw!=0||f7.zG+jK.zG!=2*255))x.bf(n);
else if(jK!=null&&!x.uq())x.bf();else if(f7&&f7.zG!=255&&x.uq())x.bf(n);var dj=x.add.artb;if(dj&&dj.artboardBackgroundType==null)dj.artboardBackgroundType={t:"long",v:1};
if(dj&&by!=0)delete x.add.artb;var cM=x.add.vstk;if(x.uq()&&(x.rect.wk()||jK&&jK.Vw!=0||cM&&!cM.fillEnabled.v&&(!cM.strokeEnabled.v||cM.strokeStyleLineWidth.v.val==0)))x.Ih(n);
if(x.add.TySh){gB=!0;if(!x.rect.wk())hp=!1}if(x.add.TySh&&fe){e7++;var b2=x.add.TySh.m1,cm=b$.eR(b2),az=fe._DocumentObjects._TextObjects;
if(az.length<=e7){console.log("Txt2 incomplete");continue}var j_=az[e7]._Model,hh=j_._StyleRun?j_._StyleRun._RunArray:[],gs=b2.EngineDict.StyleRun.RunArray;
for(var fI=0;fI<gs.length;fI++){var c0=gs[fI].StyleSheet.StyleSheetData;if(hh[fI]==null)continue;var ay=hh[fI]._RunData._StyleSheet._Features;
if(ay&&ay._BaselineDirection)c0.BaselineDirection=parseInt(ay._BaselineDirection.slice(1));if(ay&&ay._FillBackgroundFlag)c0._FillBackgroundFlag=ay._FillBackgroundFlag;
if(ay&&ay._FillBackgroundColor){var fC=ay._FillBackgroundColor,jQ=fC._Color._Values.slice(0);for(var X=0;
X<4;X++)jQ[X]=parseFloat(jQ[X].slice(1));c0._FillBackgroundColor={Type:1,Values:jQ}}if(ay&&ay._LineWidth)c0._LineWidth=parseFloat(ay._LineWidth.slice(1))}var fw=b2.EngineDict.ParagraphRun.RunArray,aG=j_._ParagraphRun._RunArray;
if(aG==null)aG=[];var a_=Math.min(aG.length,fw.length);for(var X=0;X<a_;X++){var el=fw[X].ParagraphSheet.Properties,dD=fe._DocumentResources._ParagraphSheetSet._Resources,ip=aG[X]._RunData._ParagraphSheet;
if(typeof ip=="string")ip=dD[parseInt(ip.slice(1))]._Resource;var jn=ip._Parent==null?ip:dD[parseInt(ip._Parent.slice(1))]._Resource;
ip=ip._Features;jn=jn._Features;var af=ip._ParagraphDirection;if(af==null)af=jn._ParagraphDirection;
if(af)el._Direction=parseInt(af.slice(1));if(ip._ComposerEngine)el._ComposerEngine=parseInt(ip._ComposerEngine.slice(1))}if(j_._AlternateGlyphRun){var aG=j_._AlternateGlyphRun._RunArray,a_=aG.length,iU=b2.EngineDict.AlternateGlyphRun=b$.aiR();
for(var X=0;X<a_;X++){var ip=aG[X],hV={},gn=ip._RunData._AlternateGlyphSheet;if(gn)hV.Glyph=parseInt(gn._Glyph.slice(1));
iU.RunArray.push(hV);iU.RunLengthArray.push(parseInt(ip._Length.slice(1)))}}var fY=fe._DocumentResources,e1=fY._TextFrameSet._Resources,d6=e1[e7]._Resource,fO=d6._Data,i$=new aY(1,0,0,1,0,0);
if(d6._0){var gy=parseFloat(d6._0[0].slice(1)),fT=parseFloat(d6._0[1].slice(1));i$.translate(gy,fT)}if(cm){i$.translate(cm[0],cm[1]);
b$.IU(b2,[0,0,cm[2]-cm[0],cm[3]-cm[1]])}else{if(d6._Bezier&&d6._Bezier._Points){var c=d6._Bezier._Points,gy=parseFloat(c[0].slice(1)),fT=parseFloat(c[1].slice(1));
if(gy!=0||fT!=0){i$.translate(gy,fT)}}}if(d6._Data&&d6._Data._FrameMatrix){var kl=d6._Data._FrameMatrix;
kl=kl.map(function(dL){return parseFloat(dL.slice(1))});i$.concat(new aY(kl[0],kl[1],kl[2],kl[3],kl[4],kl[5]))}i$.concat(x.add.TySh.D);
x.add.TySh.D=i$;var C=fO._Type?parseInt(fO._Type.slice(1)):0;if(C==2||C==1&&fO._PathData&&fO._PathData._Spacing=="i-3")if(d6._Bezier){var fy=function(dL){return parseFloat(dL.slice(1))},c=d6._Bezier._Points.map(fy);
if(cm)Q.p.D(c,new aY(1,0,0,1,-cm[0],-cm[1]),c);var g$=fO._PathData?fO._PathData._Reversed:!1,bt=fO._TextOnPathTRange;
if(bt==null)bt=["f-3","f-3"];b2.Curve={Points:c,TextOnPathTRange:bt.map(fy),Reversed:g$==null?!1:g$};
x.add.TySh.add={vmsk:new v.ez,vogk:null};b$.Y9(x.add.TySh)}if(fO._LineOrientation=="i2")b2._LineOrientation=2}}D.jC.qK(n,!0);
var jL={},hr=[];for(var m=0;m<n.B.length;m++){var ew=n.B[m].add.lyid;if(ew==null)continue;var c_=Math.max(c_,ew);
if(jL[ew]!=null)hr.push(m);else jL[ew]=!0}for(var m=0;m<hr.length;m++)n.B[hr[m]].add.lyid=c_+1+m};jI.vz=function(_,n){var O=R.v(_,n+12),l=[];
for(var m=0;m<O;m++){var x=_[n+16+m*5+4],t=R.aH(_,n+16+m*5)/32;l.push([x,t])}return l};jI.Vc=function(_){var n=new DOMParser,O=n.parseFromString(_,"text/xml").firstChild.children[0],l=O.getElementsByTagName("variables");
if(l.length==0)return[];l=l[0].children;var x=[],t="varName trait docRef placementMethod align valign clip".split(" ");
for(var h=0;h<l.length;h++){var V=l[h],y={};x.push(y);for(var r=0;r<t.length;r++){var E=t[r],a=V.getAttribute(E);
if(a==null)continue;y[E]=a}}return x};jI.t$=function(_){var n=new DOMParser,O=n.parseFromString(_,"text/xml").firstChild.children,l=[[]];
if(O==null)return l;for(var m=0;m<O.length;m++){var x=O[m],t=[];l.push(t);for(var h=0;h<x.children.length;
h++){var V=x.children[h];if(m==0)l[0].push(V.tagName);t.push(V.textContent)}}return l};jI.uF=function(_,n,O){D.jC.rj(_);
D.jC.qK(_,!1);_.tS=O[3]==!0;var l=[],x=[],P=0,T=1,q=16,g6=0;for(var m=0;m<_.B.length;m++){var t=_.B[m];
if(t.lx()&&t.vO(_).z){t.add.SoLd.filterFX.v.filterMaskEnable.v=t.vO(_).z.isEnabled}if(t.add.TySh){var h=t.add.TySh.m1,V=b$.LR(h);
t.add.TySh.gt.TextIndex={t:"long",v:l.length};l.push(h);if(V==2)b$.zy(t.add.TySh)}var y=t.add.vstk;if(y)y.strokeStyleResolution.v=_.pa;
if(t.uq()||O[2]&&t.add.SoLd){x[m]=[t.rect,t.buffer];t.rect=new a8;t.buffer=Q.Q(0);if(t.add.SoLd){var r=t.vO(_);
if(r!=null){x[m].push(r.buffer);r.buffer=Q.Q(r.buffer.length)}}}}if(l.length>0){var E=_.add.Txt2?_.add.Txt2.v2:null;
if(_.add.Txt2==null)_.add.Txt2={};_.add.Txt2.v2=dq.az6(l,null,E)}var a=[_.add.lnk2,_.add.FEid,_.add.Patt],S=_.aio(_.B);
_.ask(S);_.OS.r1005=new Uint8Array([0,0,0,0,0,1,0,2,0,0,0,0,0,1,0,2]);R.YU(_.OS.r1005,0,_.pa);R.YU(_.OS.r1005,8,_.pa);
if(_.t5()){_.OS.r1022=new Uint8Array([0,3+_.U_.length-1,0])}else delete _.OS.r1022;var e=new Uint8Array(_.B.length*2),b=new Uint8Array(_.B.length);
for(var m=0;m<_.B.length;m++){var t=_.B[m],C=t.Ac,Z=t.DZ?1:0;R.Ho(e,m*2,C);b[m]=Z;if(C>P)P=C;if(Z==0)T=0}if(P>0)_.OS.r1026=e;
if(T<1)_.OS.r1072=b;var W=_.P9,s=W.length,f=_.OS.r1032=Q.Q(16+5*s,!0);R.h1(f,0,1);R.h1(f,4,576);R.h1(f,8,576);
R.h1(f,12,s);for(var m=0;m<s;m++){R.HK(f,q,Math.round(W[m][1]*32));f[q+4]=W[m][0];q+=5}if(O[0]!=!0){var g=[_.buffer,new a8(0,0,_.a,_.n)],i=0;
Q.iL(g);while(g[i+1].O()>200*200)i+=2;var u=dx.Jv("jpg"),I=g[i+1],Y=new Uint8Array(u.QI([[g[i].buffer]],I.a,I.n)),f=_.OS.r1036=Q.Q(28+Y.length);
R.h1(f,0,1);R.h1(f,4,I.a);R.h1(f,8,I.n);R.h1(f,12,I.a*3);R.h1(f,16,I.O()*3);R.h1(f,20,Y.length);R.Ho(f,24,24);
R.Ho(f,26,1);f.set(Y,28)}var U=Q.Fh(_.buffer),F=[];if(U)F.push({name:"Transparency",r1:{o:255,J:0,k:0},D1:100,TO:1});
F=F.concat(_.U_);delete _.OS.r1045;delete _.OS.r1006;delete _.OS.r1077;var N=new bc;q=0;var o=new Uint8Array(4+F.length*13);
o[3]=1;for(var m=0;m<F.length;m++){var X=F[m],J=X.name+"\0";R.JD(N,q,J);q+=4+J.length*2;var c=4+m*13;
fU.ij(o,c,X.r1);o[c+11]=X.D1;o[c+12]=X.TO}_.OS.r1045=N.data.slice(0,q);_.OS.r1077=o;for(var m=0;m<_.Ks.length;
m++)_.Ks[_.Ks.length-m-1].v.sliceID.v=2+m*3;var p={classID:"null",baseName:{t:"TEXT",v:"User"},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},slices:{t:"VlLs",v:_.Ks}},N=new bc;
R.ZI(N,0,8);R.ZI(N,4,16);var d=hu.Ur(N,p,8);_.OS.r1050=N.data.slice(0,d+8);var N=new bc;R.ZI(N,0,16);
var d=hu.Ur(N,_.OQ,4);_.OS.r1065=N.data.slice(0,d+4);var k=_.g;f=_.OS.r1069=Q.Q(2+k.length*4,!0);R.Ho(f,0,k.length);
for(var m=0;m<k.length;m++)R.h1(f,2+4*m,_.B[k[m]].add.lyid);delete _.OS.r1058;delete _.OS.r1060;if(Object.keys(_.I6).length!=0){var A=[{t274:[1],t282:[[72,1]],t283:[[72,1]],t296:[2]},{t259:[6],t282:[[72,1]],t283:[[72,1]],t296:[2],t513:[302],t514:[0]}];
cr.ns(_.I6,A[0],O[0]&&O[1]);_.OS.r1058=new Uint8Array(UTIF.encode(A));var $=cr.arW(_.I6);_.OS.r1060=R.WZ($)}var K=[],G=[],z=_.VE.slice(0);
if(_.VZ){var M=fu.XF([{type:6},{type:8,all:0},{type:3,length:5,frule:1,third:2,prmA:0,prmB:0},{type:5,c:[0,0,0,0,0,0]},{type:5,c:[20,0,20,0,20,0]},{type:5,c:[20,20,20,20,20,20]},{type:5,c:[0,20,0,20,0,20]},{type:5,c:[0,0,0,0,0,0]}]),hl=new v.ez;
hl.i=M;z.push(fJ.ew("Tile Symmetry 1",{vmsk:hl,vogk:v.W0(M)}))}for(var m=0;m<z.length;m++){var j=z[m],M=j.add.vmsk.i;
if(m==0&&M.length==2)continue;var w=Q.Q(M.length*26);fu.OH(w,0,M,_.a,_.n);var B=m==0?1025:2e3+m-1;_.OS["r"+B]=w;
if(m!=0){var bB={classID:"pathInfoClass",pathUnicodeName:{t:"TEXT",v:j.name}};if(j.name=="Tile Symmetry 1")bB.pathSymmetryClass={t:"Objc",v:{classID:"pathSymmetryClass",pathSymmetryMode:{t:"enum",v:{pathSymmetryModeEnum:"pathSymmetryModeRectangularTile"}},pathSymmetryCount:{t:"long",v:1}}};
K.push({t:"Objc",v:bB});G.push({t:"Objc",v:{classID:"null",keyDescriptorList:{t:"VlLs",v:j.add.vogk}}})}}if(K.length!=0){_.add.pths={classID:"pathsDataClass",pathList:{t:"VlLs",v:K}};
if(_.VZ)_.add.pths.pathSymmetrySelectedPath={t:"long",v:K.length-1};G={classID:"null",keyRootDescriptorList:{t:"VlLs",v:G}};
var N=new bc;R.ZI(N,0,16);var d=hu.Ur(N,G,4);_.OS.r3000=N.data.slice(0,d+4)}else{delete _.add.pths;delete _.OS.r3000}if(_.Pp.length!=0){var bG="<variableSets xmlns=\"http://ns.adobe.com/Variables/1.0/\">\n"+"<variableSet locked=\"none\" varSetName=\"binding1\">\n"+"<variables>";
for(var m=0;m<_.Pp.length;m++){var eb=_.Pp[m],fe=[];for(var B in eb)fe.push(B+"=\""+eb[B]+"\"");bG+="<variable "+fe.join(" ")+">\n</variable>\n"}bG+="</variables>\n</variableSet>\n</variableSets>";
_.OS.r7000=R.WZ(bG)}if(_.dm.length!=0){var bG="<sampleDataSets psdPath=\""+_.name+"\">\n";for(var m=1;
m<_.dm.length;m++){var gB=_.dm[m];bG+="<sampleDataSet dataSetName=\"Data Set "+m+"\">\n";for(var hp=0;
hp<gB.length;hp++)bG+="<"+_.dm[0][hp]+">"+gB[hp].replace(/</g,"&lt;").replace(/>/g,"&gt;")+"</"+_.dm[0][hp]+">\n";
bG+="</sampleDataSet>\n"}bG+="</sampleDataSets>";_.OS.r7001=R.WZ(bG)}g6=jI.ai0(_,n,g6,3+F.length);g6=jI.aw6(_,n,g6);
g6=jI.ak_(_,n,g6);g6=jI.aiw(_,n,g6,O,U);g6=jI.adC(_,n,g6,O[0],U);var by=[1025,2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,7e3,7001];
for(var m=0;m<by.length;m++)delete _.OS["r"+by[m]];for(var m=0;m<_.B.length;m++){var t=_.B[m];if(t.uq()||O[2]&&t.add.SoLd){t.rect=x[m][0];
t.buffer=x[m][1];if(x[m][2]){var r=t.vO(_);x[m].push(r.buffer);r.buffer=x[m][2]}}}_.ask(a);D.jC.qK(_,!0);
delete _.tS;return g6};jI.u4=function(_,n,O){var l=R.c$(n,O,4);O+=4;if(l!="8BPS")alert("invalid header signature: "+l);
var x=R.Pr(n,O);O+=2;_.tS=x==2;if(x!=1&&x!=2)alert("invalid version: "+x);O+=6;_.TM=R.Pr(n,O);O+=2;_.n=R.aH(n,O);
O+=4;_.a=R.aH(n,O);O+=4;_.f_=R.Pr(n,O);O+=2;_.Rh=R.Pr(n,O);O+=2;return O};jI.ai0=function(_,n,O,l){n.hp(0,64);
R.uJ(n.data,O,"8BPS");O+=4;R.Ho(n.data,O,_.tS?2:1);O+=2;R.h1(n.data,O,0);O+=4;R.Ho(n.data,O,0);O+=2;
R.Ho(n.data,O,l);O+=2;R.HK(n.data,O,_.n);O+=4;R.HK(n.data,O,_.a);O+=4;R.Ho(n.data,O,8);O+=2;R.Ho(n.data,O,3);
O+=2;return O};jI.ll=function(_,n,O){var l=R.aH(n,O);O+=4;if(l!=0)_.eA=n.slice(O,O+l);O+=l;return O};
jI.aw6=function(_,n,O){R.C4(n,O,0);O+=4;return O};jI.ajB=function(_,n,O){var l=R.v(n,O),x=0;O+=4;var t=[];
while(x<l){var h=R.c$(n,O+x,4);x+=4;var V=R.Pr(n,O+x);x+=2;var y=R.B8(n,O+x);x+=y.length;if(h=="MeSa"&&(V==7e3||V==7001)){}else if(h!="8BIM"){t.push(V);
console.log("Unknown Image Resources signature: "+h+", ID: "+V)}var r=R.v(n,O+x);x+=4;if(_.OS["r"+V]!=null)console.log("--- two resources with same ID");
_.OS["r"+V]=R.D_(n,O+x,r);x+=r+(r&1)}for(var m=0;m<t.length;m++)delete _.OS["r"+t[m]];return O+l};jI.ak_=function(_,n,O){var l=O,h=0;
O+=4;var x=[];for(var t in _.OS){x.push(parseInt(t.slice(1)))}x.sort(function(a,S){return a-S});for(var m=0;
m<x.length;m++){var V=x[m];R.eB(n,O+h,V==7e3||V==7001?"MeSa":"8BIM");h+=4;R.hP(n,O+h,V);h+=2;var y=R.Fr(n,O+h,"");
h+=y;var r=_.OS["r"+V],E=r.length;R.ZI(n,O+h,E);h+=4;R.ia(n,O+h,r);h+=E;if(E%2==1)h++}R.ZI(n,l,h);return O+h};
jI.ass=function(_,n,O){var l=O,x,t,h=_.tS?8:4;if(_.tS)x=R.MY(n,O);else x=R.v(n,O);O+=h;if(x==0)return l+h;
t=jI.a80(_,n,O);jI.$V(1,t-O,"Layer Info");O=t;t=jI.a7T(_,n,O);jI.$V(1,t-O,"Global Layer Mask Info");
O=t;t=dk.sQ(n,O,l+h+x,_.add,_.tS,_);jI.$V(1,t-O,"Project Add Info");O=t;return l+h+x};jI.aiw=function(_,n,O,l,x){var t=O;
R.ZI(n,O,0);O+=4;if(_.tS){R.ZI(n,O,0);O+=4}O=jI.a5Q(_,n,O,l,x);O=jI.a30(_,n,O);O=dk.nD(n,O,_.add,_.tS,_);
if(_.tS)R.LJ(n,t,O-t-8);else R.ZI(n,t,O-t-4);return O};jI.a80=function(_,n,O){var l,x=_.tS?8:4;if(_.tS)l=R.MY(n,O);
else l=R.v(n,O);O+=x;if(l!=0)jI.N4(_,n,O);return O+l};jI.N4=function(_,n,O){var l=R.X1(n,O);O+=2;var x=Math.abs(l);
for(var m=0;m<x;m++){var t=new v;O=eC.GQ(t,_,n,O);_.B[m]=t}var h=new a8(0,0,_.a,_.n);for(var m=0;m<x;
m++){var V=_.B[m],y=V.Ek(),r=j3.GQ(V,_,n,O);if(r-O>8)jI.$V(2,r-O,"Lay: "+V.getName());O=r;jI.$E(V,h);
if(y)jI.$E(y,h)}};jI.$E=function(_,n){var O=_.rect.O(),l=_.rect.v6(n),x=l.O()/O;if(O>2e3*3e3&&x<.5){if(_.buffer){var t=Q.Q(l.O()*4);
Q.zw(_.buffer,_.rect,t,l);_.buffer=t;_.rect=l}else{var t=Q.Q(l.O());Q.pc(_.channel,_.rect,t,l);_.channel=t;
_.rect=l}alert("Removing hidden parts of layers")}};jI.a5Q=function(_,n,O,l,x){var t=O,h=_.tS;O+=h?8:4;
O=jI.a7u(_,n,O,l,x);var V=O-t-(h?8:4);if(V%2!=0)V++;if(h)R.LJ(n,t,V);else R.ZI(n,t,V);return t+V+(h?8:4)};
jI.a7u=function(_,n,O,l,x){var t=_.B.length;R.Sj(n,O,x?-t:t);O+=2;var h=[];for(var m=0;m<t;m++)O=eC.uF(_.B[m],_,n,O,h);
for(var m=0;m<t;m++)O=j3.QR(_.tS,_.B[m],n,O,h[m],l);return O};jI.a7T=function(_,n,O){var l=R.v(n,O);
O+=4;O+=l;return O};jI.a30=function(_,n,O){var l=R.ZI(n,O,0);O+=4;return O};jI.la=function(_,n,O){var l=_.Rh,x="Bitmap Grayscale Indexed RGB CMYK Multichannel Duotone Lab".split(" "),t=[1,1,1,3,4,1,1,3],h,b;
if(l!=3){if(l==1||l==2||l==4)console.log("Project will be converted from "+x[l]+" to "+x[3]+" mode.");
else{alert("Color mode "+x[l]+" is not supported yet :(")}if(l==4)_.add.fcmy=1}if(_.OS.r1045){h=[];var V=_.OS.r1045,y=0;
while(y<V.length){var r=R.Qa(V,y);h.push(r);y+=4+2+r.length*2}}var E=t[l]+(h==null||h[0]=="Transparency"?1:0),a=_.a,S=_.n,e=a*S,P=R.Pr(n,O);
O+=2;_.buffer=Q.Q(e*4);Q.qs(_.buffer,4278190080);var T=O;for(var C=0;C<_.TM;C++){if(P==0){b=j3.G2(_.tS,_.f_,n,a,S,O,P);
O+=e*(_.f_>>>3)}else if(P==1){b=Q.Q(e);var Z=_.tS?4:2;if(C==0)O+=_.TM*S*Z;O+=j3.zH(n,b,a,S,T+C*S*Z,O,Z)}else{console.log("unknown compression of image data: ",P);
return}if(C<E){Q.$c(b,_.buffer,C);if(_.TM==1&&C==0){Q.$c(b,_.buffer,1);Q.$c(b,_.buffer,2)}}else{var W=new v.Pt,s=C-E,f=C-t[_.Rh];
W.name=h?h[f]:"Alpha";if(W.name=="Quick Mask"){W.K_=!0;_.oO.push(s)}W.rect=new a8(0,0,a,S);W.channel=b;
W.color=0;W.AO();_.U_[s]=W;if(_.OS.r1077){var V=_.OS.r1077.slice(4+f*13);W.r1=fU._0(V,0);W.D1=V[11];
W.TO=V[12];if(W.TO==2)W.K_=!0}}}_.TM=4;if(_.Rh==2)for(var m=0;m<e;m++){var q=m*4,g=_.buffer[q];_.buffer[q]=_.eA[0+g];
_.buffer[q+1]=_.eA[256+g];_.buffer[q+2]=_.eA[512+g]}return O};jI.adC=function(_,n,O,l,x){var t=1,h=16,V=_.a,y=_.n,E,a;
R.hP(n,O,t);O+=2;var r=V*y;if(!l){a=new Q.eO(V*y);Q.ah(_.buffer,a);var S=a.o,e=a.J,P=a.k,b=a.EX;for(var m=0;
m<r;m++){var T=b[m]*(1/255);S[m]=~~(S[m]*T+255*(1-T));e[m]=~~(e[m]*T+255*(1-T));P[m]=~~(P[m]*T+255*(1-T))}}else E=Q.Q(r);
var C=[E,E,E];if(!l)C=[a.o,a.J,a.k];if(x)C.push(l?E:a.EX);for(var m=0;m<_.U_.length;m++){C.push(_.U_[m].H9(new a8(0,0,_.a,_.n)))}var Z=O;
for(var W=0;W<C.length;W++){n.hp(O,V*y+4);E=C[W];if(t==0||t==2||t==3)O=j3.fz(_.tS,E,n.data,V,y,O,t);
else{var s=_.tS?4:2;if(W==0)O+=C.length*y*s;var f=O;O+=j3.ZU(E,n.data,V,y,Z+W*y*s,O,s)}}return O};function gU(){}gU.GQ=function(_){var n={};
gU.yv(_,n,0,0);return n};gU.uF=function(_,n){var O=0;O=gU.xz(_,n,O,0);return O};gU.yv=function(_,n,O,l){while(_[O]!="<".charCodeAt(0))O++;
O+=2;while(!0){if(_[O]=="/".charCodeAt(0)){O++;var x=R.indexOf(_," ".charCodeAt(0),O,O+50),t=R.indexOf(_,"\n".charCodeAt(0),O,O+50);
if(t==-1)t=Infinity;if(x==-1)x=Infinity;var h=Math.min(t,x),V=R.c$(_,O,h-O),y=gU.WT(_,h+1,l+1,V);n[V]=y.h;
O=h+1;O+=y.size}else if(_[O]==">".charCodeAt(0)){O+=2;break}else{var r=_[O];if(r==10||r==9||r==32)O++;
else{console.log("unknown byte: "+r+", char: "+String.fromCharCode(r),O);O++}}}return O};gU.xz=function(_,n,O,l){R.eB(n,O,"<<\n");
O+=3;var x=gU.agH;for(var t in _){R.__(n,O,"\t".charCodeAt(0),l+1);O+=l+1;R.eB(n,O,"/"+t);O+=1+t.length;
if(x(_[t])||_[t]instanceof Array){R.eB(n,O," ");O++}else{R.eB(n,O,"\n");O++;R.__(n,O,"\t".charCodeAt(0),l+1);
O+=l+1}O=gU.h9(_[t],n,O,l+1);R.eB(n,O,"\n");O++}R.__(n,O,"\t".charCodeAt(0),l);O+=l;R.eB(n,O,">>");O+=2;
return O};gU.WT=function(_,n,O,l){var x=n,t={size:0,h:0};while(!0){while(_[n]==" ".charCodeAt(0)||_[n]=="\t".charCodeAt(0)||_[n]=="\n".charCodeAt(0))n++;
if(_[n]=="<".charCodeAt(0)){t.h={};n=gU.yv(_,t.h,n,O+1);break}else if(_[n]=="(".charCodeAt(0)){n+=3;
var h=n;while(!0){if(_[h-1]!="\\".charCodeAt(0)&&_[h]==")".charCodeAt(0)&&(_[h+1]=="\n".charCodeAt(0)||_[h+1]==" ".charCodeAt(0)))break;
else h++}t.h=R.jE(_,n,h);n=h+2;break}else if(_[n]=="[".charCodeAt(0)){n++;t.h=[];while(_[n]==" ".charCodeAt(0)||_[n]=="\t".charCodeAt(0)||_[n]=="\n".charCodeAt(0))n++;
while(_[n]!="]".charCodeAt(0)){var V=gU.WT(_,n,O+1,l);t.h.push(V.h);n+=V.size;while(_[n]==" ".charCodeAt(0)||_[n]=="\t".charCodeAt(0)||_[n]=="\n".charCodeAt(0))n++}n++;
break}else{var y=R.indexOf(_," ".charCodeAt(0),n,n+50),r=R.indexOf(_,"\n".charCodeAt(0),n,n+50);if(r==-1)r=Infinity;
if(y==-1)y=Infinity;var E=R.c$(_,n,Math.min(y,r)-n).trim(),a=parseFloat(E);if(!isNaN(a)){t.h=parseFloat(E);
n=Math.min(y,r)+1;break}else if(E=="true"||E=="false"){t.h=E=="true";n=Math.min(y,r)+1;break}else if(E=="null"||E=="NaN"||E=="undefined"){t.h=0;
n=Math.min(y,r)+1;break}else{console.log("unknown identifier: "+E);throw"e"}n=Math.min(y,r)+1}}t.size=n-x;
return t};gU.h9=function(_,n,O,l){if(_ instanceof Array){var x=_.length==0||typeof _[0]=="number";if(x){R.eB(n,O,"[ ");
O+=2;for(var m=0;m<_.length;m++){var t=_[m]+" ";R.eB(n,O,t);O+=t.length}R.eB(n,O,"]");O+=1}else{R.eB(n,O,"[\n");
O+=2;for(var m=0;m<_.length;m++){R.__(n,O,"\t".charCodeAt(0),l);O+=l;O=gU.h9(_[m],n,O,l);R.eB(n,O,"\n");
O++}R.__(n,O,"\t".charCodeAt(0),l);O+=l;R.eB(n,O,"]");O+=1}}else if(_ instanceof Object){O=gU.xz(_,n,O,l)}else if(typeof _=="string"){R.eB(n,O,"(");
O++;R.__(n,O,254);O++;R.__(n,O,255);O++;O=R.Wc(n,O,_);R.eB(n,O,")");O+=1}else{var t=_+"";R.eB(n,O,t);
O+=t.length}return O};gU.agH=function(_){var n=typeof _;return n=="string"||n=="number"||n=="boolean"};
function cn(){}cn.GQ=function(_){var n={};cn.Wv(_,n,0,0);return n};cn.uF=function(_,n){var O=0;R.eB(n,O," ");
O++;O=cn.x6(_,n,O,0);O--;n.hp(O,2);n.data[O]=n.data[O+1]=0;O+=2;return O};cn.yv=function(_,n,O,l){while(_[O]!="<".charCodeAt(0)){O++;
console.log("\u0161ipka")}O+=2;O=cn.Wv(_,n,O,l);return O};cn.xz=function(_,n,O,l){R.eB(n,O,"<< ");O+=3;
O=cn.x6(_,n,O,l);R.eB(n,O,">>");O+=2;return O};cn.GI=function(_){return _==9||_==10||_==32};cn.Wv=function(_,n,O,l){while(!0){while(cn.GI(_[O])||_[O]==0)O++;
if(O>=_.length)break;if(_[O]=="/".charCodeAt(0)){O++;var x=O;while(!cn.GI(_[x]))x++;var t=R.c$(_,O,x-O);
O=x+1;var h=cn.WT(_,O,l,t);n["_"+t]=h.h;O+=h.size}else if(_[O]==">".charCodeAt(0)){O+=2;break}else{var V=_[O];
console.log(R.c$(_,O,O+100));console.log("unknown byte: "+V+", char: "+String.fromCharCode(V)+", offset: "+O);
O++;throw"e";return-1}}return O};cn.x6=function(_,n,O,l){for(var x in _){var t=x.substring(1,x.length);
R.eB(n,O,"/"+t);O+=1+t.length;R.eB(n,O," ");O++;O=cn.h9(_[x],n,O,l+1);R.eB(n,O," ");O++}return O};cn.WT=function(_,n,O,l){var x=n,t={type:"",size:0,h:0};
while(cn.GI(_[n]))n++;if(_[n]=="<".charCodeAt(0)){t.type="Object";t.h={};n=cn.yv(_,t.h,n,O+1)}else if(_[n]=="(".charCodeAt(0)){t.type="String";
n++;if(_[n]==")".charCodeAt(0)){t.h="e";n++}else{n+=2;var h=n,V=0;while(!0){if(_[h]==")".charCodeAt(0)&&_[h-1]!="\\".charCodeAt(0))break;
else h+=1}t.h="s"+R.jE(_,n,h);n=h+2}}else if(_[n]=="[".charCodeAt(0)){n++;t.h=[];t.type="Array";while(cn.GI(_[n]))n++;
while(_[n]!="]".charCodeAt(0)){var y=cn.WT(_,n,O+1,l);if(y==-1)return-1;t.h.push(y.h);n+=y.size;delete y.size;
while(cn.GI(_[n]))n++}n++}else{var r=n;while(!cn.GI(_[r]))r++;var E=R.c$(_,n,r-n),a=parseFloat(E);if(!isNaN(a)&&E.indexOf(".")!=-1){t.type="Float";
var S=parseFloat(E);t.h="f"+S}else if(!isNaN(a)&&E.indexOf(".")==-1){t.type="Integer";t.h="i"+parseInt(E)}else if(E=="true"||E=="false"){t.type="Boolean";
t.h=E=="true"}else if(E.charAt(0)=="/"){t.type="BString";t.h=E}else if(E=="NaN"||E=="undefined"){t.type="Float";
t.h="f0"}else{console.log("unknown value",JSON.stringify(E));throw"e"}n=r+1}t.size=n-x;return t};cn.a01=function(_){if(_==Math.round(_))return _+".0";
var n=_.toFixed(5);while(n.endsWith("0")&&n[n.length-2]!=".")n=n.slice(0,n.length-1);if(0<_&&_<1)n=n.slice(1);
if(-1<_&&_<0)n="-"+n.slice(2);return n};cn.h9=function(_,n,O,l){var x=typeof _=="string"?_.charAt(0):"";
if(_ instanceof Array){R.eB(n,O,"[ ");O+=2;for(var m=0;m<_.length;m++){O=cn.h9(_[m],n,O,l);R.eB(n,O," ");
O++}R.eB(n,O,"]");O+=1}else if(_ instanceof Object){O=cn.xz(_,n,O,l)}else if(x=="e"){R.eB(n,O,"()");
O+=2}else if(x=="s"){R.eB(n,O,"(");O++;R.__(n,O,254);O++;R.__(n,O,255);O++;O=R.Wc(n,O,_.substring(1));
R.eB(n,O,")");O++}else if(x=="/"){R.eB(n,O,_);O+=_.length}else if(x=="f"){var t=parseFloat(_.substring(1)),h=cn.a01(t);
R.eB(n,O,h);O+=h.length}else if(x=="i"){R.eB(n,O,_.substring(1));O+=_.length-1}else{var h=_+"";R.eB(n,O,h);
O+=h.length}return O};function R(){}R.aiT=function(ab){var _="";for(var m=3;m>=0;m--)_+=String.fromCharCode(ab>>m*8&255);
return _};R.aex=function(_){var ab=0;for(var m=_.length-1;m>=0;m--)ab|=_.charCodeAt(m)<<(3-m)*8;return ab};
R.indexOf=function(_,n,O,l){if(O==null)O=0;if(l==null)l=_.length;l=Math.min(l,_.length);for(var m=O;
m<l;m++)if(_[m]==n)return m;return-1};R.iZ=function(_,n,O){if(O==null)O=0;var l=n.length,x=_.length-l;
if(typeof n=="string"){var t=[];for(var m=0;m<l;m++)t.push(n.charCodeAt(m));n=t}if(n.length>0){var h=n[0];
for(var m=O;m<x;m++)if(_[m]==h){var V=!0;for(var y=1;y<l;y++)if(n[y]!=_[m+y]){V=!1;break}if(V)return m}}return-1};
R.jE=function(_,n,O){var l=[],t="";while(n<O){var x=_[n++];if(x=="\\".charCodeAt(0))l.push(_[n++]);else l.push(x)}for(var m=0;
m<l.length;m+=2)t+=String.fromCharCode(l[m]<<8|l[m+1]);return t};R.adY=function(_,n,O){var l=new Uint8Array(2);
for(var m=0;m<O.length;m++){R.Ho(l,0,O.charCodeAt(m));if(l[0]==")".charCodeAt(0)||l[0]=="(".charCodeAt(0)||l[0]=="\\".charCodeAt(0)){_[n]="\\".charCodeAt(0);
n++}_[n]=l[0];n++;if(l[1]==")".charCodeAt(0)||l[1]=="(".charCodeAt(0)||l[1]=="\\".charCodeAt(0)){_[n]="\\".charCodeAt(0);
n++}_[n]=l[1];n++}return n};R.Wc=function(_,n,O){_.hp(n,4*O.length);return R.adY(_.data,n,O)};R.$O=function(_,n,O){var l="";
for(var m=0;m<O;m++){var x=_[n++]|_[n++]<<8;l+=String.fromCharCode(x)}return l};R.XX=function(_,n,O){var l="";
for(var m=0;m<O;m++){var x=_[n++]<<8|_[n++];l+=String.fromCharCode(x)}return l};R.a07=function(_,n,O){for(var m=0;
m<O.length;m++){var l=O.charCodeAt(m);R.eh(_,n+2*m,l)}};R.nW=function(_,n,O){for(var m=0;m<O.length;
m++){var l=O.charCodeAt(m);R.Ho(_,n+2*m,l)}};R.akn=function(_,n,O){_.hp(n,2*O.length);R.nW(_.data,n,O)};
R.aso=function(_,m,n){var O=[],l=0,x=0;n+=m;while(m<n){l=_[m++];if((l&128)==0)x=l;else if((l&224)==192){x=(l&31)<<6;
l=_[m++];x|=l&63}else if((l&240)==224){x=(l&15)<<12;l=_[m++];x|=(l&63)<<6;l=_[m++];x|=l&63}else if((l&248)==240){x=(l&7)<<18;
l=_[m++];x|=(l&63)<<12;l=_[m++];x|=(l&63)<<6;l=_[m++];x|=l&63}else throw"e";O.push(x)}return O};R.aa=window.TextDecoder?new window.TextDecoder("utf8"):null;
R.hm=function(_,n,O){if(n==null)n=0;if(O==null)O=_.length;if(R.aa&&n==0&&O==_.length)return R.aa.decode(_);
var l=R.aso(_,n,O),x=l.length;for(var m=0;m<x;m++)l[m]=String.fromCharCode(l[m]);return l.join("")};
R.FW=window.TextEncoder?new window.TextEncoder("utf8"):null;R.WZ=function(_){if(R.FW)return R.FW.encode(_);
var n=new Uint8Array(_.length*4),O=R.ho(_,n,0);return n.slice(0,O)};R.ho=function(_,n,O){var l=_.length,m=0;
for(var x=0;x<l;x++){var t=_.charCodeAt(x);if((t&4294967295-(1<<7)+1)==0){n[O+m]=t;m++}else if((t&4294967295-(1<<11)+1)==0){n[O+m]=192|t>>6;
n[O+m+1]=128|t>>0&63;m+=2}else if((t&4294967295-(1<<16)+1)==0){n[O+m]=224|t>>12;n[O+m+1]=128|t>>6&63;
n[O+m+2]=128|t>>0&63;m+=3}else if((t&4294967295-(1<<21)+1)==0){n[O+m]=240|t>>18;n[O+m+1]=128|t>>12&63;
n[O+m+2]=128|t>>6&63;n[O+m+3]=128|t>>0&63;m+=4}else throw"e"}return m};R.mb=function(_,n){var O=R.v(_,n),l=R.hm(_,n+4,O-1);
return{yj:l,Ad:4+O}};R.ayG=function(_,n){var O=R.j0(_,n),l=R.$O(_,n+4,O);return l};R.h8=function(_,n){var O=R.v(_,n),l=R.XX(_,n+4,O);
return l};R.Qa=function(_,n){var O=R.v(_,n),l=R.XX(_,n+4,O-1);return l};R.ane=function(_,n,O){R.Hj(_,n,O.length);
n+=4;R.a07(_,n,O)};R.av9=function(_,n,O){R.h1(_,n,O.length);n+=4;R.nW(_,n,O)};R.JD=function(_,n,O){_.hp(n,4+2*O.length);
R.av9(_.data,n,O)};R.ami=function(_,n,O){_.hp(n,4+2*O.length);R.ane(_.data,n,O)};R.Nc=function(_,n,O){var l=[];
for(var m=0;m<O;m++)l.push(String.fromCharCode(_[n+m]));return l};R.ags=function(_,n,O){var l=!1,x=_.length-O.length;
for(var m=n;m<x;m++){for(var t=0;t<O.length;t++){if(_[m+t]!=O.charCodeAt(t))break;if(t==O.length-1)return m}}};
R.c$=function(_,n,O){var l="";for(var m=0;m<O;m++)l+=String.fromCharCode(_[n+m]);return l};R.uJ=function(_,n,O){for(var m=0;
m<O.length;m++)_[n+m]=O.charCodeAt(m)};R.eB=function(_,n,O){_.hp(n,O.length);R.uJ(_.data,n,O)};R.adK=function(_,n,O){var l="";
for(var m=0;m<O;m++){var x=_[n+m];if(x<10)l+="  ";else if(x<100)l+=" ";l+=x+", "}return l};R.Pr=function(_,n){return _[n]<<8|_[n+1]};
R.Ho=function(_,n,ab){_[n]=ab>>8&255;_[n+1]=ab&255};R.hP=function(_,n,ab){_.hp(n,4);R.Ho(_.data,n,ab)};
R.arO=function(_,n){var O=R.Pr(_,n),l=R.Pr(_,n+2);return O+l*(1/65536)};R.YU=function(_,n,ab){var O=Math.floor(ab),l=Math.floor((ab-O)*65536);
R.Ho(_,n,O);R.Ho(_,n+2,l)};R.HZ=function(_,n){return _[n+1]<<8|_[n]};R.eh=function(_,n,ab){_[n+1]=ab>>8&255;
_[n]=ab&255};R.jw=function(_,n,ab){_.hp(n,4);R.eh(_.data,n,ab)};R.X1=function(_,n){R.BG[0]=_[n+1];R.BG[1]=_[n];
return R.sm[0]};R.hS=function(_,n){R.BG[0]=_[n];R.BG[1]=_[n+1];return R.sm[0]};R.s7=R.Ho;R.Sj=R.hP;R.aH=function(_,n){R.fU[0]=_[n+3];
R.fU[1]=_[n+2];R.fU[2]=_[n+1];R.fU[3]=_[n];return R.WC[0]};R.HK=function(_,n,ab){R.WC[0]=ab;_[n+3]=R.fU[0];
_[n+2]=R.fU[1];_[n+1]=R.fU[2];_[n+0]=R.fU[3]};R.C4=function(_,n,ab){_.hp(n,4);R.HK(_.data,n,ab)};R.Du=function(_,n,O,l){O[l+0]=_[n+0];
O[l+1]=_[n+1];O[l+2]=_[n+2];O[l+3]=_[n+3]};R.j0=function(_,n){R.Du(_,n,R.fU,0);return R.VX[0]};R.Hj=function(_,n,ab){R.VX[0]=ab;
R.Du(R.fU,0,_,n)};R.wp=function(_,n,ab){_.hp(n,4);R.Hj(_.data,n,ab)};R.OI=function(_,n){R.Du(_,n,R.fU,0);
return R.WC[0]};R.a2k=function(_,n,ab){R.WC[0]=ab;R.Du(R.fU,0,_,n)};R.auu=function(_,n,ab){_.hp(n,4);
R.a2k(_.data,n,ab)};R.v=function(_,n){var O=_[n]*(256*256*256)+(_[n+1]<<16|_[n+2]<<8|_[n+3]);return O};
R.h1=function(_,n,ab){_[n]=ab>>24&255;_[n+1]=ab>>16&255;_[n+2]=ab>>8&255;_[n+3]=ab>>0&255};R.ZI=function(_,n,ab){_.hp(n,4);
R.h1(_.data,n,ab)};R.MY=function(_,n){return R.v(_,n)<<32|R.v(_,n+4)};R.dk=function(_,n,ab){R.h1(_,n,ab>>16>>16);
R.h1(_,n+4,ab&4294967295)};R.LJ=function(_,n,ab){_.hp(n,8);R.dk(_.data,n,ab)};R.eq=function(_,n){var O=new Uint8Array(8);
for(var m=0;m<8;m++)O[m]=_[n+7-m];var l=new Float64Array(O.buffer);return l[0]};R.lc=function(_,n){var O=new Uint8Array(8);
for(var m=0;m<8;m++)O[m]=_[n+m];var l=new Float64Array(O.buffer);return l[0]};R.pS=function(_,n,ab){var O=new Float64Array(1);
O[0]=ab;var l=new Uint8Array(O.buffer);for(var m=0;m<4;m++){var x=l[m];l[m]=l[7-m];l[7-m]=x}for(var m=0;
m<8;m++)_[n+m]=l[m]};R.cS=function(_,n,ab){_.hp(n,8);R.pS(_.data,n,ab)};R.mA=function(_,n){R.fU[0]=_[n+3];
R.fU[1]=_[n+2];R.fU[2]=_[n+1];R.fU[3]=_[n+0];return R.vb[0]};R.FF=function(_,n){R.fU[0]=_[n+0];R.fU[1]=_[n+1];
R.fU[2]=_[n+2];R.fU[3]=_[n+3];return R.vb[0]};R.Be=function(_,n,ab){R.vb[0]=ab;_[n+0]=R.fU[3];_[n+1]=R.fU[2];
_[n+2]=R.fU[1];_[n+3]=R.fU[0]};R.arF=function(_,n,ab){_.hp(n,4);R.Be(_.data,n,ab)};R.wG=function(_,n,ab){R.vb[0]=ab;
_[n+0]=R.fU[0];_[n+1]=R.fU[1];_[n+2]=R.fU[2];_[n+3]=R.fU[3]};R.a8D=function(_,n,ab){_.hp(n,4);R.wG(_.data,n,ab)};
R.agX=function(_,n){var O=R.aH(_,n),l=O*(1/(1<<24));return l};R.jg=function(_,n,O){var l=Math.floor(O*(1<<24));
R.HK(_,n,l)};R.aal=function(_,n,O){_.hp(n,4);R.jg(_.data,n,O)};R.B8=function(_,n){var O=_[n],l=R.c$(_,n+1,O);
O+=1-O%2;return{N2:l,length:O+1}};R.amY=function(_,n,O){var l=O.length;_[n]=l;R.uJ(_,n+1,O);if(l%2==0){_[n+1+l]=0;
++l}return l+1};R.Fr=function(_,n,O){_.hp(n,O.length+2);return R.amY(_.data,n,O)};R.Kx=function(_,n){var O=new aY;
O.EX=R.eq(_,n+0*8);O.k=R.eq(_,n+1*8);O.av=R.eq(_,n+2*8);O.c5=R.eq(_,n+3*8);O.Wk=R.eq(_,n+4*8);O.d7=R.eq(_,n+5*8);
return O};R.Qg=function(_,n,O){R.pS(_,n+0*8,O.EX);R.pS(_,n+1*8,O.k);R.pS(_,n+2*8,O.av);R.pS(_,n+3*8,O.c5);
R.pS(_,n+4*8,O.Wk);R.pS(_,n+5*8,O.d7)};R.a0A=function(_,n,O){_.hp(n,48);R.Qg(_.data,n,O)};R.a0D=function(_,n){var O=R.mA(_,n),l=R.mA(_,n+4),x=R.mA(_,n+8),t=R.mA(_,n+12);
return new a8(O,l,x-O,t-l)};R.al_=function(_,n,O){R.Be(_,n,O.x);R.Be(_,n+4,O.y);R.Be(_,n+8,O.x+O.a);
R.Be(_,n+12,O.y+O.n)};R.agS=function(_,n,O){_.hp(n,16);R.al_(_.data,n,O)};R.NU=function(_,n){var O=R.aH(_,n),l=R.aH(_,n+4),x=R.aH(_,n+8),t=R.aH(_,n+12);
return new a8(l,O,t-l,x-O)};R.Kh=function(_,n,O){R.HK(_,n,O.y);R.HK(_,n+4,O.x);R.HK(_,n+8,O.y+O.n);R.HK(_,n+12,O.x+O.a)};
R.ui=function(_,n,O){_.hp(n,16);R.Kh(_.data,n,O)};R.D_=function(_,n,O){var l=new Uint8Array(O);for(var m=0;
m<O;m++)l[m]=_[n+m];return l};R.lP=function(_,n,O){_.set(O,n)};R.ia=function(_,n,O){_.hp(n,O.length);
R.lP(_.data,n,O)};R.am9=function(_,n,O,ab){if(!ab)ab=1;for(var m=0;m<ab;m++)_[n+m]=O};R.__=function(_,n,O,ab){if(!ab)ab=1;
_.hp(n,ab);R.am9(_.data,n,O,ab)};R.sm=new Int16Array(1);R.BG=new Uint8Array(R.sm.buffer);R.WC=new Int32Array(1);
R.VX=new Uint32Array(R.WC.buffer);R.fU=new Uint8Array(R.WC.buffer);R.vb=new Float32Array(R.WC.buffer);
function ba(){}ba.GQ=function(_,n){var O=new Uint8Array(_),l=0,x=R.c$(O,l,9),V=4,y=100;l+=9;var t=R.c$(O,l,4);
l+=4;l++;n.a=R.v(O,l);l+=4;n.n=R.v(O,l);l+=4;var h=R.v(O,l);l+=4;if(h!=0)alert("Unsupported image format, not RGB!");
if(["file","v001","v002","v003"].indexOf(t)==-1){y=R.v(O,l);l+=4;if(parseInt(t.slice(1))>=7){y=y}else alert("Unknown XCF version: "+t);
V=8}var r={};l=ba.tn(O,l,r);var E=[];l=ba.AJ(O,l,E,V);var a=[];l=ba.AJ(O,l,a,V);n.qH=0;for(var m=0;m<E.length;
m++)ba.asB(O,E[m],n,r,V,y);while(n.qH>0){n.B.push(n.y9());n.qH--}n.B.reverse();delete n.qH;n.buffer=Q.Q(n.a*n.n*4);
if(n.B.length==0)console.log("No layers!!!");for(var m=0;m<a.length;m++){var S=ba.lJ(O,a[m],r,V,y);if(S.YM[cK.alJ])n.P={channel:S.MF,rect:new a8(0,0,n.a,n.n)}}};
ba.asB=function(_,n,O,l,x,t){var h=O.Ni(),V=R.v(_,n),a=0;n+=4;var y=R.v(_,n);n+=4;h.rect=new a8(0,0,V,y);
var r=R.v(_,n);n+=4;var E=R.mb(_,n);n+=E.Ad;h.iA(E.yj);var S={};n=ba.tn(_,n,S);if(S[cK.avR]){var e=S[cK.avR];
a=e.length/4-1}if(S[cK.GD]){h.rect.x=R.aH(S[cK.GD],0);h.rect.y=R.aH(S[cK.GD],4)}if(S[cK.ur]){h.opacity=R.v(S[cK.ur],0)}if(S[cK.ax7]){h.add.lsct=bN.GV;
h.FQ=24}if(S[cK.f5]){var P=R.v(S[cK.f5],0);h.to=cK.asD[P];if(h.kx()&&h.to=="norm")h.to="pass"}if(S[cK.mj]){if(R.v(S[cK.mj],0)==0)h.FQ+=2}if(S[cK.af_]){var b=R.v(S[cK.af_],0);
h.add.lsct=b&1==1?bN.GV:bN.SE}if(S[cK.Ew]){var T=S[cK.Ew];for(var C in T){var Z=T[C];if(C=="gimp-text-layer"){var W=ba.amH(Z),s=W.text,f=W.font,q=W.color,g=W["font-size"];
if(s==null&&W.markup){var i=new DOMParser,u=i.parseFromString(W.markup,"image/svg+xml");while(u.firstChild!=null&&u.firstChild.tagName!=null){u=u.firstChild;
var I=u.getAttribute("font"),Y=u.getAttribute("foreground"),U=u.getAttribute("size");if(I!=null)f=I;
if(Y!=null){Y=CSS._0(Y);q=[1,Y.o/255,Y.J/255,Y.k/255]}if(U!=null){g=""+parseFloat(U)/245}}s=u.textContent}h.add.lnsr="rend";
h.add.TySh=b$.Jw(0,0);h.add.TySh.T1=new a8(0,0,100,100);h.add.TySh.D=new aY(1,0,0,1,h.rect.x,h.rect.y);
var F=h.add.TySh.m1;b$.qS(F,0,s);var N=b$.QN(F,0,0),o=W.justify,X=W["line-spacing"];if(q)N.oM.FillColor={Type:1,Values:[1,parseFloat(q[1]),parseFloat(q[2]),parseFloat(q[3])]};
if(g){g=Math.round(parseFloat(g));N.oM.FontSize=g;h.add.TySh.D.d7+=Math.min(17,g*.17)}if(X){X=Math.round(parseFloat(X)+N.oM.FontSize*1.2);
N.oM.Leading=X;N.oM.AutoLeading=!1}if(o)N.G1.Justification=["left","right","center","fill"].indexOf(o);
if(f&&f!="Sans-serif"){var J=f.toLowerCase(),c="bold italic semi extra regular condensed light".split(" "),p=J.length;
for(var m=0;m<c.length;m++){var d=J.indexOf(c[m]);if(d!=-1&&d<p&&J[d-1]==" ")p=d}if(p!=J.length)f=f.slice(0,p-1).split(" ").join("")+"-"+f.slice(p).split(" ").join("");
b$.Wu(N,f)}b$.gD(F,0,s.length,N);var k=W["box-width"],A=W["box-height"],$=k?parseFloat(k):h.rect.a,K=A?parseFloat(A):h.rect.n;
b$.EQ(F,1);b$.IU(F,[0,0,Math.ceil($),Math.ceil(K)])}else console.log("Unknown property "+C)}}while(O.qH>a){O.B.push(O.y9());
O.qH--}O.qH=a;if(h.add.lsct==bN.GV||h.add.lsct==bN.SE)O.qH++;var G=x==4?R.v:R.MY,z=G(_,n);n+=x;var M=G(_,n);
n+=x;if(h.Jq()){h.buffer=Q.Q(h.rect.O()*4);var hl=new Q.eO(h.rect.O());ba.KQ(_,z,hl,l,x,t);Q.gJ(hl,h.buffer)}if(M!=0){h.z=new v.Pt;
var j=ba.lJ(_,M,l,x,t);h.z.channel=j.MF;h.z.rect=h.rect.clone();if(S[cK.a9T])h.z.isEnabled=R.v(S[cK.a9T],0)==1;
h.z.color=h.z.channel[0];h.z.AO()}if(h.kx())h.rect=new a8;O.B.push(h)};ba.amH=function(_){var n="("+R.hm(_,0,_.length-1)+")",O=[],l={};
ba.dv(n,1,O);ba.agQ(O,l);return l};ba.agQ=function(_,n){for(var m=0;m<_.length;m++){var O=_[m],l=O[0];
if(O.length==2)n[l]=O[1];else n[l]=O.slice(1)}};ba.dv=function(_,n,O){while(!0){if(n>=_.length)throw"e";
var l=_.charAt(n);n++;if(l=="("){var x=[];n=ba.dv(_,n,x);O.push(x)}else if(l==" "||l=="\n"||l=="\r"){}else if(l==")")return n;
else if(l=="\""){var t=n;while(!0){var h=_[n];n++;if(h=="\"")break;if(h=="\\")n++}O.push(JSON.parse(_.slice(t-1,n)))}else{var t=n-1;
while(_[n]!=" "&&_[n]!=")")n++;O.push(_.slice(t,n))}}};ba.lJ=function(_,n,O,l,x){var t=R.v(_,n);n+=4;
var h=R.v(_,n);n+=4;var V=R.mb(_,n);n+=V.Ad;var y={};n=ba.tn(_,n,y);var r=new Q.eO(t*h),E=l==4?R.v:R.MY,a=E(_,n);
n+=l;ba.KQ(_,a,r,O,l,x);return{MF:r.o,YM:y}};ba.KQ=function(_,n,O,l,x,t){var h=R.v(_,n);n+=4;var V=R.v(_,n);
n+=4;var y=R.v(_,n);n+=4;var r=x==4?R.v:R.MY,E=r(_,n);n+=x;ba.ahI(_,E,O,l,y,x,t)};ba.ahI=function(_,n,O,l,x,t,h){var V=R.v(_,n),E=0,m=0;
n+=4;var y=R.v(_,n);n+=4;var r=new a8(0,0,V,y);if(h==100||h==150)E=1;else if(h==200||h==250)E=2;else if(h==300||h==350)E=4;
else if(h==500||h==550)E=2;else if(h==600||h==650)E=4;else if(h==700||h==750)E=8;else{alert("unsupported bit depth "+h);
throw"e"}var a=x/E,E=Math.round(x/a),S=[];n=ba.AJ(_,n,S,t);var e=new Q.eO(64*64*E),P=new a8,b=l[cK.a7A][0],T=[e.o,e.J,e.k,e.EX];
if(a==3)e.EX.fill(255);var C=Date.now();for(var Z=0;Z<y;Z+=64)for(var W=0;W<V;W+=64){var s=Math.min(V-W,64),f=Math.min(y-Z,64),q=s*f;
P.BX(W,Z,s,f);ba.azc(_,S[m++],q*E,b,a,T);if(h==100||h==150){}else if(h==250){for(var g=0;g<a;g++){var i=T[g];
for(var u=0;u<q;u++){var I=i[u]<<8|i[q+u];i[u]=Math.min(I>>>8,255)}}}else if(h==600){var Y=ba.aj3(),U=new Uint32Array(1),F=new Float32Array(U.buffer);
for(var g=0;g<a;g++){var i=T[g];for(var u=0;u<q;u++){U[0]=i[u]<<24|i[q+u]<<16|i[(q<<1)+u]<<8|i[(q<<1)+q+u]<<0;
var N=F[0];if(N<0)N=0;else if(N>1)N=1;i[u]=Y[~~(.5+N*1e3)]}}}else console.log("unknown data format",h);
Q.Ug(e,P,O,r)}};ba.aj3=function(){var _=ba.a7k;if(_!=null)return _;_=ba.a7k=new Uint8Array(1001);for(var m=0;
m<1001;m++)_[m]=~~(.49+255*Q.nM(m*.001));return _};ba.azc=function(_,n,O,l,x,t){if(l==1){for(var h=0;
h<x;h++){var V=t[h],y=0;while(y<O){var ab=_[n];n++;if(ab<127){var r=_[n];n++;ab++;for(var m=0;m<ab;m++)V[y+m]=r}else if(ab==127){var E=_[n];
n++;var a=_[n];n++;var r=_[n];n++;ab=E<<8|a;for(var m=0;m<ab;m++)V[y+m]=r}else if(ab==128){var E=_[n];
n++;var a=_[n];n++;ab=E<<8|a;for(var m=0;m<ab;m++)V[y+m]=_[n+m];n+=ab}else{ab=256-ab;for(var m=0;m<ab;
m++)V[y+m]=_[n+m];n+=ab}y+=ab}}}else if(l==2){var S=pako.inflate(_.slice(n)),e=Math.round(S.length/O);
for(var m=0;m<O;m++){var P=m*e;t[0][m]=S[P];t[1][m]=S[P+1];t[2][m]=S[P+2];t[3][m]=e==3?255:S[P+3]}}else alert("Unknown compression "+l)};
ba.AJ=function(_,n,O,l){var x=l==4?R.v:R.MY;while(!0){var t=x(_,n);n+=l;if(t==0)break;else O.push(t)}return n};
ba.tn=function(_,n,O){while(!0){var l=R.v(_,n);n+=4;var x=R.v(_,n);n+=4;if(l==cK.ash)break;else if(l==cK.Ew)O[l]=ba.a8z(_,n,n+x);
else O[l]=R.D_(_,n,x);n+=x}return n};ba.a8z=function(_,n,O){var l={};while(n<O){var x=R.mb(_,n);n+=x.Ad;
var t=R.v(_,n);n+=4;if(t!=1)console.log("unknown flags",t);var h=R.v(_,n);n+=4;l[x.yj]=R.D_(_,n,h);n+=h}return l};
var cK={ash:0,afo:1,a2S:2,awn:3,alJ:4,anE:5,ur:6,f5:7,mj:8,agL:9,auF:10,a9T:11,asP:12,a7Y:13,amZ:14,GD:15,aui:16,a7A:17,a9y:18,ajd:19,akB:20,Ew:21,ab9:22,ama:23,a7R:24,a5I:25,a08:26,ab2:27,a1f:28,ax7:29,avR:30,af_:31,a3A:32,aaM:33,a0t:34,aam:35,av7:36,ayZ:37,a4N:38,ahL:0,aah:1,awo:2,ae1:3,a1U:1,a0H:2,a3y:0,avs:1,ab4:1};
cK.asD="norm,diss,norm,mul ,scrn,over,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,norm,over,hue ,hue ,colr,lite,norm,norm,mul ,scrn,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,vLit,pLit,lLit,hMix,smud,lbrn,lum ,lum ,lum ,lum ,norm,norm,norm,pass".split(",");
var ey=function(){var _=!1,n,O,W;function l(){var q=R.c$(n,O,4);O+=4;return q[3]+q[2]+q[1]+q[0]}function x(){var q=R.c$(n,O,4);
O+=4;return q}function t(){var q=n[O];O+=1;return q}function h(){var q=R.HZ(n,O);O+=2;return q}function V(){var q=R.j0(n,O);
O+=4;return q}function y(){var q=R.OI(n,O);O+=4;return q}function r(){var q=R.j0(n,O);O+=8;return q}function E(){var q=R.FF(n,O);
O+=4;return q}function a(){var q=R.lc(n,O);O+=8;return q}function S(){var q=R.HZ(n,O),g=R.hm(n,O+2,q);
O+=2+q;return g}function e(){var q=R.j0(n,O),g=R.hm(n,O+4,q);O+=4+q;return g}function P(q){O=q;var g=[];
while(O!=0){var i=x();if(i!="#FT4"&&i!="#FT3"&&i!="#FT2")throw i;var u=r(),I=r(),Y=r(),U=r(),F=r(),N=V(),o=V(),X=V(),J=h(),c=t(),p={};
g.push(p);for(var m=0;m<N;m++){var d=V(),k=t();if(k!=0&&k!=1&&k!=2)throw k;var A=[];if(k==0||k==1){var $=r(),K=r(),G=r(),z=V(),M=t(),hl=V(),j=i!="#FT4"?0:V(),w=null;
if(i=="#FAT"||i=="#FT2"){switch(M){case 1:M=1;break;case 2:M=65;break;case 3:M=129;break;case 4:M=193;
break;default:M=0;break}}if(k==0)w=S();A=[$,K,G,M,w]}p["i"+d]=[k,A]}for(var m=0;m<J;m++){var B=h(),bB=h(),bG=r(),eb=R.c$(n,O,B);
O+=B}O=u}g.reverse();for(var fe=1;fe<g.length;fe++){var p=g[fe],gB=g[fe]=JSON.parse(JSON.stringify(g[fe-1]));
for(var hp in p){var g6=p[hp];if(g6[0]==0)gB[hp]=g6;else if(g6[0]==1){g6[1][4]=gB[hp][1][4];gB[hp]=g6}else if(g6[0]==2)delete gB[hp]}}var by=g.pop(),e7=[];
for(var hp in by)e7.push(by[hp][1]);e7.sort(function(aN,jK){return aN[0]-jK[0]});return e7}function b(q,g,i,u){while(O<n.length){var I=t(),N=null;
if(I==0){if(u){var Y=t();if(Y!=2){var U=l()}if(Y==0)O+=4;u=!1;continue}else{break}}var F=l();if(_)console.log("  ".repeat(g),I,I&127,F,q._type);
if(I>127)N=T(I,g,i);else N=C(I,g,i);q[F]=N}}function T(q,g,i){var u=[];q=q&127;if(q==43)O+=4;var I=V();
if(q==50){var Y=l(),U=h();if(U!=1)throw"e";for(var m=0;m<I;m++){var F={_status:"NotShared",_type:Y};
u.push(F);var N=t();if(N!=1)throw N;b(F,g+1,i)}}else for(var m=0;m<I;m++){u.push(C(q,g,i));if(q==42)q=2}return u}function C(q,g,i){var u=null;
if(q==49){u={};var I=t();if(I!=0){var Y=V();if(i==null){u._id=Y;u._status=["Shared","Link"][I-1]}if(i&&I==2)u=i[Y];
if(I==1){if(i)i[Y]=u;var U=t(),F=!1;if(U>1)throw U;u._type=l();if(_)console.log("  ".repeat(g),"new",u._type,U,O);
if(U==0){while(!0){var N=h();if(N!=0&&N!=1&&N!=2&&N!=4)throw N;if(n[O]!=0){F=!0;break}var o=h();if(o==512)break;
var X=l();if(o==256)break}}b(u,g+1,i,F)}}}else if(q==50){u={_status:"NotShared"};if(t()==1){u._type=l();
O+=2;b(u,g+1,i)}}else if(q==1)u={type:"byte",value:t()};else if(q==2)u={type:"uint16",value:h()};else if(q==3)u={type:"uint32",value:V()};
else if(q==4)u={type:"uint64",value:r()};else if(q==7)u={type:"int32",value:y()};else if(q==8)u={type:"int64",value:r()};
else if(q==9)u={type:"float32",value:E()};else if(q==10)u={type:"float64",value:a()};else if(q==21)u={type:"Vec2i",value:[V(),V()]};
else if(q==23)u={type:"Vec4i",value:[V(),V(),V(),V()]};else if(q==33)u={type:"Vec4f",value:[E(),E(),E(),E()]};
else if(q==36)u={type:"Vec2",value:[a(),a()]};else if(q==38)u={type:"Vec4",value:[a(),a(),a(),a()]};
else if(q==40)u={type:"Vec6",value:[a(),a(),a(),a(),a(),a()]};else if(q==41)u={type:"bool",value:t()!=0};
else if(q==42)u={type:"Enum",value:V()};else if(q==43)u={type:"string",value:e()};else if(q==44){var J=h();
u={type:"curv16",value:[a(),J==12?[t(),t(),t(),t()]:[V(),V()]]}}else if(q==45){var J=V();u={type:"buff",value:n.slice(O,O+J)};
O+=J}else if(q==47){u={type:"uint32",value:V()}}else if(q==48){var c=[],p=h();if(p!=1)throw p;if(n[O]==135){var d=T(t(),g+1,i),k=T(t(),g+1,i),A=T(t(),g+1,i);
c=[d,k,A]}else{var $=1;if(n[O]==3){t();$=V()}for(var m=0;m<$;m++){if(t()!=41)throw"e";var Y=t();if(Y!=0&&Y!=1)throw Y;
if(t()!=172)throw"e";var K=V(),G=h(),z=[];c.push(z);if(G!=18)throw G;if(K>2e3)throw K;for(var M=0;M<K;
M++)z.push([a(),a(),t(),t()])}}O++;u={type:"curve",value:c}}else if(q==51){u={type:"EmbeddedData"};u[l()]=e()}else if(q==52)u={type:"uint32",value:V()};
else if(q==56)u={type:"Color32",value:[t(),t(),t(),t()]};else if(q==60)u={type:"ColorGRAY",value:[E(),E()]};
else if(q==68)u={type:"ColorRGBA",value:[E(),E(),E(),E()]};else if(q==72)u={type:"ColorCMYK",value:[E(),E(),E(),E(),E()]};
else{throw q}return q==49||q==50||q==51?u:u.value}function Z(q){var g=0,i=q.length;for(var m=0;m<i;m++)q[m]=g=g+q[m]&255}function s(q){n=q;
O=4;var g=V(),i=x();if(i!="nsrP")throw i;var i=x();if(i!="#Inf")throw i;var u=r();W=r();var I=r(),Y=r(),U=r(),F=V(),N=V(),i=x();
if(i!="Prot")throw i;var F=V(),o=P(u),X={},J=Date.now();for(var c=0;c<o.length;c++){var p=o[c],d=p[3],G=null;
O=p[0];var i=x();if(i!="#Fil")throw i;var k=d>>>5&1,A=d&3,$=d&192;switch($){case 64:$=1;k=0;break;case 128:$=2;
break;case 192:$=3;break;default:$=0;k=0}var K=new Uint8Array(n.buffer,O,p[2]);if(A==0)G=K;else if(A==1)G=pako.inflate(K);
else if(A==2)G=dx.um.Wd(K,p[1]);else throw A;if(k==0){if($==1)Z(G);if($==2)throw"e"}else throw k;X[p[4]]=G}return X}function f(q){var g=s(new Uint8Array(q));
n=g["doc.dat"];O=16;var i={};b(i,0,[]);return[g,i,W]}return{a3L:f}}();function hC(){}hC.GQ=function(){function _(e,P){var b=Date.now(),T=ey.a3L(e),C=T[0],Z=T[1],W=T[2],s=Z.DocR,f=s.DfSz,q=s.Chld;
if(q.length!=1)throw"e";var g=q[0],i=g.SprB;q=g.Chld;P.a=~~i[2];P.n=~~i[3];P.buffer=Q.Q(P.a*P.n*4);var u=[0,{}];
for(var m=0;m<q.length;m++)x(q[m],P,C,new aY,u,0);P.GN(u[0]);console.log(Date.now()-b,"Document created");
b=Date.now()}function n(e){return new aY(e[0],e[3],e[1],e[4],e[2],e[5])}function O(e,P){var b=P.Xfrm;
b=b?n(b):new aY;b.concat(e);return b}function l(e){var P={0:"norm",1:"dark",2:"mul ",3:"idiv",196613:"lbrn",65538:"dkCl",4:"lite",5:"scrn",6:"div ",7:"lddg",65542:"lgCl",8:"over",9:"sLit",10:"hLit",11:"vLit",65551:"lLit",12:"pLit",13:"hMix",14:"diff",15:"smud",16:"fsub",262165:"fdiv",17:"hue ",18:"sat ",20:"colr",19:"lum "}[e];
return P?P:"norm"}function x(e,P,b,T,C,Z){var W=e._type,s=e.Chld,f=P.Ni();f.iA(e.Desc==null||e.Desc==""?W=="Grup"?"Folder":"Layer":e.Desc);
f.ND(e.Visi);f.opacity=Math.round(255*e.Opac);if(e.FOpc!=1)f.add.iOpa=Math.round(255*e.FOpc);var q=e.Blnd;
if(q!=null)f.to=l(q);var g=O(T,e),i=W=="ShpN"||W=="PCrv";if(s){P.B.push(P.y9());f.add.lsct=bN.GV;f.to="pass";
f.FQ=24;if(W=="ShpN"){var u=e.ShpB;f.C_(new a8(u[0]+g.Wk,u[1]+g.d7,u[2]-u[0],u[3]-u[1]));C[0]++;f.add.artb.Clr={t:"Objc",v:Q.N.YS({o:255,J:255,k:255})}}for(var m=0;
m<s.length;m++)x(s[m],P,b,g,C,Z+1)}else if(W=="Rstr"||W=="ImgN"||W=="MRst"){var I=e.Bitm,Y=I.Bckg,U=Date.now(),F;
if(Y==null){F=r(I,b,C[1]);f.rect=F[2].clone();f.buffer=F[1].slice(0);f.rect.x+=g.Wk;f.rect.y+=g.d7}if(Y||g.Sn()!=1){var N,o=0,X=0;
if(Y){var J=b[Y.Data],c=R.iZ(J,"ataD")+4,p=R.j0(J,c);c+=4;N=J.slice(c,c+p)}else{o=f.rect.x-g.Wk;X=f.rect.y-g.d7;
if(F[3]==null)F[3]=new Uint8Array(dx.Jv("PNG").QI([[f.buffer.buffer]],f.rect.a,f.rect.n));N=F[3].slice(0)}var d=P.zk(N,f.getName(),0,0);
d.FQ=f.FQ;d.opacity=f.opacity;f=d;var k=new aY;k.translate(o,X);k.concat(g);var A=f.rect.clone();A.x=A.y=0;
var $=Q.p.ta(A).C;Q.p.D($,k,$);f.add.SoLd.Trnf=D.D6.X6($);f.add.SoLd.nonAffineTransform=D.D6.X6($);f.Ga(P,!1)}}else if(W=="TxtA"||W=="TxtF"){f.add.lnsr="rend";
f.add.TySh=b$.Jw(0,0);f.add.TySh.T1=new a8(0,0,100,100);var K=e.TxtH.FrmB,G=new aY,j=0;G.translate(K[0],K[1]);
G.concat(g);f.add.TySh.D=G;var z=f.add.TySh.m1,M=e.StSt,hl=M.Blok;if(hl.length!=1)throw"e";for(var w=0;
w<hl.length;w++){var B=hl[w],bB=j,bG=0,eb=B.Glyp.Utf8;eb=eb.replace(/\u2028/g,"\n");eb=eb.replace(/\u2029/g,"\n");
eb=eb.slice(0,eb.length-1);b$.qS(z,j,eb);j+=eb.length;var fe=B.GAtt.Runs,gB=B.PAtt.Runs[0],hp=gB.Item.Ints[0];
for(var g6=0;g6<fe.length;g6++){var by=fe[g6],e7=by.Indx,aN=by.Item,jK=aN.Objs,f7=b$.QN(z,bB,1);f7.G1.Justification=hp==0?0:hp==1?2:1;
b$.Wu(f7,aN.DFnt.Post);f7.oM.FontSize=aN.Doub[0];for(var m=0;m<jK.length;m++){var hW=jK[m];if(hW._type=="FDsc"){var km=hW.FDeF;
if(km._type=="FilS"){var ca=y(km.Colr);f7.oM.FillColor={Type:1,Values:[1,ca[0],ca[1],ca[2]]}}}}b$.gD(z,bB+bG,bB+Math.min(e7,eb.length),f7);
bG=e7}}b$.EQ(z,1);b$.IU(z,[0,0,Math.round(K[2]-K[0]),Math.round((K[3]-K[1])*1.2)]);P.Gl=!0}else if(i){f.FQ|=16;
var aU=f.add.vstk=JSON.parse(JSON.stringify(aF.eo.default));aU.strokeEnabled.v=!1;var eJ=f.add.vmsk=t(e);
Q.M.qp(eJ.i,g);if(e.BFFl){var am=e.BFFl[0].FDeF,eA=am._type;if(eA=="FilS")f.add.SoCo={classID:"null",Clr:V(am.Colr)};
else if(eA=="FilG"){var dj=f.add.GdFl=JSON.parse(aF._v[aF.order.indexOf("GrFl")]);h(am,dj)}else if(eA=="FilN"){f.add.SoCo={classID:"null",Clr:{t:"Objc",v:Q.N.YS({o:0,J:0,k:0})}};
aU.fillEnabled.v=!1}else console.log(eA)}if(e.LILn){var cM=e.LILn[0].LDeL,b2=cM.Wght;if(b2!=0){aU.strokeEnabled.v=!0;
aU.strokeStyleLineWidth.v.val=b2;var am=e.LIFl[0].FDeF,eA=am._type;if(eA=="FilS")aU.strokeStyleContent.v.Clr=V(am.Colr);
else if(eA=="FilN")aU.strokeEnabled.v=!1}}f.W0();f.bf(P)}else console.log(W);var cm=e.AdCh,az=[];if(cm)for(var m=0;
m<cm.length;m++){var j_=cm[m],hh=j_._type;if(hh=="ShpN"||hh=="PCrv"){var eJ=f.add.vmsk=t(j_),gs=O(g,j_);
Q.M.qp(eJ.i,gs);f.W0();f.bf(P)}else if(j_.AdjP){var fI=j_.AdjP,c0=fI._type,ay={LevP:"levl",WhBP:"levl",SHiP:"curv",HSSP:"hue2",RecP:"hue2","B&WP":"blwh","B&CP":"brit",PosP:"post",VibP:"vibA",ExpP:"expA",ThrP:"thrs",CrvP:"curv"}[c0];
if(ay==null){console.log(fI);continue}var fC=ie.HG(ay,{});az.push(fC);var jQ=fC.v.Fltr.v;if(c0=="LevP"){var fw=jb.SO(jQ,0);
fw[0]=fI.OutB*255;fw[1]=fI.OutW*255;jb.Ll(jQ,0,fw)}else if(c0=="WhBP"){var fw=jb.SO(jQ,2);fw[4]=100+fI.WBTi*20;
jb.Ll(jQ,2,fw);var fw=jb.SO(jQ,3);fw[4]=100+fI.WBTi*200;jb.Ll(jQ,3,fw)}else if(c0=="HSSP"){var fw=c7.SO(jQ,0);
fw[0]=Math.round(fI.HueA*256);fw[1]=Math.round(fI.SatA*256);fw[2]=Math.round(fI.LumA*256);c7.Ll(jQ,0,fw)}else if(c0=="RecP"){jQ.Clrz.v=!0;
var fw=c7.SO(jQ,0);fw[0]=Math.round(fI.RecH*100);fw[1]=Math.round(fI.RecS*100);fw[2]=Math.round(fI.RecL*100);
c7.Ll(jQ,0,fw)}else if(c0=="B&CP"){jQ.Brgh.v=Math.round(fI.Brig*100);jQ.Cntr.v=Math.round(fI.Ctrs*100-100)}else if(c0=="PosP"){jQ.Lvls.v=fI.Post}else if(c0=="VibP"){jQ.vibrance.v=fI.Vibr-100;
jQ.Strt.v=Math.round(fI.Satu*100)}else if(c0=="ExpP"){jQ.Exps.v=fI.Expo;jQ.gammaCorrection.v=fI.Gamm/2.2}else if(c0=="ThrP"){jQ.Lvl.v=Math.round(fI.Thre*255)}else if(c0=="CrvP"){var a_=fI.Mast["Cnt "],el=fI.Mast.Vals,fw=a4.SO(jQ,0),dD=fw[0];
for(var ip=0;ip<a_;ip++){var jn=fw[ip]=JSON.parse(JSON.stringify(dD));jn.v.Hrzn.v=Math.round(el[ip]*255);
jn.v.Vrtc.v=Math.round(el[4+ip]*255)}a4.Ll(jQ,0,fw)}}else console.log(j_)}if(az.length!=0&&f.add.SoLd){f.add.SoLd.filterFX=ie.JH();
P.VS({id:f.add.SoLd.placed.v,rect:new a8,buffer:Q.Q(1),z:new v.Pt});f.add.SoLd.filterFX.v.filterFXList.v=az;
f.Ga(P,!1)}var af=e.FiEf;if(af&&af.length!=0){var iU=f.add.lmfx=JSON.parse(aF.default);for(var m=0;m<aF.order.length;
m++)iU[aF.Ck[m]]={t:"VlLs",v:[]};for(var hV=0;hV<af.length;hV++){var gn=af[hV],fY=gn._type,e1={ColO:"SoFi",GrdO:"GrFl",Shad:"DrSh",InnS:"IrSh",OutG:"OrGl",InnG:"IrGl",Strk:"FrFX",PhgB:"ebbl",BevE:"ebbl"}[fY],dj=e1?JSON.parse(aF._v[aF.order.indexOf(e1)]):null;
if(fY=="ColO"){dj.Clr=V(gn.Colr)}else if(fY=="GrdO"){h(gn.GrFl.FDeF,dj)}else if(fY=="Shad"||fY=="InnS"||fY=="OutG"||fY=="InnG"){dj.Clr=V(gn.Colr);
dj.blur.v.val=Math.round(gn.Radi/2.4);if(gn.Offs!=null){dj.Dstn.v.val=gn.Offs;dj.lagl.v.val=Math.round(180-gn.Angl*180/Math.PI);
dj.uglg.v=!1}}else if(fY=="Strk"){dj.Clr=V(gn.Colr);dj.Sz.v.val=Math.round(gn.Radi)}else if(fY=="PhgB"||fY=="BevE"){dj.blur.v.val=Math.round(gn.Radi);
if(fY=="BevE")dj.bvlS.v.BESl="PlEb"}else if(fY=="Gaus"){if(i&&gn.Enab){f.add.vmsk.Vw=gn.Radi/2.4;f.add.vmsk.na=!0;
f.W0();f.bf(P)}}if(e1){dj.enab.v=gn.Enab;if(dj.Md&&gn.BlnM!=null)dj.Md.v.BlnM=b3.Aa(l(gn.BlnM));if(dj.Opct&&gn.Opac!=null)dj.Opct.v.val=Math.round(gn.Opac*100);
var d6=aF.Ck[aF.order.indexOf(e1)];iU[d6].v.unshift({t:"Objc",v:dj})}}}P.B.push(f)}function t(e){var P=new v.ez,b=e._type;
if(b=="PCrv"){var T=e.Crvs.Data,C=[],Z=[];for(var m=0;m<T.length;m++){var W=T[m];if(W.length%3!=1){W=W.slice(1,W.length-1)}for(var s=0;
s<W.length;s++){var f=W[s],q=f[2];if(q!=0)C.push(s==0?"M":"C");Z.push(f[0],f[1])}}P.i=Q.p.mg({C:Z,F:C},!0)}else{var g=e.ShpB,i=e.Shpe,u=i._type,I=g[2]-g[0];
if(u=="ShpE"){P.i=Q.M.tm.p6(g[0],g[1],g[2]-g[0],g[3]-g[1])}else if(u=="ShNR"){var Y=[0,0,0,0];if(i.CTyp){Y=i.ShCR.slice(0);
for(var m=0;m<4;m++)Y[m]*=g[2]-g[0]}P.i=Q.M.tm.Rect(g[0],g[1],g[2]-g[0],g[3]-g[1],Y)}else if(u=="ShpT"){P.i=Q.p.mg({F:["M","L","L","Z"],C:[g[0],g[3],g[2],g[3],g[0]+I*.5,g[1]]},!0)}else if(u=="ShTz"){P.i=Q.p.mg({F:["M","L","L","L","Z"],C:[g[0]+I*i.PosL,g[1],g[0]+I*i.PosR,g[1],g[2],g[3],g[0],g[3]]},!0)}else{console.log("--",u);
P.i=Q.M.tm.Rect(g[0],g[1],g[2]-g[0],g[3]-g[1],[0,0,0,0])}}return P}function h(e,P){var b=e.Grad,T=b.Cols;
P.Type.v.GrdT=e.Type==0?"Lnr":"Rdl";var C=[];for(var m=0;m<T.length;m++){var Z=y(T[m]);C.push([b.Posn[m][0],Z])}P.Grad.v.Intr.v=0;
Q.N.bi(C,P.Grad.v);var W=b.Posn,s=new aW(W[0][0],W[0][1]),f=new aW(W[1][0],W[1][1]);if(e.Type==0)s=new aW((s.x+f.x)/2,(s.y+f.y)/2);
Q.N.u0(s,f,new a8(0,0,1,1),P)}function V(e){var P=y(e);return{t:"Objc",v:Q.N.YS({o:P[0]*255,J:P[1]*255,k:P[2]*255})}}function y(e){var P=e._col,b=e._type;
if(b=="HSLA"){var T=Q.kg(P[0],P[1],P[2]);return[T.o,T.J,T.k,P[3]]}else if(b=="RGBA")return P;else if(b=="CMYK"){var C=1-P[3];
return[(1-P[0])*C,(1-P[1])*C,(1-P[2])*C]}else if(b=="GRAY")return[P[0],P[1],P[2]];else{console.log(P);
throw b}}function r(e,P,b){var T=e.Frmt,Y="";if(T!=0&&T!=4&&T!=6)throw T;var C=e.BmpW,Z=e.BmpH,W=T==4?5:T==0?4:1,s=Math.ceil(C/256),f=Math.ceil(Z/256),q=new a8(0,0,s,f),g=new a8;
for(var m=0;m<W;m++){var i=new Uint8Array(e["Sta"+(m+1)]),u=Q.pF(i,q);g=g.uG(u)}var I=[];for(var m=0;
m<W;m++){var i=new Uint8Array(e["Sta"+(m+1)]),U=Q.Q(g.O());Q.pc(i,q,U,g);I[m]=[];for(var F=0;F<U.length;
F++)I[m][F]=U[F];Y+=JSON.stringify(I[m])+","+JSON.stringify(e["Idx"+(m+1)])+","}if(b[Y]==null){var N=g.a*256,o=g.n*256,X=new Array(W);
for(var m=0;m<W;m++){var i=X[m]=new Uint8Array(N*o);E(i,e["Idx"+(m+1)],I[m],P,N,o)}var J=Q.Q(N*o*4);
if(T==0)Q.gJ({o:X[0],J:X[1],k:X[2],EX:X[3]},J);else if(T==4){for(var m=0;m<X[0].length;m++){var c=m*4,p=X[0][m]*(1/255),d=X[1][m]*(1/255),k=X[2][m]*(1/255),A=X[3][m]*(1/255),$=UDOC.C.cmykToRgb([p,d,k,A]);
J[c]=$[0]*255;J[c+1]=$[1]*255;J[c+2]=$[2]*255;J[c+3]=X[4][m]}}else{J.fill(255);Q.X$(X[0],J)}var K=new a8(0,0,N,o),G={buffer:J,rect:K};
Q.M_(G);b[Y]=[G.rect,G.buffer]}var u=b[Y][2]=b[Y][0].clone();u.x+=g.x*256;u.y+=g.y*256;return b[Y]}function E(e,P,b,T,C,Z){var W=0,s=C>>>8,f=Z>>>8;
for(var q=0;q<f;q++)for(var g=0;g<s;g++){var i=g*256,u=q*256,I=q*s+g,Y=u*C+i,U=b[I];if(U<=1)a(e,Y,0,C,256,256);
else if(U==2)a(e,Y,4294967295,C,256,256);else if(U==4){var F=P[W];W++;var N=T[F.Data.DatI],o=F.Rect;
if(o==null)o=[0,0,256,256];a(e,Y,0,C,256,256);S(e,(u+o[1])*C+i+o[0],N,o[1]*256+o[0],C,256,o[2]-o[0],o[3]-o[1])}else console.log(U)}}function a(e,P,b,T,C,Z){var W=P+T*Z;
for(;P<W;P+=T){var s=P+C;for(var f=P;f<s;f++){e[f]=b}}}function S(e,P,b,T,C,Z,W,s){var f=P+C*s,q=T+Z*s;
for(;P<f&&T<q;P+=C,T+=Z){for(var m=0;m<W;m++)e[P+m]=b[T+m]}}return _}();function gu(){}gu.GQ=function(_,n){var O=gu,l=ef.parse(_),t=0;
if(l.pages.length>1)console.log(l.pages.length,"pages");var x=[],h=new a8;for(var V=0;V<l.pages.length;
V++){var y=l.pages[V],r=y.layers,E=O.Vx(r,V),S=!1;if(E.O()>8e3*8e3||E.a>3e4||E.n>3e4){O.ak3(r,!0);var a=O.Vx(r,V);
if(a.O()>=E.O())O.ak3(r,!1)}E=O.Vx(r,V);for(var e=0;e<r.length;e++){var P=r[e];if(O.Pw(P)=="artboard")S=!0}if(!S){console.log("no artboard");
var b={};for(var T in y)b[T]=y[T];b._class="group";y.layers=[b]}x.push(E.clone());if(E.wk())continue;
E.x=0;E.y=t;t+=E.n+200;h=h.uG(E)}var C={};if(l.foreignSymbols)for(var m=0;m<l.foreignSymbols.length;
m++){var Z=l.foreignSymbols[m].symbolMaster;C[Z.symbolID]={tz:Z}}O.a57(l.pages,C,n);for(var W in C){var P=C[W].tz,s=O.a4S(P.layers)}var f=gu.im(h,8192*8192);
n.Gl=!0;n.a=Math.round(h.a/f);n.n=Math.round(h.n/f);n.buffer=Q.Q(n.a*n.n*4);n.GN(l.pages[0].layers.length);
n.uP={};n.VG=[];t=0;for(var V=0;V<l.pages.length;V++){var q=l.pages[V],E=x[V],g=new aY(f,0,0,f,E.x,E.y-t);
O.Oy(q.layers,n,g,l,C,{},[]);t+=E.n+200}delete n.uP;delete n.VG;if(f!=1)alert("File scaled down "+f+"x");
n.a6E()};gu.alk=0;gu.Pw=function(_){return _._class?_._class:_.$class};gu.im=function(_,n){var O=1;while(Math.round(_.a/O)*Math.round(_.n/O)>n||Math.max(Math.round(_.a/O),Math.round(_.n/O))>3e4)O++;
if(O!=1&&!window.confirm("Your image is quite large ("+_.a+" x "+_.n+" px).\n"+"Press OK to scale it down "+O+"x, or Cancel to keep the size."))O=1;
return O};gu.Vx=function(_,n){var O=[],l=gu;for(var x=0;x<_.length;x++){var t=_[x],h=l.NU(t.frame);if(n==0||l.Pw(t)=="artboard")O.push(h)}return Q.rect.Fj(O)};
gu.ak3=function(_,n){var O=[],l=gu;for(var x=0;x<_.length;x++){var t=_[x],h=l.NU(t.frame);h.a+=150;h.n+=150;
O.push(h)}var V=Q.rect.Fj(O);Q.rect.a2g(O,n);var y=Q.rect.Fj(O);if(y.O()*1.5<V.O()||V.a>3e4&&y.a<=3e4||V.n>3e4&&y.n<=3e4){alert("Re-arranging artboards");
for(var x=0;x<_.length;x++){var r=O[x],t=_[x],E=t.frame;E.x=r.x;E.y=r.y}}};gu.a57=function(_,n,O){var l=gu;
for(var x=0;x<_.length;x++){var t=_[x],h=l.Pw(t);if(["page","artboard","group"].indexOf(h)!=-1)l.a57(t.layers,n,O);
else if(h=="symbolMaster")n[t.symbolID]={tz:t}}};gu.a4S=function(_){var n=gu;for(var O=0;O<_.length;
O++){var l=_[O],x=n.Pw(l),t=null;if(["page","artboard","group"].indexOf(x)!=-1)t=n.a4S(l.layers);if(x=="symbolMaster"||x=="symbolInstance")t=l;
if(t!=null)return t}return null};gu.Oy=function(_,n,O,l,x,t,h){var V=gu,y=[];for(var r=0;r<_.length;
r++){var E=_[r],a=E.frame?V.NU(E.frame):null,S=E.style,C="",g=null,i=!1;if(S==null){console.log("no styles")}var e=V.anz(E,O),P=V.Pw(E),b=P=="shapeGroup"||P=="shapePath"||P=="rectangle"||P=="oval"||P=="triangle"||P=="polygon",T=["page","artboard","group"].indexOf(P)!=-1;
if(P=="shapeGroup"){for(var m=0;m<E.layers.length;m++)if(V.Pw(E.layers[m])=="shapeGroup")T=!0}var Z=E.exportOptions;
if(Z){var W=Z.exportFormats;if(W==null)W=Z.sizes;if(P!="artboard"&&(W&&W.length!=0)){var s=W[0].scale}}var f=n.Ni();
f.ND(E.isVisible);var q=E.name;if(!(typeof q=="string"))q=P;f.iA(C+q.slice(0,250));if(S!=null)g=V.azj(l,n,S,a,e,f.getName(),b||P=="artboard"||T);
if(P=="rectangle"&&S&&S.fills&&S.fills[0]){var u=S.fills[0];if(u.fillType==4&&u.patternFillType>1&&u.image!=null)i=!0}if(E.shouldBreakMaskChain){while(y.length!=0)V.abE(y.pop(),n)}if(T){f.add.lsct=E.layerListExpandedType==2?bN.GV:bN.SE;
f.to="pass";f.FQ=24;f.ND(E.isVisible);n.B.push(n.y9());if(P=="artboard"){var I=a.clone(),Y=e.Sn();I.x=-Math.floor(e.Wk/Y);
I.y=-Math.floor(e.d7/Y);I.a=Math.floor(I.a/Y);I.n=Math.floor(I.n/Y);f.C_(I);var U=E.backgroundColor,F=U?{o:255*U.red,J:255*U.green,k:255*U.blue}:{o:255,J:255,k:255};
f.add.artb.Clr={t:"Objc",v:Q.N.YS(F)};f.add.artb.artboardBackgroundType={t:"long",v:4}}V.Oy(E.layers,n,e,l,x,t,h)}else if(b&&!i){f.add.vmsk=new v.ez;
f.add.vstk=JSON.parse(JSON.stringify(aF.eo.default));f.add.vstk.strokeEnabled.v=!1;var N=g!=null&&g.frameFXMulti.v.length==1,o=S?S.fills:null,X=S?V.aeZ(l,o,a,e,f.getName(),n,V.Hi(h,E.do_objectID+"_image")):[];
if(X.length==0){if(N)f.add.vstk.fillEnabled.v=!1;else f.add.iOpa=0;f.add.SoCo={classID:"null",Clr:{t:"Objc",v:Q.N.YS({o:0,J:0,k:0})}}}else{var J=X[0],c=null,p=null;
if(J.type=="SoFi"){c="SoCo";p=aF.M4}if(J.type=="GrFl"){c="GdFl";p=aF.Em}if(J.type=="patternFill"){c="PtFl";
p=aF.Vy}if(c!=null){f.add[c]={classID:"null"};for(var m=0;m<p.length;m++){var d=p[m];f.add[c][d]=J.h.v[d]}var k=J.h.v.Opct.v.val;
if(N&&k==0)f.add.vstk.fillEnabled.v=!1;else f.add.iOpa=Math.round(255*k/100)}}f.FQ|=16;f.add.vmsk.i=V.AV(E.layers?E.layers:[E],E.layers?e:O);
var A=S?S.blur:null;if(A&&A.isEnabled&&A.type<=1)f.add.vmsk.Vw=A.radius;if(f.add.vmsk.i.length==2){console.log("shape with no content:",f.getName())}if(N){var $=g.frameFXMulti.v[0].v,K=f.add.vstk,G=S.borders[0];
g.frameFXMulti.v=[];fW.ayz($,K);var z=S.borderOptions,M=S.miterLimit;if(z){var hl=z.dashPattern;K.strokeStyleLineCapType.v.strokeStyleLineCapType=aF.eo.vl[z.lineCapStyle];
K.strokeStyleLineJoinType.v.strokeStyleLineJoinType=aF.eo.join[z.lineJoinStyle];if(hl)K.strokeStyleLineDashSet.v=fW.Vu(hl,1/$.Sz.v.val);
if(M!=null)K.strokeStyleMiterLimit.v=M}}f.W0();f.bf(n)}else if(P=="bitmap"||i){if(!i&&E.image==null)continue;
var j=i?S.fills[0]:null,w=i?j.image.bdata:E.image.bdata,B=n.zk(w,f.getName(),0,0);B.FQ=f.FQ;f=B;var A=S?S.blur:null,bB=S?S.colorControls:null;
if(A||bB){f.add.SoLd.filterFX=ie.JH();n.VS({id:f.add.SoLd.placed.v,rect:new a8,buffer:Q.Q(1),z:new v.Pt});
var o=f.add.SoLd.filterFX.v.filterFXList.v;if(A){var bG=ie.HG("GsnB",{});bG.v.enab.v=A.isEnabled;bG.v.Fltr.v.Rds.v.val=A.radius;
o.push(bG)}if(bB){var eb=bB.brightness,fe=bB.contrast,gB=bB.hue,hp=bB.saturation;if(gB!=0||hp!=1){var bG=ie.HG("hue2",{});
bG.v.enab.v=bB.isEnabled;c7.Ll(bG.v.Fltr.v,0,[Math.round(gB*180/Math.PI),Math.round((hp-1)*100),0]);
o.push(bG)}if(eb!=0||fe!=1){var bG=ie.HG("brit",{});bG.v.enab.v=bB.isEnabled;fe=fe-1;if(fe>0)fe/=2;var g6=bG.v.Fltr.v;
g6.Brgh.v=Math.round(eb*255);g6.Cntr.v=Math.round(fe*255);g6.useLegacy.v=!0;o.push(bG)}}}if(i){var by=j.patternFillType;
if(by==3){var e7=f.rect.a/f.rect.n,aN=a.a/a.n;if(e7<aN){e.translate(-(a.a*(1-e7/aN))/2,0);e.scale(aN/e7,1)}else{e.translate(0,-(a.n*(1-aN/e7))/2);
e.scale(1,e7/aN)}}}a.x=a.y=0;var jK=Q.p.ta(a).C;e.sJ();Q.p.D(jK,e,jK);f.add.SoLd.Trnf=D.D6.X6(jK);f.add.SoLd.nonAffineTransform=D.D6.X6(jK);
f.Ga(n,!1)}else if(P=="text"){if(E.attributedString==null)continue;var f7=e.clone(),hW,km,eA=0;f7.sJ();
f7.EX=f7.c5=Math.min(f7.EX,f7.c5);f.add.lnsr="rend";f.add.TySh=b$.Jw(0,0);f.add.TySh.T1=new a8(0,0,a.a,a.n);
f.add.TySh.D=f7;var ca=E.attributedString;if(ca.archivedAttributedString)ca=ca.archivedAttributedString;
var aU=ca.NSString;if(aU==null)aU=ca.string;if(aU==null)aU="";if(aU["NS.string"])aU=aU["NS.string"];
if(t[E.do_objectID]!=null)aU=t[E.do_objectID];var eJ=V.Hi(h,E.do_objectID+"_stringValue");if(eJ)aU=eJ.value;
if(ca.attributes!=null){hW=[];km=[];var am=ca.attributes;for(var m=0;m<am.length;m++){hW.push(am[m].length,m);
km.push(am[m].attributes)}}else if(ca.NSAttributeInfo==null){hW=[aU.length,0];km=[ca.NSAttributes]}else{hW=ca.NSAttributeInfo["NS.data"];
km=ca.NSAttributes;hW=gu.ao9(hW,km)}for(var m=0;m<hW.length;m+=2)eA+=hW[m];if(eA!=aU.length){while(eA>aU.length){hW[hW.length-2]--;
eA--;if(hW[hW.length-2]==0){hW.pop();hW.pop()}}hW[hW.length-2]+=aU.length-eA}aU=aU.replace(/\u2028/g,"\n");
aU=aU.replace(/\u2029/g,"\n");aU=aU.replace(/\r/g,"\n");var dj=f.add.TySh.m1;b$.qS(dj,0,aU);if(aU!=""){var cM=E.textBehaviour,b2=S.textStyle,cm=b2?b2.verticalAlignment:0,az=V.alB(dj,hW,km,aU),Y=f7.Sn(),j_=b$.QN(dj,0,1),fI=0;
if(j_.oM.Font){var hh=j_.ZP[j_.oM.Font].Name;if(hh=="FontAwesome"||hh=="Ionicons")az*=.87}var gs=j_.oM.AutoLeading?0:j_.oM.Leading*.6,c0=Math.max(az,gs)*Y,ay=a.a,fC=a.n;
if(cM==0){b$.EQ(dj,0);var fw=b$.Ir(j_.G1);if(fw==1)fI=ay*Y;if(fw==2)fI=ay*Y*.5;if(cm==0)c0*=1;else c0*=.9}else{b$.EQ(dj,1);
b$.IU(dj,[0,0,Math.round(ay),Math.round(fC)]);if(cM==2&&cm==0)c0=c0*.2;else if(cM==2&&cm==1){c0=Y*.5*(fC-j_.oM.FontSize)}else if(cM==1&&cm==0)c0=c0*.2;
else c0=c0*.35}f.add.TySh.D.translate(fI,c0)}}else if(P=="symbolInstance"||P=="symbolMaster"){var aG=E.symbolID;
if(t[E.do_objectID])aG=t[E.do_objectID].symbolID;var a_=V.Hi(h,E.do_objectID+"_symbolID");if(a_)aG=a_.value;
if(aG=="")continue;var dD={};for(var d in t)dD[d]=t[d];if(E.overrides)for(var d in E.overrides)dD[d]=E.overrides[d];
var jn=h.slice(0);if(E.overrideValues)jn=jn.concat(E.overrideValues);var af=x[aG];if(af==null){console.log("Unknown master master",E.symbolID);
continue}var iU=gu.NU(af.tz.frame),hV=iU.a/a.a,gn=iU.n/a.n,fY=e.clone();fY.scale(hV,gn);f.add.lsct=bN.SE;
f.to="pass";f.FQ=24;f.ND(E.isVisible);n.B.push(n.y9());var e1=af.tz;if(n.VG.indexOf(e1)==-1){n.VG.push(e1);
V.Oy(e1.layers,n,fY,l,x,dD,jn);n.VG.pop()}}else if(P=="slice"){console.log("slice layers are ignored by now");
continue}else{console.log("unknown layer type: "+P,E);continue}if(S&&S.contextSettings){var d6=S.contextSettings,fO=d6.blendMode;
if(fO<V.jX.length){f.to=b3.qX[b3.AM.indexOf(V.jX[fO])];if(T&&f.to=="norm")f.to="pass"}f.opacity=Math.round(f.opacity*d6.opacity)}if(g!=null){f.add.lmfx=g}n.B.push(f);
if(E.hasClippingMask&&_.length>1){y.push(f);n.B.push(n.y9())}}while(y.length!=0)V.abE(y.pop(),n)};gu.Hi=function(_,n){for(var m=0;
m<_.length;m++)if(_[m].overrideName.startsWith(n))return _[m]};gu.ao9=function(_,n){var O=0,l=[];while(O+1<_.length){var x=_[O];
O++;if(x>127){x+=128*(_[O]-1);O++;if(_[O-1]>127){x+=128*(_[O]-1);O++}}var t=_[O];O++;l.push(x,t)}return l};
gu.alB=function(_,O,l,x){var t=gu,h=0,a=0,S=0;for(var m=0;m<x.length;m++){var V=x.charCodeAt(m),y=1473<=V&&V<=1479||1488<=V&&V<=1514||1520<=V&&V<=1524,r=1569<=V&&V<=1594||1600<=V&&V<=1749;
if(y||r)h++}var E=h>x.length/2;for(var m=0;m<O.length;m+=2){var e=O[m],q=14,g="DejaVuSans";if(e==0)continue;
var P=O[m+1],b=l[P],T=b$.QN(_,a,a+e-1),C=b.NSColor;if(C==null){var C=b.MSAttributedStringColorDictionaryAttribute;
if(C==null)C=b.MSAttributedStringColorAttribute;if(C==null)C="0 0 0";else C=[C.red,C.green,C.blue].join(" ")}else if(t.Pw(C)=="MSArchivedColor")C=C.dr+" "+C.dg+" "+C.db;
else if(C.NSRGB){C=C.NSRGB;C=R.c$(C,0,C.length-1)}else if(C.NSCMYK){C=C.NSCMYK;C=R.c$(C,0,C.length-1);
C=C.split(" ").map(parseFloat);var Z=1-C[0],W=1-C[1],s=1-C[2],f=1-C[3];C=Z*f+" "+W*f+" "+s*f}else if(C.NSWhite){C="1 1 1"}C=C.split(" ");
T.oM.FillColor={Type:1,Values:[1,parseFloat(C[0]),parseFloat(C[1]),parseFloat(C[2])]};var i=b.MSAttributedStringFontAttribute;
if(b.NSFont){q=b.NSFont.NSSize;g=b.NSFont.NSName}else if(i){if(i.attributes){i=i.attributes;q=i.size;
g=i.name}else{var u=i.NSFontDescriptorAttributes;if(u==null)u=i.UIFontDescriptorAttributes;i=u;q=i.NSFontSizeAttribute;
g=i.NSFontNameAttribute}if(g==null)g="DejaVuSans"}var S=Math.max(S,q);T.oM.FontSize=Math.round(q);b$.Wu(T,g);
var I=b.NSKern;if(I==null)I=b.kerning;if(I!=null)T.oM.Tracking=Math.round(1e3*I/q);if(b.NSUnderline!=null)T.oM.Underline=b.NSUnderline>0;
var Y=b.NSStrikethrough;if(Y==null)Y=b.strikethroughStyle;if(Y!=null)T.oM.Strikethrough=Y>0;if(b.MSAttributedStringTextTransformAttribute==1)T.oM.FontCaps=2;
var U=b.NSParagraphStyle;if(U==null)U=b.paragraphStyle;if(U){var F=U.paragraphSpacing;if(F!=null){T.G1.SpaceAfter=F}var N=U.NSAlignment;
if(N==null)N=U.alignment;if(N!=null){var o=0;if(!1){}else if(N==1)o=1;else if(N==2)o=2;else if(N==4)o=0;
else{o=N;console.log("unknown align",N)}if(E&&o<2)o=1-o;T.G1.Justification=o}var X=U.NSMinLineHeight;
if(X==null)X=U.minimumLineHeight;if(X!=null){T.oM.AutoLeading=!1;T.oM.Leading=X}}T.G1._Direction=E?1:0;
b$.gD(_,a,a+e,T);a+=e}return S};gu.azj=function(_,n,O,l,x,t,h){var V=gu,y=JSON.parse(aF.default),r=!1;
for(var m=0;m<aF.order.length;m++)y[aF.Ck[m]]={t:"VlLs",v:[]};var E=O.fills,a=V.aeZ(_,E,l,x,t,n);for(var S=0;
S<2;S++){var e=O[["shadows","innerShadows"][S]];if(e==null)continue;var P=["DrSh","IrSh"][S],b=aF.Ck[aF.order.indexOf(P)];
for(var m=0;m<e.length;m++){var T=e[m];if(!T.isEnabled)continue;if(T.contextSettings.opacity==0||T.color.alpha==0)continue;
var C=JSON.parse(aF._v[aF.order.indexOf(P)]);y[b].v.unshift({t:"Objc",v:C});r=!0;C.Clr.v=V._0(T.color);
C.blur.v.val=Math.round(T.blurRadius/x.Sn());var Z=x.clone();Z.Wk=Z.d7=0;Z.sJ();var W=Z.uz(new aW(T.offsetX,T.offsetY)),s=Math.sqrt(W.x*W.x+W.y*W.y);
C.Dstn.v.val=Math.round(s);C.lagl.v.val=Math.round(Math.atan2(W.y,-W.x)*(180/Math.PI));if(C.layerConceals)C.layerConceals.v=a.length!=0;
V.O3(T,C)}}var f=O.borders;if(f!=null&&(a.length==0||O.blur==null||!O.blur.isEnabled))for(var m=0;m<f.length;
m++){var q=f[m];if(!q.isEnabled)continue;var C=JSON.parse(aF._v[aF.order.indexOf("FrFX")]),b=aF.Ck[aF.order.indexOf("FrFX")];
y[b].v.unshift({t:"Objc",v:C});r=!0;C.Clr.v=V._0(q.color);if(q.fillType!=0&&q.gradient){var g=V.dA(q.gradient,l,x,t),i=["Type","Angl","Ofst","Scl"];
for(var m=0;m<i.length;m++)C[i[m]]=g[i[m]];C.Grad.v=g.Grad.v;C.PntT.v.FrFl="GrFl"}C.Sz.v.val=Math.round(q.thickness/x.Sn());
C.Styl.v.FStl=["CtrF","InsF","OutF"][q.position];V.O3(q,C)}for(var m=h?1:0;m<a.length;m++){var u=a[m],b=aF.Ck[aF.order.indexOf(u.type)];
y[b].v.unshift(u.h);r=!0}return r?y:null};gu.aeZ=function(_,n,O,l,x,t,h){if(n==null)return[];var V=gu,y=[];
for(var m=0;m<n.length;m++)if(n[m].isEnabled)y.push(n[m]);n=y;var r=[];for(var m=0;m<n.length;m++){var E=n[m],a=null,S=null;
if(E.fillType==0){a="SoFi";var e=JSON.parse(aF._v[aF.order.indexOf("SoFi")]);S={t:"Objc",v:e};S.v.Clr.v=V._0(E.color)}else if(E.fillType==1){a="GrFl";
S={t:"Objc",v:V.dA(E.gradient,O,l,x)}}else if(E.fillType==4&&E.image!=null){var P=E.image;if(h)P=h.value;
var b=dx.N_(P.bdata.buffer);if(b!=null&&b!="pdf"&&b!="eps"){var T,q=0,g=0,i=0;if(t.uP[P.key])T=t.uP[P.key];
else{var C=dx.Jv(b).Xd(P.bdata)[0],Z=C.n5.clone();T={};T.id=fJ.DA()+"-d71c-11e5-b1ae-a548a96e5f9f";T.name="someImage";
T.vA=[new Uint8Array(C.data),Z];t.Rs(T);t.uP[P.key]=T}var W=T.vA[1],e=JSON.parse(aF._v[aF.order.indexOf("patternFill")]);
a="patternFill";S={t:"Objc",v:e};var s=E.patternFillType,f=E.patternTileScale;e.Algn.v=!0;e.Ptrn.v.Idnt.v=T.id;
if(s==0){q=f*W.a/Math.min(W.a,W.n);g=-l.Wk;i=-l.d7}else{q=Math.max(O.a/W.a,O.n/W.n);g=-l.Wk-(W.a*q-O.a)/2;
i=-l.d7-(W.n*q-O.n)/2}e.Scl.v.val=100*q*(1/l.Sn());e.phase.v.Hrzn.v=Math.round(g/l.Sn());e.phase.v.Vrtc.v=Math.round(i/l.Sn())}}else if(E.fillType==5){console.log("fill type Noise not supported yet")}else console.log("unknown fill type",E.fillType);
if(a!=null){V.O3(E,S.v);r.push({type:a,h:S})}}return r};gu.aj1=function(_){var n=gu,O=new a8(0,0,1,1);
_=_.slice(0);while(!0){var l=!1;for(var m=0;m<_.length-1;m++){var x=_[m],t=_[m+1],h=null,V=x.contextSettings;
if(x.fillType==0&&(V==null||V.opacity==1&&V.blendMode==0)&&x.color.alpha==1){var y="norm",r=1,V=t.contextSettings;
if(V){r=V.opacity;y=b3.SY(n.jX[V.blendMode])}if(t.fillType==0){h=JSON.parse(JSON.stringify(t));n.aq0(h.color,x.color,h.color,O,y,r)}if(t.fillType==1){h=JSON.parse(JSON.stringify(t));
var E=h.gradient.stops;for(var a=0;a<E.length;a++)n.aq0(E[a].color,x.color,E[a].color,O,y,r)}if(h!=null&&h.contextSettings){var V=h.contextSettings;
V.opacity=1;V.blendMode=0}}if(h!=null){_.splice(m,0,h);l=!0;break}}if(!l||_.length<2)break}return _};
gu.aq0=function(_,n,O,l,x,t){var h=gu,V=Q.Q(4);h.ae7(_,V);var y=Q.Q(4);h.ae7(n,y);Q.q.Zn(x,V,l,y,l,l,t);
h.a0N(y,O)};gu.ae7=function(_,n){n[0]=255*_.red;n[1]=255*_.green;n[2]=255*_.blue;n[3]=255*_.alpha};gu.a0N=function(_,n){n.red=_[0]/255;
n.green=_[1]/255;n.blue=_[2]/255;n.alpha=_[3]/255};gu.abE=function(_,n){_=_.clone();_.FQ=24;_.iA("Mask by "+_.getName());
n.B.push(_);_.add.lsct=bN.GV;_.add.lyid=n.Io();delete _.add.lmfx;delete _.add.SoCo;delete _.add.GdFl;
delete _.add.PtFl;delete _.add.iOpa;if(_.add.vmsk)_.add.vmsk.na=!0;_.W0();_.bf(n);if((_.FQ&16)==16)_.FQ-=16;
if((_.FQ&2)==2)_.FQ-=2;_.to="pass";_.opacity=255};gu.jX="Nrml Drkn Mltp CBrn Lghn Scrn CDdg Ovrl SftL HrdL Dfrn Xclu H Strt Clr Lmns linearBurn linearDodge".split(" ");
gu.dA=function(_,n,O,l){O=O.clone();O.sJ();O.Wk=O.d7=0;var x=O.Sn(),S=0,e=0;O.scale(1/x,1/x);var t=gu,h=JSON.parse(aF._v[aF.order.indexOf("GrFl")]),V=h.Grad.v;
V.Intr.v=0;if(_==null)return h;var y=_.gradientType,r=t.k9(_.from),E=t.k9(_.to);r.offset(-.5,-.5);E.offset(-.5,-.5);
r=O.uz(r);E=O.uz(E);var a=Math.atan2(-(E.y-r.y),E.x-r.x);h.Type.v.GrdT=["Lnr","Rdl","Angl"][y];h.Scl.v.val=100*aW.nT(r,E);
if(y==0){h.Angl.v.val=180/Math.PI*a;h.Scl.v.val=100*aW.nT(r,E);S=(r.x+E.x)/2;e=(r.y+E.y)/2}if(y==1){h.Scl.v.val=200*aW.nT(r,E);
S=r.x;e=r.y}if(y==2){h.Angl.v.val=180/Math.PI*(a-Math.PI/2)}var P=h.Ofst.v;P.Hrzn.v.val=S*100;P.Vrtc.v.val=e*100;
var b=[];for(var m=0;m<_.stops.length;m++){var T=_.stops[m],C=T.color;b.push([T.position,C?[C.red,C.green,C.blue]:[0,0,0],C.alpha])}Q.N.bi(b,V);
return h};gu.O3=function(_,n){var O=gu,l=1,x=_.contextSettings;if(x!=null){n.Md.v.BlnM=O.jX[x.blendMode];
l*=x.opacity}else n.Md.v.BlnM=O.jX[0];n.enab.v=_.isEnabled;if(n.uglg!=null)n.uglg.v=!1;if(_.color!=null)l*=_.color.alpha;
n.Opct.v.val=Math.round(l*100)};gu._0=function(_){return Q.N.YS(_?{o:_.red*255,J:_.green*255,k:_.blue*255}:{o:0,J:0,k:0})};
gu.AV=function(_,n){var O=gu,l=[{type:6},{type:8,all:0}];for(var x=0;x<_.length;x++){var t=_[x],h=t.booleanOperation,V=0,y=t._class,P=!1;
if(y=="group"||y=="text"||y=="symbolInstance"||y=="slice"){console.log(y+" inside ShapeGroup");continue}if(h==-1)V=0;
else if(h==0)V=1;else if(h==1)V=2;else if(h==2)V=3;else if(h==3)V=0;if(x==0)V=1;var r=gu.NU(t.frame),E=O.anz(t,n),a=t.path?t.path:t,S=[{type:0,length:0,wM:V,kr:2,w3:0,Dj:0}],e=a.points;
for(var m=0;m<e.length;m++){var b=e[m],T=O.k9(b.curveTo),C=O.k9(b.point),Z=O.k9(b.curveFrom);P=P||b.hasCurveFrom&&!Z.yO(C)||b.hasCurveTo&&!T.yO(C)}var W=[];
if(!P){var s=[],ab=e.length;if(ab==0)continue;for(var m=0;m<ab;m++){W[m]=e[m].cornerRadius;var b=O.k9(e[m].point);
s.push(b.x,b.y)}E.scale(1/r.a,1/r.n);E.sJ();Q.p.D(s,E,s);S=Q.M.tm.HW(s,W).slice(2);S[0].wM=V}else{var f=e.length;
S[0].length=f;for(var m=0;m<f;m++){var b=e[m],q=b.curveMode,g=O.k9(b.point);S[1+m]={type:q==2||q==4?1:2,lz:b.hasCurveTo?O.k9(b.curveTo):g.clone(),H:g,l6:b.hasCurveFrom?O.k9(b.curveFrom):g.clone()}}E.scale(1/r.a,1/r.n);
E.sJ();Q.M.qp(S,E);var W=[];for(var m=0;m<f;m++){var b=e[m],q=b.curveMode,i=b.cornerRadius;if(q==1&&i!=0)W.push(i);
else W.push(0)}}if(!a.isClosed)for(var m=0;m<S.length;m++)S[m].type+=3;l=l.concat(S);var u=O.Pw(t);if(E.k==0&&E.av==0){var I=E.Wk,Y=E.d7,U=I+E.EX,F=Y+E.c5,N=[I,Y,U,F]}}return l};
gu.anz=function(_,n){var O=n.clone(),l=_.frame?gu.NU(_.frame):null;if(l)O.translate(-l.x-l.a/2,-l.y-l.n/2);
if(_.isFlippedHorizontal)O.scale(-1,1);if(_.isFlippedVertical)O.scale(1,-1);O.rotate(-_.rotation*(Math.PI/180));
if(l)O.translate(l.a/2,l.n/2);return O};gu.k9=function(_){_=_.slice(1,_.length-1).split(",");return new aW(parseFloat(_[0]),parseFloat(_[1]))};
gu.NU=function(_){return new a8(_.x,_.y,_.width,_.height)};gu.Kh=function(_){return{_class:"rect",constrainProportions:!1,x:_.x,y:_.y,width:_.a,height:_.n}};
function iY(){}iY.GQ=function(_,n){var O=Date.now(),l=iY,x=UZIP.parse(_),t=JSON.parse(R.hm(x.manifest)),h=JSON.parse(R.hm(x["resources/graphics/graphicContent.agc"])).resources,V=[],y=[],r=t.children;
for(var m=0;m<r.length;m++){var E=r[m];if(E.name=="artwork"){var a=E.children;for(var S=0;S<a.length;
S++){var e=a[S],P=JSON.parse(R.hm(x["artwork/"+e.path+"/graphics/graphicContent.agc"])),b=P.children;
if(b.length==0){}else if(b.length==1){if(e["uxdesign#bounds"]){e._node=b[0];V.push(e)}}else{var T=b[0],C=T.transform,Z=T.shape;
if(Z==null)Z={x:0,y:0,width:1e3,height:1e3};if(Z.type=="path"){var W=Q.p.f0(Typr.U.SVGToPath(Z.path).crds);
Z={x:W.x,y:W.y,width:W.a,height:W.n}}Z=JSON.parse(JSON.stringify(Z));if(C){Z.x+=C.tx;Z.y+=C.ty}e["uxdesign#bounds"]=Z;
e._node={type:"artboard",artboard:{children:b}};y.push(e)}}}}if(V.length==0)V=y;var s=[],f=new a8;for(var m=0;
m<V.length;m++){var e=V[m],q=gu.NU(e["uxdesign#bounds"]);s.push(q);f=f.uG(q)}var g=gu.im(f,8192*8192);
n.Gl=!0;n.a=Math.round(f.a/g);n.n=Math.round(f.n/g);n.buffer=Q.Q(n.a*n.n*4);n.GN(V.length);var i=new aY(g,0,0,g,f.x,f.y);
n.uP={};for(var m=0;m<V.length;m++){var e=V[m],q=gu.NU(e["uxdesign#bounds"]),u=e._node,I=i.clone(),Y=q.clone(),U=I.Sn();
I.translate(-q.x,-q.y);Y.x=-Math.floor(I.Wk/U);Y.y=-Math.floor(I.d7/U);Y.a=Math.floor(Y.a/U);Y.n=Math.floor(Y.n/U);
I.translate(q.x,q.y);iY.Bb(u,n,I,h,x,Y);var F=n.B[n.B.length-1];F.iA(e.name);F.C_(Y);if(m!=V.length-1)F.add.lsct=bN.SE}delete n.uP};
iY.Kx=function(_){if(_==null)return new aY;return new aY(_.a,_.b,_.c,_.d,_.tx,_.ty)};iY.Bb=function(_,n,O,l,x,t){var h=iY,V=_.type,y=_[V],r=_.style,E=h.Kx(_.transform),P,b="none",T,C="none",Z,W;
E.sJ();var a=O.clone();a.concat(E);var S=n.Ni(),e=_.name;S.iA(e?e.slice(0,250):"Layer");if(_.visible!=null)S.ND(_.visible);
if(r){P=r.stroke;b=P?P.type:"none";T=r.fill;C=T?T.type:"none";Z=r.filters;W=r.clipPath;if(W&&l.clipPaths[W.ref])W=l.clipPaths[W.ref].children;
else W=null;if(r.opacity)S.opacity=Math.round(255*r.opacity);if(C=="solid"&&T.color.alpha)S.opacity=Math.round(S.opacity*T.color.alpha);
if(Z){S.add.lmfx=h.a8E(Z);for(var m=0;m<Z.length;m++)if(Z[m].type=="uxdesign#blur"){var s=Z[m],f=s.params,q=f.brightnessAmount;
if(q==null)q=0;q=Math.abs(q/100);if((s.visible==null||s.visible==!0)&&f.backgroundEffect)S.opacity=Math.round(S.opacity*(q+(1-q)*f.fillOpacity))}}if(C=="pattern"&&T.pattern.meta.ux.uid=="")C="none"}if(W==null&&_.meta&&_.meta.ux&&_.meta.ux.clipPathResources)W=_.meta.ux.clipPathResources.children;
if(V=="artboard"||V=="group"){if(W){var g=W[0],i=g.shape,u=i!=null&&i.type=="rect"&&i.width*i.height>1e6;
if(g.type!="text"&&!u){if(i){var E=h.Kx(g.transform);E.sJ();var I=a.clone();I.concat(E);S.add.vmsk=new v.ez;
S.add.vmsk.i=h.AV(i);I=I.clone();I.sJ();Q.M.qp(S.add.vmsk.i,I);S.W0();S.bf(n)}}else if(!u)alert("Clipping by text has been ignored")}S.add.lsct=bN.GV;
S.to="pass";S.FQ=24;if(_.visible!=null)S.ND(_.visible);n.B.push(n.y9());var Y=y.children,U=T;if(U)U=U.color;
if(U)U=U.value;if(T){if(V=="artboard"&&C=="solid"){S.C_(new a8(0,0,10,10));S.add.artb.Clr={t:"Objc",v:Q.N.YS({o:U.r,J:U.g,k:U.b})};
S.add.artb.artboardBackgroundType={t:"long",v:4}}else{var F=n.Ni();F.iA("BACKGROUND");F.FQ|=16;F.add.vstk=JSON.parse(JSON.stringify(aF.eo.default));
F.add.vmsk=new v.ez;F.add.vmsk.i=h.AV({type:"rect",x:t.x,y:t.y,width:t.a,height:t.n});h.Yg(T,C,a,t,t,F,n,l,x);
F.W0();F.bf(n);n.B.push(F)}}for(var m=0;m<Y.length;m++){iY.Bb(Y[m],n,a,l,x,t)}}else if(V=="shape"&&(y.type=="rect"&&(y.r==null||y.r==0)||y.type=="path"&&UDOC.G.isBox(Typr.U.SVGToPath(y.path)))&&C=="pattern"&&(Math.abs(y.width/y.height-T.pattern.width/T.pattern.height)<.01||r.fill.pattern.meta.ux.scaleBehavior=="fill")){var N=T.pattern,o=N.meta.ux,X=o.uid,J=x["resources/"+X];
if(J==null){console.log(N);return}var c=n.zk(J,S.getName(),0,0);c.FQ=S.FQ;c.opacity=S.opacity;S=c;var p=Q.M.OY(h.AV(y),null),d=Q.p.ta(new a8(0,0,N.width,N.height)).C,k=new aY;
k.scale(N.width/p.a,N.height/p.n);if(o.offsetX)k.translate(-o.offsetX*N.width,0);if(o.offsetY)k.translate(0,-o.offsetY*N.height);
a.concat(k);a.sJ();Q.p.D(d,a,d);S.add.SoLd.Trnf=D.D6.X6(d);S.add.SoLd.nonAffineTransform=D.D6.X6(d);
S.Ga(n,!1)}else if(V=="shape"){S.FQ|=16;S.add.vstk=JSON.parse(JSON.stringify(aF.eo.default));S.add.vmsk=new v.ez;
S.add.vmsk.i=h.AV(y);var p=Q.M.OY(S.add.vmsk.i,null),I=a.clone();I.sJ();Q.M.qp(S.add.vmsk.i,I);var A=Q.M.OY(S.add.vmsk.i,null);
if(b=="none"){}else{var $=P.color.value,K,G;K="SoFi";var z=JSON.parse(aF._v[aF.order.indexOf("SoFi")]);
G={t:"Objc",v:z};G.v.Clr.v=Q.N.YS({o:$.r,J:$.g,k:$.b});var M=P.align,hl=P.cap;if(M==null)M="center";
var j=S.add.vstk;j.strokeEnabled.v=!0;j.strokeStyleLineWidth.v.val=P.width;if(M)j.strokeStyleLineAlignment.v.strokeStyleLineAlignment=aF.eo._R[["inside","center","outside"].indexOf(M)];
if(hl)j.strokeStyleLineCapType.v.strokeStyleLineCapType=aF.eo.vl[["butt","round","square"].indexOf(hl)];
var w=["SoFi","GrFl","patternFill"].indexOf(K),B=[aF.M4,aF.Em,aF.Vy][w];j.strokeStyleContent.v={classID:aF.eo.yz[0]};
var bB=j.strokeStyleContent.v={classID:aF.eo.yz[w]};for(var m=0;m<B.length;m++)bB[B[m]]=G.v[B[m]]}if(Z)for(var m=0;
m<Z.length;m++)if(Z[m].type=="uxdesign#blur"&&Z[m].visible){var bG=Z[m];S.add.vmsk.Vw=bG.params.blurAmount}h.Yg(T,C,a,p,A,S,n,l,x);
S.W0();S.bf(n)}else if(V=="text"&&_.text){var eb=_.text,fe=eb.frame,gB=r.font,hp=r.textAttributes,E=a.clone(),f7=0;
E.sJ();S.add.lnsr="rend";S.add.TySh=b$.Jw(0,0);S.add.TySh.T1=new a8(0,0,100,100);S.add.TySh.D=E;var g6=S.add.TySh.m1,by=eb.rawText.replace(/\r/g,"\n").replace(/\u000b/g,"\n");
b$.qS(g6,0,by);if(by!=""){var e7=b$.QN(g6,0,1),aN=gB.postscriptName;if(aN==null)aN=gB.family;b$.Wu(e7,aN);
e7.oM.FontSize=Math.round(gB.size);if(T){var $=T.color.value;e7.oM.FillColor={Type:1,Values:[1,$.r/255,$.g/255,$.b/255]}}if(hp){if(hp.paragraphAlign)e7.G1.Justification=["left","right","center"].indexOf(hp.paragraphAlign);
if(hp.letterSpacing)e7.oM.Tracking=Math.round(hp.letterSpacing);if(hp.lineHeight){e7.oM.AutoLeading=!1;
e7.oM.Leading=Math.round(hp.lineHeight)}}b$.gD(g6,0,by.length,e7)}var jK=_.meta.ux.rangedStyles;if(jK)for(var m=0;
m<jK.length;m++){var y=jK[m],hW=Math.min(y.length,by.length-f7);if(m==jK.length-1)hW=by.length-f7;var e7=b$.QN(g6,f7,f7+hW),aN=y.postscriptName;
if(aN==null)aN=y.family;if(aN!=null)b$.Wu(e7,aN);var km=y.textScript,ca=y.underline,aU=y.fontSize,s=y.fill,eJ=y.textTransform;
if(km&&km!="none")e7.oM.FontBaseline=km=="superscript"?1:2;if(ca!=null)e7.oM.Underline=ca;if(aU!=null)e7.oM.FontSize=Math.round(aU);
if(eJ!=null)e7.oM.FontCaps=eJ=="uppercase"?2:0;if(eJ=="lowercase"){b$.Da(g6,f7,f7+hW);b$.qS(g6,f7,by.slice(f7,f7+hW).toLowerCase())}if(s!=null){var am=s.value;
e7.oM.FillColor={Type:1,Values:[1,(am>>>16&255)/255,(am>>>8&255)/255,(am>>>0&255)/255]}}b$.gD(g6,f7,f7+hW,e7);
f7+=hW}if(fe.type=="area"||fe.type=="autoHeight"){var eA=fe.width,dj=fe.height;b$.EQ(g6,1);b$.IU(g6,[0,0,eA,dj!=null?dj:eA*2])}}else if(V=="syncRef"){var cM=_.syncSourceGuid,b2=l.meta.ux.symbols,az=h.V2(b2,cM);
if(az){var j_=a.clone();j_.concat(h.Kx(az.transform));iY.Bb(az,n,j_,l,x,t)}return}else console.log(V,_);
n.B.push(S)};iY.V2=function(_,n){for(var m=0;m<_.length;m++){var O=_[m],l=O.group;if(O.id==n)return O;
if(l){var x=iY.V2(l.children,n);if(x)return x}}return null};iY.AV=function(_){var n=_.type,O=[{type:6},{type:8,all:0}];
if(n=="rect"){var l=_.r,x=_.x,t=_.y,h=_.width,V=_.height;O=Q.M.tm.Rect(x,t,h,V,l?l:0)}else if(n=="circle"){var l=_.r;
O=Q.M.tm.p6(_.cx-l,_.cy-l,2*l,2*l)}else if(n=="ellipse"){var y=_.rx,r=_.ry;O=Q.M.tm.p6(_.cx-y,_.cy-r,2*y,2*r)}else if(n=="path"||n=="compound"){var E=Typr.U.SVGToPath(_.path);
O=Q.p.mg({F:E.cmds,C:E.crds},!1)}else if(n=="line"){var a=_.x1,S=_.x2,e=_.y1,P=_.y2;O=Q.M.tm.HW([a,e,S,P],0,!0)}else if(n=="polygon"){var b=_.points,T=[];
for(var m=0;m<b.length;m++)T.push(b[m].x,b[m].y);O=O.concat(Q.M.tm.HW(T,0,!1).slice(2))}else console.log(n,_);
return O};iY.a8E=function(_){var n=JSON.parse(aF.default);for(var m=0;m<aF.order.length;m++)n[aF.Ck[m]]={t:"VlLs",v:[]};
for(var m=0;m<_.length;m++){var O=_[m],l=O.type,x=O.params,t=O.visible;if(l=="dropShadow"){var h=aF.Ck[aF.order.indexOf("DrSh")],V=JSON.parse(aF._v[aF.order.indexOf("DrSh")]);
n[h].v.unshift({t:"Objc",v:V});var y=x.dropShadows;if(y.length!=1)throw"e";var r=y[m],E=r.color,a=E.value,S=r.dx,e=r.dy;
V.Clr.v=Q.N.YS({o:a.r,J:a.g,k:a.b});V.Opct.v.val=Math.round((E.alpha!=null?E.alpha:1)*100);V.uglg.v=!1;
V.enab.v=t!=null?t:!0;V.lagl.v.val=Math.round(180/Math.PI*Math.atan2(e,-S));V.Dstn.v.val=Math.round(Math.sqrt(S*S+e*e));
V.blur.v.val=Math.round(r.r*2.3)}}return n};iY.Yg=function(_,n,O,l,x,t,h,V,y){var r=iY;if(n=="none"){t.add.vstk.fillEnabled.v=!1;
t.add.SoCo={classID:"null",Clr:{t:"Objc",v:Q.N.YS({o:0,J:0,k:0})}}}else{var E,a,S;if(n=="solid"){var e=_.color.value;
E="SoCo";a=aF.M4;var P=JSON.parse(aF._v[aF.order.indexOf("SoFi")]);S={t:"Objc",v:P};S.v.Clr.v=Q.N.YS({o:e.r,J:e.g,k:e.b})}else if(n=="gradient"){E="GdFl";
a=aF.Em;var P=JSON.parse(aF._v[aF.order.indexOf("GrFl")]),b=P.Grad.v,s,f,q;b.Intr.v=0;var T=_[n],C=T.ref?V.gradients[T.ref]:T.meta.ux.gradientResources,Z=["linear","radial","angular"].indexOf(C.type),W=C.stops;
P.Type.v.GrdT=["Lnr","Rdl","Angl"][Z];if(Z==0){var s=new aW(T.x1,T.y1),f=new aW(T.x2,T.y2);s.x=f.x+.5*(s.x-f.x);
s.y=f.y+.5*(s.y-f.y)}else{var s=new aW(T.cx,T.cy),f=new aW(T.cx+T.r,T.cy)}q=x;if(T.units=="objectBoundingBox"){var g=new aY(l.a,0,0,l.n,l.x,l.y);
s=g.uz(s);f=g.uz(f)}var g=r.Kx(T.transform);s=g.uz(s);f=g.uz(f);g=O.clone();g.sJ();s=g.uz(s);f=g.uz(f);
Q.N.u0(s,f,q,P);var i=[];for(var m=0;m<W.length;m++){var u=W[m],I=u.color,e=I.value,Y=I.alpha;if(Y==null)Y=1;
i.push([u.offset,[e.r/255,e.g/255,e.b/255],Y])}Q.N.bi(i,b);S={t:"Objc",v:P}}else if(n=="pattern"){E="PtFl";
a=aF.Vy;var P=JSON.parse(aF._v[aF.order.indexOf("patternFill")]),d;S={t:"Objc",v:P};var U=_[n],F=U.meta.ux,N=F.uid,o=y["resources/"+N].buffer,X=F.flipX,J=F.flipY,c=N+X+J,p=dx.N_(o);
if(h.uP[c])d=h.uP[c];else{var k=new a8(0,0,U.width,U.height),A;if(k.wk()||p==null){k=new a8(0,0,1,1);
A=new ArrayBuffer(4)}else{var $=dx.Jv(p);if($.Yj){var K=new fJ;$.Xd(o,K);A=K.Cs().buffer}else{try{var G=$.Xd(o)[0];
A=G.data;k=G.n5}catch(hU){A=new ArrayBuffer(k.O()*4)}}}d={};d.id=fJ.DA()+"-d71c-11e5-b1ae-a548a96e5f9f";
d.name="someImage";d.vA=[new Uint8Array(A),k];if(X)Q.r.WS(d.vA[0].slice(0),d.vA[0],k.a,k.n);if(J)Q.r.a7j(d.vA[0].slice(0),d.vA[0],k.a,k.n);
h.Rs(d);h.uP[c]=d}var z=O.clone();z.sJ();z.translate(l.x,l.y);var M=l.a,hl=l.n,j=d.vA[1].a,w=d.vA[1].n,B=Math.max(M/j,hl/w);
if(F.scale)B*=F.scale;var bB=new aY;bB.translate(-j/2,-w/2);bB.scale(1/j,1/w);if(F.offsetX!=null)bB.translate(F.offsetX,F.offsetY);
bB.scale(j,w);bB.scale(B,B);bB.translate(M/2,hl/2);bB.concat(z);fW.at3(d,P,0,0,1e3,bB)}else console.log(n);
if(E!=null){t.add[E]={classID:"null"};for(var m=0;m<a.length;m++){var bG=a[m];t.add[E][bG]=S.v[bG]}}}};
function aL(){}aL.GQ=function(_,n,O){if(O&&O[0]==null)O=null;_=new Uint8Array(_);var l,e=1;if(_[0]==255&&_[1]==254)l=R.$O(_,2,(_.length>>>1)-1);
else l=R.hm(_,0,_.length);var x=new DOMParser,t=x.parseFromString(l,"image/svg+xml"),h=t.getElementsByTagName("style")[0];
if(h)h=Typr.U.SVG.cssMap(h.textContent);else h={};var V=t.firstChild;while(V.tagName!="svg")V=V.nextSibling;
var y=new a8(0,0,100,100),r=V.getAttribute("viewBox"),E=V.getAttribute("width"),a=V.getAttribute("height");
if(r){var S=aL.a3U(r);y.x=S[0];y.y=S[1];y.a=S[2];y.n=S[3]}else if(E!=null||a!=null){y.a=E!=null?parseFloat(E):parseFloat(a);
y.n=a!=null?parseFloat(a):parseFloat(E)}y=Q.p.tR(y);while(O&&Math.max(y.a*e,y.n*e)<Math.max(O[0],O[1]))e++;
while(O==null&&Math.max(y.a,y.n)*e>8192)e*=.5;n.Gl=!0;n.a=~~(y.a*e);n.n=~~(y.n*e);n.buffer=Q.Q(n.a*n.n*4);
var P=new aY(e,0,0,e,-y.x*e,-y.y*e),b={Zg:aL.Ot(V),auV:h,FK:0};aL.N4(t,V.children,n,P,b,new aY,0);if(n.B.length==0){var T=n.Ni();
T.iA("Layer");n.B.push(T)}};aL.a3U=function(_){var n=" ";if(_.indexOf(",")!=-1)n=",";return _.split(n).map(parseFloat)};
aL.N4=function(_,n,O,l,x,t,h,V){var y=aL,r=["display","opacity","fill-opacity","filter"],E=0;for(var a=0;
a<n.length;a++){var S=n[a],e=S.tagName,P=S.getAttribute("id"),C=13,q=1,u="clip-path",I=null,p=0;if(P==null)P=S.getAttribute("data-name");
var b=y.Ot(S,x.auV);for(var T in x.Zg)if(r.indexOf(T)==-1&&b[T]==null)b[T]=x.Zg[T];if(b["font-size"])C=y.Jb(b["font-size"],C);
if(S.getAttribute("dx"))l.Wk+=y.Jb(S.getAttribute("dx"),C);if(S.getAttribute("dy"))l.d7+=y.Jb(S.getAttribute("dy"),C);
var Z=y.t4(S);Z.concat(l);var W=S.getAttribute("visibility"),s=b.display,f=O.Ni();if(W=="hidden"||s=="none")f.ND(!1);
f.iA(P!=null?P.split(":::")[0]:"Layer");if(b.opacity)q*=parseFloat(b.opacity);if(b["fill-opacity"]){var g=parseFloat(b["fill-opacity"]);
if(g!=0)q*=g}f.opacity=Math.round(255*q);if(b["mix-blend-mode"]){var i=b3.xG.indexOf(b["mix-blend-mode"]);
if(i!=-1)f.to=b3.qX[i]}if(S.getAttribute(u)==null)u="mask";if(S.getAttribute(u)!=null){var Y=S.getAttribute(u);
Y=Y.slice(4,Y.length-1);var U=_.getElementById(Y.slice(1));if(U){var F=U.children;I=O.Ni();I.iA("Clip-Path"+(P?": "+P:""));
I.add.lsct=h<2?bN.GV:bN.SE;I.to="pass";I.FQ=24;var N=I.add.vmsk=new v.ez;O.B.push(O.y9());var o=[];if(U.getAttribute(u)){var Y=U.getAttribute(u);
Y=Y.slice(4,Y.length-1);o=_.getElementById(Y.slice(1)).children}for(var m=0;m<F.length;m++){var X=y.t4(F[m]);
X.concat(Z);var J=y.AV(O,_,F[m],!1).slice(2);Q.M.qp(J,X);N.i=N.i.concat(J)}for(var m=0;m<o.length;m++){var X=y.t4(F[m]);
X.concat(Z);var J=y.AV(O,_,o[m],!1).slice(2);for(var c=0;c<J.length;c++)if(J[m].wM!=null)J[m].wM=3;Q.M.qp(J,X);
N.i=N.i.concat(J)}I.W0();I.bf();h++}}if(b.filter&&b.filter!="none"){var d=b.filter,A,$,K,z=!1,M=!1,hl=!1;
d=d.slice(5,d.length-1);var k=_.getElementById(d),G=[0,0,0,.5],j=Z.Sn();if(k)for(var m=0;m<k.children.length;
m++){var w=k.children[m];if(w.tagName=="feGaussianBlur"){z=!0;A=parseFloat(w.getAttribute("stdDeviation"))*j}if(w.tagName=="feColorMatrix"){var B=w.getAttribute("values");
if(B){B=B.split(" ").map(parseFloat);G=[B[4],B[9],B[14],B[18]]}}if(w.tagName=="feComposite"){hl=!0}if(w.tagName=="feOffset"){M=!0;
var bB=w.getAttribute("dx"),bG=w.getAttribute("dy");$=parseFloat(bB?bB:0)*j;K=parseFloat(bG?bG:0)*j}}if(hl||M){var eb=hl?"IrSh":"DrSh";
if(eb=="IrSh"){f.add.iOpa=0}var fe=JSON.parse(aF._v[aF.order.indexOf(eb)]);fe.blur.v.val=Math.round(A*2.4);
var gB=Math.sqrt($*$+K*K);fe.uglg.v=!1;fe.Dstn.v.val=Math.round(gB);fe.lagl.v.val=Math.round(Math.atan2(K,-$)*(180/Math.PI));
fe.Clr.v=Q.N.YS({o:G[0]*255,J:G[1]*255,k:G[2]*255});fe.Opct.v.val=Math.round(G[3]*100);y.aok(f,aF.Ck[aF.order.indexOf(eb)],fe)}else if(z)p=A}if(e=="g"||e=="a"||e=="svg"||e=="switch"||(e=="text"||e=="textPath")&&S.children.length>0||e=="symbol"&&V){if(e=="text")t=y.Lg(S,t);
var hp=S.getAttribute("viewBox"),g6=S.getAttribute("width"),by=S.getAttribute("height");if(hp&&g6&&by){var e7=aL.a3U(hp),aN=y.Lg(S),jK=new aY;
jK.translate(-e7[0],-e7[1]);jK.scale(parseFloat(g6)/e7[2],parseFloat(by)/e7[3]);jK.translate(aN.Wk,aN.d7);
jK.concat(Z);Z=jK}var f7=S.children.length,hW=x.Zg;x.Zg=b;var km=x.FK;x.FK=Math.max(x.FK,p);var ca=e!="text"&&e!="textPath"||f7>1;
if(ca){var aU=f.Pn();f.add.lsct=h<2&&aU&&(P==null||!P.endsWith(":::"))?bN.GV:bN.SE;f.to="pass";f.FQ=24;
f.ND(aU);O.B.push(O.y9())}y.N4(_,S.children,O,Z,x,t,h+1);if(ca)O.B.push(f);else{var eJ=O.B[O.B.length-1];
eJ.opacity=f.opacity;eJ.to=f.to}x.FK=km;x.Zg=hW}else if(e=="use"){var jK=y.Lg(S);jK.concat(Z);var am=y._J(S),eA=_.getElementById(am.slice(1));
if(eA){var hW=x.Zg;x.Zg=b;if(b.filter)eA.setAttribute("filter",b.filter);y.N4(_,[eA],O,jK,x,t,h+1,!0);
x.Zg=hW}}else if(e=="path"||e=="rect"||e=="circle"||e=="ellipse"||e=="polygon"||e=="polyline"||e=="line"){f.FQ|=16;
f.add.vmsk=new v.ez;f.add.vstk=JSON.parse(JSON.stringify(aF.eo.default));f.add.vstk.strokeEnabled.v=!1;
var dj=f.add.vstk,N=f.add.vmsk,cM=b.fill,b2=cM=="none"||b["fill-opacity"]&&parseFloat(b["fill-opacity"])==0;
N.i=y.AV(O,_,S,b["fill-rule"]=="evenodd",b2);Q.M.qp(N.i,Z);var cm=Q.M.OY(N.i),az=b.stroke,j_=b["stroke-width"],gs=b["stroke-dasharray"],fI=b["stroke-linejoin"],c0=b["stroke-linecap"],ay=b["paint-order"];
if(az==null||az=="none"||az=="null"){}else{var fC=y.a8Y(_,az,Z,cm,O),jQ=["SoFi","GrFl","patternFill"].indexOf(fC.type),fw=fC.h.v.Opct.v,el=1;
if(fw.val!=100){f.opacity=Math.round(f.opacity*fw.val/100);fw.val=100}var aG=[aF.M4,aF.Em,aF.Vy][jQ],a_=dj.strokeStyleContent.v={classID:aF.eo.yz[jQ]};
for(var m=0;m<aG.length;m++)a_[aG[m]]=fC.h.v[aG[m]];j_=j_?parseFloat(j_):1;if(ay&&ay.replace(/\s\s+/g," ").slice(0,11)=="stroke fill"){el=2;
j_/=2}dj.strokeEnabled.v=!0;if(fI)dj.strokeStyleLineJoinType.v.strokeStyleLineJoinType=aF.eo.join[["miter","round","bevel"].indexOf(fI)];
if(c0)dj.strokeStyleLineCapType.v.strokeStyleLineCapType=aF.eo.vl[["butt","round","square"].indexOf(c0)];
dj.strokeStyleLineWidth.v.val=j_*Z.Sn();dj.strokeStyleLineAlignment.v.strokeStyleLineAlignment=aF.eo._R[el];
dj.strokeStyleOpacity.v.val=100*(b["stroke-opacity"]?parseFloat(b["stroke-opacity"]):1);if(gs!=null&&gs!="none")dj.strokeStyleLineDashSet.v=fW.Vu(gs.split(",").map(parseFloat),1/j_)}if(b2){f.add.vstk.fillEnabled.v=!1;
f.add.SoCo={classID:"null",Clr:{t:"Objc",v:Q.N.YS({o:0,J:0,k:0})}}}else{var fC=y.a8Y(_,cM,Z,cm,O),dD=null,ip=null;
if(fC.type=="SoFi"){dD="SoCo";ip=aF.M4}if(fC.type=="GrFl"){dD="GdFl";ip=aF.Em}if(fC.type=="patternFill"){dD="PtFl";
ip=aF.Vy}if(dD!=null){var fw=fC.h.v.Opct.v;if(fw.val!=100){f.opacity=Math.round(f.opacity*fw.val/100);
fw.val=100}f.add[dD]={classID:"null"};for(var m=0;m<ip.length;m++){var T=ip[m];f.add[dD][T]=fC.h.v[T]}}}var jn=Math.max(p,x.FK);
if(jn!=0)f.add.vmsk.Vw=jn;f.W0();f.bf(O);O.B.push(f)}else if((e=="text"||e=="tspan")&&S.textContent!=""){t=y.Lg(S,t);
var jK=t.clone(),K=0;jK.concat(Z);jK.translate(E,0);if(S.children.length>0){var af=y.Ot(S.children[0],x.auV);
for(var T in af)if(r.indexOf(T)==-1)b[T]=af[T]}var iU=b["xml:space"],hV=S.textContent;if(iU=="preserve")hV=hV.replace(/\t/g," ").replace(/\n/g," ");
if(P==null)f.iA(hV);f.add.lnsr="rend";f.add.TySh=b$.Jw(0,0);f.add.TySh.T1=new a8(0,0,100,100);f.add.TySh.D=jK.clone();
var gn=f.add.TySh.m1;b$.qS(gn,0,hV);if(e=="tspan")E+=C*hV.length*.5*jK.Sn();var cM=b.fill,fY=b["font-weight"],e1=b["font-family"],d6=b["text-decoration"],az=b.stroke,j_=b["stroke-width"],fO=b["dominant-baseline"];
if(fO=="text-before-edge")K=C;else if(fO=="middle")K=C/2;else if(fO=="hanging")K=C;if(K!=0)f.add.TySh.D.translate(0,K);
var i$=b$.QN(gn,0,1);if(cM&&cM!="none"){var G=CSS._0(cM);i$.oM.FillColor={Type:1,Values:[1,G.o/255,G.J/255,G.k/255]}}if(d6=="underline")i$.oM.Underline=!0;
i$.oM.FontSize=Math.round(C);b$.Wu(i$,"LiberationSans");if(fY=="bold")b$.Wu(i$,"LiberationSans-Bold");
if(e1){e1=e1.split(",")[0].trim();if(e1[0]=="\"")e1=e1.slice(1);if(e1[e1.length-1]=="\"")e1=e1.slice(0,e1.length-1);
var gy=e1+":"+(fY?fY:"normal"),fT={"'DejaVu Sans':normal":"DejaVuSans","'DejaVu Sans':bold":"DejaVuSans-Bold","'Nimbus Sans L':normal":"NimbusSanL-Reg","'Nimbus Sans L':bold":"NimbusSanL-Bol","Libre Franklin:300":"LibreFranklin-Light","Libre Franklin:400":"LibreFranklin-Regular","Libre Franklin:500":"LibreFranklin-Medium","Libre Franklin:600":"LibreFranklin-SemiBold","Libre Franklin:700":"LibreFranklin-Bold"};
if(fT[gy])b$.Wu(i$,fT[gy]);else b$.Wu(i$,e1)}if(b["text-anchor"])i$.G1.Justification=["start","end","middle"].indexOf(b["text-anchor"]);
b$.gD(gn,0,hV.length,i$);if(az==null||az=="none"){}else{var fe=JSON.parse(aF._v[aF.order.indexOf("FrFX")]);
fe.Clr.v=Q.N.YS(CSS._0(az));fe.Sz.v.val=Math.round(parseFloat(j_)*jK.Sn());y.aok(f,"frameFXMulti",fe)}O.B.push(f)}else if(e=="image"){var am=y._J(S);
if(am&&am.slice(0,4)=="data"){var kl=dx.Pj(am),fy=kl,g$=O.zk(fy,f.getName(),0,0);g$.FQ=f.FQ;f=g$;var bt=f.rect.clone();
bt.x=bt.y=0;var jL=S.getAttribute("width"),c_=S.getAttribute("height");if(jL)bt.a=parseFloat(jL);if(c_)bt.n=parseFloat(c_);
var hr=y.Lg(S);hr.concat(Z);var ew=Q.p.ta(bt).C;Q.p.D(ew,hr,ew);f.add.SoLd.Trnf=D.D6.X6(ew);f.add.SoLd.nonAffineTransform=D.D6.X6(ew);
f.Ga(O,!1);O.B.push(f)}}else console.log("unknown tag: "+e,S.children.length,S.textContent.length);if(I!=null){O.B.push(I);
h--}}};aL.aok=function(_,n,O){var l=_.add.lmfx;if(l==null){var l=_.add.lmfx=JSON.parse(aF.default);for(var m=0;
m<aF.order.length;m++)l[aF.Ck[m]]={t:"VlLs",v:[]}}l[n].v.push({t:"Objc",v:O})};aL.AV=function(_,n,O,l,x){var t=aL,h=[{type:6},{type:8,all:0}],V=O.tagName;
if(V=="use"){var y=t._J(O),r=n.getElementById(y.slice(1)),E=new aY;if(r.tagName!="rect")E=t.Lg(r);E.concat(t.t4(r));
h=t.AV(_,n,r,l,x);Q.M.qp(h,E)}else if(V=="path"){var a=O.getAttribute("d");if(a==null)return h;var S=Typr.U.SVGToPath(a);
h=Q.p.mg({C:S.crds,F:S.cmds},l,x)}else if(V=="rect"){var e=O.getAttribute("rx"),P=t.Lg(O),b=new aW(0,0);
t.Vo("width",O,_,b,!0);t.Vo("height",O,_,b,!1);h=Q.M.tm.Rect(P.Wk,P.d7,b.x,b.y,e?parseFloat(e):0)}else if(V=="circle"||V=="ellipse"){var T=[0,0,0,0],C=["cx","cy","rx","ry","r"];
for(var m=0;m<5;m++){var Z=O.getAttribute(C[m]);if(Z){Z=parseFloat(Z);if(m<4)T[m]=Z;else T[2]=T[3]=Z}}h=Q.M.tm.p6(T[0]-T[2],T[1]-T[3],2*T[2],2*T[3])}else if(V=="polygon"||V=="polyline"||V=="line"){var W;
if(V=="line")W=[O.getAttribute("x1"),O.getAttribute("y1"),O.getAttribute("x2"),O.getAttribute("y2")].map(parseFloat);
else W=O.getAttribute("points").trim().replace(/\s\s+/g," ").split(",").join(" ").split(" ").map(parseFloat);
h=Q.M.tm.HW(W,0,V!="polygon")}return h};aL.Jb=function(_,n){if(_.charAt(_.length-1)=="m")return n*parseFloat(_.slice(0,_.length-2));
else return parseFloat(_)};aL.a8Y=function(_,n,O,l,x){var t,h,V=aL,y=JSON.parse(aF._v[aF.order.indexOf("SoFi")]),r=n!=null?n.indexOf("("):-1;
if(r!=-1){var E=n.indexOf(")"),a=n.slice(0,r).trim(),S=n.slice(r+1,E).trim();if(S.charAt(0)=="'")S=S.slice(1,S.length-1);
if(a=="url"){if(S.charAt(0)=="#"){var e=_.getElementById(S.slice(1));if(e&&e.tagName.toLowerCase().endsWith("gradient")){var P=V.dA(_,e,O,l);
t="GrFl";h={t:"Objc",v:P}}else if(e&&e.tagName.toLowerCase()=="pattern"&&e.children[0]&&e.children[0].tagName=="use"){t="SoFi";
h={t:"Objc",v:y};var b=e.children[0],T=V.t4(b),C=V._J(b),Z=_.getElementById(C.slice(1)),W=dx.Pj(V._J(Z)).buffer,s=dx.Jv(dx.N_(W)),f=s.Xd(W)[0],q={};
q.id=fJ.DA()+"-d71c-11e5-b1ae-a548a96e5f9f";q.name="someImage";q.vA=[new Uint8Array(f.data),f.n5];x.Rs(q);
var y=JSON.parse(aF._v[aF.order.indexOf("patternFill")]);y.Scl.v.val=Math.round(100*l.a*T.EX);var g=y.phase.v;
g.Hrzn.v=Math.round(l.x+T.Wk*l.a);g.Vrtc.v=Math.round(l.y+T.d7*l.n);y.Ptrn.v.Idnt.v=q.id;t="patternFill";
h={t:"Objc",v:y}}else{t="SoFi";h={t:"Objc",v:y}}}else console.log("unknown url",S)}else if(a=="rgb"||a=="rgba"){t="SoFi";
h={t:"Objc",v:y};h.v.Clr.v=Q.N.YS(CSS._0(n));if(a=="rgba")h.v.Opct.v.val=Math.round(100*parseFloat(n.split(",").pop()))}else console.log("unknown fill",n)}else{t="SoFi";
h={t:"Objc",v:y};var i=CSS._0(n);h.v.Clr.v=Q.N.YS(i);if(i.EX!=null)h.v.Opct.v.val=Math.round(100*i.EX/255)}return{type:t,h:h}};
aL.t4=function(_){var n=new aY,O=_.getAttribute("transform");if(O)n=aL.Mb(O);var l=_.getAttribute("style");
if(l!=null){var x={};aL.Vz(x,l,["transform"]);l=x.transform;if(l)n.concat(aL.Mb(l))}return n};aL.Lg=function(_,n){var O=new aY,l=_.getAttribute("x"),x=_.getAttribute("y");
if(l)O.Wk=parseFloat(l);else if(n)O.Wk=n.Wk;if(x)O.d7=parseFloat(x);else if(n)O.d7=n.d7;return O};aL.Mb=function(_){var n=Typr.U.SVG.readTrnf(_);
return new aY(n[0],n[1],n[2],n[3],n[4],n[5])};aL.Ot=function(_,n){var O={},l="fill-rule fill stroke stroke-width stroke-dasharray stroke-opacity stroke-linejoin stroke-linecap font-size font-weight font-family text-decoration text-anchor dominant-baseline stop-color stop-opacity filter display opacity fill-opacity paint-order mix-blend-mode xml:space".split(" ");
for(var m=0;m<l.length;m++){var x=_.getAttribute(l[m]);if(x!=null&&x!="inherit")O[l[m]]=x}var t=_.getAttribute("class");
if(n!=null&&t!=null&&n["."+t]!=null)aL.Vz(O,n["."+t],l);var h=_.getAttribute("id");if(n!=null&&h!=null&&n["#"+h]!=null)aL.Vz(O,n["#"+h],l);
var V=_.getAttribute("style");if(V!=null)aL.Vz(O,V,l);return O};aL.Vz=function(_,n,O){n=n.trim().split(";");
for(var m=0;m<n.length;m++){var l=n[m].split(":"),x=l[0]?l[0].trim():"",t=l[1]?l[1].trim():"";for(var h=0;
h<O.length;h++)if(x==O[h]&&t!="inherit")_[O[h]]=t}};aL._J=function(_){var n=_.getAttribute("xlink:href");
if(n==null)n=_.getAttribute("href");if(n==null)n=_.getAttribute("xl:href");return n};aL.Vo=function(_,n,O,l,x){var t=n.getAttribute(_);
if(t==null)return;var h=parseFloat(t);if(t.endsWith("%"))h*=(x?O.a:O.n)/100;if(x)l.x=h;else l.y=h};aL.dA=function(_,n,O,l){var x=aL,t=x.Vo,h=new aY,V=n.getAttribute("gradientTransform"),e=!1;
if(V)h=x.Mb(V);h.concat(O);var y=JSON.parse(aF._v[aF.order.indexOf("GrFl")]),r=y.Grad.v;r.Intr.v=0;var E=n.tagName,a=new aW(0,0),S=new aW(l.a,0);
if(E=="linearGradient"){y.Type.v.GrdT="Lnr";t("x1",n,l,a,!0);t("y1",n,l,a,!1);t("x2",n,l,S,!0);t("y2",n,l,S,!1);
a.x=S.x+.5*(a.x-S.x);a.y=S.y+.5*(a.y-S.y)}if(E=="radialGradient"){y.Type.v.GrdT="Rdl";if(n.getAttribute("cx"))a.x=parseFloat(n.getAttribute("cx"));
if(n.getAttribute("cy"))a.y=parseFloat(n.getAttribute("cy"));S.BX(a.x,a.y);if(n.getAttribute("r"))S.x+=parseFloat(n.getAttribute("r"))}var P=n;
while(!0){if(P.getAttribute("gradientUnits")=="userSpaceOnUse")e=!0;var b=x._J(P);if(b==null)break;P=_.getElementById(b.slice(1))}if(e){a=h.uz(a);
S=h.uz(S)}else{a.x=l.x+a.x*l.a;a.y=l.y+a.y*l.n;S.x=l.x+S.x*l.a;S.y=l.y+S.y*l.n}Q.N.u0(a,S,l,y);var T=n.children;
if(T.length==0){var C=x._J(n);if(C==null)throw"gradient has no stops";var Z=_.getElementById(C.slice(1));
if(Z==null){console.log(C.slice(1))}else{var W=x.dA(_,Z,h,l);y.Grad=W.Grad}}else{var s=[];for(var m=0;
m<T.length;m++){var f=T[m],q=x.Ot(f),g=q["stop-color"],i=q["stop-opacity"],u=f.getAttribute("offset");
if(g==null)g="#000000";i=i==null?1:parseFloat(i);var I=u?parseFloat(u):0;if(u&&u.endsWith("%"))I/=100;
g=CSS._0(g);if(g.EX!=null)i*=g.EX/255;s.push([I,[g.o/255,g.J/255,g.k/255],parseFloat(i)])}Q.N.bi(s,r)}return y};
aL.QR=function(){var _=null,n=null,O="",l="";function x(g,i,u){var I=[],N=" { ",o=" } ",X=!1;n=i;l=i.PA?"":"\t";
O=i.PA?"":" ";var Y=i.ad2,U=i.ag0;I.push("<svg version=\"1.2\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 "+g.a+" "+g.n+"\" width=\""+Y+"\" height=\""+U+"\">");
if(!i.PA)I.push(t(1)+"<title>"+Z(g.name.split(".")[0])+"</title>");var F={v8:[],l_:[],bh:0,Va:0,AX:0,em:{},pR:{},tg:0,ie:{},aku:{},zu:0,y8:[]};
P(g,F,g.root.children,1,i,u);if(F.v8.length!=0){I.push(t(1)+"<defs>");I=I.concat(F.v8);I.push(t(1)+"</defs>")}I.push(t(1)+"<style>");
if(i.PA){N="{";o="}"}for(var m=0;m<g.B.length;m++)if(g.B[m].add.TySh)X=!0;if(X&&!i.a5M&&!i.apk)I.push(t(2)+"tspan"+N+"white-space:pre"+o);
for(var J in F.ie)I.push(t(2)+"."+J+N+F.ie[J]+o);I.push(t(1)+"</style>");I=I.concat(F.l_);I.push("</svg>");
I=I.join(i.PA?"":"\n");return R.WZ(I)}function t(ab){var g="";for(var m=0;m<ab;m++)g+=l;return g}function h(ab,g){if(g==null)g=1;
var i=""+parseFloat(ab.toFixed(g));if(i.startsWith("0."))i=i.slice(1);return i}function V(g,i){var u=g.add.lmfx;
if(u)u=u[i].v[0];if(u)u=u.v;if(u&&!u.enab.v)u=null;return u}function y(g,i){var u=V(g,"frameFXMulti");
if(u){var I=u.Sz.v.val;if(u.Styl.v.FStl=="OutF"){i.push("paint-order:stroke fill markers");I*=2}e(i,CSS.j6(u.Clr.v),1);
if(I!=1)i.push("stroke-width: "+I);i.push("stroke-linejoin: round;")}}var r="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");
function E(g){var i=r.length,u="";for(var I=1;I<10;I++){var Y=(i-10)*~~Math.pow(i,I-1);if(g<Y){for(var m=0;
m<I;m++){var U=m==I-1?10:0,F=i-U,N=g%F;u=r[N+U]+u;g=Math.floor((g-N)/F)}break}g-=Y}return u}function a(g,i,u,I){if(g.length!=0){if(I==null)I="s";
var Y=g.join(";"),U=i.aku[Y];if(U==null){U=n.PA?E(i.zu):I+i.zu;i.zu++;i.aku[Y]=U;i.ie[U]=Y}if(u)u.push(U);
return U}}function S(g){if(n.PA&&g.length==7&&g[0]=="#"){if(g[1]==g[2]&&g[3]==g[4]&&g[5]==g[6])g="#"+g[1]+g[3]+g[5]}return g}function e(g,i,u){i=S(i);
if(i!="#000"||u==1)g.push((u==0?"fill:":"stroke:")+O+i)}function P(g,i,u,I,Y,U){var F=!1;for(var N=0;
N<u.length;N++){var o=u[N].j,X=o.add.lsct;if(!o._t&&u[N+1]&&u[N+1].j._t&&o.uq()&&o.add.vmsk){var J=[];
s(o,o.add.vmsk,i,J);i.l_.push(t(I)+"<g "+J[0]+">");I++;F=!0}else if(!o._t&&u[N-1]&&u[N-1].j._t&&F){I--;
i.l_.push(t(I)+"</g>");F=!1}var c=o.add.vmsk,p=o.add.vogk,d=o.add.vstk,k=o.add.TySh;if(c&&!c.isEnabled)c=d=null;
var A=[];if(!Y.hidden&&!o.Pn())continue;var $=o.opacity/255,K=o.add.iOpa?o.add.iOpa/255:1;if(o.kx()){$*=K;
K=1}if($!=1)A.push("opacity:"+O+h($));if(K!=1)A.push("fill-opacity:"+O+h(K));if(o.to!="norm"){var G=b3.xG[b3.qX.indexOf(o.to)];
if(G!=null)A.push("mix-blend-mode:"+O+G)}if(!o.Pn())A.push("display:"+O+"none");var J=[],z=[],M=o.getName(),hl=M.indexOf(" .");
if(!Y.PA)J.push("id=\""+Z(M)+"\"");var j=fW.nn(o.add.lmfx,o.add),w=j[0],B=j[1];if(o.kx()){var bB=u[N].children;
if(!(bB.length==1&&bB[0].j.add.SoLd&&!Y.Jz)){if(_&&o.getName().split("-").length==3){_.push({zK:o.getName(),mY:0,wP:[]})}s(o,c,i,J);
if(A.length!=0)J.push("style=\""+A.join(";")+"\"");var bG=C(J,z),eb=Y.PA&&bG=="";if(!eb)i.l_.push(t(I)+"<g"+(bG==""?"":" "+bG)+">");
P(g,i,bB,I+1,Y,U);if(!eb)i.l_.push(t(I)+"</g>")}}else if(o.uq()&&c==null){var fe=new a8(0,0,g.a,g.n);
f(g,A,o.add,i,fe,Y);if(A.length!=0)J.push("style=\""+A.join(";")+"\"");i.l_.push(t(I)+"<rect width=\""+g.a+"\" height=\""+g.n+"\" "+C(J,z)+"/>")}else if(c&&o.add.SoLd==null){var fe=Q.M.OY(c.i,null,!0),gB,hp=null,g6=0,by;
f(g,A,o.add,i,fe,Y);a(A,i,z);if(p.length!=0){gB=p[0].v;hp=gB.keyOriginType;if(hp)hp=hp.v;if(hp==2){var e7=Q.X.ZB(gB);
g6=e7[0];for(var m=0;m<3;m++)if(g6!=e7[m+1])hp=null}}if(p.length==1&&hp==5&&Math.abs(Q.X.$_(gB))<1e-4){var fe=Q.X.Ly(gB),aN=(fe[0]+fe[2])/2,jK=(fe[1]+fe[3])/2,f7=aN-fe[0],hW=jK-fe[1],km=Math.abs(f7-hW)<.01,ca=km?"r=\""+h(f7)+"\"":"rx=\""+h(f7)+"\" ry=\""+h(hW)+"\"";
by="<"+(km?"circle":"ellipse")+" "+C(J,z)+" cx=\""+h(aN)+"\" cy=\""+h(jK)+"\" "+ca+"/>"}else if(p.length==1&&hp==2&&g6!=0&&Math.abs(Q.X.$_(gB))<1e-4){var fe=Q.X.Ly(gB),aU=fe[0],eJ=fe[1],am=fe[2]-fe[0],eA=fe[3]-fe[1],dj="";
if(aU!=0)dj+=" x=\""+h(aU)+"\"";if(eJ!=0)dj+=" y=\""+h(eJ)+"\"";dj+=" width=\""+h(am)+"\"";dj+=" height=\""+h(eA)+"\"";
dj+=" rx=\""+h(g6)+"\"";by="<rect "+C(J,z)+dj+"></rect>"}else{var cM=Q.M.hY(c.i,1);if(cM.xF!=0){J.push("fill-rule=\"evenodd\"")}by="<path "+C(J,z)+" d=\""+cM.SD+"\"/>"}i.l_.push(t(I)+by);
if(_&&_[_.length-1]){var b2=Q.p.cX(c.i);b2.C=b2.C.map(Math.round);var cm=_[_.length-1];cm.mY+=JSON.stringify(b2).length;
cm.wP.push([A[0].split("#").pop(),b2])}}else if(k&&Y.a5M){O=Y.PA?"":" ";var az=k.m1,j_=new hf(az,U),gs=null;
if(w)gs=CSS.j6(w.Clr.v);if(B){var fe=o.rect.clone();q(B,i,fe,Y);gs="url(#g"+i.bh+")"}if(gs)A.push("fill:"+O+gs);
y(o,A);var fI=a$._F(j_,k),c0=Q.p.OD(fI);for(var ay in c0){var fC=A.slice(0),jQ=z.slice(0),fw=J.slice(0);
if(gs==null){e(fC,ay.slice(0,7),0);if(ay.length>7){var aG=ay.slice(7).split("-");console.log(aG);e(fC,aG[1],1);
if(aG[2]!="1")fC.push("stroke-width:"+O+aG[2])}}a(fC,i,jQ);var a_=c0[ay],aG=Typr.U.pathToSVG({crds:a_.C,cmds:a_.F},1);
i.l_.push(t(I)+"<path "+C(fw,jQ)+(Y.PA?"":" "+T(k))+" d=\""+aG+"\"/>")}}else if(k&&!Y.apk){var az=k.m1,el=k.D.clone(),gs=null;
A.push("transform:"+O+W(el));var dD=b$.om(az),j_=new hf(az,U);y(o,A);if(A.length!=0)J.push("style=\""+A.join(";")+"\"");
i.l_.push(t(I)+"<text "+C(J,z)+" >");if(w)gs=CSS.j6(w.Clr.v);if(B){var fe=o.rect.clone();fe.x-=el.Wk;
fe.y-=el.d7;q(B,i,fe,Y);gs=" url(#g"+i.bh+")"}for(var m=0;m<j_.G1.length;m++){var ip=j_.G1[m];if(ip.a5.length==1&&ip.a5[0].Uu)continue;
for(var jn=0;jn<ip.H4.length;jn++){var af=ip.H4[jn],jK=ip.PU.y+af.PU.y,iU=ip.a5[af.start].start,hV=ip.a5[af.end-1].end,gn=b$.apN(az,iU,hV),fY="";
for(var e1=0;e1<gn.length;e1++){var d6=j_.p_(iU),fO=gn[e1],i$=b$.QN(az,iU,iU),gy=i$.ZP[i$.oM.Font].Name,ay=b$.JU(i$.oM.FillColor),fT=Math.round(i$.oM.FontSize),kl=dD.slice(iU,iU+fO);
if(i$.oM.FontCaps==2)kl=kl.toUpperCase();var fy=new aY;fy.translate(d6.Sm.x,-jK);var g$=[];CSS.a1W(g$,i$,null,!0,!0,gs);
var bt=a(g$,i,null,"t");bt=bt?" class=\""+bt+"\"":"";var aN=d6.Sm.x,jL=b(i$,kl);fY+="<tspan "+(e1==0?"x=\""+h(d6.Sm.x)+"\"":"")+" y=\""+h(jK)+"\""+bt+jL+">"+Z(kl)+"</tspan>";
iU+=fO}i.l_.push(t(I+1)+fY)}}i.l_.push(t(I)+"</text>")}else if(o.add.SoLd&&Y.Jz&&w==null){var c_=o.add.SoLd,hr=c_.Idnt.v,ew=0,dL=c_.Crop?c_.Crop.v:null;
if(i.pR[hr]!=null)ew=i.pR[hr];else{i.tg++;ew=i.tg;i.pR[hr]=i.tg;var cf=g.Fe(hr,dL),kj="";if(cf==null)return;
var eo=cf.lf,iz=dx.N_(cf.raw.buffer);if(iz=="pdf"){var hL=new fJ("h");dx.Jv("PDF").Xd(cf.raw.buffer,hL);
hL.dP();hL.Mq();hL.U();hL.jN();if(c_.Crop&&c_.Crop.v==1){D.e_.TQ(hL,hL.root.kf(hL,!0))}var ar=dx.Jv("SVG").QI(hL,hL.a,hL.n,null,{y8:U});
kj="data:image/svg+xml;base64,"+dx.zp(ar)}else if(iz=="jpg"||iz=="png"||iz=="gif"||iz=="svg"){var bD={jpg:"image/jpg",png:"image/png",jpg:"image/jpg",svg:"image/svg+xml"};
kj="data:"+bD[iz]+";base64,"+dx.zp(cf.raw.buffer)}else{kj=dx.Qt(eo[0].buffer,eo[1].a,eo[1].n)}i.v8.push(t(2)+"<image width=\""+eo[1].a+"\" height=\""+eo[1].n+"\" id=\"img"+ew+"\" href=\""+kj+"\"/>")}var jC=Q.r.tf(c_),eu=[];
s(o,c,i,eu);if(eu.length!=0)i.l_.push(t(I)+"<g "+C(eu,z)+">");if(A.length!=0)J.push("style=\""+A.join(";")+"\"");
var gx=C(J,z);i.l_.push(t(I)+"<use "+gx+" href=\"#img"+ew+"\" transform=\""+W(jC)+"\"/>");if(eu.length!=0)i.l_.push(t(I)+"</g>")}else if(!o.rect.wk()&&(Y.Jz||k)){if(A.length!=0)J.push("style=\""+A.join(";")+"\"");
var gx=C(J,z),eS=o.buffer;if(w)eS=fW.aut(eS,w,o.rect);var fa=o.rect;i.tg++;var kj=dx.Qt(eS.buffer,fa.a,fa.n,"png",null,!0);
i.v8.push(t(2)+"<image "+T(k)+" width=\""+o.rect.a+"\" height=\""+o.rect.n+"\" id=\"img"+i.tg+"\" href=\""+kj+"\"/>");
i.l_.push(t(I)+"<use "+gx+" href=\"#img"+i.tg+"\" x=\""+fa.x+"\" y=\""+fa.y+"\"/>")}}if(F){I--;i.l_.push(t(I)+"</g>");
F=!1}}function b(g,i){var u=g.oM.Tracking,I="";if(u!=null&&u!=0){u=Math.round(u*g.oM.FontSize/1e3);I=" dx=\"0";
for(var Y=1;Y<i.length;Y++)I+=" "+u;I+="\" "}return I}function T(g){if(g==null)return"";var i=g.m1,u=b$.om(i);
u=Z(u.slice(0,u.length-1));return"aria-label=\""+u+"\" "}function C(g,i){if(i.length!=0)g.push("class=\""+i.join(" ")+"\"");
return g.join(" ")}function Z(g){return String(g).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\u0022/g,"&quot;")}function W(g){var i=[g.EX,g.k,g.av,g.c5,g.Wk,g.d7];
for(var m=0;m<6;m++)i[m]=h(i[m],3);return"matrix("+i.join(",")+")"}function s(g,i,u,I){if(i||g.add.artb){var Y;
if(i)Y=Q.M.hY(i.i).SD;else{var U=g.DM(),F=Q.p.ta(U);Y=Typr.U.pathToSVG({crds:F.C,cmds:F.F},1)}u.AX++;
I.push("clip-path=\"url(#cp"+u.AX+")\"");u.v8.push(t(2)+"<clipPath clipPathUnits=\"userSpaceOnUse\" id=\"cp"+u.AX+"\">");
u.v8.push(t(3)+"<path d=\""+Y+"\"/>");u.v8.push(t(2)+"</clipPath>")}}function f(g,i,u,I,Y,U){var F=u.vstk,N=u.vmsk,o=u.lmfx,X=[];
if(N&&N.Vw!=0){var J=h(N.Vw);if(I.em[J]==null){I.Va++;I.em[J]=I.Va;I.v8.push(t(2)+"<filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" id=\"f"+I.Va+"\"> <feGaussianBlur stdDeviation=\""+J+"\"/> </filter>")}X.push("url(#f"+I.em[J]+")")}if(o)for(var m=0;
m<aF.order.length;m++){var c=aF.order[m],p=aF.Ck[m],d=o[p].v;for(var k=0;k<d.length;k++){var A=d[k].v,$=A.classID;
if(!A.enab.v)continue;if($=="OrGl"||$=="DrSh"){I.Va++;X.push("url(#f"+I.Va+")");var K=0,G=0,z=A.blur.v.val/2.4,M=A.Opct.v.val/100;
if($=="DrSh"){var hl=A.uglg&&A.uglg.v?g.tk():A.lagl.v.val;hl=hl*(Math.PI/180);var j=A.Dstn.v.val;K=-Math.cos(hl)*j;
G=Math.sin(hl)*j}if($=="OrGl")M/=A.Inpr.v.val/100;var w="<filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" id=\"f"+I.Va+"\" >";
w+="<feDropShadow dx=\""+K+"\" dy=\""+G+"\" stdDeviation=\""+z+"\" flood-color=\""+CSS.j6(A.Clr.v)+"\" flood-opacity=\""+h(M)+"\"/>";
w+="</filter>";I.v8.push(t(2)+w)}}}if(X.length!=0)i.push("filter:"+O+X.join(" "));var B=fW.nn(o,u),bB=B[0],bG=B[1];
if(F&&!F.fillEnabled.v)i.push("fill:"+O+"none");else if(bB){var eb=CSS.j6(bB.Clr.v);e(i,eb,0)}else if(bG){q(bG,I,Y,U);
e(i,"url(#g"+I.bh+")",0)}if(F==null||!F.strokeEnabled.v)F=fW.kd(o);if(F&&F.strokeEnabled.v){var fe=F.strokeStyleContent.v,gB=fe.classID;
if(gB=="solidColorLayer")e(i,CSS.j6(fe.Clr.v),1);else{q(fe,I,Y,U);e(i,"url(#g"+I.bh+")",1)}var hp=aF.eo.vl.indexOf(F.strokeStyleLineCapType.v.strokeStyleLineCapType),g6=aF.eo.join.indexOf(F.strokeStyleLineJoinType.v.strokeStyleLineJoinType),by=F.strokeStyleOpacity.v.val/100,e7=F.strokeStyleLineWidth.v.val,aN=aF.eo._R.indexOf(F.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if(aN==2){e7*=2;i.push("paint-order:stroke fill markers")}var jK=F.strokeStyleLineDashSet.v,f7=[];for(var m=0;
m<jK.length;m++)f7.push(Math.round(jK[m].v.val*e7));if(hp!=0)i.push("stroke-linecap:"+O+["butt","round","square"][hp]);
if(g6!=0)i.push("stroke-linejoin:"+O+["miter","round","bevel"][g6]);if(by!=1)i.push("stroke-opacity:"+O+h(by));
if(e7!=1)i.push("stroke-width:"+O+h(e7));if(f7.length!=0)i.push("stroke-dasharray:"+O+f7.join(","))}}function q(g,i,u,I){i.bh++;
var Y=g.Grad.v,U=JSON.parse(JSON.stringify(Y.Clrs.v)),F=JSON.parse(JSON.stringify(Y.Trns.v)),N=g.Ofst.v,o=g.Type.v.GrdT,X=o=="Rdl"||o=="Dmnd"?1:0,J=(X==1?"radial":"linear")+"Gradient",c=Q.N.Q8(g,u),d="";
if(X==0){c[0].x=c[1].x+2*(c[0].x-c[1].x);c[0].y=c[1].y+2*(c[0].y-c[1].y)}var p=t(2)+"<"+J+" id=\"g"+i.bh+"\"";
if(I.PA){if(i.bh==1)i.v8.push("<linearGradient id=\"P\" gradientUnits=\"userSpaceOnUse\"/>");d=" href=\"#P\""}else d=" gradientUnits=\"userSpaceOnUse\"";
if(X==0)i.v8.push(p+" x1=\""+h(c[0].x)+"\" y1=\""+h(c[0].y)+"\" x2=\""+h(c[1].x)+"\" y2=\""+h(c[1].y)+"\""+d+">");
if(X==1)i.v8.push(p+" cx=\""+h(c[0].x)+"\" cy=\""+h(c[0].y)+"\" r=\""+h(aW.nT(c[0],c[1]))+"\""+d+">");
var k=g.Rvrs.v,A=Q.N._z(Y,k);for(var m=0;m<A.length;m++){var $=A[m],K=$[0],G=$[1],z=$[2];z=z==1?"":" stop-opacity=\""+h(z)+"\"";
var M=K==0&&I.PA?"":" offset=\""+h(K)+"\"",hl=CSS.ij({o:G[0]*255,J:G[1]*255,k:G[2]*255});hl=I.PA&&hl=="#000000"?"":" stop-color=\""+S(hl)+"\"";
i.v8.push(t(3)+"<stop"+M+hl+z+"/>")}i.v8.push(t(2)+"</"+J+">")}aL.Qg=W;return x}();aL.tm=function(_,n,O,l,x){var t=[],h=aL.tm,V=!1,y={Qc:_,bE:n,B9:[!0,!0,!0],VA:!1,iU:O,a1M:0};
y.sY=Math.round(Math.max(_,n)*(.02+h.Zh(y)*.03));y.Jy=h.a75(y);y.C2=h.afz(y.Jy,(h.Zh(y)<.5?-1:1)*(.2+h.Zh(y)*.3));
if(h.Zh(y)<.5){var r=y.Jy;y.Jy=y.C2;y.C2=r}y.anP=h.Zh(y)<.4&&h.aln(y.C2,{o:1,J:1,k:1})>.3;y.apl=h.Zh(y)<.5?0:1;
t.push("<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 "+_+" "+n+"\" width=\""+_+"\" height=\""+n+"\">");
y.dr=l[Math.floor(h.QD(y)*l.length)];y.QK=l[Math.floor(h.QD(y)*l.length)];t.push("<style>");t.push("@font-face {  font-family: "+y.dr[2]+";  src: url(rsrc/fonts/"+y.dr[5]+");  }");
t.push("@font-face {  font-family: "+y.QK[2]+";  src: url(rsrc/fonts/"+y.QK[5]+");  }");t.push("</style>");
var E=[0,0,_,n],a=E;if(x==null)t.push("<path style=\"fill: "+h.Wo(y.Jy)+"\" d=\""+h.Rect(E[0],E[1],E[2]-E[0],E[3]-E[1])+"\" id=\"Background\" />");
else{y.VA=!0;h.awh(y,E,t,x)}if(h.Zh(y)<.25&&!y.VA){y.B9[0]=y.B9[2]=!1;h.a9k(E,y,t);a=E}else if(h.Zh(y)<.25||y.VA)a=E;
else{var S=.52+h.Zh(y)*.2;if(h.Zh(y)<.5)S=1-S;var e=E.slice(0),P=E.slice(0);if(h.Zh(y)<.5)e[2]=P[0]=Math.round(S*_);
else e[3]=P[1]=Math.round(S*n);if(h.Zh(y)<.5){var r=e;e=P;P=r}a=e;h.a2H(y,P,t,x)}h.axt(y,a,t);t.push("</svg>");
t=t.join("\n");var b=Q.Q(Math.round(t.length*1.5)),T=R.ho(t,b,0);return[b.buffer.slice(0,T),y.G7]};aL.tm.a9k=function(_,n,O){var l=aL.tm,x=_[2]-_[0],t=_[3]-_[1];
if(l.Zh(n)<.5){O.push("<path id=\"Border\" style=\"fill: "+l.Wo(n.C2)+"\" d=\""+l.aq_(_[0],_[1],_[2]-_[0],_[3]-_[1],n.sY)+"\" />")}else if(l.Zh(n)<-.4){l.af6(n,_,O)}else{var h=l.Zh(n)<.5?0:1,V=(h==0?t:x)/4,y=l.Hq(n,h,_,O,V,!0),y=l.Hq(n,h+2,_,O,V,!0,y)}};
aL.tm.axt=function(_,n,O){var l=aL.tm,x="Hello World!-What a beautiful day.-What Is Love?-Baby, don't hurt me.-Is This a Real Life?-Is this a fantasy?-Wake Me Up!-Before you go go.-I Saw The Sign.-And it opened up my mind!".split("-"),t=2*Math.floor(l.Zh(_)*x.length/2),h=n[2]-n[0],V=n[3]-n[1],r=0,a=0;
_.AR=(_.Qc+h)*.5*(.04+l.Zh(_)*.05);_.AR=Math.min(_.AR,V*.4,h*.12);_.AR=Math.round(_.AR);var y=Math.min(_.AR*x[t].length*(.35+.3*l.Zh(_)),h*.9),E=(n[1]+n[3])/2,S=Q.JB(_.Jy)<.85?{o:1,J:1,k:1}:{o:.1,J:.1,k:.1};
if(l.Zh(_)<.25&&_.B9[0]){a=0;r=n[0]+_.sY}else if(l.Zh(_)<.33&&_.B9[2]){a=2;r=n[2]-_.sY}else{a=1;r=(n[0]+n[2])/2}var e=S.o==1?"0,0,0":"255,255,255",P=_.VA&&l.Zh(_)<1;
if(P){var b=n[0],T=h,C=E-_.AR*1.1,Z=_.AR*2.2,W=.7;if(a==1&&l.Zh(_)<.5){b=C=.2*Math.min(h,V);T=h-2*C;
Z=V-C-C}else if(l.Zh(_)<.7){b=C=0;T=h;Z=V;W=.25}O.push("<path id=\"Strip\" style=\"fill: rgb("+e+"); opacity: "+W+"\" d=\""+l.Rect(b,C,T,Z)+"\" />")}if(l.Zh(_)<.4){var s=_.AR*.07;
s*=1.5+l.Zh(_)*1;if(a==-1&&h/V<3&&!P){O.push("<path id=\"Bar-bottom\" style=\"fill: "+l.Wo(S)+"\" d=\""+l.Rect(r-y/2,E+_.AR*1.1-s/2,y,s)+"\" />");
O.push("<path id=\"Bar-top\"    style=\"fill: "+l.Wo(S)+"\" d=\""+l.Rect(r-y/2,E-_.AR*1.1-s/2,y,s)+"\" />")}if(a!=1){O.push("<path id=\"Bar\" style=\"fill: "+l.Wo(S)+"\" d=\""+l.Rect(r-s/2,E-_.AR*.8,s,_.AR*.8*2)+"\" />");
r+=(a==0?1:-1)*_.AR/3}}var f=_.AR*.4;O.push(l.a5Y(x[t+1],r,E+f*1.6,f,S,a,_.QK));O.push(l.a5Y(x[t],r,E+_.AR*.04,_.AR,S,a,_.dr))};
aL.tm.a2H=function(_,n,O,l){var x=n[2]-n[0],t=n[3]-n[1],h=Math.max(x,t),V=Math.min(x,t),y=aL.tm;if(h/V<5&&!_.VA&&!1){y.awh(_,n,O,l)}else if(y.Zh(_)<0)O.push("<path style=\"fill: "+y.Wo(_.C2)+"\" d=\""+y.Rect(n[0],n[1],x,t)+"\" />");
else{var r=0;if(n[3]!=_.bE)r=0;if(n[2]!=_.Qc)r=3;if(n[0]!=0)r=1;if(n[1]!=0)r=2;var E=r+2&3;if(h/V<3){var a=y.awZ(E),S=a[Math.round(y.Zh(_)*(a.length-1))],e=S.zK.slice(0,4),P=e.indexOf(1);
S=JSON.parse(JSON.stringify(S));var b=-1;if(e!="0000"){var T=new aY;if(S.zK[5]=="0"){if(P==3&&r==1){b=1;
T.scale(-1,1)}else b=P}else{var C=E;while(C==E)C=Math.floor(y.Zh(_)*4)&3;T.rotate((-P+C)*Math.PI/2)}y.D(S,T)}var Z=y.Vx(S),W=x-2*_.sY,s=t-2*_.sY;
if(b!=-1){if((b&1)==0)s-=_.sY;else W-=_.sY}var f=Math.min(W/Z.a,s/Z.n),q=new aY;q.translate(-Z.x,-Z.y);
q.scale(f,f);var g=(x-Z.a*f)/2,i=(t-Z.n*f)/2;if(b!=-1){if(b==3)g=0;if(b==0)i=0;if(b==1)g=x-Z.a*f;if(b==2)i=t-Z.n*f}q.translate(n[0]+g,n[1]+i);
y.fx(_,S,q,_.C2,O)}else{y.Hq(_,r,n,O,1e9)}}};aL.tm.awh=function(_,n,O,l){var x=n[2]-n[0],t=n[3]-n[1],h=Math.max(x,t),V=Math.min(x,t),y=aL.tm,r=y.QD(_),E,a,S,e=l[0]instanceof ArrayBuffer;
if(e){E="data:image/jpg;base64,"+iR.sx(l[0]);a=l[1];S=l[2]}else{var P=Math.floor(r*l.length),b=l[P];
_.G7=b;E=b.webformatURL;a=b.webformatWidth;S=b.webformatHeight}var T=n[0],C=n[1],Z=x,W=t;if(x/t>a/S){W=Z*S/a;
C=C-(W-t)/2}else{Z=W*a/S;T=T-(Z-x)/2}if(e){O.push("<defs>");O.push("<image width=\""+a+"\" height=\""+S+"\" id=\"Background\" href=\""+E+"\" />");
O.push("</defs>");var s=Z/a;O.push("<use href=\"#Background\" transform=\""+aL.Qg(new aY(s,0,0,s,T,C))+"\" />")}else{var f="cp"+Math.random();
O.push("<clipPath id=\""+f+"\">");O.push("<path style=\"fill: "+y.Wo(_.C2)+"\" d=\""+y.Rect(n[0],n[1],x,t)+"\" />");
O.push("</clipPath>");O.push("<image  clip-path=\"url(#"+f+")\" xlink:href=\""+E+"\" x=\""+T+"\" y=\""+C+"\" width=\""+Z+"\" height=\""+W+"\" />")}};
aL.tm.a5Y=function(_,n,O,l,x,t,h){var V=aL.tm;return"<text x=\""+n+"\" y=\""+O+"\" style=\"fill:"+V.Wo(x)+"; font-size:"+l+"px; text-anchor:"+["start","middle","end"][t]+"; font-family:"+h[2]+";\"><tspan>"+_+"</tspan></text>"};
aL.tm.fx=function(_,n,O,l,x){var t=aL.tm,h=[];for(var m=0;m<n.wP.length;m++){h.push(l);if(_.anP){l=(m&1)==_.apl?{o:1,J:1,k:1}:h[0]}}x.push("<g id=\""+n.zK.split("-")[2]+":::\" style=\"transform: "+aL.Qg(O)+";\" >");
for(var m=0;m<n.wP.length;m++){var V=n.wP[m];l=h.pop();x.push("<path style=\"fill: "+(l?t.Wo(l):"#"+V[0])+"\" d=\""+Typr.U.pathToSVG({crds:V[1].C,cmds:V[1].F})+"\" />")}x.push("</g>")};
aL.tm.af6=function(_,n,O){var l=aL.tm,x=aL.tm.CR,t=[];for(var m=0;m<x.length;m++){var h=x[m],V=h.zK.slice(0,4);
if(V!="1001")continue;t.push(h)}var h=t[Math.floor(l.Zh(_)*t.length)];if(l.Zh(_)<.5)l.D(h,new aY(0,1,1,0,0,0));
var y=n[3]-n[1],r=n[2]-n[0],E=l.Vx(h),a=.7*Math.min(r,y,.5*Math.max(r,y))/Math.max(E.a,E.n),S=new aY;
S.scale(a,a);if(l.Zh(_)<.5){S.scale(1,-1);S.translate(0,y)}l.fx(_,h,S,_.C2,O);S.rotate(Math.PI);S.translate(r,y);
l.fx(_,h,S,_.C2,O)};aL.tm.awZ=function(_){var n=aL.tm.CR,O=[];for(var m=0;m<n.length;m++){var l=n[m],x=l.zK.slice(0,4);
if(x=="0000"){O.push(l);continue}if(["1000","0100","0010","0001"].indexOf(x)==-1)continue;var t=x.indexOf("1");
if(l.zK[5]=="0"&&_==t&&t!=3)continue;O.push(l)}return O};aL.tm.Hq=function(_,n,O,l,x,t,h){var V=aL.tm.CR,y=aL.tm,r=[],Z,W;
for(var m=0;m<V.length;m++){var E=V[m],a=E.zK.slice(0,4);if(["1110","1101","1011","0111"].indexOf(a)==-1)continue;
var S=a.indexOf("0")+2&3;if(E.zK[5]=="0")if(t==!0||n!=S&&!(n==1&&S==3))continue;r.push(E)}var e=h!=null?h:Math.floor(y.Zh(_)*r.length),E=r[e],E=JSON.parse(JSON.stringify(E)),a=E.zK.slice(0,4),S=a.indexOf("0")+2&3;
if(S==3&&n==1)Q.D(E,new aY(1,0,0,-1,0,1e3));var P=new aY;P.translate(-500,-500);P.rotate(-S*Math.PI/2);
P.translate(500,500);y.D(E,P);var b=O[3]-O[1],T=O[2]-O[0],C=y.Vx(E);if(C.y<0){C.n+=C.y;C.y=0}if(C.y>0){C.n+=C.y;
C.y=0}if((n&1)==0){W=b;Z=T}else{Z=b;W=T}var s=Math.min(Math.min(.5+.5*y.Zh(_))*Math.min(T,b),x)/C.n,f=Math.ceil(Z/(1e3*s)),q=new aY,g=new aY;
g.scale(s,s);if(n==0||n==2){g.translate(-(T/2),-(b/2));g.rotate(-n*Math.PI/2);g.translate(T/2+O[0],b/2+O[1])}else{g.rotate(Math.PI/2);
g.scale(1,-1);g.translate(O[0],O[1]);if(n==1){g.scale(-1,1);g.translate(T,0)}}l.push("<g id=\"Border-"+["top","right","bottom","left"][n]+":::\">");
for(var m=0;m<f;m++){var i=q.clone();i.concat(g);y.fx(_,E,i,_.C2,l);q.translate(1e3-2,0)}l.push("</g>");
return e};aL.tm.Rect=function(_,n,O,l){return Typr.U.pathToSVG({crds:[_,n,_+O,n,_+O,n+l,_,n+l],cmds:["M","L","L","L","Z"]})};
aL.tm.aq_=function(_,n,O,l,x){var t=[_,n,_+O,n,_+O,n+l,_,n+l];_+=x;n+=x;O-=2*x;l-=2*x;t.push(_,n,_,n+l,_+O,n+l,_+O,n);
return Typr.U.pathToSVG({crds:t,cmds:"M L L L Z M L L L Z".split(" ")})};aL.tm.afz=function(_,n){var O=Q.$d(_.o,_.J,_.k);
O.Ad=Math.max(.1,Math.min(.9,O.Ad+n));return Q.kg(O.bE,O.yj,O.Ad)};aL.tm.ao7=function(_,n){var O=Q.$d(_.o,_.J,_.k);
O.bE+=n;return Q.kg(O.bE,O.yj,O.Ad)};aL.tm.apO=function(_){var n=Q.$d(_.o,_.J,_.k);n.Ad=1-n.Ad;return Q.kg(n.bE,n.yj,n.Ad)};
aL.tm.aln=function(_,n){var O=_.o-n.o,l=_.J-n.J,x=_.k-n.k;return Math.sqrt(O*O+l*l+x*x)};aL.tm.a75=function(_){var n=aL.tm;
return{o:n.Zh(_),J:n.Zh(_),k:n.Zh(_)}};aL.tm.Wo=function(_){return CSS.ij({o:_.o*255,J:_.J*255,k:_.k*255})};
aL.tm.Vx=function(_){var n=_.wP,O=new a8;for(var m=0;m<n.length;m++)O=O.uG(Q.p.Vx(n[m][1].C));return O};
aL.tm.D=function(_,n){var O=_.wP;for(var m=0;m<O.length;m++)Q.p.D(O[m][1].C,n,O[m][1].C)};aL.tm.Zh=function(_){_.a1M++;
var n=_.a1M&3;if(n==0)_.iU=aL.tm._e(_.iU);var O=_.iU>>>8*n&255;return O*(.99999999/255)};aL.tm.QD=function(_){var n=aL.tm._e(_.iU);
_.iU=aL.tm._e(n);return n*(1/4294967295)};aL.tm._e=function(_){_=(_^61^_>>>16)>>>0;_=_+(_<<3)>>>0;_=(_^_>>>4)>>>0;
_=_*668265261>>>0;_=(_^_>>>15)>>>0;return _};aL.tm.CR=[{zK:"0001-0-bird",wP:[["4b3c34",{F:"M C L C C L Z M C C L C C L Z M C L C L Z M C L C C L Z".split(" "),C:[208,16,253,5,247,86,228,104,218,108,253,60,235,12,211,18,210,18,209,17,208,16,208,16,187,140,238,125,326,133,319,189,318,198,307,210,299,207,297,205,307,208,316,195,317,188,320,126,208,137,174,149,187,140,137,75,156,79,177,94,164,157,173,147,177,101,165,79,142,75,137,75,368,59,165,59,182,233,0,210,0,225,161,250,194,61,364,63,367,61,368,59,368,59,368,59]}],["3c7040",{F:"M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C L Z M C C C C C L Z M C C C C L Z M C C C C Z".split(" "),C:[345,123,324,113,331,70,284,80,287,79,310,89,314,103,314,104,306,90,284,82,281,81,270,85,268,86,274,117,335,119,345,123,345,123,270,0,283,29,282,58,244,66,258,62,265,40,269,27,265,37,256,56,249,58,242,31,263,18,270,0,270,0,89,100,81,136,47,182,101,196,90,189,92,157,91,145,94,160,93,191,109,195,148,158,96,129,89,100,89,100,230,187,201,240,160,226,133,198,150,191,172,197,187,198,166,193,153,190,134,193,159,162,207,194,230,187,230,187,126,177,131,159,129,150,119,139,122,122,145,112,147,97,166,128,164,155,134,168,139,154,146,142,145,131,143,145,133,159,126,177,126,177,209,86,195,86,166,91,173,109,177,102,181,97,191,96,180,99,174,113,175,113,194,114,200,96,209,86,209,86,278,175,254,167,235,168,231,143,245,143,248,151,256,158,252,147,243,144,240,142,276,147,265,171,278,175]}],["b588c1",{F:"M C C C C C C C C C C C C L Z".split(" "),C:[189,40,188,42,186,44,184,47,184,52,183,55,181,59,175,70,160,78,147,79,142,79,131,78,127,75,118,74,95,71,93,70,89,70,88,70,69,72,74,66,82,68,93,65,78,64,83,62,95,59,128,50,128,33,155,29,162,16,180,13,189,31,193,31,196,34,198,37,197,37,193,39,189,40,189,40]}]]},{zK:"0001-0-bird2",wP:[["ff7f2a",{F:"M L L L Z M L L L Z".split(" "),C:[296,0,296,62,335,62,296,0,357,0,357,62,318,62,357,0]}],["b588c1",{F:"M C C C C C C C C C C C L Z".split(" "),C:[321,48,344,48,379,67,396,121,408,176,396,230,337,255,303,265,265,268,217,235,191,217,170,188,186,180,195,177,199,187,205,192,203,185,199,178,207,172,217,165,224,178,225,182,227,196,231,203,250,206,273,205,290,196,292,165,289,133,269,118,268,101,267,77,288,49,321,48,321,48]}],["74439e",{F:"M C C C C C C L Z M C C Z".split(" "),C:[337,187,329,202,317,204,304,204,293,204,284,205,293,224,286,216,278,209,268,214,257,220,262,237,269,243,284,258,310,256,323,243,337,227,339,208,337,187,337,187,340,77,310,78,287,81,315,96,269,83,309,75,340,77]}],["000000",{F:"M L L L Z M L L L Z".split(" "),C:[326,258,334,315,323,316,326,258,298,262,296,318,286,317,298,262]}],["4b3c34",{F:"M L C C C C C C C C L Z".split(" "),C:[0,272,0,336,63,296,119,296,175,320,205,330,229,339,278,338,322,337,354,322,405,325,443,329,482,332,501,377,501,366,502,348,474,328,464,320,440,312,384,309,296,309,300,333,186,293,118,264,54,250,0,272,0,272]}],["3c7040",{F:"M C C C Z M C C C Z M C C C L Z M C C C L Z M C C C L Z M C C C Z".split(" "),C:[58,260,44,247,27,239,20,208,15,188,32,182,43,198,59,227,56,242,58,260,181,323,167,336,150,345,143,375,138,396,155,401,166,385,182,356,179,342,181,323,60,260,79,249,100,243,113,214,122,194,102,186,86,200,62,227,65,242,60,260,60,260,499,378,479,377,462,372,435,388,417,399,425,415,444,411,476,403,484,390,499,378,499,378,501,379,494,397,482,411,488,442,491,463,511,461,514,442,520,410,508,397,501,379,501,379,503,378,513,390,516,402,531,413,546,421,557,412,548,401,534,382,519,379,503,378]}]]},{zK:"0000-1-flower",wP:[["7a59a2",{F:"M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z".split(" "),C:[468,470,411,473,371,480,351,495,332,509,322,536,325,581,325,601,328,621,325,637,346,634,371,638,397,637,427,636,456,626,465,611,478,596,485,553,489,490,477,489,470,483,468,470,445,563,435,583,425,591,415,590,401,588,401,572,410,549,388,558,375,557,369,546,366,533,374,524,390,517,416,506,441,498,465,495,463,519,455,542,445,563,445,563,489,450,486,392,480,352,465,332,451,313,425,302,380,305,360,305,340,307,324,304,327,324,322,350,323,376,323,406,332,435,347,444,362,457,405,465,468,470,469,458,476,451,489,450,489,450,395,424,376,415,368,405,369,394,371,380,387,380,410,390,402,368,403,355,414,349,427,346,436,355,443,370,454,397,460,422,463,446,439,443,417,435,395,424,395,424,508,470,566,468,606,462,626,447,645,433,656,407,654,362,654,342,652,322,655,306,634,309,609,304,583,305,553,305,524,314,514,329,501,344,493,387,488,449,500,451,507,457,508,470,508,470,534,377,544,357,554,350,564,351,578,353,578,369,568,392,590,384,604,385,609,396,612,409,603,418,588,425,561,435,536,442,512,445,515,421,523,399,534,377,534,377,488,490,492,547,499,587,514,607,528,626,554,636,600,633,619,632,640,630,656,633,652,612,656,587,655,560,655,531,645,502,629,493,614,480,571,473,508,469,507,481,501,488,488,490,488,490,582,513,602,523,610,533,609,543,607,557,591,557,568,548,577,570,576,583,565,589,552,592,542,584,535,568,524,542,517,517,514,493,538,495,560,503,582,513,582,513]}]]},{zK:"0000-1-flower",wP:[["d13777",{F:"M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z".split(" "),C:[474,503,457,528,452,530,450,528,450,523,469,498,464,493,388,522,332,552,314,585,297,628,322,660,372,639,361,698,421,709,450,665,467,649,477,596,482,505,474,503,474,503,439,563,431,563,424,556,424,548,424,539,431,532,439,532,447,532,454,539,454,548,454,556,447,563,439,563,462,475,432,467,429,463,430,460,435,458,465,469,468,463,417,399,371,356,335,348,288,345,265,379,300,420,241,428,249,488,301,503,321,513,374,507,462,483,462,475,462,475,394,460,391,452,396,444,404,441,412,438,420,443,423,451,426,459,421,467,413,470,405,473,396,468,394,460,484,455,483,424,486,419,489,420,492,424,492,456,498,457,543,389,570,332,566,294,554,249,515,238,487,284,461,231,406,256,408,310,405,333,427,381,477,458,484,455,484,455,477,385,484,380,494,382,499,389,504,396,502,405,496,410,489,415,479,414,474,407,469,400,471,390,477,385,511,470,539,459,545,461,545,463,542,467,512,477,513,483,592,505,654,513,688,497,728,472,726,432,674,419,717,378,675,334,625,353,602,356,563,393,506,464,511,470,511,470,575,442,581,447,583,456,578,463,573,470,563,472,557,467,550,462,548,452,553,445,558,438,568,437,575,442,505,499,524,523,524,529,521,531,517,529,498,503,492,506,496,588,508,650,533,677,570,707,607,693,603,639,656,667,685,614,651,572,641,551,594,525,509,493,505,499,505,499,551,552,548,560,540,564,532,561,524,559,519,550,522,542,524,534,533,530,541,532,549,535,554,543,551,552]}]]},{zK:"0000-1-flower",wP:[["ffac42",{F:"M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z".split(" "),C:[646,471,646,446,626,426,601,426,599,426,597,426,595,427,596,426,598,424,599,423,616,406,616,378,599,360,581,343,553,343,536,360,534,361,533,363,532,364,532,363,532,361,532,359,532,335,512,315,488,315,463,315,443,335,443,359,443,361,443,363,443,365,442,364,441,363,440,362,422,344,394,344,377,362,359,379,359,407,377,425,378,426,380,427,381,429,379,428,378,428,376,428,351,428,331,448,331,473,331,498,351,518,376,518,378,518,380,517,382,517,381,518,379,519,378,521,361,538,361,566,378,584,396,601,424,601,441,584,443,582,444,581,445,579,445,581,445,583,445,584,445,609,465,629,490,629,514,629,534,609,534,584,534,582,534,580,534,579,535,580,536,581,537,582,555,600,583,600,600,582,618,565,618,537,600,519,599,518,597,516,596,515,598,515,599,516,601,516,626,516,646,496,646,471,489,552,444,552,409,516,409,472,409,428,444,392,489,392,533,392,569,428,569,472,569,516,533,552,489,552]}]]},{zK:"0000-1-flower",wP:[["d04040",{F:"M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),C:[691,424,690,369,680,330,660,303,634,320,601,361,568,406,568,406,568,327,578,326,585,317,585,306,585,294,576,284,564,284,552,284,542,294,542,306,542,317,550,326,560,327,560,406,559,406,540,359,522,311,501,291,475,319,453,360,433,407,431,406,431,327,441,326,448,317,448,306,448,294,439,284,427,284,415,284,405,294,405,306,405,317,412,326,423,327,423,404,390,363,360,326,341,308,296,401,299,489,360,567,396,613,443,639,500,638,624,636,694,524,692,424,691,424,389,543,370,514,379,498,399,504,439,518,470,564,488,613,455,600,414,580,389,543,481,480,488,445,505,441,515,459,533,497,524,552,501,599,487,567,472,523,481,480,481,480,624,523,610,563,565,595,515,613,528,580,548,538,585,514,614,494,629,503,624,523,624,523]}]]},{zK:"0000-1-flower",wP:[["ec7272",{F:"M C C C C Z M C C C C Z M C C C C L Z M C C C C L Z M C C C C Z M C C C C L Z".split(" "),C:[447,475,452,450,452,438,437,423,422,407,407,412,390,383,398,418,421,415,433,434,445,453,446,474,447,475,495,446,520,439,529,433,535,412,542,390,529,380,546,351,520,376,533,394,523,414,513,434,495,445,495,446,545,473,564,490,574,495,595,490,617,485,620,469,653,468,619,459,610,479,587,480,565,482,546,472,545,473,545,473,549,533,543,558,543,569,559,585,574,601,589,596,606,624,597,590,575,592,563,573,551,555,550,534,549,533,549,533,504,562,480,570,470,575,464,596,458,618,470,628,454,657,479,632,466,614,476,594,486,575,504,563,504,562,459,536,440,519,430,513,409,518,387,524,384,539,351,540,385,549,394,529,417,528,439,527,457,536,459,536,459,536]}],["333333",{F:"M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z".split(" "),C:[534,455,584,415,579,358,577,335,574,315,585,304,585,304,585,304,568,308,561,312,554,316,520,333,500,363,479,392,493,437,486,456,479,476,452,485,452,485,452,485,471,474,475,454,479,434,460,402,482,365,505,328,565,292,597,294,612,295,591,298,587,316,583,333,593,373,584,404,574,440,533,456,534,455,534,455,559,506,619,530,666,497,685,483,701,471,716,475,716,475,716,475,704,463,697,459,690,454,657,434,622,431,587,428,554,462,534,465,513,469,492,451,492,451,492,451,511,461,530,455,549,448,568,416,611,417,654,418,716,452,730,481,737,495,724,478,706,483,689,489,660,516,628,524,592,534,558,506,559,506,559,506,524,552,534,615,586,640,607,649,625,657,629,672,629,672,629,672,634,655,634,647,634,639,636,601,621,569,606,537,560,525,547,509,534,494,539,466,539,466,539,466,539,488,554,501,569,514,607,514,627,552,648,590,650,660,632,687,623,700,631,680,617,667,605,656,566,644,543,621,517,594,524,551,524,552,524,552,467,546,417,585,421,643,424,665,426,686,415,697,415,697,415,697,432,693,439,689,446,684,481,667,501,638,521,609,508,563,515,544,522,524,548,515,548,515,548,515,530,527,526,546,522,566,540,598,518,635,496,672,436,709,404,706,388,705,409,702,413,684,417,667,408,628,417,596,426,561,467,544,467,546,467,546,442,495,383,472,336,504,317,518,301,530,286,526,286,526,286,526,298,539,305,543,312,547,344,568,380,571,415,574,448,539,468,536,488,532,510,551,510,551,510,551,490,540,471,547,452,553,434,585,391,584,348,583,286,550,272,521,265,507,278,524,296,518,313,513,342,485,373,477,409,468,444,495,442,495,442,495,476,449,467,386,415,361,394,352,375,344,371,329,371,329,371,329,366,346,366,354,366,362,364,400,379,433,394,465,440,476,453,492,467,508,462,535,462,535,462,535,461,513,446,500,431,487,394,487,373,449,352,411,350,341,368,314,377,301,369,321,383,334,396,345,434,357,457,380,483,407,477,450,476,449,476,449]}]]},{zK:"0000-0-hearts",wP:[["d17070",{F:"M C C C C C C C C C L Z".split(" "),C:[415,584,413,585,411,586,409,587,392,596,389,620,395,633,401,647,414,663,450,668,485,674,487,681,494,690,491,679,487,673,507,643,527,613,524,593,518,579,512,566,493,552,475,558,467,561,451,566,448,586,435,578,423,581,415,584,415,584]}],["6bcc6b",{F:"M C C C C C C C C C L Z".split(" "),C:[595,451,593,449,590,448,588,448,563,439,537,457,529,475,521,493,516,520,542,560,568,601,563,609,559,623,568,611,571,602,618,595,666,589,684,567,692,550,700,532,697,501,674,488,665,482,645,472,622,486,619,465,606,456,595,451,595,451]}],["5c5cc2",{F:"M C C C C C C C C C L Z".split(" "),C:[341,362,338,364,335,366,332,368,304,385,301,424,312,446,323,468,345,494,405,501,465,508,468,520,480,534,475,516,468,506,499,455,531,404,524,370,514,348,503,325,470,304,440,315,427,320,401,331,397,364,374,351,355,356,341,362,341,362]}]]},{zK:"0000-0-anchor",wP:[["2a3b66",{F:"M C C C C L Z M C C C C C C C C C C C C C C L C C C C C C C C C C C C C L C C C C C C C C C C C C C L Z".split(" "),C:[495,315,490,315,488,318,489,323,491,328,502,326,502,320,502,317,501,316,497,315,496,315,496,315,495,315,495,315,496,303,509,303,521,320,514,327,511,330,513,345,517,348,519,350,531,352,546,354,570,357,572,357,578,354,588,347,592,351,592,369,592,385,588,390,580,385,576,383,570,383,552,384,524,387,519,389,517,397,515,404,517,515,520,554,522,583,525,599,530,606,534,610,555,617,565,617,584,616,607,602,635,572,639,568,641,566,644,563,633,559,616,557,616,557,675,533,675,533,671,605,669,609,667,611,664,591,658,577,657,579,657,580,656,582,628,638,603,660,565,664,545,666,521,672,514,675,512,677,507,682,504,688,501,693,497,698,496,698,494,698,490,693,487,688,484,682,480,677,477,675,471,672,447,666,427,664,391,660,367,640,340,591,335,604,332,621,331,619,329,615,325,544,325,544,384,568,384,568,368,569,357,573,385,602,408,616,426,617,437,617,458,610,461,606,466,599,470,583,472,554,474,515,476,404,475,397,473,389,468,387,440,384,422,383,416,383,412,385,403,390,400,385,400,369,400,351,403,347,414,354,419,357,421,357,446,354,460,352,473,350,475,348,478,345,481,330,478,327,470,320,483,303,496,303,496,303]}]]},{zK:"0000-1-leaf",wP:[["fbb600",{F:"M L L L L L L C L L C L C L C C C C C L C C C C C C C C C L C C C C C C C C C C C C C L L L L Z".split(" "),C:[642,726,633,723,632,707,591,631,570,582,526,521,537,547,535,579,517,598,501,619,486,602,414,634,412,606,379,609,346,611,394,557,406,547,401,539,386,532,319,519,337,508,332,493,320,478,326,464,302,450,287,436,303,436,324,441,330,432,346,434,359,434,359,415,377,428,397,431,417,432,442,440,437,418,417,416,406,372,401,370,395,367,389,355,417,363,408,339,406,323,416,312,427,303,417,276,433,295,444,297,452,294,479,321,490,313,496,294,503,322,510,329,517,338,522,353,530,371,530,379,546,402,551,389,555,378,578,333,606,333,628,304,652,280,646,306,644,327,657,329,649,356,658,374,679,384,666,392,656,415,645,432,627,457,653,451,661,457,692,460,698,473,715,481,697,485,678,488,669,509,656,523,655,533,666,539,659,537,659,542,643,531,630,535,613,543,608,539,598,535,594,542,590,553,590,566,594,564,596,569,568,575,551,543,531,519,575,577,597,628,639,708,642,726]}]]},{zK:"0000-1-acorn",wP:[["a05a2c",{F:"M C C C C C C C L Z".split(" "),C:[506,453,450,426,413,422,398,444,374,480,374,533,384,573,391,602,407,625,430,645,451,658,487,654,509,647,554,633,587,605,612,565,635,527,591,500,565,482,557,476,515,457,506,453,506,453]}],["502d16",{F:"M C C C C C C C C C C C Z".split(" "),C:[640,524,639,539,623,540,623,540,627,522,607,504,583,488,547,465,507,445,470,434,439,426,412,417,400,437,400,437,391,424,400,414,434,370,498,356,551,376,555,349,583,317,597,321,612,326,621,346,620,350,619,354,594,352,584,368,580,375,577,382,575,387,619,412,649,460,640,524]}]]},{zK:"0000-0-skull",wP:[["808080",{F:"M C L C C L C L C C C C C C C L C L C C C C C C C C L C C L C L C C C C C C C L C L C L C C C C C C Z M C C C C Z M C C C C Z M L L L Z".split(" "),C:[396,410,398,415,398,420,398,424,420,437,433,404,465,382,501,382,538,382,569,404,582,435,602,424,602,419,603,415,604,410,604,410,609,392,622,379,633,382,643,384,648,402,643,420,643,421,642,421,642,422,643,422,643,422,644,422,662,427,675,440,672,450,669,461,652,465,633,460,628,459,624,457,620,455,589,473,588,491,582,507,572,520,607,540,611,538,615,536,620,535,639,530,656,535,659,545,662,556,649,568,630,573,630,574,629,574,629,574,629,574,629,575,629,575,634,594,630,611,619,614,609,617,596,604,591,585,590,580,589,576,589,571,565,557,564,592,536,619,501,619,466,619,438,591,437,557,412,572,411,576,411,580,410,585,410,585,405,604,392,617,381,614,371,611,366,593,371,575,371,574,371,574,372,574,371,573,371,573,370,573,352,568,339,556,342,545,345,534,362,530,381,535,385,536,390,538,394,540,430,519,421,507,415,491,414,475,380,455,376,457,372,459,367,460,367,460,349,465,331,461,328,450,326,440,338,427,357,422,357,422,358,422,358,422,358,421,358,421,358,420,353,402,357,384,368,381,379,379,391,391,396,410,463,439,445,439,431,453,431,470,431,488,445,502,463,502,480,502,494,488,494,470,494,453,480,439,463,439,540,439,522,439,508,453,508,470,508,488,522,502,540,502,557,502,571,488,571,470,571,453,557,439,540,439,483,528,518,528,500,503,483,528]}]]},{zK:"0000-0-ghost",wP:[["e6e6e6",{F:"M C C C C C C C C C C L Z M C C C C C C C C Z M C C Z".split(" "),C:[653,486,653,574,689,597,689,638,689,661,640,644,620,656,601,666,609,682,583,692,563,700,538,666,512,666,490,666,451,695,433,686,415,677,416,646,388,644,367,641,313,671,313,648,313,619,346,588,346,486,346,388,415,308,500,308,584,308,653,388,653,486,653,486,449,396,428,396,412,415,412,439,412,462,428,482,449,482,465,482,478,470,484,454,489,470,503,482,519,482,539,482,556,462,556,439,556,415,539,396,519,396,503,396,489,407,484,423,478,407,465,396,449,396,482,505,441,505,465,560,482,560,503,560,524,505,482,505]}],["000000",{F:"M C C C C Z M C C C C Z".split(" "),C:[526,446,526,455,519,462,510,462,501,462,494,455,494,446,494,437,501,430,510,430,519,430,526,437,526,446,475,446,475,455,468,462,459,462,450,462,442,455,442,446,442,437,450,430,459,430,468,430,475,437,475,446]}]]},{zK:"1001-1-rose",wP:[["9e1460",{F:"M C C C C C C C C C Z M C C C C C C C C C Z".split(" "),C:[568,83,558,83,548,88,539,96,538,98,536,99,535,101,522,115,513,134,517,149,522,172,561,200,592,207,604,210,611,215,615,221,622,234,611,258,611,258,613,260,615,264,618,264,627,266,638,241,640,236,660,188,614,83,568,83,526,125,527,97,567,68,593,75,616,81,642,121,649,152,651,165,656,172,662,176,675,183,698,173,698,173,698,173,698,173,698,173,704,176,705,179,705,180,706,189,681,199,678,200,678,200,677,201,677,201,627,220,524,170,526,125]}],["020304",{F:"M C C C C C Z M C C C C C Z M C C C C C Z M C C C C Z".split(" "),C:[60,151,60,151,37,125,60,98,83,72,95,91,115,66,134,42,117,26,120,30,123,34,146,83,132,114,114,154,60,151,60,151,280,70,280,70,258,97,283,122,308,147,318,127,339,150,361,173,344,190,347,186,350,182,370,132,354,101,333,62,280,70,280,70,61,150,61,150,27,143,30,108,33,73,54,81,55,50,57,19,33,16,38,17,43,19,91,44,98,78,107,121,61,150,61,150,-27,185,184,158,222,43,352,32,444,24,538,97,538,97,538,97,453,45,354,48,241,51,185,170,-27,185]}]]},{zK:"1001-1-curls",wP:[["53a7ab",{F:"M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),C:[68,114,121,103,159,110,183,135,212,169,211,204,189,237,162,277,124,291,86,276,52,263,38,236,47,202,55,168,79,151,121,156,147,162,165,177,160,205,155,228,135,241,113,237,97,234,92,221,96,205,98,195,105,194,115,200,124,205,133,204,135,197,139,183,122,167,95,171,68,176,54,193,68,220,84,252,131,261,165,238,201,202,199,164,158,136,118,113,52,122,-23,151,2,134,33,122,68,114,68,114,71,83,119,75,163,79,198,107,226,129,247,174,271,207,291,229,316,241,342,232,370,222,394,206,418,209,443,212,461,238,485,258,500,272,522,276,543,271,543,271,524,279,518,281,500,287,483,277,466,256,453,243,441,230,427,223,413,217,392,220,372,229,372,230,371,230,370,230,354,241,337,251,315,250,283,248,253,222,229,172,209,133,178,106,137,94,103,84,52,94,-30,133,-3,108,30,91,71,83,71,83,83,54,122,46,166,49,195,67,219,82,250,122,290,168,308,186,330,194,355,192,393,183,400,145,383,118,372,101,355,91,328,91,313,92,303,98,300,109,298,116,299,125,304,131,315,147,327,152,340,149,349,149,354,132,343,131,330,131,326,129,328,120,332,97,355,100,365,114,381,137,367,165,343,168,321,170,289,150,288,117,290,77,319,58,352,64,388,74,405,104,404,141,403,177,382,202,345,207,312,211,284,191,260,161,245,141,229,122,213,106,196,84,166,73,129,67,80,62,28,79,-26,108,10,79,46,63,83,54,83,54]}],["bbdc54",{F:"M C C C C C L Z M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),C:[321,315,287,324,252,312,211,219,217,284,239,326,279,341,324,352,362,329,398,291,316,305,258,269,217,196,238,284,274,319,321,315,321,315,211,261,223,300,234,345,252,374,220,378,194,367,193,324,194,306,198,288,206,270,197,315,204,340,221,351,206,327,202,297,211,261,211,261,206,246,193,301,170,317,138,297,162,281,184,254,205,222,201,246,191,267,174,283,186,279,197,267,206,246,206,246,378,233,370,286,337,299,294,270,312,277,330,276,347,267,294,278,259,252,234,203,280,259,327,278,378,233,378,233,626,217,604,273,555,313,511,315,484,316,438,289,432,232,450,253,488,296,511,291,532,286,551,277,566,261,527,269,498,263,480,243,478,241,478,237,480,235,486,230,504,220,519,226,537,233,551,242,567,241,591,236,611,228,626,217,626,217,411,192,432,183,439,166,420,136,443,144,460,158,466,182,470,165,456,149,430,133,459,136,485,145,505,165,503,143,463,133,434,128,486,127,526,124,539,118,505,123,470,124,435,122,461,111,483,96,500,76,475,95,450,110,424,118,450,96,465,72,466,48,458,75,440,98,419,112,424,106,428,99,428,91,429,68,413,57,393,51,419,70,426,92,411,110,408,77,385,58,343,52,383,26,422,25,445,62,458,47,465,29,467,8,477,27,479,51,475,76,497,64,515,49,528,29,524,57,515,82,496,103,521,113,549,111,579,99,560,122,535,136,502,137,518,149,521,173,514,205,505,181,492,166,476,158,483,188,470,205,447,216,456,183,451,166,438,157,444,193,426,211,379,207,403,193,416,172,416,140,434,156,428,173,411,192,411,192]}]]},{zK:"0111-0-pines",wP:[["e9e9e9",{F:"M C C C C C C C C L L L Z".split(" "),C:[0,946,0,946,54,960,99,944,149,927,182,954,205,956,245,960,298,940,382,974,435,995,478,957,538,956,571,955,597,969,631,968,663,967,701,938,749,944,805,950,851,960,893,946,950,928,1e3,946,1e3,946,1e3,1e3,0,1e3,0,946]}],["437a26",{F:"M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z".split(" "),C:[119,801,120,801,148,859,148,859,137,853,137,853,155,890,155,891,156,892,138,887,140,888,141,888,171,925,171,925,126,924,125,943,125,943,105,944,106,944,107,944,106,924,106,924,61,925,93,886,77,891,100,854,89,860,89,860,119,801,119,801,286,871,286,871,303,905,303,905,296,902,296,902,307,924,307,924,307,925,297,922,297,922,298,922,316,944,316,944,289,944,289,955,289,955,277,956,278,956,278,956,278,944,278,944,251,944,270,921,260,924,274,902,268,906,268,906,285,871,286,871,526,863,526,863,546,903,546,903,538,899,538,899,550,924,550,925,550,926,539,922,540,922,540,922,561,948,561,948,530,947,529,960,529,960,516,961,517,961,518,961,517,947,517,947,486,948,508,921,497,925,513,899,505,903,505,903,526,863,526,863,731,841,731,841,752,883,752,883,744,879,744,879,757,907,757,908,758,908,745,905,746,905,747,905,769,932,769,932,736,932,735,946,735,946,721,946,721,946,722,947,721,932,721,932,688,932,712,903,700,908,717,880,709,884,709,884,731,841,731,841,889,826,889,826,914,876,914,876,904,871,904,871,920,904,920,905,920,906,906,901,907,902,908,902,934,934,934,934,894,933,894,950,894,950,877,951,878,951,879,951,878,933,878,933,838,934,866,900,852,905,872,872,862,877,862,877,889,826,889,826]}]]},{zK:"0111-0-flowers",wP:[["8cae40",{F:"M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z".split(" "),C:[182,866,160,879,146,903,135,929,135,844,177,842,228,831,230,796,231,770,207,765,182,779,160,792,146,816,135,843,135,713,135,711,134,710,132,710,130,710,128,711,128,713,128,841,117,815,103,791,82,779,57,764,33,769,34,795,36,830,86,841,128,844,128,930,117,903,103,880,82,867,57,853,33,858,34,884,36,919,86,930,128,932,128,1009,128,1010,130,1012,132,1012,134,1012,135,1010,135,1009,135,931,177,928,228,918,230,882,231,856,207,851,182,866,182,866,447,904,430,898,412,904,394,916,394,861,413,873,431,879,447,873,458,868,458,852,447,848,430,841,412,848,394,859,394,788,394,787,393,786,391,786,389,786,388,787,388,788,388,859,370,847,352,841,336,848,325,852,325,868,336,873,352,879,370,873,388,862,388,915,370,904,352,898,336,904,325,909,325,925,336,929,352,936,370,930,388,918,388,1009,388,1010,389,1011,391,1011,393,1011,394,1010,394,1009,394,918,413,930,431,936,447,929,458,925,458,909,447,904,447,904,662,943,650,954,641,972,634,993,634,914,659,907,680,895,692,873,707,846,686,836,662,859,650,870,641,888,634,909,634,818,634,816,632,815,631,815,629,815,628,816,628,818,628,908,621,887,612,870,600,859,576,836,555,846,570,873,582,895,603,907,628,914,628,992,621,971,612,954,600,943,576,920,555,930,570,957,582,978,603,990,628,998,628,1009,628,1010,629,1011,631,1011,632,1011,634,1010,634,1009,634,998,659,991,680,978,692,957,707,930,686,920,662,943,662,943,892,842,875,857,862,882,850,912,850,822,874,817,896,805,908,778,919,755,896,751,877,769,866,779,857,796,850,815,850,737,850,736,848,735,847,735,845,735,844,736,844,737,844,815,836,795,828,779,817,769,798,751,775,755,785,777,797,804,820,817,844,822,844,912,832,882,818,857,801,842,772,816,737,822,753,854,772,894,806,911,844,918,844,1009,844,1010,845,1011,847,1011,848,1011,850,1010,850,1009,850,918,887,911,922,894,941,854,957,822,922,816,892,842,892,842]}],["d13777",{F:"M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),C:[125,603,115,617,112,619,110,618,111,615,122,600,119,597,75,614,43,631,32,650,22,675,36,694,65,682,59,716,94,722,111,696,120,687,126,657,129,604,125,603,125,603,104,638,99,638,95,634,95,629,95,624,99,620,104,620,109,620,113,624,113,629,113,634,109,638,104,638,117,587,100,582,98,579,99,578,102,577,119,583,121,580,92,543,65,517,44,513,17,512,4,531,24,555,-10,560,-6,594,24,603,36,609,67,605,118,591,118,587,117,587,78,578,77,573,79,568,84,567,88,565,93,568,95,573,96,577,94,582,89,584,85,585,80,583,78,578,130,575,130,557,131,554,133,555,135,557,135,575,138,576,164,537,180,504,177,482,171,456,148,449,132,476,117,445,85,460,86,491,84,504,97,532,126,577,130,575,130,575,126,535,130,532,136,533,139,537,142,541,141,546,137,549,133,552,127,551,125,547,122,543,122,538,126,535,146,584,162,577,165,578,166,580,164,582,146,588,147,591,193,604,229,609,249,600,271,585,271,562,240,554,265,530,241,505,212,516,199,518,176,539,143,580,146,584,146,584,183,567,187,570,187,576,185,580,182,584,176,585,172,582,168,579,167,573,170,569,173,565,179,565,183,567,142,601,153,615,153,618,152,619,149,618,138,603,135,605,137,652,144,688,159,704,180,721,202,713,199,681,230,698,246,667,227,643,221,631,194,616,145,597,142,601,142,601,169,631,167,636,162,638,158,637,153,635,151,630,152,625,154,621,159,618,163,620,168,621,170,626,169,631,376,691,343,693,320,697,309,706,297,714,291,729,294,756,294,767,295,779,294,788,305,786,320,788,335,788,353,787,369,782,375,773,382,764,386,739,388,703,381,702,377,699,376,691,363,745,357,757,351,761,345,761,337,760,337,751,343,737,330,742,322,742,319,735,317,728,322,723,331,718,346,712,360,708,374,706,373,720,369,733,363,745,363,745,388,680,387,646,383,623,375,612,366,600,351,594,325,596,314,596,302,597,293,595,295,607,292,622,292,637,292,654,298,671,306,676,315,684,340,689,376,692,377,684,381,680,388,680,388,680,334,665,323,659,318,654,319,648,320,639,329,640,343,645,338,632,339,625,345,621,352,620,358,625,362,634,368,649,372,664,373,677,360,676,347,671,334,665,334,665,399,691,433,690,456,686,467,678,479,670,485,655,484,629,484,617,482,606,484,597,472,598,458,595,442,596,425,596,409,601,403,610,395,618,391,643,388,679,395,680,399,684,399,691,399,691,414,638,420,626,426,622,432,622,440,624,440,633,434,646,447,641,455,642,458,648,459,656,454,661,445,665,430,671,416,675,402,677,403,663,408,650,414,638,414,638,388,703,390,736,394,759,403,770,411,782,426,788,452,785,464,785,475,784,485,785,483,774,485,759,485,744,484,726,479,710,470,704,461,697,436,693,400,691,399,698,395,702,388,703,388,703,442,716,453,722,458,728,458,734,456,742,447,742,434,736,439,749,438,757,432,760,425,762,419,757,415,748,409,733,404,719,403,705,416,706,429,710,442,716,442,716,722,716,722,701,710,690,696,690,695,690,694,690,693,690,693,689,694,689,695,688,705,678,705,662,695,651,685,641,668,641,658,651,658,652,657,653,656,654,656,653,656,652,656,651,656,637,645,625,630,625,616,625,605,637,605,651,605,652,605,653,605,654,604,654,604,653,603,652,593,642,576,642,566,652,556,662,556,679,566,689,567,690,568,690,569,691,568,691,567,691,566,691,552,691,540,702,540,717,540,731,552,743,566,743,567,743,568,743,569,742,569,743,568,744,567,744,557,754,557,771,567,781,577,791,594,791,604,781,605,780,605,779,606,778,606,779,606,780,606,781,606,795,617,807,632,807,646,807,657,795,657,781,657,780,657,779,657,778,658,779,658,779,659,780,669,790,686,790,696,780,706,770,706,754,696,743,695,743,694,742,693,741,694,741,695,741,696,741,710,741,722,730,722,716,631,762,605,762,585,742,585,716,585,691,605,670,631,670,657,670,677,691,677,716,677,742,657,762,631,762,958,602,957,570,951,547,940,532,925,541,905,565,887,591,886,591,886,546,892,545,897,540,897,533,897,527,891,521,884,521,877,521,872,527,872,533,872,540,876,545,882,546,882,591,882,591,870,564,860,536,848,525,833,541,820,565,808,592,807,592,807,546,813,545,817,540,817,533,817,527,812,521,805,521,798,521,792,527,792,533,792,540,797,545,802,546,802,590,784,567,766,545,755,534,729,588,731,639,766,684,787,711,814,726,847,725,919,724,960,659,958,602,958,602,783,671,772,653,777,645,789,648,812,656,830,682,840,711,821,704,797,692,783,671,836,634,840,614,850,612,856,622,867,644,861,676,848,703,840,684,831,659,836,634,836,634,919,659,911,682,885,701,856,711,863,692,875,668,896,654,913,642,922,647,919,659,919,659]}]]},{zK:"1101-1-confetti",wP:[["e789ff",{F:"M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),C:[170,439,169,438,59,370,108,300,152,238,298,276,318,337,338,398,265,380,285,358,312,328,185,247,121,307,72,353,171,440,170,439,318,338,336,399,262,408,184,346,138,309,73,237,112,174,167,88,345,115,377,222,393,276,296,260,335,236,375,212,236,111,155,183,73,254,265,380,285,358,312,328,318,338,318,338,377,222,394,276,318,288,243,236,187,197,146,120,201,56,254,-5,365,26,407,68,407,68,414,94,378,71,344,50,258,31,221,89,178,154,297,260,336,235,374,211,377,222,377,222,406,70,452,115,432,189,324,115,214,39,323,-85,322,-85,320,-85,229,38,331,100,439,166,413,95,377,72,343,51,364,28,406,70,346,405,369,418,356,441,333,428,346,405,513,298,536,311,523,334,500,321,513,298,891,91,914,104,901,127,878,114,891,91,24,123,47,136,34,159,11,146,24,123,664,33,687,46,674,69,651,56,664,33,910,482,933,495,920,518,897,505,910,482]}],["666666",{F:"M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),C:[919,442,917,443,802,510,764,432,730,364,837,250,901,261,965,272,913,329,903,301,889,262,755,338,777,424,794,490,920,442,919,442,901,261,964,274,936,345,842,386,787,410,690,435,654,370,604,279,716,132,827,153,883,164,821,244,819,197,817,150,659,228,682,335,706,443,913,329,903,301,889,262,901,261,901,261,827,153,884,163,857,238,774,281,711,313,622,313,593,233,564,157,647,71,705,54,705,54,732,60,694,82,658,102,599,170,632,231,669,301,822,244,819,197,816,150,827,153,827,153,706,54,769,34,825,87,706,149,583,213,527,56,526,57,526,59,590,200,696,137,807,70,732,60,694,82,658,102,648,73,706,54,362,328,383,340,371,361,350,349,362,328,52,189,73,201,61,222,40,210,52,189,509,119,530,131,517,152,496,140,509,119,912,16,933,28,921,49,900,37,912,16,629,380,650,392,638,413,617,401,629,380,77,414,98,426,86,447,65,435,77,414,240,76,261,88,249,109,228,97,240,76]}]]},{zK:"1101-1-branch",wP:[["7f500b",{F:"M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z".split(" "),C:[144,-14,144,-14,149,-12,150,-12,150,-12,106,22,86,75,63,137,93,193,69,238,64,236,89,174,53,146,80,72,99,19,144,-14,144,-14,280,-18,281,-18,276,-20,276,-20,276,-20,282,23,264,64,244,113,196,129,185,168,189,170,209,120,244,123,269,66,288,25,280,-18,280,-18,429,-5,429,-5,434,-4,434,-4,435,-4,405,28,396,72,386,124,415,164,402,203,398,202,410,150,379,132,391,70,399,26,429,-5,429,-5,514,-7,514,-7,519,-12,519,-12,520,-12,532,50,577,96,630,151,703,150,738,197,733,201,681,144,635,166,571,101,526,54,514,-7,514,-7,666,-67,666,-68,663,-65,662,-64,662,-64,704,-52,734,-18,768,22,763,72,793,99,796,96,760,57,778,26,737,-22,708,-56,666,-67,666,-67,936,-8,936,-8,932,-9,931,-9,931,-9,947,32,938,76,927,127,884,154,881,194,886,195,895,142,930,138,943,76,952,32,936,-8,936,-8]}],["5c7f0b",{F:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),C:[119,6,121,16,113,31,81,33,58,34,27,27,27,27,27,27,53,5,70,-1,93,-9,117,-4,119,6,124,8,132,1,151,12,165,33,179,54,180,87,180,87,180,87,153,75,139,60,122,41,115,14,124,8,78,74,82,83,76,97,48,103,27,108,-2,105,-2,105,-2,105,19,81,33,74,53,64,75,65,78,74,83,75,90,68,108,76,124,93,139,110,144,140,144,140,144,140,117,132,104,121,85,105,76,83,83,75,72,152,75,159,72,172,48,179,30,185,6,185,6,185,6,185,22,163,33,156,49,145,68,145,72,152,76,153,81,146,98,151,112,165,126,178,133,203,133,203,133,203,110,199,97,190,80,178,70,160,76,153,73,206,75,213,71,224,49,228,34,232,12,230,12,230,12,230,28,212,39,206,53,199,70,200,73,206,76,207,81,202,95,207,107,220,118,233,122,255,122,255,122,255,102,250,92,241,78,230,71,213,76,207,70,232,78,236,76,252,66,269,56,286,33,297,33,297,33,297,33,274,39,260,46,241,62,228,70,232,285,3,278,8,274,21,291,39,304,52,325,63,325,63,325,63,323,36,316,24,308,7,291,-2,285,3,281,1,280,-7,263,-10,244,-5,224,1,205,20,205,20,205,20,228,27,244,25,264,22,283,10,281,1,270,65,264,69,259,80,272,99,281,112,299,125,299,125,299,125,300,100,296,88,290,72,277,61,270,65,267,64,267,56,252,51,234,53,216,56,197,71,197,71,197,71,216,80,230,80,249,80,267,72,267,64,231,116,225,119,220,128,230,145,237,157,251,170,251,170,251,170,254,148,251,138,248,123,237,113,231,116,228,114,229,108,217,102,201,103,186,103,168,115,168,115,168,115,184,124,196,126,212,127,228,121,228,114,201,148,196,151,192,160,202,174,209,184,222,194,222,194,222,194,223,175,220,166,216,154,206,145,201,148,198,147,198,141,187,137,174,139,160,141,145,152,145,152,145,152,160,159,171,159,185,160,198,153,198,147,188,165,182,163,173,174,170,190,167,205,173,224,173,224,173,224,186,210,191,198,197,183,195,166,188,165,415,10,417,18,413,31,389,36,371,39,347,37,347,37,347,37,364,16,377,9,393,0,412,2,415,10,418,11,424,4,440,11,453,27,466,43,470,69,470,69,470,69,448,62,436,52,420,38,412,17,418,11,391,69,394,76,392,89,371,96,355,102,333,103,333,103,333,103,346,81,357,74,371,64,388,63,391,69,395,70,399,63,414,68,428,80,441,92,448,116,448,116,448,116,427,113,415,105,400,94,390,77,395,70,395,133,398,139,397,150,379,158,367,164,348,167,348,167,348,167,358,148,366,140,377,130,391,128,395,133,398,134,401,128,414,130,427,140,439,149,447,169,447,169,447,169,429,167,418,162,404,154,394,140,398,134,401,177,404,182,402,192,386,198,374,202,358,203,358,203,358,203,368,187,375,181,386,173,399,172,401,177,404,178,408,173,419,176,429,185,439,194,445,212,445,212,445,212,429,210,420,204,408,196,401,183,404,178,402,198,408,201,409,214,403,229,397,244,381,255,381,255,381,255,378,236,381,224,385,208,396,196,402,198,519,23,531,26,543,42,528,75,518,99,495,125,495,125,495,125,485,87,487,67,490,40,508,19,519,23,523,19,521,7,542,-6,571,-8,600,-10,636,6,636,6,636,6,609,27,586,32,557,39,526,32,523,19,570,100,581,102,594,115,585,147,579,170,562,197,562,197,562,197,548,163,547,145,547,120,560,98,570,100,574,97,570,86,587,72,613,66,639,60,673,71,673,71,673,71,652,93,632,101,607,110,578,107,574,97,649,149,659,150,670,160,666,188,662,208,650,232,650,232,650,232,635,205,633,189,631,168,640,149,649,149,652,146,648,137,662,123,683,116,705,109,734,116,734,116,734,116,718,137,702,145,681,155,657,155,652,146,707,178,715,179,724,189,718,213,714,230,701,250,701,250,701,250,690,225,690,211,689,193,699,177,707,178,710,175,707,167,720,156,739,151,759,147,784,155,784,155,784,155,768,172,753,177,734,185,713,183,710,175,732,194,740,189,757,199,770,218,782,237,783,266,783,266,783,266,758,254,746,240,730,223,724,199,732,194,687,-62,688,-54,699,-45,722,-53,739,-59,759,-73,759,-73,759,-73,733,-82,719,-82,701,-81,685,-71,687,-62,684,-60,676,-62,666,-48,662,-28,659,-9,669,17,669,17,669,17,684,-1,689,-16,696,-35,692,-57,684,-60,737,-23,738,-15,746,-5,768,-9,784,-12,804,-23,804,-23,804,-23,782,-34,769,-36,752,-38,736,-30,737,-23,734,-20,727,-24,716,-13,711,5,705,22,711,46,711,46,711,46,727,33,734,20,742,3,742,-17,734,-20,766,35,766,41,772,50,792,48,806,47,823,40,823,40,823,40,805,28,795,26,780,23,766,28,766,35,763,37,758,33,747,42,741,56,735,70,738,91,738,91,738,91,753,81,760,71,768,57,769,40,763,37,782,76,783,82,789,89,806,86,818,84,832,76,832,76,832,76,816,67,806,66,794,65,782,70,782,76,780,78,775,75,766,84,762,97,758,110,762,128,762,128,762,128,775,118,779,108,786,95,785,80,780,78,792,94,788,100,794,112,807,122,819,131,839,133,839,133,839,133,832,116,823,107,812,95,796,89,792,94,945,11,939,18,938,31,959,45,974,55,997,62,997,62,997,62,989,36,980,25,968,11,950,5,945,11,941,11,938,3,921,3,903,13,885,22,871,45,871,45,871,45,894,47,909,42,929,35,944,19,941,11,944,75,938,80,935,93,952,108,964,119,984,128,984,128,984,128,980,104,974,93,965,78,949,70,944,75,940,75,938,67,923,65,906,71,889,77,873,96,873,96,873,96,894,101,908,99,926,95,942,82,940,75,916,133,911,137,907,147,920,162,930,172,946,182,946,182,946,182,944,160,940,151,933,137,921,129,916,133,913,132,912,125,899,123,884,127,869,130,854,145,854,145,854,145,871,151,883,150,899,148,913,139,913,132,893,171,888,175,887,184,899,196,908,204,923,211,923,211,923,211,920,193,915,184,909,173,897,167,893,171,890,170,889,165,877,163,864,168,851,172,839,187,839,187,839,187,855,190,865,188,879,186,891,176,890,170,884,190,877,190,871,202,871,218,871,234,881,251,881,251,881,251,891,234,893,222,896,206,890,190,884,190]}]]},{zK:"1101-1-sticks",wP:[["ec7272",{F:"M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),C:[260,148,297,180,286,192,249,160,260,148,114,31,161,47,155,63,109,47,114,31,931,91,902,52,915,42,945,81,931,91,711,19,746,-15,758,-3,723,31,711,19,812,161,782,122,795,112,825,151,812,161,389,34,424,0,436,12,401,46,389,34,431,209,465,175,477,186,442,221,431,209,282,90,282,41,299,41,299,90,282,90,58,233,29,194,42,184,72,223,58,233,574,58,621,74,615,90,569,74,574,58]}],["0000ff",{F:"M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),C:[722,208,733,161,717,157,706,205,722,208,843,12,797,28,802,44,849,28,843,12,31,74,60,35,47,25,18,64,31,74,220,21,185,-13,173,-1,208,33,220,21,140,166,170,127,157,117,127,156,140,166,558,148,523,114,511,126,546,160,558,148,562,9,516,25,521,41,568,25,562,9,697,105,726,66,713,56,684,95,697,105,961,180,990,141,977,131,948,170,961,180,399,97,353,113,358,129,405,113,399,97]}]]},{zK:"1101-1-dots",wP:[["ec7272",{F:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),C:[154,47,144,47,136,39,136,29,136,19,144,11,154,11,164,11,172,19,172,29,172,39,164,47,154,47,272,164,262,164,254,156,254,146,254,136,262,128,272,128,282,128,290,136,290,146,290,156,282,164,272,164,529,48,519,48,511,40,511,30,511,20,519,12,529,12,539,12,547,20,547,30,547,40,539,48,529,48,696,101,686,101,678,93,678,83,678,73,686,65,696,65,706,65,714,73,714,83,714,93,706,101,696,101,929,91,919,91,911,83,911,73,911,63,919,55,929,55,939,55,947,63,947,73,947,83,939,91,929,91]}],["0000ff",{F:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),C:[66,122,56,122,48,114,48,104,48,94,56,86,66,86,76,86,84,94,84,104,84,114,76,122,66,122,309,55,299,55,291,47,291,37,291,27,299,19,309,19,319,19,327,27,327,37,327,47,319,55,309,55,785,180,775,180,767,172,767,162,767,152,775,144,785,144,795,144,803,152,803,162,803,172,795,180,785,180,459,147,449,147,441,139,441,129,441,119,449,111,459,111,469,111,477,119,477,129,477,139,469,147,459,147,811,48,801,48,793,40,793,30,793,20,801,12,811,12,821,12,829,20,829,30,829,40,821,48,811,48]}],["88a500",{F:["M","C","C","Z"],C:[389,224,389,224,410,230,410,230,410,230,389,224,389,224]}]]},{zK:"1101-1-strips",wP:[["ffc88c",{F:"M L L L L Z M L L L L Z M L L L L Z".split(" "),C:[-40,0,44,0,137,99,53,99,-40,0,296,0,380,0,473,99,389,99,296,0,632,0,716,0,809,99,725,99,632,0]}],["88a500",{F:"M L L L L Z M L L L L Z M L L L L Z".split(" "),C:[128,0,212,0,305,99,221,99,128,0,464,0,548,0,641,99,557,99,464,0,800,0,884,0,977,99,893,99,800,0]}],["88a500",{F:["M","C","C","Z"],C:[407,217,407,217,428,223,428,223,428,223,407,217,407,217]}]]},{zK:"1101-1-circs",wP:[["ec7272",{F:"M C C C C Z M C C C C Z".split(" "),C:[61,209,27,209,0,181,0,147,0,113,27,86,61,86,96,86,123,113,123,147,123,181,96,209,61,209,551,209,517,209,489,181,489,147,489,113,517,86,551,86,585,86,612,113,612,147,612,181,585,209,551,209]}],["217995",{F:"M C C C C Z M C C C C Z".split(" "),C:[303,209,269,209,241,181,241,147,241,113,269,86,303,86,337,86,364,113,364,147,364,181,337,209,303,209,799,209,765,209,738,181,738,147,738,113,765,86,799,86,834,86,861,113,861,147,861,181,834,209,799,209]}],["88a500",{F:["M","C","C","Z"],C:[530,273,530,273,551,279,551,279,551,279,530,273,530,273]}]]},{zK:"1101-1-squares",wP:[["014ea7",{F:"M L L L L Z M L L L L Z".split(" "),C:[0,120,124,120,124,244,0,244,0,120,497,120,621,120,621,244,497,244,497,120]}],["fc54ff",{F:"M L L L L Z M L L L L Z".split(" "),C:[249,120,373,120,373,244,249,244,249,120,746,120,870,120,870,244,746,244,746,120]}],["88a500",{F:["M","C","C","Z"],C:[389,354,389,354,410,360,410,360,410,360,389,354,389,354]}]]},{zK:"1101-0-christmas",wP:[["014ea7",{F:"M C C C C Z M C C C C Z M L L L L Z".split(" "),C:[255,480,178,480,116,418,116,341,116,264,178,202,255,202,332,202,394,264,394,341,394,418,332,480,255,480,255,232,236,232,221,217,221,198,221,179,236,164,255,164,274,164,289,179,289,198,289,217,274,232,255,232,251,-152,260,-152,260,248,251,248,251,-152]}],["ff9518",{F:"M C C C C Z M C C C C Z M L L L L Z".split(" "),C:[746,623,669,623,607,561,607,484,607,407,669,345,746,345,823,345,885,407,885,484,885,561,823,623,746,623,747,376,728,376,713,361,713,342,713,323,728,308,747,308,766,308,781,323,781,342,781,361,766,376,747,376,742,-8,751,-8,751,392,742,392,742,-8]}]]}];
var ef={};ef.parse=function(_){var n=new Uint8Array(_),O=null;if(n[0]==80&&n[1]==75){var l=Date.now(),x=UZIP.parse(n.buffer),O=x["document.json"];
O=JSON.parse(R.hm(O,0,O.length));ef.lO(O,x)}else{var t=c3.parse(_);O=ef.a7h(t[2][0][1])}return O};ef.lO=function(_,n){var O=typeof _;
if(O=="string"||O=="number"||O=="boolean")return _;if(_ instanceof Array){for(var m=0;m<_.length;m++)_[m]=ef.lO(_[m],n);
return _}var l=_._class;if(l==null)return _;if(l=="MSJSONFileReference"){var x=_._ref;if(!1){}else if(n[x+".json"]!=null){var t=n[x+".json"],h=t.length;
for(var m=0;m<h;m++)if(t[m]==11||t[m]==3)t[m]=32;var V=R.hm(t,0,h);_=JSON.parse(V)}else if(n[x+".png"]!=null)return{key:x.split("/").pop(),bdata:n[x+".png"]};
else if(n[x+".jpg"]!=null)return{key:x.split("/").pop(),bdata:n[x+".jpg"]};else if(n[x+".pdf"]!=null)return{key:x.split("/").pop(),bdata:n[x+".pdf"]};
else if(n[x]!=null)return{key:x.split("/").pop(),bdata:n[x]};else{console.log(_,n);return}}else if(l=="MSAttributedString"){var V=atob(_.archivedAttributedString._archive),y=V.length-1,r=new Uint8Array(y);
for(var m=0;m<y;m++)r[m]=V.charCodeAt(m);_.archivedAttributedString=ef.a7h(r)}for(var E in _)_[E]=ef.lO(_[E],n);
return _};ef.adM=function(_,n,O,l){if(_ instanceof Uint8Array)return null;if(l.indexOf(_)!=-1)return null;
l.push(_);if(_==n)return O;for(var x in _){O.push(x);var t=ef.adM(_[x],n,O,l);if(t){console.log(_,t);
throw"e"}O.pop()}};ef.a7h=function(_){var n=hA.parse(_,0),O=n.$objects,l=new Uint8Array(O.length),x=ef.M6(O,l,n.$top.root);
for(var m=0;m<O.length;m++)if(l[m]==0&&m!=0){console.log(m,O[m]);ef.adM(x,m,[],[])}for(var m=0;m<O.length;
m++){var t=O[m];if(t._class&&(t._class=="bitmap"||t._class=="fill"&&t.fillType==4&&(t.image||t.imageSHA))){var h=t.image,V=t.imageSHA,y=null,r=null;
if(h=="$null")h=null;if(V=="$null")V=null;if(h&&h.data){r=h.sha1["NS.bytes"];r=btoa(R.c$(r,0,r.length));
y=h.data instanceof Uint8Array?h.data:h.data["NS.bytes"]}else if(h==null&&V==null){var E=dx.Jv("PNG").QI([[Q.Q(4).buffer]],1,1);
y=new Uint8Array(E)}else{var a=(x.assets?x.assets.imageCollection:x.images).images;if(V)r=V instanceof Uint8Array?V:V["NS.bytes"];
else r=h.sha1["NS.bytes"];r=btoa(R.c$(r,0,r.length));var y=a[r].data;if(y["NS.bytes"])y=y["NS.bytes"]}y=new Uint8Array(y.buffer.slice(y.byteOffset,y.byteOffset+y.length));
delete t.imageSHA;t.image={key:r,bdata:y}}}return x};ef.avf=function(_){return _.slice(0,11)=="MSImmutable"?"MS"+_.slice(11):_};
ef.M6=function(_,n,O){var l=_[O];if(n[O]==1){return l}n[O]=1;if(typeof l=="string")return l;if(typeof l=="number")return l;
if(typeof l=="boolean")return l;if(l instanceof Array)return l;if(l instanceof Uint8Array){return l}if(_[l.$class]==null){if(l.$class==null&&l["NS.data"]!=null)return l;
console.log(O,l);throw"e"}var x=_[l.$class],t=ef.avf(x.$classname);n[l.$class]=1;l.$class=t;if(ef.ayf[t]){delete l.$class;
l._class=ef.ayf[t]}var h=ef.M6;if(t=="NSMutableArray"||t=="NSArray"){var V=[];if(l["NS.objects"]!=null)for(var m=0;
m<l["NS.objects"].length;m++)V.push(h(_,n,l["NS.objects"][m]));else for(var m=0;l["NS.object."+m]!=null;
m++)V.push(h(_,n,l["NS.object."+m]));_[O]=V;return V}if(t=="NSDictionary"||t=="NSMutableDictionary"){var y={$class:t};
if(l["NS.keys"]!=null)for(var m=0;m<l["NS.keys"].length;m++){var r=h(_,n,l["NS.keys"][m]);if(r instanceof Uint8Array)r=btoa(ef.BR.c$(r,0,r.length));
else if(typeof r!="string"&&typeof r!="number")r=btoa(ef.BR.c$(r["NS.bytes"],0,r["NS.bytes"].length));
y[r]=h(_,n,l["NS.objects"][m])}else for(var m=0;l["NS.key."+m]!=null;m++){var r=h(_,n,l["NS.key."+m]);
if(r instanceof Uint8Array)r=btoa(ef.BR.c$(r,0,r.length));else if(typeof r!="string"&&typeof r!="number")r=btoa(ef.BR.c$(r["NS.bytes"],0,r["NS.bytes"].length));
y[r]=h(_,n,l["NS.object."+m])}for(var E in l)delete l[E];for(var E in y)l[E]=y[E];return l}if(t=="NSURL")return{$class:t,base:h(_,n,l["NS.base"]),relative:h(_,n,l["NS.relative"])};
if(ef.aaq.indexOf(t)!=-1){_[O]=h(_,n,l.array_do);return _[O]}if(l.do_objectID!=null)l.do_objectID=h(_,n,l.do_objectID);
if(ef.aeR.indexOf(t)!=-1)return l;var a=ef.ajS[t];if(a==null){console.log(_,l);throw"unknown class "+t}for(var m=0;
m<a.length;m++)if(l[a[m]]!=null)l[a[m]]=h(_,n,l[a[m]]);if(t=="MSTextLayer"){var S=l,e,P,b,T;if(S.attributedString)e=S.attributedString.archivedAttributedString;
else e=S.storage;T=e.NSString;if(typeof T!="string")T=R.hm(T["NS.bytes"],0,T["NS.bytes"].length);if(e.NSAttributeInfo)P=e.NSAttributeInfo["NS.bytes"];
else{var C=T.length,Z=[];while(C>0){var W=Math.min(100,C);Z.push(W,0);C-=W}P=new Uint8Array(Z)}b=e.NSAttributes instanceof Array?e.NSAttributes:[e.NSAttributes];
var s={$class:"NSAttributedString",NSString:T,NSAttributes:b};S.attributedString={_class:"MSAttributedString",archivedAttributedString:s};
s.NSAttributeInfo={$class:"NSMutableData","NS.data":P};delete S.storage}return l};ef.BR={Pr:function(_,n){return _[n+1]<<8|_[n]},v:function(_,n){return _[n+3]<<24|_[n+2]<<16|_[n+1]<<8|_[n]},c$:function(_,n,O){var l="";
for(var m=0;m<O;m++)l+=String.fromCharCode(_[n+m]);return l}};ef.ayf={MSPage:"page",MSArtboardGroup:"artboard",MSShapeGroup:"shapeGroup",MSLayerGroup:"group",MSBitmapLayer:"bitmap",MSTextLayer:"text",MSSliceLayer:"slice",MSSymbolMaster:"symbolMaster",MSSymbolInstance:"symbolInstance",MSStyleFill:"fill",MSShapePathLayer:"shapePath",MSRectangleShape:"rectangle",MSOvalShape:"oval",MSTriangleShape:"triangle"};
ef.aaq=["MSArray","MSFillStyleCollection","MSBorderStyleCollection","MSShadowStyleCollection","MSInnerShadowStyleCollection"];
ef.aeR="MSArchivedColor MSLayoutGrid MSSimpleGrid MSColor MSRect MSStyleColorControls MSGraphicsContextSettings NSMutableString NSMutableData NSDecimalNumberPlaceholder MSStyleReflection".split(" ");
ef.ajS={MSAssetCollection:["gradients","colors","imageCollection","images"],MSImageCollection:["images"],MSSharedStyleContainer:["objects"],MSSharedTextStyleContainer:["objects"],MSSharedLayerStyleContainer:["objects"],MSSharedLayerTextStyleContainer:["objects"],MSSharedLayerContainer:["objects"],MSSymbolContainer:["objects"],MSGradient:["stops","from","to","points"],MSGradientStop:["color"],MSStyleFill:["color","gradient","contextSettings","image","imageSHA"],MSExportFormat:["fileFormat","name"],MSExportOptions:["exportFormats","includedLayerIds","sizes"],MSRulerData:["guides"],MSStyle:"textStyle fills contextSettings sharedObjectID borders blur shadows innerShadows borderOptions colorControls reflection".split(" "),MSSharedStyle:["name","value"],MSSymbol:["name","value"],MSAttributedString:["archivedAttributedString"],MSSharedLayerStyle:["name","value","instances"],MSSharedLayer:["name","value","instances"],MSDocumentData:"assets layerStyles pages layerTextStyles layerSymbols images userInfo".split(" "),MSShapePathLayer:"exportOptions frame name userInfo path originalObjectID".split(" "),MSOvalShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSRectangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSPolygonShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSTriangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSStarShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSBitmapLayer:"exportOptions frame name userInfo style imageSHA nineSliceCenterRect nineSliceScale image clippingMask originalObjectID".split(" "),MSTextLayer:"exportOptions frame name userInfo style originalObjectID attributedString glyphBounds storage".split(" "),MSShapeGroup:"exportOptions frame name userInfo style originalObjectID layers".split(" "),MSLayerGroup:"exportOptions frame name userInfo style originalObjectID layers sharedObjectID".split(" "),MSArtboardGroup:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid backgroundColor".split(" "),MSPage:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid scrollOrigin".split(" "),MSSymbolMaster:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid originalObjectID symbolID backgroundColor".split(" "),MSSymbolInstance:"exportOptions frame name userInfo style symbolID overrides masterInfluenceBounds originalObjectID".split(" "),MSSliceLayer:["exportOptions","frame","name","userInfo","backgroundColor"],MSTextStyle:["attributes","encodedAttributes"],MSShapePath:["points"],MSPointArray:["points"],MSImageData:["data","sha1","name"],MSCurvePoint:["curveFrom","curveTo","point"],MSImageProxy:["sha1"],MSStyleBorder:["color","gradient","contextSettings"],MSStyleBlur:["center"],MSStyleShadow:["color","contextSettings"],MSStyleInnerShadow:["color","contextSettings"],MSExportSize:["format","name"],MSStyleBorderOptions:["dashPattern"],NSFont:["NSName","NSDescriptor"],NSColor:["NSCustomColorSpace"],NSFontDescriptor:["NSFontDescriptorAttributes"],NSMutableParagraphStyle:["NSTextBlocks","NSTabStops","NSTextLists"],NSAttributedString:["NSAttributes","NSString","NSAttributeInfo"],NSTextStorage:["NSAttributeInfo","NSAttributes","NSString"],NSColorSpace:["NSICC"],NSParagraphStyle:["NSTabStops","NSTextBlocks","NSTextLists"],NSTextList:["NSMarkerFormat"],NSTextTab:["NSTabOptions"],UIFontDescriptor:["UIFontDescriptorAttributes"]};
var hA={};hA.parse=function(_,n){var O=R.c$(_,n,8);n+=8;var l=hA.parse.a73(_,_.length-31),x=[];if(l.md==1){var n=_.length-31-l.md*l.QT;
for(var m=0;m<l.QT;m++)x.push(_[n+m])}else if(l.md==2){var n=_.length-31-l.md*l.QT;for(var m=0;m<l.QT;
m++)x.push(R.Pr(_,n+m*2))}else if(l.md==4){var n=_.length-31-l.md*l.QT;for(var m=0;m<l.QT;m++)x.push(R.v(_,n+m*4))}else{throw"e"}var t=hA.parse.M6(_,x,l.root,l);
return t};hA.parse.M6=function(_,n,O,l){var x=hA.BR,t=l.ac0,h=t==4?x.v:t==2?x.Pr:x.ajk,V=hA.parse,y=n[O],r=_[y],E=r>>4,a=r&15,e=null;
y+=1;if([4,5,6,10,12,13].indexOf(E)!=-1&&a==15){var S=V.aH(_,y);y+=S.mY;a=S.h}if(!1){}else if(E==0)e=a==8?!1:a==9?!0:null;
else if(E==1)e=V.aH(_,y-1).h;else if(E==2)e=1<<a==4?R.mA(_,y):R.eq(_,y);else if(E==3)e=R.eq(_,y);else if(E==4)e=new Uint8Array(_.buffer,y,a);
else if(E==5)e=R.c$(_,y,a);else if(E==6)e=R.XX(_,y,a);else if(E==8){e=0;for(var m=0;m<a+1;m++)e=e<<8|_[y+m]}else if(E==10){e=[];
for(var m=0;m<a;m++)e.push(V.M6(_,n,h(_,y+t*m),l))}else if(E==12){e=[];for(var m=0;m<a;m++)e.push(V.M6(_,n,h(_,y+t*m),l))}else if(E==13){e={};
for(var m=0;m<a;m++){var P=V.M6(_,n,h(_,y+t*m),l),b=V.M6(_,n,h(_,y+t*(a+m)),l);e[P]=b}}else throw"unknown mask "+E;
return e};hA.parse.aH=function(_,n){var O=1<<(_[n]&15),l=0;for(var m=0;m<O;m++)l=l<<8|_[n+1+m];return{h:l,mY:O+1}};
hA.parse.a73=function(_,n){var O={};n+=6;O.md=_[n];n++;O.ac0=_[n];n++;n+=4;O.QT=R.v(_,n);n+=4;n+=4;O.root=R.v(_,n);
n+=4;n+=4;O.acd=R.v(_,n);n+=4;return O};hA.BR={ajk:function(_,n){return _[n]},Pr:function(_,n){return _[n]<<8|_[n+1]},v:function(_,n){return _[n]<<24|_[n+1]<<16|_[n+2]<<8|_[n+3]},c$:function(_,n,O){var l="";
for(var m=0;m<O;m++)l+=String.fromCharCode(_[n+m]);return l}};var c3={parse:function(_){var n=new Uint8Array(_),O=c3.u4(n),l=[],x=new Uint8Array(n.length),t=[];
l.push(t);c3._7(n,O,1,x,t);for(var m=0;m<t.length;m++){var h=[];l.push(h);c3._7(n,O,t[m][3],x,h);t[m][3]=m+1}return l},_7:function(_,n,O,l,x){O--;
var t=O*n.B3+(O==0?100:0),h=_[t],V=c3.Pr(_,t+1);if(V!=0)throw"free block in a page";var y=c3.Pr(_,t+3),r=c3.Pr(_,t+5);
if(r==0)r=65536;var E=_[t+7],a=c3.Pr(_,t+8);if(h==2||h==5)t+=4;else a=0;for(var S=0;S<y;S++){var e=O*n.B3+c3.Pr(_,t+8+2*S),P=-1,b=0,T=0,C=0;
if(h==2||h==5){P=c3.v(_,e);e+=4}if(h==2||h==10||h==13){b=c3.sq(_,e);e+=b.mY}if(h==5||h==13){T=c3.sq(_,e);
e+=T.mY}if(h==5){c3._7(_,n,P,l,x);continue}var Z=n.B3-(O==0?100:0),W=b.As,s=h==13?Z-35:Math.floor((Z-12)*64/255)-23,f=Math.floor((Z-12)*32/255)-23,q=f+(W-f)%(Z-4);
if(W<=s){c3.Jt(_,e,l,0,W)}else{var g=q<=s?q:f,i=0;c3.Jt(_,e,l,0,g);i+=g;C=c3.v(_,e+g);while(C!=0){var u=(C-1)*n.B3;
C=c3.v(_,u);var I=Math.min(n.B3-4,W-i);c3.Jt(_,u+4,l,i,I);i+=I}}x.push(c3.at$(l,W))}},at$:function(_,n){var O=0,l=c3.sq(_,O);
O+=l.mY;var x=[],t=[];while(O<l.As){var h=c3.sq(_,O);O+=h.mY;x.push(h.As)}if(O!=l.As)throw"e";for(var m=0;
m<x.length;m++){var h=x[m];if(!1){}else if(h==0)t.push(null);else if(h==1){t.push(c3.awY(_,O));O+=1}else if(h==2){t.push(c3.X1(_,O));
O+=2}else if(h==3){t.push(c3.ak5(_,O));O+=3}else if(h==4){t.push(c3.aH(_,O));O+=4}else if(h==7){t.push(c3.a7B(_,O));
O+=16}else if(h==8)t.push(0);else if(h==9)t.push(1);else if(h>=12&&(h&1)==0){var V=h-13>>1,y=new Uint8Array(V);
c3.Jt(_,O,y,0,V);t.push(y);O+=V}else if(h>=13&&(h&1)==1){var V=h-12>>1;t.push(c3.hm(_,O,V));O+=V}else throw"unknonw type "+h}return t},u4:function(_){if(!(_[18]==1&&_[19]==1&&_[20]==0&&_[21]==64&&_[22]==32&&_[23]==32))throw"unexpected SQL3 header";
var n={EH:c3.c$(_,0,15),B3:c3.Pr(_,16),alP:c3.v(_,24),size:c3.v(_,28),arb:c3.v(_,32),avj:c3.v(_,36),aav:c3.v(_,40),ajh:c3.v(_,44),agY:c3.v(_,48),asL:c3.v(_,52),awV:c3.v(_,56),aqN:c3.v(_,60),at9:c3.v(_,64)!=0,aua:c3.v(_,68),atz:c3.v(_,92),a3e:c3.v(_,96)};
if(n.B3==1)n.B3=65536;if(n.awV!=1)throw"unsupported text encoding "+n.awV;return n},asn:function(_,n){return _[n]<<16|_[n+1]<<8|_[n+2]},ak5:function(_,n){var O=c3.asn(_,n),l=O&8388608;
return l?-(16777215-O+1):O},awY:function(_,n){c3.$$[0]=_[n];return c3.a6T[0]},aH:function(_,n){var O=c3.$$;
for(var m=0;m<4;m++)O[m]=_[n+3-m];return c3.ac2[0]},X1:function(_,n){var O=c3.$$;O[0]=_[n+1];O[1]=_[n];
return c3.acG[0]},Pr:function(_,n){return _[n]<<8|_[n+1]},v:function(_,n){return _[n]<<24|_[n+1]<<16|_[n+2]<<8|_[n+3]},a7B:function(_,n){var O=c3.$$;
for(var m=0;m<8;m++)O[m]=_[n+7-m];return c3.atW[0]},sq:function(_,n){var O=n,ab=0;while(!0){var l=_[n];
n++;ab=ab*128+(l&127);if(l<128)break}return{As:ab,mY:n-O}},c$:function(_,n,O){var l="";for(var m=0;m<O;
m++)l+=String.fromCharCode(_[n+m]);return l},hm:function(_,n,O){var l="";for(var m=0;m<O;m++)l+="%"+c3.axx(_[n+m].toString(16));
return decodeURIComponent(l)},Jt:function(_,n,O,l,x){if(_[n+x-1]==null||O[l+x-1]==null){console.log(n,l,x);
throw"e"}for(var m=0;m<x;m++)O[l+m]=_[n+m]},axx:function(ab){return ab.length<2?"0"+ab:ab}};c3.$$=new Uint8Array(8);
c3.a6T=new Int8Array(c3.$$.buffer);c3.acG=new Int16Array(c3.$$.buffer);c3.ac2=new Int32Array(c3.$$.buffer);
c3.atW=new Float64Array(c3.$$.buffer);function i6(_,n,O){this.JP=_;this.So=n;this.anQ=O;this._w=new aW(0,0);
this.JV=-1;this.tH=0;this.kE=0;this.xa=new a8;this.Yn=[];this.Gy=null;this.a6Q=null;this.XA=null;this.q0=null;
this.sZ=null;this.a3J=null}i6.prototype.StartPage=function(_,n,O,l,x){var t=this.So,h=t.Sn(),V=1,y=(O-_)*(l-n);
if(x!=null)y=x;while(y*h*h/(V*V)>2*8192*8192)V++;t.scale(1/V,1/V);this.a6Q=[_,n,O,l];var V=t.Sn();_=Math.round(_*V);
n=Math.round(n*V);O=Math.round(O*V);l=Math.round(l*V);var r=this.JP,E=this.XA;if(E==null){t.Wk=-_}else{var a=E[2]-E[0]+30,S=Math.round(O-_)+30;
if(this._w.x+a+S>8192){t.Wk=-_;this._w.x=0;this._w.y+=this.kE+120;this.kE=0}else{t.Wk+=a;this._w.x+=a}}t.d7=this._w.y+(this.anQ?l:-n);
this.kE=Math.max(this.kE,Math.round(l-n));this.XA=[_,n,O,l];this.amx=[];r.B.push(r.y9())};i6.prototype.StartTGroup=function(_){this.JC();
var n=this.JP;n.B.push(n.y9());var O=i6.TE[_.bmode];if(O==null)O="norm";var l=n.Ni();l.iA("<Group>");
l.add.lsct=bN.GV;l.to=O=="norm"?"pass":O;l.FQ=24;l.opacity=Math.round(255*_.ca);this.amx.push(l)};i6.prototype.EndTGroup=function(){this.JP.B.push(this.amx.pop())};
i6.prototype.a2y=function(){var _=this.JP,n=_.B[_.B.length-1];return n};i6.prototype.ahB=function(){var _=JSON.parse(JSON.stringify(aF.eo.default));
_.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter";_.strokeEnabled.v=!1;
_.fillEnabled.v=!1;return _};i6.prototype.a9H=function(){var _=this.JP,n=_.Ni();n.iA("Path "+_.B.length);
this.JP.B.push(n);n.FQ|=16;n.add.SoCo={classID:"null",Clr:{t:"Objc",v:Q.N.YS({o:0,J:0,k:0})}};n.add.vmsk=new v.ez;
n.add.vstk=this.ahB();return n};i6.prototype.uV=function(_){var n={C:_.crds,F:_.cmds},O=Q.p.mg(n,!1);
Q.M.qp(O,this.So);return O};i6.acj=function(_,n){for(var m=0;m<_.length;m++)if(_[m].wM!=null)_[m].wM=n};
i6.axY=function(_){return Math.sqrt(Math.abs(_[0]*_[3]-_[1]*_[2]))};i6.Oa=function(_){return Q.N.YS({o:_[0]*255,J:_[1]*255,k:_[2]*255})};
i6.Tp=function(_){return new aY(_[0],_[1],_[2],_[3],_[4],_[5])};i6.prototype.Stroke=function(_){if(this.JV!=-1&&this.JV!=this.tH)return;
if(_.pth.cmds.length<=1)return;var n=this.uV(_.pth);if(n.length<=2)return;this.tx(_);i6.acj(n,-1);n[2].wM=1;
var O=i6.Oa(_.COLR),l=this.a2y(),x=this.ahB();i6.kI(x,_,this.So.Sn(),O);var t=l!=null&&l.add.vmsk!=null&&!l.kx(),h=t&&!l.add.vstk.strokeEnabled.v&&v.ez.a0O(l.add.vmsk.i,n,!0),V=t&&!l.add.vstk.fillEnabled.v&&JSON.stringify(x)==JSON.stringify(l.add.vstk);
if(V){l.add.vmsk.i=l.add.vmsk.i.concat(n.slice(2))}else if(h){l.add.vstk=x;x.fillEnabled.v=!0}else{l=this.a9H();
l.add.vmsk.i=n;l.add.vstk=x}};i6.kI=function(_,n,O,l){_.strokeEnabled.v=!0;_.strokeStyleMiterLimit.v=n.mlimit;
_.strokeStyleLineDashSet.v=fW.Vu(n.dash,1/n.lwidth);_.strokeStyleLineDashOffset.v.val=n.doff;_.strokeStyleLineJoinType.v.strokeStyleLineJoinType=aF.eo.join[n.ljoin];
_.strokeStyleLineCapType.v.strokeStyleLineCapType=aF.eo.vl[n.lcap];_.strokeStyleLineWidth.v.val=Math.max(.4,n.lwidth*i6.axY(n.ctm)*O);
_.strokeStyleContent.v.Clr.v=l};i6.prototype.Fill=function(_,n){if(this.JV!=-1&&this.JV!=this.tH)return;
if(_.ca==0)return;var O=_.pth.cmds;if(O.length==0)return;if(O.length==2&&JSON.stringify(O)=="[\"M\",\"L\"]")return;
var l=Q.p.Vx(_.pth.crds),x=Q.p.Vx(_.cpth.crds);if(l.v6(x).wk())return;var t=_.pth,h=UDOC.G.isBox(t,[l.x,l.y,l.x+l.a,l.y+l.n]),V=_.cpth,y=UDOC.G.isBox(V,[x.x,x.y,x.x+x.a,x.y+x.n]);
if(h&&y&&l.O()>x.O()*2){var r=l.v6(x),E=r.x,a=r.y,S=E+r.a,e=a+r.n;t={cmds:["M","L","L","L","Z"],crds:[E,a,S,a,S,e,E,e]};
l=r}else if(this.q0==null&&UDOC.G.isBox(t,[l.x,l.y,l.x+l.a,l.y+l.n])&&l.rz(x)){t=V;l=x}else this.tx(_);
var P=this.uV(t),b=Q.p.ta(l);Q.p.D(b.C,this.So,b.C);l=Q.p.Vx(b.C);var T=i6.a7d(_.colr,this.So,l),C=this.a2y(),Z=C!=null&&C.opacity==Math.round(255*_.ca)&&C.add.vstk!=null&&!C.add.vstk.strokeEnabled.v&&C.add.SoCo&&T.type=="SoFi"&&JSON.stringify(C.add.SoCo.Clr.v)==JSON.stringify(T.h.v.Clr.v);
if(Z){var W=!1;for(var m=0;m<P.length;m++){if(P[m].wM==0||P[m].wM==2)W=!0}if(W){var s=Q.p.Vx(Q.M.On(C.add.vmsk.i)),f=Q.p.Vx(Q.M.On(P));
Z=s.v6(f).wk()}}if(Z){var q=C.add.vmsk.i;for(var m=2;m<P.length;m++)q.push(P[m])}else{C=this.a9H();delete C.add.SoCo;
C.add.vmsk.i=v.ez.qD(P);i6.Yg(_.colr,C,this.So,l);i6.awF(_,C)}};i6.Yg=function(_,n,O,l){var x=i6.a7d(_,O,l),t=null,h=null;
n.add.vstk.fillEnabled.v=!0;if(x.type=="SoFi"){t="SoCo";h=aF.M4}if(x.type=="GrFl"){t="GdFl";h=aF.Em}if(x.type=="patternFill"){t="PtFl";
h=aF.Vy}if(t!=null){n.add[t]={classID:"null"};for(var m=0;m<h.length;m++){var V=h[m];n.add[t][V]=x.h.v[V]}}};
i6.prototype.tx=function(_){var n=this.JP,O=_.cpth,l=O.cmds.join(""),x=O.crds,t=l+" "+x.join(","),h=UDOC.G.isBox(O,this.a6Q);
if(h&&this.q0==null)return;if(t==this.q0)return;this.JC();if(!h){this.q0=t;n.B.push(n.y9());var V=n.Ni();
V.iA("Mask");V.add.lsct=bN.SE;V.to="pass";V.FQ=24;var y=V.add.vmsk=new v.ez;y.i=this.uV(_.cpth);if(UDOC.G.isBox(O)){this.sZ=Q.M.OY(y.i);
this.sZ.nQ(3,3)}else this.sZ=null;this.a3J=V}};i6.prototype.JC=function(){var _=this.JP;if(this.q0!=null){var n=_.B.length-1,m=n,O=!1;
while(m>=0&&_.B[m].add.lsct!=bN.eg)m--;var l=this.sZ;if(l){var x=new a8,t=n;while(t>m){x=_.B[t].Kr(this.JP,!1,!0);
t--}O=l.rz(x)}if(O){this.Yn.splice(m,1);_.B.splice(m,1)}else{_.B.push(this.a3J)}this.q0=null}};i6.a7d=function(_,n,O){var l,x;
if(_.length!=null){l="SoFi";var t=JSON.parse(aF._v[aF.order.indexOf("SoFi")]);x={t:"Objc",v:t};x.v.Clr.v=i6.Oa(_)}else{var h=i6.a3P(_,n,O);
l="GrFl";x={t:"Objc",v:h}}return{type:l,h:x}};i6.a3P=function(_,n,O){var l=JSON.parse(aF._v[aF.order.indexOf("GrFl")]),x=l.Grad.v;
x.Intr.v=0;var t=i6.Tp(_.mat);t.concat(n);var h=new aW(0,0),V=new aW(O.a,0),y=_.crds;if(_.typ=="rad"){l.Type.v.GrdT="Rdl";
var r=.7;h.x=(1-r)*y[0]+r*y[3];h.y=(1-r)*y[1]+r*y[4];V.x=h.x;V.y=h.y;V.x+=Math.max(y[2],y[5])}else{l.Type.v.GrdT="Lnr";
h.x=y[0];h.y=y[1];V.x=y[2];V.y=y[3];h.x=V.x+.5*(h.x-V.x);h.y=V.y+.5*(h.y-V.y)}h=t.uz(h);V=t.uz(V);Q.N.u0(h,V,O,l);
var E=_.grad;Q.N.bi(E,x);return l};i6.prototype.PutText=function(_,n,O,l){var x=n.charCodeAt(0),e=null;
if(this.JV!=-1&&this.JV!=this.tH)return;if(n.length==0||n.length==1&&(x==0||x==8203))return;this.tx(_);
var t=this.JP,h=_.font,V=Math.round(255*_.ca);if(_.font.Tmode==3)V=0;var y=i6.Tp(_.ctm);y.concat(this.So);
var r=i6.Tp(h.Tm);r.concat(y);var E=r.Sn(),a=new aY(1/E,0,0,-1/E,0,0);a.concat(r);var S=h.Tfs*E,P=t.B.length-1;
while(P>=0&&t.B[P].add.TySh==null)P--;if(a.k*a.k+a.av*a.av<.001&&l==null&&P>=0&&t.B[P].add.TySh&&t.B[P].opacity==V){var b=t.B[P],T=this.Yn[P],C=b.add.TySh.D,Z=(C.Wk+T.oW-a.Wk)/S,W=Math.abs(Z),s=n.indexOf(" ")==-1,f=C.EX==a.EX&&C.k==a.k&&C.av==a.av&&C.c5==a.c5,q=f&&Math.abs(T.i_-a.d7)<1e-5&&W<.6,g=a.d7-T.i_;
if(q){e=b;T.oW=a.Wk-C.Wk;if(Z>.2&&s&&[".",",","?",":","!"].indexOf(n)==-1)n=" "+n}else if(f&&Math.abs(a.Wk-C.Wk)<1e-5&&0<g&&g<S*1.7&&T.adz==S){e=b;
this.adG(T);T.i_=a.d7;n="\n"+n}}if(e==null){P=t.B.length;this.Yn[P]={Dh:[],oW:0,i_:a.d7,Zo:"",adz:S};
e=t.Ni();t.B.push(e);e.add.lnsr="rend";e.add.TySh=b$.Jw(0,0);e.add.TySh.D=a}var T=this.Yn[P];T.oW+=O*S;
T.Zo+=n;var i=e.add.TySh.m1,u=b$.om(i);if(l){b$.EQ(i,1);var I=[0,0,Math.ceil(l[0]*E),Math.ceil(l[1]*E)];
b$.IU(i,I)}var Y=u.length-1,U=Y+n.length;b$.qS(i,Y,n);if(this.Gy==null)this.Gy=b$.QN(i,Y,Y);var F=this.Gy;
F.oM.FontSize=Math.round(S);F.oM.Tracking=Math.round(h.Tc*100);F.oM.Underline=h.Tun==1;F.oM.FillColor={Type:1,Values:[1,_.colr[0],_.colr[1],_.colr[2]]};
if(h.Tal!=null)F.G1.Justification=h.Tal;if(T.Dh.length!=0){F.oM.AutoLeading=!1;F.oM.Leading=T.i_-T.Dh[T.Dh.length-1].y}var N=h.Tf;
N=N.replace(/#2B/g,"+");N=N.replace(/#2C/g,"-");N=N.split("+").pop();var o={"NimbusRomNo9L-Medi":"NimbusRomNo9L-Med","NimbusRomNo9L-Regu":"NimbusRomNo9L-Reg","NimbusRomNo9L-MediItal":"NimbusRomNo9L-MedIta","NimbusRomNo9L-ReguItal":"NimbusRomNo9L-RegIta",CMTT9:"NimbusMono-Regular",Arial:"ArialMT","BebasNeue-Regular":"BebasNeueRegular"};
if(o[N])N=o[N];b$.Wu(F,N);b$.gD(i,Y,U-1,F);e.lb();e.opacity=V};i6.prototype.adG=function(_){_.Dh.push({Qc:_.oW,Rv:_.Zo.slice(_.Dh.length==0?0:1)+"\n",y:_.i_,yj:_.adz});
_.oW=0;_.Zo=""};i6.prototype.hL=function(_,n,O){return new Uint8Array(dx.Jv("PNG").QI([[_.buffer,0]],n,O))};
i6.prototype.PutImage=function(_,n,O,l,x,t,h){if(this.JV!=-1&&this.JV!=this.tH)return;var V=this.JP,y=_.font.Tmode;
if(y==7&&V.B[V.B.length-1].add.TySh){return}this.tx(_);var r=i6.Tp(_.ctm);r.concat(this.So);var E=new aY(1/O,0,0,-1/l,0,1);
E.concat(r);r=E;n=i6.arm(n,O,l,t,!1);if(x)x=i6.arm(x,O,l,h,!0);if(x==null){if(n.length==O*l*4)n=this.hL(n,O,l)}else{n=this.a1h(n,O,l,t,!1);
x=this.a1h(x,O,l,h,!0);var a=Q.Q(O*l);Q.nV(x,a,0);Q.$c(a,n,3);n=this.hL(n,O,l)}var S=V.zk(n,"Bitmap",0,0),e=S.rect.clone();
e.x=e.y=0;var P=Q.p.ta(e).C;Q.p.D(P,r,P);S.add.SoLd.Trnf=D.D6.X6(P);S.add.SoLd.nonAffineTransform=D.D6.X6(P);
S.Ga(V,!1);i6.awF(_,S);V.B.push(S)};i6.awF=function(_,n){n.opacity=Math.round(255*_.ca);var O=i6.TE[_.bmode];
if(O==null)console.log("Unknown blend mode",O);else n.to=O};i6.TE={"/Normal":"norm","/Multiply":"mul ","/Screen":"scrn","/Overlay":"over","/Darken":"dark","/Lighten":"lite","/ColorDodge":"div ","/ColorBurn":"idiv","/HardLight":"hLit","/SoftLight":"sLit","/Difference":"diff","/Exclusion":"smud","/Hue":"hue ","/Saturation":"sat ","/Color":"colr","/Luminosity":"lum "};
i6.ahG=function(_){if(_=="pass")_="norm";for(var n in i6.TE)if(i6.TE[n]==_)return n};i6.arm=function(_,n,O,l,x){var t=dx.N_(_.buffer);
if(t=="jpg"){try{_=new Uint8Array(dx.Jv("JPG").auv(_.buffer))}catch(hU){_=new Uint8Array(n*O*4)}}else if(t=="jb2"){_=new Uint8Array(dx.Jv("JPG").Xd(_.buffer,l,x)[0].data)}else if(_.length!=n*O*4){var h=new Uint8Array(n*O*4),V=Math.ceil(n/8),y=new Uint8Array(O*V);
UTIF.decode._decodeG4(_,0,_.length,y,0,n,1);var r=y[0]==(x?255:0);for(var E=0;E<O;E++){var a=V*E;for(var S=0;
S<n;S++){var m=E*n+S,e=m*4,P=(y[a+(S>>3)]>>7-(S&7)&1)*255;if(r)P=255-P;h[e]=P;h[e+1]=P;h[e+2]=P;h[e+3]=255}}_=h}return _};
i6.prototype.a1h=function(_,n,O,l,x){if(_.length!=n*O*4){var t=dx.N_(_.buffer);if(t=="jb2")throw"e";
var h=dx.Jv(t);if(h==null||t=="tga")h=dx.Jv("jpg");_=new Uint8Array(h.Xd(_,l,x)[0].data)}return _};i6.prototype.ShowPage=function(){var _=this.JP;
this.tH++;var n=this.XA;this.JC();var O=_.Ni();_.B.push(O);var l=new a8(Math.round(this._w.x),Math.round(this._w.y),Math.round(n[2]-n[0]),Math.round(n[3]-n[1]));
if(l.wk())l.a=l.n=2e3;this.xa=this.xa.uG(l);O.C_(l);O.add.artb.artboardBackgroundType.v=1;O.iA("Page "+this.tH);
O.add.lsct=bN.SE;O.to="pass";O.FQ=24};i6.prototype.Print=function(_){console.log("Print:",_)};i6.prototype.Done=function(){var _=this.JP;
if(this.tH==1)_.B[_.B.length-1].add.lsct=bN.GV;_.GN(this.tH);for(var m=0;m<_.B.length;m++){var n=_.B[m],O=n.add.vmsk,l=n.add.TySh,x=this.Yn[m];
n.W0();if(O){var t=!1;for(var h=0;h<O.i.length;h++){var V=O.i[h];if((V.type==0||V.type==3)&&V.length>32767)t=!0}if(t){_.B.splice(m,1);
m--;continue}}n.bf(_);if(l&&x&&x.Dh.length!=0){this.adG(x);var y=l.m1,r=x.Dh.length,E=x.Dh[0],a=0,S=0;
for(var h=0;h<r;h++)a=Math.max(a,x.Dh[h].Qc);b$.EQ(y,1);l.D.d7-=E.yj*.7;b$.IU(y,[0,0,Math.ceil(a*1.1),Math.ceil(x.Dh[r-1].y-E.y+E.yj*2)])}if(l){var y=l.m1;
b$.ahc(y);var e=b$.om(y).split("\n");for(var h=0;h<e.length-1;h++){var P=e[h],b=0;for(var T=0;T<P.length;
T++){var C=P.charCodeAt(T);if(1473<=C&&C<=1524)b++}if(b>P.length/2){e[h]=P.split("").reverse().join("");
var Z=y.EngineDict.ParagraphRun.RunArray[h].ParagraphSheet.Properties;Z._Direction=1;Z.Justification=b$.Ir(Z)}}b$.iV(y,e.join("\n"))}}_.Gl=!0;
_.a=this.xa.a;_.n=this.xa.n;_.buffer=Q.Q(this.xa.O()*4)};var jP={};jP.ii=null;jP.QR=function(_,n,O,l,x,t){if(x==null)x=_.a;
if(t==null)t=_.n;jP.ii=_;var h=!1,V=[_.root],y=_.root.children;if(_.add.artd){h=!0;for(var m=0;m<y.length;
m++)if(y[m].j.add.artb==null)h=!1;if(h)V=y}var r=new a8(0,0,_.a,_.n),E=n[0];E=E.replace(/,/g," ").replace(/\-/g," - ").replace(/  +/g," ").trim();
E=E.split(" ");var a=[];for(var m=0;m<E.length;m++){var S=E[m];if(S=="-"){var e=a.pop(),P=parseInt(E[m+1]);
while(e<P){a.push(e);e++}}else a.push(parseInt(S))}E=a;for(var m=0;m<E.length;m++)if(isNaN(E[m])||E[m]<1||E[m]>V.length){E.splice(m,1);
m--}var b=x/_.a,T=t/_.n,C=b*72/_.pa,Z=T*72/_.pa,W=n[5];if(W==null)W=0;var s=72*W,f=72*W;for(var q=0;
q<V.length;q++){var m=q;if(n[2])m=V.length-1-q;if(E.length!=0&&E.indexOf(m+1)==-1)continue;var g=V[m],i=h?g.j.DM():r;
if(!g.j.Pn())continue;var u=Math.round(i.a*C+2*s),I=Math.round(i.n*Z+2*f);O.StartPage(0,0,u,I);var Y=UDOC.getState(),U=new aY;
U.translate(-i.x,-i.y-i.n);U.scale(C,-Z);U.translate(s,f);if(h){var F=g.j.add.artb,N=F.artboardBackgroundType.v;
if(N!=1&&N!=3){var o=g.j.pn(),X=s*C,J=f*Z,c=X+i.a*C,p=J+i.n*Z;Y.colr=[(o>>>0&255)/255,(o>>>8&255)/255,(o>>>16&255)/255];
Y.pth={cmds:["M","L","L","L","Z"],crds:[X,J,c,J,c,p,X,p]};O.Fill(Y)}}if(n[3]){var d=_.Cs();if(!r.yO(i)){d=Q.Q(i.O()*4);
Q.zw(_.Cs(),r,d,i)}var k=_.IF();if(k)ICC.U.applyLUT(k[_.add.fcmy==1?5:3],k[2],d,d);if(n[1]!=100){var A=dx.Jv("JPG").QI([[d.buffer]],i.a,i.n,[n[1]]);
d=new Uint8Array(A)}var $=new aY;$.translate(i.x,i.y);jP.Ld(Y,O,d,i,$,U)}else{jP.afW(_,g,Y,O,U,n,l);
if(s!=0){var X=s,J=f,c=X+i.a,p=J+i.n,K=c+s,G=p+s;Y.ca=1;Y.colr=[1,1,1];Y.pth={cmds:"M L L L Z M L L L Z".split(" "),crds:[0,0,0,G,K,G,K,0,X,J,c,J,c,p,X,p]};
O.Fill(Y)}}O.ShowPage()}O.Done();jP.ii=null};jP.Pe=function(_){_=Q.N.JU(_);return[_.o/255,_.J/255,_.k/255]};
jP.afW=function(_,n,O,l,x,t,h){var V=n.j,y=V.add.lsct,r=V.add.lmfx,E=V.add.vmsk,a=V.add.vstk,S=V.add.TySh,C,Z,Y;
if(!V.Pn())return;var e=V.opacity/255,P=V.add.iOpa!=null?V.add.iOpa/255:1;O.bmode=i6.ahG(V.to);var b=O.ca;
O.ca=O.CA=e*P;var T=r;if(T)T=T.solidFillMulti.v[0];if(T)T=T.v;if(T&&!T.enab.v)T=null;var W=V.rect;if(V.yG()&&(!V.kx()||V.Fy&&V.Fy.MI)){if(V.kx()){C=V.Fy.MI;
W=V.Fy.aqy}else{C=Q.Q(V.rect.O());Q.nV(V.buffer,C,3)}Z=fW.R$(r,V.add.fxrp,C,W,_,W).type;var s=["DrSh","OrGl"];
if(P!=1||a&&!a.fillEnabled.v){var f=C.slice(0);Q.sJ(f);for(var m=0;m<s.length;m++){var q=Z[s[m]];for(var g=0;
g<q.length;g++){var i=q[g],u=i.NV.clone();u.x+=W.x;u.y+=W.y;Q.Eg(f,W,i.sw,u)}}}}if(Z)jP.a3Q(V,C,W,Z,O,l,x,t,!0);
var I=fW.ann(V,!1);if(I){l.StartTGroup(O);Y=O;O=UDOC.getState()}var U=E&&!V.uq();if(U){var F=Q.p.qN(E.i,!1),N=F.SD;
Q.p.D(N.C,x,N.C);O.cpth={cmds:N.F,crds:N.C}}if(V.kx()){for(var m=0;m<n.children.length;m++)jP.afW(_,n.children[m],O,l,x,t,h)}else if(E&&V.uq()&&V.add.PtFl==null){var o=E.i,X=Q.M.OY(o),J=!1;
if(a.fillEnabled.v){var c=fW.nn(r,V.add),p=c[0],d=c[1];O.colr=jP.SN(p?p:d,x,X);J=!0}var k=fW.kd(r);if(!a.strokeEnabled.v&&k)a=k;
var F=Q.p.qN(o,a.strokeEnabled.v),N=F.SD;Q.p.D(N.C,x,N.C);O.pth={cmds:N.F,crds:N.C};jP.aph(l,O,J,a,x,X,F.xF!=0)}else if(S&&t[4]){var A=S.m1,$=new hf(A,h),N=a$._F($,S),K=Q.p.OD(N),G=fW.kd(r);
for(var z in K){var M=parseInt(z.slice(1,7),16),hl=0;O.colr=T?jP.Pe(T.Clr.v):jP.a4G(M);var j=K[z];Q.p.D(j.C,x,j.C);
j=Q.p.auJ(j);O.pth={cmds:j.F,crds:j.C};var a=G;if(z.length>7){a=JSON.parse(JSON.stringify(aF.eo.default));
var w=z.slice(7).split("-"),M=parseInt(w[1].slice(1),16),B=jP.a4G(M);a.strokeEnabled.v=!0;a.strokeStyleLineWidth.v.val=parseFloat(w[2]);
a.strokeStyleContent.v.Clr.v=T?T.Clr.v:Q.N.YS({o:B[0]*255,J:B[1]*255,k:B[2]*255});a.strokeStyleMiterLimit.v=parseFloat(w[2])}jP.aph(l,O,!0,a,x,null,!1)}}else if(S){var A=JSON.parse(JSON.stringify(S.m1));
b$.ahc(A);var bB=S.D.clone(),bG=new aY(1,0,0,-1,0,0);bG.concat(bB);bG.concat(x);var eb=b$.om(A),$=new hf(A,h);
for(var m=0;m<$.G1.length;m++){var fe=$.G1[m];if(fe.a5.length==1&&fe.a5[0].Uu)continue;for(var g=0;g<fe.H4.length;
g++){var gB=fe.H4[g],hp=fe.PU.y+gB.PU.y,g6=fe.a5[gB.start].start,by=fe.a5[gB.end-1].end,e7=b$.apN(A,g6,by);
for(var aN=0;aN<e7.length;aN++){var jK=$.p_(g6),f7=e7[aN],hW=b$.QN(A,g6,g6),km=hW.ZP[hW.oM.Font].Name;
O.font.Tf=km;var z=b$.JU(hW.oM.FillColor);O.colr=T?jP.Pe(T.Clr.v):[z.o/255,z.J/255,z.k/255];var ca=O.font.Tfs=Math.round(hW.oM.FontSize),aU=eb.slice(g6,g6+f7);
if(hW.oM.FontCaps==2)aU=aU.toUpperCase();var eJ=new aY;eJ.translate(jK.Sm.x,-hp);eJ.concat(bG);O.ctm=[eJ.EX,eJ.k,eJ.av,eJ.c5,eJ.Wk,eJ.d7];
l.PutText(O,aU,0);for(var am=0;am<2;am++){var eA=hW.oM[am==0?"Strikethrough":"Underline"];if(!eA)continue;
var dj=$.p_(g6+f7-1),cM=am==0?.27:-.2,b2=ca*cM,cm=ca*(cM+.07),hl=dj.Sm.x+dj.Sm.a-jK.Sm.x,az=[0,b2,hl,b2,hl,cm,0,cm];
Q.p.D(az,eJ,az);O.pth={cmds:["M","L","L","L","Z"],crds:az};l.Fill(O)}O.ctm=[1,0,0,1,0,0];g6+=f7}}}}else if(!V.rect.wk()){var j_,gs,c0=!1,ay=new aY,fC=V.add.SoLd,jQ=!0;
if(fC)jQ=Q.r.PB(Q.r.pI(D.D6.Zz(fC.Trnf)));var fw=_.IF();if(fC&&jQ&&fw==null){var aG=fC.Idnt.v,a_=_.Fe(aG,fC.Crop?fC.Crop.v:null),jn="";
if(a_==null)return;var el=a_.lf,dD=dx.N_(a_.raw.buffer);if(t[6].indexOf(dD)!=-1){j_=a_.raw;c0=!0}else j_=el[0];
gs=el[1];ay=Q.r.tf(fC)}else{j_=V.buffer;gs=V.rect;ay.translate(gs.x,gs.y);if(fw){j_=j_.slice(0);ICC.U.applyLUT(fw[_.add.fcmy==1?5:3],fw[2],j_,j_)}}if(T&&!c0)j_=fW.aut(j_,T,gs);
jP.Ld(O,l,j_,gs,ay,x);if(T&&c0){var az=[0,0,gs.a,0,gs.a,gs.n,0,gs.n];Q.p.D(az,ay,az);Q.p.D(az,x,az);
var af=JSON.parse(JSON.stringify(O));af.ca=T.Opct.v.val/100;af.pth={cmds:["M","L","L","L","Z"],crds:az};
af.colr=jP.Pe(T.Clr.v);l.Fill(af)}}if(U)O.cpth=null;if(I){l.EndTGroup();O=Y}O.ca=O.CA=b;if(Z)jP.a3Q(V,C,W,Z,O,l,x,t,!1)};
jP.aph=function(_,n,O,l,x,t,h){var V=!1,y=0,r=0;if(l&&l.strokeEnabled.v){var E=l.strokeStyleContent.v,a=l.strokeStyleLineDashSet.v;
y=aF.eo._R.indexOf(l.strokeStyleLineAlignment.v.strokeStyleLineAlignment);n.COLR=jP.SN(E,x,t);r=l.strokeStyleLineWidth.v.val*x.Sn();
n.mlimit=l.strokeStyleMiterLimit.v*x.Sn();n.doff=l.strokeStyleLineDashOffset.v.val;n.ljoin=aF.eo.join.indexOf(l.strokeStyleLineJoinType.v.strokeStyleLineJoinType);
n.lcap=aF.eo.vl.indexOf(l.strokeStyleLineCapType.v.strokeStyleLineCapType);n.dash=[];for(var m=0;m<a.length;
m++)n.dash.push(a[m].v.val*r);if(n.dash.length==1&&n.dash[0]==0)n.dash=[];V=!0}var e=y==2;if(O&&!e)_.Fill(n,h);
if(V){n.lwidth=r*(y==2?2:1);_.Stroke(n)}if(O&&e)_.Fill(n,h)};jP.a8m=function(_){var n=jP.ii;if(n==null)return _;
var O=n.IF();if(O&&n.add.fcmy){var l=new Uint8Array(4);l[0]=.5+_[0]*255;l[1]=.5+_[1]*255;l[2]=.5+_[2]*255;
ICC.U.applyLUT(O[n.add.fcmy==1?5:3],O[2],l,l);_=[l[0]/255,l[1]/255,l[2]/255]}return _};jP.Pe=function(_){_=Q.N.JU(_);
return jP.a8m([_.o/255,_.J/255,_.k/255])};jP.a4G=function(_){return jP.a8m([(_>>>16&255)/255,(_>>>8&255)/255,(_&255)/255])};
jP.SN=function(_,n,O){if(_.Clr)return jP.Pe(_.Clr.v);var l=_,x=l.Rvrs?l.Rvrs.v:!1,t=l.Type.v.GrdT,h,V=t=="Rdl"||t=="Dmnd"?"rad":"lin",y=Q.N.Q8(l,O),r=n.uz(y[0]),E=n.uz(y[1]);
if(V=="rad")h=[r.x,r.y,0,r.x,r.y,aW.nT(r,E)];else{r.BX(E.x+(r.x-E.x)*2,E.y+(r.y-E.y)*2);h=[r.x,r.y,E.x,E.y]}var a=Q.N._z(l.Grad.v,x);
return{typ:V,mat:[1,0,0,1,0,0],grad:a,crds:h}};jP.a3Q=function(_,n,O,l,x,t,h,V,y){var r=O.clone(),E=n;
if(_.add.TySh&&!V[3]&&!V[4])return;var a=x.ca,S=x.bmode;for(var m=aF.order.length-1;m>=0;m--){var e=aF.order[m];
if(e=="GrFl"||e=="SoFi")continue;if((_.add.vmsk||_.add.TySh)&&e=="FrFX")continue;var P=l[e],b=m>7||e=="FrFX";
if(b!=y)continue;for(var T=0;T<P.length;T++){var C=P[T];if(C.NV==null)C=C.iR?C.iR:C.u$;var Z=C.NV.clone();
Z.offset(r.x,r.y);if(!b){if(!r.rz(Z)){var W=r.uG(Z),s=Q.Q(W.O());Q.pc(E,r,s,W);E=s;r=W}Q.Eg(E,r,C.sw,Z)}if(b&&e=="FrFX"&&C.qd)Q.Eg(C.qd,Z,C.sw,Z);
var f=new aY;f.translate(Z.x,Z.y);x.ca=C.zN;x.bmode=i6.ahG(C.Qf);jP.Ld(x,t,C.sw,Z,f,h)}}x.ca=a;x.bmode=S};
jP.Ld=function(_,n,O,l,x,t){var h=new aY;h.scale(l.a,-l.n);h.translate(0,l.n);h.concat(x);h.concat(t);
_.ctm=[h.EX,h.k,h.av,h.c5,h.Wk,h.d7];n.PutImage(_,O,l.a,l.n);_.ctm=[1,0,0,1,0,0]};var jB={};jB.GQ=function(_){var n=new Uint8Array(_);
return jB.mC(n,0)};jB.mC=function(_,n){var O=R.v,l=R.c$,x={Et:l(_,n,4),R:n+8,size:O(_,n+4)},t=x.Et=="FORM"||x.Et=="LIST"||x.Et=="CAT ";
if(t)x.yz=l(_,n+8,4);if(x.size<0||x.R+x.size>_.length)throw"e";if(t){x.sub=[];n+=12;var h=x.R+x.size;
while(n<h){var V=jB.mC(_,n);x.sub.push(V);n+=8+V.size+(V.size&1)}}return x};var cU={};cU.GQ=function(_,n){var O=new Uint8Array(_);
return cU.mC(O,0,n)};cU.mC=function(_,n,O){var l=R.j0,x=R.c$,t={Et:x(_,n,4),R:n+8,size:l(_,n+4)};if(O&&O[t.size]!=null)t.size=O[t.size];
if(t.Et=="RIFF"||t.Et=="LIST"){t.yz=x(_,n+8,4)}if(t.size<0||t.R+t.size>_.length)throw"e";if(t.Et=="RIFF"||t.Et=="LIST"&&(t.yz!="cmpr"&&t.yz!="stlt")){t.sub=[];
n+=12;var h=t.R+t.size;while(n<h){var V=cU.mC(_,n,O);t.sub.push(V);n+=8+V.size+(V.size&1)}}return t};
var gY=function(){function _(G,z){var M=null;if(G.sub==null)return M;for(var m=0;m<G.sub.length;m++){var hl=G.sub[m];
if(hl.Et==z||hl.yz==z)M=hl}return M}function n(G){if(G==32)return 300;else if(G<49)return 0;else if(G<58)return 100*(G-48);
else if(G<65)return 0;return 100*(G-55)}var O;function l(G,z){var M=new Uint8Array(G);z.Gl=!0;O={};var hl=R.c$(M,0,2);
if(hl=="WL"){alert("Unsupported CDR version")}else{var j,w,B,eb,f7=300,ca=0;if(hl=="PK"){w=UZIP.parse(M);
M=w["content/root.dat"];B=R.hm(w["content/dataFileList.dat"]).split("\n")}j=cU.GQ(M.buffer);console.log(j);
var bB=n(M[11]),bG={data:M,R:0,Ic:bB};bG.ik=bG.Ic<600?16:32;g(M,bG,B,w,j.sub,0);var fe=[];if(w){eb=_(j,"doc ");
x(eb);var gB=j.sub;for(var m=0;m<gB.length;m++)if(gB[m].yz=="page")fe.push(gB[m]);fe=fe.slice(1)}else if(_(j,"cmpr")==null){eb=_(j,"page");
fe.push(eb)}else{var hp=_(j,"cmpr").sub;eb=hp[0];fe=[hp.slice(1)[1]];x(eb)}var g6=_(eb,"mcfg").h,by=g6.aaL,e7=by.x*.1,aN=by.x*fe.length+e7*(fe.length-1),jK=by.y;
f7/=gu.im(new a8(0,0,Math.round(aN*f7),Math.round(jK*f7)),8192*8192);var hW=Math.round(aN*f7),km=Math.round(jK*f7);
z.a=hW;z.n=km;z.buffer=Q.Q(z.a*z.n*4);for(var m=0;m<fe.length;m++){var aU=new aY(f7,0,0,-f7,by.x*f7/2+ca,by.y*f7/2);
t(fe[m],eb,z,aU);var eJ=z.B[z.B.length-1];eJ.C_(new a8(Math.round(ca),0,Math.round(by.x*f7),Math.round(by.y*f7)));
eJ.iA("Page "+(m+1));ca+=by.x*f7+e7*f7}z.GN(fe.length)}}function x(G){var z=_(G,"filt").sub,M=_(G,"otlt").sub,hl=_(G,"fntt");
if(hl)hl=hl.sub;G.Fg={};for(var m=0;m<z.length;m++)G.Fg[z[m].sub[0].h.id]=z[m].sub[0].h;G.BE={};for(var m=0;
m<M.length;m++)G.BE[M[m].h.id]=M[m].h;if(hl){G.fonts={};for(var m=0;m<hl.length;m++)G.fonts[hl[m].h.id]=hl[m].h}}function t(G,z,M,hl){var j=G.yz?G.yz:G.Et,w=_(G,"lgob"),B=_(G,"txsm"),bB=null,bG=null;
if(w){bB=_(w,"trfl");bG=_(w,"loda")}else if(_(G,"lobj"))bG=_(G,"lobj");var eb=bB?bB.sub[0].ha.clone():new aY;
eb.concat(hl);var fe=M.Ni();if(j=="page"||j=="layr"||j=="grp "){fe.iA((j=="page"?"Page":"Group")+" "+M.B.length);
fe.add.lsct=bN.GV;fe.to="pass";fe.FQ=24;var gB=[];if(j=="page")gB=_(G,"gobj").sub;if(j=="layr")gB=G.sub.slice(2);
if(j=="grp ")gB=G.sub.slice(4);if(gB.length==0)return;M.B.push(M.y9());for(var m=gB.length-1;m>=0;m--)t(gB[m],z,M,hl)}else if(j=="obj "&&bG.h&&bG.h.path){var hp,g6;
if(z.Fg){hp=z.Fg[bG.h.aul];g6=z.BE[bG.h.ao3]}if(hp==null)hp=bG.h.aw_;if(g6==null)g6=bG.h.abA;fe=h(M,bG.h.path,hl,eb,hp,g6)}else if(j=="obj "&&B){var by=bG.h.a3X,e7=bG.h.a2C,f7="";
fe.add.TySh=b$.Jw(0,0);var aN=eb.Sn();fe.add.TySh.D.translate(eb.Wk,eb.d7);var jK=fe.add.TySh.m1,hW=B.h.FN;
if(hW==null)return;for(var m=0;m<hW.length;m++){var km=hW[m],ca=f7.length;f7+=km.text+"\n";b$.qS(jK,ca,km.text+"\n");
var aU=V(km.a5R,z),eJ=aU.asO,am=z.fonts[eJ.aqw],eA=b$.QN(jK,ca,f7.length);if(aU.align==3)eA.G1.Justification=1;
else if(aU.align==2)eA.G1.Justification=2;else eA.G1.Justification=0;var dj=aU.fill.h;if(am.Tn)b$.Wu(eA,am.Tn);
eA.oM.FillColor={Type:1,Values:[1,dj[0],dj[1],dj[2]]};eA.oM.FontSize=Math.round(eJ.fontSize*hl.Sn());
b$.gD(jK,ca,f7.length-1,eA)}if(e7){b$.EQ(jK,0)}else{b$.EQ(jK,1);b$.IU(jK,[0,0,Math.round(by.x*eb.EX),Math.round(-by.y*eb.c5)])}fe.iA(f7.slice(0,10))}else{fe=null}if(fe)M.B.push(fe)}function h(G,z,M,hl,j,w){var B=G.Ni();
B.iA("Object "+G.B.length);B.FQ|=16;B.add.vstk=JSON.parse(JSON.stringify(aF.eo.default));var bB=B.add.vstk;
bB.strokeEnabled.v=!1;B.add.vmsk=new v.ez;B.add.vmsk.i=Q.p.mg(z,!1);Q.M.qp(B.add.vmsk.i,hl);var bG=j&&j.type!=0,eb=bG&&j.h!=null?j.h:[0,0,0];
i6.Yg(eb,B,hl,Q.M.OY(B.add.vmsk.i));bB.fillEnabled.v=bG;if(w&&w.ayv!=1){bB.strokeEnabled.v=!0;bB.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter";
var fe=bB.strokeStyleLineWidth.v.val=w.lineWidth*M.Sn(),gB=w.color;bB.strokeStyleContent.v.Clr.v=Q.N.YS({o:gB[0]*255,J:gB[1]*255,k:gB[2]*255});
if(w.I4.length!=0)bB.strokeStyleLineDashSet.v=fW.Vu(w.I4,4/fe);var hp=w.a8b,g6=w.ayW;if(g6!=0){var by=z.C,m=by.length-4,e7=by[m],aN=by[m+1],jK=by[m+2],f7=by[m+3],hW=new aY;
hW.scale(.15,.15);hW.rotate(-Math.PI/2+Math.atan2(f7-aN,-(jK-e7)));hW.translate(jK,f7);hW.concat(hl);
var km=h(G,O[g6],M,hW,gB,null);G.B.push(km)}}B.W0();B.bf(G);return B}function V(G,z){var M=_(z,"stlt").h,hl=JSON.parse(JSON.stringify(M.xB[G]));
if(hl.HS!=0){var j=M.xB[hl.HS];for(var w in j)if(hl[w]==null||hl[w]==0)hl[w]=j[w];delete hl.HS}hl.align=M.aoQ[hl.asc];
hl.fill=z.Fg[M.aiz[hl.aik]];hl.ahg=z.BE[M.aa8[hl.aho]];hl.asO=M.aj$[hl.a42];return hl}function y(m){var ab=m.data[m.R];
m.R+=1;return ab}function r(m){var ab=R.HZ(m.data,m.R);m.R+=2;return ab}function E(m){var ab=R.j0(m.data,m.R);
m.R+=4;return ab}function a(m){var ab=R.j0(m.data,m.R);m.R+=8;return ab}function S(m){var ab=R.hS(m.data,m.R);
m.R+=2;return ab}function e(m){var ab=R.OI(m.data,m.R);m.R+=4;return ab}function P(m){var ab=R.lc(m.data,m.R);
m.R+=8;return ab}function b(m){if(m.R>=m.data.length)throw"e";var G=0;while(m.data[m.R+G]!=0)G++;var z=R.c$(m.data,m.R,G);
m.R+=G+1;return z}function T(m){var G="";while(!0){var z=r(m);if(z==0)break;G+=String.fromCharCode(z)}return G}function C(G){var z=E(G),M=(z&4294901760)>>>16,hl=(z&65535)/65535;
return M+hl}function Z(G){if(G.Ic<600)return Math.PI*S(G)/1800;return Math.PI*e(G)/18e7}function W(G){if(G.Ic<1500)return s(G);
else return P(G)/254e3}function s(G){if(G.Ic<600)return S(G)/1e3;else return e(G)/254e3}function f(G){if(G.Ic<600)return r(G);
else return E(G)}function q(G){if(G.Ic<600)return S(G);else return e(G)}function g(G,z,M,hl,j,w){var B,bB,bG;
for(var eb=0;eb<j.length;eb++){var fe=z.Ic,gB=j[eb];z.data=G;z.R=gB.R+(gB.Et=="LIST"?4:0);if(hl&&gB.sub==null){B=E(z);
bB=E(z);bG=E(z);var hp=r(z);if(hp!=0)throw"e";var g6=r(z);if(g6>32)throw"e";z.R-=16;if(B!=4294967295){z.data=hl["content/data/"+M[B]];
z.R=bG}}if(gB.Et=="vrsn"){if(gB.size==16)z.R+=8;var by=r(z);z.Ic=by;console.log("Version",by);z.ik=by<600?16:32}else if(gB.Et=="DISP"){}else if(gB.Et=="LIST"&&gB.yz=="cmpr"){var e7=E(z),aN=E(z),jK=E(z),f7=E(z),hW=new Uint8Array(z.data.buffer,z.R+8+2,e7-6-8),km=pako.inflateRaw(hW),am=0;
z.R+=e7;hW=new Uint8Array(z.data.buffer,z.R+8+2);var ca=pako.inflateRaw(hW),aU=[];for(var eJ=0;eJ<ca.length;
eJ+=4)aU.push(R.j0(ca,eJ));gB.sub=[];while(am<km.length){var eA=cU.mC(km,am,aU);am=eA.R+eA.size;gB.sub.push(eA)}var dj={data:km,R:0,Ic:fe,ik:z.ik};
g(km,dj,M,hl,gB.sub,w+1)}else if(gB.Et=="LIST"&&gB.yz=="stlt"||gB.Et=="stlt"){if(B==4294967295)return;
var cM=z.R,el=32;gB.h={};var b2=E(z);if(b2==0)return;gB.h.aiz=o(z,fe>=1300);gB.h.aa8=o(z);gB.h.aj$={};
var cm=E(z);for(var m=0;m<cm;m++){var az=E(z);z.R+=fe<1e3?12:20;var j_=r(z),hh=r(z);z.R+=8;var gs=s(z);
z.R+=fe<1e3?12:20;gB.h.aj$[az]={aqw:j_,aiZ:hh,fontSize:gs}}gB.h.aoQ=o(z);var fI=E(z);z.R+=52*fI;var c0=E(z);
z.R+=152*c0;var ay=E(z);z.R+=784*ay;var fC=E(z);for(var m=0;m<fC;m++){z.R+=40;if(fe>1300)z.R+=4;if(fe>=1300){if(E(z))z.R+=68;
else z.R+=12}else{z.R+=20;if(fe>=1e3)z.R+=8;if(E(z))z.R+=8;z.R+=8}}var jQ=E(z);gB.h.a1Z={};for(var m=0;
m<jQ;m++){var fw=E(z),aG={};z.R+=12;aG.right=s(z);aG.ahO=s(z);aG.left=s(z);gB.h.a1Z[fw]=aG}var a_=E(z);
if(fe>=1300)el+=4;z.R+=el*a_;var dD=E(z);z.R+=28*dD;if(fe>800){var ip=E(z);z.R+=12*ip}gB.h.xB={};for(var m=0;
m<b2;m++){var jn=E(z),af=E(z),iU={};iU.HS=E(z);z.R+=8;var hV=E(z);if(fe>=1200)hV*=2;z.R+=hV;iU.aik=E(z);
iU.aho=E(z);if(jn>1){iU.a42=E(z);iU.asc=E(z);iU.a2d=E(z);iU.amB=E(z);if(fe>800)iU.akS=E(z)}if(jn>2){iU.a65=E(z);
iU.anU=E(z);iU.avv=E(z);iU.abX=E(z);iU.a1i=E(z)}gB.h.xB[af]=iU}}else if(gB.Et=="LIST")g(G,z,M,hl,gB.sub,w+1);
else if(gB.Et=="txsm"){gB.h={};if(fe<600)throw"e";if(fe<700)throw"e";if(fe>=1600){gB.h=N(z);return}if(fe>=1500)z.R+=37;
else z.R+=36;if(E(z)){if(fe<800)z.R+=32}if(fe<800)z.R+=4;gB.h.agi=E(z);gB.h.FN=[];z.R+=48;if(fe>=800){if(E(z)){z.R+=32;
if(fe>=1300)z.R+=8}}if(fe>=1500)z.R+=12;var jn=E(z),gn=1,fY=!1;if(!jn){if(fe>=800)z.R+=4;if(fe>800)z.R+=2;
if(fe>=1400)z.R+=2;z.R+=24;if(fe<800)z.R+=8;gn=E(z)}for(var eJ=0;eJ<gn;eJ++){var e1=E(z),m=0;if(fe>=1300&&jn)z.R++;
z.R++;var b2=E(z),d6=[];for(m=0;m<b2;m++){var fO=y(z),gy=0;y(z);var i$=y(z);if(fe>=800)gy=y(z);var iU={};
if(i$&1){iU.aqw=r(z);var fT=r(z);if(fT)iU.alC=fT}if(i$&2)z.R+=4;if(i$&4)iU.aqQ=s(z);if(i$&8)z.R+=4;if(i$&16)z.R+=4;
if(i$&32)z.R+=4;if(i$&64){iU.aik=E(z);if(fe>=1500)z.R+=48}if(i$&128){iU.aho=E(z)}if(gy&8){if(fe>=1300){var kl=E(z);
if(z.R+kl*2>=z.data.length){fY=!0;break}z.R+=kl*2}else z.R+=4}if(gy&32){var fy=y(z);if(fy)z.R+=52}if(fO==2)if(fe>=1300)z.R+=48;
d6.push(iU)}if(fY){break}var g$=E(z);if(z.R+g$*4>z.data.length)break;var bt=[];for(m=0;m<g$;m++){var jL=0;
if(fe>=1200)jL=a(z)&4294967295;else jL=E(z);bt[m]=jL>>16|jL&1}var c_=g$;if(fe>=1200)c_=E(z);var hr=b(z);
gB.h.FN.push({a5R:e1,text:hr,xB:d6})}}else if(gB.Et=="arrw")gB.h=i(z);else if(gB.Et=="font"){var ew=z.R,dL=r(z),cf=r(z),eo="";
z.R+=14;if(z.Ic>=1200)eo=T(z);else eo=b(z);gB.h={id:dL,atm:cf,name:eo};if(hl){var iz=ew+bB;while(z.data[z.R]==0)z.R++;
z.R+=2;var kj=T(z);while(z.data[z.R]==0)z.R++;while(z.data[z.R]<=2)z.R+=4;gB.h.Tn=T(z)}}else if(["IKEY","ICMT","pfrd","bcfg"].indexOf(gB.Et)!=-1){}else if(gB.Et=="flgs")gB.h=E(z);
else if(gB.Et=="bbox"){var hL=s(z),ar=s(z),bD=s(z),jC=s(z);gB.h=new a8(hL,ar,bD-hL,jC-ar)}else if(gB.Et=="fild"){var eu=E(z),eS;
if(fe>=1300)z.R+=8;var gx=r(z);if(gx==0){}else if(gx==1){z.R+=fe>=1300?13:2;eS=$(z)}else if(gx==2){z.R+=fe>=1300?8:2;
var fa=y(z),h6=0;if(fe>=1300){z.R+=17;h6=S(z)}else if(fe>=600){z.R+=19;h6=e(z)}else{z.R+=11;h6=S(z)}var bw=Z(z),bf=.5+q(z),fq=.5+q(z)-.5;
if(fe>=600)z.R+=2;var ia=f(z)&255,gI=y(z)/100;z.R++;var jO=f(z)&65535;if(fe>=1300)z.R+=3;var aq=[];for(var m=0;
m<jO;m++){var kb=$(z);if(fe>=1400)z.R+=26;else if(fe>=1300)z.R+=5;var dB=(f(z)&65535)/100;if(fe>=1300)z.R+=3;
aq.push([dB,kb])}eS={typ:fa==1?"lin":"rad",crds:[bf-Math.cos(bw)/2,fq-Math.sin(bw)/2,bf,fq],grad:aq,mat:[1,0,0,1,0,0]}}else console.log("Unknown fill type",gx);
gB.h={id:eu,type:gx,h:eS}}else if(gB.Et=="outl"){var jk=E(z);if(fe>=1300){var a9=0,dg=0;while(a9!=1){z.R+=dg;
a9=E(z);dg=E(z)}}var jl=r(z),gX=r(z),dl=r(z);if(fe<1300&&fe>=600)z.R+=2;var ij=s(z),bQ=r(z)/100;if(fe>=600)z.R+=2;
var jY=Z(z);if(fe>=1300)z.R+=46;else if(fe>=600)z.R+=52;var eS=$(z);if(fe<600)z.R+=10;else z.R+=16;var he=r(z),e8=z.R,g4=[];
for(var m=0;m<he;++m)g4.push(r(z));if(fe<600)z.R=e8+20;else z.R=e8+22;var gr=E(z),kv=E(z);gB.h={id:jk,ayv:jl,a35:gX,a2n:dl,lineWidth:ij,color:eS,I4:g4,a8b:gr,ayW:kv}}else if(gB.Et=="mcfg"){if(1300<=fe)z.R+=12;
else if(900<=fe)z.R+=4;else if(600<=fe&&fe<700)z.R+=28;var fr=0,ka=0;if(fe<400){z.R+=2;var hL=s(z),ar=s(z),bD=s(z),jC=s(z);
fr=Math.abs(bD-hL);ka=Math.abs(jC-ar)}else{fr=s(z);ka=s(z)}gB.h={aaL:new aW(fr,ka)}}else if(gB.Et=="loda"||gB.Et=="lobj"){var cM=z.R,ff=f(z),is=f(z),cR=f(z),fV=f(z),jZ=f(z),fk=[],aw=[],m=0,e4=null;
z.R=cM+cR;while(m<is)fk[m++]=f(z);z.R=cM+fV;while(m>0)aw[--m]=f(z);gB.h={};for(m=0;m<is;m++){z.R=cM+fk[m];
var iF=aw[m];if(iF==30){if(fe>=400&&jZ==1||fe<400&&jZ==0){gB.h.path=F(z)}else if(fe>=400&&jZ==2||fe<400&&jZ==1){gB.h.path=U(z)}else if(fe>=400&&jZ==3||fe<400&&jZ==2){gB.h.path=p(z)}else if(jZ==37){gB.h.path=c(z)}else if(fe>=400&&jZ==4||fe<400&&jZ==3){gB.h.a2C=X(z)}else if(fe>=400&&jZ==6||fe<400&&jZ==5){gB.h.a3X=J(z)}else console.log(jZ)}else if(iF==20){if(fe<400)gB.h.aw_=I(z);
else gB.h.aul=E(z)}else if(iF==10){if(fe<400)gB.h.abA=Y(z);else gB.h.ao3=E(z)}else if(iF==200)gB.h.a8v=f(z);
else if(iF==100){if(fe<400)e4=u(z)}}if(e4&&gB.h.path)Q.p.D(gB.h.path.C,e4,gB.h.path.C)}else if(gB.Et=="trfd"){var cM=z.R,ff=f(z),is=f(z),cR=f(z);
z.R=cM+cR;var fk=[];for(var m=0;m<is;m++)fk[m]=f(z);for(var m=0;m<is;m++){z.R=cM+fk[m];if(fe>=1300)z.R+=8;
var jc=r(z);if(jc==8){var b0,i1,hL,je,jg,ar;if(fe>=600)z.R+=6;if(fe>=500){b0=P(z);i1=P(z);hL=P(z)/(fe<600?1e3:254e3);
je=P(z);jg=P(z);ar=P(z)/(fe<600?1e3:254e3)}else throw"e";gB.ha=new aY(b0,je,i1,jg,hL,ar)}else console.log(jc)}}else if(!1){console.log(gB);
var cW=Math.min(gB.size,32);console.log(R.Nc(G,gB.R,cW));console.log(R.adK(G,gB.R,cW))}}}function i(G){var z=E(G);
G.R+=4;var M=r(G);G.R+=4;var hl=[];for(var j=0;j<M;j++)hl.push(y(G));G.R+=1;var w=[];for(var B=0;B<M;
B++){var bB=[];bB[1]=s(G);bB[0]=s(G);w.push(bB)}var bG=k(w,hl);O[z]=bG}function u(G){var z=0,M=0,hl=0,j=0,w=0,B=0;
if(G.Ic>=300){var bB=G.R;G.R+=10;var bG=f(G);G.R=bB+bG;z=C(G);M=C(G);hl=e(G)/1e3;j=C(G);w=C(G);B=e(G)/1e3}else{hl=s(G);
B=s(G);z=C(G);M=C(G);hl+=C(G)/1e3;j=C(G);w=C(G);B+=C(G)/1e3}return new aY(z,M,j,w,hl,B)}function I(G){var z=y(G);
if(z==0)return null;else if(z==1)return $(G);else console.log(z)}function Y(G){var z=y(G);z<<=1;var M=s(G),hl=r(G)/100,j=Z(G),w=$(G);
return{ayv:z,lineWidth:M,color:w,I4:[],a8b:0,ayW:0}}function U(G){var z=s(G),M=s(G),hl=Z(G),j=Z(G),w=Q.p.cX(Q.M.tm.p6(0,0,z,M));
return w}function F(G){var z=G.Ic,M=W(G),hl=W(G),j=0,w=0,B=0,bB=0,bG=0,eb=1,fe=1;if(z<1500){bB=W(G);
B=z<900?bB:W(G);w=z<900?bB:W(G);j=z<900?bB:W(G)}else{var gB=P(G);if(gB!=0)eb=gB;gB=P(G);if(gB!=0)fe=gB;
var hp=y(G);G.R+=7;if(hp==0){bB=P(G);bG=y(G);G.R+=15;B=P(G);G.R+=16;w=P(G);G.R+=16;j=P(G);var g6=Math.abs(M*eb/2),by=Math.abs(hl*fe/2);
bB*=g6<by?g6:by;B*=g6<by?g6:by;w*=g6<by?g6:by;j*=g6<by?g6:by}else{bB=W(G);bG=y(G);G.R+=15;B=W(G);G.R+=16;
w=W(G);G.R+=16;j=W(G)}}return Q.p.cX(Q.M.tm.Rect(0,0,M,hl,[j,w,B,bB]))}function N(G){var z=E(G),hl=0;
G.R+=37;var M=E(G);for(var m=0;m<M;m++){var j=E(G);hl=j;G.R+=48;var w=E(G);if(w==1)G.R+=12*4;else G.R+=8;
if(!z){G.R+=16;var B=E(G);if(G.Ic>1600)G.R+=B;else G.R+=B*2}}var bB={agi:hl,FN:[]},bG=E(G);for(var eb=0;
eb<bG;eb++){var fe=E(G),eJ="";G.R+=1;if(z)G.R+=1;var gB=E(G);if(G.Ic<1700)gB*=2;var hp=R.c$(G.data,G.R,gB);
G.R+=gB;var g6=E(G);for(var m=0;m<g6;m++){G.R+=2;var by=r(G),e7=r(G);if(e7&4){var aN=E(G);aN*=2;G.R+=aN}if(by||e7&4){var jK=E(G);
if(G.Ic<1700)jK*=2;var f7=R.c$(G.data,G.R,jK);G.R+=jK}}var hW=E(G),km=[];for(var m=0;m<hW;m++){var ca=a(G)&4294967295;
km[m]=ca>>16|ca&1}var aU=E(G);for(var m=0;m<hW;m++){var am=km[m],eA=0;if(am==0||am==2)eA=G.data[G.R++];
else if(am==1||am==3)eA=G.data[G.R++]+G.data[G.R++]*256;else throw am;eJ+=String.fromCharCode(eA)}var dj=eJ.split("\r");
for(var m=0;m<dj.length;m++)bB.FN.push({text:dj[m],a5R:fe,xB:[]})}return bB}function o(G,z){var M={},hl=E(G);
for(var m=0;m<hl;m++){var j=E(G);G.R+=4;var w=E(G);M[j]=w;if(z)G.R+=48}return M}function X(G){var z=s(G),M=s(G);
return new aW(z,M)}function J(G){G.R+=4;var z=s(G),M=s(G);return new aW(z,M)}function c(G){G.R+=4;var z=r(G)+r(G);
G.R+=16;var M=d(G,z);return M}function p(G){var z=r(G);G.R+=2;return d(G,z)}function d(G,z){var M=[],hl=[];
for(var m=0;m<z;m++)M.push([s(G),s(G)]);for(var m=0;m<z;m++)hl.push(y(G));return k(M,hl)}function k(G,z){var M={C:[],F:[]},hl=0,j=0,w=0;
for(var m=0;m<G.length;m++){var hl=G[m][0],j=G[m][1],B=z[m];if(!(B&64)&&!(B&128)){M.C.push(hl,j);M.F.push("M");
w+=2}else if(B&64&&!(B&128)){M.C.push(hl,j);M.F.push("L");w+=2}else if(!(B&64)&&B&128){M.C.push(hl,j);
M.F.push("C");w+=6}else if(B&64&&B&128){M.C.push(hl,j)}}if(w!=M.C.length)throw"e";return M}function A(G,z){var M=R.j0;
z+=8;var hl=M(G,z);z+=4;var j=M(G,z);z+=4;z+=4*7;var w=z,B=Q.Q(hl*j*4);z+=1024;for(var bB=0;bB<j;bB++)for(var bG=0;
bG<hl;bG++){var m=bB*hl+bG,eb=(j-bB-1)*hl+bG,fe=G[z+m]<<2,gB=eb<<2;B[gB+0]=G[w+fe+2];B[gB+1]=G[w+fe+1];
B[gB+2]=G[w+fe+0];B[gB+3]=255}return{sw:B,rect:new a8(0,0,hl,j)}}function $(G){var z=G.Ic,M=0,hl=0,j=0;
if(z>=500){M=r(G);if(M==1&&z>=1300)M=25;if(M==30){M=25;hl=30}else{hl=r(G);G.R+=4}j=E(G)}else if(z>=400)throw"e";
else{M=y(G);j=E(G)}return K(M,hl,j)}function K(G,z,M){var hl=[0,0,0];if(G==2||G==3||G==9||G==17){var j=[M>>>0&255,M>>>8&255,M>>>16&255,M>>>24&255];
if(G==2)for(var m=0;m<4;m++)j[m]=Math.round(255*j[m]/100);for(var m=0;m<4;m++)j[m]/=255;hl=UDOC.C.cmykToRgb(j)}else if(G==1||G==5){hl=[M>>>0&255,M>>>8&255,M>>>16&255];
for(var m=0;m<3;m++)hl[m]=hl[m]/255;if(G==5)hl.reverse()}else console.log("Unknown color model "+G,M,M.toString(16));
return hl}return{GQ:l}}(),jG=function(){var _,n,O=new ArrayBuffer(4),l=new Uint8Array(O),x=new Uint32Array(O),t=new Float32Array(O);
function h(S,e){for(var P=0;P<S.length;P++)if(S[P][0]==e)return S[P]}function V(){var S=0,e=0,P=0;do{P=_[n++];
S|=(P&127)<<e;e+=7}while(P&128&&e<35);return S>>>0}function y(S,e,P,b,T){_=S;n=e;var C=b[0]=="mesg",Z=b[2],W={},s=1,f=C?1e9:Z.length;
while(s<=f){var q=s;if(C){q=V();if(q==0)break}var g=h(Z,q),i=g[2],u=g[1]==1,I=u?V():1,Y=new Array(I);
if(i==3){if(!u)throw"e";Y=_.slice(n,n+I);n+=I}else for(var m=0;m<I;m++){var U;if((i&1)==1){if(i==1)U=_[n++]==1;
else if(i==3)U=_[n++];else if(i==5){var F=V();U=F&1?~(F>>>1):F>>>1}else if(i==7)U=V();else if(i==9){if(_[n]==0){U=0;
n++}else{l[0]=_[n];l[1]=_[n+1];l[2]=_[n+2];l[3]=_[n+3];var N=x[0];x[0]=N<<23|N>>>9;U=t[0];n+=4}}else if(i==11){var o=r(_,n);
U=o[0];n+=o[1]+1}else throw i}else{var X=P[i>>>1];if(X[0]=="enum"){var J=_[n++];if(J>127)throw"e";U=X[2][J]}else{var c=y(_,n,P,X,T+1);
U=c[0];n=c[1]}}Y[m]=U}W[g[3]]=u?Y:Y[0];s++}return[W,n]}function r(S,e){var P=e;while(S[P]!=0)P++;return[R.hm(S,e,P-e),P-e]}function E(S,e){var P=e;
while(S[P]!=0)P++;for(var m=e;m<P;m++)if(S[m]>127)throw"e";return R.c$(S,e,P-e)}function a(S){_=S;n=1;
var e=[];while(n<S.length){var P=n,b=e.length,T=E(S,n);n+=T.length+1;var C=V();if(C>2)throw"e";var Z=V(),W=[];
for(var m=0;m<Z;m++){var s=E(S,n);n+=s.length+1;var f=V(),q=V(),g=V();W.push(C==0?s:[g,q,f,s])}e.push([["enum","strc","mesg"][C],T,W])}return e}return{api:a,agw:y}}();
function aO(){}aO.GQ=function(_,n){var O=new Uint8Array(_),l=8,x=R.j0(O,l),r=0,X=0;l+=4;var t=[];while(l<O.length){var h=R.j0(O,l);
l+=4;var V=O.slice(l,l+h);if(O[l]==137&&O[l+1]==80){}else V=UZIP.inflateRaw(V);t.push(V);l+=h}var y=jG.api(t[0]);
for(var m=0;m<y.length;m++)if(y[m][1]=="Message")r=m;var E=jG.agw(t[1],0,y,y[r],0)[0],a={tD:{},eT:{},afa:{}},S=E.nodeChanges;
for(var e=0;e<S.length;e++){var P=S[e],b=P.guid;a.eT[b.sessionID+","+b.localID]=P}for(var e=0;e<S.length;
e++){var P=S[e],b=P.parentIndex;if(b){var T=aO.V2(a.eT,b.guid);if(T.children==null)T.children=[];T.children.push(P)}}var C=S[0],Z=C.children,W=new a8,s=[],f=[];
for(var b=0;b<Z.length;b++){var q=Z[b],g=q.children;if(q.name=="Internal Only Canvas"||g==null)continue;
var i=new a8;for(var m=0;m<g.length;m++){var u=g[m],I=u.transform,Y=u.size;if(I.m00==1&&I.m10==0&&I.m01==0&&I.m11==1){var U=new a8(I.m02,I.m12,Y.x,Y.y);
i=i.uG(U)}}var F=W.n==0?0:W.n+100,N=i.clone();N.x=0;N.y=F;W=W.uG(N);s[b]=i;f[b]=F}var o=gu.im(new a8(0,0,W.a,W.n),8192*8192);
n.a=Math.round(W.a/o);n.n=Math.round(W.n/o);n.buffer=Q.Q(n.a*n.n*4);for(var b=0;b<Z.length;b++){var q=Z[b],g=q.children;
if(q.name=="Internal Only Canvas"||g==null)continue;g.sort(aO.a71);var J=new aY(1,0,0,1,-s[b].x,f[b]-s[b].y);
J.scale(1/o,1/o);for(var m=0;m<g.length;m++){var u=g[m];aO.Bb(u,[],J,E.blobs,n,0,a);X++}}n.GN(X);n.Gl=!0;
if(o!=1)alert("File scaled down "+o+"x")};aO.Bb=function(_,n,O,l,x,t,h){var V=aO,I=!1,Y,N,o,X;n=JSON.parse(JSON.stringify(n));
var y=_.overrideKey?_.overrideKey:_.guid;for(var m=0;m<n.length;m++){var r=n[m],E=r.guidPath.guids;if(V.a8O(E[0],y)){if(E.length==1){var a={};
for(var S in _)a[S]=r[S]!=null?r[S]:_[S];_=a}else r.guidPath.guids=E.slice(1)}}var e=_.type,P=_.children,b=_.size,T=_.effects,C=x.Ni();
C.iA(_.name);C.ND(_.visible);C.opacity=Math.round(_.opacity*255);var Z=V.Kx(_.transform),W=Z.clone();
W.concat(O);var s=new a8(Math.round(W.Wk),Math.round(W.d7),Math.round(b.x*W.Sn()),Math.round(b.y*W.Sn()));
if(s.a==0||isNaN(s.a))s.a=100;if(s.n==0||isNaN(s.n))s.n=100;var f=_.fillPaints,q=_.inheritFillStyleID;
if(q){var a=V.V2(h.eT,q);if(a)f=a.fillPaints}if(f==null)f=[];var f=V.aoA(f),g=f[0],i=_.strokePaints,q=_.inheritFillStyleIDForStroke;
if(q){var a=V.V2(h.eT,q);if(a)i=a.fillPaints}if(i==null)i=[];var i=V.aoA(i),u="BOOLEAN_OPERATION LINE RECTANGLE ROUNDED_RECTANGLE ELLIPSE VECTOR REGULAR_POLYGON STAR".split(" ").indexOf(e)!=-1;
if(u||e=="FRAME"){Y=new v.ez;V.a3B(_,l,Y);I=Q.M.qu(Y.i);Q.M.qp(Y.i,W);var U=Q.p.tR(Q.M.OY(Y.i));if(!U.wk())s=U;
if(h.tD.W1&&g){var F=v.ez.qD(h.tD.W1.i);for(var m=2;m<F.length;m++)if(F[m].wM!=null)F[m].wM=3;Y.i=Y.i.concat(F.slice(2))}}if(g&&g.type=="IMAGE"){X=g.imageScaleMode;
N=V.Cs(l,g.image.dataBlob);var J=N.n5.a/N.n5.n,c=b.x/b.y;o=Math.abs(J-c)}if(e=="FRAME"){}else if(u&&I&&N&&(X=="FIT"||X=="FILL"&&o<=.05)){var p=l[g.image.dataBlob].bytes,d=x.zk(p,C.getName(),0,0);
d.FQ=C.FQ;d.opacity=C.opacity;C=d;var k=new a8(0,0,b.x,b.y);if(X=="FIT"){var A=N.n5.a,$=N.n5.n,K=Math.min(b.x/A,b.y/$),G=A*K,z=$*K;
k=new a8(k.x+(k.a-G)/2,k.y+(k.n-z)/2,G,z)}var M=Q.p.ta(k).C;Q.p.D(M,W,M);C.add.SoLd.Trnf=D.D6.X6(M);
C.add.SoLd.nonAffineTransform=D.D6.X6(M);var hl=[],T=_.effects,j=g.paintFilter;if(T)for(var m=0;m<T.length;
m++)if(T[m].type=="FOREGROUND_BLUR"){var w=T[m],B=ie.HG("GsnB",{});hl.push(B);B.v.enab.v=w.visible;B.v.Fltr.v.Rds.v.val=w.radius/2.4}if(j&&j.exposure!=0){var B=ie.HG("brit",{});
hl.push(B);B.v.Fltr.v.Brgh.v=Math.round(j.exposure*160);B.v.Fltr.v.useLegacy.v=!0}if(j&&j.vibrance!=0){var B=ie.HG("vibA",{});
hl.push(B);console.log(B);B.v.Fltr.v.Strt.v=Math.round(Math.round(j.vibrance*100))}if(hl.length!=0){C.add.SoLd.filterFX=ie.JH();
x.VS({id:C.add.SoLd.placed.v,rect:new a8,buffer:Q.Q(1),z:new v.Pt});C.add.SoLd.filterFX.v.filterFXList.v=hl}C.Ga(x,!1);
V.a7l(h,C,x)}else if(u){V.a3a(C,Y,_,g,i,W,s,l,x,h);if(T)for(var m=0;m<T.length;m++){var w=T[m];if(w.type!="FOREGROUND_BLUR")continue;
Y.Vw=w.radius/2.4}C.W0();C.bf(x)}else if(e=="TEXT"){var bB=_.textData,bG=bB.layoutSize,eb=["LEFT","RIGHT","CENTER"].indexOf(_.textAlignHorizontal);
C.add.lnsr="rend";C.add.TySh=b$.Jw(0,0);C.add.TySh.T1=new a8(0,0,100,100);var fe=W.clone();C.add.TySh.D=fe;
var gB=C.add.TySh.m1,hp=bB.characters;if(_.textCase=="TITLE"){for(var m=0;m<hp.length;m++)if(m==0||hp[m-1]==" "){var g6=hp.slice(0,m),by=hp.slice(m+1);
hp=g6+hp[m].toUpperCase()+by}}hp=hp.replace(/\u2028/g,"\n");hp=hp.replace(/\u2029/g,"\n");hp=hp.replace(/\r\n/g," \n");
b$.qS(gB,0,hp);var e7=_.textAutoResize,aN=bB.baselines;if(e7=="WIDTH_AND_HEIGHT"){var jK=eb==0?0:eb==1?bG.x:bG.x/2,f7=aN?aN[0].position.y:0;
fe.translate(jK*W.Sn(),f7*W.Sn());b$.EQ(gB,0)}else if(e7=="HEIGHT"||e7=="NONE"||e7==null){var f7=aN?aN[0].position.y-_.fontSize*.7:0;
fe.translate(0,f7*W.Sn());b$.EQ(gB,1);b$.IU(gB,[0,0,Math.round(bG.x),Math.round((e7=="NONE"?1.8:1)*bG.y)])}else throw e7;
if(hp!=""){var hW=b$.QN(gB,0,1);V.awC(_,W,b,hW,C,l,x,h);b$.gD(gB,0,hp.length,hW);var km=bB.characterStyleIDs,ca=bB.styleOverrideTable;
if(km){km=km.slice(0);for(var m=0;m<km.length;m++)if(hp[m]=="\n")km[m]=-m-1;var aU=[0],eJ=0,am=0;for(var m=0;
m<km.length;m++){am++;var eA=km[m];if(m==0||eA==km[m-1]){}else{aU.push(am-1,m);am=1}}aU.push(am);for(var m=0;
m<aU.length;m+=2){var dj=aU[m],cM=aU[m+1];if(hp[dj]=="\n")continue;var eA=km[dj];if(eA!=0){var b2;for(var cm=0;
cm<ca.length;cm++)if(ca[cm].styleID==eA)b2=ca[cm];var hW=b$.QN(gB,dj,dj+1);V.awC(b2,W,b,hW,C,l,x,h);
b$.gD(gB,dj,dj+cM-1,hW)}}}}}else if(e=="SYMBOL"){}else if(e=="INSTANCE"){var az=_.symbolData,j_=az.symbolOverrides,a=V.V2(h.eT,az.symbolID);
if(a)P=a.children;else console.log(_.name,"symbol not found",az.symbolID);n=n.slice(0);for(var m=0;m<j_.length;
m++)n.push(j_[m])}else console.log(e);if(!1){}else if(P&&!u){x.B.push(x.y9());var hh=!1,gs=t==0&&e!="SYMBOL"&&e!="INSTANCE";
if(gs){if(s.wk())console.log(s);C.C_(s)}g=f[f.length-1];if(gs&&g&&g.type=="SOLID"){var fI=g.color;C.add.artb.artboardBackgroundType.v=4;
C.add.artb.Clr=V._0(fI)}else if((g||i[0])&&Y){var c0=x.Ni();c0.iA("Background");V.a3a(c0,Y,_,g,i,W,s,l,x,h);
c0.W0();c0.bf(x);x.B.push(c0);hh=!0}P.sort(V.a71);var ay=h.tD;h.tD={};for(var fC=0;fC<P.length;fC++)V.Bb(P[fC],n,W,l,x,t+1,h);
h.tD=ay;C.add.lsct=!1?bN.GV:bN.SE;C.to="pass";var jQ=C.Pn();C.FQ=24;C.ND(jQ);var fw=t!=0&&f.length!=0&&!_.frameMaskDisabled&&_.containerSupportsFillStrokeAndCorners;
if(!hh&&fw&&Y){C.add.vmsk=Y;C.W0();C.bf(x)}else V.a7l(h,C,x);x.B.push(C)}else if(_.mask){if(Y){h.tD.W1=Y}}else{var aG=[],iU=1;
if(T)for(var a_=0;a_<T.length;a_++){var w=T[a_],el=w.color,dD=w.type,ip=["DROP_SHADOW","INNER_SHADOW"].indexOf(dD);
if(ip!=-1){var jn=["DrSh","IrSh"][ip],af=JSON.parse(aF._v[aF.order.indexOf(jn)]);aG.push([jn,af]);af.enab.v=w.visible;
af.Md.v.BlnM=b3.Aa(V.afS(w.blendMode));af.Opct.v.val=Math.round(100*el.a);af.blur.v.val=Math.round(w.radius*W.Sn());
af.Clr=V._0(el);var jK=w.offset.x,f7=w.offset.y;af.uglg.v=!1;af.lagl.v.val=Math.round(180/Math.PI*Math.atan2(f7,-jK));
af.Dstn.v.val=Math.round(Math.sqrt(jK*jK+f7*f7)*W.Sn())}}if(e=="TEXT"&&f[0]&&f[0].type!="SOLID")iU=0;
for(var m=iU;m<f.length;m++){var hV=f[m],gn=V.SC(_,hV,W,s,l,x,h);if(gn[0]=="GdFl")aG.push(["GrFl",gn[1]]);
else if(gn[0]=="SoCo")aG.push(["SoFi",gn[1]]);else if(gn[0]=="PtFl")aG.push(["patternFill",gn[1]]);else if(gn[0]=="None"){}else throw gn}if(!u)for(var m=0;
m<i.length;m++){var hV=i[m],gn=V.SC(_,hV,W,s,l,x,h);if(gn[0]=="SoCo"){var af=JSON.parse(aF._v[aF.order.indexOf("FrFX")]);
aG.push(["FrFX",af]);af.enab=gn[1].enab;af.Opct=gn[1].Opct;af.Md=gn[1].Md;af.Clr=gn[1].Clr;af.Sz.v.val=_.strokeWeight}}if(aG.length!=0){var fY=JSON.parse(aF.default);
for(var m=0;m<aF.order.length;m++)fY[aF.Ck[m]]={t:"VlLs",v:[]};for(var m=0;m<aG.length;m++){var e1=aG[m],jn=aF.Ck[aF.order.indexOf(e1[0])];
fY[jn].v.unshift({t:"Objc",v:e1[1]})}if(P==null)C.add.lmfx=fY}x.B.push(C)}};aO.a3a=function(_,n,O,l,x,t,h,V,y,r){var E=aO;
_.FQ|=16;_.add.vmsk=n;var a=_.add.vstk=JSON.parse(JSON.stringify(aF.eo.default)),S=E.SC(O,l,t,h,V,y,r);
if(S[0]=="None"){a.fillEnabled.v=!1;_.add.SoCo=S[1]}else{E.ng(S,_);_.add[S[0]]=S[1]}var S=E.SC(O,x[0],t,h,V,y,r);
if(S[0]!="None"){var a=_.add.vstk;a.strokeEnabled.v=!0;a.strokeStyleLineWidth.v.val=O.strokeWeight*t.Sn();
a.strokeStyleLineAlignment.v.strokeStyleLineAlignment=aF.eo._R[["INSIDE","CENTER","OUTSIDE"].indexOf(O.strokeAlign)];
var e={SoCo:"SoFi",GdFl:"GrFl",PtFl:"patternFill"}[S[0]],P=["SoFi","GrFl","patternFill"].indexOf(e),b=[aF.M4,aF.Em,aF.Vy][P];
a.strokeStyleContent.v={classID:aF.eo.yz[0]};var T=O.dashPattern;if(T)a.strokeStyleLineDashSet.v=fW.Vu(T,1/O.strokeWeight);
var C=a.strokeStyleContent.v={classID:aF.eo.yz[P]};for(var m=0;m<b.length;m++)C[b[m]]=S[1][b[m]];if(!a.fillEnabled.v)E.ng(S,_)}};
aO.ng=function(_,n){var O=_[1].Opct.v.val;if(O!=100)n.opacity=Math.round(n.opacity/255*(O/100)*255)};
aO.a71=function(_,n){var O=_.parentIndex.position,l=n.parentIndex.position;return O>l?1:-1};aO.aoA=function(_){for(var m=1;
m<_.length;m++){var n=_[m];if(n.type=="IMAGE"&&n.opacity==1){_=_.slice(m);break}}for(var m=0;m<_.length;
m++){var n=_[m],O=n.imageThumbnail;if(n.type=="IMAGE"&&(n.image==null||n.image.dataBlob==null)&&O&&O.dataBlob)n.image=O;
if(!n.visible||n.type=="IMAGE"&&n.image.dataBlob==null){_.splice(m,1);m--}}return _};aO.a7l=function(_,n,O){if(_.tD.W1){n.add.vmsk=_.tD.W1.clone();
n.W0();n.bf(O)}};aO.awC=function(_,n,O,l,x,t,h,V){var y=_.fontSize,r=_.lineHeight,E=_.fontName,a=_.textAlignHorizontal,S=_.textTracking,e=_.textCase,P=_.textDecoration;
if(y==null)y=l.oM.FontSize;if(E)b$.Wu(l,E.postscript);if(y!=null)l.oM.FontSize=Math.round(y);if(P=="UNDERLINE")l.oM.Underline=!0;
if(S)l.oM.Tracking=Math.round(S*1e3);if(e)l.oM.FontCaps=e=="UPPER"?2:0;if(r&&(r.units!="PERCENT"||r.value!=100)){if(y==null)y=15;
var b=r.value;if(r.units=="PERCENT")b=1*y*b/100;if(r.units=="RAW")b=1*y*b;l.oM.AutoLeading=!1;l.oM.Leading=Math.round(b)}if(a)l.G1.Justification=["LEFT","RIGHT","CENTER"].indexOf(a);
var T=_.fillPaints,C=_.inheritFillStyleID;if(C){var Z=aO.V2(V.eT,C);if(Z)T=Z.fillPaints}if(T&&T[0]){var W=aO.SC(_,T[0],n,O,t,h,V);
if(W[0]=="SoCo"){var s=Q.N.JU(W[1].Clr.v);l.oM.FillColor={Type:1,Values:[1,s.o/255,s.J/255,s.k/255]};
aO.ng(W,x)}}};aO.SC=function(_,n,O,l,x,t,h){var V=aO,y,r,E=_.size;if(n){var a=n.type,S=["GRADIENT_LINEAR","GRADIENT_RADIAL","GRADIENT_DIAMOND","GRADIENT_ANGULAR"].indexOf(a);
if(a=="SOLID"){y="SoCo";var e=n.color;r=JSON.parse(aF._v[aF.order.indexOf("SoFi")]);r.Clr=V._0(e)}else if(S!=-1){var P=JSON.parse(aF._v[aF.order.indexOf("GrFl")]),b=P.Grad.v;
b.Intr.v=0;P.Type.v.GrdT=["Lnr","Rdl","Dmnd","Angl"][S];var T=[],C=n.stops;for(var m=0;m<C.length;m++){var Z=C[m],W=Z.color;
T.push([Z.position,[W.r,W.g,W.b],W.a])}Q.N.bi(T,b);var s=V.Kx(n.transform);s.sJ();var f=s.clone();if(E)f.scale(E.x,E.y);
f.concat(O);var q=new aW(0,.5),g=new aW(1,.5);q=f.uz(q);g=f.uz(g);if(!0){q.x=g.x+.5*(q.x-g.x);q.y=g.y+.5*(q.y-g.y)}Q.N.u0(q,g,l,P);
if(S==3){if(f.EX*f.c5-f.k*f.av<0)P.Rvrs.v=!P.Rvrs.v}y="GdFl";r=P}else if(a=="IMAGE"){var P=JSON.parse(aF._v[aF.order.indexOf("patternFill")]),s=V.Kx(n.transform);
s.sJ();var i=n.image.dataBlob,u=h.afa[i];if(u==null){var I=V.Cs(x,i);u=h.afa[i]={};u.id=fJ.DA()+"-d71c-11e5-b1ae-a548a96e5f9f";
u.vA=[new Uint8Array(I.data),I.n5];if(s.EX<0){var Y=u.vA[0].slice(0);Q.r.WS(Y,u.vA[0],I.n5.a,I.n5.n)}u.name="someImage";
t.Rs(u)}if(s.EX<0)s.EX=-s.EX;var U=["FILL","FIT","STRETCH","TILE"].indexOf(n.imageScaleMode),F=U==3?n.scale:1;
fW.at3(u,P,E.x,E.y,U,O,s,F);y="PtFl";r=P}else throw a;if(r)r.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(n.opacity*100)}}}if(y==null||n.opacity<.001){y="None";
r={classID:"null",Clr:{t:"Objc",v:Q.N.YS({o:0,J:0,k:0})}}}return[y,r]};aO.Cs=function(_,n){var O=_[n];
if(O.rslt)return O.rslt;var l=O.bytes.buffer,x=dx.N_(l),t=dx.Jv(x);try{O.rslt=t.Xd(l)[0]}catch(hU){O.rslt={data:Q.Q(4),n5:new a8(0,0,1,1)}}return O.rslt};
aO.a3B=function(_,n,O){var l=_.type,x=_.size,t=_.cornerRadius,r;if(t==null)t=0;var h=x.x,V=x.y,y=[t,t,t,t],E=["rectangleTopLeftCornerRadius","rectangleTopRightCornerRadius","rectangleBottomRightCornerRadius","rectangleBottomLeftCornerRadius"];
for(var m=0;m<4;m++)if(_[E[m]]!=null)y[m]=_[E[m]];if(l=="RECTANGLE"||l=="ROUNDED_RECTANGLE"||l=="FRAME"){r=Q.M.tm.Rect(0,0,h,V,y)}else if(l=="ELLIPSE"){var a=_.arcData,S=a?a.startingAngle:0,e=a?a.endingAngle:2*Math.PI,P=a?a.innerRadius:0;
if(S==0&&e>1.999*Math.PI)r=Q.M.tm.p6(0,0,h,V,0);else r=Q.M.tm.a0I(h/2,V/2,V/2,S,e);if(P!=0&&P!=1){var b=v.ez.qD(r).slice(3);
b.reverse();for(var m=0;m<b.length;m++){var T=b[m],C=T.lz;T.lz=T.l6;T.l6=C}var Z=new aY;Z.translate(-h/2,-V/2);
Z.scale(P,P);Z.translate(h/2,V/2);Q.M.qp(b,Z);r=r.concat(b);r[2].length*=2}}else if(l=="LINE"){r=Q.M.tm.Rect(0,0,h,V,0);
r.pop();r.pop();r[2].length=2}else if(l=="STAR"){r=Q.M.tm.fD(h/2,V/2,h/2,2*Math.PI*(1/4),5,0,_.starInnerScale)}else if(l=="REGULAR_POLYGON"){r=Q.M.tm.oC(.5,.5,.5,Math.PI/2,_.count,0);
var W=new aY;W.scale(h,V);Q.M.qp(r,W)}else if(l=="BOOLEAN_OPERATION"){r=[{type:6},{type:8,all:0}];var s=_.children,f=["XOR","UNION","SUBTRACT","INTERSECT"].indexOf(_.booleanOperation);
if(f==-1)throw _;if(s==null)s=[];for(var m=0;m<s.length;m++){var q=s[m],g=new v.ez,i=aO.a3B(q,n,g);if(g.i==null)continue;
Q.M.qp(g.i,aO.Kx(q.transform));r=r.concat(g.i.slice(2))}for(var m=3;m<r.length;m++)if(r[m].wM!=null)r[m].wM=f}else if(l=="VECTOR"){var u,I,k=3;
if(!0){var Y=_.vectorData;if(Y==null)return;u=Y.normalizedSize;I=Y.vectorNetworkBlob}var U=n[I].bytes,F=new Uint32Array(U.buffer),N=new Float32Array(U.buffer),o=F[0],X=F[1],J=F[2],c=[],p=[],d=[],A=k+o*3,$=A+X*7;
for(var m=0;m<o;m++){var K=k+m*3,G=new aW(N[K+1],N[K+2]);c.push(G)}for(var m=0;m<X;m++){var z=A+m*7;
p.push([F[z+0],F[z+1],N[z+2],N[z+3],F[z+4],N[z+5],N[z+6]])}for(var m=0;m<J;m++){var M=F[$+1],hl=d[m]=[];
$+=2;for(var j=0;j<M;j++){var w=F[$++],B=hl[j]=[];for(var bB=0;bB<w;bB++)B[bB]=F[$+bB];$+=w}}if($!=F.length)throw"e";
if(J==0){var bG=-1;for(var m=0;m<X;m++){if(bG==-1){}else{var eb=-1;for(var j=m;j<X;j++)if(p[j][4]==bG)eb=j;
for(var j=m;j<X;j++)if(p[j][1]==bG)eb=j;if(eb!=-1){var fe=0,C=p[eb];p[eb]=p[m];p[m]=C;if(C[1]!=bG){fe=C[1];
C[1]=C[4];C[4]=fe;fe=C[2];C[2]=C[5];C[5]=fe;fe=C[3];C[3]=C[6];C[6]=fe}}}bG=p[m][4]}d.push([[]]);for(var m=0;
m<X;m++)d[0][0].push(m)}var gB=[],hp=[];for(var g6=0;g6<d.length;g6++){for(var by=0;by<d[g6].length;
by++){var e7=d[g6][by],aN=0;if(e7.length>1){var jK=p[e7[0]],f7=p[e7[1]];aN=jK[4]==f7[1]?1:0}for(var m=0;
m<e7.length;m++){var hW=p[e7[m]],km=1,aU=4;if(aN==0){km=4;aU=1}var eJ=c[hW[km]],am=c[hW[aU]];if(m==0){hp.push("M");
gB.push(eJ.x,eJ.y)}hp.push("C");gB.push(eJ.x+hW[km+1],eJ.y+hW[km+2],am.x+hW[aU+1],am.y+hW[aU+2],am.x,am.y)}}}r=Q.p.mg({C:gB,F:hp},!1);
if(t!=0){var y=[],eA=r[2].length;for(var m=0;m<eA;m++)y.push(t);if(Q.M.$y(r))Q.M.iI(r,2,y)}var dj=new aY;
dj.scale(u.x==0?1:x.x/u.x,u.y==0?1:x.y/u.y);Q.M.qp(r,dj)}O.i=r};aO.V2=function(_,n){return _[n.sessionID+","+n.localID]};
aO.a8O=function(_,n){return _.sessionID==n.sessionID&&_.localID==n.localID};aO.afS=function(_){var n={NORMAL:"norm",MULTIPLY:"mul ",SCREEN:"scrn",COLOR_DODGE:"div ",COLOR_BURN:"idiv",HARD_LIGHT:"hLit",DARKEN:"dark",LUMINOSITY:"lum ",OVERLAY:"over"}[_];
if(n==null)throw _;return n};aO._0=function(_){return{t:"Objc",v:Q.N.YS({o:_.r*255,J:_.g*255,k:_.b*255})}};
aO.Kx=function(_){var n=[_.m00,_.m10,_.m01,_.m11,_.m02,_.m12];for(var m=0;m<6;m++)if(Math.abs(n[m])<1e-20)n[m]=0;
return new aY(n[0],n[1],n[2],n[3],n[4],n[5])};function jJ(){}jJ.GQ=function(){var _=R.c$;function n(e,P,b,T){var C=T?[]:{};
while(P<e.length-1&&e[P]!=125){var Z=_(e,P,3),W=_(e,P+3,1),s;P+=4;P++;if(W=="v"){var f=n(e,P,b+1,Z=="ELM"||Z=="TIL");
s=f.h;P=f.R}else if(W=="i"||W=="f"){var q=P;while(e[q]!=125)q++;var g=_(e,P,q-P);s=W=="i"?parseInt(g,16):parseFloat(g);
P=q+1}else if(W=="s"){var i=R.Pr(e,P),g="";P+=2;for(var m=0;m<i;m++)g+=String.fromCharCode(e[P+2*m+1]);
s=g;P=P+2*i+1}else if(W=="b"){s=e[P]==49;P=P+2}else throw"e";if(T)C.push([Z,s]);else if(C[Z]==null)C[Z]=s;
else{if(!(C[Z]instanceof Array))C[Z]=[C[Z]];C[Z].push(s)}}P++;return{h:C,R:P}}function O(e,P){var b=l(e).slice(1),e=P.Clr.v;
e.Rd.v=b[0]*255;e.Grn.v=b[1]*255;e.Bl.v=b[2]*255}function l(e){return[(e>>>24&255)/255,(e>>>16&255)/255,(e>>>8&255)/255,(e>>>0&255)/255]}function x(e,P){var b=P&4278190080|(P&255)<<16|(P>>>8&255)<<8|P>>>16&255;
new Uint32Array(e.buffer).fill(b)}function t(e,P){var b=e.TSZ,T=e.WPX,C=e.HPX,Z=e.TIL,W=new a8(0,0,T,C),s=Q.Q(T*C*4),f=0;
for(var q=0;q<C;q+=b)for(var g=0;g<T;g+=b){var i=new a8(g,q,b,b),u,I=Z[f];if(I[0]=="TMC"){u=Q.Q(i.O()*4);
x(u,I[1])}else if(I[0]=="TID"){u=P[I[1]]}Q.zw(u,i,s,W);f++}return[s,W]}function h(e,P){e=new Uint8Array(e);
var b=8,T,C={},X=0;while(b<e.length){var Z=R.v(e,b);b+=4;var W=_(e,b,4);b+=4;if(W=="mkTS"){var s=pako.inflate(e.slice(b,b+Z)),f=n(s,0,0);
T=f.h}else if(W=="mkBT"){var q=R.v(e,b+4),g=R.v(e,b+8),s=pako.inflate(e.slice(b+76,b+Z));if(g==0)for(var m=0;
m<s.length;m+=4){var i=s[m],u=s[m+1],I=s[m+2],Y=s[m+3];s[m+3]=i;s[m+2]=Y;s[m+1]=I;s[m]=u}else{var U=Q.Q(s.length*4);
U.fill(255);Q.X$(s,U);s=U}C[q]=s}b+=Z+4}var F=T.PDC,N=F?F instanceof Array?F:[F]:[T.MKB],o=new a8;for(var m=0;
m<N.length;m++){var J=N[m];o=o.uG(new a8(0,X,J.WID,J.HIT));X+=J.HIT+100}P.a=o.a;P.n=o.n;P.buffer=Q.Q(o.O()*4);
P.GN(N.length);X=0;for(var c=0;c<N.length;c++){P.B.push(P.y9());var J=N[c],p=J.WID,d=J.HIT,k=J.BGC,A=(J.LYL?J:T).LYL.LAY,G=3;
for(var m=0;m<A.length;m++)y(A[m],P,null,C,new aY(1,0,0,1,-J.XLC,-J.YLC+X));var $=P.Ni();P.B.push($);
var K=new a8(0,X,p,d);X+=d+100;$.C_(K);if(k>>>24!=0){var z=Q.N.YS({o:k>>>16&255,J:k>>>8&255,k:k>>>0&255});
$.add.artb.Clr={t:"Objc",v:z};G=4}$.add.artb.artboardBackgroundType.v=G;$.iA(J.PGN?J.PGN:"Page "+(c+1));
$.add.lsct=bN.SE;$.to="pass";$.FQ=24}}function V(e,P,b){var T=e[P];return T instanceof Array?T[b]:T}function y(e,P,b,T,C){var Z=P.Ni();
if(e.VIS!=null)Z.ND(e.VIS);if(e.VIF!=null)Z.ND(e.VIF.VIS);if(e.OPA!=null)Z.opacity=Math.round(255*e.OPA/1e3);
Z.to=e.CLL||b=="GRP"?"pass":"norm";if(e.BLD!=null){var W=e.BLD,s={"0":"norm","2":"mul ","4":"over","5":"scrn","7":"diss","9":"dark","10":"lite","37":"idiv","30":"norm","39":"lbrn","41":"vLit"}[W+""];
if(s==null)console.log(e.OBN,W);else Z.to=s;if(W==30)Z.opacity>>>=1}if(e.CLL){Z.iA(e.LNM);P.B.push(P.y9());
var f=e.CLL.CEL;if(f.length==null)f=[f];for(var q=f.length-1;q>=0;q--){var g=f[q].ELM;for(var m=g.length-1;
m>=0;m--)y(g[m][1],P,g[m][0],T,C)}Z.add.lsct=e.DIS?bN.GV:bN.SE;Z.FQ|=24}else if(b=="GRP"){var i=Z.add.lmfx=E(e.EFL),u;
P.B.push(P.y9());var g=e.ELM;if(e.MNA){u=g[0][1];g=g.slice(1)}Z.iA("Group: "+g.length+" objects");for(var m=g.length-1;
m>=0;m--)y(g[m][1],P,g[m][0],T,C);if(u){if(e.MRX){var I=t(u,T),Y=Z.z=new v.Pt;Y.rect=I[1].clone();Y.rect.x=u.XLC;
Y.rect.y=u.YLC+C.d7;Y.channel=Q.Q(Y.rect.O());Q.nV(I[0],Y.channel,0);Q.sJ(Y.channel)}else{r(Z,u,C);Z.W0();
Z.bf(P)}}Z.add.lsct=bN.SE;Z.FQ|=24}else if(b=="IMG"){Z.iA(e.OBN?e.OBN:"Bitmap");var I=t(e,T);Z.rect=I[1].clone();
Z.rect.x=e.XLC;Z.rect.y=e.YLC+C.d7;Z.buffer=I[0]}else if(b=="TXT"){var U=e.TFS,F=U.TRN instanceof Array?U.TRN.length:1,J="",c="Arial",p=20,d=0;
Z.add.lnsr="rend";Z.add.TySh=b$.Jw(0,0);Z.add.TySh.T1=new a8(0,0,100,100);var N=new aY(1,0,0,1,e.LFT,e.TOP);
if(e.MTX){var o=e.MTX,Y=new aY(o.M00,o.M01,o.M10,o.M11,o.M20,o.M21);N.concat(Y)}N.concat(C);Z.add.TySh.D=N;
var X=Z.add.TySh.m1;for(var m=0;m<F;m++){var k=V(U,"TRN",m);if(k==null)continue;k=k.replaceAll("\x18","'").replaceAll("\x19","'").replaceAll("\x1C","'").replaceAll("\x1D","'");
k=k.replaceAll("\x03","\n").replaceAll("\r","\n");b$.qS(X,J.length,k);var A=b$.QN(X,0,1),$=V(U,"FON",m);
if($)c=$;b$.Wu(A,c);var K=V(U,"PTS",m);if(K!=null)p=K;A.oM.FontSize=Math.round(p);var G=V(U,"LED",m);
if(G!=null){A.oM.Leading=G*p;A.oM.AutoLeading=!1}var z=V(U,"UND",m);if(z!=null){A.oM.Underline=z}var M=V(U,"ITL",m);
if(M!=null){A.oM.FauxItalic=M}var hl=V(U,"FCL",m);if(hl!=null)d=hl;A.oM.FillColor={Type:1,Values:l(d)};
var j=V(U,"JST",m);if(j!=null)A.G1.Justification=[0,2,1,3,5,4,6,7,8][j];b$.gD(X,J.length,J.length+k.length,A);
J+=k}Z.iA(J.slice(0,255));var w=e.RIT-e.LFT,B=e.BOT-e.TOP;if(e.IMG){y(e.IMG,P,"IMG",T,C);var bB=P.B.pop();
Z.buffer=bB.buffer;Z.rect=bB.rect.clone()}b$.EQ(X,1);b$.IU(X,[0,0,w,B])}else if(b=="PTH"){Z.iA(e.OBN?e.OBN:"Path");
Z.FQ|=16;var bG=!1;r(Z,e,C);var eb=Z.add.vmsk,fe=Z.add.vstk,gB=Q.M.OY(eb.i),hp=e.PAT,g6=hp.BPL,by=hp.FPL,e7=hp.TXF;
if(by&&by.FEF)eb.Vw+=by.FEF/2.4;if(g6){var aN=g6.CAT;fe.strokeEnabled.v=!0;fe.strokeStyleLineWidth.v.val=g6.BDI;
fe.strokeStyleLineAlignment.v.strokeStyleLineAlignment=aF.eo._R[e.BRP];O(hp.BCL,fe.strokeStyleContent.v);
if(aN!="bc_Basic"&&aN!="bc_Pencil")bG=!0}if(by==null){fe.fillEnabled.v=!1;Z.add.SoCo=JSON.parse(aF._v[aF.order.indexOf("SoFi")]);
O(0,Z.add.SoCo)}else if(by.CAT=="fc_Solid"){Z.add.SoCo=JSON.parse(aF._v[aF.order.indexOf("SoFi")]);O(e.PAT.FCL,Z.add.SoCo)}else if(by.CAT=="fc_Linear"||by.CAT=="fc_Circular"||by.CAT=="fc_Elliptical"){var jK=by.CAT=="fc_Linear",f7=Z.add.GdFl=JSON.parse(aF._v[aF.order.indexOf("GrFl")]),hW=f7.Grad.v,km=[],ca=by.FGL,aU,eJ=[];
if(ca.FGY){var am=ca.FGY,aU=am.FG0.FGI,eJ=am.FG1.FGI}else aU=ca.FGV.FGI;for(var m=0;m<aU.length;m++){var eA=aU[m],dj=l(eA.FGC),cM=1;
if(eJ.length==aU.length)cM=l(eJ[m].FGC)[0];km.push([eA.FGP,dj.slice(1),cM])}f7.Type.v.GrdT=jK?"Lnr":"Rdl";
Q.N.bi(km,hW);hW.Intr.v=0;var b2=e.PRI?e.PRI:e,cm=new aW(b2.PSX,b2.PSY),az=new aW(b2.PEX,b2.PEY);if(by.CAT=="fc_Elliptical"&&b2.PFX!=null){var j_=new aW(b2.PFX,b2.PFY),hh=aW.nT(cm,az),gs=aW.nT(cm,j_);
if(gs<hh){var fI=hh;hh=gs;gs=fI}az=new aW(cm.x+(hh+gs)/2,cm.y);if(hh/gs<.5)bG=!0}if(jK){cm.x=(cm.x+az.x)/2;
cm.y=(cm.y+az.y)/2}Q.N.u0(cm,az,gB,f7)}else console.log(by.CAT);var i=Z.add.lmfx=E(e.EFL,eb);if(by&&by.FTB!=0&&e7){var I=t(e7.MSK,T),c0={};
c0.id=fJ.DA()+"-d71c-11e5-b1ae-a548a96e5f9f";c0.name="someImage";c0.vA=I;P.Rs(c0);var ay=I[0];for(var m=0;
m<ay.length;m+=4){ay[m+3]=255-ay[m];ay[m]=ay[m+1]=ay[m+2]=255}var f7=JSON.parse(aF._v[aF.order.indexOf("patternFill")]);
f7.Opct.v.val=Math.round(by.FTB/10);f7.Algn.v=!0;f7.Ptrn.v.Idnt.v=c0.id;i.patternFillMulti.v.unshift({t:"Objc",v:f7})}if(bG&&e.IMG){y(e.IMG,P,"IMG",T,C);
var fC=P.B[P.B.length-1];fC.opacity=Z.opacity;return}Z.W0();Z.bf(P)}else if(b=="URL")return;else{console.log("unknown layer type",b,e);
Z.iA("Layer")}P.B.push(Z)}function r(e,P,b){if(P.PBL==null)return;var T=e.add.vmsk=new v.ez,C=e.add.vstk=JSON.parse(JSON.stringify(aF.eo.default)),Z=P.PBL.PBP;
if(!(Z instanceof Array))Z=[Z];for(var W=0;W<Z.length;W++){var s=Z[W].PBT;if(s==null)continue;if(!(s instanceof Array))s=[s];
var f=Z[W].ISC?0:3;T.i.push({type:f,length:s.length,wM:0,kr:2,w3:0,Dj:0});for(var m=0;m<s.length;m++){var q=s[m],g=q.XLC,i=q.YLC,u=[g,i,g,i,g,i],I="XPC YPC XLC YLC XSC YSC".split(" ");
for(var Y=0;Y<6;Y++){var U=I[Y],F=q[U];if(F!=null)u[Y]=F}T.i.push({type:f+2,H:new aW(g,i),lz:new aW(u[0],u[1]),l6:new aW(u[4],u[5])})}}Q.M.qp(T.i,b)}function E(e,P){var b=JSON.parse(aF.default);
for(var m=0;m<aF.order.length;m++)b[aF.Ck[m]]={t:"VlLs",v:[]};if(e==null)return b;var T=e.EPS;if(!(T instanceof Array))T=[T];
for(var m=0;m<T.length;m++){var C=T[m].DCE,Z={};for(var W=0;W<C.length;W++)Z[C[W].DCK]=C[W].DCV;if(Z.EffectIsVisible=="false")continue;
var s=Z.mkbFile_WriteOnly_TemporaryEffectUiName;if(s=="Gaussian Blur..."&&P){P.Vw+=parseFloat(Z.gaussian_blur_radius);
continue}var f=["Drop Shadow","Inner Bevel","Inner Glow","Glow"].indexOf(s);if(f==-1){continue}var q=["DrSh","ebbl","IrGl","OrGl"][f],g=aF.Ck[aF.order.indexOf(q)],i=JSON.parse(aF._v[aF.order.indexOf(q)]);
b[g].v.unshift({t:"Objc",v:i});if(q=="DrSh"){i.uglg.v=!1;a(Z,"ShadowDistance",i,"Dstn");a(Z,"ShadowBlur",i,"blur");
a(Z,"ShadowAngle",i,"lagl",180);i.Opct.v.val=100;S(Z,"ShadowColor",i,"Clr")}if(q=="IrGl"){i.Md.v.BlnM="Nrml";
var u=Z.MaskSoftness,I=Z.GlowWidth;if(u&&I){u=parseInt(u);I=parseInt(I);i.blur.v.val=I+u;i.Ckmt.v.val=Math.round(100*I/(I+u))}a(Z,"BevelContrast",i,"Opct");
S(Z,"OuterBevelColor",i,"Clr")}if(q=="OrGl"){i.Md.v.BlnM="Nrml";var u=Z.MaskSoftness,I=Z.GlowWidth;if(u&&I){u=parseInt(u);
I=parseInt(I);i.blur.v.val=I+u}a(Z,"BevelContrast",i,"Opct");S(Z,"OuterBevelColor",i,"Clr")}if(q=="ebbl"){i.uglg.v=!1;
a(Z,"BevelWidth",i,"blur");a(Z,"AngleSoftness",i,"Sftn");a(Z,"BevelContrast",i,"srgR");a(Z,"LightAngle",i,"lagl")}}return b}function a(e,P,b,T,C){var Z=e[P];
if(C==null)C=0;if(Z)b[T].v.val=parseInt(Z)+C}function S(e,P,b,T){var C=e[P];if(C){C=C.slice(1);if(C.length==6)C=C+"ff";
if(C.length!=8)throw"e";var Z=l(parseInt(C,16)),W=b[T].v;W.Rd.v=Z[0]*255;W.Grn.v=Z[1]*255;W.Bl.v=Z[2]*255;
b.Opct.v.val=Math.round(b.Opct.v.val/100*Z[3]*100)}}return h}();function c$(){}c$.GQ=function(){function _(F,N){var o=!1,X=Date.now(),J=f(F,o);
if(o)console.log("part found",Date.now()-X);X=Date.now();var c=s(J),p=c.Layer,d=c.Header;if(o)console.log(c);
var k=p[0];k=c.Layer[0];if(o)console.log("document parsed",Date.now()-X);X=Date.now();c.Setup.Gradient=W(c.Setup.Gradient,J);
if(o)console.log("grads loaded",Date.now()-X);X=Date.now();c.Setup.Pattern=Z(c.Setup.Pattern,J);if(o)console.log("patts loaded",Date.now()-X);
X=Date.now();c.Setup.DocumentData=C(c.Setup.DocumentData,J).pop();if(o)console.log("docdata loaded",Date.now()-X);
X=Date.now();c.Setup.SVGFilter=C(c.Setup.SVGFilter,J);if(o)console.log("svgfilter loaded",Date.now()-X);
X=Date.now();var A=d.Cropmarks,$=d.BoundingBox.split(" ").map(parseFloat),K=d.ArtSize?d.ArtSize.split(" ").map(parseFloat):[$[2]-$[0],$[3]-$[1]];
N.a=Math.round(K[0]);N.n=Math.round(K[1]);var G=[1,0,0,1,-$[0]+(N.a-($[2]-$[0]))/2,-$[1]+(N.n-($[3]-$[1]))/2];
G[3]=-1;G[5]=N.n-G[5];if(A){A=A.split(" ").map(parseFloat);N.a=Math.round(A[2]-A[0]);N.n=Math.round(A[3]-A[1]);
G=[1,0,0,-1,-A[0],N.n+A[1]]}var z=c.Setup.DocumentData;if(z&&z[0]&&z[0].ArtboardArray){var M=z[0].ArtboardArray;
if(M.length!=1)console.log(M.length,"artboards");var hl=new a8,j=[];for(var m=0;m<M.length;m++){var w=M[m],B=w.PositionPoint1,bB=w.PositionPoint2,bG=B[0],eb=Math.min(B[1],bB[1]),fe=bB[0],gB=Math.max(B[1],bB[1]),hp=new a8(bG,eb,fe-bG,gB-eb);
j.push(hp);hl=hl.uG(hp)}N.a=Math.round(hl.a);N.n=Math.round(hl.n);G[4]=-hl.x;G[5]=hl.y+N.n;if(M.length!=1){N.B.push(N.y9());
for(var m=0;m<j.length;m++){var w=M[m],hp=j[m],g6=N.Ni();g6.iA(w.Name);N.B.push(g6);g6.add.SoCo=JSON.parse(aF._v[aF.order.indexOf("SoFi")]);
var by=g6.add.SoCo.Clr.v;r(by,[1,1,1]);var bG=hp.x,eb=hp.y,fe=bG+hp.a,gB=eb+hp.n,e7=[bG,eb,fe,eb,fe,gB,bG,gB];
Q.p.D(e7,a(G),e7);e(g6,{cmds:["M","L","L","L","Z"],crds:e7},N);g6.add.vstk=JSON.parse(JSON.stringify(aF.eo.default))}var g6=N.Ni();
g6.iA("_Artboards_");g6.add.lsct=bN.SE;g6.to="pass";g6.FQ=24;N.B.push(g6)}}if(z&&z[0]&&z[0]["#document"]){var aN=z[0]["#document"],jK=aN["xmlnode-children"][0];
if(jK&&jK["xmlnode-children"])jK=jK["xmlnode-children"][0];if(jK["xmlnode-nodename"]=="variableSets"){var f7=jK["xmlnode-children"][0]["xmlnode-children"],hW=f7[0],km=f7[1],ca=U(hW);
N.Pp=jI.Vc("<variableSets><variableSet>"+ca+"</variableSet></variableSets>");if(km){var aU=U(km),eJ=N.dm=jI.t$(aU);
for(var m=0;m<eJ.length;m++)for(var am=0;am<eJ[m].length;am++)eJ[m][am]=eJ[m][am].trim()}}}var eA=gu.im(new a8(0,0,N.a,N.n),8192*8192);
while(N.a*N.n*eA*eA<800*800)eA*=2;N.a=Math.round(N.a*eA);N.n=Math.round(N.n*eA);N.pa=Math.round(72*eA);
N.buffer=Q.Q(N.a*N.n*4);for(var m=0;m<6;m++)G[m]*=eA;O=[0,0,0];l=[0,0,0];x="SoCo";for(var dj=0;dj<p.length;
dj++){var cM=p[dj];cM.Raster=n(cM,"Raster");cM.Place=n(cM,"Place");var b2=b(J,cM);t(N,b2,G,c,cM,J)}if(o)console.log("layers created",Date.now()-X);
X=Date.now()}function n(F,N){var o=F.Layer,X=F[N];if(X==null)X=[];if(o){for(var m=0;m<o.length;m++){var J=o[m],c=J[N]=n(J,N);
X=X.concat(c)}X.sort(function(p,d){return p._begin-d._begin})}return X}var O,l,x;function t(F,N,o,X,J,c){var p="",d=0,k="",A=!1,$={},K=UDOC.G,G=UDOC.getState(),z="norm",M=1,hl=!1,j=0,B=null,bB=!1,bG=0,eb=null,fe,gB,hp=0,g6=0,by=0,jK=0,f7=!1;
G.ctm=o;var w=[],e7=[],aN=[];for(var hW=0;hW<N.length;hW++){var km=N[hW],am=1e9;if(km[0]=="%"){if(km=="%_/ArtDictionary :"&&bG==0)B=[km.slice(2)];
else if(B!=null){if(km=="%_"&&bG==0){var ca=i(B)[0],aU=ca.AI10_ArtUID;if(aU&&!aU.startsWith("XMLID"))F.B[F.B.length-1].iA(I(aU));
B=null}else{B.push(km.slice(bB?1:2));if(km=="%_X=")bG++;if(km=="%_X+")bG--;if(km=="%_/Binary : /ASCII85Decode ,")bB=!0;
if(bB&&km.endsWith("~>"))bB=!1}}else if(eb){fe+=(fe==""?"":" ")+km.slice(2);if(fe.endsWith("X#")){eb.push(fe.slice(0,fe.length-3));
fe=""}}continue}else if(km=="/Mesh X!"){eb=[];fe="";continue}else if(km=="/End X!"){h(eb,G,F);eb=null;
continue}var eJ="Xa XR m l c f U u *U w J j M d".split(" "),eA=-1,dj=km.indexOf("(")!=-1;for(var m=0;
m<eJ.length;m++){var cM=km.indexOf(" "+eJ[m]+" ");if(cM!=-1&&cM<am&&!dj){am=cM;eA=m}}if(eA!=-1){A=!0;
var b2=am+1+eJ[eA].length;N[hW]=km.slice(0,b2);var cm=N[hW+1];if(cm==null||cm[0]=="%"||eA>9)N.splice(hW+1,0,km.slice(b2));
else N[hW+1]=(km.slice(b2)+" "+cm).replace(/\s\s+/g," ");hW--;continue}km=km.trim();var az=km.split(" "),j_=az[az.length-1],hh=j_.toLowerCase(),gs=az.map(parseFloat);
if(j_=="m")K.moveTo(G,gs[0],gs[1]);else if(j_=="L"||j_=="l")K.lineTo(G,gs[0],gs[1]);else if(j_=="V"||j_=="v"){var fI=G.pth.crds,c0=G.cpos[0],ay=G.cpos[1];
K.curveTo(G,c0,ay,gs[0],gs[1],gs[2],gs[3]);var fC=fI.length;fI[fC-6]=c0;fI[fC-5]=ay}else if(j_=="Y"||j_=="y")K.curveTo(G,gs[0],gs[1],gs[2],gs[3],gs[2],gs[3]);
else if(j_=="C"||j_=="c")K.curveTo(G,gs[0],gs[1],gs[2],gs[3],gs[4],gs[5]);else if(j_=="H"||j_=="h"){if(j_==hh)K.closePath(G);
w.push(JSON.parse(JSON.stringify(G.pth)))}else if(j_=="Xy"){z=["norm","mul ","scrn","over","sLit",null,"div "][gs[0]];
M=gs[1];if(z==null){z="norm";console.log("unknown blend mode",gs[0])}}else if(j_=="Xd"){var jQ=F.B[F.B.length-1];
jQ.opacity=Math.round(255*M);jQ.to=jQ.kx()&&z=="norm"?"pass":z}else if(j_=="AE")hp=gs[0];else if(j_=="Ae")g6=gs[0];
else if(j_=="Xw")by=gs[0];else if(j_=="*"){var fw=G.pth.crds,aG=G.ctm,cM=fw[0]==fw[2]?0:1;F.P9.push([cM,fw[cM]]);
K.newPath(G)}else if(j_=="XN")gB=km.split(" ")[0];else if(j_=="XI"){var a_=J.Raster,el,dD;if(a_==null||a_.length==0){console.log("no Raster");
continue}if(km!="XI"){continue}else{if(a_[d].Data==null){continue}var ip=a_[d++].Data,jn=ip._begin,af=ip._end;
while(c[jn]!=88)jn++;jn+=3;el=c.slice(jn,af);dD=N[hW-2].split(" ").map(parseFloat)}var iU=dD.slice(8),hV=iU[2],gn=iU[3],fY=hV*gn,e1=Q.Q(fY*4);
e1.fill(255);var d6=iU[7],fO=iU[8],i$=iU[6],gy=Math.ceil(hV*d6*i$/8);if(d6==1){if(i$==8)for(var m=0;
m<fY;m++)for(var fT=0;fT<3;fT++)e1[4*m+fT]=el[m];else if(i$==1)for(var kl=0;kl<gn;kl++)for(var fy=0;
fy<hV;fy++)for(var fT=0;fT<3;fT++)e1[4*(kl*hV+fy)+fT]=255*(el[kl*gy+(fy>>>3)]>>>7-(fy&7)&1);else throw i$}else if(d6==3)for(var m=0;
m<fY;m++)for(var fT=0;fT<3;fT++)e1[4*m+fT]=el[3*m+fT];else if(d6==4||d6==5)for(var m=0;m<fY;m++){var g$=S([el[d6*m+0]/255,el[d6*m+1]/255,el[d6*m+2]/255,el[d6*m+3]/255]);
e1[4*m+0]=g$[0]*255;e1[4*m+1]=g$[1]*255;e1[4*m+2]=g$[2]*255}else if(d6==7)for(var m=0;m<fY;m++){e1[4*m+0]=el[d6*m+0];
e1[4*m+1]=el[d6*m+1];e1[4*m+2]=el[d6*m+2]}else console.log("unknown number of channels",d6);if(fO==1){var bt=gn*gy;
for(var m=0;m<fY;m++)e1[4*m+3]=el[bt+m]}var jL=Q.aL(e1,hV,gn)?"JPG":"PNG";if(hV*gn<700*700)jL="PNG";
var c_=dx.Jv(jL).QI([[e1.buffer]],hV,gn),hr=F.zk(new Uint8Array(c_),"<Image>",0,0);F.B.push(hr);hr.to=z;
hr.opacity=Math.round(255*M);hr.ND(by==0);var o=new aY;o.scale(1,-1);o.concat(a(dD.slice(1)));o.concat(a(G.ctm));
var ew=hr.rect.clone();ew.x=ew.y=0;var az=Q.p.ta(ew).C;Q.p.D(az,o,az);hr.add.SoLd.Trnf=D.D6.X6(az);hr.add.SoLd.nonAffineTransform=D.D6.X6(az);
hr.Ga(F,!1)}else if(j_=="Ln"){p=y(km)}else if(j_=="u"||j_=="q"||j_=="Lb"){e7.push(g6==1);aN.push((j_=="Lb"?1-gs[0]:by)==0);
if(hl)continue;F.B.push(F.y9())}else if(j_=="U"||j_=="Q"||j_=="LB"){if(e7.length==0||aN.length==0)throw hW;
var dL=e7.pop(),cf=aN.pop();if(j_=="LB")dL=hp==1;if(hl)continue;var hr=F.Ni();hr.iA((j_=="U"?"<Group>":"<Clip Group>")+k);
if(j_=="LB")hr.iA(p);if(j_=="Q"&&w.length!=0){var eo=w.pop(),iz=UDOC.G.isBox(eo,[0,0,F.a,F.n]);if(!iz)e(hr,eo,F)}hr.add.lsct=dL?bN.GV:bN.SE;
hr.to="pass";hr.FQ=24;hr.ND(cf);F.B.push(hr);if(f7){if(F.B[F.B.length-3].getName()=="</Layer group>"){F.B.pop();
F.B.splice(F.B.length-2,1)}f7=!1}}else if(j_=="Bb"||j_=="Bh"||j_=="BB"){}else if(j_=="Bg"){var kj=X.Setup.Gradient,hL=kj[y(km)];
if(hL==null){console.log("gradient not found");for(var ar in kj){hL=kj[ar];break}}x="GdFl";O=V(hL.TO,hL.a6F)}else if(j_=="Bm"||j_=="Xm"){var bD=O.Type.v.GrdT;
if(bD=="Lnr"&&j_!="Xm"||bD=="Rdl"&&j_!="Bm")continue;var jC=new aW(0,0),eu=new aW(1,0),gx=new aY;gx.concat(a(gs));
gx.concat(a(G.ctm));jC=gx.uz(jC);eu=gx.uz(eu);var eS=Q.p.Vx(G.pth.crds);if(eS.wk())eS=Q.p.Vx([jC.x,jC.y,eu.x,eu.y]);
if(bD=="Lnr"){jC.x=(jC.x+eu.x)/2;jC.y=(jC.y+eu.y)/2}Q.N.u0(jC,eu,eS,O)}else if(j_=="p"){var fa=y(km),h6=X.Setup.Pattern[fa];
if(h6.raw==null){var eS=h6.hT,hV=Math.round(eS[2]-eS[0]),gn=Math.round(eS[3]-eS[1]),ca=new fJ;ca.a=hV;
ca.n=gn;ca.buffer=Q.Q(hV*gn*4);t(ca,h6.Dh,[1,0,0,-1,-h6.hT[0],gn+h6.hT[1]],X,J,c);h6.raw=new Uint8Array(dx.Jv("PSD").QI(ca))}var bw=km.slice(km.indexOf(")")+2),bf=bw.slice(0,bw.indexOf("[")-1).split(" ").map(parseFloat),fq=bw.slice(bw.indexOf("[")+1,bw.indexOf("]")).split(" ").map(parseFloat);
x="patt";O=[fa,bf,fq]}else if(j_=="J"||j_=="j"||j_=="w"||j_=="M"||j_=="d"){for(var m=1;m<az.length;m++){var ia=az[m],gI=gs[m-1];
if(ia=="w")G.lwidth=gI;if(ia=="j")G.ljoin=gI;if(ia=="J")G.lcap=gI;if(ia=="d"){var jO=km.slice(km.indexOf("[")+1,km.indexOf("]")).trim();
if(jO.length!=0){var aq=jO.split(" ").map(parseFloat);G.dash=aq}else if(jO=="")G.dash=[]}}}else if(hh=="xa"||hh=="xx"){var kb=gs[4]==null?gs.slice(0,3):[gs[4],gs[5],gs[6]];
if(hh=="xx"&&gs[gs.length-2]==2)kb=S(gs);x="SoCo";if(j_=="Xa"||j_=="Xx")O=kb;else l=kb}else if(hh=="xk"){var kb,dB=gs[gs.length-2],jk=gs[gs.length-3];
if(dB==0)kb=S(gs);else if(dB==1){kb=[gs[4],gs[5],gs[6]];for(var m=0;m<3;m++)kb[m]=jk*1+(1-jk)*kb[m]}else throw km;
x="SoCo";if(j_=="Xk")O=kb;else l=kb}else if(hh=="k"||hh=="x"){if(hh=="x"){gs.pop();var a9=1-gs.pop();
for(var m=0;m<4;m++)gs[m]*=a9}var kb=S(gs);x="SoCo";if(j_==hh)O=kb;else l=kb}else if(hh=="g"){var kb=[gs[0],gs[0],gs[0]];
x="SoCo";if(j_==hh)O=kb;else l=kb}else if(hh=="n"){if(!hl)K.newPath(G)}else if(j_=="*u"){hl=!0;j=0}else if(j_=="*U"||hh=="s"||hh=="f"||hh=="b"){if(j_!="*U"&&hl){if(hh=="f"||hh=="b")j|=1;
if(hh=="s"||hh=="b")j|=2;continue}if(j_==hh)K.closePath(G);if(j_=="*U"){hl=!1}var hr;if(x=="patt"){var h6=X.Setup.Pattern[O[0]];
hr=F.zk(h6.raw,"<Pattern>",0,0);var ew=hr.rect.clone();ew.x=ew.y=0;var az=Q.p.ta(ew).C,fq=a(O[2]);fq.Wk=fq.d7=0;
Q.p.D(az,fq,az);hr.add.SoLd.Trnf=D.D6.X6(az);hr.add.SoLd.nonAffineTransform=D.D6.X6(az);hr.Ga(F,!1)}else{hr=F.Ni();
hr.FQ|=16;var dg=hr.add.vstk=JSON.parse(JSON.stringify(aF.eo.default));dg.strokeEnabled.v=dg.fillEnabled.v=!1;
if(x=="SoCo"){hr.add.SoCo=JSON.parse(aF._v[aF.order.indexOf("SoFi")]);var jl=hr.add.SoCo.Clr.v;r(jl,O)}if(x=="GdFl")hr.add.GdFl=O;
if(hh=="f"||hh=="b"||j_=="*U"&&j&1)dg.fillEnabled.v=!0;if(hh=="s"||hh=="b"||j_=="*U"&&j&2)i6.kI(dg,G,1,i6.Oa(l))}hr.iA("<"+(j_=="*U"?"Compound ":"")+"Path>"+k);
hr.to=z;hr.opacity=Math.round(255*M);hr.ND(by==0);e(hr,G.pth,F);F.B.push(hr);K.newPath(G)}else if(j_==","&&az[0]=="/XMLUID"){var jQ=F.B[F.B.length-1];
for(var m=0;m<F.Pp.length;m++)if("("+F.Pp[m].docRef+")"==az[2])F.Pp[m].docRef="id('"+jQ.add.lyid+"')"}else if(j_==","&&az[1]=="/FreeUndo"){jK=gs[0]}else if(j_==","&&az[1]=="/StoryIndex"){var gX=X.Setup.TextDocument,gr=null;
if(!(gX instanceof Array))gX=X.Setup.TextDocument=T(gX,c);var dl=gX[0],ij=gX[2];if(dl._DocumentResources)dl=gX[0]=gJ.awc(dl);
else gJ.aa1(dl);var hr=F.Ni();hr.add.lnsr="rend";hr.add.TySh=b$.Jw(0,0);var bQ=gs[0];if(jK==1){for(var m=1;
m<60;m++){var cm=N[hW+m];if(cm.endsWith("/StoryIndex ,")){bQ=parseFloat(cm.slice(2,cm.indexOf(" ")));
f7=!0;break}}jK=0}var jY=dq.atM(dl),he=hr.add.TySh.m1=jY[bQ];if(he==null){console.log("text not found");
f7=!1;continue}hr.iA(b$.om(he).slice(0,50));hr.to=z;hr.opacity=Math.round(255*M);hr.ND(by==0);var a9=dl._1._1[bQ]._1._0[0]._0;
a9=parseInt(a9.slice(1));var e8=dl._0._8._0,g4=e8[a9]._0;if(g4._0)gr=E(g4._0);else if(g4._1)gr=E(g4._1._0);
else gr=E(g4._2._2).slice(3);if(gr.length!=2){var eS=Q.p.Vx(gr);gr=[eS.x,eS.y];if(eS.O()!=0){b$.EQ(he,1);
b$.IU(he,[0,0,Math.round(eS.a),Math.round(eS.n)])}}var kv=new aY,fr=new aY(1,0,0,1,gr[0],gr[1]),ff=new aY(1,0,0,1,-ij[0],-ij[1]),is=a(G.ctm),cR=new aY;
if(g4._2&&g4._2._2){var o=E(g4._2._2);cR=new aY(o[0],o[1],o[2],o[3],o[4],o[5])}kv.concat(fr);kv.concat(cR);
kv.concat(ff);kv.scale(1,-1);kv.concat(is);hr.add.TySh.D=kv;F.B.push(hr);F.Gl=!0}else if(j_=="Tp"){$.ha=a(gs)}else if(j_=="Tf"){$.font=az[0].slice(2)}else if(j_=="Tk"){var hr=F.Ni();
hr.add.lnsr="rend";var fV=hr.add.TySh=b$.Jw(0,0),he=fV.m1,gx=$.ha.clone(),jZ=gx.Sn();gx.concat(a(G.ctm));
var fk=new aY(1/jZ,0,0,-1/jZ,0,0);fk.concat(gx);fV.D=fk;var aw=y(km);hr.iA(aw);b$.qS(he,0,aw);var e4=b$.QN(he,0,aw.length);
e4.oM.FontSize=jZ;e4.oM.FillColor={Type:1,Values:[1,O[0],O[1],O[2]]};b$.Wu(e4,$.font);b$.gD(he,0,aw.length,e4);
F.B.push(hr);F.Gl=!0}else if(A&&gs.length>3){var iF=!1;for(var m=0;m<gs.length;m++)if(isNaN(gs[m]))iF=!0;
if(!iF)N[hW+1]=(km+" "+N[hW+1]).replace(/\s\s+/g," ")}}}function h(F,N,o){var X=UDOC.G,J=[],c=[],p="/DeviceGray",d=1,k=[],A=1;
for(var $=0;$<F.length;$++){var K=F[$];if(K.endsWith(" /CS")){var G=K.indexOf("/NChannel"),z=K.indexOf("/Process");
if(K.startsWith("/DeviceRGB")){p="/DeviceRGB";d=3}else if(K.startsWith("/DeviceGray")){p="/DeviceGray";
d=1}else if(K.startsWith("/DeviceCMYK")){p="/DeviceCMYK";d=4;k=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]]}else if(G!=-1){p="/DeviceCMYK";
d=parseInt(K.slice(G-2,G-1));var M=1;for(var m=0;m<d;m++){M=K.indexOf("[",M);k[d-1-m]=K.slice(M+1,M+8).split(" ").map(parseFloat);
M++}}else if(z){p="/DeviceGray";d=1}else throw K}else if(K[0]=="["){var hl=K.indexOf("]"),j=K.slice(1,hl).split(" ").map(parseFloat),w=K.slice(hl+2),B,bB,bG,eb,fe,gB;
if(w=="/Size"||w=="/P"||w=="/R")continue;if(w=="/S"||w=="/A"){B=j[0];bB=j[1];bG=j[2];eb=j[3];fe=j[4];
gB=j[5]}else if(w=="/N"){var hp=d+(A==1?0:1),g6;B=j[hp+0];bB=j[hp+1];bG=j[hp+2];eb=j[hp+3];fe=j[hp+5];
gB=j[hp+6];if(p=="/DeviceRGB")g6=j.slice(0,3);else if(p=="/DeviceGray")g6=[j[0],j[0],j[0]];else if(p=="/DeviceCMYK"){var by=[0,0,0,0];
for(var m=0;m<d;m++){var e7=j[m],aN=k[m];by[0]+=e7*aN[0];by[1]+=e7*aN[1];by[2]+=e7*aN[2];by[3]+=e7*aN[3]}g6=S(by)}else throw g6;
g6.push(j[d]);c.push([g6,B,bB])}else throw w;J.push([w,fe,gB,B,bB,bG,eb])}else if(K=="/E"){var jK=J.slice(0),f7=0;
for(var m=0;m<J.length;m++){var hW=J[m][0];if(hW=="/N"){f7++;continue}var km=m,ca=m+1;while(J[ca][0]!="/N"&&ca<J.length)ca++;
if(f7==0||f7==3){for(var aU=0;aU<ca-km;aU++)jK[km+aU]=J[ca-1-aU]}else for(var aU=km;aU<ca;aU++){var eJ=jK[aU],am=eJ[1];
eJ[1]=eJ[5];eJ[5]=am;am=eJ[2];eJ[2]=eJ[6];eJ[6]=am}m=ca-1}J=[];for(var m=0;m<jK.length;m++){var eJ=jK[m];
J.push(eJ[1],eJ[2],eJ[3],eJ[4],eJ[5],eJ[6])}var eA=J.length;X.moveTo(N,J[2],J[3]);for(var m=0;m<eA;m+=6){var bG=J[(m+4)%eA],eb=J[(m+5)%eA],fe=J[(m+6)%eA],gB=J[(m+7)%eA],B=J[(m+8)%eA],bB=J[(m+9)%eA];
X.curveTo(N,bG,eb,fe,gB,B,bB)}X.closePath(N);J=[]}else if(K.endsWith("/Version"))A=parseFloat(K[0])}var dj=o.Ni();
dj.FQ|=16;dj.iA("<Mesh>");var cM=dj.add.vstk=JSON.parse(JSON.stringify(aF.eo.default));cM.strokeEnabled.v=!1;
if(c.length>=2){var b2=0,cm=0,az=0;for(var m=0;m<c.length;m++)for(var aU=m+1;aU<c.length;aU++){var j_=c[m][0],hh=c[aU][0],gs=j_[0]-hh[0],fI=j_[1]-hh[1],c0=j_[2]-hh[2],ay=Math.sqrt(gs*gs+fI*fI+c0*c0);
if(ay>az){az=ay;b2=m;cm=aU}}var fC=c[b2],jQ=c[cm],fw=dj.add.GdFl=V(0,[[0,fC[0]],[1,jQ[0]]]),aG=a(N.ctm),a_=aG.uz(new aW(fC[1],fC[2])),el=aG.uz(new aW(jQ[1],jQ[2])),dD=Q.p.Vx(N.pth.crds);
a_.x=(a_.x+el.x)/2;a_.y=(a_.y+el.y)/2;Q.N.u0(a_,el,dD,fw)}e(dj,N.pth,o);o.B.push(dj);X.newPath(N)}function V(F,N){var O=JSON.parse(aF._v[aF.order.indexOf("GrFl")]),o=O.Grad.v;
o.Intr.v=0;O.Type.v.GrdT=["Lnr","Rdl"][F];Q.N.bi(N,o);return O}function y(F){var N=F.indexOf(")");while(F[N-1]=="\\")N=F.indexOf(")",N+1);
return F.slice(F.indexOf("(")+1,N).replaceAll("\\","")}function r(F,O){F.Rd.v=O[0]*255;F.Grn.v=O[1]*255;
F.Bl.v=O[2]*255}function E(F){var N=[];for(var m=0;m<F.length;m++)N[m]=parseFloat(F[m].slice(1));return N}function a(F){return new aY(F[0],F[1],F[2],F[3],F[4],F[5])}function S(F){return UDOC.C.cmykToRgb(F)}function e(F,N,o){F.add.vmsk=new v.ez;
if(N.crds.length!=0)F.add.vmsk.i=P(N);F.W0();F.bf(o)}function P(F){var N={C:F.crds,F:F.cmds},o=Q.p.mg(N,!1);
return o}function b(F,N){var o=[],A=0,z=0;for(var X=0;X<2;X++){var J=N[["Raster","Place"][X]];if(J){for(var m=0;
m<J.length;m++){var c=J[m][["Data","PlacedObjectPreview"][X]];if(c==null)continue;var p=c._begin,d=c._end;
if(p>d)p=d;o.push([p,d])}}}o.sort(function(hl,j){return hl[0]-j[0]});var k=[N._begin];for(var m=0;m<o.length;
m++){var $=o[m],p=$[0]+32;k.push(p,$[1]);A+=$[1]-p}k.push(N._end);var K=N._end-N._begin,G=new Uint8Array(K-A);
for(var m=0;m<k.length;m+=2){var p=k[m],M=k[m+1]-p;G.set(new Uint8Array(F.buffer,p,M),z);z+=M}return R.hm(G).split(/\r\n|\r|\n/)}function T(F,N){if(F==null)return[];
var o=b(N,F),X="",J="",c=0,p;for(var m=2;m<o.length;m++){var d=o[m];if(d[0]=="%"){if(c==0)X+=d.slice(1);
else J+=d.slice(1)}else if(d==";")c++;else if(d.endsWith("/RulerOrigin ,"))p=d.split(" ").slice(0,2).map(parseFloat)}var k=[X,J],A=[];
for(var m=0;m<2;m++){var $=k[m],K=new Uint8Array($.length);R.uJ(K,0,$);var G=FromPS.F.ASCII85Decode({buff:K,off:0}),z=cn.GQ(G);
A.push(z)}A.push(p);return A}function C(F,N){if(F==null)return[];var o=b(N,F);o=o.slice(1);for(var m=0;
m<o.length;m++){var X=o[m];if(X[0]=="%")o[m]=X.slice(X[1]=="_"?2:1)}var J=i(o);return J}function Z(F,N){var o={};
if(F==null)return o;for(var m=0;m<F.length;m++){var X=b(N,F[m]),J=X[1],c=y(J),p=J.slice(J.indexOf(")")+2).split(" ").map(parseFloat),d=[];
for(var k=2;k<X.length;k++)d.push(X[k].slice(2));o[c]={hT:p,Dh:d}}return o}function W(F,N){var o={},X,J;
if(F==null)return o;var c=[];for(var m=0;m<F.length;m++){var p=b(N,F[m]);for(var d=0;d<p.length;d++){var k=p[d];
if(k.endsWith("%_Bs")){var A=k.slice(0,k.length-4);if(!A.endsWith(" "))A+=" ";k=A+"%_BS"}if(k[0]=="("){X=y(k);
var $=k.split(")"),K=$[1].split(" ");J=parseInt(K[1])}else if(k.endsWith("%_BS")){var $=k.split(" "),hl,j=1;
$.pop();$=$.map(parseFloat);var G=$.pop(),z=$.pop(),M=$.pop();if(M==0)hl=[$[0],$[0],$[0]];else if(M==2||M==4)hl=[$[4],$[5],$[6]];
else if(M==1||M==3)hl=S($);else if(M==6){if($.length==3)hl=[$[0],$[0],$[0]];else hl=S($);j=$.pop()}else{throw M}c.push([G/100,hl,j,z/100])}else if(k=="BD"){for(var w=0;
w<c.length-1;w++)c[w][3]=c[w+1][3];c.sort(function(B,bB){return B[0]-bB[0]});o[X]={TO:J,a6F:c};c=[]}}}return o}function s(F){var N="Gradient PluginObject Symbol Pattern PatternLayer BrushPattern Encoding Raster Layer Resource Place Rider".split(" "),o=Date.now(),X=0,J=[],c={Header:{}},p=[c],d=F.length;
while(X<d){var k=X;while(k!=d&&F[k]!=13&&F[k]!=10){k++}if(F[X]==37&&F[X+1]==95&&F[X+2]==37)X+=2;if(F[X]==37&&(F[X+1]==37||F[X+1]==65)){var A=R.c$(F,X,k-X);
if(A=="%%EOF")break;if(A=="%%EndComments"||A=="%EndComments"||A=="%AI5_Begin_NonPrinting"||A=="%AI5_End_NonPrinting--"||A.startsWith("%AI17_Begin_Content_if_version_gt")||A=="%AI17_End_Versioned_Content"){}else{var $=A.indexOf("Begin"),K=Math.max(A.indexOf("_End"),A.indexOf("%End"));
if($!=-1&&A[$-1]!="%"&&A[$-1]!="_")$=-1;if($!=-1){var G=A.slice($+5).split(":")[0],z={_begin:X,_end:X},M=p[p.length-1];
if(N.indexOf(G)!=-1){if(M[G]==null)M[G]=[];M[G].push(z)}else{if(M[G]!=null){console.log(p);throw A}M[G]=z}p.push(z);
if(A.startsWith("%%BeginData")){k=R.iZ(F,"%%EndData",X)}else if(A=="%AI9_BeginDocumentData")k=R.iZ(F,"%AI9_EndDocumentData",k);
else if(A=="%AI11_BeginTextDocument")k=R.iZ(F,"%AI11_EndTextDocument",k)}else if(K!=-1){p.pop()._end=X}else if(p.length==1&&(A.startsWith("%AI")||A.startsWith("%%")&&A.indexOf(" ")!=-1)){var hl=1;
if(A.startsWith("%AI"))while(A[hl]!="_"&&hl<A.length)hl++;var j=A.indexOf(":");if(j==-1)j=A.indexOf(" ");
var w=A.slice(hl+1,j),B=A.slice(j+1).trim();c.Header[w]=B}}}X=k;if(F[X]==13)X++;if(F[X]==10)X++}return c}function f(F,N){var o=Date.now(),X=new Uint8Array(F),J,c=X[2]==68;
if(N)console.log(!c?"EPS":"PDF");if(c){var p=R.iZ(X,"/AIMetaData "),eb=!1,fe=!1;while(X[p]!=60)p--;p--;
var d=R.iZ(X,">>",p),k=R.c$(X,p+2,d-p-2).split("/"),A=[];for(var m=0;m<k.length;m++){var $=k[m],K=$.startsWith("AIPrivateData"),G=$.startsWith("AIPDFPrivateData");
if(!K&&!G)continue;var z=$.trim().split(/\s+/),M=parseInt(z[1]),hl=parseInt(z[0].slice(K?13:16));A.push([hl,M])}if(N)console.log("--- map made",Date.now()-o);
o=Date.now();var j=FromPDF.indexOfXref(X),w=[],B=FromPDF.readXrefTrail(X,j,w),bB={buff:X,off:0},bG=new Array(A.length),gB=p;
for(var m=0;m<A.length;m++){var hl=A[m][0],M=A[m][1],hp=FromPDF.getIndirect(M,0,bB,w),g6=hp.buff,by=hp["/Filter"],e7=0;
if(by!=null&&typeof by=="string")by=[by];var aN=R.c$(g6,e7,e7+20);if(aN=="%AI12_CompressedData"){e7+=20;
eb=!0}else if(aN=="%AI24_ZStandard_Data"){e7+=20;fe=!0}g6=new Uint8Array(g6.buffer,g6.byteOffset+e7,g6.length-e7);
if(by)for(var jK=0;jK<by.length;jK++){var f7=by[jK];if(f7=="/FlateDecode")g6=pako.inflate(g6);else if(f7=="/ASCIIHexDecode")g6=FromPS.F.HexDecode({buff:g6,off:0});
else if(f7=="/ASCII85Decode")g6=FromPS.F.ASCII85Decode({buff:g6,off:0});else throw f7}bG[hl-1]=g6}if(N)console.log("--- arrays found",Date.now()-o);
o=Date.now();var hW=R.c$(bG[0],0,13);if(hW=="%%BoundingBox"||hW=="%AI7_Thumbnai")bG=bG.slice(1);if(hW=="%AI24_ZStanda"){bG[0]=bG[0].slice(20);
fe=!0}if(R.c$(bG[0],0,13)=="%AI12_Compres"){bG[0]=bG[0].slice(20);eb=!0}J=q(bG);if(N)console.log("--- concatenated",Date.now()-o);
o=Date.now();if(eb)J=UZIP.inflate(J);if(fe)J=dx.um.Wd(J);if(N)console.log("--- inflated",Date.now()-o);
o=Date.now()}else{var km=R.hm(X);if(km.indexOf("%AI5_BeginLayer")!=-1){J=X}else{var ca=km.split(/[\n\r]+/),aU=[],eJ=!1;
for(var am=0;am<ca.length;am++){var eA=ca[am].trim();if(eA=="%AI9_PrivateDataEnd"){eJ=!1;break}else if(eA=="%AI9_DataStream"||eA=="%AI24_DataStream"){eJ=!0}else if(eJ)aU.push(eA.slice(1))}var dj=R.WZ(aU.join("")),cM=FromPS.F.ASCII85Decode({buff:dj,off:0});
if(cM[0]==120&&cM[1]==156)J=UZIP.inflate(cM);else J=dx.um.Wd(cM)}}return J}function q(F){var N=0,X=0;
for(var m=0;m<F.length;m++)N+=F[m].length;var o=new Uint8Array(N);for(var m=0;m<F.length;m++){var J=F[m];
o.set(J,X);X+=J.length}return o}function g(F,N){for(var m=0;m<N.length;m++)if(F.startsWith(N[m]))return!0;
return!1}function i(F){var N=[],o=[],top=-1,X,J=null,c=null,p=null,d=0;for(var k=0;k<F.length;k++){var A=F[k];
if(X){A=X+A;X=null}var $="\t".repeat(N.length);if(J!=null){J.push(A);if(A.endsWith("~>")){var K=R.WZ(J.join("")),G=FromPS.F.ASCII85Decode({off:0,buff:K});
N.push(G);o.push(!1);top++;J=null}}else if(p!=null){if(A=="X+"){if(d==1){N.push(p);o.push(!1);top++;
p=null}else d--}else if(A=="X=")d++;else p.push(A)}else if(c!=null){if(A=="/Def ; "){N.push(c);o.push(!1);
top++;c=null}else c.push(A)}else if(A=="/Binary : /ASCII85Decode ,"){J=[]}else if(A=="X="){p=[];d++}else if(A=="/FillStyle : 0 O"){c=["0 O"]}else if(A=="/SVGFilter :"||A=="; /Def ;")continue;
else if(A.startsWith("/XMLUIDREF :")){var z=u(A);N[top][z[4]]=z[2]}else if(A.startsWith("/")&&A[1].toUpperCase()!=A[1].toLowerCase()){if(A.startsWith("/XMLUID")){var z=u(A);
if(o[top])throw"e";N[top][z[4]]=z[2]}if(A.startsWith("/GObjRef")){var z=u(A);if(z.length==7){if(o[top])throw"e";
N[top][z[5]]=z[2]}else{if(!o[top])throw"e";N[top].push(z[2])}}else{var M=A.startsWith("/Array")||A.startsWith("/Document");
N.push(M?[]:{});o.push(M);top++}}else if(A.endsWith(",")){var hl,j,z=u(A);z.pop();if(z[0]==";"||z.length==1||A==" ,"){j=N.pop();
o.pop();top--;hl=o[top]?null:z.pop()}else{hl=o[top]?null:z.pop();var w=z.pop(),B=z[0];if(w=="/Int")j=parseInt(B);
else if(w=="/Real")j=parseFloat(B);else if(w=="/Bool")j=B=="1";else if(w=="/String"||w=="/UnicodeString")j=z.join("");
else if(w=="/RealMatrix"||w=="/RealPoint"||w=="/RealPointRelToROrigin")j=z.map(parseFloat);else throw w}if(o[top])N[top].push(j);
else N[top][hl]=j}else if(A==";"){}else if(A==""){}else{if(A.indexOf("/RealPoint")!=-1){}else if(A.startsWith("(")&&A.endsWith(")")){}else if(A.endsWith("/RealMatrix")){}else throw A;
X=X?X+A:A}}return N}function u(F){var N=0,o=[];while(N<F.length){var X=F[N],J=X.charCodeAt(0);if(X==" ")N++;
else if(X==","||X==";"||X==":"){o.push(X);N++}else if(X=="("){var c=N+1;while(!(F[c]==")"&&F[c-1]!="\\"))c++;
var p=F.slice(N+1,c);o.push(p);N=c+1}else if(X=="/"||X=="-"||48<=J&&J<=57){var c=N;while(F[c]!=" ")c++;
o.push(F.slice(N,c));N=c}else throw X}return o}function I(F){var N="";for(var m=0;m<F.length;m++){if(F[m]=="_"&&F[m+1]=="x"){var ab=parseInt(F.slice(m+2,m+4),16);
N+=String.fromCharCode(ab);m+=4}else if(F[m]=="_")N+=" ";else N+=F[m]}return N}function Y(F){var N="xmlnode-nodename",o="xmlnode-nodevalue",X="xmlnode-attributes",J="xmlnode-children",c=F[N],p=F[X],d=F[J],k={_nam:c};
for(var A in p){var $=p[A];if(Object.keys($[X]).length!=0||$[J].length!=0)throw"e";if($[N]!=A)throw"e";
k[A]=$[o]}if(d.length==0)return k;var K=k.cln=[];for(var m=0;m<d.length;m++)K.push(Y(d[m]));return k}function U(F){var N="xmlnode-nodename",o="xmlnode-nodevalue",X="xmlnode-attributes",J="xmlnode-children",c=F[N].split(":").pop().replace("#",""),p=F[X],d=F[J],k="<"+c;
for(var A in p)if(A!="xmlns"&&A!="xmlns:v")k+=" "+A.split(":").pop()+"=\""+p[A][o]+"\"";k+=">"+(d.length==0?"":"\n");
for(var m=0;m<d.length;m++)k+=U(d[m]);if(F[o])k+=F[o];return k+"</"+c+">\n"}return _}();function i7(){}i7.GQ=function(){var _,n,O,l,x,C,Z,W;
function t(X){return R.lc(_,X)}function h(X){return R.HZ(_,X)}function V(X){return R.j0(_,X)}function y(X){return R.OI(_,X)}function r(X,J){var c=[];
for(var m=0;m<J;m++)c.push(V(X+m*4));return c}function E(X,J){var c=[];for(var m=0;m<J;m++)c.push(t(X+m*8));
return c}function a(X){return V((X+1)*4096-12)}function S(X){return V((X+1)*4096-8)}function e(X,n,J,c){if(l[X]==null)l[X]=[];
l[X].push([c,new Uint8Array(_.buffer,n,J)])}function P(X,J,c,p){var d=O[X],n=d*4096;n=n+V(n+4096-24-12-J*4);
var k=h(n),A=_[n+2],$=_[n+3];if(J!=A)throw A;if($==0)e(p,n+4,c,9);else{var K=h(n+6),G=V(n+8);e(p,n+12,k-12,9);
P(G,K,c-(k-12),p)}}function b(){var X=V(352),J=V(X*4096+128),c=V(936);O=[];l={};x={};for(var m=0;m<1e9;
m++){var p=V(c*4096+128+m*4);if(p==0)break;var d=r(p*4096+128,4096-128-12>>>2);O=O.concat(d)}for(var k=0;
k<O.length;k++){var A=O[k],$=a(A);if($!=6)continue;var n=A*4096,K=V(n);n+=4;for(var m=0;m<K;m++){var G=V(n);
n+=4;var z=V(n);n+=4;var M=V(n);n+=4;var hl=V(n);n+=4;if(G==0)x[z]=M;else{var j=M&65535,w=M>>>16;if(w==0)e(z,hl*4096,j,8);
else P(hl,w,j,z)}}}var C={};for(var B in l){var bB=l[B],bG=bB.length;if(bG==1)C[B]=bB[0][1];else{var eb=0,n=0;
for(var m=0;m<bG;m++)eb+=bB[m][1].length;var fe=C[B]=new Uint8Array(eb);for(var m=0;m<bG;m++){fe.set(bB[m][1],n);
n+=bB[m][1].length}}}return C}function T(n,X){var J=X?V(n):h(n),c="";n+=X?4:2;while(c.length<J){var p=_[n++],d=_[n++],k=0,A="";
p+=(d&15)*256;d=d&240;for(var m=0;m<p;m++){if(d==64)k=_[n++];else if(d==128)k=_[n++]|_[n++]<<8;else throw d;
A+=String.fromCharCode(k)}c+=A}return[c,n]}function s(n,X,J){var c=r(n,X);for(var m=0;m<X;m++){J.push(m);
if(c[m]>Z)throw"e";c[m]=q(c[m],J);J.pop()}return c}var f={};function q(X,J){if(W.indexOf(X)!=-1)return C[X];
if(X==0)return null;if(C[X]==null)return null;if(!(C[X]instanceof Uint8Array))return C[X];var c=_,n=0;
_=C[X];W.push(X);var p=x[X].toString(16),d=C[X]={_type:o[p]?o[p]+":"+p:"typ-"+p,_eid:X};while(n+8<_.length){var k=V(n);
n+=4;var A=k.toString(16),$=V(n);n+=4;var K=n+$;if(n+$>_.length){d._bin=_;break}g(A,Y,d,n,$,J);n=K}_=c;
W.pop();return d}function g(X,J,c,n,p,d){var k=J[X+":"+c._type];if(k==null)k=J[X];d.push(k?k[0]==""?X:k[0]:X);
if(k){var A=k[0],$=null,K=k[1];if(A=="")A=K+"-"+X;if(F[K]&&p!=F[K]){console.log(K);console.log(X,k);
console.log(_.slice(n,n+p));throw"e"}if(K=="mat")$=E(n,6);else if(K=="mmat")$=[q(V(n),d),E(n+6,6)];else if(K=="rect")$=E(n,4);
else if(K=="mrct"){$=E(n,4);$.push(h(n+32))}else if(K=="doub")$=t(n);else if(K=="pointArr"){var G=h(n);
$=r(n+2,G*2)}else if(K=="usrt")$=h(n);else if(K=="uint")$=V(n);else if(K=="pntr"||K=="ptr6"){$=q(V(n),d)}else if(K=="bool2"){if(h(n)!=0&&h(n)!=1)throw h(n);
$=h(n)==1}else if(K=="bool4"){if(V(n)!=0&&V(n)!=1)throw X+","+V(n);$=V(n)==1}else if(K=="color"){if(p!=38&&p!=30)throw p;
var z=V(n),M=h(n+4);$=[z];for(var m=0;m<M;m++)$.push(t(n+6+m*8))}else if(K=="path"){var hl=n+p;$=[];
var j=V(n);n+=4;for(var m=0;m<j;m++){var w=[[]];$.push(w);var B=V(n);n+=4;for(var bB=0;bB<B;bB++){var z=V(n);
n+=4;if(z<2){w[0].push([z,t(n),t(n+8),t(n+16),t(n+24),t(n+32),t(n+40)]);n+=48}else if(z==2){w[0].push([z,t(n),t(n+8)]);
n+=16}else throw z}w.push(h(n));n+=2}}else if(K=="ptrAndList"){var bG=V(n),eb=V(n+4);$=s(n+8,eb,d);$.unshift(q(bG,d))}else if(K=="ptrArray"||K=="ptrArrayX"){var fe=p>>2;
if(K=="ptrArray"){fe=V(n);n+=4;if(p!=4+fe*4)throw p}$=s(n,fe,d)}else if(K=="ptrArray2"){var fe=V(n);
n+=4;$=s(n,fe,d);n+=fe*4;fe=V(n);n+=4;$.push(s(n,fe,d))}else if(K=="cldrn"){var gB=V(n),hp=V(n+4),fe=V(n+8);
$={t:q(gB,d),ly:q(hp,d),EA:s(n+12,fe,d)};if(p!=12+fe*4){console.log(X,sa);throw"e"}if(gB==0)throw gB}else if(K=="aprnc"){var fe=V(n);
n+=4;$={};for(var m=0;m<fe;m++){var g6=V(n),by=h(n+4),e7=h(n+6);n+=8;var aN=N[g6.toString(16)];if(aN==null)aN="prm-"+g6.toString(16);
else aN=I(aN);$[aN]=[];for(var bB=0;bB<e7;bB++){var jK=V(n),f7=h(n+4),hW=null;n+=6;if(jK==28264)hW=t(n);
else if(jK==28263)hW=V(n);else if(jK==279)hW=q(V(n),d);else if(jK==28261)hW=h(n)==1;else if(jK==28265)hW=[t(n),t(n+4)];
else if(jK==83231)hW=T(n+3)[0];else if(jK==28259||jK==28260||jK==23094||jK==67679){hW=_.slice(n,n+f7)}else throw jK.toString(16);
$[aN].push(hW);n+=f7}}}else if(K=="lopts"){$={a0S:h(n+0)==1,show:h(n+2)==1,axr:h(n+4)==1,zs:V(n+10),name:T(n+21)[0]}}else if(K=="origin"){var hl=n+p;
if(_[n++]!=1)throw"e";var G=V(n);n+=4;var km=R.c$(_,n,G);n+=G;if(_[n++]!=1)throw"e";var ca=_[n++];if(ca!=1&&ca!=53)throw ca;
var aU=h(n);n+=2;if(aU!=0&&aU!=1)throw aU;var eJ=V(n);n+=4;if(eJ!=0&&eJ!=1)throw eJ;var am=V(n);n+=4;
if(am!=0&&am!=2&&am!=3)throw am;var eA=V(n);n+=4;var dj=T(n,!0);n=dj[1];dj=dj[0];var cM=V(n),b2=V(n+4);
n+=8;var cm=V(n);n+=4;if(cm!=0)throw cm;var az=V(n);n+=4;n+=3;var j_=T(n)[0];n+=2+2+j_.length;$={file:km,id:dj,Ol:j_}}else if(K=="string")$=T(n+3)[0];
else if(K=="relEnt"){var hh=h(n);n+=2;$=[];for(var m=0;m<hh;m++)$.push([V(n+m*8),q(V(n+m*8+4),d)])}else if(K=="textData"){var hl=n+p,gs=V(n);
n+=4;var g6=V(n);n+=4;var M=h(n);n+=2;var fI=[];for(var m=0;m<M;m++){var c0=V(n);n+=4;if(gs==514)fI.push(T(n,!0)[0]);
else if(gs==515){var ay=V(n),X=V(n+4),fC=i(n+8,d);fI.push([ay,q(X,d),fC])}else if(gs==516){var ay=V(n),X=V(n+4),jQ=h(n+8),fC=i(n+8,d);
fI.push([ay,q(X,d),fC])}else fI.push(_.slice(n,n+c0));n+=c0}if(hl-n!=12)throw hl-n;$=fI}else if(K=="storyProps"){var fw=V(n);
if(h(n+4)>1)throw"e";var aG=q(V(n+6),d),M=V(n+10),a_=q(V(n+14+M*4),d);$={apI:fw,a2j:aG,EA:s(n+14,M,d),a6D:a_,a2P:r(n+14+M*4+4,4)}}else if(K=="styleProps")$=i(n,d);
else if(K=="bounds"){var el=n,hh=V(n);n+=4;$=[];for(var m=0;m<hh;m++){var dD=[];$.push(dD);for(var bB=0;
bB<4;bB++)dD.push(t(n+bB*8));n+=32;dD.push(_[n]);n++}if(n!=el+p)throw"e"}else if(K=="columnPos"){var hh=V(n);
n+=4;$=[E(n,hh),t(n+hh*8)];n+=hh*8+8}else if(K=="StyleName"){$=[V(n+4)]}else if(K=="fontName"){var hl=n+p;
$=[h(n)];n+=2;for(var m=0;m<2;m++){var km=T(n+3);n=km[1];$.push(km[0])}$.push(V(n));n+=4;var ip=h(n);
n+=2;$.push(ip);var jn=h(n);n+=2;var af=[];$.push(af);for(var iU=0;iU<jn;iU++){var hV=[];af.push(hV);
var km=T(n+3);n=km[1];hV.push(km[0]);var gn=h(n);n+=2;var km=R.c$(_,n,gn);n+=gn;hV.push(km);for(var m=0;
m<3;m++){var km=T(n+3);n=km[1];hV.push(km[0])}hV.push(V(n));n+=4;var km=T(n,!0);n=km[1];hV.push(km[0])}if(n+4!=hl)throw"e";
$.push(V(n))}else throw K;if(c[A]!=null){console.log(A,c[A],$);console.log(d.slice(0));console.log(eid,X,n,c[A],k,$);
throw"e"}c[A]=$}else{var fY=_.slice(n,n+p);c["prop-"+X]=fY}d.pop()}function i(n,X){var J=h(n);n+=2;var c={};
for(var m=0;m<J;m++){var p=V(n);n+=4;var d=p.toString(16),k=h(n);n+=2;var A=h(n);n+=2;for(var $=0;$<A;
$++){var K=V(n);n+=4;var G=h(n);n+=2;g(d,U,c,n,G,X);n+=G}}return c}function u(X){_=new Uint8Array(X);
C=b();var J=C[2147483649];J=R.hm(J,4,J.length-4);delete C[2147483649];Z=0;for(var c in C)Z=Math.max(Z,parseInt(c));
W=[];var p={};for(var c in C)p[c]=C[c];for(var c in C)q(parseInt(c),[]);return C}function I(X){X=X.split(" ").join("");
return X[0].toLowerCase()+X.slice(1)}var Y={"2d2":["","bool2"],"1623":["","bool2"],"2c32":["visible","bool2"],cd1f:["","bool2"],"1b8":["","bool4"],"2c2d":["locked","bool4"],"118":["","uint"],"119":["bitmap","uint"],"117":["","uint"],"117:Page:50f":["color","pntr"],"117:Fill:1f05":["parentFill","pntr"],"56c":["","uint"],bf31:["","uint"],ca58:["","uint"],cade:["","uint"],"313":["","pntr"],a6b:["trapPreset","pntr"],e02:["","pntr"],"170d":["bitmapFill","pntr"],"1b916":["","pntr"],"205":["columns","ptrAndList"],"220":["obj228","ptrAndList"],"2ab":["story","ptrArrayX"],"302":["layer","ptr6"],"21f":["rect","rect"],"27e":["","rect"],"2d6":["rect","rect"],"565":["rect","rect"],"5dd":["rect","rect"],"1633":["rect","rect"],"51a":["margins","mrct"],"151":["transform","mat"],"2de":["transform","mat"],"40d":["transform","mat"],"56e":["transform","mat"],"5cc":["transform","mat"],"140f":["mTransform","mmat"],"14527":["transform","mat"],"528":["columnPos","columnPos"],"261":["relEnt","relEnt"],"262":["textData","textData"],"15b":["children","cldrn"],"2c8":["children","cldrn"],"303":["children","cldrn"],"503":["children","cldrn"],"28dc":["children","cldrn"],"104e5":["children","cldrn"],"1b95a":["children","cldrn"],"1f01":["color","color"],"162b":["path","path"],"6e03":["appearance","aprnc"],"304":["lopts","lopts"],"2c10":["name","string"],"8c92":["origin","origin"],"3e05":["name","fontName"],"20f":["","ptrArrayX"],"210":["","ptrArrayX"],"211":["","ptrArrayX"],"222":["stories","ptrArray2"],"223":["stoProps","storyProps"],"23f":["styProps","styleProps"],"2c6b":["bounds","bounds"],"230":["name","StyleName"],"301":["layers","ptrArray"],"501":["spreads","ptrArray"],"4c01":["sections","ptrArray"],"1401":["masterSpreads","ptrArray"],a67:["","ptrArray"],"1f05":["colors","ptrArray"],"1f0c":["","ptrArray"],"1f60":["","ptrArray"],"1f61":["","ptrArray"],"288a":["","ptrArray"],"377c":["textFrames","ptrArray"],"3e06":["","ptrArray"],"1081d":["","ptrArray"]},U={"1b01":["fillColor","pntr"],"1b02":["fontStyle","string"],"1b03":["FontSize","doub"],"1b11":["FontCaps","usrt"],"1b16":["StartIndent","doub"],"1b17":["EndIndent","doub"],"1b18":["FirstLineIndent","doub"],"1b1b":["leading","doub"],"1b26":["SpaceBefore","doub"],"1b27":["SpaceAfter","doub"],"1b2a":["Underline","bool2"],"1b2b":["font","pntr"],"1b3c":["FontBaseline","usrt"],"1b3d":["Strikethrough","bool2"],"1b7e":["align","usrt"]},F={mmat:54,mat:48,mrct:34,rect:32,doub:8,ptr6:6,uint:4,pntr:4,bool4:4,bool2:2,usrt:2},N={"10816":"Object Opacity","10891":"Stroke Opacity","10892":"Stroke Blending Mode","10893":"Stroke Knockout Group","10894":"Stroke Isolate Blending","108d8":"Fill Opacity","108d9":"Fill Blending Mode","108da":"Fill Knockout Group","108db":"Fill Isolate Blending","10817":"Object Blending Mode","10818":"Object Knockout Group","10819":"Object Isolate Blending","6e64":"Stroke Swatch","6e65":"Stroke Weight","6e66":"Stroke Tint","6e6e":"Stroke Type","6e68":"Fill Swatch","6e69":"Fill Tint","6e6b":"Stroke Cap","6e6c":"Stroke Join","6e6d":"Stroke Mitre Limit","6e8c":"Stroke Align Stroke","6e71":"Stroke Start Arrrowhead","6e72":"Stroke End Arrrowhead","6e89":"Stroke Gap Color Swatch","6e8a":"Stroke Gap Tint","6e84":"Stroke Arrowhead Align","6e95":"Stroke Start Arrowhead Scale","6e96":"Stroke End Arrowhead Scale","6e8f":"Corner 1 Shape","6e6f":"Corner 2 Shape","6e90":"Corner 3 Shape","6e91":"Corner 4 Shape","6e70":"Corner 1 Size","6e92":"Corner 2 Size","6e93":"Corner 3 Size","6e94":"Corner 4 Size","1081a":"Object Drop Shadow","1081f":"Object Drop Shadow Blending Mode","10837":"Object Drop Shadow Color","10895":"Stroke Drop Shadow","10899":"Stroke Drop Shadow Blending Mode","1084d":"Object Inner Shadow","1084f":"Object Inner Shadow Blending Mode","1eb8f":"GradientFeatherSetting GradientStart","1eb8e":"GradientFeatherSetting Length","14534":"name"},o={e01:"Document","301":"RESpread","236":"REParStyle","302":"Layer","401":"Group","501":"Spread","50f":"Page","227":"Column","201":"Story","205":"Style","263":"TextFrame",a32:"Trapping","1f05":"Fill","3e03":"Font","6201":"Path",ca18:"StoryText"};
return u}();function jR(){}jR.GQ=function(){var _=0;function n(r,E){var a=i7.GQ(r),I=1;_=0;var S=a[1],e=S.spreads,P=[],b=new a8;
for(var T=0;T<e.length;T++){var C=e[T],Z=C.children.EA,W=l(C),s=Z[0].children.EA,f=new a8;for(var q=0;
q<s.length;q++){var g=s[q],i=l(g);i.concat(W);var u=O(g);u.offset(i.Wk,i.d7);u=Q.p.tR(u);f=f.uG(u)}P.push(f);
b=b.uG(f)}while(Math.sqrt(b.O())*I<1e3)I++;E.a=b.a*I;E.n=b.n*I;E.buffer=new Uint8Array(4*E.a*E.n);E.Gl=!0;
E.GN(e.length);for(var T=0;T<e.length;T++){var C=e[T],Z=C.children.EA,Y=E.Ni();Y.FQ=24;Y.add.lsct=bN.GV;
Y.iA("Artboard "+(T+1));var U=P[T].clone();U.offset(-b.x,-b.y);U.x*=I;U.y*=I;U.a*=I;U.n*=I;U=Q.p.tR(U);
Y.C_(U);Y.to="pass";E.B.push(E.y9());var W=l(C);W.translate(-b.x,-b.y);W.scale(I,I);var F={};for(var N=0;
N<Z.length-1;N++){var o=Z[N],X=o.children.EA,J=E.Ni(),c=o.layer.lopts;if(c.name=="Internal_pages_layer_name"||F[c.name])continue;
F[c.name]=!0;J.FQ=24;J.add.lsct=bN.GV;J.iA(c.name);J.ND(c.show);if(c.a0S)J.add.lspf=1<<31;J.to="pass";
E.B.push(E.y9());for(var m=0;m<X.length;m++)h(X[m],E,W,a);E.B.push(J)}E.B.push(Y)}}function O(r){var E=r.rect;
return new a8(E[0],E[1],E[2]-E[0],E[3]-E[1])}function l(r){var E=r.transform;return new aY(E[0],E[1],E[2],E[3],E[4],E[5])}function x(r){var E=r.color,a=r.parentFill,e;
if(E==null&&a)E=a.color;if(E==null){console.log("strange color",r);return[0,0,0]}var S=E[0];if(S==5)e=E.slice(1);
else if(S==6)e=UDOC.C.cmykToRgb(E.slice(1));else if(S==7){var P=Q.da(E[1],E[2],E[3]);e=[P.o/255,P.J/255,P.k/255]}else{console.log(E);
throw S}return e}function t(r,E){var m=0,a=0;while(a+r[m][0]<=E){a+=r[m][0];m++}r=r[m][1].textData;m=0;
while(a+r[m][0]<=E){a+=r[m][0];m++}return r[m]}function h(r,E,a,S){var e=r.transform?l(r):new aY;e.concat(a);
a=e;var P=r.path,b=r.appearance,T=r.visible,C=r.children?r.children.EA:null,Z=E.Ni();if(T!=null)Z.ND(T);
var W=C&&C.length==1&&C[0].bitmapFill,s=r["bool2-1623"]&&C&&C.length==1&&C[0].rect&&C[0]._type.startsWith("TextFrame");
if(W){Z.iA("bitmap");var f=C[0],q=O(f),g=l(f);g.concat(a);var i=f.bitmapFill.bitmap;i=S[i]._bin;if(i.length!=i.buffer.byteLength)i=i.slice(0);
var u=E.zk(i,"img.jpg",0,0);u.FQ=Z.FQ;Z=u;var I=[0,0,q.a,0,q.a,q.n,0,q.n];Q.p.D(I,g,I);Z.add.SoLd.Trnf=D.D6.X6(I);
Z.add.SoLd.nonAffineTransform=D.D6.X6(I);Z.Ga(E,!1);var Y=f.path;if(Y&&Y.length!=0)Z.add.vmsk=y(Y,g,b);
else if(P&&P.length!=0)Z.add.vmsk=y(P,a,b);Z.W0();Z.bf(E)}else if(s){if(b&&b.strokeSwatch){var U=E.Ni();
V(U,E,b,P,a);E.B.push(U)}var F=C[0],q=O(F),g=l(F),w=0;g.concat(a);var N=F.children.EA[0],o=N.obj228,X=o[0].story[1],J=X.stoProps.a2j.relEnt,c=X.stoProps.EA[0].relEnt,p=X.stoProps.EA[1]["ptrArrayX-210"][0].textData,d=S[J[0][1].textData[0][1].name[0]],k=d?d.styProps:{};
p=p.join("").replace(/\r/g,"\n");var A=-1;while((A=p.indexOf("\uFFFC"))!=-1){p=p.slice(0,A)+(p[A-1]=="\n"?" ":" ")+p.slice(A+1)}Z.iA(p.slice(0,255));
Z.add.lnsr="rend";Z.add.TySh=b$.Jw(0,0);Z.add.TySh.T1=q;Z.add.TySh.D=g;var $=Z.add.TySh.m1;b$.qS($,0,p);
var K=b$.QN($,0,p.length);K.oM.FontSize=10;b$.gD($,0,p.length,K);var G=[];if(p.length!=0){var z=t(J,0),M=t(c,0),hl=1;
for(var m=1;m<p.length;m++){var P=t(J,m),j=t(c,m);if(P!=z||j!=M){G.push(hl);hl=0}z=P;M=j;hl++}if(hl!=0)G.push(hl)}for(var m=0;
m<G.length;m++){var B=t(c,w),bB=G[m],bG=Math.min(w+bB,p.length-1),eb=B[2],fe=B[1].styProps;if(fe==null)fe={};
var gB=t(J,w),hp=gB[1].styProps,g6=gB[2],by={};for(var e7 in k)by[e7]=k[e7];for(var e7 in hp)by[e7]=hp[e7];
for(var e7 in g6)by[e7]=g6[e7];for(var e7 in fe)by[e7]=fe[e7];for(var e7 in eb)by[e7]=eb[e7];var K=b$.QN($,w,bG),aN=["FontSize","FontCaps","Underline","Strikethrough","FontBaseline"],jK=aN.concat(["StartIndent","EndIndent","FirstLineIndent","SpaceBefore","SpaceAfter"]);
for(var f7=0;f7<jK.length;f7++){var e7=jK[f7],hW=f7<aN.length?K.oM:K.G1;if(by[e7]!=null)hW[e7]=by[e7]}if(by.fillColor){var km=x(by.fillColor);
K.oM.FillColor={Type:1,Values:[1].concat(km)}}if(by.font){var ca=by.font.name[5],aU=by.fontStyle;if(aU==null)aU="Regular";
for(var eJ=0;eJ<ca.length;eJ++)if(ca[eJ][0]==aU)b$.Wu(K,ca[eJ][1])}if(by.leading!=null&&by.leading>1){K.oM.Leading=by.leading;
K.oM.AutoLeading=!1}if(by.align!=null)K.G1.Justification=[0,2,1,6,3,5,4,0,0,0][by.align];b$.gD($,w,bG,K);
w+=bB}b$.EQ($,1);b$.IU($,[0,0,Math.round(q.a),Math.round(q.n)])}else if(r._type.startsWith("Path")&&(C==null||C.length==0)&&P){V(Z,E,b,P,a)}else{var am=r["prop-14526"];
if(C==null&&am){var eA=S[R.j0(am,20)];C=[eA]}if(C){if(P&&P.length!=0){Z.add.vmsk=y(P,a,b);Z.W0();Z.bf(E)}Z.iA("group");
Z.FQ=24;Z.add.lsct=bN.GV;E.B.push(E.y9());for(var m=0;m<C.length;m++)h(C[m],E,a,S)}}if(b){var dj=b.objectBlendingMode,cM=b.objectOpacity,b2=b.fillTint;
if(dj)Z.to="norm,mul ,scrn,over,sLit,hLit,div ,idiv,dark,lite,diff,smud,hue ,sat ,colr,lum ".split(",")[dj[0]];
if(cM)Z.opacity=Math.round(Z.opacity*cM[0]/100);if(!W&&b2)Z.opacity=Math.round(Z.opacity*b2[0]/100)}if(r.name)Z.iA(r.name);
else if(b&&b.name)Z.iA(b.name[0]);E.B.push(Z)}function V(r,E,a,S,e){r.iA("path");r.FQ|=16;var P=r.add.vstk=JSON.parse(JSON.stringify(aF.eo.default)),b=[0,0,0];
if(a){var T=a.strokeSwatch,C=a.fillSwatch,Z=a.strokeWeight;P.strokeEnabled.v=T!=null;P.fillEnabled.v=C!=null;
if(T){P.strokeStyleLineWidth.v.val=Z?Z[0]:1;b=x(T[0]);P.strokeStyleContent.v.Clr.v=Q.N.YS({o:b[0]*255,J:b[1]*255,k:b[2]*255})}if(C){b=x(C[0])}}r.add.SoCo={classID:"null",Clr:{t:"Objc",v:Q.N.YS({o:b[0]*255,J:b[1]*255,k:b[2]*255})}};
r.add.vmsk=y(S,e,a);r.W0();r.bf(E)}function y(r,E,a){var S=new v.ez,e=S.i;for(var P=0;P<r.length;P++){var b=r[P],T=b[0].length,C=b[1]==0,Z=C?0:3;
e.push({type:Z,length:T,wM:0,kr:2,w3:0,Dj:0});for(var m=0;m<T;m++){var W=b[0][m],s=W[0],f=new aW(W[1],W[2]),q=new aW(W[3],W[4]),g=new aW(W[5],W[6]);
if(s==0||s==1)e.push({type:Z+2,lz:f,H:q,l6:g});else if(s==2)e.push({type:Z+2,lz:f,H:f,l6:f});else throw s}}Q.M.qp(e,E);
return S}return n}();var D={};D.V=function(_){return window.devicePixelRatio||1};D.nd=function(_,n){return(n.axK=="touch"?12:8)*D.V()/_.u.K};
D.zi=function(_,n,O){this.name=_;this.id=n;this.Ve=null;if(O!=null)this.fV=O};D.zi.prototype.cZ=function(_,n,O,l,x){};
D.zi.prototype.enable=function(_,n,O,l,x,t){var h=new e_(H.E.L,!0);h.data={d:H.t.JK,vG:"default"};n.$(h)};
D.zi.prototype.disable=function(_,n,O,l,x){};D.zi.prototype.a62=function(_,n,O,l,x){return!1};D.zi.prototype.Ta=function(_,n,O,l,x){};
D.zi.prototype.x_=function(_,n,O,l,x){};D.zi.prototype.Xg=function(_,n,O,l,x){};D.zi.prototype.PF=function(_,n,O,l,x,t){};
D.zi.prototype.nN=function(_,n,O,l,x){};D.zi.prototype.op=function(_,n,O,l){};D.zi.prototype.$s=function(_,n,O,l){};
D.zi.prototype.Pg=function(_,n){};D.zi.prototype.Qb=function(_,n){};D.zi.prototype.OZ=function(_,n,O,l,x){};
D.zi.prototype.w1=function(_,n){};D.zi.prototype.$Y=function(_,n){return!1};D.zi.prototype.P0=function(_,n){return!1};
D.zi.prototype.HE=function(){return!1};D.zi.prototype.XT=function(_,n){return!0};D.zi.prototype.MN=function(){return null};
D.zi.prototype.Az=function(_,n,O){};D.zi.prototype.anI=function(){return!1};D.zi.prototype.Ib=function(_,n,O,l){};
D.zi.prototype.track=function(_){var n=new e_(H.E.yy,!0);n.data=_;_.zS=!0;this.Ve.$(n)};D.zi.vF=function(_,n,O,l){var x=10*D.V()*(_.axK=="touch"?2:1),t=_.x+x,h=_.y-x,V=Q.k4.eI(n.a,O.pa,l,O.a,!0),y=Q.k4.eI(n.n,O.pa,l,O.n,!0);
while(V.length<y.length)V=" "+V;while(V.length>y.length)y=" "+y;D.zi.GB(t,h,[hU.get([12,41]).charAt(0)+": "+V,hU.get([12,42]).charAt(0)+": "+y],O)};
D.zi.GB=function(_,n,O,l){function x(r,b,T,C,Z,W){r.beginPath();r.moveTo(b,T+W);r.arcTo(b,T+Z,b+W,T+Z,W);
r.arcTo(b+C,T+Z,b+C,T+Z-W,W);r.arcTo(b+C,T,b+C-W,T,W);r.arcTo(b,T,b,T+W,W)}var t=D.V(),h=Math.round,V=h(11*t),y=D.zi.afJ,E=0;
if(y==null)y=D.zi.afJ=document.createElement("canvas");var r=y.getContext("2d");r.font=V+"px monospace";
for(var m=0;m<O.length;m++)E=Math.max(E,r.measureText(O[m]).width);var a=h(E+12*t),S=h((O.length*14+5)*t),e=new a8(_,n-S,a,S);
if(y.width!=a||y.height!=S){y.width=a;y.height=S;r.font=V+"px monospace"}r.clearRect(0,0,a,S);r.fillStyle="rgba(0,0,3,0.8)";
x(r,0,0,a,S,h(4*t));r.fill();r.fillStyle="rgba(255,255,255,1)";for(var m=0;m<O.length;m++)r.fillText(O[m],h(6*t),h((m+1)*13*t));
var P=[r.getImageData(0,0,a,S).data,e.clone()];if(l)l.I.Wn=[P];return P};D.zi.afJ=null;D.cb="0";D.vQ="1";
D.a99="2";D.ag6="3";D.Za="5";D.as6="6";D.afB="7";D.DQ="8";D.pO="9";D.T4="10";D.ZH="11";D.yK="12";D.OU="13";
D.ef="14";D.Tw="16";D.Gp="18";D.CM="19";D.kq="20";D.vS="21";D.cv="22";D.fQ="23";D.DP="24";D.mm="25";
D.Mp="27";D.$j="31";D.aq5="32";D.atN="34";D.aed="35";D.Gb="36";D.KF="37";D.ok="38";D.bD="39";D.xw="40";
D.V3="41";D.Nn="42";D.IP="43";D.a1p="44";D.K9="47";D.An="48";D.i$="51";D.y_="52";D.bb="54";D.hD="55";
D.Rj="56";D.LU="57";D.PG="58";D.fY="59";D.fB="60";D.iz="61";D.KV="70";D.rd="100";D.E7="101";D.St="102";
D.Yf="103";D.lG="120";D.wR="230";D.a5W="231";D.kF="232";D.Ko="233";D.rV="234";D.rq="235";D.lI="236";
D.akN=function(_){var n=D.Zf,O=null;for(var l in n)if(n[l][1].indexOf(_[1].classID)!=-1)O=l;return O};
D.Zf={};D.Zf[D.fQ]=["tools/brush",["PbTl"]];D.Zf[D.DP]=["tools/pencil",["PcTl"]];D.Zf[D.$j]=["tools/eraser",["ErTl"]];
D.Os=function(_,n,O){D.zi.call(this,_,n,O);this._Q={brush:_?bL.kw():null,bmode:"norm",opacity:1,flow:1,smth:0,samp:0,emode:0,wconf:[40,!0,!0],sall:!1,algnd:!1,sfrom:0,alt:[!1],expo:.5,rng:1,strn:.5,pdetail:!0,smode:1,qsmode:0,setop:0,patch:0};
this.Yw=null;this.Qj=null;this.FI=null;this._A=null;this.EI=null;this.gb=null;this.NM=null;this.I9=null;
this.zx=null;this.RR=null;this.JN=null;this.AH=null;this.IW=null;this.ZC=1;this.$K=!1;this.QS=null;this.caller=null};
D.Os.prototype=new D.zi;D.Os.prototype.P0=function(_,n){return _.Ju&&n.l(bJ.fc)};D.Os.prototype.x_=function(_,n,O,l,x){if(l.l(bJ.Yk)){this.gb=new aW(x.x,x.y);
var t=this._Q.brush.Brsh.v,h=t.Dmtr.v.val,V=t.Hrdn!=null?t.Hrdn.v.val:-1;this.NM=[h,V,!0,JSON.parse(JSON.stringify(this._Q.brush)),x];
this.ee(O)}};D.Os.prototype.ao=function(_,n,O){var l=this.NM,x=_.u.K,t=O.x-l[4].x,h=O.y-l[4].y,V=l[0],y=l[1],r=Math.abs(t)>Math.abs(h);
if(r&&l[2]){var E=Math.round(2*t/x);V+=E;O.x-=t-.5*E*x}if(!r&&!l[2]&&y!=-1){var E=Math.round(.25*h);
y+=E;O.y-=h-4*E}V=Math.max(1,V);y=l[1]==-1?-1:Math.max(0,Math.min(100,y));var a=l[3];a.Brsh.v.Dmtr.v.val=V;
if(y!=-1)a.Brsh.v.Hrdn.v.val=y;this.NM=[V,y,r,a,O];var S=gh.c7(a,n.V5.y7,x),e=S[1];e.x=Math.round(this.gb.x-e.a/2);
e.y=Math.round(this.gb.y-e.n/2);_.I.Og=[S];var P=_.u.vk(this.gb.x,this.gb.y);_.I.Kq={gc:[],zO:[P.x-V/2,P.y,P.x+V/2,P.y]};
if(y!=-1)_.I.Kq.zO.push(P.x+50/x,P.y-y/2,P.x+50/x,P.y+y/2);_.Hc=!0};D.Os.prototype.nN=function(_,n,O,l,x){if(this.id==D.kq||this.id==D.vS)return;
if(this.gb){this.gb=null;this.Lx(JSON.parse(JSON.stringify(this.NM[3])));_.I.Og=[];_.I.Kq=null;_.Hc=!0;
return}var t=new e_(H.E.L,!0);t.data={d:H.t.F0,G:this.id,akw:"showBrushOpts",sX:new aW(x.B7+4,x.E8)};
n.$(t)};D.Os.prototype.Lx=function(_){var n=new e_(H.E.L,!0);n.data={d:H.t.Gf,nZ:gp.D7,Ov:_};this.caller.$(n)};
D.Os.qY=function(_,n,O,l,x,t){if(_==null)_="FrgC";if(n==null)n="norm";if(O==null)O=1;if(x==null)x=!1;
var h={classID:"Fl",Usng:{t:"enum",v:{FlCn:_}},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(O*100)}},PrsT:{t:"bool",v:x},Md:{t:"enum",v:{BlnM:b3.Aa(n)}}};
if(_=="Clr")h.Clr={t:"Objc",v:l};if(_=="contentAware")h.contentAwareColorAdaptationFill={t:"bool",v:!0};
if(_=="Ptrn")h.Ptrn={t:"Objc",v:t};return{et:"fill",ot:h}};D.Os.prototype.cZ=function(_,n,O,l,x){this.Ve=n;
var t=O.oO.length;if(t==0&&!O.eE())return;var h=t!=0?-1-O.oO[0]:O.g[0],V=O.B[h];if(_.d=="fromAction"){var y=_.Jp,r=y.ot;
if(r&&r.null&&r.null.v[0]&&r.null.v[0].v.classID=="Path"){var E=O.cx(),a=E[0],S=E[1],e=a[S.length==0?0:S[0]].add.vmsk;
if(y.et=="fill"){var P=e.Ek(),b=x.KU,T=this._Q,C=b>>16&255,Z=b>>8&255,W=b>>0&255;this.BQ(O,V,P,C,Z,W,Math.round(T.opacity*255),T.bmode,"Fill Path")}else{for(var s=0;
s<1e3;s++){var f=Q.M.TH(e.i,s,!0);if(f==-1){this.PF(O,n,x,l,null);break}var q=e.i[f],g=e.i.slice(f,f+1+q.length),i=Q.p.cX(g,!0).C,u=i.slice(0,8);
for(var I=8;I<i.length;I+=6)u.push(i[I-2],i[I-1],i[I],i[I+1],i[I+2],i[I+3],i[I+4],i[I+5]);var Y={};Y.Points=u;
Y.TextOnPathTRange=e.wP.slice(0);var Y=hf.HC(Y,2,q.type==3),U=Y[0];if(s==0)this.Ta(O,n,x,l,O.u.KS(U[0],U[1]));
else this.Qj.moveTo(U[0],U[1]);var F=U.length,N=q.type==0?F+2:F;for(var m=2;m<N;m+=2){var o=O.u.KS(U[m%F],U[(m+1)%F]);
o.Ju=!0;this.Xg(O,n,x,l,o,this._Q.flow)}this.Qj.finish();this.o8(O)}}}else if(y.et=="fill"){var X=r.PrsT?r.PrsT.v:!1,J=V?V.add.lspf:0;
if(X&&V){V.add.lspf=J==null?1:J|1}var c=(r.Opct?r.Opct.v.val:100)/100,p=r.Md?b3.SY(r.Md.v.BlnM):"norm",d=r.Usng.v.FlCn;
if(d=="contentAware"){if(O.P==null){alert("Select an area to heal first.");return}if(!O.eE())return;
this.gU(O);this.db(O,0);var k=O.P,A=Q.Q(k.rect.O()*4);Q.$c(k.channel,A,3);this.jl(O,"sheal",A,k.rect,k.rect);
this.U(O,k.rect);this.finish(O,k.rect)}else if(d=="Ptrn"){var $=x.LK,K=O.P?O.P.rect.clone():new a8(0,0,O.a,O.n),G=Q.Q(K.O()*4);
fW.Iv(r,G,K,$,new aW(0,0));this.wA(O,V,O.P,G,"norm",[6,48,0,2])}else{var b;if(d=="FrgC")b=x.KU;else if(d=="BckC")b=x.lV;
else if(d=="Blck")b=0;else if(d=="Wht")b=16777215;else if(d=="Gry")b=8421504;else if(d=="Clr"){var z=Q.N.JU(r.Clr.v);
b=z.o<<16|z.J<<8|z.k}var C=b>>16&255,Z=b>>8&255,W=b>>0&255;this.BQ(O,V,O.P,C,Z,W,Math.round(255*c),p,[2,3])}if(X&&V){V.add.lspf=J==null?0:J}}else if(y.et=="delete"){var M=h<0?1:V.LN,k=O.P,B;
if(k==null)return;var hl=h<0?O.U_[-h-1]:M<=0?null:M==1?V.Ek():V.vO(O).z,K=M<=0?V.rect:hl.rect,j=M<=0?k.rect.v6(K):k.rect.clone();
if(j.wk())return;var w=j.O();if(M<=0){B=Q.Q(w*4);Q.zw(V.buffer,V.rect,B,j)}else{B=Q.Q(w);hl.extend(j);
Q.pc(hl.channel,hl.rect,B,j)}if(0<=h&&V.cu(O,k)){if(M<=0){Q.qs(B,0);Q.zw(V.fa.hT,V.fa.pr,B,j)}else{B.fill(255);
Q.pc(V.fa.hT,V.fa.pr,B,j)}}else{if(M<=0){var bB=Q.Q(B.length>>2);Q.nV(B,bB,3);Q.q.A7(Q.A2(k.rect.O()),k.rect,bB,j,k.channel,j,1);
Q.$c(bB,B,3)}else{var bG=Q.Q(k.rect.O()),C=x.lV>>>16&255,Z=x.lV>>8&255,W=x.lV>>0&255;bG.fill(Math.round(Q.ls(C,Z,W)));
Q.q.A7(bG,k.rect,B,j,k.channel,j,1)}}this.L6(O,!0,[2,2],h,M,j,B)}}if(_.d=="stroke"){var eb=_.agR,k=O.P;
if(k==null){k={rect:V.rect.clone(),channel:Q.Q(V.rect.O())};Q.nV(V.buffer,k.channel,3)}var fe=fW.qA(eb),gB=D.iM.a3q(k,Math.ceil(fe[0]),Math.ceil(fe[1])),b=Q.N.JU(eb.Clr.v),C=Math.round(b.o),Z=Math.round(b.J),W=Math.round(b.k);
this.BQ(O,V,gB,C,Z,W,Math.round(255*eb.Opct.v.val/100),b3.SY(eb.Md.v.BlnM),[14,9])}if(_.d=="fillBMP"){this.wA(O,V,O.P,_.RS,_.Qf,_.hM)}if(_.d=="draw"){var hp=_.wL,g6=hp.rect;
this.gU(O);var by=O.B[O.g[0]];if(_.apJ&&by&&by.LN<=0&&O.oO.length==0){g6=D.Z0.a4m(hp,O);by.buffer=hp.buffer.slice(0);
by.rect=g6.clone()}else{var e7=this._Q.bmode;this._Q.bmode="norm";this.jl(O,"draw",hp.buffer,g6,g6.v6(new a8(0,0,O.a,O.n)));
this._Q.bmode=e7}this.U(O,g6);O.XS=!0;this.finish(O,g6,_.hM,_.apJ)}};D.Os.prototype.BQ=function(_,n,O,l,x,t,h,V,y){var r=O==null?new a8(0,0,_.a,_.n):O.rect,E=h<<24|t<<16|x<<8|l<<0,a=Q.Q(r.O()*4);
Q.qs(a,E);this.wA(_,n,O,a,V,y)};D.Os.prototype.wA=function(_,n,O,l,x,t){var h=_.oO.length!=0?-1-_.oO[0]:_.g[0],V=h<0?1:n.LN,y=h<0?_.U_[-1-h]:V<=0?null:V==1?n.Ek():n.vO(_).z,r=V<=0?n.rect:y.rect,E=O==null?new a8(0,0,_.a,_.n):O.rect,a=O==null?Q.ou(_.a*_.n):O.channel,S=E.O(),e,P=null;
if(V<=0){e=Q.Q(S*4);Q.zw(n.buffer,n.rect,e,E)}else{e=Q.Q(S);y.extend(E);Q.pc(y.channel,y.rect,e,E)}if(O!=null)Q.iB(a,l);
if(V>0){P=Q.Q(S);Q.mx(l,P)}if(0<=h&&O&&n.cu(_,O)){var b=n.fa.nt,T=n.fa.nt.slice(0);if(V<=0)Q.Jt(l,T);
else Q.Jt(P,T);var C=new gO([2,3],this);C.data={d:"drawtemp",j:_.g[0],Hr:V,amE:b,aei:T};_.dc(C);this.Pg(C.data,_)}else{if(V<=0){var Z;
if(n.bj(0)){Z=Q.Q(E.O());Q.nV(e,Z,3)}Q.q.Zn(x,l,E,e,E,E,1);if(n.bj(0))Q.$c(Z,e,3)}else Q.q.A7(P,E,e,E,a,E,1);
this.L6(_,!0,t,h,V,E,e)}};D.Os.prototype.$Y=function(_){if(bJ.uZ.indexOf(_)!=-1)return!0;return!1};D.Os.prototype.op=function(_,n,O,l){var x=this._Q.brush,t=l.l(bJ.Yk),h=t!=this.$K,V=D.Os.TX(x,l);
if(V!=null)this.Lx(V);if(!l.l(bJ.mV)&&l.ig()!=-1){var y=bJ.TT(Math.round(this._Q.opacity*100),l.ig())/100;
this.kk({opacity:y},n)}if(this.id==D.DQ&&h&&_!=null){var r=this._Q.qsmode;if(r==2)r=_.P==null?0:1;else r=2;
this.kk({qsmode:r},n)}this.$K=t;if(h){if(_)this.ZC=_.u.K;this.ee(O,l)}};D.Os.TX=function(_,n){var O=_.Brsh.v.Dmtr.v.val,l=_.Brsh.v.Hrdn!=null?_.Brsh.v.Hrdn.v.val:-1,x=O,t=l,h=n.l(bJ.fc);
if(n.l(bJ.u6)){if(h)l=25*Math.floor((l-1)/25);else{if(O<=10)O--;else if(O<=50)O=5*Math.floor((O-1)/5);
else if(O<=100)O=10*Math.floor((O-1)/10);else if(O<=200)O=25*Math.floor((O-1)/25);else if(O<=400)O=50*Math.floor((O-1)/50);
else O=100*Math.floor((O-1)/100)}}if(n.l(bJ.vW)){if(h)l=25*Math.ceil((l+1)/25);else{if(O<10)O++;else if(O<50)O=5*Math.ceil((O+1)/5);
else if(O<100)O=10*Math.ceil((O+1)/10);else if(O<200)O=25*Math.ceil((O+1)/25);else if(O<400)O=50*Math.ceil((O+1)/50);
else O=100*Math.ceil((O+1)/100)}}O=Math.max(1,O);l=Math.max(0,Math.min(100,l));if(t==-1)l=-1;if(O!=x||l!=t){var V=JSON.parse(JSON.stringify(_));
V.Brsh.v.Dmtr.v.val=O;if(t!=-1)V.Brsh.v.Hrdn.v.val=l;return V}return null};D.Os.prototype.ee=function(_,n,O,l){if(_.V5.list.length==0)return;
var x=this.id,t;if((x==D.Mp||x==D.CM||x==D.fQ||x==D.DP)&&(n!=null&&n.l(bJ.Yk)||this._Q.alt[0]))t="crosshair";
else{var h=this.ZC,V=this._Q.brush;if((x==D.Mp||x==D.CM)&&O&&this.AH&&this.AH.length==this.JN.O()*4){var y=O.u.vk(l.x,l.y),r=this.a3t(y),E=this.AH,a=this.JN,S=new a8(a.x+r.x,a.y+r.y,a.a,a.n),e=gh.c7(V,_.V5.y7,h),P=e[0],b=e[1],T=Math.ceil(b.a/h),C=new a8(Math.round(y.x-T/2),Math.round(y.y-T/2),T,T),Z=Q.Q(C.O()*4),W,s;
Q.zw(E,S,Z,C);if(h==1){W=Z;s=C}else{var f=new aY(h,0,0,h,0,0),q=D.D6.yn([Z,C],f,!0);s=b.clone();s.x=q.rect.x;
s.y=q.rect.y;if(s.yO(q.rect))W=q.buffer;else{W=Q.Q(s.O()*4);Q.zw(q.buffer,q.rect,W,s)}}var g=this._Q.opacity/255;
for(var m=0;m<W.length;m+=4)W[m+3]=g*(P[m+3]*W[m+3]);gh.apP(new Uint32Array(W.buffer),s,4278190080,4294967295);
t={G7:W,Sm:s,gp:new aW(s.a/2,s.n/2)}}else t=gh.AQ(V,_.V5.y7,h,x==D.mm)}var i=new e_(H.E.L,!0);i.data={d:H.t.JK,vG:t};
if(this.caller)this.caller.$(i)};D.Os.prototype.enable=function(_,n,O,l){this.Yw=O;this.caller=n;this.Lx(JSON.parse(JSON.stringify(this._Q.brush)));
if(_&&_.u.K!=0)this.ZC=_.u.K;this.ee(O,l)};D.Os.prototype.w1=function(_,n){if(n==gp.D7){this._Q.brush=_.V5.W5;
this.ee(_)}};D.Os.prototype.OZ=function(_,n,O,l,x){for(var t in _)this._Q[t]=_[t];if(this._Q.alt[0])this.ee(x,l,O)};
D.Os.prototype.apv=function(_){var n=_.oO.length!=0?-1-_.oO[0]:_.g[0],O=_.B[n],l=n<0?1:O.LN,x=n<0?_.U_[-n-1]:l<=0?null:l==1?O.Ek():O.vO(_).z,t=x?x.channel:O.buffer,h=(x?x.rect:O.rect).clone();
return[O,l,x,t,h]};D.Os.prototype.gU=function(_,n){this.IW=_.P==null?null:{rect:_.P.rect.clone(),channel:_.P.channel.slice(0)};
var O=this.apv(_),l=O[0],x=O[1],t=O[2];this.RR=O[3];this.zx=O[4];var h=new a8(0,0,_.a,_.n),V=h.uG(this.zx);
if((this.Sh()&&x<=0||V.yO(this.zx))&&n!=!0)this.RR=this.RR.slice(0);else{if(t)t.extend(V);else l.extend(V)}};
D.Os.prototype.db=function(_,n){var O=this.apv(_),l=O[1],x=O[3],t=O[4],h=[x,t],V=n!=null?n:this._Q.sfrom;
if(l<=0&&V!=0){h[1]=new a8(0,0,_.a,_.n);h[0]=_.Cs(V==1&&_.g[0]!=_.B.length-1?_.g[0]:null).slice(0)}this.JN=h[1].clone();
this.AH=h[0].slice(0)};D.Os.prototype.hf=function(_,n,O){if(_.l(bJ.Yk)){var l=new e_(H.E.s,!0);l.G=D.ef;
l.data={d:"pickhere",ajx:O};n.$(l);return!0}return!1};D.Os.prototype.cW=function(_,n,O,l,x,t){if(this.id!=D.DQ&&!_.eE(this.caller)){this.Qj=null;
return}if(this.id!=D.DQ&&this.Qj)return;this.gU(_);var h=new a8(0,0,_.a,_.n),V=null;if(t!=null){var y=_.oO.length!=0?-1-_.oO[0]:_.g[0],r=_.B[y],E=y<0?_.U_[-y-1]:r.LN<=0?null:r.LN==1?r.Ek():r.vO(_).z;
V=Q.Q(h.O()*4);if(E)D.Os.j4(this.RR,this.zx,E.color,V,h);else Q.zw(this.RR,this.zx,V,h)}var a=this._Q;
if(this.Qj&&this.id==D.DQ&&a.qsmode!=0&&_.P!=null){}else{var S=n.KU,e=n.lV;if(this.QS=="erase"){var P=S;
S=e;e=P}var b=this.id==D.DQ?this.zx:h;this.Qj=new gh(a.brush,n.V5.y7,n.V5.gg,{kX:x,mc:t,asK:a.smth*50/_.u.K,VY:this.id==D.DP||a.emode==1,VZ:_.VZ},S,e,b,V)}if(this.id==D.DQ){this.Qj.a1m(a.brush,a.qsmode==2?0:16777215)}var T=_.u.vk(l.x,l.y);
if(O.l(bJ.fc)&&this.FI){var C=this.FI;this.Qj.moveTo(C.x,C.y,l.Lz);this.Qj.lineTo(.001*C.x+.999*T.x,.001*C.y+.999*T.y,l.Lz);
this.Qj.lineTo(T.x,T.y,l.Lz)}else this.Qj.moveTo(T.x,T.y,l.Lz);this.FI=T;this._A=T.clone();this.EI=new fR(T,_.u.ws)};
D.Os.prototype.wS=function(_,n,O){if(_&&_.u.K!=0&&_.u.K!=this.ZC){this.ZC=_.u.K;this.ee(O)}};D.Os.prototype.WU=function(_,n,O,l){if(this.Qj==null)return;
var x=_.B[_.g[0]],t=_.u.vk(l.x,l.y),h=this.EI.WV(t,O);if(h.yO(this.FI))return 1;this.Qj.lineTo(h.x,h.y,l.Lz);
this.FI=h;if(this.id==D.Mp||this.id==D.CM){var V=this.SK(),y=11;V=_.u.KS(t.x-V.x,t.y-V.y);var r=y>>>1,E=new a8(Math.round(V.x)-r,Math.round(V.y)-r,y,y),a=Q.Q(E.O()*4);
Q.qs(16777215);for(var m=0;m<y;m++)a[(m*y+r)*4+3]=a[(y*r+m)*4+3]=255;_.I.Wn=[[a,E]];_.Hc=!0}};D.Os.prototype.$s=function(_,n,O,l){if(O.kp!=this.id)return;
if(this.id!=D.DQ||_==null)return;if(_.P==null||_.g[0]!=this.amf){this.amf=_.g[0];this.kk({qsmode:0},n)}};
D.Os.prototype.U=function(_,n){if(_.oO.length!=0){_.Hc=!0;return}var O=_.B[_.g[0]];if(n==null){n=this.Qj.Rz();
if(this.Sh()&&O.LN<=0)n=n.v6(this.zx)}var l=O.LN;if(l==1||l==3){var x=Math.round((l==1?O.Ek():O.vO(_).z).Vw*2.4);
n=n.clone();n.nQ(x,x)}if(n.wk())return;if(l<=0){O.U(n)}if(l==1){O.Ek().na=!0;O.bf(_,n)}if(l==3){O.U(n)}_.U(_.root.sf(n,_,_.g[0],!0))};
D.Os.prototype.PF=function(_,n,O,l,x){if(this.Qj==null)return;this.Qj.finish();if(this.id!=D.Gp&&this.id!=D.CM&&this.id!=D.DQ)this.o8(_);
if(this.id==D.Mp||this.id==D.CM){_.I.Wn=[];_.Hc=!0}if(this.id==D.DQ){var t=_.P;_.P=this.IW;var h=new e_(H.E.s,!0);
h.data={d:"setsel",hM:this.name,P:t};h.G=D.vQ;n.$(h);if(this._Q.qsmode==0)this.kk({qsmode:1},n)}else{this.finish(_,this.Qj.Hd());
this.Qj=null;this.I9=null}this.dir=0};D.Os.prototype.kk=function(_,n){for(var O in _)this._Q[O]=_[O];
var l=new e_(H.E.L,!0);l.data={d:H.t.F0,G:this.id,vP:_};n.$(l)};D.Os.prototype.Sh=function(){var _=this.id;
return _==D.DQ||_==D.$j||_==D.bD||_==D.xw||_==D.V3||_==D.cv};D.Os.prototype.finish=function(_,n,O,l,x){var t=_.oO.length!=0?-1-_.oO[0]:_.g[0],h=_.B[t],V=t<0?1:h.LN,y=t<0?_.U_[-t-1]:V<=0?null:V==1?h.Ek():h.vO(_).z,r=y?y.rect:h.rect,S;
if(this.Sh()||!r.yO(this.zx)){if(y==null){if(this.Sh())h.AO();else{var E=n.uG(this.zx),a=Q.Q(E.O()*4);
Q.zw(h.buffer,h.rect,a,E);h.buffer=a;h.rect=E}}else y.AO();this.U(_,r)}if(V<=0){S=Q.Q(n.O()*4);Q.zw(this.RR,this.zx,S,n)}else{S=Q.Q(n.O());
S.fill(y.color);Q.pc(this.RR,this.zx,S,n)}this.L6(_,!1,O?O:this.name,t,V,n,S,l,x)};D.Os.prototype.L6=function(_,n,O,l,x,t,h,V,y){var r=h;
if(x>0){r=Q.Q(t.O()*4);D.Os.j4(h,t,0,r,t)}var E=new gO(O,this);E.data=[{j:l,Hr:x,Sm:t,r0:r}];if(V)E.data.G0=[_.P,null];
if(y)E.data.G0=[this.IW,_.P];_.dc(E);if(n)this.Pg(E.data,_);else if(V)_.P=null;D.tc.ail(_,E.data)};D.Os.prototype.Qb=function(_,n){this.a03(_,n,!1)};
D.Os.prototype.Pg=function(_,n){this.a03(_,n,!0)};D.Os.prototype.a03=function(_,n,O){if(_.d=="drawtemp"){var l=O?_.aei:_.amE,x=n.B[_.j];
x.fa.nt=l;x.Ub(n,0,0,n.P);x.U();n.XS=!0}else{D.tc.ba(n,_);if(_.G0){n.P=_.G0[O?1:0];n.bo=!0}}n.U()};D.Os.prototype.o8=function(_){this.jl(_,this.QS,this.Qj.eN(),this.Qj.kf(),this.Qj.Rz());
this.U(_)};D.Os.prototype.jl=function(_,n,O,l,x){var t=this._Q,h=_.B[_.g[0]],V=_.oO.length!=0?_.U_[_.oO[0]]:h.LN<=0?null:h.LN==1?h.Ek():h.vO(_).z,y=Q.Q(x.O()*4),r,E=h.bj(0);
if(V==null){if(this.id==D.vS&&n=="heal")Q.zw(h.buffer,h.rect,y,x);else Q.zw(this.RR,this.zx,y,x);if(E){r=Q.Q(x.O());
Q.nV(y,r,3)}}else{D.Os.j4(this.RR,this.zx,V.color,y,x)}if(_.P&&n!="qselect"){var a=x.v6(_.P.rect),S=Q.Q(a.O()*4);
if(n=="copy"){var e=Q.Q(a.O());Q.pc(_.P.channel,_.P.rect,e,a);Q.zw(y,x,S,a);Q.q.ZT(O,l,S,a,e,a,0,a,1,!1)}else{Q.zw(O,l,S,a);
Q.Eg(_.P.channel,_.P.rect,S,a)}O=S;l=a}function P(C,g6){var e7=Math.max(g6.x,Math.min(g6.x+g6.a-1,C.x)),aN=Math.max(g6.y,Math.min(g6.y+g6.n-1,C.y));
return new aW(e7,aN)}if(n=="idraw"||n=="ierase"){if(this.I9==null)this.I9=Q.Q(this.zx.O());var b=this._Q.samp,T=this.Yw.lV,C=P(this.FI,x),Z=b==0?C:this._A,W=Z.x,s=Z.y,f=D.rr.af0(this.RR,this.zx,[Z,new aW(W-2,s),new aW(W+2,s),new aW(W,s-2),new aW(W,s+2)]);
if(b==2)f=[[T>>>16&255,T>>>8&255,T>>>0&255,255]];var q=D.rr.a6b(y,x,C,f,this._Q.wconf),g=Q.Q(x.O());
Q.pc(this.I9,this.zx,g,x);Q.FV.uG(q,g,g);Q.pc(g,x,this.I9,this.zx);Q.Eg(g,x,O,l);n=n.slice(1)}if(n=="erase"&&(D.tc.aue(_)!=16777215||V))n="draw";
if(n=="draw")Q.q.Zn(t.bmode,O,l,y,x,x,t.opacity);else if(n=="erase"){var i=Q.Q(x.O()*4);Q.zw(O,l,i,x);
if(V==null){var u=Q.Q(x.O());Q.nV(i,u,3);Q.ai(u,t.opacity);Q.sJ(u);Q.Eg(u,x,y,x)}else{Q.qs(i,0,4278190080);
Q.q.Zn("norm",i,x,y,x,x,t.opacity)}}else if(n=="clone"||n=="heal"){var I=this.SK(),Y=this.JN.clone();
Y.offset(I.x,I.y);var U=x.clone();U.nQ(1,1);var F=Q.Q(U.O()*4),N=Q.Q(U.O());Q.zw(O,l,F,U);Q.nV(F,N,3);
Q.qs(F,0);if(V==null){Q.zw(this.AH,Y,F,U);var o=Q.Q(U.O());Q.nV(F,o,3);Q.tB(o,N)}else D.Os.j4(this.AH,Y,V.color,F,U);
if(n=="clone"){Q.$c(N,F,3);Q.q.Zn(t.bmode,F,U,y,x,x,t.opacity)}if(n=="heal"){var X=N.slice(0);Q.round(X,20);
var J=Q.Q(U.O()*4);if(V==null)Q.zw(this.RR,this.zx,J,U);else D.Os.j4(this.RR,this.zx,V.color,J,U);Q.q.ZT(F,U,J,U,X,U,0,U,1,!1);
Q.KL.xj(J,X,U);Q.q.ZT(J,U,y,x,N,U,0,x,1,!1)}}else if(n=="dodge"||n=="burn"){var F=Q.Q(x.O()*4),d=1,k=0,A=0,$=0;
Q.zw(O,l,F,x);var c=x.O()*4,p=D.Os.iv;if(this.$K){if(n=="dodge")n="burn";else n="dodge"}var K=t.rng;
if(n=="dodge"){k=[1-d/2,1,1+d][K];A=[1,1/(1+d),1][K];$=[d/2,0,0][K]}if(n=="burn"){k=[1/(1-d/2),1,1-d/2][K];
A=[1,1+d,1][K];$=[-(d/2)/(1-d/2),0,0][K]}for(var m=0;m<c;m+=4){var G=F[m+3];y[m+0]=p(y[m+0],k,A,$,G);
y[m+1]=p(y[m+1],k,A,$,G);y[m+2]=p(y[m+2],k,A,$,G)}}else if(n=="sponge"||n=="redeye"){var F=Q.Q(x.O()*4),N=Q.Q(x.O());
Q.zw(O,l,F,x);Q.nV(F,N,3);Q.Jt(y,F);var z=t.smode;if(this.$K)z=1-z;var M=ie.gV("hue2");if(n=="sponge")c7.Ll(M,0,[0,[-50,46][z],[6,5][z]]);
else c7.Ll(M,1,{kN:[265,305,25,55],mi:[0,-90,-70]});var hl=a3.ja("hue2",M);a3.Er(hl,F,F,x);Q.q.ZT(F,x,y,x,N,x,0,x,1,!1)}else if(n=="copy")Q.zw(O,l,y,x);
else if(n=="sheal"){var F=Q.Q(x.O()*4),N=Q.Q(x.O());Q.zw(O,l,F,x);Q.nV(F,N,3);F.fill(0);var j=this.AH,w=this.JN;
if(V){j=Q.Q(w.O()*4);D.Os.j4(this.AH,w,0,j,w)}var B=Q.o9.xj(j,w,N,F,x);if(B!=0)Q.zw(j,w,F,x);if(this._Q.sfrom==0)Q.zw(F,x,y,x);
else{Q.zw(this.RR,this.zx,y,x);Q.$c(N,F,3);Q.q.Zn("norm",F,x,y,x,x,1)}}else if(n=="qselect"){var bB=this.zx,bG=bB.a,eb=bB.n,fe=bG*eb,gB=this.Qj.eN(),f=this.RR,hp=D.iM.$U,N=hp.X9;
N.fill(128);for(var m=0;m<fe;m++){var g6=gB[m<<2],by=gB[(m<<2)+3];if(by==255&&(g6==0||g6==255))N[m]=g6}N[0]=N[bG-1]=0;
N[(eb>>>1)*bG]=N[(eb>>>1)*bG+bG-1]=0;D.Om.ZQ(hp,!0);_.P={rect:bB,channel:hp.P.slice(0)};_.bo=!0}if(V==null){if(E)Q.$c(r,y,3);
Q.zw(y,x,h.buffer,h.rect)}else D.Os.bJ(y,x,V)};D.Os.SK=function(){return null};D.Os.iv=function(_,n,O,l,x){var t=_*(1/255),h=l+n*Math.pow(t,O),V=Math.round(h*x+t*(255-x));
return Math.max(0,Math.min(255,V))};D.Os.j4=function(_,n,O,l,x){var t=Q.Q(x.O());t.fill(O);Q.pc(_,n,t,x);
l.fill(255);Q.X$(t,l)};D.Os.bJ=function(_,n,O){var l=Q.Q(n.O());Q.mx(_,l);Q.pc(l,n,O.channel,O.rect)};
D.iM=function(_,n,O){D.zi.call(this,_,n,O);this._Q={binop:0,feat:0,cstr:{Rv:0,x:3,y:2},wconf:[16,!0,!0],anta:!0,sall:!1};
this.$e=new aW(-1,-1);this.HL=new aW(-1,-1);this.po="default";this.Ve=null;this.eW=!1;this.JW=new cA;
this.Yi=!1;this.tO=null;this.Y5=null;this.xO=!1;this.C1=!1};D.iM.prototype=new D.zi;D.iM.prototype.asm=function(){var _=this._Q,n=[_.binop,_.feat];
if(this.id==D.pO)n.push(_.wconf);return n};D.iM.prototype.afV=function(_,n,O){var l=this._Q;l.binop=_[0];
l.feat=_[1];l.wconf=_[2];this.s9(O)};D.iM.prototype.s9=function(_){var n=new e_(H.E.L,!0);n.data={d:H.t.F0,G:this.id,_Q:this._Q};
_.$(n)};D.iM.$U={key:""};D.iM.Um=function(_,n,O){var l={et:_,ot:{classID:"setd",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}};
if(n)l.ot.T=n;if(O!=null)l.ot.AntA={t:"bool",v:O};return l};D.iM.jI=function(_,n,O){return D.iM.Um("set",{t:"Objc",v:{classID:_,Top:{t:"UntF",v:{type:"#Pxl",val:n.y}},Left:{t:"UntF",v:{type:"#Pxl",val:n.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:n.y+n.n}},Rght:{t:"UntF",v:{type:"#Pxl",val:n.x+n.a}}}},O)};
D.iM.jd=function(_,n,O){var l=[],x=[],h="set";for(var m=0;m<_.length;m+=2){l.push(_[m]);x.push(_[m+1])}var t={t:"Objc",v:{classID:"Plgn",Pts:{t:"ObAr",v:{classID:"Pnt",arr:[{id:"Hrzn",type:"UnFl",uID:"#Pxl",arr:l},{id:"Vrtc",type:"UnFl",uID:"#Pxl",arr:x}]}}}};
if(n)h=["set","addTo","subtractFrom","interfaceWhite"][n];return D.iM.Um(h,t,O)};D.iM.ax0=function(_,n,O){var l={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:_.x}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:_.y}}}},x=D.iM.Um("set",l);
x.ot.Tlrn={t:"long",v:n[0]};x.ot.AntA={t:"bool",v:n[1]};x.ot.Cntg={t:"bool",v:n[2]};if(O==!0)x.ot.Mrgd={t:"bool",v:O};
return x};D.iM.qv=function(_){return D.iM.Um("set",{t:"enum",v:{Ordn:_?"Al":"None"}})};D.iM.anG=function(_,n,O){var l={classID:"null"};
if(_!="border")l.selectionModifyEffectAtCanvasBounds={t:"bool",v:O};var x={e:"By",c:"By",b:"Wdth",f:"Rds",s:"Rds"}[_[0]];
l[x]={t:"UntF",v:{type:"#Pxl",val:n}};return{et:_,ot:l}};D.iM.agh=function(_,n,O){var l={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},x={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:n}}]};
if(O)x.v.push({t:"name",v:{classID:"Lyr",val:O}});var t=[{classID:"null",null:l,T:x},{classID:"null",null:x,T:l},{classID:"null",null:x,From:l},{classID:"null",null:x,With:l}],h=["set","add","subtract","interfaceIconFrameDimmed"];
return{et:h[_],ot:t[_]}};D.iM.a9m=function(_,n){var O=new e_(H.E.L,!0);O.data={d:H.t.Gf,nZ:gp.Hl};if(!n.qq)_.$(O);
O.data={d:H.t.Gf,nZ:gp.Bx};if(!n.lW.M0)_.$(O)};D.iM.prototype.cZ=function(_,n,O,l,x){D.iM.a9m(n,x);this.Ve=n;
var t=_.d,h,V,y=new a8(0,0,O.a,O.n),cM=!1,b2,cm,az,j_;if(t=="fromAction"){var r=_.Jp,E=r.et,a=r.ot,S=a?a.selectionModifyEffectAtCanvasBounds:null,e=S&&S.v;
if(E=="colorRange"){if(a.Clrs){var P=a.Clrs.v.Clrs,b=0,T=255,C=["Shdw","Mdtn","Hghl"].indexOf(P),f=.4;
if(C==0)T=60;else if(C==1){b=100;T=150}else b=190;var Z=["shadows","midtones","highlights"][C],W=a[Z+"LowerLimit"],s=a[Z+"UpperLimit"];
if(W)b=W.v;if(s)T=s.v;var q=a[Z+"Fuzziness"];if(q)f=q.v/100;h=D.iM.bW(O,b,T,f,!0)}else{var b=a.Mnm.v,T=a.Mxm.v,f;
b={oT:b.Lmnc.v,EX:b.A.v,k:b.B.v};T={oT:T.Lmnc.v,EX:T.A.v,k:T.B.v};f=a.Fzns.v/200;h=D.iM.bW(O,b,T,f)}V=[7,8]}else if(E=="inverse"){if(O.P==null){alert("No selection!");
return}h={channel:Q.Q(y.O()),rect:y};Q.pc(O.P.channel,O.P.rect,h.channel,h.rect);Q.sJ(h.channel);V=[7,2]}else if(E=="expand"){var g=a.By.v.val,i=O.P.rect.clone();
i.nQ(g,g);var u=Q.Q(i.O()),I=Q.Q(i.O());Q.pc(O.P.channel,O.P.rect,I,i);Q.style.stroke(I,u,i,g);h={channel:u,rect:i};
V=[7,4]}else if(E=="contract"){var g=a.By.v.val,Y=O.P.rect.clone();Y.nQ(1,1);if(!e)Y=Y.v6(y);var I=Q.Q(Y.O()),U=Q.Q(I.length);
Q.pc(O.P.channel,O.P.rect,I,Y);Q.sJ(I);Q.style.stroke(I,U,Y,g);Q.sJ(U);h={channel:U,rect:Y};Q.AO(h);
V=[7,5]}else if(E=="border"){var g=a.Wdth.v.val;h=D.iM.a3q(O.P,g/2,g/2);V=[7,9]}else if(E=="feather"||E=="smoothness"){var g=a.Rds.v.val;
h=D.iM.av5(O.P,g,E=="smoothness",y,e);V=E=="feather"?[7,6]:[19,3,0]}else if(E=="move"){var F=a.T.v,i=O.P.rect.clone();
i.x+=F.Hrzn.v.val;i.y+=F.Vrtc.v.val;h={channel:O.P.channel,rect:i};V=[7,7]}else{var N=a.null.v,o=a.AntA!=null&&a.AntA.v;
function X(iU){var hV=iU.Top.v.val,c0=iU.Left.v.val;return new a8(c0,hV,iU.Rght.v.val-c0,iU.Btom.v.val-hV)}function J(iU){var hV=iU[0].arr,gn=iU[1].arr,fY={C:[],F:[]};
for(var m=0;m<hV.length;m++){fY.F.push(m==0?"M":"L");fY.C.push(hV[m],gn[m])}fY.F.push("Z");return fY}var c=["set","addTo","subtractFrom","interfaceWhite"].indexOf(E),p=a.T?a.T.v:null;
if(p&&p.classID=="Elps"){h=this.a2w(D.Fb.aoN(X(p)));V=[10,4]}else if(p&&p.classID=="Rctn"){var d=X(p);
h={channel:Q.Q(d.O()),rect:d.clone()};h.channel.fill(255);V=[10,15]}else if(p&&p.classID=="ObSl"){var d=X(p),k=D.iM.$U,A=k.rect,$=k.X9,K=A.a,G=A.n,z=d.x-A.x,M=z+d.a-1,hl=Math.max(z,Math.min(M,z+M>>>1)),j=d.y-A.y,w=j+d.n-1,B=Math.max(j,Math.min(w,j+w>>>1)),bB=Math.max(z,0),bG=Math.min(M,K),eb=Math.max(j,0),fe=Math.min(w,G);
$.fill(128);if(0<=j)for(var gB=bB;gB<bG;gB++)$[j*K+gB]=0;if(w<G)for(var gB=bB;gB<bG;gB++)$[w*K+gB]=0;
if(0<=z)for(var hp=eb;hp<fe;hp++)$[hp*K+z]=0;if(M<K)for(var hp=eb;hp<fe;hp++)$[hp*K+M]=0;var g6=D.q6.aaa,by=Math.round(d.a*g6),e7=Math.round(d.n*g6);
for(var gB=Math.max(0,hl-by);gB<Math.min(K,hl+by);gB++)$[B*K+gB]=255;for(var hp=Math.max(0,B-e7);hp<Math.min(G,B+e7);
hp++)$[hp*K+hl]=255;D.Om.ZQ(k,!0);h={channel:k.P.slice(0),rect:A.clone()};V=[10,44]}else if(p&&p.classID=="Plgn"){h=this.a2w(J(p.Pts.v.arr));
V=[10,9]}else if(p&&p.classID=="Pnt"){h=D.rr.afP(O,new aW(p.Hrzn.v.val,p.Vrtc.v.val),[a.Tlrn.v,o,a.Cntg==null||a.Cntg.v],a.Mrgd?a.Mrgd.v:!1);
V=[10,12]}else if(p&&p.Ordn=="None"){h=null;V=[7,1]}else if(p&&p.Ordn=="Al"){var aN=y;if(O.g.length!=0){var jK=O.root.yJ(O.g[0]);
while(jK.parent&&jK.parent.parent)jK=jK.parent;if(jK.j.add.artb)aN=jK.j.DM()}h={channel:Q.Q(aN.O()),rect:aN};
h.channel.fill(255);V=[7,0]}else if(p&&p[0]&&p[0].v.keyID=="WrPt"){var f7={d:"frompath",xV:[-1,0,0]};
this.cZ(f7,n,O,l,x);return}else{var hW=["set","add","subtract","interfaceIconFrameDimmed"].indexOf(E),km=E=="set"?p:N,ca=km[0].v.enum,f7;
if(ca=="Trsp"||ca=="Msk"||ca=="vectorMask"||ca=="Trgt"){var aU=O.g[0];if(km.length==2)aU=g3.gk(O,km[1]);
var eJ=["Trsp","Msk","vectorMask"].indexOf(ca);if(ca=="Trgt"&&O.B[aU].LN==1)eJ=1;f7={d:"fromlayer",xV:[aU,eJ,hW]}}else{if(km[0].t=="name"){var aU=0;
for(var m=0;m<O.U_.length;m++)if(O.U_[m].name==km[0].v.val)aU=m;f7={d:"fromchannel",xV:[-5-aU,0,hW]}}else{var am=["RGB","Rd","Grn","Bl"].indexOf(ca);
f7={d:"fromchannel",xV:[-1-am,0,hW]}}}this.cZ(f7,n,O,l,x);return}if(h){if(!o)Q.round(h.channel);if(a.Fthr)h=D.iM.av5(h,a.Fthr.v.val,!1);
if(E!="set"&&O.P!=null)h=Q.FV.dz(h,O.P,c)}}if(E=="expand"||E=="contract")if(!e&&!y.contains(h.rect)){var eA=h.rect.v6(y),dj=Q.Q(eA.O());
Q.pc(h.channel,h.rect,dj,eA);h.channel=dj;h.rect=eA}}if(t=="qmask"){cM=!0;var hh=O.t5(),gs=new a8(0,0,O.a,O.n);
if(hh){h=hh.rect.yO(gs)&&Q.QX(hh.channel,255)?null:{rect:hh.rect.clone(),channel:hh.channel.slice(0)};
b2=hh}else{h=null;cm=new v.Pt;cm.color=0;cm.name="Quick Mask";cm.K_=!0;if(O.P){cm.rect=O.P.rect.clone();
cm.channel=O.P.channel.slice(0)}else{cm.rect=gs;cm.channel=Q.Q(cm.rect.O());cm.channel.fill(255)}}V=[6,6,1];
O.XS=!0}if(t=="setsel"){h=_.P;V=_.hM}if(t=="crange"){var b=_.wc,T=_.xS;h=D.iM.bW(O,b,T,_.Ms);V=[7,8]}if(t=="fromlayer"||t=="fromchannel"||t=="frompath"){var fI=_.xV[0],eJ=_.xV[1],c=_.xV[2];
if(t=="fromlayer"){if(fI==null)fI=O.g[0];var c0=O.B[fI];if(eJ==0){var ay=c0.rect,fC=c0.buffer;if(ay.wk())return;
var fw=Q.Q(fC.length>>>2);Q.nV(fC,fw,3);h={channel:fw,rect:ay.clone()}}else{if(c0.z==null)c0.bf(O);var aG=eJ==1?c0.Ek():c0.z;
h=D.iM.adc(aG,y)}this.track(D.iM.agh(c,["Trsp","Msk"][eJ],c0.getName()))}else if(t=="frompath"){var a_=O.cx(),el=a_[1],a_=a_[0],jn=!0;
if(fI==null)if(a_.length==0||el.length==0)return;var dD=a_[el[0]];if(fI!=null)for(var m=0;m<a_.length;
m++)if(a_[m].tE==fI)dD=a_[m];var aG=dD.add.vmsk.Ek(),ip=aG.kf();if(ip.O()==0)return;var fw=aG.pp();if(_.xV[3]!=null)jn=_.xV[3];
if(!jn){fw=fw.slice(0);Q.round(fw)}az=[JSON.stringify(O.WJ),JSON.stringify(O.tF)];j_=["[]","[]"];O.WJ=[];
O.tF=[];h={channel:fw,rect:ip}}else{if(fI==null)fI=D.iM.aar(O);h=D.iM.aiF(O,fI)}if(c!=0&&O.P)h=Q.FV.dz(h,O.P,c);
V=[14,11]}if(h!=null&&Q.QX(h.channel,0)){h=null;V=[7,1]}if(h)Q.AO(h);var af=new gO(V,this);af.data={d:"changesel",IW:O.P,Ss:h,t5:cM,a3_:b2,a3N:cm,hi:az,alK:j_};
O.dc(af);this.Pg(af.data,O)};D.iM.aar=function(_){var n=0;if(_.oO.length!=0)n=-5-_.oO[0];else if(JSON.stringify(_.u.CN)=="[1,1,1]")n=-1;
else n=-2-_.u.CN.indexOf(1);return n};D.iM.aiF=function(_,n){var O,l=new a8(0,0,_.a,_.n);if(-5<n&n<0){var x=-n-1,t=_.Cs(),h=Q.Q(l.O());
if(x==0)Q.mx(t,h);else Q.nV(t,h,x-1);O={channel:h,rect:l.clone()}}if(n<-4){O=D.iM.adc(_.U_[-n-5],l)}return O};
D.iM.adc=function(_,n){var O,l;if(_.JU()==0){l=_.kf().clone();if(l.O()==0)return;O=_.pp()}else{l=n;O=Q.Q(l.O());
_.H9(l,O)}return{channel:O,rect:l}};D.iM.prototype.P0=function(_){return this.Yi||_.Ju&&this.id!=D.Za};
D.iM.prototype.Es=function(_,n,O){var l=new e_(n,!0);l.data=O;_.$(l)};D.iM.prototype.akW=function(_,n){var O=new e_(H.E.L,!0);
O.data={d:H.t.JK,vG:n};_.$(O)};D.iM.prototype.kf=function(_,n,O){n=_.P==null||this.JW.LF(1)||this.JW.ON(1)?n:null;
var l=this.$e,x=this.HL;if(O){l.x=Math.max(0,Math.min(_.a,l.x));l.y=Math.max(0,Math.min(_.n,l.y));x.x=Math.max(0,Math.min(_.a,x.x));
x.y=Math.max(0,Math.min(_.n,x.y))}var t=D.fx.Yh(l,x,n,!0,this._Q.cstr),h=t[0].x,V=t[0].y;return new a8(h,V,t[1].x-h,t[1].y-V)};
D.iM.prototype.Ta=function(_,n,O,l,x){this.C1=!0;if(this.vB())return;this.Ve=n;this.eW=!1;this.JW.Ta(l);
this.$e=_.u.vk(x.x,x.y);this.$e=D.dV.up(_,this.$e,O);if(this.ajb(_,this.$e,l)){this.Yi=!0;this.tO=_.P.rect.clone();
return}this.km(_,O,l,x);_.u.t9=new a8};D.iM.prototype.ajb=function(_,n,O){var l=O.l(bJ.fc),x=O.l(bJ.Yk);
if(_.P&&!l&&!x&&this._Q.binop==0)return Q.FA(n,_.P.channel,_.P.rect);return!1};D.iM.prototype.Xg=function(_,n,O,l,x){this.Ve=n;
if(this.xO)return;var t=_.u.vk(x.x,x.y);if(aW.nT(this.$e,t)*_.u.K>5){this.eW=!0;this.JW.Xg()}if(l.l(bJ.pN)){if(this.Y5==null)this.Y5=new aW(t.x-this.$e.x,t.y-this.$e.y);
this.$e.x=t.x-this.Y5.x;this.$e.y=t.y-this.Y5.y}else this.Y5=null;this.HL=t;if(!this.Yi)this.HL=D.dV.up(_,this.HL,O);
if(this.ajb(_,this.HL,l))this.akW(n,"move");else this.akW(n,this.po);if(this.Yi){var h=this.tO.clone();
h.x+=this.HL.x-this.$e.x;h.y+=this.HL.y-this.$e.y;var V=D.dV.D8(_,h,O);_.P.rect.x=Math.round(this.HL.x-this.$e.x+this.tO.x+V[0]);
_.P.rect.y=Math.round(this.HL.y-this.$e.y+this.tO.y+V[1]);_.bo=!0;D.dV.$Q(_,h,V);return}this.w$(_,O,l,x,n);
if(_.u.t9)_.u.t9=this.kf(_,l)};D.iM.prototype.vB=function(){return!1};D.iM.prototype.PF=function(_,n,O,l,x,t){var h=this.C1;
this.C1=!1;if(t||!h)return;_.u.t9=null;this.HL=_.u.vk(x.x,x.y);this.HL=D.dV.up(_,this.HL,O);if(this.Yi){this.Yi=!1;
if(_!=null&&_.I.LV){_.I.LV=null;_.Hc=!0}if(this.HL.yO(this.$e)&&this.Ro()==0){this.Es(n,H.E.yy,D.iM.qv());
return}this.aoc(_,this.tO,_.P.rect.clone());return}this.sL(_,O,l,x,n);D.iM.a9m(n,O);this.JW.PF();this.B2(n)};
D.iM.prototype.aoc=function(_,n,O){var l=_.bU();if(l!=null&&l.G==this&&l.data.d=="movesel"){}else{l=new gO([7,7],this);
l.data={d:"movesel",vf:n};_.dc(l)}l.data.ka=O;this.Pg(l.data,_)};D.iM.prototype.x_=function(_,n,O,l,x){this.xO=!0};
D.iM.prototype.nN=function(_,n,O,l,x){var t=new e_(H.E.L,!0);t.data={d:H.t.F0,G:this.id,Mu:x,JP:_,TG:O};
n.$(t);this.xO=!1};D.iM.prototype.op=function(_,n,O,l){this.JW.op(l);if(_!=null&&_.P!=null){var x=l.yi();
if(x.x!=0||x.y!=0){var t=_.P.rect.clone();t.x+=x.x;t.y+=x.y;this.aoc(_,_.P.rect.clone(),t)}}this.B2(n)};
D.iM.prototype.B2=function(_){var n=new e_(H.E.L,!0);n.data={d:H.t.F0,G:this.id,zN:this.Ro()};_.$(n)};
D.iM.prototype.Ro=function(){var _=this.JW.LF(0),n=this.JW.ON(0);return D.iM.VH(this._Q.binop,_,n)};
D.iM.VH=function(_,n,O){if(n)_=1;if(O)_=2;if(n&&O)_=3;return _};D.iM.prototype.finish=function(_,n,O,l){var x=_.P,t=this.getSelection(_,n,O,l);
if(t==null)t=D.iM.qv();else{var h=this._Q.feat,V=this.Ro();if(h!=0)t.ot.Fthr={t:"UntF",v:{type:"#Pxl",val:h}};
if(V!=0&&V!=4)t.et=["","addTo","subtractFrom","interfaceWhite",""][V]}this.Es(this.Ve,H.E.yy,t);this.$e.BX(-1,-1);
this.HL.BX(-1,-1)};D.iM.prototype.getSelection=function(_,n,O,l){return null};D.iM.prototype.km=function(_,n,O,l){};
D.iM.prototype.w$=function(_,n,O,l){};D.iM.prototype.sL=function(_,n,O,l){};D.iM.prototype.Qb=function(_,n){var O=_.d;
if(O=="changesel")n.P=_.IW;if(O=="movesel")n.P.rect=_.vf;if(_.t5){if(_.a3_){n.oO=[n.U_.length];n.U_.push(_.a3_)}else{n.U_.pop();
n.oO=[]}}if(_.hi){n.WJ=JSON.parse(_.hi[0]);n.tF=JSON.parse(_.hi[1])}n.bo=!0};D.iM.prototype.Pg=function(_,n){var O=_.d;
if(O=="changesel")n.P=_.Ss;if(O=="movesel")n.P.rect=_.ka;if(_.t5){if(_.a3N){n.oO=[n.U_.length];n.U_.push(_.a3N)}else{n.U_.pop();
n.oO=[]}}if(_.hi){n.WJ=JSON.parse(_.alK[0]);n.tF=JSON.parse(_.alK[1])}n.bo=!0};D.iM.prototype.OZ=function(_){this._Q=_._Q};
D.iM.prototype.a2w=function(_){var n=Q.p.f0(_.C);if(n.wk())return null;var O=Q.jk(n.a,n.n);O.save();
O.beginPath();O.translate(-n.x,-n.y);Typr.U.pathToContext({cmds:_.F,crds:_.C},O);O.closePath();O.fill();
O.restore();var l=Q.Q(n.O()),x=O.getImageData(0,0,n.a,n.n);Q.nV(x.data,l,3);return{rect:n,channel:l}};
D.iM.av5=function(_,n,O,l,x){if(O)n=Math.round(n*.7);var t=Math.ceil(2.6*n),h=_.rect.clone();h.nQ(t,t);
if(l&&!x)h=h.v6(l);var V=Q.Q(h.O()),y=Q.Q(V.length);Q.pc(_.channel,_.rect,y,h);Q.OX.ff(y,V,h,n);if(O){var r=V.length;
for(var m=0;m<r;m++){var E=(V[m]-128)*n*2.5;V[m]=Math.max(0,Math.min(255,Math.round(128+E)))}}return{channel:V,rect:h}};
D.iM.a3q=function(_,n,O){var l=Math.max(1,Math.ceil(O)),x=_.rect.clone();x.nQ(l,l);var t=x.O(),h={channel:Q.Q(t),rect:x},V=Q.Q(t);
Q.pc(_.channel,_.rect,V,h.rect);if(O!=0)Q.style.stroke(V,h.channel,h.rect,O);else Q.Jt(V,h.channel);
var y=Q.Q(t);Q.sJ(V);if(n!=0)Q.style.stroke(V,y,h.rect,n);else Q.Jt(V,y);Q.FV.v6(h.channel,y,h.channel);
return h};D.iM.bW=function(_,n,O,l,x){var t=new a8(0,0,_.a,_.n),h=_.Cs();if(_.P){var V=_.P.rect.v6(t),y=Q.Q(V.O()*4);
Q.zw(h,t,y,V);t=V;h=y}var r=t.O(),E=Q.Q(r),a=1/l;if(x){if(n>=O)n=O-1;var S=n*(1-l),e=n,P=O,b=O+(255-O)*l,T=S==e?0:1/(e-S),C=P==b?0:1/(b-P);
for(var m=0;m<r;m++){var Z=m<<2,W=Q.ls(h[Z],h[Z+1],h[Z+2]),s=0;if(W<S)s=0;else if(W<e)s=(W-S)*T;else if(W<=P)s=1;
else if(W<=b)s=1-(W-P)*C;else s=0;E[m]=h[Z+3]*s*s}}else for(var m=0;m<r;m++){var Z=m<<2,f=Q.KY(h[Z],h[Z+1],h[Z+2]),s=Q.y2(f,n,O,l,a);
E[m]=h[Z+3]*s}return{rect:t,channel:E}};D.Bh=function(){D.Os.call(this,[10,18],D.Gb,"tools/blur");this.QS="copy"};
D.Bh.prototype=new D.Os;D.Bh.prototype.Ta=function(_,n,O,l,x){var t=l.l(bJ.Yk)?gh.PY:gh.Gb;this.cW(_,O,l,x,this._Q.strn,t);
if(this.Qj==null)return;this.o8(_)};D.Bh.prototype.Xg=function(_,n,O,l,x){this.wS(_,n,O);if(this.gb)this.ao(_,O,x);
if(this.Qj==null)return;if(!x.Ju)return;this.WU(_,O,l,x);this.o8(_)};D.eb=function(){D.Os.call(this,[10,0],D.fQ,"tools/brush");
this.QS="draw"};D.eb.prototype=new D.Os;D.eb.prototype.Ta=function(_,n,O,l,x){if(this.hf(l,n,x))return;
this.cW(_,O,l,x,this._Q.flow);if(this.Qj==null)return;this.o8(_)};D.eb.prototype.Xg=function(_,n,O,l,x){this.wS(_,n,O);
if(this.gb)this.ao(_,O,x);if(this.Qj==null)return;if(!x.Ju)return;this.WU(_,O,l,x);this.o8(_)};D.ub=function(){D.Os.call(this,[10,42],D.mm,"tools/crepl");
this.QS="idraw";this._Q.bmode="hue "};D.ub.prototype=new D.Os;D.ub.prototype.Ta=function(_,n,O,l,x){if(this.hf(l,n,x))return;
this.cW(_,O,l,x,this._Q.flow);if(this.Qj==null)return;this.o8(_)};D.ub.prototype.Xg=function(_,n,O,l,x){this.wS(_,n,O);
if(this.gb)this.ao(_,O,x);if(this.Qj==null)return;if(!x.Ju)return;this.WU(_,O,l,x);this.o8(_)};D.$J=function(){D.Os.call(this,[10,43],D.cv,"tools/redeye");
this._Q.smode=0;this.QS="redeye"};D.$J.prototype=new D.Os;D.$J.prototype.Ta=function(_,n,O,l,x){this.cW(_,O,l,x,this._Q.flow);
if(this.Qj==null)return;this.o8(_)};D.$J.prototype.Xg=function(_,n,O,l,x){this.wS(_,n,O);if(this.gb)this.ao(_,O,x);
if(this.Qj==null)return;if(!x.Ju)return;this.WU(_,O,l,x);this.o8(_)};D.ds=function(){D.Os.call(this,[10,38],D.DP,"tools/pencil");
this.QS="draw"};D.ds.prototype=new D.Os;D.ds.prototype.Ta=function(_,n,O,l,x){if(this.hf(l,n,x))return;
this.cW(_,O,l,x,this._Q.flow);if(this.Qj==null)return;this.o8(_)};D.ds.prototype.Xg=function(_,n,O,l,x){this.wS(_,n,O);
if(this.gb)this.ao(_,O,x);if(this.Qj==null)return;if(!x.Ju)return;this.WU(_,O,l,x);this.o8(_)};D.uH=function(){D.Os.call(this,[10,22],D.xw,"tools/burn");
this.QS="burn"};D.uH.prototype=new D.Os;D.uH.prototype.Ta=function(_,n,O,l,x){this.cW(_,O,l,x,this._Q.expo/Math.E);
if(this.Qj==null)return;this.o8(_)};D.uH.prototype.Xg=function(_,n,O,l,x){this.wS(_,n,O);if(this.gb)this.ao(_,O,x);
if(this.Qj==null)return;if(!x.Ju)return;this.WU(_,O,l,x);this.o8(_)};D.Wz=function(_,n,O){D.Os.call(this,_==""?null:_?_:[10,1],n?n:D.Mp,O?O:"tools/clone");
this.QS="clone";this.jB=null;this.R=null};D.Wz.prototype=new D.Os;D.Wz.prototype.Ta=function(_,n,O,l,x){var t=this._Q,h=t.alt[0];
if(l.l(bJ.Yk)||l.l(bJ.Ai)||h){this.jB=_.u.vk(x.x,x.y);this.R=null;if(h)this.kk({alt:[!1]},n);this.db(_);
this.ee(O,l,_,x);return}if(this.jB==null){alert(hU.get([15,7,0]));return}this.ee(O,l);this.cW(_,O,l,x,this._Q.flow);
if(this.Qj==null)return;this.R=this.a3t(_.u.vk(x.x,x.y));this.o8(_)};D.Wz.prototype.a3t=function(_){var n=this.R;
if(n==null||!this._Q.algnd)n=new aW(Math.round(_.x-this.jB.x),Math.round(_.y-this.jB.y));return n};D.Wz.prototype.Xg=function(_,n,O,l,x){this.wS(_,n,O);
if(this.gb)this.ao(_,O,x);if(this.Qj==null){if(this.jB!=null)this.ee(O,l,_,x);return}if(!x.Ju||this.jB==null)return;
this.WU(_,O,l,x);this.o8(_)};D.Wz.prototype.SK=function(){return this.R};D.e_=function(_,n,O){D.zi.call(this,_,n,O);
this.jL={MP:{Rv:0,x:0,y:0},TQ:!1};this.x5=!1;this.$b=null;this.cursor=null;this.auL=0;this.Wg=null;this.$e=null;
this.as=null;this.HJ=!1};D.e_.prototype=new D.zi;D.e_.prototype.HE=function(){return this.$b!=null};
D.e_.prototype.P0=function(_){return this.$e!=null||this.$b&&this.$b.a0G()};D.e_.prototype.Ta=function(_,n,O,l,x){this.Wg=x;
var t=_.u.vk(x.x,x.y),h=this.jL.MP,V=h.Rv!=0?h.x/h.y:null,y=this.HJ;this.HJ=!1;if(this.$b){var r=this.$b.RL(t,_.u.K);
if(y&&r==null){this.$b.clear(_);this.$b=null}else{this.$b.Ta(_,O,l,t,V,!1,x);return}}this.$e=D.dV.up(_,t,O)};
D.e_.prototype.rT=function(_,n,O){if(O==null)O=[_.x,_.y,_.x+_.a,_.y,_.x+_.a,_.y+_.n,_.x,_.y+_.n];return new k6(O,!0,!1,this.id==D.ZH,!0,n,this.id==D.ZH?2:0,this.id==D.ZH?4:3)};
D.e_.prototype.ee=function(_){var n=new e_(H.E.L,!0);n.data={d:H.t.JK,vG:this.cursor};_.$(n)};D.e_.prototype.enable=function(_,n,O,l){this.Ve=n;
this.cursor="crosshair";this.ee(n);if(_!=null&&this.$b==null){var x=_.P?{Zq:"cropby",agB:3}:{Zq:"config",jL:this.jL,a3m:!0};
this.OZ(x,n,_,l,O);if(_.P==null&&this.jL.MP.Rv==0)this.HJ=!0}};D.e_.prototype.Xg=function(_,n,O,l,x){this.Wg=x;
var t=_.u.vk(x.x,x.y);if(!x.Ju){var h="crosshair";if(this.$b){var V=this.$b.RL(t,_.u.K,null,x);if(V)h=V;
else h="default"}if(h!=this.cursor){this.cursor=h;this.ee(n)}}if(this.$b)this.$b.Xg(_,O,l,t);else if(this.$e){if(this.x5){_.I.qb={F:["M","L"],C:[this.$e.x,this.$e.y,t.x,t.y]}}else{var y=D.fx.Yh(this.$e,D.dV.up(_,t,O),l,!0,this.jL.MP),r=y[0].x,E=y[0].y,a=this.as=new a8(r,E,y[1].x-r,y[1].y-E);
_.I.qb=Q.p.ta(a);D.zi.vF(x,a,_,O)}_.Hc=!0}};D.e_.a6Z=function(_,n,O){var l,x,V,y;if(n<=O){l=n;x=O}else{l=O;
x=n}var t=_-Math.floor((_+Math.PI)/(2*Math.PI))*2*Math.PI;t=Math.abs(t);if(t>Math.PI/2)t=Math.PI-t;var h=l/(x*Math.sin(t)+l*Math.cos(t));
if(n<=O){V=l*h;y=x*h}else{V=x*h;y=l*h}return{Qc:V,bE:y}};D.e_.prototype.PF=function(_,n,O,l,x){this.Wg=x;
var t=_.u.vk(x.x,x.y);if(this.$b==null){var h=this.as;if(this.$e&&(h||this.x5)){if(this.x5){var V=this.$e,y=t;
if(V.x>y.x){var r=V;V=y;y=r}var V=Math.atan2(-(y.y-V.y),y.x-V.x),E=D.e_.a6Z(V,_.a,_.n),a=[0,0,E.Qc,0,E.Qc,E.bE,0,E.bE],S=new aY;
S.translate(-E.Qc/2,-E.bE/2);S.rotate(V);S.translate(_.a/2,_.n/2);Q.p.D(a,S,a);this.$b=this.rT(h,!1,a);
_.I.qb=null;this.x5=!1}else{var e=this.jL.MP;this.$b=this.rT(h,e.Rv!=0)}this.$b.aZ(_,O);this.as=null;
this.Es(n,H.E.L,{d:H.t.F0,G:this.id,Py:!0});this.$e=null;_.I.Wn=[];_.Hc=!0}return}this.$b.PF(_,O,l,t);
this.Es(n,H.E.L,{d:H.t.F0,G:this.id,Py:!0});var a=this.$b.vh();if(Math.abs(a[0]-a[4])<2&&Math.abs(a[1]-a[5])<2){this.disable(_,n,null,l);
return}if(Date.now()-this.auL<200&&this.$b.mT(t)){this.rI(_,O);this.disable(_,n,O,l);return}this.auL=Date.now()};
D.e_.prototype.op=function(_,n,O,l){var x=this.$b;if(x==null||this.Wg&&this.Wg.Ju)return;if(l.l(bJ.Vn)){this.rI(_,O);
this.disable(_,n,O,l)}else if(l.l(bJ.rF)){this.disable(_,n,O,l)}else x.op(_,O,l)};D.e_.aqC=function(_,n,O){var l={classID:"null",T:{t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:_[1]}},Left:{t:"UntF",v:{type:"#Pxl",val:_[0]}},Btom:{t:"UntF",v:{type:"#Pxl",val:_[1]+_[3]}},Rght:{t:"UntF",v:{type:"#Pxl",val:_[0]+_[2]}}}},Angl:{t:"UntF",v:{type:"#Ang",val:n!=null?n:0}},Dlt:{t:"bool",v:O!=null?O:!0},cropAspectRatioModeKey:{t:"enum",v:{cropAspectRatioModeClass:"pureAspectRatio"}},CnsP:{t:"bool",v:!1}};
return{et:"crop",ot:l}};D.e_.Al=function(_,n){if(n==null)n=[!0,!0,!0,!0];var O={classID:"trim",trimBasedOn:{t:"enum",v:{trimBasedOn:["topLeftPixelColor","bottomRightPixelColor","Trns"][_]}}},l=["Top","Left","Btom","Rght"];
for(var m=0;m<4;m++)O[l[m]]={t:"bool",v:n[m]};return{et:"trim",ot:O}};D.e_.axB=function(_,n,O,l){var x={classID:"null"};
if(l!=null){x.Wdth={t:"UntF",v:{type:"#Pxl",val:_}};x.Hght={t:"UntF",v:{type:"#Pxl",val:n}};x.Intr={t:"enum",v:{Intp:["Nrst","Blnr","bicubicSharper"][l]}}}if(O!=null)x.Rslt={t:"UntF",v:{type:"#Rsl",val:O}};
return{et:"imageSize",ot:x}};D.e_.aaj=function(_,n,O){if(O==null)O=4;var l=Math.floor(O/3),x=O%3;return{et:"canvasSize",ot:{classID:"null",Wdth:{t:"UntF",v:{type:"#Pxl",val:_}},Hght:{t:"UntF",v:{type:"#Pxl",val:n}},Hrzn:{t:"enum",v:{HrzL:["Left","Cntr","Rght"][x]}},Vrtc:{t:"enum",v:{VrtL:["Top","Cntr","Btom"][l]}}}}};
D.e_.prototype.cZ=function(_,n,O,l,x){var t=new a8(0,0,O.a,O.n),h=[11,3],V=O.pa,y=O.a/2,r=O.n/2,E=1,G,z,M;
if(_.d=="fromAction"){var a=_.Jp,S=a.et,e=a.ot,P=O.a/O.n,b=e.Wdth?e.Wdth.v.val:-1,T=e.Hght?e.Hght.v.val:-1,V=e.Rslt?e.Rslt.v.val:null,C=e.Wdth?e.Wdth.v.type:e.Hght?e.Hght.v.type:-1,Z=1,W;
if(C=="#Prc"){if(b!=-1)b=Math.round(O.a*b/100);if(T!=-1)T=Math.round(O.n*T/100)}if(S=="imageSize"){if(e.Intr){if(e.Intr.v.Intp=="Nrst")Z=0;
if(e.Intr.v.Intp=="bicubicSharper")Z=2;if(b==-1&&T==-1){var s=V/O.pa;b=Math.round(O.a*s);T=Math.round(O.n*s)}if(e.CnsP&&e.CnsP.v){if(b==-1)b=Math.round(T*P);
if(T==-1)T=Math.round(b/P)}}else{if(C=="#Prc")V=Math.round(O.pa*(O.a/b));else if(C==-1)V=Math.round(V);
else throw"e";b=O.a;T=O.n}W={d:"imgsize",h4:b,C7:T,eu:V,SM:Z}}else if(S=="canvasSize"){if(b==-1)b=O.a;
if(T==-1)T=O.n;if(e.Rltv&&e.Rltv.v==!0){if(e.Wdth)b+=O.a;if(e.Hght)T+=O.n}var f=e.Vrtc?e.Vrtc.v.VrtL:"Cntr",q=e.Hrzn?e.Hrzn.v.HrzL:"Cntr";
W={d:"canvsize",h4:b,C7:T,eX:3*["Top","Cntr","Btom"].indexOf(f)+["Left","Cntr","Rght"].indexOf(q)}}else if(S=="revealAll"){W={d:"revealAll"}}else if(S=="trim"){var g={topLeftPixelColor:0,bottomRightPixelColor:1,Trns:2}[e.trimBasedOn.v.trimBasedOn];
if(g==null)throw"e";var i=["Top","Left","Btom","Rght"],u=[!0,!0,!0,!0];for(var m=0;m<4;m++)if(e[i[m]])u[m]=e[i[m]].v;
W={d:"trim",aoK:g,Oo:u}}else if(S=="crop"){var I,Y,U,F;if(e.T){var N=e.T.v,I=Math.round(N.Left.v.val),Y=Math.round(N.Top.v.val),U=Math.round(N.Rght.v.val)-I,F=Math.round(N.Btom.v.val)-Y}else{var o=O.B[O.g[0]],X=o.rect;
X=X.v6(new a8(0,0,O.a,O.n));I=X.x;Y=X.y;U=X.a;F=X.n}W={d:"canvsize",h4:U,C7:F,R:new aW(I,Y),a5b:e.Dlt!=null&&e.Dlt.v}}else console.log(a);
if(W)this.cZ(W,n,O,l,x);return}else if(_.d=="imgsize"){t=new a8(0,0,_.h4,_.C7);if(_.eu)V=_.eu;E=_.SM}else if(_.d=="canvsize"){var J=_.eX!=null?_.eX:0;
t=new a8(0,0,_.h4,_.C7);var c=O.a-_.h4,p=O.n-_.C7,d=Math.round(c/2),k=Math.round(p/2);if(J==1||J==4||J==7)t.x=d;
if(J==2||J==5||J==8)t.x=c;if(J==3||J==4||J==5)t.y=k;if(J==6||J==7||J==8)t.y=p;if(_.R){t.x=_.R.x;t.y=_.R.y}}else if(_.d=="rot"&&(_.h+2*Math.PI)%(Math.PI/2)!=0){var A=Q.p.ta(t).C,$=new aY;
$.translate(-y,-r);$.rotate(_.h);$.translate(y,r);Q.p.D(A,$,A);t=Q.p.f0(A)}else if(_.d=="rot"&&_.h!=Math.PI&&_.h!=-Math.PI){t=new a8(y-O.n/2,r-O.a/2,O.n,O.a);
if((O.a+O.n&1)==1){y=Math.floor(y);r=Math.floor(r);t=new a8(y-Math.floor(O.n/2),r-Math.floor(O.a/2),O.n,O.a);
if((O.a&1)==1&&_.h!=-Math.PI/2)t.y--;if((O.n&1)==1&&_.h==-Math.PI/2)t.x--}}else if(_.d=="trim"){h=[11,12,0];
var K=O.Cs(),X=new a8(0,0,O.a,O.n);t=Q.RJ(K,X,_.aoK,_.Oo);if(t.wk())t=X}else if(_.d=="cropbysel"){h=[11,12,1];
t=O.P.rect.clone()}else if(_.d=="revealAll"){h=[11,12,2];t=O.root.kf(O,!0)}var hl=_.d=="canvsize"&&_.a5b;
if(_.d=="imgsize"||_.d=="rot"||_.d=="scl"||hl){var j=new aY;if(_.d=="imgsize"){h=[11,10];j.scale(_.h4/O.a,_.C7/O.n);
M=O.tp();for(var m=0;m<M[0].length;m++)M[0][m][1]*=M[0][m][0]==0?j.EX:j.c5}else if(hl){}else{j.translate(-y,-r);
if(_.d=="rot")j.rotate(_.h);if(_.d=="scl")j.scale(_.h.x,_.h.y);j.translate(y,r);h=_.hM}z=Q.r.Ct(j);G=this.pu(O,x,!0,z,E,hl?t:null)}else if(_.d=="auto-align"){if(O.g.length<2){alert("Select two or more layers.");
return}var w=[];for(var m=0;m<O.g.length;m++){var o=O.B[O.g[m]];if(!o.Jq()&&o.add.SoLd==null){alert("Unsupported layer selected.");
return}if(o.rect.wk()){alert("Empty layer selected.");return}w.push([o.buffer,o.rect])}var B=Q.Qz.Fc(w,0);
if(B==null){alert("No similarity found.");return}z=B[1];var bB=O.g;O.g=O.g.slice(1);G=this.pu(O,x,!1,B.slice(1),E);
O.g=bB;t=O.root.kf(O,!0);h=[2,10,1]}var bG=new a8(0,0,O.a,O.n);if(!t.wk()&&(!t.yO(bG)||G!=null)){var eb=new gO(h,this);
eb.data={adx:O.pa,eu:V,on:G,Pb:z,iC:D.e_.aeC(O,t,bG,G!=null)};if(M){eb.data.aau=O.tp();eb.data.a7a=M}D.e_.a5G(O,eb.data,t);
O.dc(eb);this.Pg(eb.data,O)}};D.e_.aeC=function(_,n,O,l){if(_.Ks.length==0)return null;var x=JSON.stringify(_.Ks),t=JSON.parse(x);
D.aR.a4V(t,n,O,l);t=JSON.stringify(t);return[x,t]};D.e_.prototype.pu=function(_,n,O,l,x,t){var h={B:[],xR:null,WW:null};
if(O){for(var m=0;m<_.B.length;m++)h.B.push(m);for(var m=0;m<_.VE.length;m++)h.B.push(-1-m);for(var m=0;
m<_.U_.length;m++)h.B.push(-1e3-m)}else h.B=_.g.slice(0);h.xR=D.D6.Jn(_,h.B,!0);D.D6.Xr(_,n,h.B,h.xR,x,l,null,!0,t);
h.WW=D.D6.Jn(_,h.B,!0);return h};D.e_.prototype.Pg=function(_,n){if(_.eu)n.pa=_.eu;if(_.iC)n.Ks=JSON.parse(_.iC[1]);
if(_.on){D.e_.oj(n,Q.r.tt(_.Pb));D.D6.S8(n,_.on.B,_.on.WW);if(_.a7a)n.WX(_.a7a)}D.e_.n6(n,_)};D.e_.prototype.Qb=function(_,n){if(_.adx)n.pa=_.adx;
if(_.iC)n.Ks=JSON.parse(_.iC[0]);D.e_.pP(n,_);if(_.ra)n.u.R.Nw(_.ra);n.afR();if(_.on){var O=Q.r.tt(_.Pb).clone();
O.sJ();D.e_.oj(n,O);D.D6.S8(n,_.on.B,_.on.xR);if(_.aau)n.WX(_.aau)}};D.e_.oj=function(_,n){for(var m=0;
m<_.B.length;m++){var O=_.B[m];if(O.add.artb==null)continue;var l=Q.p.ta(O.DM()).C;Q.p.D(l,n,l);var x=Q.p.f0(l);
O.C_(x)}};D.e_.y$=function(_){var n=new a8,O=0,l=_.root.children.length;for(var m=0;m<l;m++){var x=_.root.children[m].j;
if(x.add.artb==null)continue;n=n.uG(x.DM());O++}var t=new a8(0,0,_.a,_.n);if(!n.wk()&&!t.yO(n))return n;
return null};D.e_.C3=function(_){var n=D.e_.y$(_);if(n)D.e_.TQ(_,n,!0);return n};D.e_.TQ=function(_,n,O){var l=_.a,x=_.n,t=n.a,h=n.n,V=n.x==0&&n.y==0;
if(V&&l==t&&x==h)return;_.a=t;_.n=h;var y=[];for(var m=0;m<_.B.length;m++)y.push(m);if(!V)D.dV.nJ(_,y,null,-n.x,-n.y);
for(var m=0;m<_.B.length;m++){_.B[m].bf(_)}_.afR();if(O){var r=_.u.R,E=_.u.K;r.x+=Math.round((n.x+(t-l)/2)*E);
r.y+=Math.round((n.y+(h-x)/2)*E)}else _.u.R.BX(0,0);if(_.P)_.P.rect.offset(-n.x,-n.y);var a=_.tp();for(var S=0;
S<a[0].length;S++)if(a[1][S]==-1){var e=_.P9[S];e[1]-=e[0]==0?n.x:n.y}for(var m=0;m<_.U_.length;m++)_.U_[m].rect.offset(-n.x,-n.y)};
D.e_.prototype.OZ=function(_,n,O,l,x){if(_.Zq=="commit"){this.rI(O,x);this.disable(O,n,null,l)}else if(_.Zq=="cancel"){this.disable(O,n,null,l)}var t=null,h=new a8(0,0,O.a,O.n),V=this.jL.MP;
if(_.Zq=="config"){this.jL=_.jL;V=this.jL.MP;if(O==null||!_.a3m)return;t=h;if(V.Rv==1){var y=V.x/V.y;
if(t.a/y<t.n)t.n=Math.round(t.a/y);else t.a=Math.round(t.n*y)}if(V.Rv==2){t.a=V.x;t.n=V.y}t.x=Math.round((O.a-t.a)/2);
t.y=Math.round((O.n-t.n)/2)}if(_.Zq=="straighten"){alert("Draw a line in the image.");this.x5=!0}if(_.Zq=="cropby"){if(O==null)return;
var r=_.agB,t;if(r==0)t=O.root.kf(O,!0);if(r==1){if(O.g.length==0)alert("No layer is selected.");else{var E=O.root.yJ(O.g[0]);
t=E.kf(O,!0)}}if(r==2){if(O.g.length==0)alert("No layer is selected.");else{t=Q.RJ(O.Cs(),h,0);if(t.wk())t=h.clone()}}if(r==3){if(O.P!=null)t=O.P.rect;
else alert("There is no selection.")}if(r==4){t=new a8(0,0,O.a,O.n)}}if(t&&t.wk())t=null;if(t!=null){this.$b=this.rT(t,V.Rv!=0);
this.$b.aZ(O,x);this.Es(n,H.E.L,{d:H.t.F0,G:this.id,Py:!0})}};D.e_.prototype.rI=function(_,n){var O=this.$b.vh(),l=Q.p.f0(O),x=this.a6e(_,O),t=!1,h=this.jL.MP,V=this.jL.TQ,y=h.x,r=h.y,S;
if(this.id==D.T4&&h.Rv==2&&x.O()!=y*r){x=new a8(x.x,x.y,y,r);t=!0}var E=Q.r.pI(O,x);E=Q.r.sJ(E);var a=Q.r.PB(E),e=Math.atan2(E[3],E[0]);
if(Math.abs(e)>1e-9||!a||t||V)S=this.pu(_,n,!0,E,1,l);var P=new gO(this.name,this),b=new a8(0,0,_.a,_.n);
P.data={on:S,Pb:E,ra:_.u.R.clone(),iC:D.e_.aeC(_,x,b,!1)};D.e_.a5G(_,P.data,x);_.dc(P);this.Pg(P.data,_);
this.track(D.e_.aqC([l.x,l.y,l.a,l.n],null,V))};D.e_.a5G=function(_,n,O){if(O==null)return;n.vf=new a8(0,0,_.a,_.n);
n.ka=O};D.e_.n6=function(_,n){if(n.ka==null)return;D.e_.TQ(_,n.ka)};D.e_.pP=function(_,n){if(n.ka==null)return;
var O=n.vf.clone();O.offset(-n.ka.x,-n.ka.y);D.e_.TQ(_,O)};D.e_.prototype.a6e=function(_,n){var O=Q.r.pI(n),l=Q.r.PB(O),x=Q.r.tt(O),t=x.Wk,h=x.d7,V=Math.atan2(x.k,x.EX);
x.rotate(V);var y=new a8(t,h,x.EX,x.c5);if(!l){function r(W,m,s){var f=W[m]-W[s],q=W[m+1]-W[s+1];return Math.sqrt(f*f+q*q)}var E=r(n,0,2),a=r(n,4,6),S=Math.max(E,a),e=r(n,2,4),P=r(n,6,0),b=Math.max(e,P),T=D.e_.a2L(n,_.a/2,_.n/2),C,Z;
if(isNaN(T)||T==Infinity||T==-Infinity||Math.min(T,1/T)<.1)T=(E+a)/(e+P);if(S/b>T){C=S*1;Z=C/T}else{Z=b*1;
C=Z*T}y.a=C;y.n=Z}y.x=Math.round(y.x);y.y=Math.round(y.y);y.a=Math.round(y.a);y.n=Math.round(y.n);return y};
D.e_.a2L=function(_,n,O){var l=_[0]-n,x=_[1]-O,t=_[2]-n,h=_[3]-O,V=_[6]-n,y=_[7]-O,r=_[4]-n,E=_[5]-O,a=((x-E)*V-(l-r)*y+l*E-x*r)/((h-E)*V-(t-r)*y+t*E-h*r),S=((x-E)*t-(l-r)*h+l*E-x*r)/((y-E)*t-(V-r)*h+V*E-y*r),e=-((S*y-x)*(a*h-x)+(S*V-l)*(a*t-l))/((S-1)*(a-1));
function P(T){return T*T}var b=Math.sqrt((P(a-1)+P(a*h-x)/e+P(a*t-l)/e)/(P(S-1)+P(S*y-x)/e+P(S*V-l)/e));
if(a==1&&S==1)b=Math.sqrt((P(h-x)+P(t-l))/(P(y-x)+P(V-l)));return b};D.e_.prototype.disable=function(_,n,O,l){if(_==null)return;
if(this.$b)this.$b.clear(_);this.$b=null;this.Es(n,H.E.L,{d:H.t.F0,G:this.id,Py:!1})};D.e_.prototype.Es=function(_,n,O,l){var x=new e_(n,!0);
x.data=O;if(l)x.G=l;_.$(x)};D.acU=function(){D.e_.call(this,[10,2],D.T4,"tools/rcrop")};D.acU.prototype=new D.e_;
D.alQ=function(){D.e_.call(this,[10,39],D.ZH,"tools/pcrop")};D.alQ.prototype=new D.e_;D.m0=function(){D.Os.call(this,[10,21],D.bD,"tools/dodge");
this.QS="dodge"};D.m0.prototype=new D.Os;D.m0.prototype.Ta=function(_,n,O,l,x){this.cW(_,O,l,x,this._Q.expo/Math.PI);
if(this.Qj==null)return;this.o8(_)};D.m0.prototype.Xg=function(_,n,O,l,x){this.wS(_,n,O);if(this.gb)this.ao(_,O,x);
if(this.Qj==null)return;if(!x.Ju)return;this.WU(_,O,l,x);this.o8(_)};D.gw=function(){D.Os.call(this,[10,3],D.$j,"tools/eraser");
this.QS="erase"};D.gw.prototype=new D.Os;D.gw.prototype.Ta=function(_,n,O,l,x){this.cW(_,O,l,x,this._Q.flow);
if(this.Qj==null)return;this.o8(_)};D.gw.prototype.Xg=function(_,n,O,l,x){this.wS(_,n,O);if(this.gb)this.ao(_,O,x);
if(this.Qj==null)return;if(!x.Ju)return;var t=this.WU(_,O,l,x);this.o8(_)};D.BH=function(){D.Os.call(this,[10,45],D.aq5,"tools/beraser");
this.QS="ierase"};D.BH.prototype=new D.Os;D.BH.prototype.Ta=function(_,n,O,l,x){if(this.hf(l,n,x))return;
this.cW(_,O,l,x,this._Q.flow);if(this.Qj==null)return;this.o8(_)};D.BH.prototype.Xg=function(_,n,O,l,x){this.wS(_,n,O);
if(this.gb)this.ao(_,O,x);if(this.Qj==null)return;if(!x.Ju)return;this.WU(_,O,l,x);this.o8(_)};D.Q$=function(){D.iM.call(this,[10,15],D.vQ,"tools/rselect");
this.po="crosshair"};D.Q$.prototype=new D.iM;D.Q$.prototype.w$=function(_,n,O,l){if(!l.Ju||!this.eW)return;
var x=this.kf(_,O,!0);_.I.qb=Q.p.ta(x);_.Hc=!0;D.zi.vF(l,x,_,n)};D.Q$.prototype.sL=function(_,n,O,l){_.I.qb=null;
_.I.Wn=[];_.Hc=!0;this.finish(_,n,O,l)};D.Q$.prototype.getSelection=function(_,n,O,l){if(this.$e.yO(this.HL)||!this.eW)return null;
var x=this.kf(_,O,!0);if(x.wk())return null;return D.iM.jI("Rctn",x,this._Q.anta)};D.Fb=function(){D.iM.call(this,[10,4],D.a99,"tools/eselect");
this.po="crosshair"};D.Fb.prototype=new D.iM;D.Fb.prototype.w$=function(_,n,O,l){if(!l.Ju||!this.eW)return;
var x=this.kf(_,O);_.I.qb=D.Fb.aoN(x);_.Hc=!0;D.zi.vF(l,x,_,n)};D.Fb.prototype.sL=function(_,n,O,l){_.I.qb=null;
_.I.Wn=[];_.Hc=!0;this.finish(_,n,O,l)};D.Fb.prototype.getSelection=function(_,n,O,l){if(this.$e.yO(this.HL)||!this.eW)return null;
var x=this.kf(_,O);if(!x.JS(new a8(0,0,_.a,_.n)))return null;return D.iM.jI("Elps",x,this._Q.anta)};
D.Fb.aoN=function(_){var n=_.x,O=_.y,l=_.x+_.a,x=_.y+_.n,t=(n+l)/2,h=(O+x)/2,V=(n-l)/2,y=(O-x)/2,r=.5522848,E={C:[t,h-y],F:["M","C","C","C","C"]};
E.C.push(t+r*V,h-y,t+V,h-r*y,t+V,h);E.C.push(t+V,h+r*y,t+r*V,h+y,t,h+y);E.C.push(t-r*V,h+y,t-V,h+r*y,t-V,h);
E.C.push(t-V,h-r*y,t-r*V,h-y,t,h-y);return E};D.N3=function(_){D.zi.call(this,[10,5],_?D.Yf:D.ef,"tools/eyedropper");
this.cy=null;this._k=0;this.Ex=null;this.Cc=1;this.qF=2;this.a4R=!0;this.Tz=!1};D.N3.prototype=new D.zi;
D.N3.prototype.P0=function(_){return _.Ju};D.N3.prototype.cZ=function(_,n,O,l,x){if(_.d=="pickhere")this.R8(O,n,x,null,_.ajx);
if(_.d=="supertool")this.cy=_.G};D.N3.prototype.Ta=function(_,n,O,l,x){var t=this.cy;if(t){t.Ta(_,n,O,l,x);
return}this._k=O.KU;this.Ex=x;var h=this.R8(_,null,O,l,x);this.ee(_,n,h,x)};D.N3.prototype.Xg=function(_,n,O,l,x){var t=this.cy;
if(t){t.Xg(_,n,O,l,x);return}var h=this.Ex;if(h){var V=x.x-h.x,y=x.y-h.y,r=1,E=new aW(h.x+V*r,h.y+y*r),a=this.R8(_,null,O,l,E);
this.ee(_,n,a,E,new aW(V*(1-r),y*(1-r)))}};D.N3.prototype.ee=function(_,n,O,l,x){var t=this.a4R,h=this.Tz,r=12,E=11;
if(_.u.K>4)h=!1;if(!h&&!t)return;if(x==null)x=new aW(0,0);var V=new a8(0,0,_.a,_.n),y=_.Cs(),a=(r*2+1)*E,S=new aW(a/2,a/2),e=new a8(0,0,a,a),P=Q.Q(e.O()*4),b=_.u.vk(l.x,l.y),T=Math.floor(b.x),C=Math.floor(b.y),Z=new aY;
Z.scale(1/E,1/E);Z.translate(T-r,C-r);if(h)Q.scale.N1(y,V,Z,P,e);var W=(r-3.4)*E,s=(r-1.7)*E,f=r*E;for(var q=0;
q<a;q++)for(var g=0;g<a;g++){var i=aW.nT(new aW(g,q),S);if(i>W){if(t){var u=Math.max(0,W-i+1),I=(q*a+g)*4,Y=P[I+3]<<24|P[I]<<16|P[I+1]<<8|P[I+2],U=255<<24|(q<f+E*.5?O:this._k);
if(i>s){u=Math.max(0,s-i+1);Y=U;U=4286611584}else if(!h){Y=U&16777215}P[I+0]=(1-u)*(U>>>16&255)+u*(Y>>>16&255);
P[I+1]=(1-u)*(U>>>8&255)+u*(Y>>>8&255);P[I+2]=(1-u)*(U>>>0&255)+u*(Y>>>0&255);P[I+3]=(1-u)*(U>>>24&255)+u*(Y>>>24&255)}if(i>f){P[(q*a+g)*4+3]=Math.max(0,255*(f-i+1))}}}function F(m){var z=m<<2;
P[z]=0;P[z+1]=0;P[z+2]=0;P[z+3]=255}function N(m){var z=m<<2;P[z]=255;P[z+1]=255;P[z+2]=255;P[z+3]=255}var o=this.Cc*E+2,X=a-o>>>1,J=X+o-1;
if(h&&o<a)for(var m=0;m<o;m++){var c=X*a+X+m,p=J*a+X+m,d=(X+m)*a+X,k=(X+m)*a+J;F(c);F(p);F(d);F(k);if(m!=0&&m!=o-1){N(c+a);
N(p-a);N(d+1);N(k-1)}}if(!h)for(var m=-9;m<=9;m++){if(-3<m&&m<3)continue;var A=a>>>1,g=A*a+A+m,q=(A+m)*a+A;
N(g-a);F(g);N(g+a);N(q-1);F(q);N(q+1)}var $=D.zi.GB(0,0,["#"+Q.sN(O),"RGB "+(O>>>16&255)+","+(O>>>8&255)+","+(O>>>0&255)]),V=$[1];
V.y=0;V.x=a-V.a>>>1;Q.zw($[0],V,P,e);var K={G7:P,Sm:e,gp:new aW(S.x+x.x,S.y+x.y)},G=new e_(H.E.L,!0);
G.data={d:H.t.JK,vG:K};n.$(G)};D.N3.prototype.PF=function(_,n,O,l,x,t){this.R8(_,n,O,l,x);var h=this.cy;
if(h){h.PF(_,n,O,l,x);return}if(this.Ex){this.Ex=null;if(t)this.R8(_,n,O,l,x,this._k);var V=new e_(H.E.L,!0);
V.data={d:H.t.JK,vG:"default"};n.$(V)}};D.N3.prototype.R8=function(_,n,O,l,x,t){if(t==null)t=D.N3.T9(_,x,this.Cc,this.qF);
var h=new e_(H.E.L);h.data={d:H.t.Gf,nZ:gp.La,nz:l&&l.l(bJ.Yk)?1:0,h:t};if(n)n.$(h);return t};D.N3.T9=function(_,n,O,l){if(l==null)l=2;
var x=_.u.vk(n.x,n.y),t,h,V=_.g.length==1&&_.B[_.g[0]].LN>0,y=_.oO.length!=0,s=0,f=0,q=0;if(V||y){var r;
if(y)r=_.U_[_.oO[0]];else{var E=_.B[_.g[0]];r=E.LN==1?E.Ek():E.au9()}h=r.kf();if(!h.b5(x))return r.color==0?0:16777215;
t=Q.Q(h.O()*4);t.fill(255);var a=r.pp();Q.X$(a,t)}else if(l==0&&_.g.length!=0){var E=_.B[_.g[0]];t=E.buffer;
h=E.rect}else{t=l==2?_.Cs():_.Cs(_.g[0]);h=new a8(0,0,_.a,_.n)}var S=Math.floor(x.x)-h.x,e=Math.floor(x.y)-h.y,P=(O-1)/2,b=Math.max(0,S-P),T=Math.max(0,e-P),C=Math.min(h.a,S+P+1),Z=Math.min(h.n,e+P+1),W=(C-b)*(Z-T);
for(var S=b;S<C;S++)for(var e=T;e<Z;e++){var m=4*(e*h.a+S);s+=t[m];f+=t[m+1];q+=t[m+2]}s=Math.round(s/W);
f=Math.round(f/W);q=Math.round(q/W);return s<<16|f<<8|q};D.N3.prototype.OZ=function(_){var n=_._Q;this.Cc=[1,3,5,11,31][n[0]];
this.qF=n[1];this.a4R=n[2];this.Tz=n[3]};D.de=function(){D.zi.call(this,[10,6],D.atN,"tools/gradient");
this._Q={N:JSON.parse(aF.p2.au2).v,Zg:"Lnr",oL:!1,a2e:!1,aaz:"norm",kX:1};this.JG=!1;this.pT=null};D.de.prototype=new D.zi;
D.de.prototype.enable=function(_,n,O,l){var x=new e_(H.E.L,!0);x.data={d:H.t.JK,vG:"default"};n.$(x)};
D.de.prototype.OZ=function(_){this._Q=_.nZ};D.de.prototype.Ta=function(_,n,O,l,x){if(!_.eE())return;
this.pT=_.u.vk(x.x,x.y);this.pT=D.dV.up(_,this.pT,O);this.JG=!0};D.de.prototype.Xg=function(_,n,O,l,x){if(!this.JG)return;
var t=_.u.vk(x.x,x.y);t=D.dV.up(_,t,O);if(l.l(bJ.fc))t=D.de.Wr(this.pT,t);_.I.qb={C:[this.pT.x,this.pT.y,t.x,t.y],F:["M","L"]};
_.I._x=[this.pT.x,this.pT.y,t.x,t.y];_.Hc=!0};D.de.prototype.PF=function(_,n,O,l,x){if(!this.JG)return;
var t=_.B[_.g[0]],h=_.u.vk(x.x,x.y);h=D.dV.up(_,h,O);if(l.l(bJ.fc))h=D.de.Wr(this.pT,h);var V=h.OA(this.pT),y=aW.My(this.pT,h,.5),r=Math.atan2(V.y,V.x),E=aW.nT(this.pT,h),a=Math.sin(r),S=Math.cos(r);
if(E>2){var e;if(_.P)e=_.P.rect;else e=new a8(0,0,_.a,_.n);var P=Q.Q(e.O()*4),b=this._Q,T=b.Zg;if(T!="Lnr"){E*=2;
y=this.pT}Q.N._o(b.N,P,e,[S*1/E,a*1/E,-a*1/E,S*1/E],y.x,y.y,b.oL,aF.N.types.indexOf(T),O.KU,O.lV,null,b.a2e);
var C=Math.round(b.kX*256),Z=P.length;if(C!=256)for(var m=0;m<Z;m+=4)P[m+3]=P[m+3]*C>>>8;var W=new e_(H.E.s);
W.G=D.$j;W.data={d:"fillBMP",RS:P,Qf:b.aaz,hM:this.name};n.$(W)}_.I.qb=null;_.I._x=[];_.Hc=!0;this.JG=!1};
D.de.Wr=function(_,n){if(_.yO(n))return _;var O=n.x-_.x,l=n.y-_.y,x=Math.abs(O),t=Math.abs(l);if(x>t)t=x/2>t?0:x;
if(t>x)x=t/2>x?0:t;x=O>0?x:-x;t=l>0?t:-t;var h=Math.sqrt(O*O+l*l)/Math.sqrt(x*x+t*t);return new aW(_.x+x*h,_.y+t*h)};
D.de.XW=function(_,n,O,l,x,t,h){var V=new a8(0,0,n,O),y=Q.Q(n*O*4);Q.tZ(y,n,O,4);var r=Math.sin(l),E=Math.cos(l),a=Q.Q(n*O*4);
Q.N._o(_,a,V,[E*1/n,r*1/n,-r*1/O,E*1/O],n/2,O/2,!1,0,x,t);Q.q.Zn("norm",a,V,y,V,V,1);if(h)h.putImageData(new ImageData(new Uint8ClampedArray(y.buffer),n,O),0,0);
else return dx.Qt(y.buffer,n,O,null,null,!0)};D.de.a7_=function(_,n,O){var l=JSON.parse(JSON.stringify(_));
if(l.Clrs)for(var m=0;m<l.Clrs.v.length;m++){var x=l.Clrs.v[m].v,t=x.Type.v.Clry;if(t=="UsrS")continue;
var h=t=="FrgC"?n:O;x.Type.v.Clry="UsrS";x.Clr={t:"Objc",v:Q.N.YS({o:h>>16&255,J:h>>8&255,k:h&255})}}return l};
D.qJ=function(){D.zi.call(this,[10,7],D.fY,"tools/hand");this.CL=!1;this.Ex=new aW(0,0);this.qT=null;
this.jF=0};D.qJ.prototype=new D.zi;D.qJ.prototype.OZ=function(_,n,O,l){this.CL=_.CL};D.qJ.prototype.cZ=function(_,n,O,l,x){var t=_.d;
if(t=="setcls"){O.u.CN=_.CN;O.Hc=!0;O.i1=!0}if(t=="scroll"&&!l.l(bJ.Yk)){if(l.l(bJ.mV))D.qJ.Uz(O,O.u.R.x-_.Su.y,O.u.R.y-_.Su.x);
else D.qJ.Uz(O,O.u.R.x-_.Su.x,O.u.R.y-_.Su.y)}};D.qJ.prototype.enable=function(_,n,O,l){this.qT=null;
var x=new e_(H.E.L,!0);x.data={d:H.t.JK,vG:"grab"};n.$(x);if(_&&Date.now()-this.jF<300){x.type=H.E.s;
x.G=D.iz;x.data={d:"adapt",h:"fitscr"};n.$(x)}this.jF=Date.now()};D.qJ.prototype.Ta=function(_,n,O,l,x){this.qT=_.u.R.clone();
this.Ex.BX(x.x,x.y)};D.qJ.prototype.Xg=function(_,n,O,l,x){if(!x.Ju)return;if(this.qT==null)this.Ta(_,n,O,l,x);
var t=this.CL?n.A0:[_];for(var m=0;m<t.length;m++)D.qJ.Uz(t[m],this.qT.x+(x.x-this.Ex.x),this.qT.y+(x.y-this.Ex.y))};
D.qJ.prototype.PF=function(_,n,O,l,x){this.qT=null};D.qJ.Uz=function(_,n,O){var l=_.u.K,x=_.u.l_,t=x.a,h=x.n,V=_.a*l,y=_.n*l,r=V<t&&y<h,E=t/2+V/2-64,a=h/2+y/2-64;
_.u.R.BX(Math.max(-E,Math.min(E,n)),Math.max(-a,Math.min(a,O)));_.i1=!0};D.R0=function(){D.zi.call(this,[10,47],D.fB,"tools/rview");
this.Ex=new aW(0,0);this.FI=null;this.jv=null;this.jF=0};D.R0.prototype=new D.zi;D.R0.prototype.enable=function(_,n,O,l){this.qT=null;
var x=new e_(H.E.L,!0);x.data={d:H.t.JK,vG:"grab"};n.$(x);if(_&&Date.now()-this.jF<300&&_.u.ws!=0){_.u.ws=0;
_.Hc=!0}this.jF=Date.now();if(_)this.bl(_,n)};D.R0.prototype.disable=function(_,n,O,l,x){if(_)this.bl(_,n)};
D.R0.prototype.Ib=function(_,n,O,l){if(_)this.bl(_,n)};D.R0.prototype.Ta=function(_,n,O,l,x){this.Ex.BX(x.x,x.y);
var t=_.u;this.FI=t.vk(t.l_.a/2,t.l_.n/2);this.jv=t.A9();var h=t.vk(t.l_.a/2,t.l_.n/2),V=Math.min(t.l_.a,t.l_.n)*.35/t.K,y=V*.2,r=h.x,E=h.y;
_.I.qb={F:"M L L L L L".split(" "),C:[r,E,r,E-V,r+y,E,r,E+V,r-y,E,r,E-V]};_.Hc=!0};D.R0.prototype.avV=function(_){var n=_.u,O=n.vk(n.l_.a/2,n.l_.n/2);
_.I.qb={F:["M","L"],C:[O.x,O.y,O.x,O.y-200]}};D.R0.prototype.Xg=function(_,n,O,l,x){if(!x.Ju)return;
var t=_.u,h=this.FI,V=this.Ex,y=new aW(t.l_.a/2,t.l_.n/2),r=Math.atan2(x.y-y.y,x.x-y.x),E=Math.atan2(V.y-y.y,V.x-y.x),a=Math.atan2(this.jv.k,this.jv.EX),S=r-E,e=Math.PI/4;
if(l.l(bJ.fc)){S=a+e*Math.round((S-a)/e)}this.a3V(_,n,this.jv.clone(),h,S)};D.R0.prototype.PF=function(_,n,O,l,x){_.I.qb=null;
_.Hc=!0};D.R0.prototype.OZ=function(_,n,O,l){this.a3V(O,n,null,null,_.Yd-O.u.ws);O.u.ws=_.Yd};D.R0.prototype.a3V=function(_,n,O,l,x){var t=_.u;
if(O==null)O=t.A9();if(l==null)l=t.vk(t.l_.a/2,t.l_.n/2);O.translate(-l.x,-l.y);O.rotate(x);O.translate(l.x,l.y);
t.an3(O);if(_.a*t.K<t.l_.a&&_.n*t.K<t.l_.n)t.R.BX(0,0);_.Hc=!0;this.bl(_,n)};D.R0.prototype.bl=function(_,n){var O=new e_(H.E.L,!0);
O.data={d:H.t.F0,G:this.id,Yd:_.u.ws};n.$(O)};D.cf=function(){D.Wz.call(this,[10,25],D.CM,"tools/hbrush")};
D.cf.prototype=new D.Wz("");D.cf.prototype.PF=function(_,n,O,l,x){if(this.Qj==null)return;this.jl(_,"heal",this.Qj.eN(),this.Qj.kf(),this.Qj.Hd());
this.U(_,this.Qj.Hd());D.Os.prototype.PF.call(this,_,n,O,l,x);if(!this._Q.algnd)this.R=null};D.uk=function(_){D.zi.call(this,_?["VAR0 VAR1",[22,4,1],[10,8]]:[10,8],_?D.An:D.K9,_?"tools/vtype":"tools/htype");
this.ld=[];this.TG=null;this.caller=null;this.UF=1;this.J9=null;this.ajj=0;this.r3=0;this.abr=null;this.wn=null;
this.z1=null;this.o4=null;this.mL=null;this.n1=null;this.a38=null;this.h3=null;this.$b=null;this.j5=null;
this.a6A=null;this.BY=!1;this.am=!1;this.zD=!1;this.PL=null;this.R9=null;this.apo=null;this.D9=!1;this.mG=!1;
this.k7=-1;this.$n=-1;this.oK=document.createElement("textarea");this.oK.setAttribute("style","font-family:Arial; font-size:14px; z-index:-1; "+" position:absolute; top:0px; left:0px;  pointer-events: none; opacity:0; width:"+(window.innerWidth-10)+"px; height:150px;");
this.oK.addEventListener("input",this.vg.bind(this),!1);this.oK.addEventListener("keydown",this.ayL.bind(this),!1);
this.oK.addEventListener("keyup",this.arA.bind(this),!1)};D.uk.prototype=new D.zi;D.uk.prototype.P0=function(_){return _.Ju};
D.uk.prototype.$s=function(_,n,O,l){if(this.z1!=null||this.id==D.An)return;this.caller=n;var x=this.a85(_);
if(x.length!=0){var t=null,h=[],V=[];for(var m=0;m<x.length;m++){var y=_.B[x[m]],r=y.add.TySh,E=0,a=b$.om(r.m1).length-2,S=b$.QN(r.m1,E,a);
b$.YX(S,r.D.Sn());if(S.oM.Font!=null)S.oM.Font=S.ZP[S.oM.Font].Name;t=S.ZP;h.push(S.oM);V.push(S.G1)}var S={ZP:t,oM:b$.kU(h),G1:b$.kU(V)};
if(S.oM.Font!=null)b$.Wu(S,S.oM.Font);this.abV(n,S,r)}};D.uk.prototype.a85=function(_){var n=[];for(var m=0;
m<_.g.length;m++)if(_.B[_.g[m]]&&_.B[_.g[m]].add.TySh)n.push(_.g[m]);return n};D.uk.prototype.cZ=function(_,n,O,l,x){var t=_.d=="insertGlyph",h=_.d=="copyText";
if((t||h||_.d=="insertText")&&this.z1){var V=t?String.fromCharCode(65533):_.h,y=this.oK,r=y.value,E=y.selectionStart,a=y.selectionEnd;
if(h){iR.KR(new Blob([r.slice(E,a)],{type:"text/plain"}))}else{y.value=r.slice(0,E)+V+r.slice(a);y.selectionStart=y.selectionEnd=E+V.length;
this.vg(null,t?_.h:null);y.focus()}}if(_.d=="updateStyles"){if(this.z1==null){var S=this.a85(O),e=!1;
if(S.length!=0){this.be(O,n,x,S);for(var m=0;m<S.length;m++){var P=O.B[S[m]],b=P.add.TySh;b$.F_(b,this.UF);
this.z1=P;var T=b$.om(b.m1);this.k7=0;this.$n=T.length-1;b$.gD(b.m1,this.k7,this.$n,this.ge(x,b));var C=this.rS(O,x);
if(C==!1)e=!0}if(e){this.D9=!0;return}this.II(O,n)}return}this.PV(x)}if(_.d.startsWith("warp")){var Z=this.mG;
if(_.d=="warp"||_.d=="warpCancel"){if(this.z1==null)return;if(_.d=="warp")this.z1.add.TySh.ZA=_.Q6;else this.z1.add.TySh.ZA=this.a38;
this.rS(O,x);if(!Z)this.cM(O)}if(_.d!="warp")this.oK.focus();if((_.d=="warpConfirm"||_.d=="warpCancel")&&Z){this.mG=!1;
if(_.d=="warpConfirm")this.II(O,n);else this.bO(O,n)}}if(_.d=="editCurr"){if(x.kp!=D.K9){this.J9=x.kp;
var W=new e_(H.E.L,!0);W.data={d:H.t.dw,G:D.K9};n.$(W)}if(this.z1!=null)this.disable(O,n,x,l);this.TG=x;
this.caller=n;this.be(O,n,x,[_.GP]);var T=b$.om(this.z1.add.TySh.m1);this.k7=0;this.$n=T.length-1;this.cM(O);
this.U0();this.oK.focus()}if(_.d=="switchPntPrgr"){if(this.z1)return;var P=O.B[O.g[0]],b=P.add.TySh,s=b.D.Sn(),f=JSON.parse(JSON.stringify(b.m1)),q=b$.LR(f),g=q==1?b$.eR(f):[0,0,Math.round(P.rect.a*1.05/s),Math.round(P.rect.n*1.25/s)],i=b$.QN(f,0,0),u=i.ZP[i.oM.Font].Name,I=x.y8.aT(u),Y=[0,g[2],g[2]/2][i.G1.Justification%3],U=I?hf.W7(I,u,i.oM):i.oM.FontSize*.8;
b$.EQ(f,1-q);if(q==0){Y=-Y;U=-U;b$.IU(f,[0,0,g[2],g[3]])}var F=new aY(1,0,0,1,Y,U);F.concat(b.D);this.cZ({xh:O.g[0],d:"newED",l3:f,D:F,a2z:[16,3,q==1?0:1]},n,O,l,x)}if(_.d=="newED"){var P=O.B[_.xh],b=P.add.TySh,N=this.cq(O,[_.xh]);
b.m1=_.l3;if(_.D)b.D=_.D;if(a$.L_(b,x.y8,n)){a$.rS(P,x.y8,O);O.U()}else O.Gl=!0;var o=new gO(_.a2z?_.a2z:this.name,this);
o.data={mn:N,d5:this.cq(O,[_.xh])};O.dc(o)}if(_.d=="fromAction"){var X=_.Jp.ot.Usng.v,J=X.TxtC.v,c=[];
for(var m=0;m<2;m++){var p=J[m==0?"Hrzn":"Vrtc"].v,V=p.val;if(p.type=="#Prc")V=(m==0?O.a:O.n)*(V/100);
c[m]=V}this.VN(O,n,x,l,O.u.KS(c[0],c[1]));var P=O.B[O.g[0]],b=P.add.TySh,d=b.m1,r=b$.om(d);b$.Da(d,0,r.length-1);
b$.qS(d,0,X.Txt.v.replace(/\r/g,"\n"));r=b$.om(d);for(var q=0;q<2;q++){var k=X[q==0?"Txtt":"paragraphStyleRange"].v;
for(var m=0;m<k.length;m++){var A=k[m].v,E=A.From.v,a=Math.min(A.T.v-1,r.length-1);A=A[q==0?"TxtS":"paragraphStyle"].v;
var $=b$.QN(d,E,a),K=q==0?$.oM:$.G1;for(var G in A){var z=A[G].v;if(G=="Sz")K.FontSize=Math.round(z.val);
else if(G=="fontPostScriptName")b$.Wu($,z);else if(G=="Algn")K.Justification={Left:1,Cntr:2}[z.Alg];
else if(G=="leading")K.Leading=A[G].v.val;else if(G=="baselineShift")K.BaselineShift=A[G].v.val;else if(G=="autoLeading")K.AutoLeading=A[G].v;
else if(G=="syntheticBold")K.FauxBold=A[G].v;else if(G=="syntheticItalic")K.FauxItalic=A[G].v;else if(G=="Trck")K.Tracking=A[G].v;
else if(G=="verticalScale")K.VerticalScale=A[G].v/100;else if(G=="horizontalScale")K.HorizontalScale=A[G].v/100;
else if(G=="Clr")K.FillColor={Type:1,Values:[1,z.Rd.v/255,z.Grn.v/255,z.Bl.v/255]}}b$.gD(d,E,a,$)}}a$.rS(P,x.y8,O);
O.U();this.II(O,n)}};D.uk.prototype.PV=function(_){var n=Math.min(this.k7,this.$n),O=Math.max(this.k7,this.$n),l=this.z1.add.TySh;
b$.F_(l,this.UF);var x=this.ge(_,l);b$.gD(l.m1,n,O-1,x);var t=this.caller.Ux(),h=this.rS(t,_);if(h)this.cM(t);
if(document.activeElement.tagName.toLowerCase()!="input")this.oK.focus()};D.uk.prototype.$Y=function(_){return this.ld.indexOf(_)!=-1};
D.uk.prototype.enable=function(_,n,O,l){var x=this.oK;n.m.appendChild(x);this.h3="default";this.ee(n)};
D.uk.prototype.HE=function(){return this.z1!=null};D.uk.ro=function(_,n){for(var m=_.B.length-1;m>=0;
m--){var O=_.B[m];if(O.add.TySh&&O.rect.b5(n)&&_.au_(m)){var l=O.bj(31);return l?-2:m}}return-1};D.uk.prototype.Ta=function(_,n,O,l,x){this.TG=O;
this.caller=n;var t=_.u.vk(x.x,x.y),h=this.z1==null;if(h){var V=D.uk.ro(_,t);if(V==-2){alert(hU.get([6,57,0]));
return}if(V>=0&&!l.l(bJ.fc)){if(!a$.L_(_.B[V].add.TySh,O.y8,n)){alert("Fonts not loaded yet");return}this.be(_,n,O,[V])}else{this.zD=!0;
this.PL=x;return}}var y=h?-1:b$.LR(this.z1.add.TySh.m1),r=this.j5?this.j5:this.$b;if(r&&r.Ta(_,O,l,t,null,null,x)&&Q.Q6.Z1(this.z1.add.TySh.ZA)||!h&&Q.p.Kg(t,this.z1.rect)>20/_.u.K&&(y==0||y==1)){this.BY=!0;
this.R9=t;this.apo=this.z1.add.TySh.D.clone();if(this.k7==-1&&this.$n==-1)this.k7=this.$n=this.AP(t)}else{if(this.mL==null){alert("Fonts not loaded yet");
return}this.am=!0;this.k7=this.$n=this.AP(t);var E=Date.now();if(E-this.ajj>300)this.r3=0;this.r3++;
this.ajj=E;if(this.r3==2)this.a4i();if(this.r3==3)this.abI();if(this.r3>1){this.am=!1}}this.U0();this.cM(_)};
D.uk.prototype.be=function(_,n,O,l){var x=_.B[l[0]];this.z1=x;this.Es(n,H.E.L,{d:H.t.F0,G:this.id,Zq:"showactive"});
this.o4=l;_.g=l.slice(0);_.$F();_.HT=!0;this.n1=this.cq(_,l);this.SZ(x.add.TySh);this.rS(_,O)};D.uk.prototype.SZ=function(_){if(b$.LR(_.m1)!=1)return;
var n=b$.eR(_.m1);n=new a8(0,0,n[2]-n[0],n[3]-n[1]);var O=[n.x,n.y,n.x+n.a,n.y,n.x+n.a,n.y+n.n,n.x,n.y+n.n];
Q.p.D(O,_.D,O);this.$b=new k6(O,!1,!1,!1,!0)};D.uk.prototype.a4i=function(){var _=b$.om(this.z1.add.TySh.m1);
this.k7=this.adF(_,this.k7);this.$n=this.anV(_,this.k7)};D.uk.prototype.adF=function(_,n){var O=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",l=[];
for(var m=0;m<O.length;m++)l.push(O.charAt(m));var x=l.indexOf(_[n])==-1?!0:!1;for(var m=n-1;m>=0;m--)if(l.indexOf(_.charAt(m))!=-1==x)return m+1;
return 0};D.uk.prototype.anV=function(_,n){var O=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",l=[];for(var m=0;
m<O.length;m++)l.push(O.charAt(m));var x=l.indexOf(_[n])==-1?!0:!1;for(var m=n+1;m<_.length;m++)if(l.indexOf(_.charAt(m))!=-1==x)return m;
return _.length-1};D.uk.prototype.abI=function(){var _=this.mL.ajV(this.k7);this.k7=_[0];this.$n=_[1]};
D.uk.prototype.ee=function(_){var n=new e_(H.E.L,!0);n.data={d:H.t.JK,vG:this.h3};_.$(n)};D.uk.prototype.Xg=function(_,n,O,l,x){var t=_.u.vk(x.x,x.y),h=this.z1;
if(!x.Ju){var V="default",y=this.$b,r=this.j5?this.j5:y;if(r&&Q.Q6.Z1(h.add.TySh.ZA)){var E=r.RL(t,_.u.K,null,x);
if(E)V=E;else if(r==y&&y.mT(t))V="text"}else if(h&&Q.p.Kg(t,h.rect)>20/_.u.K)V="move";else if(D.uk.ro(_,t)>=0)V="text";
if(V!=this.h3){this.h3=V;this.ee(n)}}var a=this.PL;if(this.zD&&Math.min(x.x-a.x,x.y-a.y)>4/_.u.K){this.zD=!1;
this.VN(_,n,O,l,x);h=this.z1;this.BY=!0;this.$b=new k6(null,!1,!1,!1,!0);var S=_.u.vk(this.PL.x,this.PL.y);
S.x=Math.round(S.x);S.y=Math.round(S.y);this.$b.Ta(_,O,l,S,null,null,x,_.u.ws)}if(this.BY){var e=h.add.TySh;
if(this.j5){this.j5.Xg(_,O,l,t);var P=Q.r.tt(Q.r.pI(this.j5.vh(),this.a6A));e.D=P;this.rS(_,O);b$.Y9(e)}else if(this.$b){this.$b.Xg(_,O,l,t);
var b=e.D.clone(),T=Math.atan2(b.k,b.EX);b.rotate(T);var P=Q.r.tt(Q.r.pI(this.$b.vh())),C=Math.atan2(P.k,P.EX);
P.rotate(C);if(!isNaN(P.EX)&&P.EX*P.c5-P.k*P.av!=0){var Z=new a8(0,0,P.EX/b.EX,P.c5/b.c5),W=Math.round(Z.a),s=Math.round(Z.n),f=e.m1.Curve;
if(f){var q=b$.eR(e.m1),g=new aY(W/q[2],0,0,s/q[3],0,0);Q.p.D(f.Points,g,f.Points);b$.Y9(e)}b$.IU(e.m1,[0,0,W,s]);
e.D=Q.r.tt(Q.r.pI(this.$b.vh(),Z));this.rS(_,O);b$.Y9(e)}}else{var i=t.x-this.R9.x,u=t.y-this.R9.y;e.D=this.apo.clone();
var I=new aW(e.D.Wk+i,e.D.d7+u);I=D.dV.up(_,I,O);e.D.Wk=I.x;e.D.d7=I.y;this.rS(_,O)}}if(this.am)this.$n=this.AP(t);
if(this.BY||this.am)this.cM(_)};D.uk.prototype.VN=function(_,n,O,l,x){var t=_.cx(),h=t[0],V=t[1],y=_.Ni();
y.add.lnsr="rend";var r=_.B.slice(0);y.iA("Text layer "+r.length);this.z1=y;var E=_.g.length==0?_.B.length-1:_.g[_.g.length-1],a=E+1;
if(r[E].add.lsct==bN.GV)a--;this.n1={AT:r.slice(0),IW:_.g.slice(0)};r.splice(a,0,y);_.g=[a];this.k7=this.$n=0;
_.T0(r);this.n1.Q7=r.slice(0);this.n1.Ss=_.g.slice(0);this.Es(n,H.E.L,{d:H.t.F0,G:this.id,Zq:"showactive"});
var S=_.u.vk(x.x,x.y),e=O.Kw;console.log(e);if(this.id==D.An){e=JSON.parse(JSON.stringify(e));e.oM.BaselineDirection=1}y.add.TySh=b$.Jw(S.x,S.y,e,_.u.ws);
var P=y.add.TySh,b=P.m1;if(this.id==D.An)b._LineOrientation=2;b$.F_(P,this.UF);if(x.Ju)b$.EQ(b,1);else{b$.EQ(b,0);
var T=h[V.pop()],C=T?T.add.vmsk:null;if(C&&!l.l(bJ.fc)){C=C.clone();var Z=C.i,s,f;for(var m=0;m<Z.length;
m++)if(Z[m].wM!=null)Z[m].wM=0;var W=5/_.u.K;s=Q.M.FA(C.i,S,!0,W);if(s.tE==-1)s=Q.M.FA(C.i,S);if(s.tE!=-1){b$.EQ(b,1);
var q=Q.M.TH(Z,s.tE),g=Q.M.vM(Z,s.tE)-1;Z=C.i=Z.slice(0,2).concat(Z.slice(q,q+g+1));C.g=[];P.add={vmsk:C,vogk:v.W0(Z)};
b.Curve={};b$.zy(P);if(s.tD!=null){var i=hf.HC(b.Curve);Q.p.D(i[0],P.D,i[0]);var u=Q.p.az(i[0],S.x,S.y),I=O.Kw.G1.Justification;
if(I==2||I==5){var Y=(i[2][u]+i[3]*.5)%i[3];u=hf.W2(Y,i[2])}var U=i[1][u];U=U%g;C.wP=[U,U];b$.zy(P)}else this.SZ(P)}}}return y};
D.uk.prototype.PF=function(_,n,O,l,x,t){if(t){this.zD=!1;return}if(this.z1==null&&!this.zD)return;var h=_.u.vk(x.x,x.y),V=this.zD;
if(this.zD){this.zD=!1;this.VN(_,n,O,l,x);this.am=!0}if(this.BY||this.am){this.cM(_);this.U0();if(V)this.PV(O)}if(this.BY&&this.$b)this.$b.PF(_,O,l,h);
this.BY=this.am=!1;this.oK.focus()};D.uk.prototype.U0=function(){var _=this.z1.add.TySh,n=Math.min(this.k7,this.$n),O=Math.max(this.k7,this.$n),l,x;
if(n==O){var t=b$.om(_.m1);if(n==0||t.charAt(n-1)=="\n")l=x=n;else l=x=n-1}else{l=n;x=O-1}var h=b$.QN(_.m1,l,x);
b$.YX(h,_.D.Sn());this.abV(this.caller,h,_)};D.uk.prototype.abV=function(_,n,O){this.Es(_,H.E.L,{d:H.t.Gf,nZ:gp.j$,Kw:n});
var l=this.UF=b$.Vi(O);this.Es(this.caller,H.E.L,{d:H.t.F0,G:this.id,Zq:"changeAA",t2:l})};D.uk.prototype.akL=function(){var _=this.z1;
if(_&&!this.BY&&this.j5!=null){var n=this.caller.Ux();this.j5.PF(n,this.TG,null,null);this.j5=null;this.SZ(_.add.TySh);
this.cM(n)}};D.uk.prototype.disable=function(_,n,O,l){var x=this.z1;this.II(_,n)};D.uk.prototype.OZ=function(_,n,O,l,x){if(this.mG)return;
if(_.Zq=="commit")this.II(O,n);if(_.Zq=="cancel")this.bO(O,n);if(_.Zq=="changeAA"){this.UF=_.t2;if(O!=null)this.cZ({d:"updateStyles"},n,O,l,x)}if(_.Zq=="showwarp"){if(O==null)return;
if(this.z1==null){var t=O.B[O.g[0]],h=t.add.TySh;if(h==null)return;this.be(O,n,x,[O.g[0]]);this.oK.focus();
this.mG=!0}this.a38=this.z1.add.TySh.ZA;var V=new e_(H.E.L,!0);V.data={d:H.t.Rq,EW:"textwarp"};n.$(V)}};
D.uk.prototype.w1=function(_,n){if(n!=gp.V1)return;if(this.D9){this.D9=!1;var O=this.caller.Ux(),l=this.o4;
for(var m=0;m<l.length;m++){this.z1=O.B[l[m]];this.rS(O,_)}this.II(O,this.caller);return}if(this.z1)this.PV(_)};
D.uk.prototype.ge=function(_,n){var O=JSON.parse(JSON.stringify(_.Kw));b$.YX(O,1/n.D.Sn());return O};
D.uk.prototype.Pg=function(_,n){if(_.mn!=null)this.VT(n,_.d5);else this.abD(n,_.Q7,_.Ss)};D.uk.prototype.Qb=function(_,n){if(_.mn!=null)this.VT(n,_.mn);
else this.abD(n,_.AT,_.IW)};D.uk.prototype.VT=function(_,n){for(var m=0;m<n.length;m++){var O=n[m],l=O.xh,x=_.B[l];
x.buffer=O.r0;x.rect=O.Sm.clone();x.U();x.Fy.vA=null;x.Fy.path=null;var t=x.add.TySh;t.ZA=O.Q6;t.T1=O.T1.clone();
t.D=O.D.clone();t.m1=JSON.parse(JSON.stringify(O.m1));x.lb()}_.U()};D.uk.prototype.cq=function(_,n){var O=[];
for(var m=0;m<n.length;m++){var l=n[m],x=_.B[l],t=x.add.TySh;O.push({xh:l,D:t.D.clone(),Q6:JSON.parse(JSON.stringify(t.ZA)),T1:t.T1.clone(),m1:JSON.parse(JSON.stringify(t.m1)),r0:x.buffer.slice(0),Sm:x.rect.clone()})}return O};
D.uk.prototype.abD=function(_,n,O){_.g=O;_.T0(n);_.U();_.XS=!0};D.uk.prototype.rS=function(_,n,O){if(O==null)O=!1;
var l=this.z1.add.TySh;if(!a$.L_(l,n.y8,this.caller))return!1;if(!O){var x=b$.om(l.m1);this.oK.value=x.slice(0,x.length-1)}var t=this.z1.rect,h=a$.rS(this.z1,n.y8,_);
this.mL=h[0];var V=h[1];if(Q.Q6.Z1(l.ZA))l.T1=new a8;else{if(b$.LR(l.m1)==1){var y=b$.eR(l.m1),ab=V.T1.y;
l.T1=new a8(0,ab,y[2]-y[0],y[3]-y[1]-ab)}else l.T1=V.T1}_.dP();_.U(_.root.sf(V.Sm.uG(t),_,_.B.indexOf(this.z1)));
return!0};D.uk.prototype.vg=function(_,n){if(this.z1==null||this.mG)return;var O=this.oK.selectionStart,l=this.z1.add.TySh,x=b$.om(l.m1),t=this.oK.value+"\n",h=Math.min(this.k7,this.$n),V=Math.max(this.k7,this.$n),S=!1;
this.k7=Math.min(O,h);if(t.length-O<x.length-this.$n)this.$n=x.length-t.length+O;if(x!=t){while(this.k7>0&&x.charAt(this.k7-1)!=t.charAt(this.k7-1))this.k7--}var y=x.substring(0,this.k7),r=x.substring(this.$n,x.length),E=t.substring(this.k7,t.length-r.length);
b$.Da(l.m1,this.k7,this.$n);b$.qS(l.m1,this.k7,E);if(n!=null)b$.a0s(l.m1,this.k7,n);var a=this.ge(this.TG,l),e=-1,P=Array.from(E);
for(var m=0;m<P.length;m++)e=Math.max(e,P[m].codePointAt(0));if(e!=-1&&e>128&&e!=65533&&a.oM.Font!=null){var b=a.ZP[a.oM.Font].Name,T=this.TG.y8.i0(e,b,a.ZP);
if(b!=T){b$.Wu(a,T);S=!0}}if(this.wn!=null&&E==this.wn){var C=JSON.parse(this.abr);a.oM=C.oM;a.ZP=C.ZP;
S=!0}b$.gD(l.m1,this.k7,this.k7+E.length-1,a);this.k7=this.$n=y.length+E.length;var Z=this.caller.Ux(),W=this.rS(Z,this.TG,!0);
if(W)this.cM(Z,!0);if(S)this.U0()};D.uk.prototype.arA=function(_){var n=bJ;if(!_.ctrlKey)this.akL();
_.stopPropagation()};D.uk.prototype.ayL=function(_){_.stopPropagation();var n=_.ctrlKey||_.metaKey,O=bJ,y=0,r=0,s=0,o=!1;
if(this.z1==null||this.mG)return;if(this.z1==null)return;var l=this.caller.Ux();if(this.j5==null&&n){var x=this.z1.add.TySh,t=b$.LR(x.m1),h;
if(t==1){h=b$.eR(x.m1);h=new a8(0,0,h[2]-h[0],h[3]-h[1])}else h=this.mL.uQ();var V=[h.x,h.y,h.x+h.a,h.y,h.x+h.a,h.y+h.n,h.x,h.y+h.n];
Q.p.D(V,x.D,V);this.j5=new k6(V,!0,!0,!1,!1);this.a6A=h;this.cM(l)}if(O.ZZ(_.code,O.WP))y=1;if(O.ZZ(_.code,O.Ti))y=-1;
if(O.ZZ(_.code,O.Ev))r=-1;if(O.ZZ(_.code,O.kc))r=1;var E=O.ZZ(_.code,bJ.DF),a=O.ZZ(_.code,bJ.aaQ);if(O.ZZ(_.code,bJ.Vn)&&n){this.II(l,this.caller);
return}if(O.ZZ(_.code,bJ.rF)){this.bO(l,this.caller);return}if(O.ZZ(_.code,bJ.Dc)){_.preventDefault();
var S=this.oK,e=S.value,P=S.selectionStart,b=S.selectionEnd;S.value=e.substring(0,P)+"\t"+e.substring(b);
S.selectionStart=S.selectionEnd=P+1;this.vg(null);return}var T=O.ZZ(_.code,O.qE),C=O.ZZ(_.code,O.PW);
if(n&&(T||C)){_.preventDefault();var Z=new e_(H.E.s,!0);Z.G=D.iz;Z.data={d:"zoom",fv:T};this.caller.$(Z)}if(O.ZZ(_.code,O.mE))s=1;
if(O.ZZ(_.code,O.Qv))s=-1;var f=this.k7==this.$n,q=n&&_.shiftKey&&s!=0&&!f;if(q||_.altKey&&y!=0){var g=JSON.parse(JSON.stringify(this.TG.Kw));
if(q){var i=g.oM.FontSize;if(i==null)i=16;g.oM.FontSize=Math.max(1,i+s*(_.altKey?5:1))}else{if(f){g.oM.Kerning+=20*y;
g.oM.AutoKerning=!1}else g.oM.Tracking+=20*y}_.preventDefault();var u=new e_(H.E.L,!0);u.data={d:H.t.Gf,nZ:gp.j$,Kw:g};
this.caller.$(u);var Z=new e_(H.E.s,!0);Z.G=D.K9;Z.data={d:"updateStyles"};this.caller.$(Z);return}if((O.ZZ(_.code,O.bd)||O.ZZ(_.code,O.gi))&&n){var I=this.k7,Y=this.$n;
if(I>Y){var U=I;I=Y;Y=U}var x=this.z1.add.TySh,F=b$.om(x.m1);if(I!=Y){this.wn=F.slice(I,Y);this.abr=JSON.stringify(this.TG.Kw)}}var N=b$.om(this.z1.add.TySh.m1);
if(y!=0||r!=0||E||a){_.preventDefault();var X=this.k7;if(y!=0){if(n&&y==-1)X=this.adF(N,this.k7-1);else if(n&&y==1)X=this.anV(N,this.k7);
else{var S=this.oK,e=S.value;X=this.k7+y;if(X!=0&&e.codePointAt(X-1)>65535)X+=y}}else if(r!=0){var J=this.mL.p_(this.k7);
if(r==-1&&J.w7==0)X=0;else if(r==1&&J.w7==this.mL.adO()-1)X=99999999999;else X=this.mL.auP(new aW(J.Sm.x+J.Sm.a/2,0),J.w7+r)}else if(E){var c=this.k7-1;
while(c>0&&N.charCodeAt(c)!=10)c--;X=c==0?0:c+1}else if(a){var c=this.k7;while(c<N.length-1&&N.charCodeAt(c)!=10)c++;
X=c}X=Math.max(0,Math.min(N.length-1,X));if(_.shiftKey)this.k7=X;else this.k7=this.$n=X;o=!0}if(O.ZZ(_.code,bJ.t)&&n){this.k7=0;
this.$n=N.length-1;o=!0}if(o){this.U0();this.cM(l)}};D.uk.adW=function(_,n){var O=_.length;if(O!=n.length)return!1;
for(var m=0;m<O;m++)if(_[m].xh!=n[m].xh)return!1;return!0};D.uk.prototype.II=function(_,n){if(this.z1==null)return;
this.z1.lb();var O=this.n1;if(O instanceof Array){var l=this.cq(_,this.o4),x=_.bU();if(x!=null&&x.G==this&&x.data.mn&&D.uk.adW(x.data.mn,O))x.data.d5=l;
else{var t=new gO(this.name,this);t.data={mn:O,d5:l};_.dc(t)}}else{var t=new gO(this.name,this);t.data={AT:O.AT,Q7:O.Q7,IW:O.IW,Ss:O.Ss};
_.dc(t)}this.escape(_,n)};D.uk.prototype.bO=function(_,n){if(this.z1==null)return;if(this.n1 instanceof Array){this.VT(_,this.n1);
if(this.z1)b$.Y9(this.z1.add.TySh)}else{_.g=this.n1.IW;_.T0(this.n1.AT)}_.U();this.escape(_,n)};D.uk.prototype.escape=function(_,n){this.akL();
this.z1=null;this.o4=null;this.mL=null;this.$b=null;this.oK.blur();_.I.qb=null;_.I.c_=null;_.I._x=[];
_.Hc=!0;this.BY=!1;this.am=!1;this.k7=this.$n=-1;this.Es(n,H.E.L,{d:H.t.F0,G:this.id,Zq:"hideactive"});
if(this.J9){var O=new e_(H.E.L,!0);O.data={d:H.t.dw,G:this.J9};n.$(O);this.J9=null}};D.uk.prototype.Es=function(_,n,O,l){var x=new e_(n,!0);
x.data=O;if(l)x.G=l;_.$(x)};D.uk.prototype.AP=function(_){var n=this.z1.add.TySh,O=this.mL,l=n.D.clone();
l.sJ();var x=l.uz(_),t=b$.kf(n,O),h=Q.Q6.zE(n.ZA,t),V=Q._I.an_(h,x);if(V==null)V=new Float64Array(2);
x=new aW(t.x+V[0]*t.a,t.y+V[1]*t.n);if(O.pw){var y=O.pw.clone();y.sJ();x=y.uz(x)}var r=O.auP(x);return r};
D.uk.prototype.cM=function(_,n){if(n==null)n=!1;var O=this.z1.add.TySh,l=b$.LR(O.m1),x=this.mL,t=x?b$.kf(O,x):null;
_.I._x=[];_.I.qb=null;_.I.c_=null;var h=this.j5?this.j5:this.$b;if(h){h.aZ(_,this.TG,!Q.Q6.Z1(O.ZA));
var V=O.D.clone();V.sJ();if(x&&x.pw&&x.TO==1){var y=x.pw.clone();y.sJ();V.concat(y)}Q.p.D(_.I._x,V,_.I._x);
Q.p.D(_.I.qb.C,V,_.I.qb.C);if(x&&x.pw==null&&x.aqK()){var r=t.a-20,E=t.n+8;_.I.qb.C.push(r,E,r+10,E,r+5,E-5,r+5,E+5);
_.I.qb.F.push("M","L","M","L")}}else if(l==0)this.a6R(_,O,x);else _.I.qb={C:[],F:[]};var a=Math.min(this.k7,this.$n),S=Math.max(this.k7,this.$n);
if(!n){this.oK.selectionStart=a;this.oK.selectionEnd=S}if(x!=null){var e=function(h,s){var f=h.x,q=h.y+h.n,g=new aY;
g.translate(-f,-q);g.rotate(-s);g.translate(f,q);h.y+=h.n*.27;var W=Q.p.ta(h);Q.p.D(W.C,g,W.C);return W};
if(a==S){a=Math.max(a,0);var P=x.p_(a);if(P){var b=P.Sm,T=this.TG.Kw.oM.FontSize;if(T!=null&&T!=0){T/=O.D.Sn();
b.y+=b.n-T;b.n=T}var C=x.aaZ(a);if(C!=null&&C.vp==1)b.x+=b.a;var Z=e(b,P.ws).C;_.I.qb.F.push("M","L");
_.I.qb.C.push(Z[0],Z[1]-1,Z[6],Z[7]-1)}}else{_.I.c_={C:[],F:[]};for(var m=a;m<S;m++){var P=x.p_(m),W=e(P.Sm,P.ws);
Q.p.concat(_.I.c_,W)}}}_.I.qb=a$.Bt(_.I.qb,O,x);_.I.c_=a$.Bt(_.I.c_,O,x);_.I._x=a$.Bt({C:_.I._x},O,x).C;
_.Hc=!0};D.uk.prototype.a6R=function(_,n,O){if(O==null)return;_.I._x.push(0,0);if(_.I.qb==null)_.I.qb={F:[],C:[]};
for(var m=0;m<O.G1.length;m++){var l=O.G1[m];for(var x=0;x<l.H4.length;x++){var t=l.H4[x],h=l.PU.x+t.PU.x+t.Sm.x,V=l.PU.y+t.PU.y+t.Sm.y+t.Sm.n;
_.I.qb.F.push("M","L");_.I.qb.C.push(h,V,h+t.Sm.a,V)}}_.Hc=!0};D.axX=function(){D.uk.call(this,!0)};
D.axX.prototype=new D.uk;D.bK=function(){D.iM.call(this,[10,9],D.Za,"tools/lasso");this.po="crosshair";
this.o6=null;this.hU=null;this.R9=null};D.bK.prototype=new D.iM;D.bK.prototype.km=function(_,n,O,l){this.o6=this.$e;
this.hU={C:[this.o6.x,this.o6.y],F:["M"]}};D.bK.prototype.w$=function(_,n,O,l){this.R9=l;var x=this.hU;
if(x==null)return;if(!l.Ju){if(this.hU!=null&&this.AW>1&&O.l(bJ.Yk)){x.C.pop();x.C.pop();x.C.push(this.HL.x,this.HL.y);
_.I.qb=x;_.Hc=!0}return}x.F.push("L");x.C.push(this.HL.x,this.HL.y);this.o6=this.HL;if(this.eW){_.I.qb=x;
_.Hc=!0}};D.bK.prototype.HE=function(){return this.hU!=null};D.bK.prototype.vB=function(){return this.hU!=null};
D.bK.prototype.op=function(_,n,O,l){D.iM.prototype.op.call(this,_,n,O,l);if(this.hU&&this.AW>1&&this.R9&&!this.R9.Ju&&!l.l(bJ.Yk))this.abS(_,O,l)};
D.bK.prototype.sL=function(_,n,O,l){this.R9=l;var x=this.hU;if(x==null)return;if(this.AW>1&&O.l(bJ.Yk)){x.F.push("L");
x.C.push(this.HL.x,this.HL.y);return}this.abS(_,n,O)};D.bK.prototype.abS=function(_,n,O){this.finish(_,n,O,this.R9);
this.hU=null;_.I.qb=null;_.Hc=!0};D.bK.prototype.getSelection=function(_,n,O,l){if(this.$e.yO(this.HL)||!this.eW)return null;
return D.iM.jd(this.hU.C,null,this._Q.anta)};D.dV=function(){D.zi.call(this,[10,11],D.cb,"tools/move");
this.xM=new aW(0,0);this.M1=new aW(0,0);this.KT=null;this.EI=null;this.BO=new aW(0,0);this._9=null;this.Yw=null;
this.Ve=null;this.jF=0;this.nA=null;this.wt=[];this.Zt=null;this.Fz=null;this.JG=!1;this.d=0;this.cJ=null;
this.g0=null;this.nf=null;this.vj=!1;this._Q={Vb:!1,Rr:!1,Kq:!1};this.ahQ=!1;this.a4c=!1;this.$b=null;
this.To=null;this.acg=null;var _=[];for(var m=0;m<Q.k4.sG.length;m++)_.push({name:Q.k4.sG[m],w:function(n,O,l){return{fs:O.lW.Go==l}}});
this.Fu=new dW(_);this.Fu.Z("select",this.Bu,this)};D.dV.prototype=new D.zi;D.zi.prototype.P0=function(_){return this.JG&&this.d!=2};
D.dV.prototype.anI=function(){return this.JG&&(this.d==0||this.d==1)};D.dV.prototype.Ib=function(_,n,O,l){this.Kk(_,-this.BO.x,-this.BO.y);
this.BO.BX(0,0);this.VJ(_,null,O);this.Df(_)};D.dV.prototype.MN=function(){var _=this._Q;return[_.Vb?1:0,_.Rr?1:0,_.Kq?1:0]};
D.dV.prototype.Az=function(_,n,O){var l=this._Q;if(_&&_[0]!=null)l.Vb=_[0]==1;if(_&&_[1]!=null)l.Rr=_[1]==1;
if(_&&_[2]!=null)l.Kq=_[2]==1;var x=new e_(H.E.L,!0);x.data={d:H.t.F0,G:this.id,l5:l,aqc:n};O.$(x)};
D.dV.af5=function(_,n,O,l,x,t,h){if(h==null)h=[!1,!0];var V=_.wy(null,x,!0),y,r;if(_.add.artd&&_.g.length==1&&_.B[_.g[0]].add.artb){var E=_.B[_.g[0]].DM();
y=_._j(V,E,E)[0]}else{var a=new a8(0,0,_.a,_.n),y=_._j(V,h[0]?a:null,h[1]?null:a)[0];delete y.add.artd;
if(h[1]){var S=Q.RJ(y.Cs(),new a8(0,0,y.a,y.n),2);D.e_.TQ(y,S)}}if(O!=1){var P=new a8(0,0,Math.round(y.a*O),Math.round(y.n*O));
D.e_.TQ(y,P);var b=[];for(var m=0;m<y.B.length;m++)b.push(m);var T=D.D6.Jn(y,b,!0);D.e_.oj(y,new aY(O,0,0,O,0,0));
D.D6.Xr(y,l,b,T,1,Q.r.Ct(new aY(O,0,0,O,0,0)),null,!0);y.jN()}else if(r){y.U();y.jN()}var C=[];for(var m=0;
m<n.length;m++)if(y.a*y.n!=0)C.push(dx.bt(y,n[m].toUpperCase(),null,null,t?t[m]:null,l));return C};D.dV.prototype.anT=function(_,n,O,l,x){if(_==null||_.g.length==0)return;
var t=D.dV.af5(_,[n],O,l,null)[0],h=new e_(H.E.L,!0);h.data={d:H.t.Jg,data:t,name:_.B[_.g[0]].getName()+(O==1?"":"@"+O+"x")+"."+n};
x.$(h)};D.dV.prototype.OZ=function(_,n,O,l,x){if(_.nz=="getPNG"){this.anT(O,"png",_.mt,x,n)}else if(_.nz=="getSVG"){this.anT(O,"svg",_.mt,x,n)}if(_.nz=="prms"){this._Q=_;
this.Df(O)}};D.dV.akv=function(_){var ab=_.length,O=0;_.sort(function(t,h){return t[0]+t[1]/2-(h[0]+h[1]/2)});
var n=_[ab-1][0]+_[ab-1][1]-_[0][0];for(var m=0;m<ab;m++)O+=_[m][1];var l=Math.round((n-O)/(ab-1)),x=_[0][0];
for(var m=0;m<ab;m++){_[m][0]=x;x+=_[m][1]+l}};D.dV.prototype.cZ=function(_,n,O,l,x){var t=_.d;if(t=="trsl"){var h=Math.round(_.M2),V=Math.round(_.uu);
this.BO.BX(h,V);this.mp(O,n,l,x,!1,_.j);this.Kk(O,h,V);this.VJ(O,null,x)}else if(t=="fcmy"||t=="fvec"){var y=["RGB","CMYK"][_.h]+" Color";
if(t=="fvec")y=["Raster","Vector"][_.h]+" Mode";var r=new gO(y,this);r.data={d:_.d,KB:O.add[t]==null?0:O.add[t],t2:_.h};
O.dc(r);this.Pg(r.data,O)}else if(t=="pview"){var t=new gO("Pattern Preview",this);t.data={d:_.d};O.dc(t);
this.Pg(t.data,O)}else if(t=="lockguides"){if(O)O.Zc=!O.Zc}else if(t=="gids"||t=="gidsFromLayer"){var E=_.g0,a,S;
if(E==null)E=O.tp();if(t=="gids"){a=_.Ke;var e=E[0].length,P=a[0].length;S=e==P?[23,2]:e>P?[23,3]:[23,4];
if(P==0)S=[11,15,0]}else if(t=="gidsFromLayer"){var b=[],T=[],C=O.P_();for(var m=0;m<O.g.length;m++){var Z=O.B[O.g[m]].rect;
if(Z.wk())continue;b.push([0,Z.x],[1,Z.y],[0,Z.x+Z.a],[1,Z.y+Z.n]);T.push(C,C,C,C)}S=[11,15,1];a=O.tp();
D.dV.zb(a,[b,T])}if(JSON.stringify(E)==JSON.stringify(a))return;var t=new gO(S,this);t.data={d:2,g0:E,Ke:a};
O.dc(t);this.Pg(t.data,O)}else if(t=="algn"){var W=_.h;if(O==null)return;if(O.g.length<2&&!(O.P!=null&&W!=3&&W!=7)){alert(hU.get([15,7,5]));
return}var s=O.P;O.P=null;var Z=s?s.rect:D.D6.kf(O);this.mp(O,n,l,x,!1);if(!this.JG)return;var f=this.nA,q={},g=[],i=[],u=[];
for(var m=0;m<f.length;m++){var I=f[m];while(O.B[I].getName()=="</Layer group>")I++;var Y=O.root.yJ(I),U=Y;
while(Y.parent!=null){Y=Y.parent;if(f.indexOf(Y.index)!=-1)U=Y}var F=i.indexOf(U.index);if(F==-1){F=i.length;
i.push(U.index)}g[m]=F}var N=[],o=[],X=[];for(var m=0;m<i.length;m++){var J=D.D6.kf(O,O.wy(!0,i[m]));
X.push(J);var c=W==3?[J.y,J.n]:[J.x,J.a];N[m]=c;o.push(c)}D.dV.akv(o);for(var m=0;m<i.length;m++){var J=X[m],p=J.x,d=J.y;
if(W==0)p=Z.x;if(W==1)p=Z.x+(Z.a-J.a)/2;if(W==2)p=Z.x+(Z.a-J.a);if(W==3)d=N[m][0];if(W==4)d=Z.y;if(W==5)d=Z.y+(Z.n-J.n)/2;
if(W==6)d=Z.y+(Z.n-J.n);if(W==7)p=N[m][0];u.push(Math.round(p-J.x),Math.round(d-J.y))}var k=[];for(var m=0;
m<f.length;m++){var A=g[m];k[2*m]=u[2*A];k[2*m+1]=u[2*A+1]}this.Kk(O,0,0,null,k);var $=W==3||W==7?[20,4,6]:[20,4,W<3?W:W-1];
this.VJ(O,null,x,k,$);O.P=s}else if(t=="disabAuto"){this.Az([!1],null,n)}};D.dV.zb=function(_,n){for(var m=0;
m<n[0].length;m++){var O=n[0][m],l=n[1][m],x=!1;for(var t=0;t<_[0].length;t++){var h=_[0][t],V=_[1][t];
if(O[0]==h[0]&&O[1]==h[1]&&l==V)x=!0}if(!x){_[0].push(O.slice(0));_[1].push(l)}}};D.dV.prototype.enable=function(_,n,O,l,x){this.Yw=O;
this.Ve=n;this.vj=x?!0:!1;this.Df(_);this.ee("default",n);this.op(_,n,O,l)};D.dV.prototype.disable=function(_,n,O,l){this.am_(_)};
D.dV.prototype.am_=function(_){if(_==null)return;if(this.$b){this.$b.clear(_);this.$b=null}if(_.I.Kq){_.I.Kq=null;
_.Hc=!0}if(_.I.LV){_.I.LV=null;_.Hc=!0}if(_.I.Hg[this.id]){delete _.I.Hg[this.id];_.Hc=!0}if(_.I.Wn.length!=0){_.I.Wn=[];
_.Hc=!0}};D.dV.prototype.$s=function(_,n,O,l){if(O.kp!=this.id)return;this.Df(_)};D.dV.prototype.Df=function(_,n){if(_==null)return;
var O=this._Q;this.am_(_);if(!this.vj){var l;if(O.Rr||O.Kq)l=Q.p.tR(D.D6.kf(_));if(O.Rr&&!l.wk()){this.$b=new k6([l.x,l.y,l.x+l.a,l.y,l.x+l.a,l.y+l.n,l.x,l.y+l.n],!0);
this.$b.aZ(_,this.Yw)}if(O.Kq){var x=null,E=null,a=!1;if(_.P_()!=-1)x=_.B[_.P_()].DM();else x=new a8(0,0,_.a,_.n);
_.I.Kq={gc:[l],zO:[]};var t=_.I.Kq.zO,h=l.x+l.a,V=l.y+l.n,y=l.x+Math.floor(l.a/2),r=l.y+Math.floor(l.n/2);
if(n){var S=_.root.FA(new aW(Math.floor(n.x),Math.floor(n.y)));if(S){E=Q.p.tR(S.j.Kr(_));if(E.JS(l)){a=(E.rz(l)||l.rz(E))&&!l.yO(E);
if(!a)E=null}}}this.a2B(l,t);if(E!=null){_.I.Kq.gc.push(E);var e=E.x+E.a,P=E.y+E.n,b=E.x+Math.floor(E.a/2),T=E.y+Math.floor(E.n/2);
if(a){var C=y,Z=r;if(l.rz(E)){C=b;Z=T}t.push(l.x,Z,E.x,Z);t.push(h,Z,e,Z);t.push(C,l.y,C,E.y);t.push(C,V,C,P)}else{this.a2B(E,t);
var W=V<E.y||P<l.y,s=h<E.x||e<l.x;if(h<E.x)t.push(h,r,E.x,r);if(e<l.x)t.push(e,r,l.x,r);if(V<E.y)t.push(y,V,y,E.y);
if(P<l.y)t.push(y,P,y,l.y);if(W&&!s){if(l.x<E.x)t.push(l.x,T,E.x,T);if(E.x<l.x)t.push(E.x,r,l.x,r)}}}else{if(l.y>x.y)t.push(y,x.y,y,l.y);
if(V<x.y+x.n)t.push(y,V,y,x.y+x.n);if(l.x>x.x)t.push(x.x,r,l.x,r);if(h<x.x+x.a)t.push(h,r,x.x+x.a,r)}_.Hc=!0}}if(this.d==2&&this.JG){var f=new a8(0,0,_.a,_.n),q=_.P_();
if(q!=-1){var g=_.tp(),i=g[1][this.nA];if(i==-1)i=q;f=_.B[i].DM()}var u=_.P9[this.nA],I=u[0],Y=(I==0?"X":"Y")+": "+Q.k4.eI(u[1]-(I==0?f.x:f.y),_.pa,this.Yw,I==0?f.a:f.n,!0);
D.zi.GB(Math.round(this.KT.x)+10,Math.round(this.KT.y)-10,[Y],_);_.Hc=!0}if(this.d==3&&this.JG){var U=Q.p.ta(this.cJ);
_.I.Hg[this.id]={qb:U};_.Hc=!0}};D.dV.prototype.a2B=function(_,n){var O=_.a,l=_.n,x=_.x+Math.floor(O*.2),t=_.y+Math.floor(l*.2);
n.push(x,_.y,x,_.y+l);n.push(_.x,t,_.x+O,t)};D.dV.prototype.ee=function(_,n){var O={d:H.t.JK,vG:_},l=new e_(H.E.L,!0);
l.data=O;n.$(l)};D.dV.prototype.l9=function(_){var n=this.To.q3()[0],O=this._9,l=this.acg[n];this.a1g(O,l)};
D.dV.prototype.Bu=function(_){var n=JSON.parse(JSON.stringify(this.Yw.lW));n.Go=this.Fu.q3()[0];var O=new e_(H.E.L,!0);
O.data={d:H.t.Gf,nZ:gp.vE,t2:n};this.Ve.$(O)};D.dV.prototype.nN=function(_,n,O,l,x){if(this.JG)this.PF(_,n,O,l,x);
this._9=_;this.Yw=O;this.Ve=n;var t=_.u.vk(x.x,x.y),h;if(D.dV.Zi(O,x,_.u)){h=this.Fu}else{if(this.To)this.To.removeEventListener("select",this.l9);
var V=[];_.root.FA(t,V);if(V.length==0)return;var y=[];this.acg=V;for(var m=0;m<V.length;m++)y.push({name:_.B[V[m]].getName()});
h=this.To=new dW(y);h.Z("select",this.l9,this)}h.parent=n;h.f();h.update(_,O);var r=new e_(H.E.L,!0);
r.data={d:H.t.X3,B_:h,x:x.B7+2,y:x.E8+1};n.$(r)};D.dV.prototype.a62=function(_,n,O,l,x){var t=D.dV.tI(_,x);
return t!=-1||D.dV.Zi(O,x,_.u)};D.dV.tI=function(_,n){if(_==null||_.add.artd==null)return-1;var O=_.u.vk(n.x,n.y),l=12*D.V()/_.u.K;
for(var m=0;m<_.B.length;m++){var x=_.B[m];if(!x.Pn()||x.add.artb==null)continue;var t=x.DM(),h=new a8(t.x,t.y-1.7*l,l*x.getName().length*.5,l);
if(h.b5(O))return m}return-1};D.dV.prototype.Ta=function(_,n,O,l,x){var t=D.dV.tI(_,x),h=D.dV.awW(_,_.u.vk(x.x,x.y));
if(t!=-1){_.g=[t];if(O.kp==D.cb){var V=new e_(H.E.L);V.data={d:H.t.dw,G:D.KV};n.$(V)}return}if(h!=-1){_.u.ej=h;
_.i1=!0;var V=new e_(H.E.L,!0);V.data={d:H.t.$p,EW:as.n0.agx};n.$(V);return}this.KT=x;this.xM.BX(x.x,x.y);
this.M1=_.u.vk(x.x,x.y);this.EI=new fR(this.M1);this.mp(_,n,l,O,!0)};D.dV.Zi=function(_,n,O,l){var x=Q.k4.BV,t=O.l_.n;
return _.PS&&(0<n.x&&n.x<x||0<n.y&&n.y<x||l&&0<n.x&&n.x<4*x&&t-x<n.y&&n.y<t)};D.dV.prototype.mp=function(_,n,O,l,x,t){var h,V=this.M1,y=!1;
if(x){var r=l.qq&&l.lW.P9;if(D.dV.Zi(l,this.xM,_.u)){h=_.tp();var E=_.tp(),a=null;if(this.xM.x<Q.k4.BV){a=[0,V.x]}if(this.xM.y<Q.k4.BV){a=[1,V.y]}E[0].push(a);
E[1].push(_.P_(!0));_.WX(E);if(!r){var S=new e_(H.E.L);if(!l.lW.P9){S.data={d:H.t.Gf,nZ:gp.En};n.$(S)}if(!l.qq){S.data={d:H.t.Gf,nZ:gp.Hl};
n.$(S)}r=!0}}var e=this.aqB(_,V);if(r&&e!=null&&!_.Zc){this.d=2;this.g0=h?h:_.tp();this.nA=e;this.JG=!0;
this.Fz=D.D6.kf(_);return}if(_.oO.length!=0){this.d=4;this.Fz=_.U_[_.oO[0]].rect.clone();this.JG=!0;
return}if(this.$b&&this.$b.RL(V,_.u.K,!0,this.KT)!=null){var S=new e_(H.E.L);S.data={d:H.t.dw,G:D.rd,a9l:!0};
n.$(S);return}if(_.P&&_.P.rect.b5(V)){var P=Math.round(V.x),b=Math.round(V.y),T=_.P.rect;y=_.P.channel[(b-T.y)*T.a+P-T.x]>128}if(!y&&(!this.vj&&this._Q.Vb||this.vj&&this._Q.Vb&&(O.l(bJ.fc)||_.g.length<2))){var C=this.a50(_,V,O);
if(!C){_.g=[];_.tF=null;_.XS=_.TU=!0;this.d=3;this.cJ=new a8;this.JG=!0;return}}if(O.l(bJ.Yk)&&!y){var Z=new e_(H.E.s);
Z.G=D.Ko;Z.data={d:v.Sq,as4:!0};n.$(Z)}}if(_.oO.length!=0){this.d=4;this.Fz=_.U_[_.oO[0]].rect.clone();
this.JG=!0;return}this.nA=_.wy(t==null,t,null,!0);for(var m=0;m<this.nA.length;m++){var W=this.nA[m],s=_.B[W];
if(s.bj(2)||s.bj(31)||_.x$(W)){alert(hU.get([6,57,0]));return}}if(_.add.artd&&x){var f=this.nA,q=!1;
for(var m=0;m<f.length;m++)if(_.B[f[m]].add.artb)q=!0;if(!q){this.Zt=[_,_.B.slice(0),_.g.slice(0),-1];
this.nA.sort(function(N,o){return N-o})}}this.wt=D.dV.asM(_,this.nA);this.d=0;if(_.P&&(!x||y)&&_.g.length==1&&_.eE(!1)){if(!_.a3$()){this.JG=!1;
return}var g=_.B[_.g[0]],i=O.l(bJ.Yk);this.d=1;var u=_.history[_.Uh];if(u.G==this&&u.data.d==1&&u.data.j==_.g[0]&&g.LN==g.fa.LN&&!i){this.nf=u}else{var I=g.fa,Y=!1,U;
if(!g.cu(_,_.P)||i){Y=!0;g.P5(_,_.P,i)}if(g.fa.LN<=0){U=Q.Q(g.fa.nt.length>>2);Q.nV(g.fa.nt,U,3)}else U=_.P.channel.slice(0);
var F={rect:g.fa.xF.clone(),channel:U};this.nf=new gO(i?[12,53]:[12,54],this);this.nf.data={d:1,j:_.g[0],fa:g.fa,m_:I,qM:Y,IW:_.P,Ss:F,c5:new aW(0,0)};
_.dc(this.nf);_.P=F;_.bo=!0}}this.JG=!0;this.Fz=D.D6.kf(_)};D.dV.prototype.a50=function(_,n,O){var l=_.root.FA(new aW(Math.floor(n.x),Math.floor(n.y)));
if(l){if(l.j.add.vmsk)_.Hc=!0;var x=_.B.indexOf(l.j);if(O.l(bJ.fc)){var t=_.g.indexOf(x);if(t==-1)_.g.push(x);
else if(_.g.length>1)_.g.splice(t,1)}else if(_.g.indexOf(x)==-1){this.a1g(_,x)}}return l!=null};D.dV.prototype.a1g=function(_,n){_.B[n].LN=0;
_.g=[n];_.tF=null;_.$F();_.HT=!0;_.XS=!0};D.dV.awW=function(_,n){var O=_.add.Anno;if(O==null||O.length==0)return-1;
var l=30/_.u.K;for(var m=0;m<O.length;m++)if(new a8(O[m][0],O[m][1],l,l).b5(n))return m;return-1};D.dV.prototype.Xg=function(_,n,O,l,x){this.KT=x;
var t=_.u.vk(x.x,x.y),e,P;if(this.EI&&this.d<2)t=this.EI.WV(t,l);if(!this.JG){if(O.qq&&O.lW.P9&&_&&!_.Zc){var h=this.aqB(_,t),V="default",y=D.dV.tI(_,x);
if(h!=null)V=["col-resize","row-resize"][_.P9[h][0]];else if(this.$b){var r=this.$b.RL(t,_.u.K,null,x);
if(r)V=r}else if(y!=-1||D.dV.awW(_,t)!=-1){V="pointer"}this.ee(V,n)}this.Df(_,t);return}var E=this.M1,a=Math.round(t.x-E.x)-this.BO.x,S=Math.round(t.y-E.y)-this.BO.y;
if(this.Fz){if(this.d==2){var b=[];if(_.P)b.push(_.P.rect);if(this.Fz)b.push(this.Fz);if(_.u.t9)b.push(_.u.t9);
t=D.dV.up(_,t,O,[!1,b,!0])}else{P=this.Fz.clone();P.offset(this.BO.x+a,this.BO.y+S);e=D.dV.D8(_,P,O);
var T=this.EI.abk(l);if(T==1){e[0]=0;e[2]=1e9}if(T==2){e[1]=0;e[3]=1e9}a+=Math.round(e[0]);S+=Math.round(e[1])}}this.BO.x+=a;
this.BO.y+=S;var C=this.Zt;if(C&&_==C[0]){_.T0(C[1]);_.g=C[2].slice(0);C[3]=-1}this.Kk(_,a,S,t,null,l.l(bJ.fc));
if(C&&_==C[0]){var Z=this.Fz.clone();Z.offset(this.BO.x,this.BO.y);var W=t,y=_.P_(),s=-1;for(var m=0;
m<_.B.length;m++){var f=_.B[m];if(!f.Pn()||f.add.artb==null)continue;var q=f.DM();if(q.b5(W))s=m}if(s!=-1&&s!=y){var g=D.Z0.nl(_,this.nA,s,!0,null,!1);
_.T0(g[0]);_.g=g[1];C[3]=s}}this.Df(_,t);if(e)D.dV.$Q(_,P,e)};D.dV.prototype.aqB=function(_,n){var O=D.nd(_,this.KT);
n=[n.x,n.y];var l=_.tp(),x=_.P_();for(var m=0;m<l[0].length;m++){var t=l[0][m],h=l[1][m];if(h!=-1&&h!=x)continue;
if(Math.abs(t[1]-n[t[0]])<O)return m}return null};D.dV.prototype.Kk=function(_,n,O,l,x,t){if(this.d==0){if(x)D.dV.T8(_,this.nA,this.wt,x);
else D.dV.nJ(_,this.nA,this.wt,n,O)}else if(this.d==1){var h=this.nf.data;h.c5.offset(n,O);D.dV.tP(_,h.j,n,O)}else if(this.d==2){var V=1e-5;
if(t)V=_.u.K<=1?10:1;else if(_.u.K<=1)V=1;var y=V*Math.round(l.x/V),r=V*Math.round(l.y/V),E=[y,r],a=_.P9[this.nA];
a[1]=E[a[0]]}else if(this.d==3){var S=this.M1,e=Q.p.f0([S.x,S.y,l.x,l.y]);this.cJ=e;var P=[];_.root.a20(e,P);
if(JSON.stringify(_.g)!=JSON.stringify(P)){_.g=P;_.XS=_.TU=!0}}else if(this.d==4){for(var m=0;m<_.oO.length;
m++)_.U_[_.oO[m]].rect.offset(n,O);_.Hc=!0}};D.dV.tP=function(_,n,O,l){var x=_.B[n];_.P.rect.offset(O,l);
x.Ub(_,O,l,_.P);_.bo=!0;_.U()};D.dV.prototype.PF=function(_,n,O,l,x,t){this.VJ(_,x,O);this.Df(_);if(Date.now()-this.jF<300&&!t){var h=D.uk.ro(_,_.u.vk(x.x,x.y));
if(D.dV.Zi(O,x,_.u,!0)){var V=new e_(H.E.L);if(x.y>_.u.l_.n-20){V.data={d:H.t.Rq,EW:"doczoom",KB:_.u.K*100,O7:{Y:H.E.s,G:D.iz,W:{d:"pzoom"}}}}else{V.data={d:H.t.Rq,EW:"preferences"}}n.$(V)}else if(h>=0){var y=new e_(H.E.s,!0);
y.G=D.K9;y.data={d:"editCurr",GP:h};n.$(y)}}this.jF=Date.now();D.e_.C3(_)};D.dV.prototype.VJ=function(_,n,O,l,x){if(!this.JG)return;
this.JG=!1;if(this.d==0){if(l){this.amC(_,null,l,x)}else{if(this.BO.x==0&&this.BO.y==0)return;this.amC(_,this.BO.clone())}_.i1=!0}else if(this.d==2){var t=0;
n=[n.x,n.y];var h=this.nA,V=_.P9[h],gj=this.g0[0].length,y=_.P9.length;if(O.PS&&n[V[0]]<Q.k4.BV){var r=_.tp();
r[0].splice(h,1);r[1].splice(h,1);_.WX(r);t=1;if(gj==y-1)return}if(gj<y)t=2;var E=new gO([[23,2],[23,3],[23,4]][t],this);
E.data={d:2,g0:this.g0,Ke:_.tp()};_.dc(E)}else if(this.d==4){var E=new gO([12,54],this);E.data={d:4,g:_.oO.slice(0),R:this.BO.clone()};
_.dc(E)}this.BO.BX(0,0)};D.dV.prototype.op=function(_,n,O,l){var x=l.yi(_?_.u.ws:0);if(_!=null&&(x.x!=0||x.y!=0)){if(l.l(bJ.Yk)&&_.P==null){var t=new e_(H.E.s);
t.G=D.Ko;t.data={d:v.Sq,as4:!0};n.$(t)}this.BO.BX(x.x,x.y);this.mp(_,n,l,O,!1);if(!this.JG)return;this.Kk(_,x.x,x.y);
this.VJ(_,null,O);this.Df(_)}var h=l.l(bJ.mV);if(!this.vj&&this.a4c!=h){if(h){this.ahQ=this._Q.Vb;this._Q.Vb=!0}else{this._Q.Vb=this.ahQ}this.a4c=h;
var V=new e_(H.E.L,!0);V.data={d:H.t.F0,G:this.id,l5:this._Q};n.$(V)}};D.dV.prototype.Qb=function(_,n){if(_.d==0){var O=_.uw;
if(O){n.T0(O.AT);n.g=O.sI.slice(0);n.U();n.XS=!0}D.dV.T8(n,_.g,_.YV,_.LL,!0);D.e_.C3(n)}else if(_.d=="fcmy"||_.d=="fvec"){if(_.KB==0)delete n.add[_.d];
else n.add[_.d]=_.KB;n.Hc=!0}else if(_.d=="pview"){n.VZ=!n.VZ;n.U()}else if(_.d==2){n.WX(_.g0);n.Hc=!0}else if(_.d==4){for(var m=0;
m<_.g.length;m++)n.U_[_.g[m]].rect.offset(-_.R.x,-_.R.y);n.Hc=!0}else{var l=n.B[_.j];if(_.qM){l.TR(n,_.m_);
n.P=_.IW;n.bo=!0;n.U();l.U()}else{D.dV.tP(n,_.j,-_.c5.x,-_.c5.y)}}};D.dV.prototype.Pg=function(_,n){if(_.d==0){D.dV.T8(n,_.g,_.YV,_.LL);
var O=_.uw;if(O){n.T0(O.Q7);n.g=O.lU.slice(0);n.U();n.XS=!0}D.e_.C3(n)}else if(_.d=="fcmy"||_.d=="fvec"){if(_.t2==0)delete n.add[_.d];
else n.add[_.d]=_.t2;n.Hc=!0}else if(_.d=="pview"){n.VZ=!n.VZ;n.U()}else if(_.d==2){n.WX(_.Ke);n.Hc=!0}else if(_.d==4){for(var m=0;
m<_.g.length;m++)n.U_[_.g[m]].rect.offset(_.R.x,_.R.y);n.Hc=!0}else{var l=n.B[_.j];if(_.qM){l.fa=_.fa;
n.P=_.Ss;D.dV.tP(n,_.j,0,0);l.U()}else{D.dV.tP(n,_.j,_.c5.x,_.c5.y)}}};D.dV.prototype.amC=function(_,n,O,l){if(O){var x=!0;
for(var m=0;m<O.length;m++)if(O[m]!=0)x=!1;if(x)return}var t=_.history[_.Uh],h=this.Zt,V=h!=null&&h[3]!=-1&&h[0]==_;
if(!V&&O==null&&t.data&&t.G==this&&t.data.d==0&&JSON.stringify(t.data.g)==JSON.stringify(this.nA)&&JSON.stringify(t.data.YV)==JSON.stringify(this.wt)){var y=t.data.LL,r=t.data.aeK.ot.T.v;
r.Hrzn.v.val+=n.x;r.Vrtc.v.val+=n.y;for(var m=0;m<y.length;m+=2){y[m]+=n.x;y[m+1]+=n.y}}else{if(n==null)n=new aW(O[0],O[1]);
var E={et:"move",ot:{classID:"null",null:g3.g5("Lyr",!0),T:{t:"Objc",v:{classID:"Ofst",Hrzn:{t:"UntF",v:{type:"#Rlt",val:n.x}},Vrtc:{t:"UntF",v:{type:"#Rlt",val:n.y}}}}}},a=null;
if(V)a={AT:h[1],sI:h[2],Q7:_.B.slice(0),lU:_.g.slice(0)};this.Zt=null;var S=new gO(l?l:[12,54],this);
if(O)S.data={d:0,g:this.nA,YV:this.wt,uw:a,LL:O};else S.data={d:0,g:this.nA,YV:this.wt,uw:a,LL:D.dV.atO(this.nA,n.x,n.y)};
S.data.aeK=E;_.dc(S);this.track(E)}};D.dV.atO=function(_,n,O){var l=[];for(var m=0;m<_.length;m++)l.push(n,O);
return l};D.dV.nJ=function(_,n,O,l,x){D.dV.T8(_,n,O,D.dV.atO(n,l,x))};D.dV.T8=function(_,n,O,l,x){if(n.length==0)return;
if(O==null){O=[];for(var m=0;m<n.length;m++){O.push(_.B[n[m]].PO(_,!0))}}var t=new a8,h=new a8(0,0,_.a,_.n);
for(var m=0;m<n.length;m++){var V=l[2*m],y=l[2*m+1];if(x){V=-V;y=-y}var r=_.B[n[m]],E=O[m];if(r.add.fxrp&&(E.indexOf(0)!=-1||r.uq()))r.add.fxrp.offset(V,y);
for(var a=0;a<E.length;a++){var S=E[a];if(S==0){r.rect.offset(V,y);if(r.lx()&&r.vO(_))r.vO(_).rect.offset(V,y);
if(r.add.artb){var e=r.DM();e.offset(V,y);r.C_(e);var P=r.add.artb.guideIndeces;P=P?P.v:[];for(var b=0;
b<P.length;b++){var T=_.P9[P[b].v];T[1]+=T[0]==0?V:y}}if(r.add.TySh){r.add.TySh.D.translate(V,y);if(r.add.TySh.add){r.add.TySh.add.vmsk.offset(V,y)}}if(r.add.SoLd){var C=new aY(1,0,0,1,V,y),Z=r.add.SoLd,W=D.D6.Zz(Z.Trnf),s=D.D6.Zz(Z.nonAffineTransform);
Q.p.D(W,C,W);Q.p.D(s,C,s);Z.Trnf=D.D6.X6(W);Z.nonAffineTransform=D.D6.X6(s);D.D6.auX(Z,C)}}if(S==1)r.Ek().rect.offset(V,y);
if(S==2){r.add.vmsk.offset(V,y);if(r.add.vogk)Q.X.D(r.add.vogk,[1,0,V,0,1,y,0,0],[]);if(r.Fy.hU){var f=r.Fy.hU.SD.C;
Q.p.D(f,new aY(1,0,0,1,V,y),f)}}if(S==3){r.vO(_).z.rect.offset(V,y);if(E.length==1)r.U()}}if(E.length>0){var q=r.add.GdFl;
if(q==null)q=r.add.PtFl;if(r.uq()&&!r.kl()&&r.add.vmsk!=null&&Q.M.rw(r.add.vmsk.i)&&r.add.vmsk.zG==255&&(q==null||q.Algn&&q.Algn.v)){r.rect.offset(V,y)}else r.bf(_);
var g=_.root.sf(r.Kr(_),_,n[m]);if(r.add.artb)g=g.uG(r.DM());t=t.uG(g);g.offset(-V,-y);t=t.uG(g);if(r.yG()&&r.z&&r.z.color==255)t=t.uG(h);
r.a6u()}}_.U(Q.p.tR(t))};D.dV.asM=function(_,n){var O=[];for(var m=0;m<n.length;m++){var l=_.B[n[m]];
O.push(l.PO(_))}return O};D.dV.$Q=function(_,n,O){var l={C:[],F:[]},x=n.x+O[0],t=n.y+O[1];if(O[2]!=1e9){l.F.push("M","L");
l.C.push(O[2],t,O[2],t+n.n)}if(O[3]!=1e9){l.F.push("M","L");l.C.push(x,O[3],x+n.a,O[3])}if(l.C.length!=0){_.I.LV=l;
_.Hc=!0}};D.dV.up=function(_,n,O,l){var x=D.dV.axH(_,[[n.x],[n.y]],O,l);return new aW(n.x+x[0],n.y+x[1])};
D.dV.D8=function(_,n,O,l,x){var t=x==!0?1:.5,h=D.dV.axH(_,[[n.x,n.x+Math.round(n.a*t),n.x+n.a],[n.y,n.y+Math.round(n.n*t),n.y+n.n]],O,l);
return h};D.dV.axH=function(_,n,O,l){if(l==null)l=[!0,null,!0];var x=[0,0,1e9,1e9];if(!O.Ay)return x;
var t=JSON.parse(JSON.stringify(n));for(var h=0;h<2;h++){var V=1e9,y=n[h],r=0;for(var E=0;E<y.length;
E++){var a=D.dV.a3F(_,y[E],t[1-h][E],h,O,l);if(a!=1e9)t[h][E]=a;if(a!=1e9&&Math.abs(a-y[E])<Math.abs(V)){V=a-y[E];
r=a}}if(V!=1e9){x[h]=V;x[h+2]=r}}return x};D.dV.a3F=function(_,n,O,l,x,t){var h=1e9,V=x.hK,y=x.lW,r=[_.root];
while(r.length!=0&&V[2]){var E=r.pop(),a=E.j,S=a.rect;if(!a.Pn())continue;if(E.children)for(var m=0;
m<E.children.length;m++)r.push(E.children[m]);if(_.g.indexOf(E.index)!=-1||S.wk())continue;if(l==0){var e=S.a,P=e>>>1;
if(Math.abs(S.x-n)<Math.abs(h-n))h=S.x;if(Math.abs(S.x+P-n)<Math.abs(h-n))h=S.x+P;if(Math.abs(S.x+e-n)<Math.abs(h-n))h=S.x+e}else{var b=S.n,T=b>>>1;
if(Math.abs(S.y-n)<Math.abs(h-n))h=S.y;if(Math.abs(S.y+T-n)<Math.abs(h-n))h=S.y+T;if(Math.abs(S.y+b-n)<Math.abs(h-n))h=S.y+b}}if(t[0]&&V[0]&&y.P9&&x.qq){var C=_.tp(),Z=C[0],W=C[1],s=_.P_();
for(var m=0;m<Z.length;m++)if((W[m]==-1||W[m]==s)&&Z[m][0]==l&&Math.abs(Z[m][1]-n)<Math.abs(h-n))h=Z[m][1]}if(V[1]&&y.TP&&x.qq){var f=Math.round(Q.k4.dJ(y.Y$,_.pa,_.a,y.dt));
if(l==1&&y.EO==1){var q=O*.5*Math.sqrt(4/3),g;f*=Math.sqrt(4/3);g=Math.round((n-q)/f)*f+q;if(Math.abs(g-n)<Math.abs(h-n))h=g;
g=Math.round((n+q)/f)*f-q;if(Math.abs(g-n)<Math.abs(h-n))h=g}else{var g=Math.round(n/f)*f;if(Math.abs(g-n)<Math.abs(h-n))h=g}}var i=_.Ks;
if(V[3]&&y.Ks&&x.qq&&i.length!=0){for(var m=0;m<i.length;m++){if(!t[2]&&_.qo.indexOf(m)!=-1)continue;
var u=D.aR.$P(i,m);for(var I=0;I<3;I+=2)if(u[I+l]!=n&&Math.abs(u[I+l]-n)<Math.abs(h-n))h=u[I+l]}}if(t[1])for(var Y=0;
Y<t[1].length;Y++){var S=t[1][Y],e=S.a,b=S.n,U=[S.x,S.y,S.x+(e>>>1),S.y+(b>>>1),S.x+e,S.y+b];for(var m=0;
m<6;m+=2)if(Math.abs(U[m+l]-n)<Math.abs(h-n))h=U[m+l]}if(V[4]){var S=new a8(0,0,_.a,_.n),s=_.P_();if(s!=-1)S=_.B[s].DM();
var e=S.a,b=S.n,U=[S.x,S.y,S.x+(e>>>1),S.y+(b>>>1),S.x+e,S.y+b];for(var m=0;m<6;m+=2)if(Math.abs(U[m+l]-n)<Math.abs(h-n))h=U[m+l]}var F=Math.abs(h-n)<=4*D.V()/_.u.K?h:1e9;
return F};D.rr=function(){D.iM.call(this,[10,12],D.pO,"tools/mwand");this.zl=null};D.rr.prototype=new D.iM;
D.rr.prototype.MN=D.iM.prototype.asm;D.rr.prototype.Az=D.iM.prototype.afV;D.rr.prototype.km=function(_,n,O,l){this.zl=l;
this.ae0=this._Q.wconf[0];this.finish(_,n,O,l)};D.rr.prototype.w$=function(_,n,O,l,x){if(!l.Ju)return;
var t=new e_(H.E.s);t.G=D.kF;t.data={d:"h_stepbck"};x.$(t);var h=l.x-this.zl.x,V=Math.max(0,Math.min(255,Math.round(this.ae0+h/4)));
this._Q.wconf[0]=V;this.s9(x);this.finish(_,n,O,this.zl)};D.rr.prototype.sL=function(_,n,O,l,x){this._Q.wconf[0]=this.ae0;
this.s9(x)};D.rr.prototype.getSelection=function(_,n,O,l){var x=this.HL;x=_.u.vk(l.x,l.y);var t=D.iM.ax0(new aW(Math.floor(x.x),Math.floor(x.y)),this._Q.wconf,this._Q.sall);
return t};D.rr.afP=function(_,n,O,l,x){if(_.g.length!=1){alert("More than one layer selected.");return null}var t=_.B[_.g[0]],h=null,V;
if(x)h=t.LN<=0?null:t.LN==1?t.Ek():t.vO(_).z;if(h==null&&t.add.lsct!=null&&t.add.lsct!=bN.IE){alert("No layer selected.");
return null}if(n.x<0||n.x>_.a||n.y<0||n.y>_.n)return null;var y=new a8(0,0,_.a,_.n);if(l){V=_.Cs()}else if(h==null&&y.yO(t.rect))V=t.buffer;
else{V=Q.Q(y.O()*4);if(h==null)Q.zw(t.buffer,t.rect,V,y);else D.Os.j4(h.channel,h.rect,h.color,V,y)}var r=D.rr.a6b(V,y,n,null,O),E=Q.pF(r,y),a=Q.Q(E.O());
Q.pc(r,y,a,E);return{rect:E,channel:a}};D.rr.af0=function(_,n,O){var l=n.a,x=n.n,h=0,V=0,y=0,r=0;_=new Uint32Array(_.buffer);
var t=[],E=O.length;for(var m=0;m<E;m++){var a=O[m],S=Math.round(a.x-.5-n.x),e=Math.round(a.y-.5-n.y);
S=Math.max(0,Math.min(l-1,S));e=Math.max(0,Math.min(x-1,e));var P=e*l+S,b=_[P];t.push([b&255,b>>8&255,b>>16&255,b>>>24])}return t};
D.rr.a6b=function(_,n,O,l,x){_=new Uint32Array(_.buffer);var t=n.a,h=n.n,V=t*h;if(l==null)l=D.rr.af0(_,n,[O]);
var y=Math.round(O.x-.5-n.x),r=Math.round(O.y-.5-n.y),E=r*t+y,a=Date.now(),S=Q.Q(t*h),e=x[0],P=1/e,b=x[1]&&e>0?255:0;
if(x[2]){var T=Q.Q(S.length),C=new Uint32Array(V),Z=1;C[0]=y<<16|r;T[E]=1;while(Z>0){var W=C[Z-1];Z--;
var s=W>>>16,f=W&65535,m=f*t+s,q=D.rr.S_(_[m],l);if(q>e){var g=b*(1-Math.max(0,Math.min(1,(q-e)*P)));
S[m]=~~g}else{S[m]=255;if(f!=h-1&&T[m+t]==0){C[Z++]=s<<16|f+1;T[m+t]=1}if(f!=0&&T[m-t]==0){C[Z++]=s<<16|f-1;
T[m-t]=1}if(s!=t-1&&T[m+1]==0){C[Z++]=s+1<<16|f;T[m+1]=1}if(s!=0&&T[m-1]==0){C[Z++]=s-1<<16|f;T[m-1]=1}}}}else{for(var m=0;
m<V;m++){var q=D.rr.S_(_[m],l);if(q<=e)S[m]=255}for(var f=0;f<h;f++)for(var s=0;s<t;s++){var m=f*t+s;
if(S[m]==0&&(s>0&&(S[m-1]==255||f>0&&S[m-t-1]==255||f<h-1&&S[m+t-1]==255)||s<t-1&&(S[m+1]==255||f>0&&S[m-t+1]==255||f<h-1&&S[m+t+1]==255)||f>0&&S[m-t]==255||f<h-1&&S[m+t]==255)){var q=D.rr.S_(_[m],l),g=b*(1-Math.max(0,Math.min(1,(q-e)*P)));
S[m]=~~g}}}return S};D.rr.S_=function(_,n){var O=n.length,l=D.rr.aun(_,n[0]),m=1;while(m!=O){l=Math.min(l,D.rr.aun(_,n[m]));
m++}return l};D.rr.aun=function(_,n){var O=_&255,l=_>>>8&255,x=_>>>16&255,t=_>>>24&255;if(n[3]==0)return t<5?0:255;
var h=Math.max(Math.abs(O-n[0]),Math.max(Math.abs(l-n[1]),Math.abs(x-n[2])));return t==0?255:h};D.oE=function(_,n){if(n)D.Os.call(this);
else if(_)D.Os.call(this,[10,49],D.vS,"tools/camove");else D.Os.call(this,[10,26],D.kq,"tools/patch");
this.o6=null;this.hU=null;this.R=null;this.PU=null;this.XK=new aW;this.rb=null;this.Bv=null};D.oE.prototype=new D.Os;
D.oE.prototype.Ta=function(_,n,O,l,x){var t=_.u.vk(x.x,x.y);if(_.P&&Q.FA(t,_.P.channel,_.P.rect)){var h=new a8(0,0,_.a,_.n),V=h.v6(_.P.rect);
if(!_.eE()||V.wk())return;if(!0){var y=Q.Q(V.O());Q.pc(_.P.channel,_.P.rect,y,V);_.P={channel:y,rect:V}}this.gU(_);
this.db(_);this.PU=t;this.XK=new aW(t.x-_.P.rect.x,t.y-_.P.rect.y);this.Bv=Q.Q(_.P.rect.O()*4);this.Bv.fill(255);
if(this._Q.patch==1){var r=_.B[_.g[0]];r.P5(_,_.P,!0);if(r.fa==null)this.PU=null}this.rb=_.P.rect.clone()}else{this.hU={C:[t.x,t.y],F:["M"]};
this.o6=t}};D.oE.prototype.Xg=function(_,n,O,l,x){var t=_.u.vk(x.x,x.y);if(this.PU){if(this._Q.patch==1){if(_.oO.length==0){var h=_.B[_.g[0]].fa,V=t.x-this.XK.x,y=t.y-this.XK.y;
D.dV.tP(_,_.g[0],Math.round(V-h.xF.x),Math.round(y-h.xF.y))}}else this.adn(_,t,"clone")}if(this.o6){this.hU.F.push("L");
this.hU.C.push(t.x,t.y);this.o6=t;_.I.qb=this.hU;_.Hc=!0}};D.oE.prototype.PF=function(_,n,O,l,x){var t=_.u.vk(x.x,x.y);
if(this.PU){var h=_.P.rect.clone();if(this.id==D.vS){var V=_.B[_.g[0]];V.TR(_,V.fa);_.P.rect=this.rb.clone();
var y=Q.Q(_.P.rect.O()*4);Q.$c(_.P.channel,y,3);this.jl(_,"sheal",y,_.P.rect,_.P.rect);_.P.rect=h;h=h.uG(this.rb)}this.adn(_,t,"heal");
this.finish(_,h,null,null,!0);_.U(h);this.PU=null}if(this.o6){var r=D.iM.VH(this._Q.setop,l.l(bJ.fc),l.l(bJ.Yk)),E=new e_(H.E.yy,!0);
if(this.hU.C.length<=4)E.data=D.iM.qv();else E.data=D.iM.jd(this.hU.C,r);n.$(E);this.o6=null;_.I.qb=null;
_.Hc=!0}};D.oE.prototype.SK=function(){return this.R};D.oE.prototype.OZ=function(_,n,O,l,x){D.Os.prototype.OZ.call(this,_,n,O,l,x);
this.ee(x,l)};D.oE.prototype.ee=function(_,n){var O="auto;";if(n!=null&&n.l(bJ.fc)&&!n.l(bJ.Yk)||this._Q.setop=="union")O="copy";
var l=new e_(H.E.L,!0);l.data={d:H.t.JK,vG:O};if(this.caller)this.caller.$(l)};D.oE.prototype.adn=function(_,n,O){var l=new aW(Math.round(this.PU.x-n.x),Math.round(this.PU.y-n.y));
if(this._Q.patch==1)l.BX(-l.x,-l.y);this.R=l;this.jl(_,O,this.Bv,_.P.rect,_.P.rect);this.U(_,_.P.rect)};
D.an1=function(){D.oE.call(this,!0);this._Q.patch=1};D.an1.prototype=new D.oE(!0,!0);D.oV=function(){D.Os.call(this,[10,13],D.aed,"tools/pbucket");
this.p1=!1};D.oV.prototype=new D.Os;D.oV.prototype.enable=function(_,n,O,l){var x=new e_(H.E.L,!0);x.data={d:H.t.JK,vG:"default"};
n.$(x)};D.oV.prototype.w1=function(_,n){};D.oV.prototype.Ta=function(_,n,O,l,x){this.p1=!0};D.oV.prototype.PF=function(_,n,O,l,x,t){var h=this.p1;
this.p1=!1;if(!h||t)return;if(this.hf(l,n,x))return;if(!_.eE())return;var V=_.u.vk(x.x,x.y),y=D.rr.afP(_,V,this._Q.wconf,this._Q.sall,!0);
if(y==null)return;var r=Q.Q(y.rect.O()*4);Q.qs(r,(O.KU&255)<<16|(O.KU>>8&255)<<8|(O.KU>>16&255)<<0);
Q.$c(y.channel,r,3);this.gU(_);this.jl(_,"draw",r,y.rect,y.rect);this.U(_,y.rect);this.finish(_,y.rect)};
D.Qx=function(){D.iM.call(this,[10,14],D.as6,"tools/plasso");this.po="crosshair";this.ld=[];this.gI=null;
this.hU=null;this.asy=0};D.Qx.prototype=new D.iM;D.Qx.prototype.disable=function(_,n,O,l){this.ic(_)};
D.Qx.prototype.km=function(_,n,O,l){this.ld=[bJ.ul,bJ.Mx]};D.Qx.prototype.$Y=function(_){return this.ld.indexOf(_)!=-1};
D.Qx.prototype.P0=function(_){return this.hU!=null};D.Qx.prototype.vB=function(){return this.hU!=null};
D.Qx.prototype.HE=function(){return this.hU!=null};D.Qx.prototype.w$=function(_,n,O,l){if(this.hU==null)return;
var x=this.hU,t=x.C,h=t.length-2,V=this.HL;if(this.JW.ON(1)&&O.l(bJ.Yk)&&l.Ju){t.push(0,0);x.F.push("L");
h+=2}else if(O.l(bJ.fc))V=D.de.Wr(new aW(t[h-2],t[h-1]),V);t[h]=V.x;t[h+1]=V.y;_.I.qb=x;_.Hc=!0};D.Qx.prototype.sL=function(_,n,O,l){var x=Date.now();
if(this.hU==null)this.hU={C:[this.HL.x,this.HL.y,this.HL.x,this.HL.y],F:["M","L"]};else{this.w$(_,n,O,l);
if(x-this.asy<250||aW.nT(this.HL,new aW(this.hU.C[0],this.hU.C[1]))<D.nd(_,l)){this.gI=this.hU;this.finish(_,n,O,l);
this.ic(_);return}this.hU.F.push("L");this.hU.C.push(this.HL.x,this.HL.y)}this.asy=x;_.I.qb=this.hU};
D.Qx.prototype.ic=function(_){this.hU=null;this.ld=[];if(_!=null){_.I.qb=null;_.Hc=!0}};D.Qx.prototype.op=function(_,n,O,l){D.iM.prototype.op.call(this,_,n,O,l);
if(l.l(bJ.rF)&&this.hU==null&&this.gI&&_.P!=null){var x=new e_(H.E.s);x.G=D.kF;x.data={d:"h_stepbck"};
n.$(x);this.km(_,O,l,null);this.hU=this.gI;return}if(this.hU==null)return;if(l.l(bJ.ul)||l.l(bJ.Mx)){this.hU.C.pop();
this.hU.C.pop();this.hU.F.pop();this.w$(_,O,l)}if(l.l(bJ.Vn)){if(this.hU.C.length>4){this.gI=this.hU;
this.finish(_,O,l)}this.hU=null}if(l.l(bJ.rF)){this.hU=null}_.I.qb=this.hU;_.Hc=!0};D.Qx.prototype.getSelection=function(_,n,O,l){return D.iM.jd(this.hU.C,null,this._Q.anta)};
D.sk=function(){D.iM.call(this,[10,10],D.afB,"tools/mlasso");this.po="crosshair";this.ld=[];this.i=[];
this.RT=[];this.H4=[];this.r6=null;this.CY=null;this.eY=null;this.jF=0;this.g8=0};D.sk.prototype=new D.iM;
D.sk.prototype.disable=function(_,n,O,l){this.clear(_)};D.sk.prototype.P0=function(_){return this.i.length!=0};
D.sk.prototype.HE=function(){return this.i.length!=0};D.sk.prototype.$Y=function(_){return this.ld.indexOf(_)!=-1};
D.sk.prototype.km=function(_,n,O,l){this.ld=[bJ.ul,bJ.Mx];var x=this.IJ(this.$e,_);if(this.i.length!=0&&(aW.nT(x,this.i[0])<D.nd(_,l)||Date.now()-this.jF<300)){this.ML(_,this.i[0]);
this.finish(_,n,O);this.clear(_);return}this.jF=Date.now();if(this.i.length!=0)x=this._C(x,_);else{var t=_.a,h=_.n,V=Q.Q(t*h),y=_.Cs(),r=t*h*4;
for(var m=0;m<r;m+=4)V[m>>>2]=~~(.5+Q.ls(y[m],y[m+1],y[m+2])*(y[m+3]*(1/255)));this.r6=Q.rc.a4U(V,t,h);
this.eY=new Uint16Array(V.length)}this.ML(_,x);this.g8=O.l(bJ.Yk)?1:0;this.t6(_)};D.sk.prototype.ML=function(_,n){var O=this.i;
this.RT[O.length]=this.H4.length;if(O.length!=0){Q.rc.ut(this.CY,n.y*_.a+n.x);var l=this.Qy(_,n);l.reverse();
var x=D.sk.apx(_,l);this.H4=this.H4.concat(x)}O.push(n);this.axz(_)};D.sk.prototype.axz=function(_){var n=this.i[this.i.length-1],O=n.y*_.a+n.x;
this.CY=Q.rc.ap8(this.r6.nq,this.r6.Ad,O);this.eY.fill(0)};D.sk.prototype.IJ=function(_,n){return new aW(Math.floor(Math.max(0,Math.min(n.a-1,_.x))),Math.floor(Math.max(0,Math.min(n.n-1,_.y))))};
D.sk.prototype.clear=function(_){this.H4=[];this.i=[];this.RT=[];this.r6=null;this.CY=null;this.eY=null;
if(_!=null){_.I.qb=null;_.I._x=[];_.Hc=!0}this.ld=[]};D.sk.prototype.w$=function(_,n,O,l){var x=this.i,t=x.length;
if(t==0)return;var h=this._C(this.IJ(this.HL,_),_),V=this.Qy(_,h);for(var m=0;m<V.length;m++){var y=V[m],r=new aW(y%_.a,Math.floor(y/_.a));
if(this.eY[y]>30&&aW.nT(r,x[t-1])>20){this.ML(_,r);return}this.eY[y]++}if(this.g8==1&&l.Ju)this.ML(_,h);
this.t6(_)};D.sk.prototype.t6=function(_){var n=this.i;if(n.length!=0){var O=this._C(this.IJ(this.HL,_),_),l=this.Qy(_,O);
l.reverse();var x=D.sk.apx(_,l),t=this.H4.concat(x),h=_.I.qb={C:t,F:["M"]};for(var m=2;m<t.length;m+=2)h.F.push("L")}_.I._x=[];
for(var m=0;m<n.length;m++)_.I._x.push(n[m].x+.5,n[m].y+.5);_.Hc=!0};D.sk.prototype.sL=function(_,n,O,l){};
D.sk.prototype.op=function(_,n,O,l){if(this.i.length==0)return;if(l.l(bJ.ul)||l.l(bJ.Mx)){this.i.pop();
this.H4=this.H4.slice(0,this.RT[this.i.length]);this.RT.pop();if(this.i.length==0)this.clear(_);else this.axz(_);
this.t6(_)}if(l.l(bJ.Vn)){var x=this.IJ(this.HL,_);this.ML(_,x);this.finish(_,O,l);this.clear(_)}if(l.l(bJ.rF)){this.clear(_)}};
D.sk.prototype.getSelection=function(_,n,O,l){return D.iM.jd(this.H4,null,this._Q.anta)};D.sk.prototype.Qy=function(_,n){var O=this.i[this.i.length-1],l=O.y*_.a+O.x,x=n.y*_.a+n.x;
if(this.g8==1)return[x,l];var t=[x];while(x!=l){x=this.CY.l8[x];t.push(x);if(t.length>5e3){console.log(t);
throw"e"}}return t};D.sk.apx=function(_,n){var O=[],l=_.a;for(var m=0;m<n.length;m++){var x=n[m];O.push(x%l+.5,Math.floor(x/l)+.5)}return O};
D.sk.prototype._C=function(_,n){var O=n.a,l=n.n,x=_.clone(),h=3;Q.rc.ut(this.CY,_.y*O+_.x);var t=this.CY.d2[_.y*O+_.x];
for(var V=-h+1;V<h;V++)for(var y=-h+1;y<h;y++){var r=_.x+y,E=_.y+V;if(r<0||r>=O||E<0||E>=l)continue;
Q.rc.ut(this.CY,E*O+r);if(this.CY.d2[E*O+r]<t)x.BX(r,E)}return x};D.Kn=function(){D.zi.call(this,[10,36],D.Tw,"tools/ruler");
this.wP=null;this.V_=null;this.mv=null;this.Sb=null;this.Pm=null};D.Kn.prototype=new D.zi;D.Kn.prototype.P0=function(_){return _.Ju};
D.Kn.prototype.enable=function(_,n,O,l){D.zi.prototype.enable.call(this,_,n,l,O);if(_)this.Df(_)};D.Kn.prototype.disable=function(_,n,O,l){if(_)this.ic(_)};
D.Kn.prototype.cZ=function(_,n,O,l,x){this.wP=this.mv=null;this.Df(O)};D.Kn.prototype.Ta=function(_,n,O,l,x){var t=D.nd(_,x),h=_.u.vk(x.x,x.y);
h.x=Math.round(h.x);h.y=Math.round(h.y);var V=this.wP;this.V_=V?V.slice(0):null;var y=V&&aW.nT(h,V[0])<t,r=V&&aW.nT(h,V[1])<t,E=V&&V[2]&&aW.nT(h,V[2])<t;
if(y||r||E){if(l.l(bJ.Yk)&&V.length==2){if(r){var a=V[0];V[0]=V[1];V[1]=a}V[2]=V[0].clone();this.mv=[2]}else this.mv=[y?0:r?1:2]}else if(V&&D.Kn.a2V(V[0],V[1],h)<t&&Math.min(V[0].x,V[1].x)-5<=h.x&&h.x<=Math.max(V[0].x,V[1].x)+5&&Math.min(V[0].y,V[1].y)-5<=h.y&&h.y<=Math.max(V[0].y,V[1].y)+5){this.mv=[];
this.Pm=[];for(var m=0;m<V.length;m++){this.mv.push(m);this.Pm.push(V[m].clone())}this.Sb=h}else{this.wP=[h.clone(),h.clone()];
this.mv=[1]}};D.Kn.prototype.Xg=function(_,n,O,l,x){if(this.mv==null)return;var t=this.wP,h=this.mv,V=_.u.vk(x.x,x.y);
V.x=Math.round(V.x);V.y=Math.round(V.y);if(h.length>1){var y=V.x-this.Sb.x,r=V.y-this.Sb.y;for(var m=0;
m<t.length;m++){t[m]=this.Pm[m].clone();t[m].offset(y,r)}}else{t[h[0]].BX(V.x,V.y);if(l.l(bJ.fc)){t[h[0]]=D.de.Wr(t[1-h[0]],t[h[0]])}}this.Df(_);
this.Es(n,H.E.L,{d:H.t.F0,G:this.id,akY:t[0],UB:t[1],I3:t[2],pa:_.pa,atx:_.a});_.u.t9=Q.p.f0([t[0].x,t[0].y,t[1].x,t[1].y]);
console.log(_.u.t9)};D.Kn.prototype.PF=function(_,n,O,l,x,t){this.mv=null;if(t){this.wP=this.V_.slice(0);
this.Df(_)}};D.Kn.prototype.Es=function(_,n,O){var l=new e_(n,!0);l.data=O;_.$(l)};D.Kn.prototype.Df=function(_){var n=this.wP;
if(n==null)this.ic(_);else{var O=[n[1].x,n[1].y,n[0].x,n[0].y],l=["M","L"];if(n.length>2){O.push(n[2].x,n[2].y);
l.push("L")}_.I.qb={F:l,C:O};_.I._x=O}_.Hc=!0};D.Kn.prototype.ic=function(_){_.I.qb=null;_.I._x=[]};
D.Kn.a2V=function(_,n,O){var l=n.x-_.x,x=n.y-_.y,t=Math.abs(x*O.x-l*O.y+n.x*_.y-n.y*_.x),h=Math.sqrt(l*l+x*x);
return h==0?0:t/h};D.Pv=function(){D.Os.call(this,[10,19],D.KF,"tools/sharpen");this.QS="copy"};D.Pv.prototype=new D.Os;
D.Pv.prototype.Ta=function(_,n,O,l,x){var t=this._Q.pdetail?gh.PY:gh.KF;if(l.l(bJ.Yk))t=gh.Gb;this.cW(_,O,l,x,this._Q.strn,t);
if(this.Qj==null)return;this.o8(_)};D.Pv.prototype.Xg=function(_,n,O,l,x){this.wS(_,n,O);if(this.gb)this.ao(_,O,x);
if(this.Qj==null)return;if(!x.Ju)return;this.WU(_,O,l,x);this.o8(_)};D.IZ=function(){D.Os.call(this,[10,24],D.Gp,"tools/shbrush");
this.QS="draw";this._Q.opacity=.5};D.IZ.prototype=new D.Os;D.IZ.prototype.Ta=function(_,n,O,l,x){this.cW(_,O,l,x,1);
if(this.Qj==null)return;this.db(_);this.o8(_)};D.IZ.prototype.Xg=function(_,n,O,l,x){this.wS(_,n,O);
if(this.gb)this.ao(_,O,x);if(this.Qj==null)return;if(!x.Ju)return;this.WU(_,O,l,x);this.o8(_)};D.IZ.prototype.PF=function(_,n,O,l,x){if(this.Qj==null)return;
this.jl(_,"sheal",this.Qj.eN(),this.Qj.kf(),this.Qj.Hd(),null);this.U(_,this.Qj.Hd());D.Os.prototype.PF.call(this,_,n,O,l,x)};
D.sl=function(){D.Os.call(this,[10,20],D.ok,"tools/smudge");this.QS="copy"};D.sl.prototype=new D.Os;
D.sl.prototype.Ta=function(_,n,O,l,x){this.cW(_,O,l,x,this._Q.strn,gh.ok);if(this.Qj==null)return;this.o8(_)};
D.sl.prototype.Xg=function(_,n,O,l,x){this.wS(_,n,O);if(this.gb)this.ao(_,O,x);if(this.Qj==null)return;
if(!x.Ju)return;this.WU(_,O,l,x);this.o8(_)};D._m=function(){D.Os.call(this,[10,23],D.V3,"tools/sponge");
this.QS="sponge"};D._m.prototype=new D.Os;D._m.prototype.Ta=function(_,n,O,l,x){this.cW(_,O,l,x,this._Q.flow);
if(this.Qj==null)return;this.o8(_)};D._m.prototype.Xg=function(_,n,O,l,x){this.wS(_,n,O);if(this.gb)this.ao(_,O,x);
if(this.Qj==null)return;if(!x.Ju)return;this.WU(_,O,l,x);this.o8(_)};D.tM=function(){D.zi.call(this,[10,17],D.iz,"tools/zoom");
this.sJ=!1;this.fv=!0;this.CL=!1;this.Ge=0;this.XJ=null;this.pT=null;this.NN=0;this.ra=null;this.ab3=0;
this.Fu=new dW([{name:[8,0],mU:"Ctrl + +"},{name:[8,1],mU:"Ctrl + -",Qn:!0},{name:[20,3],mU:"Ctrl + 0"},{name:["VAR0: 100%",[20,2]],mU:"Ctrl + 1"}],[{Y:H.E.s,G:D.iz,W:{d:"zoom",fv:!0}},{Y:H.E.s,G:D.iz,W:{d:"zoom",fv:!1}},{Y:H.E.s,G:D.iz,W:{d:"adapt",h:"fitscr"}},{Y:H.E.s,G:D.iz,W:{d:"adapt",h:"pixel"}}])};
D.tM.prototype=new D.zi;D.tM.prototype.nN=function(_,n,O,l,x){var t=this.Fu;t.f();t.parent=n;t.update(_,O);
var h=new e_(H.E.L,!0);h.data={d:H.t.X3,B_:t,x:x.B7+2,y:x.E8+1};n.$(h)};D.tM.prototype.enable=function(_,n,O,l){this.oX(n,l);
if(_&&Date.now()-this.Ge<300)this.cZ({d:"adapt",h:"pixel"},n,_,l,O);this.Ge=Date.now()};D.tM.prototype.Ta=function(_,n,O,l,x){this.pT=new aW(x.x,x.y);
this.NN=_.u.K;this.ra=_.u.R.clone()};D.tM.prototype.Xg=function(_,n,O,l,x){if(this.pT==null)return;var t=Math.exp(Math.log(this.NN)+(x.x-this.pT.x)/64);
t=Math.max(.02,Math.min(D.tM.ck[0],t));_.u.K=this.NN;_.u.R=this.ra.clone();this.cZ({d:"zoom",K:t,KT:this.pT,CL:this.CL},n,_,l,O)};
D.tM.prototype.PF=function(_,n,O,l,x){if(aW.nT(this.pT,x)<4){var t=this.ade(l);this.cZ({d:"zoom",fv:t,KT:x,CL:this.CL},n,_,l,O)}this.pT=null};
D.tM.ck=[128,64,32,16,12,8,6,5,4,3,2,1,2/3,1/2,1/2*(2/3),1/4,1/4*(2/3),1/8,1/8*(2/3),1/16,1/16*(2/3),1/32,1/32*(2/3),1/64];
D.tM.aoS=function(_,n,O,l){var x=1;while(_*x*1/2>O||n*x*1/2>l)x*=1/2;if(_*x*2/3>O||n*x*2/3>l)x*=1/2;
else if(_*x>O||n*x>l)x*=2/3;return x};D.tM.abb=function(_,n){var O=D.tM.agW(_);if(n&&O==0)return _;if(!n&&O==D.tM.ck.length-1)return _;
return D.tM.ck[n?O-1:O+1]};D.tM.agW=function(_){var n=0;while(D.tM.ck[n]>_)n++;return n};D.tM.oZ=function(_,n,O,l){var x=_.cn;
if(l==0||l==null){l=D.tM.abb(_.K,O);if(l==_.K)return}var t=_.vk(n.x,n.y);t.x=Math.max(0,Math.min(x.a,t.x));
t.y=Math.max(0,Math.min(x.n,t.y));if(!1){}else{var h=_.A9(),V=_.K/l;h.translate(-t.x,-t.y);h.scale(V,V);
h.translate(t.x,t.y);_.an3(h)}};D.tM.prototype.cZ=function(_,n,O,l,x){if(_.d=="pzoom"){if(typeof _.h=="string")return;
_={d:"zoom",K:_.h/100}}var t=0,h=!1,V=null;if(_.d=="adapt"){var y=0;if(_.h=="pixel")y=1;if(_.h=="fitscr"){var y=0,r=O.u.l_.a,E=O.u.l_.n,a=new a8(0,0,O.a,O.n),S=Q.p.ta(a).C,e=new aY;
e.rotate(O.u.ws);Q.p.D(S,e,S);var P=Q.p.Vx(S),b=x.PS?Q.k4.BV+4:8;y=Math.min((r-b*2)/P.a,(E-b*2)/P.n);
O.u.R.BX(0,0)}V=new aW(Math.round(O.u.l_.a/2),Math.round(O.u.l_.n/2));t=y;D.tM.oZ(O.u,V,h,t);O.i1=!0}if(_.d.startsWith("multi")){function T(I){var o=I[0].x-I[1].x,X=I[0].y-I[1].y;
return Math.sqrt(o*o+X*X)}function C(I){return new aW((I[0].x+I[1].x)/2,(I[0].y+I[1].y)/2)}var Z=_.aQ,W=C(Z);
if(_.d=="multidown"){this.XJ=[Z,O.u.K,O.u.vk(W.x,W.y)]}else{var s=D.tM.ck;t=this.XJ[1]*T(Z)/T(this.XJ[0]);
t=Math.max(s[s.length-1],Math.min(s[0],t));if(t!=O.u.K)D.tM.oZ(O.u,W,h,t);var f=this.XJ[2],q=O.u.KS(f.x,f.y),g=O.u.R;
g.x=Math.round(g.x+W.x-q.x);g.y=Math.round(g.y+W.y-q.y);O.i1=!0}}if(_.d=="scroll"){V=_.KT;var s=D.tM.ck,i=_.Su.y,u=1+Math.abs(i)*8e-4*(_.a9c?10:1);
if(i>0)u=1/u;t=O.u.K*u;D.tM.oZ(O.u,V,h,Math.min(s[0],Math.max(s[s.length-1],t)));O.i1=!0}if(_.d=="zoom"){var I=_.CL?n.A0:[O];
for(var m=0;m<I.length;m++){var Y=I[m],U=Y.u;V=_.KT?_.KT:new aW(Math.round(U.l_.a/2),Math.round(U.l_.n/2));
if(_.K!=null)t=_.K;else h=_.fv;D.tM.oZ(U,V,h,t);Y.i1=!0}}if(_.d=="mskView"){var F=O.B[O.g[0]];if(F.LN<=0){F.LN=1;
O.XS=!0}var N=F.LN==3?F.vO(O).z:F.Ek();if(_.h==0){O.u.CN=[1,1,1];N.K_=!1}if(_.h==1){O.u.CN=[1,1,1];N.K_=!0}if(_.h==2){O.u.CN=[0,0,0];
N.K_=!0}for(var m=0;m<O.U_.length;m++)O.U_[m].K_=!1;O.oO=[];O.Hc=!0}};D.tM.prototype.op=function(_,n,O,l){if(this.sJ!=l.l(bJ.Yk)){this.sJ=l.l(bJ.Yk);
var x={d:H.t.F0,G:this.id,sJ:this.sJ},t=new e_(H.E.L,!0);t.data=x;n.$(t);this.oX(n,l)}};D.tM.prototype.oX=function(_,n){var O=new e_(H.E.L,!0),l=this.ade(n);
O.data={d:H.t.JK,vG:l?"zoom-in":"zoom-out"};_.$(O)};D.tM.prototype.OZ=function(_,n,O,l){this.fv=_.fv;
this.CL=_.CL;this.oX(n,l)};D.tM.prototype.ade=function(_){var n=this.fv;if(_.l(bJ.pN)&&_.l(bJ.mV))n=!0;
if(this.sJ)n=!n;return n};D.tM.au0=function(_,n){if(_.l(bJ.qE)||_.l(bJ.adb)){n.G=D.iz;n.data={d:"zoom",fv:!0}}if(_.l(bJ.PW)){n.G=D.iz;
n.data={d:"zoom",fv:!1}}if(_.l(bJ.Vf)){n.G=D.iz;n.data={d:"adapt",h:"fitscr"}}if(_.l(bJ.R7)){n.G=D.iz;
n.data={d:"adapt",h:"pixel"}}};D.Jr=function(_,n,O){D.zi.call(this,_,n,O);this.Hf=null;this.Yw=null;
this.Ve=null;this.afc=0};D.Jr.prototype=new D.zi;D.Jr.It=function(_){var n={t:"obj ",v:[{t:"prop",v:{classID:"Path",keyID:"WrPt"}}]},O=_==0?{classID:"null",null:n,WhPt:{t:"bool",v:!0}}:{classID:"Strk",null:n,Usng:{t:"type",v:{classID:"PbTl"}},__name:"Stroke"};
return{et:_==0?"fill":"stroke",ot:O}};D.Jr.prototype.enable=function(_,n,O,l,x){this.Yw=O;var t=new e_(H.E.L,!0);
t.data={d:H.t.JK,vG:"default"};n.$(t)};D.Jr.prototype.nN=function(_,n,O,l,x){var t=_.cx(),h=t[0],V=t[1];
if(V.length==0)return;var y=h[V[0]],r=y.add.vmsk,E=_.u.vk(x.x,x.y),a=4*D.V()/_.u.K,S=new a8(E.x-a,E.y-a,a*2,a*2),e=Q.M.EB(r.i,S)[0];
if(e.length!=0){r.dW=e;_.Hc=!0}var P=Q.M.FA(r.i,E).tE;if(P!=-1){r.g=[P];_.Hc=!0}var b=new e_(H.E.L,!0);
b.data={d:H.t.F0,G:this.id,Mu:x,JP:_,TG:O};n.$(b)};D.Jr.prototype.abC=function(_,n){var O=new e_(H.E.L,!0);
O.data={d:H.t.Gf,nZ:gp.Hl};if(!n.qq)_.$(O);O.data={d:H.t.Gf,nZ:gp.mr};if(!n.lW.VE)_.$(O)};D.Jr.prototype.$s=function(_,n,O,l){if(O.kp!=this.id)return;
if(_.g.length==0)return;var x=_.B[_.g[0]],t=x.add.vmsk,h=x.add.vstk,V=D.Jr.sK(_,_.g[0]);this.Hf=_;this.Ve=n;
if(x.uq()&&t!=null&&(JSON.stringify(h)!=JSON.stringify(O.P3)||JSON.stringify(V)!=JSON.stringify(O.k$))){this.afc=Date.now();
var y=new e_(H.E.L,!0);y.data={d:H.t.Gf,nZ:gp.qP,h:V};n.$(y);y.data={d:H.t.Gf,nZ:gp.gf,h:h};n.$(y)}};
D.Jr.prototype.w1=function(_,n){if(this.Hf==null)return;if(n==gp.WB||n==gp.qP||n==gp.gf){if(Date.now()-this.afc<50)return;
var O=n==gp.qP,l=this.Hf,x=O?_.k$:_.P3,t=[],h=l.g;for(var m=0;m<h.length;m++){var V=h[m],y=l.B[V];if(!y.uq()||y.add.vmsk==null)continue;
t.push(V)}var r=new e_(H.E.s,!0);r.G=D.Ko;r.data={d:v.wF,sT:t,Dg:O,h:x};if(t.length!=0)this.Ve.$(r)}};
D.Jr.prototype.ahm=function(_){if(typeof _=="number"){var n=new e_(H.E.yy,!0);n.data=D.fx.qY(0);n.data.ot.Usng.v.Type.v.Clr.v=Q.N.YS({o:_>>>16&255,J:_>>>8&255,k:_>>>0&255});
this.Ve.$(n)}};D.Jr.prototype.cZ=function(_,n,O,l,x){this.Ve=n;if(_.d=="newfill"){if(_.TO==0){var t=new e_(H.E.L,!0);
t.data={d:H.t.Rq,EW:"colorpicker",r1:x.KU,gF:this.ahm.bind(this)};n.$(t)}}else if(_.d=="pathedit"){var h=_.nz,V="",y=O.VE.slice(0),r=O.WJ.slice(0),E=O.VE.slice(0),a=O.WJ.slice(0);
if(h=="rnm"){var S=-1-_.tE,e=y[S],P=fJ.ew(_.name,e.add);if(S!=0)E[S]=P;else{a=[E.length];E.push(P);E[0]=fJ.ew("Work Path")}V="Rename"}else if(h=="new"){var P=fJ.ew("Path "+y.length);
if(_.al9){var b=O.cx(),T=b[0],C=b[1],Z=T[C[0]];P.add.vmsk=Z.add.vmsk.clone();P.add.vogk=JSON.parse(JSON.stringify(Z.add.vogk));
if(Z.tE==-1){var s=E[a[0]]=fJ.ew("Path "+y.length);s.name=Z.name;s.tE=Z.tE}}E.push(P);a=[E.length-1];
V="New"}else if(h=="del"){if(a.length==0)return;a.sort(function(N,z){return N-z});if(a[0]==0){E[0]=fJ.ew(y[0].name);
a=a.slice(1)}var f=0;while(a.length!=0){E.splice(a[0]-f,1);a=a.slice(1);f++}V="Delete"}else if(h=="fromsel"){var q=E[0]=fJ.ew("Work Path");
a=[0];if(O.P==null)return;var g=O.P.channel.slice(0);for(var m=0;m<g.length;m++)g[m]=g[m]>128?2:1;var i=O.P.rect.clone();
i.nQ(1,1);var u=Q.Q(i.O());Q.pc(g,O.P.rect,u,i);var I=a2.uL(u,i.a,i.n,Math.round(i.O()*5e-4)),T=a2.cx(I),Y=new aY(1,0,0,1,-1+O.P.rect.x,-1+O.P.rect.y);
for(var m=0;m<T.length;m++)Q.p.D(T[m].path.C,Y,T[m].path.C);for(var m=0;m<T.length;m++){var U=T[m];if(U.color==1&&U.parent==-1)continue;
var F=Q.p.mg(T[m].path,!1);q.add.vmsk.i=q.add.vmsk.i.concat(F.slice(2))}q.add.vogk=v.W0(q.add.vmsk.i);
V="Selection to"}var N=new gO(V+" Path",this);N.data={V_:y,Nm:r,ams:E,J3:a};if(h=="fromsel"){N.data.IW=O.P;
N.data.Ss=null}O.dc(N);this.Pg(N.data,O)}else{var o=_.hM,b=O.cx(_.d=="append"||_.d=="fromAction"),T=b[0],C=b[1],q=T[C[0]],X=q.add.vmsk,J=q.add.vogk,c=X.clone(),p=X.clone(),d=JSON.stringify(J);
if(_.d=="fromAction"){var k=_.Jp,A=k.et,$=k.ot,K=$.T;if(A=="set"){if(K){J.push(Q.X.zz(K));p.i.push({type:0,wM:1,length:0});
Q.X.oR(J,p);o=[12,76,0]}else throw $}else if(A=="draw"){J=[Q.X.zz($.Shp)];p.i.push({type:0,wM:1,length:0});
Q.X.oR(J,p);D.Jr.awy(p.i,$.AntA.v,x.KU,n);return}else throw A}else if(_.d=="remove"){if(_.h$&&p.dW.length!=0){p.i=Q.M.aq6(p.i,p.dW,J,_.avE);
var G=Q.M.Cw(p.i);for(var m=0;m<p.g.length;m++)if(p.g[m]>=G){p.g.splice(m,1);m--}p.dW=[];o="Delete Anchors"}else{if(p.g.length==0)return;
var f=0;for(var m=0;m<p.g.length;m++){J.splice(p.g[m]+f,1);f--}p.i=Q.M.aiY(p.i,p.g);p.g=[];p.dW=[];if(o==null)o="Delete Paths"}}if(_.d=="append"){D.Jr.aY(_.ai5,p,J)}this.qG(O,q.tE,p,J);
this.Np(O,o,q.tE,c,p.clone(),null,d,JSON.stringify(J))}};D.Jr.awy=function(_,n,O,l){var x=new v.ez;x.i=x.i.concat(_.slice(2));
var t=x.Ek();if(!n)Q.round(t.channel);var h=Q.Q(t.rect.O()*4);Q.qs(h,(O&255)<<16|(O>>8&255)<<8|(O>>16&255)<<0);
Q.$c(t.channel,h,3);var V=new e_(H.E.s,!0);V.G=D.fQ;V.data={d:"draw",wL:{buffer:h,rect:t.rect.clone()},hM:this.name};
l.$(V)};D.Jr.K4=function(_,n){var O=Q.M.aa0(_.i,_.g),l=[];for(var m=0;m<_.g.length;m++)l.push(JSON.parse(JSON.stringify(n[_.g[m]])));
return[O,l]};D.Jr.aY=function(_,n,O){var l=Q.M.Cw(n.i),x=Q.M.Cw(_[0]);n.i=n.i.concat(_[0].slice(2));
n.g=[];for(var m=0;m<x;m++)n.g.push(l+m);for(var m=0;m<x;m++)O.push(JSON.parse(JSON.stringify(_[1][m])))};
D.Jr.prototype.$Y=function(_,n){if(n==null)return!1;var O=n.cx(),l=O[0],x=O[1];if(x.length==0)return!1;
var t=l[x[0]],h=t.add.vmsk;if(h&&h.g.length+h.dW.length!=0)return[bJ.ul,bJ.Mx].indexOf(_)!=-1};D.Jr.prototype.op=function(_,n,O,l){if(_==null)return;
var x=_.cx(),t=x[0],h=x[1];if(h.length==0)return;var V=t[h[0]],y=V.add.vmsk;if(l.l(bJ.rF)||l.l(bJ.Vn)||this.id==D.Nn&&l.l(bJ.Ou)){y.dW=[];
_.Hc=!0}if(y.g.length!=0){var r=l.yi();if(r.x!=0||r.y!=0){var E=y.clone(),a=y.clone(),S=new aY(1,0,0,1,r.x,r.y),e=V.add.vogk,P=JSON.stringify(e);
if(l.l(bJ.Yk)){var b=D.Jr.K4(a,e);D.Jr.aY(b,a,e)}Q.M.qp(a.i,S,a.g);Q.X.D(e,Q.r.Ct(S),a.g);this.qG(_,V.tE,a,e);
this.Np(_,"Move Paths",V.tE,E,a.clone(),!0,P,JSON.stringify(e))}if(l.l(bJ.ul)||l.l(bJ.Mx))this.cZ({d:"remove",h$:this.id==D.Nn},n,_,l,O)}};
D.Jr.prototype.Np=function(_,n,O,l,x,t,h,V){var y=new gO(n,this);y.data={GL:O,HM:l,GK:x,ayg:t,a6Y:h,Ab:V};
_.dc(y)};D.Jr.prototype.Pg=function(_,n){if(_.GL!=null)this.qG(n,_.GL,_.GK.clone(),JSON.parse(_.Ab));
else{n.VE=_.ams.slice(0);n.WJ=_.J3.slice(0);n.Hc=n.XS=!0}if(_.IW||_.Ss){n.P=_.Ss;n.bo=!0}};D.Jr.prototype.Qb=function(_,n){if(_.GL!=null)this.qG(n,_.GL,_.HM.clone(),JSON.parse(_.a6Y));
else{n.VE=_.V_.slice(0);n.WJ=_.Nm.slice(0);n.Hc=n.XS=!0}if(_.IW||_.Ss){n.P=_.IW;n.bo=!0}};D.Jr.prototype.qG=function(_,n,O,l){var x=n<0?_.VE[-1-n]:n<1e6?_.B[n]:_.B[n-1e6].add.TySh,t=x.add.vmsk;
t.channel=null;t.na=!0;if(t.VI){t.VI.channel=null;t.VI.na=!0}x.add.vmsk=O;x.add.vogk=l;if(1e6<=n){b$.zy(x);
var h=_.B[n-1e6],V=x,y=this.Yw;a$.rS(h,y.y8);_.U()}else if(0<=n){O.na=!0;x.bf(_);_.U()}_.Hc=_.XS=!0};
D.Jr.sK=function(_,n){var O=_.B[n],l=O.add.vstk,x=null;if(l&&!l.fillEnabled.v)x={xP:0};else if(O.add.SoCo)x={xP:1,cK:O.add.SoCo};
else if(O.add.GdFl)x={xP:2,cK:O.add.GdFl};else if(O.add.PtFl)x={xP:3,cK:O.add.PtFl};return x};D.Jr.RE=function(_,n){var O=_.add.vmsk,l=_.add.vstk,x=n.xP;
if(l)l.fillEnabled.v=x!=0;if(x>0){var t=["SoCo","GdFl","PtFl"][x-1];for(var m=0;m<3;m++)delete _.add[["SoCo","GdFl","PtFl"][m]];
_.add[t]=n.cK}};D.fx=function(_,n,O,l){D.Jr.call(this,_,n,O);this._Q={shape:fu.gV(),pshape:0,binop:0,crad:0,irad:40,length:4,sides:5,width:5,tolr:5,tsiz:300,cstr:{Rv:0},anta:!0,aopts:[!1,!1,50,100,0]};
this.ajf=l;this.CF=null;this.nY=null;this.J1=null;this.JW=new cA};D.fx.prototype=new D.Jr;D.fx.prototype.P0=function(_){return _.Ju&&this.id!=D.IP};
D.fx.prototype.enable=function(_,n,O,l,x){this.Yw=O;var t=new e_(H.E.L,!0);t.data={d:H.t.JK,vG:"crosshair"};
n.$(t)};D.fx.prototype.op=function(_,n,O,l){D.Jr.prototype.op.call(this,_,n,O,l);this.JW.op(l);this.B2(n,O)};
D.fx.prototype.B2=function(_,n){var O=new e_(H.E.L,!0);O.data={d:H.t.F0,G:this.id,zN:this.Ro(n)};_.$(O)};
D.fx.prototype.Ro=function(_){var n=this.JW.LF(0),O=this.JW.ON(0),l=D.iM.VH(this._Q.binop,n,O);if(_.Lr==1&&l==0)l=1;
return l};D.fx.prototype.t_=function(_,n,O,l){};D.fx.prototype.Ta=function(_,n,O,l,x){var t=O.Lr;if(t!=2)this.abC(n,O);
if(t==2&&!_.eE())return;var h=_.u.vk(x.x,x.y);h=D.dV.up(_,h,O);this.J1=[h.x,h.y];this.CF=h;this.nY=new aW(0,0);
this.JW.Ta(l)};D.fx.prototype.a1J=function(_,n,O,l){var x=[this.CF.clone(),n.clone()];O=this.JW.LF(1)||O.l(bJ.fc)||this.JW.ON(1)?O:null;
if(this.ajf)x=D.fx.Yh(x[0],x[1],O,!0,this._Q.cstr);if(_)_.u.t9=new a8(x[0].x,x[0].y,x[1].x-x[0].x,x[1].y-x[0].y);
return this.t_(x[0],x[1],this.JW.LF(1)&&O.l(bJ.fc),this.J1,_.u,l)};D.fx.prototype.aqZ=function(_,n,O){var l=_.u.vk(n.x,n.y);
if(this.id==D.IP)return l;var x=this._Q.cstr;if(x.Rv==2){var t=new a8(l.x-x.x,l.y-x.y,x.x,x.y),h=D.dV.D8(_,t,O);
l.x+=h[0];l.y+=h[1];D.dV.$Q(_,t,h)}else l=D.dV.up(_,l,O);return l};D.fx.prototype.Xg=function(_,n,O,l,x){if(this.CF==null)return;
var t=this.J1,h=t.length,V=x?this.aqZ(_,x,O):new aW(t[h-2],t[h-1]);if(l.l(bJ.pN))this.CF=V.OA(this.nY);
else this.nY=V.OA(this.CF);t.push(V.x,V.y);if(this._Q.shape==null)this._Q.shape=O.zn[0];var y=this.a1J(_,V,l,!0)[0],r=Q.p.cX(y);
_.I.qb=r;if(this.id!=D.IP&&this.id!=D.Rj&&this.id!=D.LU)D.zi.vF(x,_.u.t9,_,O);_.Hc=!0;this.JW.Xg()};
D.fx.prototype.aje=function(_,n,O,l){var x=_[4].clone();if(l){x.x-=n/2;x.y-=O/2}if(this.id==D.Rj){n/=2;
O/=2;x.x+=n;x.y+=O;O=-O;n=0}var t=this.t_(x,new aW(x.x+n,x.y+O),!1,this.J1);this.atS(_[0],_[1],_[2],t)};
D.fx.prototype.atS=function(_,n,O,l){var x=O.Lr,t=new e_(H.E.yy,!0);if(x==0)t.data=D.fx.a2G(l[1],O);
else if(x==1){var h={__name:"Set",classID:"setd",null:{t:"obj ",v:[{t:"prop",v:{classID:"Path",keyID:"WrPt"}}]},T:l[1]};
t.data={et:"set",ot:h}}else{var h={__name:"Draw",classID:"Draw",AntA:{t:"bool",v:!0},Shp:l[1]};t.data={et:"draw",ot:h}}n.$(t);
if(l[1].v.classID=="customShape"&&l[1].v.Nm.v.startsWith("--")){var V=_.cx(),y=V[0],r=V[1],E=y[r.pop()],a=E.add.vmsk,S=E.add.vogk;
Q.X.u2(S);var e=a.clone();e.i=l[0];this.qG(_,E.tE,e,S)}};D.fx.prototype.PF=function(_,n,O,l,x,t){if(this.CF==null)return;
var h=this.aqZ(_,x,O),V=this.Ro(O),y=O.Lr,r=this.J1,E=r.length;if(this.id==D.IP&&E<=4){}else if(E<=4){h.x=Math.round(h.x);
h.y=Math.round(h.y);var a=new e_(H.E.L);a.data={d:H.t.Rq,EW:"createshape",a5B:this.aje.bind(this),ald:this.name,a3j:[_,n,O,l,h]};
if(!t)n.$(a)}else if(E!=2){var S=this.a1J(_,h,l),e=S[0],P=_.cx(!0),b=P[0],T=P[1],C=T.length-1;if(y==1&&e.length>2||y==0&&V!=0&&C!=-1&&b[T[C]].tE>=0){e[2].wM=[1,2,3,0][V-1];
var Z=b[T.pop()],W=Z.add.vmsk,s=Z.add.vogk,f=W.clone(),q=W.clone(),g=JSON.stringify(s);q.i=q.i.concat(e.slice(2));
q.g=[Q.M.Cw(q.i)-1];var i=Q.X.zz(S[1]);s.push(i?i:Q.X.A2());this.qG(_,Z.tE,q,s);this.Np(_,this.name,Z.tE,f,q,null,g,JSON.stringify(s))}else if(y==0){this.atS(_,n,O,S)}else if(y==2){D.Jr.awy(e,this._Q.anta,O.KU,n)}}this.CF=null;
_.I.qb=null;_.I.LV=null;_.I.Wn=[];_.u.t9=null;_.Hc=!0;this.JW.PF();this.B2(n,O)};D.fx.prototype.OZ=function(_,n,O,l,x){for(var O in _)this._Q[O]=_[O]};
D.fx.Yh=function(_,n,O,l,x){var t=_.x,h=_.y,V=n.x,y=n.y;if(x&&x.Rv==2){if(l){V=Math.round(V);y=Math.round(y)}t=V-x.x;
h=y-x.y}else{var r=0;if(x&&x.Rv==1)r=x.y/x.x;else if(O&&O.l(bJ.fc))r=1;if(r!=0){if(l){if(t<V)t=Math.floor(t);
else t=Math.ceil(t);if(h<y)h=Math.floor(h);else h=Math.ceil(h)}var E=Math.abs(V-t),a=Math.abs(y-h),S=E;
if(a/E<r)S*=a/E/r;V=V>t?t+S:t-S;y=y>h?h+S*r:h-S*r}if(O&&O.l(bJ.Yk)){t-=V-t;h-=y-h}}var _=new aW(t,h),n=new aW(V,y);
if(l)D.fx.as9(_,n);return[_,n]};D.fx.as9=function(_,n){if(_.x>n.x){var O=_.x;_.x=n.x;n.x=O}if(_.y>n.y){var O=_.y;
_.y=n.y;n.y=O}_.x=Math.floor(_.x);_.y=Math.floor(_.y);n.x=Math.ceil(n.x);n.y=Math.ceil(n.y)};D.fx.a7Z=function(){return{classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"contentLayer"}}]},Usng:{t:"Objc",v:{classID:"contentLayer",Type:{t:"Objc",v:{}}}}}};
D.fx.qY=function(_,n){var O=D.fx.a7Z(),l=O.Usng.v.Type;if(n==null){l.v=JSON.parse(JSON.stringify(aF.iS[_]));
l.v.classID=["solidColorLayer","gradientLayer","patternLayer"][_]}else D.Z0.OC(n,l.v,_);return{et:"make",ot:O}};
D.fx.a2G=function(_,n){var O=n.k$,l=JSON.parse(JSON.stringify(n.P3));l.fillEnabled.v=O.xP!=0;var x=D.fx.qY(Math.max(0,O.xP-1),O.cK);
x.ot.Usng.v.Shp=_;x.ot.Usng.v.strokeStyle={t:"Objc",v:l};return x};D.sE=function(_){D.Jr.call(this,_==0?[10,29]:[10,51],_==0?D.Nn:D.a1p,_==0?"tools/pen":"tools/cpen");
this.g8=_;this.oQ=null;this.qW=null;this.fJ=null;this.a46=0;this.UM=null;this.Cy=!1;this.yo=!1;this.x2=!1;
this.cd=!1;this.Ge=0};D.sE.prototype=new D.Jr;D.sE.prototype.P0=function(_){return this.qW!=null};D.sE.prototype.op=function(_,n,O,l){if(!l.l(bJ.Yk))this.x2=!1;
if(this.g8==1&&(l.l(bJ.ul)||l.l(bJ.Mx))&&this.$Y(bJ.ul,_)){this.cZ({d:"remove",h$:!0},n,_,l,O);return}D.Jr.prototype.op.call(this,_,n,O,l)};
D.sE.prototype.Ta=function(_,n,O,l,x){this.oQ=x;this.abC(n,O);var t=_.u.vk(x.x,x.y),b,T;t.x=Math.round(t.x);
t.y=Math.round(t.y);var h=D.dV.up(_,t,O),V=O.Lr,y=this.a46;if(V==2)V=0;var r=_.cx(V==1),E=r[0],a=r[1],S=E[a.pop()],e=S?S.add.vmsk:null;
if(V==0&&y!=0&&S&&S.tE>=0)V=1;var P=D.nd(_,x);if(e)b=Q.M.FA(e.i,t,!0,P);var C=l.l(bJ.Yk);if(V==0&&(e==null||e.dW.length==0&&b.tE==-1)){var Z=new e_(H.E.yy,!0),s=Q.X.c0("customShape",[0,0,1,1],null,null,null,"--");
Z.data=D.fx.a2G(s,O);n.$(Z);this.cd=!0;r=_.cx(!0);E=r[0];a=r[1];S=E[a.pop()];e=S.add.vmsk;e.i=e.i.slice(0,2)}var f=S.add.vogk;
this.qW=e.clone();this.fJ=JSON.stringify(f);var q=e.i,g=Q.M.Cw(q);T=Q.M.EB(e.i,new a8(t.x-P,t.y-P,P*2,P*2),e.dW);
b=Q.M.FA(e.i,t,!0,P);var i=T[0].length+T[1].length+T[2].length;if(b.tE!=-1&&T[0].length==0){var u=Q.M.TH(q,b.tE),I=q[u].length;
while(I<=b.tD){b.tD-=I;u+=I+1}var Y={type:4,lz:h.clone(),H:h.clone(),l6:h.clone()},U=u+2+b.tD,F=u+1+(1+b.tD)%I,N=q[U-1],o=q[F];
if(!N.H.yO(N.l6)||!o.lz.yO(o.H)){var X=Q.p.arB(N.H,N.l6,o.lz,o.H,b.sX);N.l6=X[0];Y.lz=X[1];Y.H=X[2];
Y.l6=X[3];o.lz=X[4]}q.splice(U,0,Y);q[u].length++;e.dW=[U];if(this.g8==1){Y.lz.x+=2;this.W8(e)}}else if(i!=0&&C){var J=0;
for(var m=0;m<3;m++)if(T[m].length!=0){J=T[m][0];this.yo=m==1;break}if(T[0].length!=0){var c=e.i.length-1,p=e.i[J];
p.l6=p.H.clone();var d=p.type>=3?3:0;if(J!=c){p.lz=p.H.clone();p.type=d+1;this.x2=!0}else p.type=d+2}e.dW=[J]}else if(T[0].length==1&&q[T[0][0]-1]&&(q[T[0][0]-1].H!=null||q[T[0][0]-1].type==0||q[T[0][0]-1].length==1)){var J=T[0][0];
if(this.g8==1){var k=q[J],A=k.H,$=Math.abs(Q.p.a7N(k.lz.x,k.lz.y,A.x,A.y,k.l6.x,k.l6.y));if($>.01){k.lz=A.clone();
k.l6=A.clone()}if(Date.now()-this.Ge<300){var K=k.lz.yO(A)&&k.l6.yO(A);if(K)k.l6.offset(2,2);else{k.lz=A.clone();
k.l6=A.clone()}this.Ge=0}else this.Ge=Date.now();e.dW=[J];this.W8(e)}else{var u=Q.M.TH(q,Q.M.Xj(q,J)),s=q[u],G=u+s.length;
if(J!=G||s.type==0){q[u].length--;q.splice(J,1);G--;if(s.length==0){q.splice(u,1);G=-1}}if(G!=-1)e.dW=[G];
else e.dW=[]}}else{var z=0;if(e.dW.length!=1){e.g=[g];q.push({type:3,length:1,wM:[1,2,3,0][Math.max(0,y-1)],kr:0,w3:0,Dj:0});
z=q.length;f.push(Q.X.A2())}else{var k=e.dW[0],M=Q.M.Xj(q,k),u=Q.M.TH(q,M);k=u+q[u].length;if(aW.nT(t,q[u+1].H)<P){q[u].type=0;
e.dW=[u+1];this.UM=h;this.Cy=!0;this.qG(_,S.tE,e,f);_.Hc=!0;return}q[u].length++;z=k+1;if(k==u+1&&q[u].length!=2)z=u+1}if(l.l(bJ.fc)&&q[z-1]&&q[z-1].H)h=D.de.Wr(q[z-1].H,h);
var Y={type:4,lz:h.clone(),H:h.clone(),l6:h.clone()};q.splice(z,0,Y);e.dW=[z];this.UM=h;if(this.g8==1){Y.lz.x+=2;
this.W8(e)}this.Ge=Date.now()}this.qG(_,S.tE,e,f);_.Hc=!0};D.sE.prototype.W8=function(_){var n=_.i,O=_.dW[0],l=Q.M.TH(n,Q.M.Xj(n,O))+1,x=n[l-1].length;
if(x<3)return;var t=[],h=[];for(var m=0;m<5;m++){var V=l+(O-l-2+m+5*x)%x;h.push(V);var y=n[V].H;t.push(y.x,y.y)}var r=Q.p.af8(t);
for(var m=1;m<4;m++){var E=m*4,a=n[h[m]],y=a.H,S=a.lz.yO(y)&&a.l6.yO(y);if(!S){a.lz.BX(r[E],r[E+1]);
a.l6.BX(r[E+2],r[E+3])}else{a.lz=y.clone();a.l6=y.clone()}}};D.sE.prototype.Xg=function(_,n,O,l,x){if(this.qW==null)return;
var t=this.oQ;if(t&&aW.nT(t,x)<D.nd({u:{K:1}},x))return;this.oQ=null;var h=_.u.vk(x.x,x.y),V=D.dV.up(_,h,O),y=_.cx(O.Lr==1),r=y[0],E=y[1],a=r[E.pop()],S=a.add.vmsk,e=S.i,P=e[S.dW[0]];
if(this.g8==1){var b=P.H.yO(P.lz)&&P.H.yO(P.l6);P.H=h.clone();P.lz=h.clone();P.l6=h.clone();if(!b)P.lz.x+=2;
this.W8(S)}else if(l.l(bJ.pN)){if(l.l(bJ.fc))V=D.de.Wr(this.UM,V);var T=P.H.OA(P.l6),C=P.lz.OA(P.H);
P.l6=V;P.H=V.add(T);P.lz=P.H.add(C)}else{if(l.l(bJ.fc))V=D.de.Wr(P.H,V);if(this.yo){var Z=P.lz;P.lz=P.l6;
P.l6=Z}if(this.Cy){var W=aW.nT(P.H,V),s=W==0?0:aW.nT(P.H,P.l6)/W;P.l6.x=P.H.x+s*(V.x-P.H.x);P.l6.y=P.H.y+s*(V.y-P.H.y)}else P.l6=V;
if(l.l(bJ.Yk)&&!this.x2)P.type=5;else{P.type=4;P.lz=P.H.add(P.H.OA(V))}this.UM=V;if(this.yo){var Z=P.lz;
P.lz=P.l6;P.l6=Z}}this.qG(_,a.tE,S,a.add.vogk);_.Hc=!0};D.sE.prototype.PF=function(_,n,O,l,x){if(this.qW==null)return;
var t=_.cx(O.Lr==1),h=t[0],V=t[1],y=h[V.pop()],r=y.add.vmsk,E=y.add.vogk;if(this.Cy){r.dW=[];this.qG(_,y.tE,r,y.add.vogk)}var a=this.qW.i.length,S=r.i.length;
if(!this.cd)this.Np(_,this.Cy?"Close Path":(a==S?"Move":a<S?"Add":"Delete")+" Anchor Point",y.tE,this.qW,r.clone(),null,this.fJ,JSON.stringify(E));
this.cd=!1;this.Cy=!1;this.yo=!1;this.x2=!1;this.qW=null};D.sE.prototype.OZ=function(_,n,O,l,x){this.a46=_.binop};
D.a_=function(){D.fx.call(this,[10,30],D.IP,"tools/fpen",!1)};D.a_.prototype=new D.fx;D.a_.prototype.t_=function(_,n,O,l,x,t){var h=l.length-1,V=Math.sqrt((l[h-1]-l[0])*(l[h-1]-l[0])+(l[h]-l[1])*(l[h]-l[1]))<6/x.K;
return[Q.M.eD(l,V,t),Q.X.c0("customShape",[0,0,1,1],null,null,null,"--")]};D.kQ=function(){D.Jr.call(this,[10,27],D.i$,"tools/pselect");
this.yw=null;this.AL=!1;this.hU=null;this.qW=null;this.j_=null;this.fJ=null;this.o7=null;this.Fz=null;
this.pk=null;this.EI=null};D.kQ.prototype=new D.Jr;D.kQ.prototype.P0=function(_){return _.Ju};D.kQ.prototype.Ta=function(_,n,O,l,x){var t=_.u.vk(x.x,x.y),h=_.cx(),V=h[0],y=h[1],r,E;
for(var m=0;m<y.length;m++){var a=V[y[m]],S=a.add.vmsk,e=Q.M.FA(S.i,t).tE;if(e!=-1){this.hU=r=a;E=e}for(var P=0;
P<S.wP.length;P++){var b=Q.M.Or(S.i,S.wP[P]);if(b==null)continue;var T=aW.nT(b,t);if(T<4*D.V()/_.u.K){var C=_.B[a.tE-1e6].add.TySh,Z=C.m1.Curve,W=C.D,s=Z.Reversed;
Z.Reversed=!1;var Z=hf.HC(C.m1.Curve);Z.Reversed=s;Q.p.D(Z[0],W,Z[0]);this.pk=[Z,P,W.EX*W.c5-W.k*W.av];
this.hU=r=a;E=0}}if(this.pk)break}if(r!=null){var S=r.add.vmsk;S.dW=[];var f=S.g.indexOf(E);if(l.l(bJ.fc)){if(f==-1){S.g.push(E);
this.AL=!0}else S.g.splice(f,1)}else{if(f==-1)S.g=[E];this.AL=!0}this.Fz=Q.M.OY(S.i,S.g)}this.yw=t;this.EI=new fR(t);
_.XS=!0;_.Hc=!0};D.kQ.prototype.Xg=function(_,n,O,l,x){if(this.yw==null)return;var t=_.u.vk(x.x,x.y);
if(this.AL){t=this.EI.WV(t,l);var h=this.hU;if(this.qW==null){this.qW=this.j_=h.add.vmsk.clone();this.fJ=this.o7=JSON.stringify(h.add.vogk);
if(l.l(bJ.Yk)){var V=this.qW.clone(),y=JSON.parse(this.fJ),r=D.Jr.K4(V,y);D.Jr.aY(r,V,y);this.j_=V;this.o7=JSON.stringify(y)}}var V=this.j_.clone(),y=JSON.parse(this.o7);
if(this.pk){var E=this.pk,a=E[0][0],S=Q.p.az(a,t.x,t.y);V.wP[E[1]]=E[0][1][S];var e=a[S*2],P=a[S*2+1],b=(a[S*2+2]-e)*(t.y-P)-(a[S*2+3]-P)*(t.x-e);
if(E[2]<0)b=-b;V.oL=b>0}else{var T=this.Fz.clone(),C=T.x,Z=T.y;T.offset(t.x-this.yw.x,t.y-this.yw.y);
T.x=Math.round(T.x);T.y=Math.round(T.y);var W=D.dV.D8(_,T,O),s=new aY(1,0,0,1,T.x-C+W[0],T.y-Z+W[1]);
Q.M.qp(V.i,s,V.g);Q.X.D(y,Q.r.Ct(s),V.g);D.dV.$Q(_,T,W)}this.qG(_,h.tE,V,y)}else{var f=this.yw;_.I.qb=Q.p.ta(new a8(f.x,f.y,t.x-f.x,t.y-f.y));
_.Hc=!0}};D.kQ.prototype.PF=function(_,n,O,l,x){if(this.yw==null)return;var t=_.u.vk(x.x,x.y),h=this.hU,V=h?h.add.vmsk:null;
if(this.AL){var y=JSON.stringify(h.add.vogk);if(!this.yw.yO(t))this.Np(_,"Move Paths",h.tE,this.qW,V,null,this.fJ,y);
if(_!=null&&_.I.LV){_.I.LV=null;_.Hc=!0}}else{if(V){var r=this.yw,E=new a8(r.x,r.y,t.x-r.x,t.y-r.y),a=Q.M.a0P(V.i,E);
if(l.l(bJ.fc)){for(var m=0;m<a.length;m++)if(V.g.indexOf(a[m])==-1)V.g.push(a[m])}else V.g=a}_.I.qb=null;
_.Hc=!0}this.yw=null;this.qW=null;this.pk=null;this.AL=!1;this.EI=null};D.kQ.prototype.$s=function(_,n,O,l){D.Jr.prototype.$s.call(this,_,n,O,l);
if(O.kp!=this.id)return;if(_.g.length==0)return;var x=_.cx(),t=x[0],h=x[1];if(h.length==0)return;var V=t[h[0]],y=V.add.vmsk,r=V.add.vstk,E=V.add.vogk,a=new e_(H.E.L,!0);
a.data={d:H.t.F0,G:this.id,Zq:"main",W1:y?y:null,X:E};n.$(a)};D.kQ.prototype.OZ=function(_,n,O,l,x){var t=_.xV;
if(t.W1){var h=O.cx(),V=h[0],y=h[1];if(y.length==0)return;var r=V[y[0]],E=r.add.vmsk.clone(),a=JSON.stringify(r.add.vogk),S=t.W1;
this.qG(O,r.tE,S,t.X);var e=[18,5];if(E.i.length==S.i.length)e=E.g[0]==S.g[0]?"Fill Rule":"Path Order";
this.Np(O,e,r.tE,E,S,null,a,JSON.stringify(t.X))}};D.tX=function(){D.Jr.call(this,[10,28],D.y_,"tools/dselect");
this.mD=-1;this.w9=-1;this.vN=null;this.yw=null;this.hU=null;this.qW=null;this.fJ=null;this.Hf=null;
this.jF=0;this.Ud={psnap:!1};this.EI=null};D.tX.prototype=new D.Jr;D.tX.prototype.P0=function(_){return _.Ju};
D.tX.prototype.OZ=function(_){this.Ud=_};D.tX.prototype.cZ=function(_,n,O,l,x){if(_.d=="crnr"){if(O==null)return;
var t=O.cx(),h=t[0],V=t[1];if(V.length==0){alert("No paths selected");return}var y=h[V[0]],r=y.add.vmsk;
if(r.dW.length==0){alert("No corners selected");return}for(var m=0;m<r.dW.length;m++){var E=r.i[r.dW[m]];
if(!E.H.yO(E.l6)||!E.H.yO(E.lz)){alert("Only sharp corners can be rounded");return}}if(this.qW==null){this.qW=y.add.vmsk.clone();
this.fJ=JSON.stringify(y.add.vogk);this.hU=y;this.Hf=O}var a=new e_(H.E.L,!0);a.data={d:H.t.Rq,EW:"cornerradius",KB:5,_f:this.aqd.bind(this)};
n.$(a)}else D.Jr.prototype.cZ.call(this,_,n,O,l,x)};D.tX.prototype.aqd=function(_){if(_=="confirm"){var n=this.Hf,O=this.hU,l=O.add.vmsk,x=O.add.vogk;
this.Np(n,[12,94,0],O.tE,this.qW,l,null,this.fJ,JSON.stringify(x));this.ic();return}var l=this.qW.clone(),x=JSON.parse(this.fJ),t=l.dW;
if(_=="cancel"){}else{var h=[];for(var m=0;m<t.length;m++){var V=t[m],y=Q.M.Xj(l.i,V,!0),a=0;if(h.indexOf(y)!=-1)continue;
h.push(y);var r=Q.M.TH(l.i,y,!0),E=l.i[r].length,S=[];for(var e=0;e<E;e++){var P=l.dW.indexOf(r+e+1)==-1?0:_;
S.push(P);if(P!=0)a++}Q.M.iI(l.i,r,S);for(var e=0;e<t.length;e++)if(t[e]>r+E)t[e]+=a}this.Y2(l,x);l.dW=[]}this.qG(this.Hf,this.hU.tE,l,x);
if(_=="cancel")this.ic()};D.tX.prototype.disable=function(_,n,O,l){this.Km(_)};D.tX.prototype.Ta=function(_,n,O,l,x){this.Km(_);
var t=_.u.vk(x.x,x.y),a,S,e;this.vN=t.clone();var h=_.cx(),V=h[0],y=h[1];if(y.length==0)return;var r=D.nd(_,x),E=new a8(t.x-r,t.y-r,r*2,r*2);
for(var P=0;P<y.length;P++){a=this.hU=V[y[P]];S=a.add.vmsk;e=Q.M.EB(S.i,E);if(e[0].length+e[1].length+e[2].length!=0)break}var b=[!1,!1,!1];
for(var m=0;m<3;m++){for(var T=0;T<e[m].length;T++){var C=e[m][T],Z=S.i[C];if(S.dW.indexOf(C)!=-1||m==1&&S.dW.indexOf(C-1)!=-1&&!Z.H.yO(Z.lz)||m==2&&S.dW.indexOf(C+1)!=-1&&!Z.H.yO(Z.l6)){e[m]=[C];
b[m]=!0;break}}}if(e[0].length!=0&&(b[0]||!b[1]&&!b[2])){var W=e[0][0],s=S.dW.indexOf(W);if(l.l(bJ.fc)){if(s==-1)S.dW.push(W);
else{S.dW.splice(s,1);_.Hc=!0;return}}else if(s==-1)S.dW=[W];this.mD=W;this.w9=0}else if(e[1].length!=0&&b[1]){this.mD=e[1][0];
this.w9=1}else if(e[2].length!=0&&b[2]){this.mD=e[2][0];this.w9=2}else{var f=Q.M.FA(S.i,t,!0,r);if(f.tE==-1)this.yw=t;
else{S.g=[f.tE];S.dW=[]}}if(this.qW==null){this.qW=a.add.vmsk.clone();this.fJ=JSON.stringify(a.add.vogk)}this.EI=new fR(t);
_.Hc=!0};D.tX.prototype.Xg=function(_,n,O,l,x){if(_==null)return;var t=_.u.vk(x.x,x.y),h=this.hU;if(this.mD!=-1){var V=this.qW.clone(),y=h.add.vogk,r=V.i[this.mD];
r=[r.H,r.lz,r.l6][this.w9];if(l.l(bJ.fc)){if(this.w9==0){t=this.EI.WV(t,l);t.x+=r.x-this.vN.x;t.y+=r.y-this.vN.y}else t=D.de.Wr(V.i[this.mD].H,t)}else{if(this.Ud.psnap){t.x=Math.round(t.x);
t.y=Math.round(t.y)}t=D.dV.up(_,t,O)}if(this.w9==0){var E=new aY(1,0,0,1,t.x-r.x,t.y-r.y);Q.M.qp(V.i,E,null,V.dW)}else{var a=V.i[this.mD],S=a.lz,e=a.l6;
if(this.w9==2){S=a.l6;e=a.lz}if(l.l(bJ.Yk)&&(a.type==1||a.type==4))a.type++;S.BX(t.x,t.y);if(a.type==1||a.type==4){var P=aW.nT(S,a.H),b=aW.nT(e,a.H);
if(b!=0){e.x=a.H.x-(S.x-a.H.x)*(b/P);e.y=a.H.y-(S.y-a.H.y)*(b/P)}}}this.Y2(V,y);this.qG(_,h.tE,V,y)}else if(this.yw!=null){var T=this.yw;
_.I.qb=Q.p.ta(new a8(T.x,T.y,t.x-T.x,t.y-T.y));_.Hc=!0}else{var C=_.cx(),Z=C[0],W=C[1],h,V,q;if(W.length==0)return;
var s=D.nd(_,x),f=new a8(t.x-s,t.y-s,s*2,s*2);for(var g=0;g<W.length;g++){h=Z[W[g]];V=h.add.vmsk;q=Q.M.EB(V.i,f);
if(q[0].length+q[1].length+q[2].length!=0)break}this.Km(_);for(var m=0;m<3;m++){for(var i=0;i<q[m].length;
i++){var u=q[m][i],I=V.i[u];I=m==0?I.H:m==1?I.lz:I.l6;_.I.HP.push(_.I.W_.length>>>1);_.I.W_.push(I.x,I.y);
_.Hc=!0}}}};D.tX.prototype.Km=function(_){if(_&&_.I.W_.length!=0){_.I.W_=[];_.I.HP=[];_.Hc=!0}};D.tX.prototype.PF=function(_,n,O,l,x){var t=_.u.vk(x.x,x.y),h=this.hU,V=h?h.add.vmsk:null,y=h?h.add.vogk:null;
if(this.mD!=-1){if(Date.now()-this.jF<300){var r=V.i[this.mD],E=this.w9,a=null;if(E==0){var S=r.lz.yO(r.H),e=r.l6.yO(r.H);
if(!S&&!e){a="Anchor Type";if(r.type==1||r.type==4)r.type++;else{r.type--;r.l6=r.H.add(r.H.OA(r.lz))}}else{a="Add Handles";
if(S&&e){r.lz.x-=30;r.l6.x+=30}else if(S)r.lz=r.H.add(r.H.OA(r.l6));else if(e)r.l6=r.H.add(r.H.OA(r.lz))}}else{a="Remove Handle";
if(E==1)r.lz.Nw(r.H);else r.l6.Nw(r.H)}this.Y2(V,y);this.qG(_,h.tE,V,y);this.Np(_,a,h.tE,this.qW,V,null,this.fJ,JSON.stringify(y))}else if(!this.vN.yO(t)){this.Np(_,"Drag Anchors",h.tE,this.qW,V,null,this.fJ,JSON.stringify(y))}this.jF=Date.now()}else if(this.yw!=null){var P=this.yw,b=new a8(P.x,P.y,t.x-P.x,t.y-P.y);
if(b.a<0)b.x+=b.a;if(b.n<0)b.y+=b.n;b.a=Math.abs(b.a);b.n=Math.abs(b.n);var T=Q.M.EB(V.i,b);V.dW=T[0].concat(l.l(bJ.fc)?V.dW:[]);
_.I.qb=null}this.ic();_.Hc=!0};D.tX.prototype.ic=function(){this.hU=null;this.qW=null;this.yw=null;this.mD=this.w9=-1;
this.EI=null};D.tX.prototype.Y2=function(_,n){for(var m=0;m<_.dW.length;m++){var O=Q.M.Xj(_.i,_.dW[m]);
Q.X.$T(n,O)}};D.tX.prototype.op=function(_,n,O,l){if(_==null)return;var x=_.cx(),t=x[0],h=x[1];if(h.length==0)return;
var V=t[h[0]],y=V.add.vmsk;if(y==null||y.dW.length==0)return;var r=V.add.vogk,E=JSON.stringify(r),a=l.yi();
if(a.x!=0||a.y!=0){var S=y.clone(),e=y.clone(),P=new aY(1,0,0,1,a.x,a.y);Q.M.qp(e.i,P,null,e.dW);this.Y2(e,r);
this.qG(_,V.tE,e,r);this.Np(_,"Move Anchors",_.g[0],S,e.clone(),!0,E,JSON.stringify(r))}if(l.l(bJ.ul)||l.l(bJ.Mx))this.cZ({d:"remove",h$:!0,avE:!0},n,_,l,O)};
D.tX.prototype.Np=function(_,n,O,l,x,t,h,V){var y=_.bU();if(t&&y!=null&&y.G==this&&y.data.ayg&&y.data.GL==O&&JSON.stringify(y.data.HM.dW)==JSON.stringify(l.dW)){y.data.GK=x;
y.data.Ab=V}else{var y=new gO(n,this);y.data={GL:O,HM:l,GK:x,ayg:t,a6Y:h,Ab:V};_.dc(y)}};D.Rect=function(){D.fx.call(this,[10,32],D.bb,"tools/rect",!0)};
D.Rect.prototype=new D.fx;D.Rect.prototype.t_=function(_,n,O){var l=this._Q.crad,x=n.x-_.x,t=n.y-_.y;
return[Q.M.tm.Rect(_.x,_.y,x,t,l),Q.X.c0("Rctn",[_.x,_.y,n.x,n.y],[l,l,l,l])]};D.p6=function(){D.fx.call(this,[10,33],D.hD,"tools/ellipse",!0)};
D.p6.prototype=new D.fx;D.p6.prototype.t_=function(_,n,O){var l=n.x-_.x,x=n.y-_.y;return[Q.M.tm.p6(_.x,_.y,l,x),Q.X.c0("Elps",[_.x,_.y,n.x,n.y])]};
D.FL=function(){D.fx.call(this,[10,34],D.Rj,"tools/pshape",!1);this._Q.aopts=[!1,!0,50,100,0]};D.FL.prototype=new D.fx;
D.FL.prototype.t_=function(_,n,O){var l=this._Q.pshape,x=this._Q.crad,t=this._Q.irad/100,h=this._Q.sides,V=this._Q.width,y=this._Q.aopts,r=this._Q.length,T;
n=n.clone();var E=_.x,a=_.y,S=n.x,e=n.y,P=Math.sqrt((S-E)*(S-E)+(e-a)*(e-a)),b=Math.atan2(-e+a,S-E);
if(O)b=Math.round(b*180/Math.PI/15)*15*Math.PI/180;if(l==0)T=Q.M.tm.oC(E,a,P,b,h,x);if(l==1)T=Q.M.tm.fD(E,a,P,b,h,x,t);
if(l==2)T=Q.M.tm.MU(_.x,_.y,n.x,n.y,V,y);if(l==3)T=Q.M.tm.a11(E,a,P,b,r);return[T,Q.X.c0("customShape",[_.x,_.y,n.x,n.y],null,null,null,"--")]};
D.FL.prototype.op=function(_,n,O,l){D.fx.prototype.op.call(this,_,n,O,l);var x=l.yi(),t=this._Q,h,V;
if(x.y!=0){var y=-x.y,r=t.pshape;if(r<2){h="sides";V=Math.max(3,Math.min(100,t.sides+y))}else if(r==2){h="width";
V=Math.max(1,Math.min(100,t.width+y))}else if(r==3){h="length";V=Math.max(4,Math.min(40,t.length+y))}}if(x.x!=0){h="pshape";
V=Math.max(0,Math.min(3,t.pshape+x.x))}if(h){var E=new e_(H.E.L,!0),a={};a[h]=V;t[h]=V;E.data={d:H.t.F0,G:this.id,nz:"vals",amj:a};
n.$(E);this.Xg(_,n,O,l)}};D.Mk=function(){D.fx.call(this,[10,35],D.LU,"tools/line",!1)};D.Mk.prototype=new D.fx;
D.Mk.prototype.t_=function(_,n,O){var l=this._Q.width,x=this._Q.aopts;n=n.clone();if(O){n=D.de.Wr(_,n)}return[Q.M.tm.MU(_.x,_.y,n.x,n.y,l,x),Q.X.c0("Ln",null,null,[_.x,_.y,n.x,n.y],l,null,x)]};
D.Yb=function(){D.fx.call(this,[10,31],D.PG,"tools/cshape",!0)};D.Yb.prototype=new D.fx;D.Yb.prototype.t_=function(_,n,O){var l=this._Q.shape,x=l.hT.a/l.hT.n,t=v.ez.qD(l.i);
n=n.clone();if(O){n.y=_.y+(n.x-_.x)/x}var h=n.x-_.x,V=n.y-_.y;Q.M.qp(t,new aY(h,0,0,V,_.x,_.y));return[t,Q.X.c0("customShape",[_.x,_.y,n.x,n.y],null,null,null,l.oS)]};
D.D6=function(_,n,O){D.zi.call(this,_,n,O);this.zo=0;this.B=null;this.aX=null;this.TG=null;this.SM=1;
this.uj=!0;this.WQ=!1;this.cursor=null;this.m_=null;this.IW=null;this.qM=!1;this.xR=null;this.alS=0;
this.U4=null;this.g8=0;this.vf=null;this.$b=null;this.fR=null;this.HF=null;this.ad0=null;this.wu=null};
D.D6.prototype=new D.zi;D.D6.bL=function(_,n){var O={classID:"null",null:g3.g5("Dcmn",!0)};if(_)O.Angl={t:"UntF",v:{type:"#Ang",val:n}};
else O.Axis={t:"enum",v:{Ornt:n}};return{et:_?"rotateEventEnum":"flip",ot:O}};D.D6.prototype.nN=function(_,n,O,l,x){var t=new e_(H.E.L,!0);
t.data={d:H.t.F0,G:this.id,Mu:x,JP:_,TG:O};n.$(t);this.xO=!1};D.D6.prototype.P0=function(_){return this.$b&&this.$b.a0G()};
D.D6.prototype.cZ=function(_,n,O,l,x){this.TG=x;if(_.d=="again"&&this.U4==null)return;if(!this.XT(O,x))return;
if(this.$b){this.art(_,this.$b.LP(),n,O,l,x);this.N5(O,x,0,!0);this.rn(O);return}this.ai8(O,_.j==null,_.j);
this.akG(O);this.art(_,null,n,O,l,x);this.II(O,n,_.hM,!1)};D.D6.prototype.art=function(_,n,O,l,x,t){var h=this.vf;
if(n==null){var V=_.eX!=null?_.eX:4;n=this.$b.a05()[V]}var y=n.x,r=n.y;if(_.d=="rot"&&_.h!=Math.PI&&(h.a+h.n&1)==1){y=Math.floor(y);
r=Math.floor(r)}var E=new aY;E.translate(-y,-r);if(_.d=="rot")E.rotate(_.h);if(_.d=="scl")E.scale(_.h.x,_.h.y);
if(_.d=="mat")E.concat(_.h);E.translate(y,r);if(_.d=="again")E=this.U4;var a=this.$b.vh();Q.p.D(a,E,a);
this.$b.R_(a);if(_.qj){var S=_.qj.v;this.OZ({Zq:"switchWarp"},O,l,x);this.OZ({Zq:"wrp",qj:S},O,l,x)}};
D.D6.prototype.HE=function(){return!0};D.D6.prototype.XT=function(_,n){if(_==null)return!1;if(this.id==D.E7)return _.P!=null;
var O=_.wy(!0,null,null,!0);if(this.id==D.St&&_.B[O[0]].rect.wk()){alert("Layer is empty.");return!1}for(var m=0;
m<O.length;m++){var l=_.B[O[m]];if(l.bj(2)||l.bj(31)){alert(hU.get([6,57,0]));return!1}if(l.add.artb){alert("You can not transform the whole artboard");
return!1}if(l.add.TySh)if(!a$.L_(l.add.TySh,n.y8))return!1;if(l.add.SoLd){if(O.length==1&&!Q.Q6.Z1(l.add.SoLd.warp.v)&&(l.Ek()&&l.Ek().Cu||l.add.vmsk&&l.add.vmsk.Cu)){alert("Unlink masks before transforming Smart Object");
return!1}if(!_.akj(l.add.SoLd.Idnt.v)){alert("Unsupported format of the smart object ("+_.EL(l.add.SoLd.Idnt.v).L5+")");
return!1}}}if(_.P==null)return!0;if(!_.eE())return!1;return _.a3$()};D.D6.prototype.Ta=function(_,n,O,l,x){var t=this.a8i(x,_),h=t[0],V=t[1],y=this.g8==0?this.$b:this.fR;
_.u.K*=V;this.WQ=y.Ta(_,O,l,h,null,null,x);_.u.K/=V;if(this.WQ&&y.mT(h)){if(Date.now()-this.alS<250)this.II(_,n,null,!0);
this.alS=Date.now()}};D.D6.prototype.ee=function(_){var n=new e_(H.E.L,!0);n.data={d:H.t.JK,vG:this.cursor};
_.$(n)};D.D6.prototype.a8i=function(_,n){var O=1;_=n.u.vk(_.x,_.y);if(this.g8==1){var l=Q.r.pI(this.$b.vh(),this.vf);
O=Q.r.tt(l).Sn();var x=Q.r.sJ(l);_=Q.r.acq(x,_)}return[_,O]};D.D6.prototype.Xg=function(_,n,O,l,x){var t=this.a8i(x,_),h=t[0],V=t[1],y=this.g8==0?this.$b:this.fR;
if(!x.Ju){var r="default";if(y){var E=y.RL(h,_.u.K*V,null,x);if(E)r=E}if(r!=this.cursor){this.cursor=r;
this.ee(n)}}if(!this.WQ)return;_.u.K*=V;y.Xg(_,O,l,h,this.uj);_.u.K/=V;this.N5(_,O,0,!0);this.rn(_);
this.he(n)};D.D6.prototype.PF=function(_,n,O,l,x){var t=_.u.vk(x.x,x.y);this.$b.PF(_,O,l,t);this.WQ=!1};
D.D6.prototype.op=function(_,n,O,l){if(l.l(bJ.Vn))this.II(_,n,null,!0);else if(l.l(bJ.rF))this.bO(_,n);
else{var x=this.$b.op(_,O,l);if(x){this.N5(_,O,0,!0);this.he(n)}}};D.D6.prototype.OZ=function(_,n,O,l){if(_.Zq=="commit")this.II(O,n,null,!0);
else if(_.Zq=="cancel")this.bO(O,n);else if(_.Zq=="switchWarp"){this.g8=1-this.g8;this.aoD();this.rn(O);
this.he(n)}else if(_.Zq=="wrp"){this.fR.a6X(_.qj);this.rn(O);this.N5(O,this.TG,0,!0)}else if(_.Zq=="ctyp"){this.$b.afO(_.dQ);
this.rn(O);this.he(n)}else if(_.Zq=="cen"){this.$b.agN(_.gp);this.rn(O);this.N5(O,this.TG,0,!0)}else if(_.Zq=="trn"){var x=Q.r.Ct(_.x3),t=this.vf,h=Q.r.pI(this.$b.vh(),this.vf);
x[6]=h[6],x[7]=h[7];var V=[t.x,t.y,t.x+t.a,t.y,t.x+t.a,t.y+t.n,t.x,t.y+t.n];Q.r.D(x,V);this.SM=_.SM;
this.uj=_.uj;this.$b.R_(V);this.rn(O);this.N5(O,this.TG,0,!0)}};D.D6.prototype.rn=function(_){if(this.g8==0)this.$b.aZ(_,this.TG);
else{this.fR.aZ(_);var n=Q.r.pI(this.$b.vh(),this.vf);Q.r.D(n,_.I.qb.C);Q.r.D(n,_.I._x)}};D.D6.prototype.II=function(_,n,O,l){this.N5(_,this.TG,this.SM);
var x=new gO(O?O:this.name,this);if(this.zo==0)x.data={type:this.zo,B:this.B,xR:this.aX,WW:D.D6.Jn(_,this.B)};
else if(this.zo==1){var t=_.B[this.B[0]],h;if(t.fa.LN<=0){h=Q.Q(t.fa.xF.O());Q.nV(t.fa.nt,h,3)}else h=_.P.channel;
var V={rect:t.fa.xF.clone(),channel:h};x.data={type:this.zo,j:this.B[0],IW:this.IW,Ss:V,m_:this.m_,qM:this.qM,fa:t.fa,xR:this.xR,WW:{Sm:t.fa.xF,r0:t.fa.nt}}}else if(this.zo==2){x.data={type:this.zo,IW:this.IW,Ss:{rect:_.P.rect.clone(),channel:_.P.channel.slice(0)}}}_.dc(x);
var y=this.vf,r=new aW(y.x+y.a/2,y.y+y.n/2),E=Q.r.pI(this.$b.vh(),y),a=Q.r.tt(E),S=new aY;S.translate(r.x,r.y);
S.concat(a);S.translate(-r.x,-r.y);a=S.clone();var e=-Math.atan2(-a.k,a.EX),P=new aY;P.rotate(e);a.concat(P);
function b(W,s){return{t:"UntF",v:{type:["#Pxl","#Prc","#Ang"][s],val:W}}}var T=g3.g5("Lyr",!0);if(this.id==D.E7)T.v[0]={t:"prop",v:{classID:"Chnl",keyID:"fsel"}};
var C={classID:"null",null:T,FTcs:{t:"enum",v:{QCSt:"Qcsa"}},Intr:{t:"enum",v:{Intp:"Bcbc"}},Ofst:{t:"Objc",v:{__name:"Offset",classID:"Ofst",Hrzn:b(S.Wk,0),Vrtc:b(S.d7,0)}},Skew:{t:"Objc",v:{classID:"Pnt",Hrzn:b(Math.atan(a.av)*180/Math.PI,2),Vrtc:b(0,2)}},Wdth:b(a.EX*100,1),Hght:b(a.c5*100,1),Angl:b(e*180/Math.PI,2)},Z=this.fR?this.fR.y4():null;
if(Z&&!Q.Q6.Z1(Z)){C.warp={t:"Objc",v:Z}}this.Ve=n;this.track({et:"transform",ot:C});this.escape(_,n,l)};
D.D6.prototype.bO=function(_,n){if(this.zo==0)D.D6.S8(_,this.B,this.aX);else if(this.zo==1){var O=_.B[this.B[0]];
_.P=this.IW;if(!this.qM){O.fa.xF=this.xR.Sm;O.fa.nt=this.xR.r0;O.Ub(_,0,0,_.P)}else{O.TR(_,this.m_)}_.U();
_.bo=!0}else if(this.zo==2){_.P=this.IW;_.bo=!0}this.escape(_,n,!0)};D.D6.prototype.escape=function(_,n,O){this.$b.clear(_);
this.$b=null;this.fR=null;this.wu=null;this.g8=0;if(O)this.Es(n,H.E.L,{d:H.t.I0})};D.D6.prototype.Pg=function(_,n){if(_.type==0)D.D6.S8(n,_.B,_.WW);
else{if(_.type==1){var O=n.B[_.j];if(_.qM){O.fa=_.fa}else{O.fa.xF=_.WW.Sm;O.fa.nt=_.WW.r0}O.Ub(n,0,0,n.P);
n.U()}n.P={rect:_.Ss.rect.clone(),channel:_.Ss.channel.slice(0)};n.bo=!0}};D.D6.prototype.Qb=function(_,n){if(_.type==0)D.D6.S8(n,_.B,_.xR);
else{if(_.type==1){var O=n.B[_.j];if(_.qM){O.TR(n,_.m_)}else{O.fa.xF=_.xR.Sm;O.fa.nt=_.xR.r0;O.Ub(n,0,0,n.P)}n.U()}n.P=_.IW;
n.bo=!0}};D.D6.prototype.ai8=function(_,n,O){_.cx();var l=[];if(O==null)for(var m=0;m<_.WJ.length;m++)if(_.VE[_.WJ[m]].add.vmsk.i.length>2)l.push(-1-_.WJ[m]);
var x=[],t=_.u.CN;if(t[0]+t[1]+t[2]==3)if(O!=null||l.length==0||_.tF!=null&&_.tF.length!=0){if(_.g.length==1){var h=_.B[_.g[0]];
if(h.kx()&&h.MZ)x=[_.g[0]]}if(x.length==0)x=_.wy(n,O,null,!0)}x=x.concat(l);for(var m=0;m<_.oO.length;
m++)x.push(-1e3-_.oO[m]);this.B=x};D.D6.prototype.enable=function(_,n,O,l,x,t){if(this.cursor==null)this.cursor="default";
this.ee(n);if(this.$b)return;this.TG=O;this.ai8(_,!0);this.akG(_,t&&t.or!=null&&t.or!=-1?t.or:null);
this.he(n);this.rn(_);if(t&&t.or==-1)this.OZ({Zq:"switchWarp"},n,_,l)};D.D6.prototype.MN=function(){return[this.uj?1:0]};
D.D6.prototype.Az=function(_,n,O){if(_&&_[0]!=null)this.uj=_[0]==1};D.D6.prototype.he=function(_){var n={d:H.t.F0,G:this.id};
if(this.g8==0){var O=Q.r.pI(this.$b.vh(),this.vf),l=Q.r.tt(O);n.x3={ha:l,dQ:this.$b.apg(),gp:this.$b.LP(),Sm:this.vf.clone(),uj:this.uj}}else{n.qj=this.fR.y4()}n.av_=this.fR!=null;
this.Es(_,H.E.L,n)};D.D6.prototype.akG=function(_,n){var O=this.id==D.E7,l=!0,x=this.B[0],t=_.B[x],V=null,y=null;
if(O){this.zo=2;this.IW=_.P}else if(_.P&&this.B.length==1&&x>=0&&!t.rect.wk()){this.zo=1;this.IW=_.P;
this.m_=t.fa;this.qM=!1;if(!t.cu(_,_.P)){this.qM=!0;t.P5(_,_.P,!1)}this.xR={r0:t.fa.nt,Sm:t.fa.xF}}else{this.zo=0;
this.aX=D.D6.Jn(_,this.B,null);for(var m=0;m<this.aX.length;m++)if(this.aX[m][3]!=null)l=!1}var h=this.zo==1;
if(this.aX&&this.aX.length==1){var r=this.aX[0];if(r[2]!=null&&r[2].X){var E=r[2].W1.g;if(E.length<2){y=r[2].X[E.length==0?0:E[0]].v;
if(!Q.X.YQ(y))y=null}}if(r[3]==null)h=!0;if(r[4]!=null){V=_.B[this.B[0]].add.SoLd;if(r[1]||r[2])h=!1}}var a=O?_.P.rect.clone():D.D6.kf(_,this.B);
this.vf=a;if(!O&&V){var S=D.D6.Zz(V.nonAffineTransform);this.vf=Q.p.Vx(Q.Q6.zE(V.warp.v));if(h)this.fR=new kc(V.warp.v);
this.HF=Q.r.pI(S,this.vf);this.$b=new k6(S,!0,!0,l,!1,!1,n)}else{if(h||O)this.fR=new kc(Q.Q6.Q(this.vf));
this.HF=[1,0,0,0,1,0,0,0];if(this.id==D.St)n=3;this.$b=new k6([a.x,a.y,a.x+a.a,a.y,a.x+a.a,a.y+a.n,a.x,a.y+a.n],!0,!0,l,!1,!1,n)}this.ad0=[1,0,0,0,1,0,0,0];
if(this.id==D.St){var e,P;if(this.aX){var b=this.aX[0][0],T=b.Qm;e=T[0];P=T[1]}else if(this.xR){e=this.xR.r0;
P=this.xR.Sm}this.wu=Q.oB.ajM(e,P.a,P.n)}};D.D6.kf=function(_,n){if(n==null)n=_.wy(!0,null,null,!0);
var O=new a8,l=new a8;if(_.P&&n.length==1&&n[0]>=0)O=_.P.rect.clone();else for(var m=0;m<n.length;m++){var x=n[m],t=0<=x?_.B[x]:-1e3<x?_.VE[-1-x]:_.U_[-1e3-x],h=t.add?t.add.vmsk:null,V=0<=x?t.Kr(_,n.length==1,!1,!0):-1e3<x?Q.M.OY(h.i,n.length==1&&h.g.length!=0?h.g:null):t.rect.clone();
O=O.uG(V);if(x>0&&t.add.artb)l=l.uG(t.DM())}return!l.wk()?l:O};D.D6.prototype.Es=function(_,n,O,l){var x=new e_(n,!0);
x.data=O;if(l)x.G=l;_.$(x)};D.D6.Jn=function(_,n,O){var l=[];for(var m=0;m<n.length;m++){var x=n[m],t,h;
if(x>=0){t=_.B[x];h=t.PO(_,O,!0)}else if(x>-1e3){t=_.VE[-1-x];h=[2]}else{l.push([null,null,null,null,null,null,null,_.U_[-1e3-x].clone()]);
continue}var V=[],y=h.indexOf(0)!=-1;if(y){var r={Qm:t.add.SoLd?null:[t.buffer.slice(0),t.rect.clone()]};
V.push(r);if(t.lx()){var E=t.vO(_);r.a92=E.buffer.slice(0);r.axR=E.rect.clone()}}else V.push(null);if(h.indexOf(1)!=-1)V.push(t.Ek().clone());
else V.push(null);if(h.indexOf(2)!=-1)V.push({W1:t.add.vmsk.clone(),eo:t.add.vstk?JSON.parse(JSON.stringify(t.add.vstk)):null,cK:t.add.vstk?D.Jr.sK(_,x):null,X:t.add.vogk?JSON.parse(JSON.stringify(t.add.vogk)):null});
else V.push(null);if(t.add.TySh&&y){b$.zy(t.add.TySh);V.push(t.add.TySh.D.clone())}else V.push(null);
if(t.add.SoLd&&y)V.push(JSON.parse(JSON.stringify(t.add.SoLd)));else V.push(null);if(h.indexOf(3)!=-1)V.push(t.vO(_).z.clone());
else V.push(null);if(t.add.lmfx)V.push(JSON.stringify(t.add.lmfx));else V.push(null);l.push(V)}return l};
D.D6.S8=function(_,n,O){for(var m=0;m<n.length;m++){var l=n[m],x=0<=l?_.B[l]:-1e3<l?_.VE[-1-l]:_.U_[-1e3-l],t=O[m];
if(t[0]){if(t[0].Qm){x.rect=t[0].Qm[1].clone();x.buffer=t[0].Qm[0].slice(0)}if(x.lx()){var h=x.vO(_);
h.buffer=t[0].a92.slice(0);h.rect=t[0].axR.clone()}}if(t[1]){x.Ek().channel=t[1].channel.slice(0);x.Ek().rect=t[1].rect.clone();
x.Ek().na=!0}if(t[2]){x.add.vmsk=t[2].W1.clone();if(t[2].cK)D.Jr.RE(x,t[2].cK);if(t[2].eo)x.add.vstk=JSON.parse(JSON.stringify(t[2].eo));
if(t[2].X)x.add.vogk=JSON.parse(JSON.stringify(t[2].X))}if(t[3]){x.add.TySh.D=t[3].clone();b$.Y9(x.add.TySh)}if(t[4]){x.add.SoLd=JSON.parse(JSON.stringify(t[4]))}if(t[5]){var V=x.vO(_).z;
V.channel=t[5].channel.slice(0);V.rect=t[5].rect.clone()}if(t[6]){x.add.lmfx=JSON.parse(t[6])}if(t[7]){x.channel=t[7].channel.slice(0);
x.rect=t[7].rect.clone();x.na=!0}if(0<=l){x.bf(_);x.U();if(t[4])x.Ga(_,!1)}}_.U()};D.D6.Xr=function(_,n,O,l,x,t,h,V,y,r){if(typeof t[0]=="number"){var E=[];
for(var m=0;m<O.length;m++)E[m]=t;t=E}for(var m=0;m<O.length;m++){var a=t[m],S=Q.r.tt(a),e=S.Sn(),P=O[m],b=0<=P?_.B[P]:-1e3<P?_.VE[-1-P]:_.U_[-1e3-P],T=l[m];
if(b.add&&b.add.lmfx&&V)fW.BI(b.add.lmfx,e);if(T[0]&&!T[3]&&!T[4]&&!T[5]){var C=T[0].Qm;if(y){var Z=y.clone(),W=Q.Q(Z.O()*4);
Q.zw(C[0],C[1],W,Z);C=[W,Z]}var s=D.D6.ed(C,x,a,h,x==0?b.buffer.buffer:null,null,null,r);if(s){b.rect=s.rect;
b.buffer=s.buffer}}if(T[1]){var f=b.Ek();D.D6.nS(_,T[1],f,x,a,h,f.Cu&&h&&!Q.Q6.Z1(h)&&T[0]?T[0].Qm[1]:null);
if(y){var Z=b.rect.v6(y),q=Q.Q(Z.O());Q.pc(f.channel,f.rect,q,Z);f.channel=q;f.rect=Z}}if(T[2]){var g=h&&!Q.Q6.Z1(h),i=T[2].W1.clone(),u=O.length==1&&i.g.length!=0,I=O.length==1&&i.dW.length>1;
if(I)u=!1;var Y=u?i.g:null,U=I?i.dW:null;if(g){var F=Q.Q6.zE(h);Q.r.D(a,F);Q.M.abT(i.i,F,Y,U)}else Q.M.apc(i.i,a,Y,U);
if(b.add.vstk&&V){b.add.vstk.strokeStyleLineWidth.v.val=T[2].eo.strokeStyleLineWidth.v.val*e;var N=T[2].cK;
if(N&&N.xP==3){N=JSON.parse(JSON.stringify(N));var o=N.cK.phase.v;N.cK.Scl.v.val=Math.round(N.cK.Scl.v.val*e);
o.Hrzn.v=Math.round(o.Hrzn.v*e);o.Vrtc.v=Math.round(o.Vrtc.v*e);D.Jr.RE(b,N)}}if(b.add.vogk){b.add.vogk=JSON.parse(JSON.stringify(T[2].X));
if(g||I)Q.X.u2(b.add.vogk);else Q.X.D(b.add.vogk,a,O.length>1?[]:i.g,V)}i.Vw*=e;b.add.vmsk=i;if(b.add.vogk)Q.X.oR(b.add.vogk,b.add.vmsk)}if(T[3]){var X=T[3].clone();
X.concat(S);b.add.TySh.D=X;b$.Y9(b.add.TySh);a$.rS(b,n.y8)}if(T[4]){var J=b.add.SoLd,c=D.D6.Zz(T[4].nonAffineTransform);
Q.r.D(a,c);var p=Q.p.f0(c);if(k6.Oj(c)){if(h){var d=Q.p.Vx(Q.Q6.zE(T[4].warp.v)),q=Q.r.pI(c,d),k=Q.p.Vx(Q.Q6.zE(h));
c=[k.x,k.y,k.x+k.a,k.y,k.x+k.a,k.y+k.n,k.x,k.y+k.n];Q.r.D(q,c);J.warp.v=h}var A=Q.r.pI(c),$=c;if(!Q.r.PB(A)){A[6]=A[7]=0;
$=[0,0,1,0,1,1,0,1];Q.r.D(A,$)}J.Trnf=D.D6.X6($);J.nonAffineTransform=D.D6.X6(c);if(J.filterFX)J.filterFX=JSON.parse(JSON.stringify(T[4].filterFX));
D.D6.auX(J,S);b.Ga(_,x==0,n.y8)}}if(T[5])D.D6.nS(_,T[5],b.vO(_).z,x,a,h);if(T[7])D.D6.nS(_,T[7],b,x,a,h);
if(0<=P){if(x!=0)b.AO();b.bf(_);b.U()}}_.U()};D.D6.a9O=function(_,n){var O=n.Sn(),l=0;Q.gL(_);while(O<.45&&l<_.length-4){l+=2;
O*=2;var x=new aY;x.scale(2,2);x.concat(n);n=x}var t=_[l],h=_[l+1],V=h.a,y=h.n,r=Q.p.ta(h).C;Q.p.D(r,n,r);
var E=Q.p.f0(r),a=Q.Q(E.O()),S=E.x,e=E.y,P=E.a,b=E.n,T=n.clone();T.sJ();var C=T.uz(new aW(0,0)),Z=T.uz(new aW(1,0)),W=Z.x-C.x,s=Z.y-C.y,f=V-.51,q=y-.51;
for(var g=0;g<b;g++){var i=T.EX*(S+.5)+T.av*(g+e+.5)+T.Wk,u=T.k*(S+.5)+T.c5*(g+e+.5)+T.d7;for(var I=0;
I<P;I++){if(i<.5||i>f||u<.5||u>q){}else a[g*P+I]=Math.floor(.5+Q.r.akE(i,u,t,V,y));i+=W;u+=s}}return{rect:E,channel:a}};
D.D6.yn=function(_,n,O,l,x,t){if(O==null)O=!1;return D.D6.ed(_,O?0:1,Q.r.Ct(n),null,l,x,t,O)};D.D6.ed=function(_,n,O,l,x,t,h,V){if(V==null)V=!1;
if(V&&h)throw"e";var y={},S=0,e=.3;if(l&&!Q.Q6.Z1(l)){var r=Q.Q6.zE(l);Q.r.D(O,r);y.rect=Q.p.f0(r);y.buffer=Q.Q(y.rect.O()*4);
Q._I.drawImage(r,_[0],_[1].a,_[1].n,y.buffer,y.rect,n==0);return y}Q.iL(_);var E=_[0],a=_[1],P=a.O()*Q.r.tt(O).Sn();
if(V&&P>4e6)e=P>8e6?2.2:1.2;while(S+3<_.length&&_[S+3].O()>16&&Q.r.PB(O)&&Q.r.tt(O).Sn()<e){S+=2;var b=_[S],T=_[S+1],C=a.a/T.a,Z=a.n/T.n;
O=Q.r.kU(O,[1,0,a.x,0,1,a.y,0,0]);O=Q.r.kU(O,[C,0,0,0,Z,0,0,0]);O=Q.r.kU(O,[1,0,-a.x,0,1,-a.y,0,0]);
a=T;E=b}var W=Q.r.kU(O,Q.r.Ct(new aY(a.a,0,0,a.n,a.x,a.y))),s=[0,0,1,0,1,1,0,1];Q.r.D(W,s);y.rect=Q.p.f0(s);
if(h)y.rect=y.rect.v6(h);if(V){while((y.rect.a&3)!=0)y.rect.a++;while((y.rect.n&3)!=0)y.rect.n++}if(!k6.Oj(s)||y.rect.a>1e5||y.rect.n>1e5||y.rect.O()>3e4*3e4)return null;
var f=y.rect.O()*4;if(x&&x.byteLength>=f&&f>=x.byteLength>>2){y.buffer=new Uint8Array(x)}else{y.buffer=Q.Q(f)}Q.r.drawImage(W,E,a.a,a.n,y.buffer,y.rect,n==0,t,V);
if(n==2&&y.buffer){var q=y.rect.a,g=y.rect.n,i;i=[0,-1,0,-1,16,-1,0,-1,0];i=Q.u3.Fi(i);var u=y.buffer.slice(0);
Q.u3.G4(u,y.buffer,q,g,i,255,!1,!0)}if(y.buffer)return y};D.D6.nS=function(_,n,O,l,x,t,h){var V=n.rect,y=n.channel;
if(h){V=h;y=n.H9(V)}if(n.color==255)Q.sJ(y);var r=Q.Q(V.O()*4);Q.$c(y,r,3);var E=D.D6.ed([r,V],l,x,t);
if(E){O.rect=E.rect;O.channel=Q.Q(E.rect.O());Q.nV(E.buffer,O.channel,3);O.na=!0}if(n.color==255){Q.sJ(y);
if(E)Q.sJ(O.channel)}};D.D6.auX=function(_,n){var O=_.filterFX;if(O)O=O.v.filterFXList;if(O)O=O.v;if(O)for(var l=0;
l<O.length;l++){var x=O[l].v.Fltr;if(x==null||x.v.classID!="rigidTransform")continue;x=x.v;console.log(x);
var t=[];for(var h=0;h<4;h++)t.push(x["PuX"+h].v,x["PuY"+h].v);Q.p.D(t,n,t);for(var h=0;h<4;h++){x["PuX"+h].v=t[h*2];
x["PuY"+h].v=t[h*2+1]}var V=["PinP","posFinalPins"],y=["originalVertexArray","deformedVertexArray"],r=x.puppetShapeList.v;
for(var E=0;E<r.length;E++){var a=r[E].v;for(var S=0;S<V.length;S++){var e=D.D6.Zz(a[V[S]]);Q.p.D(e,n,e);
a[V[S]]=D.D6.X6(e);var P=new Uint8Array(a[y[S]].v),b=new Float32Array(P.buffer);Q.p.D(b,n,b);var T=[];
for(var C=0;C<P.length;C++)T[C]=P[C];a[y[S]].v=T}}}};D.D6.Zz=function(_){var n=[],O=_.v.length;for(var m=0;
m<O;m++)n.push(_.v[m].v);return n};D.D6.X6=function(_){var n={t:"VlLs",v:[]},O=_.length;for(var m=0;
m<O;m++)n.v.push({t:"doub",v:_[m]});return n};D.D6.prototype.aoD=function(){var _=Q.p.Vx(Q.Q6.zE(this.fR.y4())),n=Q.r.pI(this.$b.vh(),this.vf),O=[_.x,_.y,_.x+_.a,_.y,_.x+_.a,_.y+_.n,_.x,_.y+_.n];
Q.r.D(n,O);this.$b.R_(O);this.vf=_};D.D6.prototype.N5=function(_,n,O,l){var x=Q.r.pI(this.$b.vh(),this.vf);
x=Q.r.kU(x,Q.r.sJ(this.HF));var t=this.fR?this.fR.y4():null;if(this.zo==0){var h=this.U4=Q.r.tt(x);if(this.id==D.St){var V=this.aX[0][0],y=V.Qm,r=y[1],E=~~(r.a*Math.max(0,h.EX)),a=~~(r.n*Math.max(0,h.c5)),S=new a8(Math.round(h.EX*r.x+h.Wk),Math.round(h.c5*r.y+h.d7),E,a),e=Q.oB.D(this.wu,S),P=_.B[this.B[0]];
P.buffer=e;P.rect=S;P.U();_.U()}else D.D6.Xr(_,n,this.B,this.aX,O,x,t,null,null,l)}else if(this.zo==1){var b=_.B[this.B[0]],r=this.xR.Sm;
if(b.LN<=0){var T=this.xR.r0,C=this.IW,Z=null;if(t&&!Q.Q6.Z1(t)&&!C.rect.yO(r)){var e=Q.Q(C.rect.O()*4);
Q.zw(T,r,e,C.rect);T=e;r=C.rect}if(this.id==D.St){var h=this.U4=Q.r.tt(x),E=~~(r.a*Math.max(0,h.EX)),a=~~(r.n*Math.max(0,h.c5)),S=new a8(Math.round(h.EX*r.x+h.Wk),Math.round(h.c5*r.y+h.d7),E,a),e=Q.oB.D(this.wu,S);
Z={buffer:e,rect:S}}else Z=D.D6.ed([T,r],O,x,t);if(Z){b.fa.nt=Z.buffer;b.fa.xF=Z.rect;var W=Q.Q(Z.rect.O());
Q.nV(b.fa.nt,W,3);_.P={channel:W,rect:b.fa.xF.clone()}}}else{var s=Q.Q(r.O()*4);Q.$c(this.xR.r0,s,3);
var Z=D.D6.ed([s,r],O,x,t);if(Z){b.fa.nt=Q.Q(Z.rect.O());Q.nV(Z.buffer,b.fa.nt,3);b.fa.xF=Z.rect}this.ar0(_,O,x,t)}b.Ub(_,0,0,_.P);
if(O!=0){b.AO();Q.AO(_.P)}_.bo=!0;_.U()}else if(this.zo==2)this.ar0(_,O,x,t)};D.D6.prototype.ar0=function(_,n,O,l){var x=this.IW.rect,t=Q.Q(x.O()*4);
Q.$c(this.IW.channel,t,3);var h=D.D6.ed([t,x],n,O,l),V=Q.Q(h.rect.O());Q.nV(h.buffer,V,3);_.P={channel:V,rect:h.rect};
_.bo=!0};D.D6.prototype.disable=function(_,n,O,l){if(this.$b)this.II(_,n,null,!0)};D.a1C=function(){D.D6.call(this,[10,16],D.rd,"tools/transform")};
D.a1C.prototype=new D.D6;D.afT=function(){D.D6.call(this,[7,10],D.E7,"tools/transform")};D.afT.prototype=new D.D6;
D.a0v=function(){D.D6.call(this,[10,48],D.St,"tools/transform")};D.a0v.prototype=new D.D6;D.Xu=function(_,n,O){D.zi.call(this,[10,46],D.lG,"tools/transform");
this.Tm=[1,1,2,!0];this.D$="rigidTransform";this.ip=null;this.ac7=null;this.sn=null;this.O0=null;this.R9=null;
this.wv=null;this.SQ=[]};D.Xu.prototype=new D.zi;D.Xu.prototype.HE=function(){return!0};D.Xu.a9p=function(_){if(_==null)return!1;
if(_.g.length!=1)return!1;var n=_.B[_.g[0]];return n.add.SoLd||_.eE(!1)};D.Xu.prototype.XT=function(_,n){return D.Xu.a9p(_)};
D.Xu.prototype.enable=function(_,n,O,l,x,t,h){this.ac7=t.Tv;var V=t.Tv,y,b=null;if(V){var r=_.B[V.j];
if(r.add.SoLd.filterFX!=null){var E=r.add.SoLd.filterFX.v.filterFXList.v;if(E[V.index])y=JSON.parse(JSON.stringify(E[V.index].v.Fltr.v))}}var a=y==null,r=_.B[_.g[0]],S=r.buffer,e=r.rect,P=r.add.SoLd;
if(P){var T=P.nonAffineTransform.v;b=[];for(var m=0;m<4;m++)b.push(T[m*2].v,T[m*2+1].v);if(a)this.XQ("edit",n);
var C=r.vO(_);S=C.buffer;e=C.rect}this.ip={buffer:S.slice(0),rect:e.clone(),a1Y:b};if(a)y=D.Xu.JY(this.ip,this.Tm);
this.sn=y;this.O0=D.Xu.UQ(this.sn,this.Tm);this.QQ();this.Df(_);if(a)this.H1(n);var Z=new e_(H.E.L,!0);
Z.data={d:H.t.F0,G:this.id,nZ:this.Tm};n.$(Z);Z.data={d:H.t.JK,vG:"default"};n.$(Z)};D.Xu.prototype.disable=function(_,n,O,l){if(this.O0)this.II(_,n,!0)};
D.Xu.prototype.QQ=function(_){var n=this.O0;this.SQ=[];for(var m=0;m<n.length;m++){var O=n[m];for(var l=0;
l<O.g.length;l++)this.SQ.push([m,O.g[m]]);O.jG=Q.Iz.oI(O);if(_)Q.Iz.rg(O)}};D.Xu.prototype.OZ=function(_,n,O,l){if(_.Zq=="commit")this.II(O,n,!0);
else if(_.Zq=="cancel")this.bO(O,n,!0);else if(_.Zq=="prm"){var x=!1;for(var m=0;m<3;m++)if(this.Tm[m]!=_.nZ[m])x=!0;
this.Tm=_.nZ;if(x){this.sn=D.Xu.JY(this.ip,this.Tm,this.sn);this.O0=D.Xu.UQ(this.sn,this.Tm);this.QQ(!0);
this.H1(n)}this.Df(O)}else if(_.Zq=="moveDepth"){var t=this.O0;for(var h=0;h<t.length;h++){var V=t[h];
for(var m=0;m<V.g.length;m++){var y=V.g[m];V.SI[y]+=_.apU?1:-1}}this.H1(n)}};D.Xu.prototype.$Y=function(_,n){return _==bJ.ul||_==bJ.Mx};
D.Xu.prototype.op=function(_,n,O,l){var x=l.yi();if(l.l(bJ.Vn))this.II(_,n,!0);else if(l.l(bJ.rF))this.bO(_,n,!0);
else if(l.l(bJ.ul)||l.l(bJ.Mx)){var t=this.O0;for(var h=0;h<t.length;h++){var V=t[h];V.g.sort(function(E,a){return a-E});
for(var m=0;m<V.g.length;m++){var y=V.g[m],r=y*2;V.SI.splice(y,1);V.dg.splice(y,1);V.dC.splice(y,1);
V.B$.splice(y,1);V.cT.splice(r,2);V.LT.splice(r,2)}V.g=[];if(V.B$.length==0){V.Q_=V.FD.slice(0);V.UO=V.FD.slice(0)}}this.QQ(!0);
this.H1(n);this.Df(_)}else if(x.x!=0||x.y!=0){this.aya(_,x.x,x.y,n);this.Tj=null}};D.Xu.prototype.II=function(_,n,O){this.XQ("confirm",n);
this.escape(_,n,O)};D.Xu.prototype.bO=function(_,n,O){this.XQ("cancel",n);this.escape(_,n,O)};D.Xu.prototype.escape=function(_,n,O){_.I.qb=null;
_.I.W_=[];_.Hc=!0;this.O0=null;var l=new e_(H.E.L,!0);l.data={d:H.t.I0};if(O)n.$(l)};D.Xu.prototype.Ta=function(_,n,O,l,x){var t=_.u.vk(x.x,x.y),h=t.x,V=t.y,y=this.O0,r=null,E=[0,2,4,1.2,1.2,1.2],a=-1,S=D.nd(_,x);
for(var m=0;m<y.length;m++){var e=y[m],P=Q.p.az(e.LT,h,V,S);if(P!=-1)r=[m,P];if(a==-1&&Q.Iz.jz.ag4(e.UO,e.ye,h,V))a=m}if(r==null&&a!=-1){var e=y[a];
D.Xu.amJ(e,h,V,h,V,0);r=[a,e.B$.length-1];e.jG=Q.Iz.oI(e)}this.R9=t;if(r){var b=y[r[0]].g.indexOf(r[1])!=-1;
if(l.l(bJ.fc)&&!b){y[r[0]].g.push(r[1]);this.SQ.push(r)}else if(!b){y[r[0]].g=[r[1]];this.SQ=[r]}}this.Df(_)};
D.Xu.amJ=function(_,n,O,l,x,t){var h=Q.p.az(_.UO,n,O);_.B$.push(h);_.LT.push(l,x);_.cT.push(_.UO[h*2]-n,_.UO[h*2+1]-O);
_.dC.push(0);_.dg.push(!1);_.SI.push(t)};D.Xu.prototype.Xg=function(_,n,O,l,x){var t=_.u.vk(x.x,x.y),h=this.R9;
if(h)this.aya(_,t.x-h.x,t.y-h.y,n)};D.Xu.prototype.aya=function(_,n,O,l){var x={},t=this.SQ,h=this.O0;
if(this.Tj==null){this.Tj=[];for(var m=0;m<h.length;m++)this.Tj.push(h[m].LT.slice(0))}for(var m=0;m<t.length;
m++){var V=this.SQ[m],y=V[0],r=h[V[0]],E=V[1]*2;r.LT[E+0]=this.Tj[y][E+0]+n;r.LT[E+1]=this.Tj[y][E+1]+O;
x[y]=y}for(var y in x)Q.Iz.rg(this.O0[x[y]]);this.Df(_);this.H1(l)};D.Xu.prototype.XQ=function(_,n){var O=new e_(H.E.s,!0);
O.G=D.rq;O.data={d:_,Tv:this.ac7,D$:this.D$,As:this.sn};n.$(O)};D.Xu.prototype.PF=function(_,n,O,l,x){this.R9=null;
this.Tj=null};D.Xu.prototype.H1=function(_){D.Xu.az0(this.O0,this.Tm,this.sn);this.XQ("edit",_)};D.Xu.prototype.Df=function(_){var n=this.O0,O=this.sn;
_.I.qb={C:[],F:[]};_.I.W_=[];_.I.HP=[];for(var m=0;m<n.length;m++){var l=n[m];for(var x=0;x<l.g.length;
x++)_.I.HP.push((_.I.W_.length>>>1)+l.g[x]);_.I.W_=_.I.W_.concat(l.LT);if(this.Tm[3])Q.p.concat(_.I.qb,Q.p.arl(l.UO,l.ye))}_.Hc=!0};
D.Xu.JY=function(_,n,O){var l=_.buffer,x=_.rect,t=_.a1Y,h=ie.gV("rigidTransform");if(t)for(var m=0;m<4;
m++){h["PuX"+m].v=t[m*2];h["PuY"+m].v=t[m*2+1]}var V=h.puppetShapeList.v,y=Q.Iz.akm(l,x.a,x.n,n[1],n[2]),r=[];
for(var E=0;E<y.length;E++){var a={classID:"puppetShape",rigidType:{t:"bool",v:!0},VrsM:{t:"long",v:1},VrsN:{t:"long",v:0},originalVertexArray:{t:"tdta",v:[]},deformedVertexArray:{t:"tdta",v:[]},indexArray:{t:"tdta",v:[]},pinOffsets:{t:"VlLs",v:[]},posFinalPins:{t:"VlLs",v:[]},pinVertexIndices:{t:"VlLs",v:[]},PinP:{t:"VlLs",v:[]},PnRt:{t:"VlLs",v:[]},PnOv:{t:"VlLs",v:[]},PnDp:{t:"VlLs",v:[]},meshQuality:{t:"long",v:2},meshExpansion:{t:"long",v:2},meshRigidity:{t:"long",v:2},imageResolution:{t:"doub",v:72},selectedPin:{t:"VlLs",v:[]}};
a.meshBoundaryPath={t:"Objc",v:{classID:"pathClass",pathComponents:{t:"VlLs",v:[{t:"Objc",v:{classID:"PaCm",shapeOperation:{t:"enum",v:{shapeOperation:"xor"}},SbpL:{t:"VlLs",v:[{t:"Objc",v:{classID:"Sbpl",Clsp:{t:"bool",v:!0},Pts:{t:"VlLs",v:[]}}}]}}}]}}};
var S=y[E];V.push({t:"Objc",v:a});var e=S.FD.slice(0);Q.p.D(e,new aY(1,0,0,1,x.x,x.y),e);var P=S.ye;
for(var m=0;m<P.length;m+=3){var b=P[m+1];P[m+1]=P[m+2];P[m+2]=b}r.push({ye:P,FD:e,Q_:e,UO:e,B$:[],cT:[],LT:[],jG:null,g:[],dC:[],dg:[],SI:[]})}if(O){var T=D.Xu.UQ(O,[]),C=r[0];
for(var m=0;m<T.length;m++){var Z=T[m];for(var W=0;W<Z.g.length;W++)C.g.push((C.LT.length>>>1)+Z.g[W]);
for(var W=0;W<Z.B$.length;W++){var s=Z.B$[W]*2,f=Z.FD[s]-Z.cT[W*2],q=Z.FD[s+1]-Z.cT[W*2+1];D.Xu.amJ(C,f,q,Z.LT[W*2],Z.LT[W*2+1],Z.SI[W])}}}D.Xu.az0(r,n,h);
return h};D.Xu.UQ=function(_,n){var O=D.D6.Zz,l=_.puppetShapeList.v,x=[];for(var t=0;t<l.length;t++){var h=l[t].v;
n[0]=h.meshRigidity.v-1;n[1]=h.meshQuality.v-1;n[2]=h.meshExpansion.v;var V=h.pinVertexIndices.v.length,y=h.meshBoundaryPath.v.pathComponents.v;
if(y.length!=0){var r=y[0].v.SbpL.v[0].v.Pts;r.v=[]}var E=new Uint32Array(new Uint8Array(h.indexArray.v).buffer),a=new Float32Array(new Uint8Array(h.originalVertexArray.v).buffer),S=new Float32Array(new Uint8Array(h.deformedVertexArray.v).buffer),e=[],P=[],b=[];
for(var m=0;m<E.length;m++)e.push(E[m]);for(var m=0;m<a.length;m++){P.push(a[m]);b.push(S[m])}var T=O(h.pinVertexIndices),C=O(h.pinOffsets),Z=O(h.posFinalPins),W=O(h.PnRt),s=O(h.PnOv),f=O(h.PnDp),q=O(h.selectedPin);
x.push({ye:e,FD:P,Q_:b.slice(0),UO:b,B$:T,cT:C,LT:Z,jG:null,dC:W,dg:s,SI:f,g:q})}return x};D.Xu.az0=function(_,n,O){function l(S,e){var P=[];
for(var m=0;m<S.length;m++)P.push({t:e,v:S[m]});return P}function x(S,e,P){var b=new(P?Uint32Array:Float32Array)(S),T=new Uint8Array(b.buffer);
for(var m=0;m<T.length;m++)e[m]=T[m]}var t=O.puppetShapeList.v;for(var h=0;h<t.length;h++){var V=_[h],y=t[h].v;
y.meshRigidity.v=n[0]+1;y.meshQuality.v=n[1]+1;y.meshExpansion.v=n[2];x(V.ye,y.indexArray.v,!0);x(V.FD,y.originalVertexArray.v);
x(V.UO,y.deformedVertexArray.v);var r=[];for(var m=0;m<V.B$.length;m++){var E=V.B$[m]*2,a=m*2;r[a]=V.FD[E]-V.cT[a];
r[a+1]=V.FD[E+1]-V.cT[a+1]}y.PinP.v=l(r,"doub");y.pinVertexIndices.v=l(V.B$,"long");y.pinOffsets.v=l(V.cT,"doub");
y.posFinalPins.v=l(V.LT,"doub");y.PnRt.v=l(V.dC,"long");y.PnOv.v=l(V.dg,"bool");y.PnDp.v=l(V.SI,"doub");
y.selectedPin.v=l(V.g,"long")}};D.aR=function(_,n,O){D.zi.call(this,_?_:[10,40],n?n:D.yK,O?O:"tools/slice");
this.ii=null;this.Ve=null;this.Xn=null;this.ahN=null;this.LO=null;this.Fu=null};D.aR.prototype=new D.zi;
D.aR.FA=function(_,n){var O=-1;for(var m=0;m<_.length;m++){var l=D.aR.$P(_,m);if(l[0]<=n.x&&n.x<=l[2]&&l[1]<=n.y&&n.y<=l[3]){O=m;
break}}return O};D.aR.prototype.cZ=function(_,n,O,l,x){if(O==null)return;this.Ax(O);if(_.d=="fromAction"){var t=_.Jp,h=t.et,V=t.ot,y=O.tp(),r=O.P_(),E=r==-1?new a8(0,0,O.a,O.n):O.B[r].DM();
if(h=="divide"){if(O.qo.length!=0){var a=O.qo[0],S=D.aR.$P(O.Ks,a);E=new a8(S[0],S[1],S[2]-S[0],S[3]-S[1]);
O.Ks.splice(a,1);O.qo=[]}y=[[],[]];for(var e=0;e<2;e++){var P=["Across","Down"][e],b=V["pixels"+P]?0:1,T=V[["pixels","slices"][b]+P];
if(T==null)continue;T=T.v;var C=e==0?E.x:E.y,Z=e==0?E.a:E.n;if(b==0)for(var m=1;m*T<Z;m++){y[0].push([e,C+m*T]);
y[1].push(r)}else{var W=Math.floor(Z/T);for(var m=1;m<T;m++){y[0].push([e,C+m*W]);y[1].push(r)}}}}var s=[E.x,E.x+E.a],f=[E.y,E.y+E.n];
for(var m=0;m<y[0].length;m++){var q=y[0][m],g=Math.round(q[1]),i=y[1][m];if(i!=-1&&i!=r)continue;if(q[0]==0&&s.indexOf(g)==-1)s.push(g);
if(q[0]==1&&f.indexOf(g)==-1)f.push(g)}s.sort(function(c,p){return c-p});f.sort(function(c,p){return c-p});
for(var u=1;u<f.length;u++)for(var I=1;I<s.length;I++){O.Ks.push(D.aR.rP());D.aR.ox(O.Ks,O.Ks.length-1,[s[I-1],f[u-1],s[I],f[u]]);
O.Hc=!0}}else if(_.d=="reorder"){if(O.qo.length==0)return;var Y=O.Ks,U=O.qo;U.sort(function(c,p){return c-p});
console.log(U);var F=Y.slice(0),N=[],o=[];for(var m=0;m<U.length;m++){var a=U[m],X=Y[a];o.push(X);F.splice(F.indexOf(X),1)}var J=Math.max(0,Math.min(F.length,U[0]-_.dir));
for(var m=0;m<o.length;m++){F.splice(J+m,0,o[m]);N.push(J+m)}O.Ks=F;O.qo=N}else if(_.d=="delete"){var Y=O.Ks.slice(0);
for(var m=0;m<O.qo.length;m++)O.Ks.splice(O.Ks.indexOf(Y[O.qo[m]]),1);O.qo=[]}else if(_.d=="deleteAll"){O.Ks=[];
O.qo=[]}else{O.Ks[O.qo[0]].v=_;O.Hc=!0}this.hz(O)};D.aR.prototype.enable=function(_,n,O,l,x,t){D.zi.prototype.enable.call(this,_,n,O,l,x,t);
if(!O.lW.Ks){var h=new e_(H.E.L,!0);h.data={d:H.t.Gf,nZ:gp.bR};n.$(h)}};D.aR.prototype.disable=function(){this.ii=null;
this.Ve=null};D.aR.prototype.nN=function(_,n,O,l,x){var t=_.u.vk(x.x,x.y),h=D.aR.FA(_.Ks,t);if(h==-1)return;
this.ii=_;this.Ve=n;_.qo=[h];_.Hc=!0;if(this.Fu==null){this.Fu=new dW([{name:[5,4]},{name:[8,11,1],r8:!0}]);
this.Fu.Z("select",this.Bu,this)}var V=this.Fu;V.parent=n;V.f();V.update(_,O);var y=new e_(H.E.L,!0);
y.data={d:H.t.X3,B_:V,x:x.B7+2,y:x.E8+1};n.$(y)};D.aR.prototype.Bu=function(_){var n=this.Fu.q3()[0],O=this.ii;
if(n==0){this.Ax(O);O.Ks.splice(O.qo[0],1);O.qo=[];O.Hc=!0;this.hz(O)}if(n==1){var l=new e_(H.E.L,!0);
l.data={d:H.t.Rq,EW:"soptions",h:O.Ks[O.qo[0]].v};this.Ve.$(l)}};D.aR.prototype.Ta=function(_,n,O,l,x){if(_==null)return;
this.Ax(_);var t=_.u.vk(x.x,x.y);t=D.dV.up(_,t,O,[!0,null,!1]);t.x=Math.round(t.x);t.y=Math.round(t.y);
this.LO=t;_.Ks.unshift(D.aR.rP());_.qo=[0];D.aR.ox(_.Ks,0,[t.x,t.y,t.x+20,t.y+20]);_.Hc=!0};D.aR.prototype.Xg=function(_,n,O,l,x){if(this.Xn==null)return;
var t=_.u.vk(x.x,x.y),h=this.LO;t=D.dV.up(_,t,O,[!0,null,!1]);t.x=Math.round(t.x);t.y=Math.round(t.y);
var V=[h.x,h.y,t.x,t.y];D.aR.ar3(V);D.aR.ox(_.Ks,0,V);_.Hc=!0};D.aR.prototype.PF=function(_,n,O,l,x){this.hz(_);
this.LO=null};D.aR.prototype.Ax=function(_){this.Xn=JSON.stringify(_.Ks);this.ahN=JSON.stringify(_.qo)};
D.aR.prototype.hz=function(_){var n=JSON.stringify(_.Ks);if(n!=this.Xn){var O=new gO(this.name,this);
O.data={xR:this.Xn,WW:n,avm:this.ahN,aoo:JSON.stringify(_.qo)};_.dc(O)}this.Xn=null};D.aR.prototype.Qb=function(_,n){n.Ks=JSON.parse(_.xR);
n.qo=JSON.parse(_.avm);n.Hc=!0};D.aR.prototype.Pg=function(_,n){n.Ks=JSON.parse(_.WW);n.qo=JSON.parse(_.aoo);
n.Hc=!0};D.aR.prototype.$Y=function(_,n){return n!=null&&n.qo.length!=0&&(_==bJ.ul||_==bJ.Mx)};D.aR.prototype.op=function(_,n,O,l){if(_==null)return;
if(l.l(bJ.ul)||l.l(bJ.Mx))this.cZ({d:"delete"},n,_,l,O);var x=l.yi();if(x.x!=0||x.y!=0){this.Ax(_);D.aR.am(_,x);
this.hz(_)}};D.aR.prototype.OZ=function(_,n,O,l,x){};D.aR.a4V=function(_,n,O,l){var x=new aW(-n.x,-n.y),t=n.a/O.a,h=n.n/O.n,V=[0,0,n.a,n.n];
for(var m=0;m<_.length;m++){var y=D.aR.$P(_,m);if(l){y[0]=Math.round(y[0]*t);y[1]=Math.round(y[1]*h);
y[2]=Math.round(y[2]*t);y[3]=Math.round(y[3]*h)}else{D.aR.g4(y,x);D.aR.a8q(y,V)}if(y[0]>=y[2]||y[1]>=y[3]){_.splice(m,1);
m--;continue}D.aR.ox(_,m,y)}};D.aR.am=function(_,n){var O=_.Ks;for(var m=0;m<_.qo.length;m++){var l=D.aR.$P(O,_.qo[m]);
D.aR.g4(l,n);D.aR.ox(O,_.qo[m],l)}};D.aR.a8q=function(_,n){if(_[0]<n[0])_[0]=n[0];if(_[1]<n[1])_[1]=n[1];
if(n[2]<_[2])_[2]=n[2];if(n[3]<_[3])_[3]=n[3]};D.aR.g4=function(_,n){_[0]=Math.round(_[0]+n.x);_[2]=Math.round(_[2]+n.x);
_[1]=Math.round(_[1]+n.y);_[3]=Math.round(_[3]+n.y)};D.aR.ox=function(_,m,n){var O=_[m].v.bounds.v;O.Left.v=n[0];
O.Top.v=n[1];O.Rght.v=n[2];O.Btom.v=n[3]};D.aR.$P=function(_,m){var n=_[m].v.bounds.v;return[n.Left.v,n.Top.v,n.Rght.v,n.Btom.v,m]};
D.aR.ar3=function(_){if(_[2]<_[0]){var n=_[0];_[0]=_[2];_[2]=n}if(_[2]==_[0])_[2]++;if(_[3]<_[1]){var n=_[1];
_[1]=_[3];_[3]=n}if(_[3]==_[1])_[3]++};D.aR.Vx=function(_,n){var O=1e9,l=-1e9,x=1e9,t=-1e9;for(var m=0;
m<n.length;m++){var h=D.aR.$P(_,n[m]);O=Math.min(O,h[0]);x=Math.min(x,h[1]);l=Math.max(l,h[2]);t=Math.max(t,h[3])}return[O,x,l,t]};
D.aR.rP=function(){return{t:"Objc",v:{classID:"slice",sliceID:{t:"long",v:0},groupID:{t:"long",v:0},origin:{t:"enum",v:{ESliceOrigin:"userGenerated"}},Type:{t:"enum",v:{ESliceType:"Img"}},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},url:{t:"TEXT",v:""},null:{t:"TEXT",v:""},Msge:{t:"TEXT",v:""},altTag:{t:"TEXT",v:""},cellTextIsHTML:{t:"bool",v:!0},cellText:{t:"TEXT",v:""},horzAlign:{t:"enum",v:{ESliceHorzAlign:"default"}},vertAlign:{t:"enum",v:{ESliceVertAlign:"default"}},bgColorType:{t:"enum",v:{ESliceBGColorType:"None"}},topOutset:{t:"long",v:0},leftOutset:{t:"long",v:0},bottomOutset:{t:"long",v:0},rightOutset:{t:"long",v:0}}}};
D.KW=function(){D.aR.call(this,[10,41],D.OU,"tools/sselect");this.LO=null;this.v1=null;this.Wa=null;
this.wv=null;this._Y=!1};D.KW.prototype=new D.aR;D.KW.prototype.Ta=function(_,n,O,l,x){if(_==null)return;
var t=_.u.vk(x.x,x.y),h=D.KW.a4o(t,4/_.u.K,_.Ks,_.qo);h.pop();if(h.length!=0){this.LO=t;this.Wa=h;this.Ax(_);
return}var V=_.Ks,y=D.aR.FA(V,t);if(y==-1)_.qo=[];else{var r=_.qo.indexOf(y);if(l.l(bJ.fc)){if(r==-1)_.qo.push(y);
else _.qo.splice(r,1)}else{_.qo.sort(function(b,T){return b-T});if(r==-1)_.qo=[y];this.LO=t;this.Ax(_);
this.v1=D.aR.Vx(V,_.qo);this.wv=[];for(var m=0;m<_.qo.length;m++)this.wv.push(D.aR.$P(V,_.qo[m]));if(l.l(bJ.Yk)){var E=V.slice(0),a=_.qo,S=[];
for(var m=0;m<a.length;m++){var y=a[m],e=E[y],P=V.indexOf(e);S.push(P);V.splice(P,0,JSON.parse(JSON.stringify(e)))}_.qo=S}}}_.Hc=!0};
D.KW.prototype.Xg=function(_,n,O,l,x){var t=_.u.vk(x.x,x.y);if(this.LO==null){var h=D.KW.a4o(t,4/_.u.K,_.Ks,_.qo),V=h.pop(),y=h.length==0?"default":["ew","nwse","ns","nesw"][V]+"-resize",r=new e_(H.E.L,!0);
r.data={d:H.t.JK,vG:y};n.$(r);return}if(!this._Y&&t.yO(this.LO))return;this._Y=!0;var E=_.Ks,h=this.Wa;
if(h){t=D.dV.up(_,t,O,[!0,null,!1]);var a=Math.round(t.x),S=Math.round(t.y);for(var m=0;m<h.length;m+=2){var e=D.aR.$P(E,h[m]),P=h[m+1];
e[P]=(P&1)==0?a:S;D.aR.ar3(e);D.aR.ox(E,h[m],e)}}else{var b=t.OA(this.LO),T=this.v1.slice(0);D.aR.g4(T,b);
var C=new a8(T[0],T[1],T[2]-T[0],T[3]-T[1]),Z=D.dV.D8(_,C,O,[!0,null,!1],!0);D.dV.$Q(_,C,Z);b.x+=Z[0];
b.y+=Z[1];for(var m=0;m<_.qo.length;m++)D.aR.ox(E,_.qo[m],this.wv[m]);D.aR.am(_,b)}_.Hc=!0};D.KW.prototype.PF=function(_,n,O,l,x){if(this.LO==null)return;
this.hz(_);_.I.LV=null;_.Hc=!0;this.LO=null;this.Wa=null;this.wv=null;this._Y=!1};D.KW.a4o=function(_,n,O,l){var x=_.x,t=_.y,h=[],V=-1,y=[];
for(var m=0;m<l.length;m++){var r=l[m],E=D.aR.$P(O,r),a=E[0],S=E[1],e=E[2],P=E[3];if(x<a-n||e+n<x||t<S-n||P+n<t)continue;
var b=[x<a+n,t<S+n,e-n<x,P-n<t],T=-1;for(var C=0;C<4;C++){if(b[C]&&b[C+1&3])T=1+2*(C&1);if(b[C])h.push(r,C)}if(T==-1){if(b[0]||b[2])T=0;
if(b[1]||b[3])T=2}if(T!=-1){V=T;y.push(r)}}var Z=h.length;for(var m=0;m<Z;m+=2){var r=h[m],W=h[m+1],s=D.aR.$P(O,r)[W];
for(var C=0;C<l.length;C++){var f=l[C];if(y.indexOf(f)!=-1)continue;var E=D.aR.$P(O,f);if(E[W&1]==s)h.push(f,W&1);
if(E[2+(W&1)]==s)h.push(f,2+(W&1))}}h.push(V);return h};D.q6=function(){D.iM.call(this,[10,44],D.ag6,"tools/oselect");
this.po="crosshair";this.auc=0};D.q6.prototype=new D.iM;D.q6.prototype.km=function(_,n,O,l){if(Math.random()<1/(1+this.auc)){alert("The cross should be fully inside the object.",3500);
this.auc++}};D.q6.prototype.w$=function(_,n,O,l){D.Om.vo(_,D.iM.$U,this.Ve);if(!l.Ju||!this.eW)return;
var x=this.kf(_,O,!1),t=x.a,h=x.n,V=x.x,y=x.y,r=x.x+t,E=x.y+h,a=V+t/2,S=y+h/2,e=D.q6.aaa;_.I.qb={C:[V,y,r,y,r,E,V,E,a-t*e,S,a+t*e,S,a,S-h*e,a,S+h*e],F:"M L L L Z M L M L".split(" ")};
_.Hc=!0};D.q6.aaa=.12;D.q6.prototype.sL=function(_,n,O,l){_.I.qb=null;_.Hc=!0;this.finish(_,n,O,l)};
D.q6.prototype.getSelection=function(_,n,O,l){if(this.$e.yO(this.HL)||!this.eW)return null;var x=this.kf(_,O,!1),t=_.B[_.g[0]];
if(x.wk()||!x.JS(t.rect))return null;return D.iM.jI("ObSl",x)};D.Om=function(){D.Os.call(this,[10,37],D.DQ,"tools/qselect");
this.QS="qselect"};D.Om.prototype=new D.Os;D.Om.prototype.Ta=function(_,n,O,l,x){D.Om.vo(_,D.iM.$U,n,!0);
this.cW(_,O,l,x,1);if(this.Qj==null)return;this.o8(_)};D.Om.prototype.Xg=function(_,n,O,l,x){this.wS(_,n,O);
D.Om.vo(_,D.iM.$U,n);if(this.gb)this.ao(_,O,x);if(this.Qj==null)return;if(!x.Ju)return;var t=this.WU(_,O,l,x);
if(t!=1)this.o8(_)};D.Om.vo=function(_,n,O,l){if(_&&n.key!=D.Om.Qu(_)){n.key=D.Om.Qu(_);var x=_.B[_.g[0]].rect.O(),h="Image Analysis ...";
if(x==0)return;var t=x>1e6&&l!=!0,V=new e_(H.E.L,!0);V.data={d:H.t.Oc,kY:h};if(t)O.$(V);var y=function(){var r=D.Om.a5D(_);
for(var E in r)n[E]=r[E];var V=new e_(H.E.L,!0);V.data={d:H.t.T3,kY:h};if(t)O.$(V)};if(l)y();else setTimeout(y,30)}};
D.Om.Qu=function(_){var n=_.g[0],O=_.B[n],l=O.rect,x=l.a,t=l.n,h=x*t,V=O.buffer;return[n,l.x,l.y,x,t,V[0],V[1],V[2],V[3]].join(",")};
D.Om.a5D=function(_){var n=_.g[0],O=_.B[n],l=O.rect,x=l.a,t=l.n,h=x*t,V=O.buffer,y=Date.now(),r=Q.Q(h);
r.fill(128);var E=Q.j8.Ln(V,x,t);console.log(Date.now()-y);var a={key:D.Om.Qu(_),Z7:V,rect:l.clone(),Qc:x,bE:t,Ms:12,a6m:!1,X9:r,hW:E,P:Q.Q(h),IR:null,ih:null,Ci:null};
D.Om.ZQ(a);return a};D.Om.ZQ=function(_,n){var O=_.Qc,l=_.bE,x=0,t=0,h=Date.now(),V=_.IR!=null&&Q.j8.ayK(_.hW.ye,_.IR.ye,_.IR.Ai,_.X9);
x=Date.now()-h;h=Date.now();if(!V&&!_.a6m){_.IR=Q.j8.eD(_.hW,O,l,_.X9,_.Ms);if(!Q.j8.ayK(_.hW.ye,_.IR.ye,_.IR.Ai,_.X9)){_.a6m=!0;
console.log("conflict")}_.ih=Q.j8.ayp(_.Z7,O,l,_.IR.ye,_.IR.Ai);_.Ci=[_.ih[0].slice(0),[]];t=Date.now()-h;
h=Date.now()}var h=Date.now();if(n){_.Ci[0].set(_.ih[0]);var y=_.ih[1],r=_.Ci[1];for(var E=0;E<y.length;
E++)r[E]=y[E].slice(0);Q.j8.a2o(_.IR.ye,O,l,_.IR.Ai,_.X9,_.P,_.Ci)}};D.LE=function(){D.zi.call(this,[10,50],D.KV,"tools/artb");
this.wX=null;this.ys=!1;this.$b=null;this.W9=!1;this.afv=null;this.$H=100;this.$z=null;this.jF=0};D.LE.prototype=new D.zi;
D.LE.prototype.cZ=function(_,n,O,l,x){this.Qk(O,_.a1a,n,_.or)};D.LE.a29=function(_,n){var O=_[0],l=0,x=0;
if(O==0)x=-1;else if(O==1)l=1;else if(O==2)x=1;else l=-1;return[20/n.XC,_[1]+l*60/n.XC,_[2]+x*60/n.XC]};
D.LE.prototype.OZ=function(_,n,O,l,x){this.wX=_.nZ;this.jF=Date.now()};D.LE.prototype.$s=function(_,n,O,l){if(O.kp!=this.id)return;
if(_==null||_.g.length!=1){this.ic(_);return}var x=_.g[0],t=_.B[x],h=t.add.artb;if(h==null){this.ic(_);
return}if(this.W9)return;if(Date.now()-this.jF>50){this.wX={};var V=["artboardBackgroundType","Clr"];
for(var m=0;m<V.length;m++)if(h[V[m]])this.wX[V[m]]=JSON.parse(JSON.stringify(h[V[m]]));var y=new e_(H.E.L,!0);
y.data={d:H.t.F0,G:this.id,l5:this.wX};n.$(y)}var r=t.DM(),E=Q.p.ta(r).C,a=this.$b=new k6(E,!0,!1,!1,!0,!1,3,!1);
a.aZ(_,O,!1);var S={C:[1,0],F:["M"]};for(var m=1;m<30;m++){var e=Math.PI*2*m/30;S.C.push(Math.cos(e),Math.sin(e));
S.F.push("L")}S.F.push("Z","M","L","M","L");S.C.push(-.5,0,.5,0,0,-.5,0,.5);var P=r.x+r.a/2,b=r.y+r.n/2,T=this.$H*1.1,C=this.afv=[P,r.y,r.x+r.a,b,P,r.y+r.n,r.x,b],Z=[0,-T,T,0,0,T,-T,0],s=_.root.children;
_.I.W4=[];for(var m=0;m<4;m++){var f=new aW(C[m*2]+Z[m*2],C[m*2+1]+Z[m*2+1]),q=!1;for(var g=0;g<s.length;
g++){var t=s[g].j;if(t.add.artb==null)continue;var r=t.DM();if(r.b5(f))q=!0}if(q){C[m*2]=1e9;continue}_.I.W4.push([m,C[m*2],C[m*2+1]])}};
D.LE.prototype.disable=function(_,n,O,l,x){this.ic(_)};D.LE.prototype.ic=function(_){if(this.$b){this.$b.clear(_);
this.$b=null;_.I.W4=null}};D.LE.prototype.Ta=function(_,n,O,l,x){this.jF=Date.now();var t=_.u.vk(x.x,x.y),h=this.$b;
if(h){var V=new e_(H.E.s),y=h.a2X(null,t,_,x);if(y<9){this.W9=h.Ta(_,O,l,t,null,!0,x);return}else if(h.mT(t)){V.G=D.cb;
V.data={d:"disabAuto"};n.$(V);var r=new e_(H.E.L);r.data={d:H.t.dw,G:D.cb,a9l:!0};n.$(r);return}else{var E=-1,a=_.I.W4;
for(var m=0;m<a.length;m++){var S=D.LE.a29(a[m],_.u);if(aW.nT(t,new aW(S[1],S[2]))<S[0])E=a[m][0]}if(E!=-1){var e=_.B[_.g[0]].DM(),P=e.clone(),b=(E==0||E==2?e.n:e.a)+this.$H;
if(E==0||E==3)b=-b;if(E==0||E==2)e.y+=b;else e.x+=b;if(l.l(bJ.Yk)){var T=new a8(0,0,_.a,_.n);V.G=D.Ko;
V.data={d:v.Sq};n.$(V);D.dV.nJ(_,_.wy(null,_.g[0],null,!0),null,e.x-P.x,e.y-P.y);_.g=_.g.slice(_.g.length-1);
var C=D.e_.C3(_);if(C){var Z=_.bU();Z.data.vf=T;Z.data.ka=C;Z.data.lU=_.g}}else this.Qk(_,e,n);return}}}this.$z=D.dV.up(_,t,O)};
D.LE.prototype.Qk=function(_,n,O,l){if(l==null)l=0;var x=_.B.slice(0),t=[_.B.length+1],h=_.Ni();h.iA(hU.get([1,16,0])+" "+(_.add.artd==null?1:_.root.children.length+1));
h.add.lsct=bN.GV;h.C_(n);if(this.wX){var V=h.add.artb,y=this.wX;for(var r in y)V[r]=y[r]}h.to="pass";
h.FQ=24;if(l==0){if(_.add.artd||n.v6(new a8(0,0,_.a,_.n)).wk())x.push(_.y9());else x.unshift(_.y9())}else{var E=_.wy();
E.sort(function(b,T){return b-T});var a=D.Z0.nl(_,E,x.length-1,!1,null,!1),S=a.pop(),e=a.pop();x=a.pop();
x.splice(_.B.length-E.length,0,_.y9())}x.push(h);var P=new e_(H.E.s);P.G=D.Ko;P.data={d:v.Ob,Q7:x,Ss:t,hM:[1,16,2]};
O.$(P)};D.LE.prototype.Xg=function(_,n,O,l,x){var t=_.u.vk(x.x,x.y),h=this.$b,V=this.$z;if(h){if(this.W9){h.Xg(_,O,l,t)}else{var y=h.RL(t,_.u.K,null,x);
if(y==null)y="default";var r=new e_(H.E.L,!0);r.data={d:H.t.JK,vG:y};n.$(r)}}if(V){var E=this.$P(_,t,l,O);
_.I.qb=Q.p.ta(E);_.Hc=!0;D.zi.vF(x,E,_,O)}};D.LE.prototype.PF=function(_,n,O,l,x){var t=_.u.vk(x.x,x.y),h=this.$z;
if(this.W9){this.$b.PF(_,O,l,t);this.W9=!1;var V=Q.p.f0(this.$b.vh()),y=v.XY(V),r=_.B[_.g[0]],E=JSON.parse(JSON.stringify(r.add.artb));
E.artboardRect.v=y;var a=new e_(H.E.s,!0);a.G=D.Ko;a.data={d:v.XG,Y4:E};n.$(a)}if(h){var S=this.$P(_,t,l,O);
if(S.O()>20)this.Qk(_,S,n);_.I.qb=null;_.Hc=!0;this.$z=null;_.I.Wn=[]}};D.LE.prototype.$P=function(_,n,O,l){var x=this.$z,t=D.dV.up(_,n,l),h=D.fx.Yh(x,t,O,!0);
x=h[0];t=h[1];return Q.p.f0([x.x,x.y,t.x,t.y])};function k6(_,n,O,l,x,t,h,V){this.V_=null;this.wP=_?_.slice(0):null;
this.Rx=4;this.HL=null;this.AU=null;this.ZV=null;this.Hh=-1;this.fh=null;this.a8W=!1;this.age=[];for(var m=0;
m<8;m++)this.age.push(dx.aib(0,PIMG.rotate,-.5,-.5,-45-m*45));this.a5h=n;this.aht=O;this.a0k=l;this.a2a=x;
this.ce=t;this.or=h;this.asF=V==null?1:V}k6.prototype.a0G=function(){return this.Hh!=-1};k6.prototype.vh=function(){return this.wP.slice(0)};
k6.prototype.R_=function(_){this.wP=_};k6.prototype.a05=function(){return this.iN(this.wP)};k6.prototype.apg=function(){return this.Rx};
k6.prototype.afO=function(_){this.Rx=_};k6.prototype.LP=function(_){if(_==null)_=this.wP;if(this.Rx==9)return this.HL;
else return this.iN(_)[this.Rx]};k6.prototype.agN=function(_){if(this.Rx==9)this.HL=_.clone();else{var n=this.LP(),O=new aY(1,0,0,1,_.x-n.x,_.y-n.y);
Q.p.D(this.wP,O,this.wP)}};k6.prototype.RL=function(_,n,O,l){var x=this.yC(null,_,n,l),t;if(x==9)return"default";
if(x==10){if(O)return null;return!this.a5h?"move":null}if(x==-1||x==4)return null;if(x==11){var h=this.LP().OA(_);
t=90-Math.atan2(h.y,h.x)*180/Math.PI;var V=Math.round(8*(t/360));V=(V+8)%8;return this.age[V]}else{var y=this.r9(_,this.wP);
t=[135,90,45,180,0,0,225,270,315][x];var r=Q.r.pI(this.wP);t+=Math.atan2(-r[3],r[0])*180/Math.PI;var E="ew nesw ns nwse ew nesw ns nwse".split(" "),V=Math.round(8*(t/360));
V=(V+8)%8;return E[V]+"-resize"}};k6.prototype.r9=function(_,n){var O=Q.r.sJ(Q.r.pI(n)),l=new Float64Array(2);
Q.r.hZ(_.x,_.y,O,l);return new aW(l[0],l[1])};k6.prototype.mT=function(_){var n=this.r9(_,this.wP);return 0<=n.x&&n.x<=1&&0<=n.y&&n.y<=1};
k6.prototype.Ta=function(_,n,O,l,x,t,h,V){this.a8W=t;this.fh=l;var y=_.u.K,r;if(this.wP==null)l=D.dV.up(_,l,n);
this.ZV=l.clone();if(this.wP==null){if(V==null)V=0;var E=new aY;E.rotate(V);var a=E.uz(new aW(1,1));
this.ZV.offset(a.x,a.y);var S=x==null?1:1/x,e=this.wP=[0,0,1,0,1,S,0,S];E.translate(l.x,l.y);Q.p.D(this.wP,E,this.wP);
r=8}else{r=this.yC(O,l,y,h);if(0<=r&&r<=8)this.ZV=this.iN(this.wP)[r];if(r==9){this.Rx=9;this.HL=l.clone()}}this.V_=this.wP.slice(0);
this.Hh=r;this.aZ(_,n);this.AU=this.LP();return r!=-1};k6.prototype.a2X=function(_,n,O,l){return this.yC(_,n,O.u.K,l)};
k6.prototype.yC=function(_,n,O,l){var x=-1,t=this.iN(),h=[0,2,6,8,1,3,5,7],V=l?D.nd({u:{K:O}},l):8*D.V()/O,y=aW.nT(t[0],t[2]),r=aW.nT(t[0],t[6]),E=this.r9(n,this.wP);
E.x*=y;E.y*=r;var a=new a8(0,0,y,r);a.nQ(V,V);if(x==-1)if(aW.nT(this.LP(),n)<V)x=9;if(x==-1)for(var m=0;
m<h.length;m++)if(aW.nT(t[h[m]],n)<V)x=h[m];if(x==-1&&a.b5(E)){if(Math.abs(E.y-0)<V)x=1;if(Math.abs(E.x-0)<V)x=3;
if(Math.abs(E.y-r)<V)x=7;if(Math.abs(E.x-y)<V)x=5}if(x==-1&&_&&_.l(bJ.Yk))x=9;if(x==-1||this.or==4){if(this.mT(n)){if(this.a5h)x=10}else{a.nQ(3*V,3*V);
x=a.b5(E)&&this.or!=3?11:10}}return x};k6.prototype.Xg=function(_,n,O,l,x){if(this.Hh==-1)return;this.fh=l;
var t=O.l(bJ.fc),h=O.l(bJ.Yk),V=O.l(bJ.mV),y=_.u.K,r=this.ZV,E=this.Hh,a=this.iN(),S=D.dV.up(_,r,n),e=D.dV.up(_,l,n),P,b;
if(E==9){var a=this.iN(),T=-1;for(var m=0;m<a.length;m++)if(aW.nT(a[m],e)*y<10)T=m;this.Rx=T==-1?9:T;
this.HL=t?D.de.Wr(S,e):e.clone()}else if(E==10){b=Q.p.Vx(this.V_);var C=b.x,Z=b.y;b.offset(l.x-r.x,l.y-r.y);
if(this.ax1()){b.x=Math.round(b.x);b.y=Math.round(b.y)}P=D.dV.D8(_,b,n);var W=new aY(1,0,0,1,b.x-C+P[0],b.y-Z+P[1]);
Q.p.D(this.V_,W,this.wP)}else if(E==11){var s=this.LP(this.V_),f=s.OA(l),q=s.OA(r),g=Math.atan2(f.y,f.x),i=Math.atan2(q.y,q.x),W=new aY(1,0,0,1,-s.x,-s.y),u=Math.PI/12;
if(t)W.rotate(Math.round((i-g)/u)*u);else W.rotate(i-g);W.translate(s.x,s.y);Q.p.D(this.V_,W,this.wP)}else{if(x&&!V)t=!t;
var I,Y=this.V_,U=E==0||E==2||E==6||E==8;if(this.or==1){if(U)t=h=V=!0}else if(this.or==2&&U&&this.a8W!=!0)V=!0;
if(this.or==3)V=!1;if(this.a0k&&U&&V){var m=[0,0,2,0,0,0,6,0,4,0][E],F=-1,N=e.x,o=e.y;if(t){var X=m+6&7,J=m+10&7,c=k6.avi(Y[m],Y[m+1],Y[X],Y[X+1],e.x,e.y),p=k6.avi(Y[m],Y[m+1],Y[J],Y[J+1],e.x,e.y),d=c[2]<p[2]?c:p;
N=d[0];o=d[1];if(h)F=c[2]<p[2]?X:J}else if(h)F=m+4&7;I=Y.slice(0);if(F!=-1){var k=Y[F],A=Y[F+1],$=(Y[m]+k)/2,K=(Y[m+1]+A)/2;
I[F]=$-(N-$);I[F+1]=K-(o-K)}I[m]=N;I[m+1]=o}else if(U&&h){var s=this.AU,G=s.x,z=s.y,M=S.x-G,hl=S.y-z,j=1,w=1;
if(Math.abs(M)>=1)j=(e.x-G)/M;if(Math.abs(hl)>=1)w=(e.y-z)/hl;if(t||this.ce)j=w=(j+w)/2;var W=new aY;
W.translate(-G,-z);W.scale(j,w);W.translate(G,z);I=Y.slice(0);Q.p.D(I,W,I)}else{if(this.ax1()){e.x=Math.round(e.x);
e.y=Math.round(e.y)}var B=[0,1,2,5,8,7,6,3],bB=B[(B.indexOf(E)+4)%8],bG=[];for(var m=0;m<3;m++)for(var F=0;
F<3;F++)bG.push(new aW(F/2,m/2));var s=this.AU,eb=this.r9(e,Y),fe=this.r9(r,Y),gB=h&&(this.Rx==4||this.Rx==9)?this.r9(s,Y):bG[bB],hp=new aY,g6=new aY,j=(eb.x-gB.x)/(fe.x-gB.x);
if(j==0)j=1e-4;var w=(eb.y-gB.y)/(fe.y-gB.y);if(w==0)w=1e-4;if(this.a2a){j=Math.max(j,0);w=Math.max(w,0)}if(E==0||E==2||E==6||E==8){if(t||this.ce)hp.scale(j,j);
else hp.scale(j,w)}if(E==1||E==3||E==5||E==7){var by=this.ce||t,e7=V&&t;if(E==1||E==7)hp.scale(by?w:1,e7?1:w);
else hp.scale(e7?1:j,by?j:1);if(this.aht&&V){if(E==1||E==7)g6.av=(eb.x-gB.x)/(eb.y-gB.y);else g6.k=(eb.y-gB.y)/(eb.x-gB.x)}}var W=new aY;
W.translate(-gB.x,-gB.y);W.concat(hp);W.concat(g6);W.translate(gB.x,gB.y);I=[0,0,1,0,1,1,0,1];Q.p.D(I,W,I);
var d=Q.r.pI(Y);Q.r.D(d,I)}if(k6.Oj(I))this.wP=I}this.aZ(_,n);if(P)D.dV.$Q(_,b,P)};k6.avi=function(_,n,O,l,x,t){var h=O-_,V=l-n,y=x-_,r=t-n,E=h*h+V*V,a=y*h+r*V,S=a/E,e=_+S*h,P=n+S*V,b=x-e,T=t-P;
return[e,P,Math.sqrt(b*b+T*T)]};k6.prototype.ax1=function(){var _=this.wP;return Math.abs(_[1]-_[3])<1e-6&&Math.abs(_[2]-_[4])<1e-6||Math.abs(_[0]-_[2])<1e-6&&Math.abs(_[3]-_[5])<1e-6};
k6.Oj=function(_){return Q.p.Ik(_)||Q.p.Ik([_[6],_[7],_[4],_[5],_[2],_[3],_[0],_[1]])};k6.prototype.PF=function(_,n,O,l){this.Hh=-1;
this.fh=null;_.I.LV=null;_.I.Wn=[];_.Hc=!0};k6.prototype.op=function(_,n,O){var l=O.yi();if(l.x||l.y){var x=new aY(1,0,0,1,l.x,l.y);
Q.p.D(this.wP,x,this.wP);this.aZ(_,n);return!0}return!1};k6.prototype.iN=function(_){if(_==null)_=this.wP;
var n=_[6]-_[0],O=_[7]-_[1],l=_[4]-_[2],x=_[5]-_[3],t=[_[0],_[1],_[2],_[3],_[0]+n/2,_[1]+O/2,_[2]+l/2,_[3]+x/2,_[6],_[7],_[4],_[5]],h=[];
for(var m=0;m<3;m++){var V=m*4,y=t[V+0],r=t[V+1],E=t[V+2],a=t[V+3];h.push(new aW(y,r));h.push(new aW(y+(E-y)/2,r+(a-r)/2));
h.push(new aW(E,a))}return h};k6.prototype.aZ=function(_,n,O){if(O==null)O=!1;var l=this.iN(),x=l[0],t=l[2],h=l[6],V=l[8];
_.I.qb={F:[],C:[]};_.I.qb.F.push("M","L","L","L","Z");_.I.qb.C.push(x.x,x.y,t.x,t.y,V.x,V.y,h.x,h.y);
var y=this.asF;if(y>1){_.I.jn=JSON.parse(JSON.stringify(_.I.qb));var r=t.OA(x),E=h.OA(x),a=V.OA(t),S=V.OA(h);
for(var m=1;m<y;m++){_.I.qb.F.push("M","L","M","L");var e=m/y;_.I.qb.C.push(x.x+r.x*e,x.y+r.y*e,h.x+S.x*e,h.y+S.y*e);
_.I.qb.C.push(x.x+E.x*e,x.y+E.y*e,t.x+a.x*e,t.y+a.y*e)}}_.u.t9=new a8(0,0,aW.nT(l[0],l[2]),aW.nT(l[0],l[6]));
if(this.Hh!=-1&&this.Hh<9&&this.fh){var P=_.u.KS(this.fh.x,this.fh.y);D.zi.vF(P,_.u.t9,_,n)}if(!O){_.I._x=[];
for(var m=0;m<l.length;m++)if(m!=4)_.I._x.push(l[m].x,l[m].y);var b=this.LP();_.I._x.push(b.x,b.y)}_.Hc=!0};
k6.prototype.clear=function(_){_.u.t9=null;_.I.LV=null;_.I.qb=null;_.I.jn=null;_.I._x=[];_.Hc=!0};function kc(_,n){this.Q6=null;
this.Hh=-1;this.a6X(_)}kc.prototype.y4=function(){return JSON.parse(JSON.stringify(this.Q6))};kc.prototype.a6X=function(_){this.Q6=JSON.parse(JSON.stringify(_))};
kc.prototype.mT=function(_){return!0};kc.prototype.RL=function(_,n,O,l){var x=this.yC(_,n,l);if(x==-1)return"default";
return"pointer"};kc.prototype.Ta=function(_,n,O,l,x,t,h){this.Hh=this.yC(l,_.u.K,h);return this.Hh!=-1};
kc.prototype.yC=function(_,n,O){var l=this.av6(),x=-1,t=1e6;for(var m=0;m<l.length;m++){var h=aW.nT(l[m],_);
if(h<t){x=m;t=h}}return t<(O?D.nd({u:{K:n}},O)*2:20*D.V()/n)?x:-1};kc.prototype.Xg=function(_,n,O,l){if(this.Hh==-1)return;
var x=_.u.K,t=this.Hh,h=Q.Q6.zE(this.Q6);h[t*2]=l.x;h[t*2+1]=l.y;Q.Q6.nC(h,this.Q6)};kc.prototype.PF=function(_,n,O,l){this.Hh=-1;
_.Hc=!0};kc.prototype.op=function(_,n,O){var l=O.yi();if(l.x||l.y){var x=new aY(1,0,0,1,l.x,l.y);Q.p.D(this.wP,x,this.wP);
this.aZ(_)}};kc.prototype.av6=function(_){var n=Q.Q6.zE(this.Q6),O=[];for(var m=0;m<n.length;m+=2)O.push(new aW(n[m],n[m+1]));
return O};kc.prototype.aZ=function(_){var n=this.av6();_.I.qb={F:[],C:[]};_.I.qb.F.push("M","C","C","C","C");
var O=[0,1,2,3,7,11,15,14,13,12,8,4,0];for(var m=0;m<O.length;m++)_.I.qb.C.push(n[O[m]].x,n[O[m]].y);
_.I.qb.F.push("M","L","L","M","L","L","M","L","L","M","L","L");O=[4,0,1,2,3,7,11,15,14,13,12,8];for(var m=0;
m<O.length;m++)_.I.qb.C.push(n[O[m]].x,n[O[m]].y);_.I._x=[];for(var m=0;m<n.length;m++)_.I._x.push(n[m].x,n[m].y);
_.Hc=!0};kc.prototype.clear=function(_){_.I.qb=null;_.I._x=[];_.Hc=!0};function cA(){this.I7=!1;this.UA=!1;
this.aa9=!1;this.asE=!1;this.b0=!1;this.$K=!1;this.uU=0;this.AW=0}cA.prototype.Ta=function(_){this.I7=!0;
this.UA=!1;this.b0=_.l(bJ.fc);this.$K=_.l(bJ.Yk);this.uU=this.b0?0:1;this.AW=this.$K?0:1};cA.prototype.op=function(_){var n=this.asE=_.l(bJ.fc),O=this.aa9=_.l(bJ.Yk);
if(this.UA){if(this.uU==0&&!n)this.uU++;if(this.uU==1&&n)this.uU++;if(this.AW==0&&!O)this.AW++;if(this.AW==1&&O)this.AW++}};
cA.prototype.Xg=function(){this.UA=!0};cA.prototype.PF=function(){this.I7=!1};cA.prototype.ON=function(m){if(m==0)return this.I7?this.$K:this.aa9;
if(m==1)return this.UA?this.AW==2:!1};cA.prototype.LF=function(m){if(m==0)return this.I7?this.b0:this.asE;
if(m==1)return this.UA?this.uU==2:!1};D.History=function(){D.zi.call(this,"History",D.kF);this.Pl=!0;
this.awJ=0};D.History.prototype=new D.zi;D.History.prototype.cZ=function(_,n,O,l){O.i1=!0;if(_.d=="h_itemchange"){if(_.index<O.Uh)for(var m=O.Uh;
m>_.index;m--)this.Tb(O);if(_.index>O.Uh)for(var m=O.Uh;m<_.index;m++)this.XU(O)}if(_.d=="h_stepfwd")this.XU(O);
if(_.d=="h_stepbck")this.Tb(O);if(_.d=="h_undoredo"){var x=this.Pl||this.awJ!=O.Uh;if(x){this.Tb(O);
x=!1}else{this.XU(O);x=!0}this.Pl=x;this.awJ=O.Uh}if(_.d=="h_clear"){if(!window.confirm("Do you really want to clear all states in History? You won't be able to undo it."))return;
O.history=[new gO([1,0],null)];O.Uh=0}else this.Pl=!0};D.History.prototype.Tb=function(_){if(_.Uh==0)return;
var n=_.history[_.Uh];n.G.Qb(n.data,_);_.Uh--};D.History.prototype.XU=function(_){if(_.Uh==_.history.length-1)return;
var n=_.history[_.Uh+1];n.G.Pg(n.data,_);_.Uh++};D.Z0=function(){D.zi.call(this,"Layers",D.Ko);this.Ve=null};
D.Z0.prototype=new D.zi;D.Z0.prototype.cZ=function(_,n,O,l,x){this.Ve=n;var t=_.d,h=_.j!=null?_.j:O.g.length!=0?O.g[0]:O.B.length-1,V=O.B[h];
O.XS=!0;var y=l.l(bJ.Yk),r=l.l(bJ.fc),E=l.l(bJ.mV);if(t==v.gA&&O.P==null&&(O.g.length>1||!O.eE(!1)))t=v.Sq;
if(t==v.N$){var a=new gO([6,33],this),S=V.kx()?["pass"].concat(b3.qX):b3.qX,e=S[_.t2],P=_.j!=null?[_.j]:O.g,b=JSON.stringify(P),T=[];
for(var m=0;m<P.length;m++)T.push(O.B[P[m]].to);a.data={d:t,sT:b,Gs:T,t2:e};O.dc(a);this.Pg(a.data,O);
this.track(g3.d6("Md",{t:"enum",v:{BlnM:b3.Aa(e)}}))}if(t==v.jU){var a,C=O.bU(),P=_.j!=null?[_.j]:O.g,b=JSON.stringify(P);
if(C&&C.data&&C.data.d==t&&C.data.sT==b)a=C;else{var Z=g3.d6("Opct",{t:"UntF",v:{type:"#Prc",val:0}});
this.track(Z);var T=[];for(var m=0;m<P.length;m++)T.push(O.B[P[m]].opacity);a=new gO([6,32],this);a.data={d:t,sT:b,Gs:T,t2:_.t2,Mf:Z.ot};
O.dc(a)}a.data.t2=_.t2;a.data.Mf.T.v.Opct.v.val=Math.round(_.t2*100/255);this.Pg(a.data,O)}if(t==v.hn){if(V.add.iOpa==null)V.add.iOpa=255;
var a,C=O.bU();if(C&&C.data&&C.data.d==t&&C.data.j==h)a=C;else{a=new gO("Fill Opacity Change",this);
a.data={d:t,j:h,Gs:V.add.iOpa,t2:_.t2};O.dc(a)}a.data.t2=_.t2;this.Pg(a.data,O)}if(t==v.zX){var W=_.t2,s=_.j!=null?[_.j]:O.g.slice(0),f=[],q=[],a;
for(var g=0;g<s.length;g++){var i=O.B[s[g]];if(i.add.lspf==null)i.add.lspf=0;var T=i.add.lspf,e=T;for(var m=0;
m<W[0].length;m++){var u=W[1][m],I=1<<u;if((e&I)==0&&W[0][m])e^=I;else if((e&I)!=0&&!W[0][m])e^=I}f.push(T);
q.push(e)}var C=O.bU(),P=JSON.stringify(s);if(C&&C.data&&C.data.d==t&&JSON.stringify(C.data.sT)==P){a=C;
a.data.t2=q}else{var a=new gO([6,57,1],this);a.data={d:t,sT:P,Gs:f,t2:q};O.dc(a)}this.Pg(a.data,O)}if(t==v.zT){var Y="----",U=_.GG,e=null;
for(var m=0;m<ak.zI.Ix.length;m++)if(V.add[ak.zI.Ix[m]])Y=ak.zI.Ix[m];var F=V.add[Y];if(U=="TySh")e=b$.Jw(50,50,x.Kw);
var a=new gO("Layer Type",this);a.data={d:t,j:h,adk:[Y,F],GG:[U,e]};O.dc(a);this.Pg(a.data,O)}if(t==v.VW){var s=[];
if(y){var N=O.bU(),o=N?N.data:null;if(N!=null&&N.G==this&&o.d==v.VW&&o.sT.length!=1){var X=new e_(H.E.s);
X.G=D.kF;X.data={d:"h_stepbck"};n.$(X);if(o.j==h)return}var J=O.root.yJ(h),c=J,p=[_.j];while(c.parent!=O.root){p.push(c.parent.index);
c=c.parent}for(var m=0;m<O.B.length;m++){var d=O.B[m],c=O.root.yJ(m),k=p.indexOf(m)!=-1?!0:d.Pn()&&J.depth<c.depth;
if(k!=d.Pn())s.push(m)}}else if(_.sT)s=_.sT;else{s.push(h);var A=O.B[h].Pn(),Z={et:A?"hide":"show",ot:{classID:A?"Hd":"Shw",null:{t:"VlLs",v:[g3.g5("Lyr",!0)]}}};
this.track(Z)}var a=new gO("Layer visibility",this,!0);a.data={d:t,sT:s,j:h};O.dc(a);this.Pg(a.data,O)}if(t==v.IB){if(x.kp==D.KV){var $=new e_(H.E.L);
$.data={d:H.t.dw,G:D.cb};n.$($)}var K=_.a7x,G=_._$,hl,escape=!1,j=!1;if(_.SA){if(E&&(G==0||G==1||G==2)){var z=0;
if(r)z++;if(y)z+=2;var M=new e_(H.E.s,!0);M.G=D.vQ;M.data={d:"fromlayer",xV:[_.j,G,z]};n.$(M);return}}var Z={et:"select",ot:{classID:"null",MkVs:{t:"bool",v:!1}}};
O.a54();if(l.l(bJ.mV)||_.Gc==0){var w=O.g.indexOf(h);if(w==-1)O.g.push(h);else if(O.g.length>1){if(_.Gc!=0)O.g.splice(w,1)}O.g.sort(function(a,c5){return a-c5});
Z.ot.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelection"}};hl=h}else if(r&&!y&&G>0){t=G==1?v.TZ:G==2?v.lr:v.WR;
escape=!0}else if((r||_.Gc==1)&&O.g.length>0){var B=Math.min(h,O.g[0]),bB=Math.max(h,O.g[O.g.length-1]);
O.g=[];for(var m=B;m<=bB;m++)if(O.B[m].add.lsct!=bN.eg)O.g.push(m);Z.ot.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelectionContinuous"}};
hl=h}else{hl=h;if(h>=O.B.length)return;var d=O.B[h];if(d&&d.kx()&&_.arV)d.add.lsct=bN.GV;else if(O.g.length==1&&O.g[0]==h&&Math.max(0,G)==d.LN){j=!0;
O.XS=!1}if(!j){O.g=[h];O.$F()}}if(!j){if(hl!=null&&hl<O.B.length){Z.ot.null={t:"obj ",v:[{t:"name",v:{classID:"Lyr",val:O.B[hl].getName()}}]},this.track(Z)}if(!escape){console.log("no escape");
if(O.g.length==1){var bG=O.g[0];for(var m=0;m<O.B.length;m++){if(m==bG)continue;var i=O.B[m];i.LN=0;
i.MZ=!1}var V=O.B[bG];if(G==2){V.MZ=!V.MZ;O.WJ=[]}else if(V){V.LN=G<=0?0:G}}else for(var m=0;m<O.B.length;
m++){var i=O.B[m];i.LN=0;i.MZ=!1}O.tF=null;O.i1=!0}}if(_.SA&&y){if((G==1||G==3)&&K!=null){var M=new e_(H.E.s,!0);
M.G=D.iz;M.data={d:"mskView",h:K!=0?0:r?1:2};n.$(M)}else{this.cZ({d:v.rL,j:_.j},n,O,l,x)}}}if(t==v.TZ||t==v.WR){var eb=t==v.TZ,fe=eb?V.Ek():V.vO(O).z;
if(fe==null)return;var a=new gO(fe.isEnabled?eb?[6,15]:[6,42]:eb?[6,14]:[6,41],this);a.data={d:t,j:h};
O.dc(a);this.Pg(a.data,O)}if(t==v.lr){var fe=V.add.vmsk;if(fe==null)return;var a=new gO(fe.isEnabled?[6,17]:[6,16],this);
a.data={d:t,j:h};O.dc(a);this.Pg(a.data,O)}if(t==v.aip){var gB=V.add.lsct==bN.GV?bN.SE:bN.GV,c=O.root.yJ(O.B.indexOf(V)),by=!1;
console.log(c);if(l.l(bJ.mV)){var hp=c.parent;for(var m=0;m<hp.children.length;m++){var g6=hp.children[m].j;
if(g6.kx())g6.add.lsct=gB}}else V.add.lsct=gB;for(var m=0;m<O.g.length;m++){var e7=O.g[m];if(c.qz<e7&&e7<c.index)by=!0}if(by)O.g=[c.index];
O.i1=!0}if(t==v.rL){if(!O.Uk(h))return;var a=new gO(V._t?[6,19]:[6,18],this);a.data={d:t,j:h};O.dc(a);
if(_.t2==null||_.t2!=V._t)this.Pg(a.data,O)}if(t==v.arp){if(V.wN())V.FQ-=32;else V.FQ+=32;O.i1=!0}if(t==v.Wh||t==v.ri){var a;
if(t==v.Wh)a=new gO(V.add.lmfx.masterFXSwitch.v?[6,30]:[6,29],this);if(t==v.ri)a=new gO(V.add.SoLd.filterFX.v.enab.v?[6,44]:[6,43],this);
a.data={d:t,j:h};O.dc(a);this.Pg(a.data,O)}if(t==v.NX||t==v.aS){var bG=_.index,a;if(t==v.NX)a=new gO(V.add.lmfx[aF.Ck[bG[0]]].v[bG[1]].v.enab.v?[6,30]:[6,29],this);
if(t==v.aS)a=new gO(V.add.SoLd.filterFX.v.filterFXList.v[bG].v.enab.v?[6,44]:[6,43],this);a.data={d:t,j:h,index:_.index};
O.dc(a);this.Pg(a.data,O)}if(t==v.Qo){if(_.src==_.GA)return;var aN=O.B[_.src],jK=O.B[_.GA],f7=aN.add.lmfx?JSON.stringify(aN.add.lmfx):"",hW=jK.add.lmfx?JSON.stringify(jK.add.lmfx):"";
if(jK.add.lmfx==null){jK.add.lmfx=JSON.parse(aF.default);for(var m=0;m<aF.order.length;m++)jK.add.lmfx[aF.Ck[m]]={t:"VlLs",v:[]}}if(_.R2==null){jK.add.lmfx=JSON.parse(f7);
if(!y)delete aN.add.lmfx}else{var km=_.R2[0],ca=aF.Ck[km];if(aF.aih.indexOf(aF.order[km])==-1)jK.add.lmfx[ca].v=[];
jK.add.lmfx[ca].v.push(aN.add.lmfx[ca].v[_.R2[1]]);if(!y)aN.add.lmfx[ca].v.splice(_.R2[1],1)}var aU=aN.add.lmfx?JSON.stringify(aN.add.lmfx):"",eJ=jK.add.lmfx?JSON.stringify(jK.add.lmfx):"";
if(!jK.wN())jK.FQ+=32;var a=new gO("Move Layer Styles",this);a.data={d:t,Cn:_.src,oP:_.GA,atR:f7,a2$:hW,avF:aU,ayb:eJ};
O.dc(a);this.Pg(a.data,O)}if(t==v.Pc){if(_.src!=null)h=_.src;var i=O.B[h],am=JSON.stringify(i.add.SoLd),eA=JSON.parse(am),dj=eA.filterFX.v.filterFXList.v;
dj.splice(_.R2,1);var a=new gO([6,53],this);a.data={d:v.sS,YV:[{GL:h,EE:[am,JSON.stringify(eA)]}]};O.dc(a);
this.Pg(a.data,O)}if(t==v.auy){var cM=y,aN=O.B[_.src],jK=O.B[_.GA],b2=[];if(aN!=jK&&jK.add.SoLd==null){alert("Target layer is not a smart object!");
return}if(aN==jK&&!cM&&_.R2==_._L)return;if(aN==jK&&_.R2==-1)return;var cm=aN.vO(O),am=JSON.stringify(aN.add.SoLd),eA=JSON.parse(am),dj=eA.filterFX.v.filterFXList.v;
if(aN==jK){dj.splice(_._L,0,dj[_.R2]);if(!cM)dj.splice(_.R2+(_.R2<_._L?0:1),1);b2.push({GL:_.src,EE:[am,JSON.stringify(eA)]})}else if(_.R2==-1){var az=eA.filterFX;
if(!cM){delete eA.filterFX;b2.push({GL:_.src,EE:[am,JSON.stringify(eA)],h5:[cm,null]})}var j_=jK.lx()?jK.vO(O):null,hh=fJ.aiG(cm),gs=JSON.stringify(jK.add.SoLd),fI=JSON.parse(gs);
fI.placed.v=hh.id;fI.filterFX=az;b2.push({GL:_.GA,EE:[gs,JSON.stringify(fI)],h5:[j_,hh]})}else{var c0=dj[_.R2];
if(!cM){dj.splice(_.R2,1);b2.push({GL:_.src,EE:[am,JSON.stringify(eA)]})}var gs=JSON.stringify(jK.add.SoLd),fI=JSON.parse(gs);
if(fI.filterFX==null)fI.filterFX=ie.JH();var ay=fI.filterFX.v.filterFXList.v;ay.splice(_._L,0,c0);var fC={GL:_.GA,EE:[gs,JSON.stringify(fI)]};
if(!jK.lx()){var hh=fJ.ah0(jK.add.SoLd.placed.v);fC.h5=[null,hh]}b2.push(fC)}var a=new gO([6,52],this);
a.data={d:v.sS,YV:b2};O.dc(a);this.Pg(a.data,O)}if(t==v.pB){var fe=V.Ek(),a=new gO(fe.Cu?[6,26]:[6,25],this);
a.data={d:t,j:h};O.dc(a);this.Pg(a.data,O);this.track({et:"set",ot:{classID:"setd",null:{t:"obj ",v:[g3.g5("Lyr",!0)]},T:{t:"Objc",v:{classID:"Lyr",Usrs:{t:"bool",v:fe.Cu}}}}})}if(t==v.gT){var fe=V.add.vmsk,a=new gO(fe.Cu?[6,28]:[6,27],this);
a.data={d:t,j:h};O.dc(a);this.Pg(a.data,O)}if(t==v.US){var a=new gO("Variables / Datasets",this),jQ=JSON.stringify([O.Pp,O.dm]);
if(jQ==_.h)return;a.data={d:t,aqF:jQ,aiy:_.h};O.dc(a);this.Pg(a.data,O)}if(t==v.bB){var fw=[],a;for(var m=0;
m<O.g.length;m++){var g=O.g[m],d=O.B[g];if(d.add.vogk)fw.push(g,JSON.stringify(d.add.vogk))}for(var m=0;
m<O.WJ.length;m++){var g=O.WJ[m],d=O.VE[g];if(d.add.vogk)fw.push(-1-g,JSON.stringify(d.add.vogk))}Q.X.a2s(O,_.h,_.a4O);
var aG=[];for(var m=0;m<O.g.length;m++){var g=O.g[m],d=O.B[g];if(d.add.vogk)aG.push(g,JSON.stringify(d.add.vogk))}for(var m=0;
m<O.WJ.length;m++){var g=O.WJ[m],d=O.VE[g];if(d.add.vogk)aG.push(-1-g,JSON.stringify(d.add.vogk))}var C=O.bU();
if(C&&C.data&&C.data.d==t){var a_=!0;for(var m=0;m<fw.length;m+=2)if(fw[m]!=C.data.w0[m])a_=!1;if(a_){a=C;
a.data.vP=aG}}if(a==null){var a=new gO([12,91,1],this);a.data={d:t,w0:fw,vP:aG};O.dc(a)}this.Pg(a.data,O)}if(t==v.XG){var el=JSON.stringify(V.add.artb),dD=JSON.stringify(_.Y4),a;
O.B[h].add.artb=JSON.parse(dD);var ip=new a8(0,0,O.a,O.n),jn=D.e_.y$(O),C=O.bU();if(C&&C.data&&C.data.d==t&&C.data.j==h){a=C;
a.data.Y4=dD}if(a==null){var a=new gO("Editing Artboard",this);a.data={d:t,j:h,abg:el,Y4:dD,vf:ip};O.dc(a)}a.data.ka=jn;
this.Pg(a.data,O)}if(t==v.E2){var aG=O.U_.slice(0),af=O.oO.slice(0),iU=O.P,hV=O.P;if(_.nz=="fromAction"){var gn=_.h.et,fY=_.h.ot;
if(gn=="make"||gn=="duplicate"){var e1=aG.length,fO=!1,i$=!1;if(O.t5())e1--;var d6=new v.Pt;d6.name="Alpha "+(e1+1);
if(gn=="make"){var gy=fY.Nw.v;d6.color=255;af=[e1];d6.K_=!0;d6.D1=gy.Opct.v;if(gy.Nm)d6.name=gy.Nm.v;
if(gy.classID=="SCch"){fO=!0;hV=null;d6.TO=1}}else{var fT=fY.null.v[0].v;if(fT.keyID=="fsel")fO=!0;else{var kl=D.iM.aar(O);
hV=D.iM.aiF(O,kl);d6.color=0;d6.rect=hV.rect;d6.channel=hV.channel}}if(fO){d6.color=0;if(O.P){d6.rect=O.P.rect.clone();
d6.channel=O.P.channel.slice(0)}if(i$){d6.color=255-d6.color;Q.sJ(d6.channel)}}aG.splice(e1,0,d6)}else if(gn=="delete"){if(V&&V.Ek()&&V.LN==1){this.cZ({d:v.H6},n,O,l,x);
return}var fy=O.oO;fy.sort(function(a,c5){return c5-a});if(fy.length==0)return;for(var m=0;m<fy.length;
m++)aG.splice(fy[m],1);af=[]}else if(gn=="hide"){aG[af[0]]=aG[af[0]].clone();aG[af[0]].K_=!1}}if(_.nz=="rnm"){aG[_.tE]=aG[_.tE].clone();
aG[_.tE].name=_.name}var a=new gO("Channel Edit",this);a.data={d:t,w0:O.U_.slice(0),Nm:O.oO.slice(0),vP:aG,J3:af,IW:iU,Ss:hV};
this.Pg(a.data,O);O.dc(a)}if(t==v.Ob){var g$=new a8(0,0,O.a,O.n),a=new gO(_.hM,this);a.data={d:v.Ob,AT:O.B.slice(0),Q7:_.Q7,sI:O.g.slice(0),lU:_.Ss};
O.dc(a);this.Pg(a.data,O);var bt=D.e_.C3(O);if(bt){a.data.vf=g$;a.data.ka=bt}}if(t==v.nB){var jL=O.wy(null,_.j),hr=1e10;
if(jL.length==0)return;if(O.B.length==jL.length){alert("Project must have at least 1 layer");return}var c_=[];
for(var m=0;m<O.B.length;m++)if(jL.indexOf(m)==-1)c_.push(O.B[m]);for(var m=0;m<jL.length;m++)hr=Math.min(hr,jL[m]);
hr=Math.max(hr-1,0);while(c_[hr].name=="</Layer group>")hr++;this.track({et:"delete",ot:{classID:"Dlt",null:g3.g5("Lyr",!0)}});
var ip=new a8(0,0,O.a,O.n),a=new gO([6,31],this);a.data={d:v.Ob,AT:O.B.slice(0),Q7:c_,sI:O.g.slice(0),lU:[hr]};
O.dc(a);this.Pg(a.data,O);var jn=D.e_.y$(O);if(jn){a.data.ka=jn;a.data.vf=ip;D.e_.C3(O)}}if(t==v.ml){if(!l.l(bJ.fc))return;
var a=new gO("Switch Layer Link",this);a.data={d:t,j:_.j};O.dc(a);this.Pg(a.data,O)}if(t==v.e6){var fy=_.anc?_.anc:O.g,ew=0,eo=!1;
if(fy.length==0)return;if(fy.length==1&&O.B[fy[0]].Ac==0){alert(hU.get([15,7,5]));return}var dL=[];for(var m=0;
m<O.B.length;m++){var cf=O.B[m].Ac;dL.push(cf);ew=Math.max(ew,cf)}var iz=-1,kj=-1;for(var m=0;m<fy.length;
m++){var cf=O.B[fy[m]].Ac;if(cf==0)eo=!0;else if(iz==-1||iz==cf)iz=cf;else kj=cf}if(!eo)for(var m=0;
m<fy.length;m++)O.B[fy[m]].Ac=0;else if(iz!=-1&&kj==-1)for(var m=0;m<fy.length;m++)O.B[fy[m]].Ac=iz;
else for(var m=0;m<fy.length;m++)O.B[fy[m]].Ac=ew+1;var hL=[];for(var m=0;m<O.B.length;m++){var cf=O.B[m].Ac;
if(hL[cf]==null)hL[cf]=0;hL[cf]++}for(var m=0;m<O.B.length;m++){var cf=O.B[m].Ac;if(hL[cf]==1)O.B[m].Ac=0}var ar=dL;
dL=[];for(var m=0;m<O.B.length;m++){var cf=O.B[m].Ac;dL.push(cf);ew=Math.max(ew,cf)}var a=new gO(eo?[6,54,0]:[6,54,1],this);
a.data={d:v.e6,a1$:ar,a8x:dL};O.dc(a);this.Pg(a.data,O)}if(t==v.Sq&&(_.j!=null||O.g.length!=0)||t==v.bS){var bD=O.NS(t==v.Sq?_.j:h,null,_.as4),jC;
if(t==v.bS){var i=bD[0],gn=i.add.SoLd.Idnt.v,eu=O.EL(gn).clone();i.add.SoLd.Idnt.v=eu.Et=fJ.DA()+gn.slice(8);
O.add.lnk2.push(eu)}if(t==v.Sq){var gx={et:"duplicate",ot:{classID:"null",null:g3.g5("Lyr",!0)}};if(_.Cq){bD[0].iA(_.Cq);
gx.Nm={t:"TEXT",v:_.Cq}}this.track(gx);_.a6O=_.j}t=v.L3;_.B=bD;_.Hk=O;_.Zr=O}if(t==v.L3){var eS,fa,h6=_.Hk,bw=_.Zr,jO=0,aq=0,dg=!1,jl,jY=0,he=0;
if(h6!=bw){console.log("ADDLAYERS different projs");var eS=new a8(0,0,h6.a,h6.n),fa=new a8(0,0,bw.a,bw.n),bf=[],fq=[];
for(var m=0;m<_.B.length;m++){var i=_.B[m];if(i.add.SoLd==null)continue;var gn=i.add.SoLd.Idnt.v;if(bf.indexOf(gn)==-1){bf.push(gn);
fq.push(fJ.DA()+gn.slice(8))}i.add.SoLd.Idnt.v=fq[bf.indexOf(gn)];var cm=i.vO(h6);if(cm){h6.RP(cm);bw.VS(cm)}}if(bf.length>0){if(bw.add.lnk2==null)bw.add.lnk2=[];
for(var m=0;m<bf.length;m++){var ia=h6.EL(bf[m]),eu=ia.clone();eu.Et=fq[m];bw.add.lnk2.push(eu)}}}var iU=bw.g.slice(0);
iU.sort(function(a,c5){return a-c5});var c_=bw.B.slice(0),hV=[],gI=-1;for(var m=0;m<iU.length;m++)gI=Math.max(gI,iU[m]);
if(_.a6O!=null)gI=_.a6O;var kb=h6.P_();if(_.fG){gI=_.fG-1;var dB=bw.B[_.fG].DM();jO+=dB.x;aq+=dB.y}if(kb!=-1&&(h6!=bw||_.fG)){var jk=h6.B[kb].DM();
jO-=jk.x;aq-=jk.y}var a9=bw.tp();for(var m=0;m<a9[0].length;m++){var gX=a9[1][m];if(gX!=-1)a9[1][m]=c_[gX]}gI++;
for(var m=0;m<_.B.length;m++){var d=_.B[m],dl=d.add.artb;c_.splice(gI,0,d);hV.push(gI);gI++;if(dl){jl=!0;
var ij=dl.guideIndeces;if(ij){ij=ij.v;for(var bQ=0;bQ<ij.length;bQ++){a9[0].push(h6.P9[ij[bQ].v].slice(0));
a9[1].push(d);dg=!0}}}}for(var m=0;m<a9[0].length;m++){var gX=a9[1][m];if(gX!=-1)a9[1][m]=c_.indexOf(gX)}for(var m=0;
m<_.B.length;m++){var d=_.B[m];if(d.add.lsct==bN.eg){if(jY==0)he++;jY++}else if(d.kx())jY--}if(he==1)hV=[gI-1];
var a=new gO([6,0],this);a.data={d:v.Ob,AT:bw.B.slice(0),Q7:c_,sI:iU,lU:hV};if(dg){a.data.Vt=[bw.tp(),a9]}bw.dc(a);
this.Pg(a.data,bw);if(jO!=0||aq!=0)D.dV.nJ(bw,bw.wy(),null,jO,aq);if(jl){a.data.vf=new a8(0,0,bw.a,bw.n);
a.data.ka=D.e_.y$(bw);D.e_.C3(bw)}}if(t==v.a66){var e8=_.j!=null?[_.j]:O.wy(),c_=O.B.slice(0);for(var m=0;
m<e8.length;m++){var d=O.B[e8[m]].clone();d.sr(O);c_.splice(e8[m],1,d)}var a=new gO([6,8],this);a.data={d:v.Ob,AT:O.B.slice(0),Q7:c_,sI:O.g.slice(0),lU:O.g.slice(0)};
O.dc(a);this.Pg(a.data,O)}if(t==v.a9J){var c_=O.B.slice(0),d=c_[O.g[0]]=c_[O.g[0]].clone(),g4=d.add.lmfx,gr,dB;
delete d.add.lmfx;var kv=O.g[0],ka=kv+1;if(d.kx()){var ff=O.B[O.g[0]].Fy;dB=ff.aqy;gr=ff.MI;var c=O.root.yJ(kv);
kv=c.qz}else{dB=d.rect;gr=Q.Q(dB.O());Q.nV(d.buffer,gr,3)}var is=fW.R$(g4,d.add.fxrp,gr,dB,O,dB).type;
for(var m=0;m<aF.order.length;m++){var cR=aF.order[m],fV=is[cR];fV.reverse();for(var bQ=0;bQ<fV.length;
bQ++){var jZ=fV[bQ],P=O.Ni(),fk=m>7;if(cR=="ebbl"){if(jZ.u$||jZ.iR){var aw=jZ.u$?jZ.u$:jZ.iR;if(jZ.u$)delete jZ.u$;
else delete jZ.iR;if(jZ.iR||jZ.OF)bQ--}else if(jZ.OF||jZ.J6){var aw=jZ.J6?jZ.J6:jZ.OF;if(jZ.J6){delete jZ.J6;
if(jZ.OF)bQ--}fk=!0}jZ=aw}P.to=jZ.Qf;P.opacity=Math.round(255*jZ.zN);P.buffer=jZ.sw;P.rect=jZ.NV.clone();
P.rect.offset(dB.x,dB.y);if(cR=="FrFX"){P.buffer=P.buffer.slice(0);Q.$c(jZ.qd?jZ.qd:jZ.xI,P.buffer,3);
if(jZ.qd){fk=!0;delete jZ.qd;if(jZ.xI)bQ--}}P._t=!fk;P.iA(d.getName()+"'s "+hU.get(aF.names[m]));c_.splice(fk?kv:ka,0,P);
if(fk)ka++}}var a=new gO("Styles to Layers",this);a.data={d:v.Ob,AT:O.B.slice(0),Q7:c_,sI:O.g.slice(0),lU:[ka-1]};
O.dc(a);this.Pg(a.data,O)}if(t==v.i5){var e8=O.wy(),c_=O.B.slice(0),e4=new a8(0,0,O.a,O.n);for(var m=0;
m<e8.length;m++){var iF=O.B[e8[m]],jc=iF.Pn();iF.ND(!0);var b0=O.root.yJ(e8[m]);if(iF.kx())continue;
if(b0==null)continue;var d=iF.clone();d.sr(O);var i1=b0.kf(O,!0),je=O.B;O.T0([iF]);O.U();O.jN();d.buffer=Q.Q(i1.O()*4);
Q.zw(O.Cs(),e4,d.buffer,i1);d.rect=i1;d.opacity=255;d.add.iOpa=255;d.to="norm";d.U();d.Fy.Ag=!0;O.T0(je);
if(d.add.lmfx)delete d.add.lmfx;d.z=d.VI=null;c_.splice(e8[m],1,d);d.ND(jc);iF.ND(jc)}var a=new gO([6,34],this);
a.data={d:v.Ob,AT:O.B.slice(0),Q7:c_,sI:O.g.slice(0),lU:O.g.slice(0)};O.dc(a);this.Pg(a.data,O)}if(t==v.aws){var e8=O.wy(),c_=O.B.slice(0);
for(var m=0;m<e8.length;m++){var d=O.B[e8[m]],jg=d.add.TySh;if(jg==null)continue;var i=new hf(jg.m1,x.y8),cW=Q.p.OD(a$._F(i,jg));
for(var aC in cW){var cL=cW[aC],g6=d.clone();delete g6.add.TySh;g6.FQ=g6.FQ|1<<4;g6.add.SoCo=JSON.parse(JSON.stringify(aF.iS[0]));
var fF=g6.add.SoCo.Clr.v;fF.Rd.v=parseInt(aC.slice(1,3),16);fF.Grn.v=parseInt(aC.slice(3,5),16);fF.Bl.v=parseInt(aC.slice(5,7),16);
var ei=new v.ez;ei.i=Q.p.mg(cL,!1);if(g6.add.vmsk!=null){g6.add.vmsk.axQ();ei.concat(g6.add.vmsk)}g6.add.vmsk=ei;
g6.add.vstk=JSON.parse(JSON.stringify(aF.eo.default));g6.W0();g6.bf(O);c_.splice(c_.indexOf(d),0,g6)}c_.splice(c_.indexOf(d),1)}var hV=O.g.slice(0);
for(var m=hV.length-1;m>=0;m--)if(hV[m]>=c_.length)hV.splice(m,1);var a=new gO([6,40],this);a.data={d:v.Ob,AT:O.B.slice(0),Q7:c_,sI:O.g.slice(0),lU:hV};
O.dc(a);this.Pg(a.data,O)}if(t==v.kn){var iy=O.g.length,f3,ds;if(iy<2){alert("Select two or more layers.");
return}for(var m=0;m<iy;m++){var jk=O.B[O.g[m]].rect;f3=m==0?jk:f3.v6(jk);ds=m==0?jk:ds.uG(jk)}if(f3.O()*1.2>ds.O()){alert("stacking images");
var av=[],jw=[];for(var m=0;m<iy;m++){var d=O.B[O.g[m]];av.push(d.buffer);jw.push(d.rect)}var j8=Q.aoa.DL(av,jw),fb=j8[0],fs=j8[1],fE=[];
for(var m=0;m<iy;m++){var fe=new v.Pt;fe.color=255;fe.rect=fs;fe.channel=fb[m];fE.push(O.g[m],null,fe)}var a=new gO("Focus-Stack",this);
a.data={d:v.Lp,LI:fE};O.dc(a);this.Pg(a.data,O);return}if(!O.Dt())return;var g6=O.B[O.g[0]].clone(),c_=[];
for(var m=0;m<O.B.length;m++)if(O.g.indexOf(m)==-1)c_.push(O.B[m]);c_.splice(O.g[0],0,g6);for(var m=1;
m<iy;m++)if(O.B[O.g[m]].rect.O()>2e6){alert("Blended areas are too large.");return}for(var m=1;m<iy;
m++){var d=O.B[O.g[m]],fs=d.rect.clone();fs.nQ(1,1);var c5=Q.Q(fs.O()*4);Q.zw(d.buffer,d.rect,c5,fs);
g6.extend(fs);var gQ=Q.Q(fs.O()*4);Q.zw(g6.buffer,g6.rect,gQ,fs);var a=Q.Q(fs.O());Q.nV(c5,a,3);Q.round(a,200);
Q.$c(a,c5,3);Q.q.Zn("norm",c5,fs,gQ,fs,fs,1);Q.KL.xj(gQ,a,fs);Q.zw(gQ,fs,g6.buffer,g6.rect)}var a=new gO([2,10,0],this);
a.data={d:v.Ob,AT:O.B.slice(0),Q7:c_,sI:O.g.slice(0),lU:[O.g[0]]};O.dc(a);this.Pg(a.data,O)}if(t==v.v7){var c_=O.B.slice(0),af=O.g.slice(0);
for(var m=0;m<c_.length;m++){var d=c_[m],go=d.add.vmsk;if(d.uq()&&go&&d.add.vstk.strokeEnabled.v&&!d.add.vstk.fillEnabled.v){var j2=go.i,hZ=0,gk=-1;
for(var bQ=0;bQ<j2.length;bQ++){if((j2[bQ].type==0||j2[bQ].type==3)&&j2[bQ].wM!=-1){hZ++;if(j2[bQ].type==3&&gk==-1){j2[bQ].kr=j2[bQ].wM=1;
gk=bQ}}}if(hZ>1&&gk!=-1&&hZ<10){console.log("separating an open path into a new layer");d=d.clone();
go=d.add.vmsk;j2=go.i;var P=j2[gk].length,hB=d.clone();hB.add.lyid=O.Io();go.i=j2.slice(0,2).concat(j2.slice(gk,gk+P+1));
go.g=[];d.bf(O);d.U();var h8=hB.add.vmsk.i;hB.add.vmsk.i=h8.slice(0,gk).concat(h8.slice(gk+P+1,h8.length));
hB.add.vmsk.g=[];hB.bf(O);c_[m]=d;c_.splice(m+1,0,hB);for(var bQ=0;bQ<af.length;bQ++)if(af[bQ]>m)af[bQ]++;
var e0=af.indexOf(m);if(e0!=-1){af.splice(e0+1,0,m+1)}}}}if(c_.length!=O.B.length){var a=new gO("Splitting open paths",this);
a.data={d:v.Ob,AT:O.B.slice(0),Q7:c_,sI:O.g.slice(0),lU:af};O.dc(a);this.Pg(a.data,O)}}if(t==v.HN){this.cZ({d:v.v7},n,O,l,x);
var iU=O.g.slice(0),je=O.B.slice(0),e8=O.wy();if(e8.length==0)return;O.am2(e8,!1,_.Ol);var a=new gO([6,36,0],this);
a.data={d:v.Ob,AT:je,Q7:O.B.slice(),sI:iU,lU:O.g.slice(0)};O.dc(a);this.Pg(a.data,O)}if(t==v.abL){var am=V.add.SoLd;
if(am==null)return;var gn=am.Idnt.v,gP=O.EL(gn);gP.Cs(!1);var hs=gP.lf[0],fs=gP.lf[1];if(Q.Fh(hs)){alert("The smart object contains transparency.");
return}var e3=dx.Jv("jpg").QI([[hs.buffer]],fs.a,fs.n,[90]);this.cZ({d:v.p$,data:new Uint8Array(e3),L5:"image.jpg"},n,O,l,x);
console.log(O.add);return}if(t==v.p$){var e4=_.cn,gn=_.id;if(e4==null)e4=O;if(gn==null)gn=V.add.SoLd.Idnt.v;
var ia=e4.EL(gn),eu=ia.clone();eu.raw=_.data;eu.L5=_.L5;var iW=dx.N_(_.data.buffer);if(iW=="psd"){eu.pA="8BIM";
eu.xP="8BPB"}else{eu.pA="    ";eu.xP="    "}eu.Cs(!1);ia.Cs(!1);var a=new gO([6,36,1],this);a.data={d:v.p$,id:gn,_D:ia,xq:eu};
e4.dc(a);this.Pg(a.data,e4)}if(t==v.w_){var a=new gO([6,36,4],this);a.data={d:t,j:h,KB:V.add.SoLd.Impr.v.classID,t2:_.t2};
O.dc(a);this.Pg(a.data,O)}if(t==v.amq){var k4,gw;if(_.sp){k4=_.cn;gw=_.sp}else{_.cn.dP();_.cn.Mq();_.cn.U();
_.cn.jN();_.cn.Cs();k4=dx.Jv("PSD").QI(_.cn,0,0,[!0,!0]);gw=_.cn.name}if(!(k4 instanceof ArrayBuffer))throw"e";
k4=new Uint8Array(k4);var w=_.GP;if(w==null){if(O.g.length==0)w=O.g.length;else{var e7=O.g[O.g.length-1],P=O.B[e7];
w=P.kx()?e7:e7+1}}var dd=new a8(0,0,O.a,O.n),dp=O.P_();if(dp!=-1)dd=O.B[dp].DM();var ih=O.zk(k4,gw,0,0,dd,x.y8,n),c_=O.B.slice(0);
c_.splice(w,0,ih);var a=new gO([6,36,2],this);a.data={d:v.Ob,AT:O.B.slice(),Q7:c_,sI:O.g.slice(0),lU:[c_.indexOf(ih)]};
O.dc(a);this.Pg(a.data,O)}if(t==v.Z_&&_.nz=="merge"){var eZ=[],iA=O.root.children,br=0;for(var m=0;m<iA.length;
m++){var c=iA[m],d=c.j,iC=c.children,gN=!0;if(!d.kx()||iC.length==0)continue;for(var bQ=0;bQ<iC.length;
bQ++)if(!iC[bQ].j.getName().startsWith("_a_")){gN=!1;break}if(gN)eZ.push(O.B.indexOf(d))}var aV=[];for(var m=0;
m<eZ.length;m++)if(O.g.indexOf(eZ[m])!=-1)aV.push(eZ[m]);if(aV.length>=2)eZ=aV;if(eZ.length<2){alert("At least two animation folders needed (whose layers start with \"_a_\").",3500);
return}var gT=[];for(var m=0;m<eZ.length;m++)gT.push(O.B[eZ[m]].getName());var fV=[];for(var j6=0;j6<eZ.length;
j6++){var c=O.root.yJ(eZ[j6]),fC=[[],[],0,j6];fV.push(fC);for(var m=0;m<c.children.length;m++){var g=c.children[m].index,d=c.children[m].j,d6=d.getName(),ik=20,dO=d6.split(",");
if(dO.length>1){var j5=parseInt(dO.pop());if(!isNaN(j5)&&j5!=0)ik=j5}fC[0].push(d);fC[1].push(ik);fC[2]+=ik}}fV.sort(function(a,c5){return c5[2]-a[2]});
var jy=fV[0],b8=jy[2];for(var gX=1;gX<fV.length;gX++){var fC=fV[gX],ej=1,cc=fC[1].slice(0),fi=0;while((ej+1)*fC[2]<=jy[2]){ej++;
cc=cc.concat(fC[1])}fC[1]=cc;fC[2]*=ej;var e2=jy[2]/fC[2];for(var m=0;m<fC[1].length;m++){var f$=Math.floor(fC[1][m]*e2);
fC[1][m]=f$;fi+=f$}while(fi<b8){fi++;fC[1][fC[1].length-1]++}fC[2]=fi}var cF=[],aZ=[],f$=[];for(var m=0;
m<fV.length;m++){cF.push(0);aZ.push(0)}while(br<b8){var ax=1e9,e1=-1;for(var m=0;m<fV.length;m++){var bq=fV[m][1],kv=cF[m];
if(kv!=bq.length&&aZ[m]+bq[kv]<br+ax){e1=m;ax=aZ[m]+bq[kv]-br}}aZ[e1]+=fV[e1][1][cF[e1]];cF[e1]++;if(ax!=0){f$.push(ax);
br+=ax}}for(var m=1;m<f$.length;m++){var bn=f$[m];if(bn<16&&(f$[m-1]<16||m<f$.length-1&&16<=f$[m+1])){f$[m-1]+=bn;
f$.splice(m,1);m--}}var jc=[],e4=new a8(0,0,O.a,O.n);for(var m=0;m<O.B.length;m++){jc[m]=O.B[m].Pn();
O.B[m].ND(!1)}var fl=O.g.slice(0);O.g=eZ;var jL=O.wy();jL.sort(function(a,c5){return a-c5});var c_=[];
for(var m=0;m<O.B.length;m++){if(jL.indexOf(m)==-1)c_.push(O.B[m])}fV.sort(function(a,c5){return a[3]-c5[3]});
function gD(bq,dF){var m=0,db=0;while(db+bq[m]<=dF){db+=bq[m];m++}return m}br=0;c_.splice(jL[0],0,O.y9());
for(var eh=0;eh<f$.length;eh++){var s=[];for(var m=0;m<fV.length;m++){var kv=gD(fV[m][1],br)%fV[m][0].length,d=fV[m][0][kv];
s.push(d)}var d=O.Ni();for(var m=0;m<fV.length;m++){var ci=s[m],hp=O.B[eZ[m]];ci.ND(!0);hp.ND(!0)}O.U();
O.jN();var hs=O.Cs();d.rect=Q.RJ(hs,e4,2);d.buffer=Q.Q(d.rect.O()*4);Q.zw(hs,e4,d.buffer,d.rect);for(var m=0;
m<fV.length;m++){var ci=s[m],hp=O.B[eZ[m]];ci.ND(!1);hp.ND(!1)}d.ND(eh==0);d.iA("_a_frm"+eh+","+f$[eh]);
c_.splice(jL[0]+1+eh,0,d);br+=f$[eh]}var d=O.Ni();d.iA(gT.join(" + "));d.to="pass";d.add.lsct=bN.SE;
d.FQ=24;c_.splice(jL[0]+1+f$.length,0,d);for(var m=0;m<O.B.length;m++)O.B[m].ND(jc[m]);var a=new gO([6,12,0],this);
a.data={d:v.Ob,AT:O.B,Q7:c_,sI:fl,lU:[jL[0]+1+f$.length]};O.dc(a);this.Pg(a.data,O)}if(t==v.HV||t==v.NO){var aH=O.g.length==1,f9=!0,ih=null,hV;
if(aH&&O.g[0]==0)return;var je=O.B.slice(0),iU=O.g.slice(0);if(aH)O.g=[h,h-1];if(t==v.NO){O.g=[];for(var m=0;
m<O.B.length;m++)if(O.B[m].Pn())O.g.push(m)}var e8=O.wy();e8.sort(function(a,c5){return a-c5});var cN=new a8,e4=new a8(0,0,O.a,O.n);
for(var m=0;m<e8.length;m++){var g=e8[m],d=O.B[g];if(d.kx()||d.getName()=="</Layer group>")continue;
f9=f9&&d.uq()&&d.add.vmsk!=null;cN=cN.uG(O.root.yJ(g).kf(O,!0))}if(f9){var go=null;for(var m=0;m<e8.length;
m++){var P=O.B[e8[m]];if(P.rect.O()==0)continue;if(ih==null){ih=P.clone();go=ih.add.vmsk}else{var P=O.B[e8[m]],h8=v.ez.qD(P.add.vmsk.i);
go.i=go.i.concat(h8.slice(2));ih.add.vogk=ih.add.vogk.concat(JSON.parse(JSON.stringify(P.add.vogk)))}}ih.add.vmsk.na=!0;
ih.bf(O)}else if(e4.rz(cN)){ih=O.Ni();ih.iA(O.B[e8[e8.length-1]].getName());ih.rect=cN;ih.buffer=Q.Q(cN.O()*4);
var cV=O.add.artd;delete O.add.artd;var gH=O.Cs(e8);if(cV)O.add.artd=cV;Q.zw(gH,e4,ih.buffer,cN);ih.AO();
ih.U()}else{O.am2(e8,!0);ih=O.B[O.g[0]];O.B.splice(O.g[0],1);var h2=O.EL(ih.add.SoLd.Idnt.v);O.add.lnk2.splice(O.add.lnk2.indexOf(h2),1);
delete ih.add.SoLd}var aP=y,jA=-1;if(_.ot&&_.ot.Dplc&&_.ot.Dplc.v)aP=!0;if(aP&&t==v.NO&&O.B[iU[0]].Jq()&&O.B[iU[0]].rect.wk()){jA=iU[0]}if(jA!=-1||aH){var io=O.B[jA!=-1?jA:h-1];
ih.iA(io.getName());ih.add.lclr=io.add.lclr}var c_=[];for(var m=0;m<O.B.length;m++)if(aP||e8.indexOf(m)==-1)if(m!=jA)c_.push(O.B[m]);
var eF=e8[e8.length-1],bi=eF==O.B.length-1?null:O.B[eF+1],jh=bi?c_.indexOf(bi):c_.length;c_.splice(jh,0,ih);
hV=[jh];var a=new gO([6,12,0],this);a.data={d:v.Ob,AT:je,Q7:c_,sI:iU,lU:hV};O.dc(a);this.Pg(a.data,O)}if(t==v.akh){var g6=O.Ni();
g6.rect=new a8(0,0,O.a,O.n);g6.buffer=Q.Q(g6.rect.O()*4);Q.qs(g6.buffer,4294967295);Q.q.Zn("norm",O.Cs(),g6.rect,g6.buffer,g6.rect,g6.rect,1);
g6.iA("Background");g6.add.lspf=1<<2;var a=new gO([6,12,1],this);a.data={d:v.Ob,AT:O.B.slice(),Q7:[g6],sI:O.g.slice(0),lU:[0]};
O.dc(a);this.Pg(a.data,O)}var j7=t==v.gA||t==v.JF;if(t==v.eU||t==v.y0||t==v.kT||t==v.P$||j7){var d=j7?O.NS()[0]:O.Ni(),c1=hU.get([0,3]),bZ=_.Cq,ft=!1,dC,bh;
if(t==v.kT)c1=hU.get([12,76,1]);if(j7){if(O.P){var iF=O.B[O.g[0]],j9=iF.cH(O,O.P);if(j9==null){alert("Copied area is empty");
return}d.rect=j9.rect;d.buffer=j9.r0;d.sr(O);d.ND(!0)}else bZ=d.getName();d.add.lspf=0;d._t=!1;if((d.FQ&1)!=0)d.FQ--}if(t==v.P$){d.rect=D.Z0.a4m(_.wL,O);
d.buffer=_.wL.buffer.slice(0);if(_.YR&&O.P){d.z=new v.Pt;d.z.rect=O.P.rect;d.z.color=0;d.z.channel=O.P.channel.slice(0)}}if(t==v.eU){this.track({et:"make",ot:{classID:"Mk",null:g3.g5("Lyr")}})}if(t==v.y0){d.FQ|=16;
var kd=_.ot.Usng.v,hn=kd.Type.v,fD=a3.By[hn.classID];c1=hU.get(a3.names[fD]);if(kd.Nm)bZ=kd.Nm.v;d.add[fD]=ie.gV(fD);
if(d.add[fD]==null)d.add[fD]={};for(var gA in hn)d.add[fD][gA]=JSON.parse(JSON.stringify(hn[gA]));d.z=D.Z0.a09(O);
d.LN=1}if(t==v.kT){d.FQ|=16;var fY=_.ot,kd=fY.Usng.v,kw=kd.Type.v,c6=kd.Shp;if(kd.Nm)bZ=kd.Nm.v;if(c6==null){var eK=O.cx(),cW=eK[0],kn=eK[1];
if(kn.length!=0&&cW[kn[0]].tE<0){var c4=cW[kn[0]].add;d.add.vmsk=c4.vmsk.clone();d.add.vstk=JSON.parse(JSON.stringify(aF.eo.default));
d.add.vogk=JSON.parse(JSON.stringify(c4.vogk));O.WJ=[]}else d.z=D.Z0.a09(O)}else{d.add.vmsk=new v.ez;
d.add.vstk=JSON.parse(JSON.stringify(kd.strokeStyle?kd.strokeStyle.v:aF.eo.default));d.add.vogk=[];if(c6){var eE=Q.X.zz(c6);
if(eE){d.add.vogk=[eE];d.add.vmsk.i.push({type:0,wM:1,length:0});Q.X.oR(d.add.vogk,d.add.vmsk)}else{c6=c6.v;
var aS=c6.classID;if(aS=="Plgn"){var bO=c6.Cntr.v,jk=c6.corner.v;bO=new aW(bO.Hrzn.v.val,bO.Vrtc.v.val);
jk=new aW(jk.Hrzn.v.val,jk.Vrtc.v.val);d.add.vmsk.i=Q.M.tm.oC(bO.x,bO.y,Math.sqrt(jk.x*jk.x+jk.y*jk.y),Math.atan2(jk.y,jk.x),c6.sides.v,0)}else if(aS=="customShape"){var aK=Q.X.FB(c6),iS=aK[2]-aK[0],bH=aK[3]-aK[1],ge=x.zn,co,a0;
for(var m=0;m<ge.length;m++)if(ge[m].oS==c6.Nm.v)co=ge[m];if(co){a0=v.ez.qD(co.i);Q.M.qp(a0,new aY(iS,0,0,bH,aK[0],aK[1]))}else a0=Q.M.tm.Rect(aK[0],aK[1],iS,bH,0);
d.add.vmsk.i=a0}d.W0()}}}var gR={solidColorLayer:0,gradientLayer:1,patternLayer:2}[kw.classID],fQ=["SoCo","GdFl","PtFl"][gR];
d.add[fQ]=JSON.parse(JSON.stringify(aF.iS[gR]));D.Z0.OC(kw,d.add[fQ],gR);if(c6==null)c1=hU.get([6,48,0,gR]);
if(fQ=="PtFl"){var al=d.add[fQ].Ptrn.v,dO=fW.mF(al,x.LK);if(dO==null)dO=fW.mF(al,O.add.Patt);al.Idnt.v=dO.id;
O.Rs(dO)}d.bf(O)}var iy=D.Z0.YJ(O,c1+" ");d.iA(c1+" "+(iy+1));if(bZ)d.iA(bZ);var c9=O.g.length==0?O.B.length-1:O.g[O.g.length-1],eM=O.B[c9];
if(t==v.kT&&eM.Jq()&&eM.rect.wk()){ft=!0;d.iA(eM.getName());dC=c9}else{dC=c9+(t==v.eU&&E&&!r?0:1);if(eM&&eM.add.lsct==bN.GV)dC--}if(_.amg)dC=Math.max(0,dC-1);
var c_=O.B.slice(0);if(t==v.JF){var gb=c_[O.g[0]]=c_[O.g[0]].clone(),hx=O.P.channel.slice(0);Q.sJ(hx);
Q.Eg(hx,O.P.rect,gb.buffer,gb.rect)}c_.splice(dC,ft?1:0,d);var hF=[5,2];if(t==v.eU)hF=[6,13];if(t==v.y0)hF=[6,1];
if(t==v.kT){hF=[6,48,1];var c6=_.ot.Usng.v.Shp;if(c6){var iB={Rctn:[10,32],Ln:[10,35],Elps:[10,33],Plgn:[12,93,0],customShape:[10,31]}[c6.v.classID];
if(iB)hF=iB}}if(j7){hF=[6,49,t==v.gA?0:1]}if(j7||t==v.kT||t==v.P$||t==v.y0)if(O.P)bh=[O.P,null];var a=new gO(hF,this);
a.data={d:v.Ob,AT:O.B.slice(0),Q7:c_,sI:O.g.slice(0),lU:[dC],De:bh};O.dc(a);this.Pg(a.data,O);if(t==v.kT&&c6==null&&gR!=0||t==v.y0){var $=new e_(H.E.L);
$.data={d:H.t.$p,EW:as.n0.RG};n.$($)}}if(t==v._Z){var d=O.Ni(),c1=hU.get([0,4]),iy=D.Z0.YJ(O,c1+" ");
d.iA(c1+" "+(iy+1));d.to="pass";d.add.lsct=bN.GV;d.FQ=24;if(_.Cq)d.iA(_.Cq);if(_.zP!=null)d.add.lclr=_.zP;
var bl=O.y9(),c9=h,dC=c9+(E?0:1),c_=O.B.slice(0);c_.splice(dC,0,bl,d);var a=new gO([6,20],this);a.data={d:v.Ob,AT:O.B.slice(0),Q7:c_,sI:O.g.slice(0),lU:[dC+1]};
O.dc(a);this.Pg(a.data,O)}if(t==v.Xc||t==v.aU){var dM=t==v.Xc?_.source:O.g[0],eg,dY,cj=O.g.indexOf(dM)!=-1,e9=y|_.a2Q,dG,ax=null;
if(cj)dG=O.wy();else dG=O.ix(dM);dG.sort(function(a,c5){return a-c5});if(t==v.Xc){eg=_.target;dY=_.pY>.5}else if(_.target!=null){eg=Math.min(_.target,O.B.length-1);
dY=_.target<O.B.length;O.HT=!0}else{var iD=_.nz;dY=iD>1;if(iD==0){eg=O.B.length-1}if(iD==1){eg=dG[dG.length-1]+1;
var P=O.ix(eg);if(P.indexOf(dM)==-1)eg+=P.length-1}if(iD==2){eg=dG[0]-1;var P=O.ix(eg);if(P.indexOf(dM)==-1)eg-=P.length-1}if(iD==3){eg=0;
if(O.B[0].add.lnsr=="bgnd")eg++}if(eg<0||eg>O.B.length-1)return;O.HT=!0}if(dG.indexOf(eg)!=-1&&!e9)return;
var cT=D.Z0.nl(O,dG,eg,dY,e9?O.NS(cj?null:dM):null,t==v.Xc&&_.pY>.8),ko=cT.pop(),af=cT.pop(),c_=cT.pop(),bx=O.g;
O.g=[dM];var kb=O.P_();O.g=[eg];var d4=O.P_();if(d4==eg&&!dY)d4=-1;O.g=bx;if(dM==kb){}else if(kb!=d4){var ax=new aW(0,0);
if(kb!=-1){var fs=O.B[kb].DM();ax.x-=fs.x;ax.y-=fs.y}if(d4!=-1){var fs=O.B[d4].DM();ax.x+=fs.x;ax.y+=fs.y}}var a=new gO(e9?[6,0]:[6,35],this);
a.data={d:v.Ob,AT:O.B.slice(0),Q7:c_,sI:O.g.slice(0),lU:af,$f:ax};O.dc(a);this.Pg(a.data,O);var fY={classID:"move",null:g3.g5("Lyr",!0),T:{t:"obj ",v:[{t:"indx",v:{classID:"Lyr",val:ko+(dY?0:1)}}]},Adjs:{t:"bool",v:!1},Vrsn:{t:"long",v:5},Dplc:{t:"long",v:e9}};
this.track({et:"move",ot:fY})}if(t==v._b){if(_.CB){if(V==null||!V.kx())return;var c=O.root.yJ(h),jV=O.B.indexOf(c.a6I),c_=O.B.slice(0);
c_.splice(h,1);c_.splice(jV,1);var af=[];for(var m=jV;m<h-1;m++)af.push(m);var a=new gO("Ungroup Layers",this);
a.data={d:v.Ob,AT:O.B.slice(0),Q7:c_,sI:O.g.slice(0),lU:af};O.dc(a);this.Pg(a.data,O)}else{var d=O.Ni(),iK=hU.get([0,4])+" ";
d.iA(iK+(D.Z0.YJ(O,iK)+1));d.to="pass";if(_.Cq)d.iA(_.Cq);if(_.zP!=null)d.add.lclr=_.zP;d.add.lsct=O.g.length==1?bN.GV:bN.SE;
d.FQ=24;var bl=O.y9(),dG=O.wy();if(dG.length==0)return;dG.sort(function(a,c5){return a-c5});var c_=[];
for(var m=0;m<O.B.length;m++)if(dG.indexOf(m)==-1)c_.push(O.B[m]);var c9=O.g[O.g.length-1]-dG.length;
c_.splice(c9+1,0,bl);for(var m=0;m<dG.length;m++)c_.splice(c9+2+m,0,O.B[dG[m]]);c_.splice(c9+2+dG.length,0,d);
var a=new gO([6,9],this);a.data={d:v.Ob,AT:O.B.slice(0),Q7:c_,sI:O.g.slice(0),lU:[c_.indexOf(d)]};O.dc(a);
this.Pg(a.data,O);var Z={et:"make",zS:!0};Z.ot={classID:"Mk",null:g3.g5("layerSection"),From:g3.g5("Lyr",!0),Usng:{t:"Objc",v:{classID:"layerSection",Nm:{t:"TEXT",v:d.getName()}}}};
this.track(Z)}}if(t==v.aan){if(O.g.length!=1)return;var w=O.g[0],hc=y;if(O.B[w].Ek()==null&&!l.l(bJ.mV)){t=v.sb;
_.or=O.P?!hc?"RvlS":"HdSl":!hc?"RvlA":"HdAl"}else{t=v.UY;_.amA=!0}}if(t==v.sb){if(O.g.length!=1)return;
var w=O.g[0],d=O.B[w];if(d.add.vmsk&&d.z==null)d.bf(O);var hP=d.Ek();if(hP==null||_.avI){var a=new gO([6,21],this),kt=new v.Pt,hd=_.or,il=hd=="RvlS"||hd=="HdSl";
if(hd=="RvlS"||hd=="HdAl"||hd=="Trns")kt.color=0;if(il){kt.channel=O.P.channel.slice(0);kt.rect=O.P.rect.clone();
if(hd=="HdSl")Q.sJ(kt.channel)}if(hd=="Trns"){kt.rect=d.rect.clone();kt.channel=Q.Q(d.rect.O());Q.nV(d.buffer,kt.channel,3)}a.data={d:v.Lp,LI:[w,hP,kt],De:il?[O.P,null]:null};
O.dc(a);this.Pg(a.data,O);O.B[w].LN=1;this.track({et:"make",ot:{__name:"Make",classID:"Mk",Nw:{t:"type",v:{classID:"Chnl"}},At:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Msk"}}]},Usng:{t:"enum",v:{UsrM:hd}}}})}}else if(t==v.a21){var aN=O.B[_.src],jK=O.B[_.GA],a=new gO([6,21],this),i0=aN.Ek(),eU=jK.Ek(),fe=[_.src,i0,null,_.GA,eU,i0];
if(y||r){var d6=i0.clone();if(y)fe=[_.GA,eU,d6];else fe[5]=d6;if(r){Q.sJ(d6.channel);d6.color=255-d6.color}}a.data={d:v.Lp,LI:fe};
O.dc(a);this.Pg(a.data,O)}if(t==v.H6){if(O.g.length!=1)return;var w=h,dR=O.B[w].Ek();if(dR!=null){var a=new gO([6,22],this);
a.data={d:v.Lp,LI:[h,dR,null]};O.dc(a);this.Pg(a.data,O)}}if(t==v.X5){var je=O.B.slice(0),g6=V.clone(),bF=g6.Ek();
Q.Eg(bF.H9(g6.rect),g6.rect,g6.buffer,g6.rect);D.Z0.su(O,g6);g6.AO();O.B[O.g[0]]=g6;var a=new gO([5,8],this);
a.data={d:v.Ob,AT:je,Q7:O.B.slice(),sI:O.g.slice(0),lU:O.g.slice(0)};O.dc(a);this.Pg(a.data,O)}if(t==v.cL){if(O.g.length!=1)return;
var w=O.g[0];if(O.B[w].vO(O).z==null){var a=new gO([6,45],this);a.data={d:t,j:w,z:new v.Pt};O.dc(a);
this.Pg(a.data,O)}}if(t==v.vv){if(O.g.length!=1)return;var w=O.g[0];if(O.B[w].vO(O).z!=null){var a=new gO([6,46],this);
a.data={d:t,j:w,z:O.B[w].vO(O).z};O.dc(a);this.Pg(a.data,O)}}if(t==v.rY){if(_.src==null&&O.g.length!=1)return;
if(_.src!=null)h=_.src;if(O.B[h].lx()){var a=new gO([6,47],this),am=JSON.stringify(O.B[h].add.SoLd),eA=JSON.parse(am);
delete eA.filterFX;a.data={d:v.sS,YV:[{GL:h,EE:[am,JSON.stringify(eA)],h5:[O.B[h].vO(O),null]}]};O.dc(a);
this.Pg(a.data,O)}}if(t==v.UY){if(O.g.length!=1)return;if(V.add.vmsk==null){var a=new gO([6,23],this),j2=O.cx(),fy=j2[1],j2=j2[0],kt,eE;
if(_.amA&&fy.length!=0){var c4=j2[fy[0]].add;kt=c4.vmsk.clone();eE=c4.vogk}else{kt=new v.ez;eE=[];kt.i[1].all=_.aej?0:1}a.data={d:t,j:h,lT:!0,z:kt,X:JSON.stringify(eE),eo:null};
if(V.uq()){a.data.eo=JSON.stringify(aF.eo.default)}O.dc(a);this.Pg(a.data,O)}}if(t==v.bN){var aN=O.B[_.src],jK=O.B[_.GA];
if(jK.add.vmsk)return;var a=new gO([6,23],this),go=aN.add.vmsk;a.data={j:_.GA,lT:aN.MZ,z:go.clone(),X:JSON.stringify(aN.add.vogk),eo:aN.add.vstk?JSON.stringify(aN.add.vstk):null};
if(y){a.data.d=v.UY}else{a.data.d=t;a.data.src=_.src;a.data.GA=_.GA}O.dc(a);this.Pg(a.data,O)}if(t==v.ZY||t==v.g7){if(O.g.length!=1)return;
var d=O.B[h],go=d.add.vmsk;if(go!=null){var kq=t==v.g7,a=new gO(kq?[6,8]:[6,24],this);a.data={d:v.ZY,j:h,lT:d.MZ,z:go,X:JSON.stringify(d.add.vogk),eo:d.add.vstk?JSON.stringify(d.add.vstk):null};
if(kq){a.data.VI=go.Ek(d.add.vstk)}O.dc(a);this.Pg(a.data,O)}}if(t==v.WO){var a=new gO("Metadata",this);
a.data={d:t,xR:JSON.stringify(O.I6),WW:JSON.stringify(_.WW)};O.dc(a);this.Pg(a.data,O)}if(t==v.KX){var gi=_.GA?_.GA:O,dH=gi.name,bZ=_.h+".psd";
if(dH==bZ)return;var a=new gO([6,37],this);a.data={d:t,a7C:dH,Cq:bZ};if(_.aiD!=!0)gi.dc(a);this.Pg(a.data,gi)}if(t==v.Z_&&_.nz.endsWith("makeframes")){var fL=[],be=_.nz.startsWith("make");
for(var m=0;m<O.g.length;m++){var g=O.g[m],d=O.B[g],ja=d.getName(),bA=ja.startsWith("_a_");if(be==bA||d.add.lsct==bN.eg)continue;
var h7=be?"_a_"+ja:ja.slice(3);fL.push([g,ja,h7,d.add.lnsr,null])}var a=new gO([6,37],this);a.data={d:v.pE,nZ:fL};
O.dc(a);this.Pg(a.data,O)}if(t==v.pE){var dH=V.getName(),bZ=_.name.substring(0,255);if(dH==bZ)return;
var a=new gO([6,37],this);a.data={d:t,nZ:[[h,dH,bZ,V.add.lnsr,null]]};O.dc(a);this.Pg(a.data,O);this.track(g3.d6("Nm",{t:"TEXT",v:bZ}))}if(t==v.zj){var b9=O.wy(),iI=[],ed=[];
for(var m=0;m<b9.length;m++){iI.push(O.B[b9[m]].add.lclr);ed.push(_.anj)}var a=new gO([6,38],this);a.data={d:t,B:b9,axu:iI,zP:ed};
O.dc(a);this.Pg(a.data,O)}if(t==v.er){var a=O.history[O.Uh];if(a!=null&&a.G==this&&a.data.d==t&&a.data.j==_.FO&&a.data.t2.z_==_.dK.z_)a.data.t2=_.dK;
else{a=new gO("Mask Density / Feather",this);a.data={d:t,j:_.FO,KB:O.B[_.FO].mq(_.dK.z_),t2:_.dK};O.dc(a)}this.Pg(a.data,O)}if(t==v.wF){var gV=JSON.stringify(_.h),es=JSON.parse(gV),a=O.history[O.Uh];
if(a!=null&&a.G==this&&a.data.d==t&&a.data.Dg==_.Dg&&a.data.sT.join(",")==_.sT.join(",")){for(var m=0;
m<_.sT.length;m++)a.data.AF[m]=es;if(a.data.ot&&es.xP!=0)D.Z0.OC(es.cK,a.data.ot.T.v,es.xP-1)}else{a=new gO([11,6],this);
a.data={d:t,sT:_.sT,Dg:_.Dg,a0T:[],AF:[]};var cJ=!1;for(var m=0;m<_.sT.length;m++){var g=_.sT[m],d=O.B[g],fG=_.Dg?D.Jr.sK(O,g):JSON.parse(JSON.stringify(d.add.vstk));
a.data.a0T.push(fG);a.data.AF.push(es);if(JSON.stringify(fG)!=gV)cJ=!0}if(!cJ)return;O.dc(a);if(_.Dg&&es.xP>0){var fY=a.data.ot={classID:"setd",null:g3.g5("contentLayer",!0),T:{t:"Objc",v:{}}};
D.Z0.OC(es.cK,fY.T.v,es.xP-1);this.track({et:"set",ot:fY})}}if(_.Dg&&es.xP==3)O.Rs(fW.mF(es.cK.Ptrn.v,x.LK));
if(!_.Dg){var h3=es.strokeStyleContent.v;if(h3.classID==aF.eo.yz[2])O.Rs(fW.mF(h3.Ptrn.v,x.LK))}this.Pg(a.data,O)}};
D.Z0.nl=function(_,n,O,l,x,t){var h=_.B[O],V=[];if(x)V=_.B.slice(0);else for(var m=0;m<_.B.length;m++)if(n.indexOf(m)==-1)V.push(_.B[m]);
var y=V.indexOf(h);if(t&&h.kx()&&h.add.lsct==bN.SE)y-=_.ix(O).length-1;var r=[];for(var m=0;m<n.length;
m++){var E=y+(l?0:1)+m,a=x?x[m]:_.B[n[m]];V.splice(E,0,a);r.push(E)}return[V,r,y]};D.Z0.OC=function(_,n,O){var l=[aF.M4,aF.Em,aF.Vy][O];
if(n.classID==null)n.classID=["solidColorLayer","gradientLayer","patternLayer"][O];for(var m=0;m<l.length;
m++)if(_[l[m]])n[l[m]]=JSON.parse(JSON.stringify(_[l[m]]))};D.Z0.a09=function(_){var n=new v.Pt;if(_.P!=null){n.color=0;
n.channel=_.P.channel.slice(0);n.rect=_.P.rect.clone()}return n};D.Z0.OW=function(_,n,O,l,x){var t=l.a/O.a,h=l.n/O.n,V=l.a/2,y=l.n/2,r=Q.p.ta(l).C;
for(var m=0;m<_.B.length;m++){var E=_.B[m],a=E.add.SoLd;if(a==null||a.Idnt.v!=n)continue;if(t!=1||h!=1){var S=D.D6.Zz(a.nonAffineTransform),e=Q.r.pI(S,l),P=new aY;
P.translate(-V,-y);P.scale(t,h);P.translate(V,y);var b=Q.r.kU(e,Q.r.Ct(P)),T=r.slice(0);Q.r.D(b,T);a.Trnf=D.D6.X6(T);
a.nonAffineTransform=D.D6.X6(T);if(Q.Q6.Z1(a.warp.v)){var C=a.warp.v.bounds.v;C.Rght.v.val=l.a;C.Btom.v.val=l.n}}E.Ga(_,null,x)}_.U()};
D.Z0.auI=function(_,n,O){n.color=255-n.color;Q.sJ(n.channel);n.na=!0;_.bf(O);O.U()};D.Z0.prototype.Qb=function(_,n){var O=_.d,l=n.B[_.j];
n.XS=!0;if(O==v.p$){n.add.lnk2.splice(n.add.lnk2.indexOf(_.xq),1,_._D);D.Z0.OW(n,_.id,_.xq.lf[1],_._D.lf[1])}if(O==v.w_){l.add.SoLd.Impr.v.classID=_.KB;
l.Ga(n)}if(O==v.N$){var x=JSON.parse(_.sT);for(var m=0;m<x.length;m++)n.B[x[m]].to=_.Gs[m];n.U()}if(O==v.jU){var x=JSON.parse(_.sT);
for(var m=0;m<x.length;m++)n.B[x[m]].opacity=_.Gs[m];n.U()}if(O==v.zX){var x=JSON.parse(_.sT);for(var m=0;
m<x.length;m++)if(n.B[x[m]].add.lsct!=bN.eg)n.B[x[m]].add.lspf=_.Gs[m]}if(O==v.zT){var t=_.GG,h=_.adk;
delete l.add[t[0]];if(h[0]!="----")l.add[h[0]]=h[1]}if(O==v.hn){l.add.iOpa=_.Gs;n.U()}if(O==v.VW){for(var m=0;
m<_.sT.length;m++){var V=n.B[_.sT[m]];V.ND(!V.Pn())}n.U()}if(O==v.TZ){var y=l.Ek();y.isEnabled=!y.isEnabled;
l.bf(n);n.U()}if(O==v.WR){var y=l.vO(n).z;y.isEnabled=!y.isEnabled;l.U();n.U()}if(O==v.lr){var y=l.add.vmsk;
y.isEnabled=!y.isEnabled;if(!y.isEnabled){if(l.VI){l.z=l.VI;l.VI=null}else l.z=null}else if(l.z){l.VI=l.z;
l.z=null}l.bf(n);n.U()}if(O==v.rL){l._t=!l._t;n.U()}if(O==v.Wh){l.add.lmfx.masterFXSwitch.v=!l.add.lmfx.masterFXSwitch.v;
l.Fy.Ag=!0;n.U()}if(O==v.ri){l.add.SoLd.filterFX.v.enab.v=!l.add.SoLd.filterFX.v.enab.v;l.W$(n);n.U()}if(O==v.NX){var r=_.index,E=l.add.lmfx[aF.Ck[r[0]]].v[r[1]].v;
E.enab.v=!E.enab.v;l.Fy.Ag=!0;n.U()}if(O==v.Qo){var a=n.B[_.Cn],S=n.B[_.oP],e=_.atR,P=_.a2$;if(e=="")delete a.add.lmfx;
else a.add.lmfx=JSON.parse(e);if(P=="")delete S.add.lmfx;else S.add.lmfx=JSON.parse(P);a.Fy.Ag=!0;S.Fy.Ag=!0;
n.U()}if(O==v.aS){var b=l.add.SoLd.filterFX.v.filterFXList.v[_.index].v;b.enab.v=!b.enab.v;l.W$(n);n.U()}if(O==v.afL){l.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(_.an6));
l.W$(n);n.U()}if(O==v.pB){var y=l.Ek();y.Cu=!y.Cu}if(O==v.gT){var y=l.add.vmsk;y.Cu=!y.Cu}if(O==v.US){var T=JSON.parse(_.aqF);
n.Pp=T[0];n.dm=T[1]}if(O==v.bB){var T=_.w0;for(var m=0;m<T.length;m+=2){var C=T[m],V=C>=0?n.B[C]:n.VE[-1-C];
V.add.vogk=JSON.parse(T[m+1]);Q.X.oR(V.add.vogk,V.add.vmsk);if(C>=0)V.bf(n)}n.U()}if(O==v.XG){l.add.artb=JSON.parse(_.abg);
n.U();D.e_.pP(n,_)}if(O==v.E2){n.P=_.IW;n.U_=_.w0.slice(0);n.oO=_.Nm.slice(0);n.Hc=n.i1=!0}if(O==v.ml){l.DZ=!l.DZ}if(O==v.e6){var Z=_.a1$;
for(var m=0;m<Z.length;m++)n.B[m].Ac=Z[m]}if(O==v.Ob){if(_.$f)D.dV.nJ(n,n.g,null,-_.$f.x,-_.$f.y);if(_.sI)n.g=_.sI;
if(_.De)n.P=_.De[0];n.tF=null;n.U();n.T0(_.AT);D.e_.pP(n,_);if(_.Vt)n.WX(_.Vt[0])}if(O==v.Lp){for(var m=0;
m<_.LI.length;m+=3)D.Z0.su(n,n.B[_.LI[m]],_.LI[m+1]);if(_.De){var W=_.De[0];if(W==null)delete n.P;else n.P=W}}if(O==v.cL){l.vO(n).z=null;
l.U();n.U()}if(O==v.vv){l.vO(n).z=_.z;l.U();n.U()}if(O==v.sS){D.Z0.a0U(n,_.YV,0)}if(O==v.UY){D.Z0.sM(n,l,!0)}if(O==v.bN){D.Z0.sM(n,n.B[_.GA],_.z.isEnabled);
D.Z0.p4(n,n.B[_.src],_)}if(O==v.ZY){if(_.VI)D.Z0.su(n,l,null);D.Z0.p4(n,l,_)}if(O==v.WO){n.I6=JSON.parse(_.xR)}if(O==v.KX){n.name=_.a7C}if(O==v.pE){for(var m=0;
m<_.nZ.length;m++){var s=_.nZ[m],V=n.B[s[0]];V.iA(s[1]);if(s[3])V.add.lnsr=s[3];else delete V.add.lnsr}}if(O==v.zj){for(var m=0;
m<_.B.length;m++)n.B[_.B[m]].add.lclr=_.axu[m]}if(O==v.wF){var f=_.a0T;for(var m=0;m<_.sT.length;m++){var V=n.B[_.sT[m]],q=f[m];
if(!_.Dg)V.add.vstk=JSON.parse(JSON.stringify(q));else D.Jr.RE(V,JSON.parse(JSON.stringify(q)));V.Ih(n)}n.U()}if(O==v.er){l.a8d(_.KB);
l.bf(n);n.U()}n.i1=!0};D.Z0.prototype.Pg=function(_,n){var O=_.d,l=n.B[_.j];n.XS=!0;if(O==v.p$){n.add.lnk2.splice(n.add.lnk2.indexOf(_._D),1,_.xq);
D.Z0.OW(n,_.id,_._D.lf[1],_.xq.lf[1])}if(O==v.w_){l.add.SoLd.Impr.v.classID=_.t2;l.Ga(n)}if(O==v.N$){var x=JSON.parse(_.sT);
for(var m=0;m<x.length;m++)n.B[x[m]].to=_.t2;n.U()}if(O==v.jU){var x=JSON.parse(_.sT);for(var m=0;m<x.length;
m++)n.B[x[m]].opacity=_.t2;n.U()}if(O==v.zX){var x=JSON.parse(_.sT);for(var m=0;m<x.length;m++)if(n.B[x[m]].add.lsct!=bN.eg)n.B[x[m]].add.lspf=_.t2[m]}if(O==v.zT){var t=_.adk,h=_.GG;
delete l.add[t[0]];if(h[0]!="----")l.add[h[0]]=h[1]}if(O==v.hn){l.add.iOpa=_.t2;n.U()}if(O==v.VW){for(var m=0;
m<_.sT.length;m++){var V=n.B[_.sT[m]];V.ND(!V.Pn())}n.U()}if(O==v.TZ){var y=l.Ek();y.isEnabled=!y.isEnabled;
l.bf(n);n.U()}if(O==v.WR){var y=l.vO(n).z;y.isEnabled=!y.isEnabled;l.U();n.U()}if(O==v.lr){var y=l.add.vmsk;
y.isEnabled=!y.isEnabled;if(!y.isEnabled){if(l.VI){l.z=l.VI;l.VI=null}else l.z=null}else if(l.z){l.VI=l.z;
l.z=null}l.bf(n);n.U()}if(O==v.rL){l._t=!l._t;n.U()}if(O==v.Wh){l.add.lmfx.masterFXSwitch.v=!l.add.lmfx.masterFXSwitch.v;
l.Fy.Ag=!0;n.U()}if(O==v.ri){l.add.SoLd.filterFX.v.enab.v=!l.add.SoLd.filterFX.v.enab.v;l.W$(n);n.U()}if(O==v.NX){var r=_.index,E=l.add.lmfx[aF.Ck[r[0]]].v[r[1]].v;
E.enab.v=!E.enab.v;l.Fy.Ag=!0;n.U()}if(O==v.Qo){var a=n.B[_.Cn],S=n.B[_.oP],e=_.avF,P=_.ayb;if(e=="")delete a.add.lmfx;
else a.add.lmfx=JSON.parse(e);if(P=="")delete S.add.lmfx;else S.add.lmfx=JSON.parse(P);a.Fy.Ag=!0;S.Fy.Ag=!0;
n.U()}if(O==v.aS){var b=l.add.SoLd.filterFX.v.filterFXList.v[_.index].v;b.enab.v=!b.enab.v;l.W$(n);n.U()}if(O==v.afL){l.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(_.ajF));
l.W$(n);n.U()}if(O==v.pB){var y=l.Ek();y.Cu=!y.Cu}if(O==v.gT){var y=l.add.vmsk;y.Cu=!y.Cu}if(O==v.US){var T=JSON.parse(_.aiy);
n.Pp=T[0];n.dm=T[1]}if(O==v.bB){var T=_.vP;for(var m=0;m<T.length;m+=2){var C=T[m],V=C>=0?n.B[C]:n.VE[-1-C];
V.add.vogk=JSON.parse(T[m+1]);Q.X.oR(V.add.vogk,V.add.vmsk);if(C>=0)V.bf(n)}n.U()}if(O==v.XG){l.add.artb=JSON.parse(_.Y4);
n.U();D.e_.n6(n,_)}if(O==v.E2){n.P=_.Ss;n.U_=_.vP.slice(0);n.oO=_.J3.slice(0);n.Hc=n.i1=!0}if(O==v.ml){l.DZ=!l.DZ}if(O==v.e6){var Z=_.a8x;
for(var m=0;m<Z.length;m++)n.B[m].Ac=Z[m]}if(O==v.Ob){n.a54();var W=_.Q7,s=0,f;for(var m=0;m<W.length;
m++){var V=W[m],q=V.add.lsct;if(q==bN.eg)s++;else if(q==bN.GV||q==bN.SE)s--;if(V.add.artb&&s!=0)f="Artboards can not be inside folders."}if(f){n.history.pop();
n.Uh--;alert(f);return}D.e_.n6(n,_);if(_.lU)n.g=_.lU;if(_.De)n.P=_.De[1];n.tF=null;n.U();n.T0(_.Q7);
if(_.$f)D.dV.nJ(n,n.g,null,_.$f.x,_.$f.y);if(_.Vt)n.WX(_.Vt[1])}if(O==v.Lp){for(var m=0;m<_.LI.length;
m+=3)D.Z0.su(n,n.B[_.LI[m]],_.LI[m+2]);if(_.De){var g=_.De[1];if(g==null)delete n.P;else n.P=g}}if(O==v.cL){l.vO(n).z=_.z;
l.LN=0;l.U();n.U()}if(O==v.vv){l.vO(n).z=null;l.LN=0;l.U();n.U()}if(O==v.sS){D.Z0.a0U(n,_.YV,1)}if(O==v.UY){D.Z0.p4(n,l,_)}if(O==v.bN){D.Z0.sM(n,n.B[_.src],_.z.isEnabled);
D.Z0.p4(n,n.B[_.GA],_)}if(O==v.ZY){D.Z0.sM(n,l,_.z.isEnabled);if(_.VI)D.Z0.su(n,l,_.VI)}if(O==v.WO){n.I6=JSON.parse(_.WW)}if(O==v.KX){n.name=_.Cq}if(O==v.pE){for(var m=0;
m<_.nZ.length;m++){var i=_.nZ[m],V=n.B[i[0]];V.iA(i[2]);if(i[4])V.add.lnsr=i[4];else delete V.add.lnsr}}if(O==v.zj){for(var m=0;
m<_.B.length;m++)n.B[_.B[m]].add.lclr=_.zP[m]}if(O==v.wF){var u=_.AF;for(var m=0;m<_.sT.length;m++){var V=n.B[_.sT[m]],I=u[m];
if(!_.Dg)V.add.vstk=JSON.parse(JSON.stringify(I));else D.Jr.RE(V,JSON.parse(JSON.stringify(I)));V.Ih(n)}n.U()}if(O==v.er){l.a8d(_.t2);
l.bf(n);n.U()}n.i1=!0};D.Z0.YJ=function(_,n){var O=0;for(var m=0;m<_.B.length;m++){var l=_.B[m].getName();
if(l.startsWith(n)){var x=l.slice(n.length).trim(),t=parseInt(x);if(!isNaN(t)&&t+""==x&&t>O)O=t}}return O};
D.Z0.a0U=function(_,n,O){for(var m=0;m<n.length;m++){var l=n[m],x=_.B[l.GL];if(l.EE){x.add.SoLd=JSON.parse(l.EE[O])}if(l.h5){if(l.h5[1-O]!=null)_.RP(l.h5[1-O]);
if(l.h5[O]!=null)_.VS(l.h5[O]);else x.LN=0}x.Ga(_)}};D.Z0.a4m=function(_,n){var O=_.zx,l=_.rect.clone();
if(O!=null&&(O.x!=n.a||O.y!=n.n)){l.x=Math.floor((n.a-l.a)/2);l.y=Math.floor((n.n-l.n)/2)}else if(O==null){var x=new a8(0,0,n.a,n.n),t=n.P_();
if(t!=-1)x=n.B[t].DM();l.x+=x.x;l.y+=x.y}return l};D.Z0.ay4=function(_,n){if(n.VI)n.VI=null;else n.z=null;
n.bf(_);_.U();n.LN=0};D.Z0.su=function(_,n,O){var l=n.Ek();if(l==null&&O==null)return;if(l)D.Z0.ay4(_,n);
if(O==null)return;if(n.z)n.VI=O;else n.z=O;n.bf(_);_.U()};D.Z0.sM=function(_,n,O){if(n.VI&&O){n.z=n.VI;
n.VI=null}else if(n.z&&O){n.z=null}delete n.add.vogk;delete n.add.vstk;delete n.add.vmsk;n.bf(_);n.MZ=!1;
_.tF=[];_.U()};D.Z0.p4=function(_,n,O){n.add.vogk=JSON.parse(O.X);if(O.eo)n.add.vstk=JSON.parse(O.eo);
else delete n.add.vstk;n.add.vmsk=O.z.clone();if(n.z&&n.add.vmsk.isEnabled)n.VI=n.z;n.bf(_);n.MZ=O.lT;
_.tF=[_.B.indexOf(n)];_.WJ=[];_.U()};D.r$=function(){D.zi.call(this,"Layer Styles",D.rV);this.GR=null;
this.Ui=null;this.sz=null;this._v=[];this.Dw=null};D.r$.prototype=new D.zi;D.r$.prototype.cZ=function(_,n,O,l,x){var t=_.j;
if(t==null)t=O.g[0];var h=O.B[t],V=_.tE;if(this.GR==null){this.sz=D.r$.nO(O,h);this.GR=JSON.stringify(this.sz);
if(h.add.lmfx)this.Ui=JSON.stringify(h.add.lmfx)}if(h.add.lmfx==null){h.add.lmfx=JSON.parse(aF.default);
for(var m=0;m<aF.order.length;m++)h.add.lmfx[aF.Ck[m]]={t:"VlLs",v:[]}}if(_.d=="scaleeffects"){if(_.h=="confirm"||_.h=="cancel"){this.cZ({d:_.h},n,O,l,x);
return}h.add.lmfx=JSON.parse(this.Ui);fW.BI(h.add.lmfx,_.h/100)}else if(_.d=="changeprop"){var y=null;
if(V!=0){var r=this._v[V[0]];if(r==null)r=aF._v[V[0]];r=JSON.parse(r);var E=h.add.lmfx[aF.Ck[V[0]]].v;
if(E[V[1]]==null)E[V[1]]={t:"Objc",v:r};y=E[V[1]].v;for(var a in r)if(y[a]==null)y[a]=r[a]}if(_.d=="changeprop"){if(V==0){this.sz[_.YM].v=_.h;
D.r$.yd(O,h,this.sz)}else if(_.YM=="lagl"){if(y.uglg&&y.uglg.v){O.mz(_.h.val);this.sz.gagl.v.val=O.tk()}else y[_.YM].v=_.h}else if(_.YM=="Lald"){if(y.uglg.v){O.LC(_.h.val);
this.sz.aaN=O.a$()}else y[_.YM].v=_.h}else if((V[0]==3||V[0]==8)&&(_.YM=="Clr"||_.YM=="Grad")){if(_.YM=="Clr"){y.Clr={t:"Objc",v:_.h};
delete y.Grad}if(_.YM=="Grad"){y.Grad={t:"Objc",v:_.h};delete y.Clr}}else{y[_.YM].v=_.h}if(V!=0)this._v[V[0]]=JSON.stringify(y)}if(V!=0)if(y.Ptrn)O.Rs(fW.mF(y.Ptrn.v,x.LK))}else if(_.d=="setstl"){var S=_.h.Lefx;
if(S)fW.a0_(S,O,x.LK);fW.ajZ(_.h,h,null,O);this.sz=D.r$.nO(O,h)}else if(_.d=="st_dupsingle"){var e=h.add.lmfx[aF.Ck[_.Ky[0]]].v;
if(e[_.Ky[1]]==null)return;var P=JSON.parse(JSON.stringify(e[_.Ky[1]]));e.splice(_.Ky[1],0,P)}else if(_.d=="st_movsingle"){var b=_.Ky[1],e=h.add.lmfx[aF.Ck[_.Ky[0]]].v;
if(e[_.Ky[1]]==null)return;var T=Math.max(0,Math.min(e.length-1,b+_.a4j)),C=e[T];e[T]=e[b];e[b]=C}else if(_.d=="cancel"){if(this.Ui==null)delete h.add.lmfx;
else h.add.lmfx=JSON.parse(this.Ui);D.r$.yd(O,h,JSON.parse(this.GR));this.GR=null;this.Ui=null}else if(_.d=="confirm"){var Z=JSON.stringify(h.add.lmfx),W=new gO([11,6],this);
W.data={B:[t],SF:[this.Ui],Fk:[Z],S3:[this.GR],n7:[JSON.stringify(this.sz)]};O.dc(W);this.GR=null;this.Ui=null;
if(Z!=null){var s=JSON.parse(Z);dk.U1(s);s.classID="Lefx";delete s.masterFXSwitch;var f=new e_(H.E.yy);
f.$o=!0;f.data={et:"set",zS:!0};var q=g3.g5("Lyr",!0);q.v.splice(0,0,{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}});
f.data.ot={__name:"Set",classID:"setd",null:q,T:{t:"Objc",v:s}};n.$(f)}}else if(_.d=="st_copy"){this.Dw=[this.GR,this.Ui];
this.GR=null;this.Ui=null}else if(_.d=="st_paste"||_.d=="st_clear"){if(_.d=="st_paste"&&this.Dw==null)return;
var g=_.j!=null?[_.j]:O.g.slice(0),i=[],u=[],I=[],Y=[];for(var m=0;m<g.length;m++){var h=O.B[g[m]],U=D.r$.nO(O,h);
i.push(h.add.lmfx?JSON.stringify(h.add.lmfx):null);I.push(JSON.stringify(U));if(_.d=="st_paste"){u.push(this.Dw[1]);
Y.push(this.Dw[0])}else{u.push(null);U.lrMd.v=0;U.Opct.v.val=100;U.iOpa.v.val=100;U.blIf={v:[]};for(var F=0;
F<10;F++)U.blIf.v.push(0,0,255,255);Y.push(JSON.stringify(U))}}var W=new gO([11,6],this);W.data={B:g,SF:i,Fk:u,S3:I,n7:Y};
this.Pg(W.data,O);O.dc(W);this.GR=null;this.Ui=null}else{var N=this.sz,s=null;if(_.d=="st_delsingle"){s=JSON.parse(this.Ui);
s[aF.Ck[_.Ky[0]]].v.splice(_.Ky[1],1);s=JSON.stringify(s)}if(s==null)delete h.add.lmfx;else h.add.lmfx=JSON.parse(s);
if(N!=null)D.r$.yd(O,h,N);var W=new gO([11,6],this);W.data={B:[_.j],SF:[this.Ui],Fk:[s],S3:[this.GR],n7:[JSON.stringify(N)]};
O.dc(W);this.GR=null;this.Ui=null}h.Fy.Ag=!0;O.XS=!0;O.U()};D.r$.nO=function(_,n){if(n.add.iOpa==null)n.add.iOpa=255;
if(n.add.brst==null)n.add.brst=[1,1,1];var O=n.kx()?["pass"].concat(b3.qX):b3.qX;return{lrMd:{v:O.indexOf(n.to)},Opct:{v:{type:"#Prc",val:Math.round(n.opacity*100/255)},t:"UntF"},iOpa:{v:{type:"#Prc",val:Math.round(n.add.iOpa*100/255)},t:"UntF"},blIf:{v:n.D2.slice(0)},brst:{v:n.add.brst},gagl:{t:"UntF",v:{type:"#Ang",val:_.tk()}},aaN:_.a$(),kx:n.kx()}};
D.r$.yd=function(_,n,O){var l=n.kx()?["pass"].concat(b3.qX):b3.qX;n.to=l[O.lrMd.v];n.opacity=Math.round(O.Opct.v.val*255/100);
n.add.iOpa=Math.round(O.iOpa.v.val*255/100);n.D2=O.blIf.v.slice(0);n.add.brst=O.brst.v.slice(0);_.mz(O.gagl.v.val);
_.LC(O.aaN)};D.r$.prototype.Qb=function(_,n){for(var m=0;m<_.B.length;m++){var O=n.B[_.B[m]],l=_.SF[m];
if(l==null)delete O.add.lmfx;else O.add.lmfx=JSON.parse(l);D.r$.yd(n,O,JSON.parse(_.S3[m]));O.Fy.Ag=!0}n.XS=!0;
n.U()};D.r$.prototype.Pg=function(_,n){for(var m=0;m<_.B.length;m++){var O=n.B[_.B[m]],l=_.Fk[m];if(l==null)delete O.add.lmfx;
else O.add.lmfx=JSON.parse(l);D.r$.yd(n,O,JSON.parse(_.n7[m]));O.Fy.Ag=!0}n.XS=!0;n.U()};D.jC=function(){D.zi.call(this,"Layer Comps",D.lI)};
D.jC.prototype=new D.zi;D.jC.prototype.cZ=function(_,n,O,l){var x=JSON.parse(JSON.stringify(O.OQ)),t=JSON.parse(JSON.stringify(O.OQ)),h=null,V=null,y=null,r=-1,E=!1;
if(_.d=="delLC"){var a=D.jC.qt(O.OQ,_.tE),S=O.OQ.lastAppliedComp?O.OQ.lastAppliedComp.v:0;t.list.v.splice(a,1);
if(S==_.tE)delete t.lastAppliedComp;h="Delete Layer Comp"}if(_.d=="editLC"){var a=D.jC.qt(O.OQ,_.tE),e=t.list.v[a].v;
if(_.Cq!=null)e.Nm.v=_.Cq;if(_.apA!=null){var P=_.apA,b=e.capturedInfo.v,T=b&(1<<P)-1;b=b>>P;if((b&1)==1)b--;
else b++;e.capturedInfo.v=(b<<P)+T}h="Layer Comp properties"}if(_.d=="setLC"){D.jC.rj(O);if(_.tE==0)delete t.lastAppliedComp;
else t.lastAppliedComp={t:"long",v:_.tE};h="Switch Layer Comp";E=!0}if(_.d=="updLC"){D.jC.rj(O);V=D.jC.atd(O,_.tE);
y=D.jC.kC(O,_.tE);t.lastAppliedComp={t:"long",v:_.tE};h="Update Layer Comp";r=_.tE;E=!0}if(_.d=="addLC"){D.jC.rj(O);
var C=1;for(var m=0;m<t.list.v.length;m++)C=Math.max(C,t.list.v[m].v.compID.v)+1;C+=Math.floor(Math.random()*1e4);
var Z={t:"Objc",v:{classID:"Comp",Nm:{t:"TEXT",v:"New Comp "+(t.list.v.length+1)},compID:{t:"long",v:C},capturedInfo:{t:"long",v:7}}};
t.list.v.push(Z);t.lastAppliedComp={t:"long",v:C};h="New Layer Comp";var W=D.jC.kC(O,C);D.jC.qC(O,W,C)}var s=new gO(h,this);
s.data={a4W:x,avN:t,acF:V,ay3:y,tE:r,t6:E};this.Pg(s.data,O);O.dc(s)};D.jC.prototype.Pg=function(_,n){n.OQ=_.avN;
n.XS=!0;if(_.ay3)D.jC.qC(n,_.ay3,_.tE);if(_.t6){var O=n.OQ.lastAppliedComp?n.OQ.lastAppliedComp.v:0,l=D.jC.qt(n.OQ,O),x=l==-1?null:n.OQ.list.v[l].v,t=x?x.capturedInfo.v:7;
D.jC.$N(n,O,t);n.U()}};D.jC.prototype.Qb=function(_,n){n.OQ=_.a4W;n.XS=!0;if(_.acF)D.jC.qC(n,_.acF,_.tE);
if(_.t6){var O=n.OQ.lastAppliedComp?n.OQ.lastAppliedComp.v:0,l=D.jC.qt(n.OQ,O),x=l==-1?null:n.OQ.list.v[l].v,t=x?x.capturedInfo.v:7;
D.jC.$N(n,O,t);n.U()}};D.jC.rj=function(_){if(_.OQ.lastAppliedComp!=null||!_.P1)return;var n=D.jC.kC(_,0);
D.jC.qC(_,n,0);_.P1=!1};D.jC.Aq=function(_,n,O){_.v.Hrzn.v+=n;_.v.Vrtc.v+=O};D.jC.qt=function(_,n){var O=_.list.v;
for(var m=0;m<O.length;m++)if(O[m].v.compID.v==n)return m;return-1};D.jC.a6z=function(_){var n=_.layerSettings.v,x=null;
if(n.length==0)return;var O="compList enab Ofst blendOptions Lefx FXRefPoint imageMask vectorMask layerSpecific".split(" "),l=n[0].v;
if(l.enab==null)l.enab={t:"bool",v:!0};if(l.Ofst==null)l.Ofst={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:0},Vrtc:{t:"long",v:0}}};
for(var m=0;m<n.length;m++){var t=n[m].v;if(x==null)x=JSON.parse(JSON.stringify(t));else for(var h=0;
h<O.length;h++){var V=O[h];if(t[V])x[V]=JSON.parse(JSON.stringify(t[V]))}n[m].v=JSON.parse(JSON.stringify(x))}};
D.jC.a8c=function(_,n){var O=_.add.shmd.cmls,l=O.layerSettings.v;for(var x=0;x<l.length;x++){var t=l[x].v,h=t.compList.v[0].v;
if(h==n)return x}return-1};D.jC.aeg=function(_,n){var O=D.jC.a8c(_,n);return O==-1?null:_.add.shmd.cmls.layerSettings.v[O].v};
D.jC.$N=function(_,n,O){for(var m=0;m<_.B.length;m++){var l=_.B[m],x=l.add.shmd.cmls;if(x==null)continue;
var t=x.layerSettings.v,h=D.jC.aeg(l,n);if(h==null){l.ND(!1);continue}if((O&1)!=0){if(h.enab)l.ND(h.enab.v);
else l.ND(!0)}if((O&2)!=0){if(h.Ofst){var V=h.Ofst.v,y=l.Kr(_),r=Math.round(V.Hrzn.v-y.x),E=Math.round(V.Vrtc.v-y.y);
if(r!=0||E!=0)D.dV.nJ(_,[m],null,r,E)}}if((O&4)!=0){if(h.Lefx){var a=JSON.parse(JSON.stringify(h.Lefx.v));
dk.Hn(a);if(JSON.stringify(a)!=JSON.stringify(l.add.lmfx)){l.add.lmfx=a;l.Fy.Ag=!0}}else delete l.add.lmfx;
if(h.blendOptions){var S=h.blendOptions.v;if(S.Opct)l.opacity=Math.round(255*S.Opct.v.val/100);if(S.fillOpacity)l.add.iOpa=Math.round(255*S.fillOpacity.v.val/100);
if(S.Md)l.to=l.add.lsct==bN.eg?"norm":b3.SY(S.Md.v.BlnM)}else{l.opacity=255;l.to=l.kx()?"pass":"norm";
l.add.iOpa=255}}}};D.jC.atd=function(_,n){var O={};for(var m=0;m<_.B.length;m++){var l=_.B[m];if(l.add.shmd==null||l.add.shmd.cmls==null)continue;
O["l"+l.add.lyid]=JSON.parse(JSON.stringify(D.jC.aeg(l,n)))}return O};D.jC.kC=function(_,n){var O={};
for(var m=0;m<_.B.length;m++){var l=_.B[m],x=l.add.lyid;O["l"+x]=D.jC.aj2(_,l,n)}return O};D.jC.aj2=function(_,n,O){var l=n.add.shmd?n.add.shmd.cmls:null,x={classID:"null"},t=n.Kr(_),h={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:t.x},Vrtc:{t:"long",v:t.y}}};
x.compList={t:"VlLs",v:[{t:"long",v:O}]};x.enab={t:"bool",v:n.Pn()};x.Ofst=JSON.parse(JSON.stringify(h));
x.FXRefPoint=JSON.parse(JSON.stringify(l&&l.origFXRefPoint?l.origFXRefPoint:h));x.blendOptions={t:"Objc",v:{classID:"null",Md:{t:"enum",v:{BlnM:b3.Aa(n.to)}},Opct:{t:"UntF",v:{type:"#Prc",val:100*n.opacity/255}},fillOpacity:{t:"UntF",v:{type:"#Prc",val:n.add.iOpa!=null?100*n.add.iOpa/255:100}}}};
if(n.add.vmsk){x.vectorMask={t:"Objc",v:{classID:"null"}};x.vectorMask.v.Ofst=JSON.parse(JSON.stringify(h))}if(n.add.lmfx){x.Lefx={t:"Objc",v:JSON.parse(JSON.stringify(n.add.lmfx))};
dk.U1(x.Lefx.v)}return x};D.jC.auw=function(_,n){var O=n.add.lyid;if(n.add.shmd==null)n.add.shmd={};
if(n.add.shmd.cmls==null){n.add.shmd.cmls={classID:"null",LyrI:{t:"long",v:O},layerSettings:{t:"VlLs",v:[{t:"Objc",v:D.jC.aj2(_,n,0)}]}}}};
D.jC.qC=function(_,n,O){for(var m=0;m<_.B.length;m++){var l=_.B[m],x=l.add.lyid;D.jC.auw(_,l);var t=l.add.shmd.cmls,h=t.layerSettings.v,V=n["l"+x];
if(V!=null)V={t:"Objc",v:JSON.parse(JSON.stringify(V))};var y=D.jC.a8c(l,O);if(y==-1){if(V==null)continue;
else h.push(V)}else{if(V==null)h.splice(y,1);else h[y]=V}}};D.jC.qK=function(_,n){for(var m=0;m<_.B.length;
m++){var O=_.B[m],l=O.add.lyid;if(O.add.shmd==null||O.add.shmd.cmls==null)continue;var x=O.Kr(_),t=Math.round(x.x),h=Math.round(x.y);
if(!n){t=-t;h=-h}var V=O.add.shmd.cmls,y=V.layerSettings.v;if(V.origFXRefPoint)D.jC.Aq(V.origFXRefPoint,-t,-h);
for(var r=0;r<y.length;r++){var E=y[r].v;D.jC.Aq(E.Ofst,t,h);var a=E.imageMask,S=E.vectorMask;if(a&&a.v.Ofst)D.jC.Aq(a.v.Ofst,t,h);
if(S&&S.v.Ofst)D.jC.Aq(S.v.Ofst,t,h)}}};D.tc=function(){D.zi.call(this,"Adjust Edit",D.wR);this.WW=null;
this.Wb=null};D.tc.prototype=new D.zi;D.tc.fF=function(_,n,O,l){if(l)n/=4;var x=0,t=0,h=255,V=0,y=0,r=255;
while(t+_[x]<n){t+=_[x];x++}while(V+_[h]<n){V+=_[h];h--}if(l){x-=Math.round(_[x]/(O/32));h+=Math.round(_[h]/(O/32));
if(x<0)y=Math.round(-x*255/(h-x));if(h>255)r=255-Math.round((h-255)*255/(h-x))}return[Math.max(x,0),Math.min(h,255),y,r,100]};
D.tc.prototype.cZ=function(_,n,O,l,x){var t=_.d;if(t=="auto"){var h=_.eM,V=D.tc.getData(O);for(var m=0;
m<V.length;m++){var y=V[m],r;if(h<3){}else{var E=ie.gV("hue2");c7.Ll(E,0,[0,-100,0]);r=a3.ja("hue2",E)}a3.Er(r,y.r0,y.io,y.Sm)}D.tc.z5(O,V);
D.tc.o5(O,V,h<3?[4,16,h]:[19,7,0],this);O.U()}if(t=="edit_layer")this.ajw(_,n,O,l);if(t=="edit"||t=="confirm"||t=="cancel")this.PC(_,n,O,x,!0);
if(t=="start"){if(O.g.length==0)return;var a=O.B[O.g[0]];if(a.add.SoLd&&a.LN<=0&&O.oO.length==0){var S=new e_(H.E.s,!0);
S.G=D.rq;S.data={d:"start",D$:_.v3,As:_.As};n.$(S);return}if(!O.Dt(n,null,!0))return;if(ez[_.v3]&&_.As==null){if(O.g.length!=1)alert("Will be applied to "+O.g.length+" layers.");
var S=new e_(H.E.L,!0);S.data={d:H.t.Rq,EW:"afw_"+_.v3};n.$(S)}else{this.PC({d:"edit",As:_.As,D$:_.v3},n,O,x);
this.PC({d:"confirm",D$:_.v3},n,O,x)}}};D.tc.prototype.ajw=function(_,n,O,l){var x=_.d,t=O.g[0],h=O.B[t],V=a3.get(h.add),y=JSON.parse(JSON.stringify(h.add[V])),S;
for(var r in _.h)y[r]=_.h[r];var E=JSON.parse(JSON.stringify(y));for(var r in a3.By)if(a3.By[r]==V)E.classID=r;
var a=O.history[O.Uh];if(a&&a.G==this&&a.data.KB!=null&&a.data.j==t)S=a;else{var e=new e_(H.E.yy,!0),P={classID:"setd",null:g3.g5("AdjL",!0),T:{t:"Objc",v:E}};
e.data={zS:!0,et:"set",ot:P};n.$(e);var S=new gO([6,39],this);S.data={j:t,KB:h.add[V],t2:y,Mf:P};O.dc(S)}S.data.t2=y;
S.data.Mf.T.v=E;this.Pg(S.data,O)};D.tc.getData=function(_,n,O){var l=[],x=new a8(0,0,_.a,_.n),t=_.oO.length!=0?[-1-_.oO[0]]:_.g;
for(var m=0;m<t.length;m++){var h=t[m],V=h<0?null:_.B[h],y={j:h,Hr:h<0?1:V.LN};l.push(y);var r=_.U_[-1-h];
if(0<=h)r=V.LN<=0?null:V.LN==1?V.Ek():V.vO(_).z;var E=r?r.rect:V.rect;if(_.P)y.Sm=r!=null?_.P.rect.v6(x):_.P.rect.v6(E);
else y.Sm=n||r!=null?E.uG(x):E.clone();if(O)y.Sm=O[m].Sm.clone();var a=y.Sm.O();y.r0=Q.Q(a*4);if(r)D.Os.j4(r.channel,r.rect,r.color,y.r0,y.Sm);
else Q.zw(V.buffer,E,y.r0,y.Sm);y.io=y.r0.slice(0);if(_.P){y.LI=Q.Q(a);Q.pc(_.P.channel,_.P.rect,y.LI,y.Sm)}}return l};
D.tc.adu=function(_,n,O){if(n==null)return n;var l=a3.$G(_,n),t;if(l==-1)return n;var x=O.length>>>2,h=Q.CO(O),V=.001*x;
if(l==0||l==2)t=[[0,255,0,255,100],D.tc.fF(h[1],V,x,l==2),D.tc.fF(h[2],V,x,l==2),D.tc.fF(h[3],V,x,l==2)];
if(l==1)t=[D.tc.fF(h[0],V*.33,x,!1),[0,255,0,255,100],[0,255,0,255,100],[0,255,0,255,100]];var y=ie.gV("levl");
for(var m=0;m<4;m++)jb.Ll(y,m,t[m]);return y};D.tc.adt=function(_,n,O,l){var x,t;if(O.t=="name"){var h=0;
for(var V=0;V<_.B.length;V++)if(_.B[V].getName()==O.v.val)h=V;if(_==n&&h==l.j){x=l.r0;t=l.Sm}else{var y=_.B[h];
x=y.buffer;t=y.rect}}else{t=new a8(0,0,_.a,_.n);x=_==n?l.G7:_.Cs()}return[x,t]};D.tc.prototype.PC=function(_,n,O,l){if(this.WW==null){if(_.D$=="aply")O.B[O.g[0]].extend(new a8(0,0,O.a,O.n));
this.WW=D.tc.getData(O,null,_.D$=="fade"?O.bU().data:null);if(_.D$=="aply"||_.D$=="matc")this.WW[0].G7=O.Cs()}if(_.d=="edit"){this.Wb=[_.D$,_.As];
var x=this.WW[0],t=D.tc.adu(_.D$,_.As,x.r0),h=a3.ja(_.D$,t);if(_.D$=="fade"||_.D$=="matc"||_.D$=="aply")h=_.As;
if(h!=null){for(var V=0;V<this.WW.length;V++){var y=this.WW[V];if(_.AG)Q.Jt(y.r0,y.io);else if(_.D$=="fade"){var r=b3.SY(_.As.Md.v.BlnM),E=_.As.Opct.v.val/100,a=O.bU().data[V];
Q.Jt(a.r0,y.io);if(r=="norm")Q.q.ZT(y.r0,y.Sm,y.io,y.Sm,null,null,null,y.Sm,E);else{var S=fW.nr();S.FE=!0;
for(var m=0;m<a.r0.length;m+=4)if(a.r0[m+3]!=y.r0[m+3]){S=null;break}Q.q.Zn(r,y.r0,y.Sm,y.io,y.Sm,y.Sm,E,S)}}else if(_.D$=="matc"){var e;
if(h.noReference&&h.noReference.v)e=y.r0;else{var P=h.Srce.v,b=P[1].v.val,T=n.A0,C=O;for(var m=0;m<T.length;
m++)if(T[m].name==b)C=T[m];var Z=D.tc.adt(C,O,P[0],y);e=Z[0]}gg(y.r0,y.Sm.a,y.Sm.n,e,y.io,[h.Lght.v,h.ClrR.v,h.Fade.v,h.neutralizeColor?h.neutralizeColor.v:!1])}else if(_.D$=="aply"){h=h.With.v;
var W=h.T.v,Z=D.tc.adt(O,O,W[1],y),e=Z[0],s=Z[1],f=h.Clcl?h.Clcl.v.Clcn:null,r=f?b3.SY(f):"norm",E=h.Opct?h.Opct.v.val/100:1,q=["RGB","Rd","Grn","Bl","Trsp"].indexOf(W[0].v.enum),t=h.Invr&&h.Invr.v;
if(t||q!=0){e=e.slice(0);if(t)Q.aig(e);if(q!=0){var g=Q.Q(s.O());Q.nV(e,g,q-1);if(q==4)Q.sJ(g);for(var i=0;
i<3;i++)Q.$c(g,e,i)}}if(f=="Add"||f=="Sbtr"){var u=1/h.Scl.v,I=h.Ofst.v,Y=f=="Add"?1:-1,U=new Uint8ClampedArray(y.io.buffer);
for(var m=0;m<e.length;m+=4){U[m]=(y.r0[m]+Y*e[m])*u+I;U[m+1]=(y.r0[m+1]+Y*e[m+1])*u+I;U[m+2]=(y.r0[m+2]+Y*e[m+2])*u+I}}else{var S=fW.nr();
S.FE=h.PrsT&&h.PrsT.v;y.io.fill(0);y.io.set(y.r0);Q.q.Zn(r,e,s,y.io,y.Sm,y.Sm,E,S)}}else a3.Er(h,y.r0,y.io,y.Sm)}D.tc.z5(O,this.WW)}}if(_.d=="cancel"){D.tc.a7I(O,this.WW);
this.WW=null}if(_.d=="confirm"){var F={fade:[2,11],aply:[2,12],matc:[4,18]},N=F[_.D$];if(N==null)N=a3.names[_.D$];
var o=a3.$G(_.D$,this.Wb[1]);if(o!=-1)N=[4,16,o];D.tc.o5(O,this.WW,N,this);this.WW=null;if(o==-1)D.tc.C6(n,this.Wb)}O.U()};
D.tc.C6=function(_,n){var O=n[0],l=n[1],x,t;if(a3.Tu[O]){x=a3.Tu[O];if(ez[O])t=l}if(ie.Tu[O]){x=ie.Tu[O];
if(ez[O])t=l}if(O=="fade"){x="fade";t=l}if(O=="matc"){x="matchColor";t=l}if(O=="aply"){x="applyImageEvent";
t=l}if(x==null)return;var h=new e_(H.E.yy,!0);h.data={zS:!0,et:x};if(t){t=JSON.parse(JSON.stringify(t));
t.classID="null";delete t.__name;h.data.ot=t}_.$(h)};D.tc.a7I=function(_,n){D.tc.ba(_,n)};D.tc.o5=function(_,n,O,l){for(var m=0;
m<n.length;m++){var x=n[m],t=_.B[x.j],h=x.j<0?_.U_[-1-x.j]:x.Hr<=0?null:x.Hr==1?t.Ek():t.vO(_).z;if(h){h.AO();
h.na=!0;if(t)t.bf(_)}else{t.AO();t.U()}delete x.io;delete x.LI}var V=new gO(O,l);V.data=n;_.dc(V);_.XS=!0};
D.tc.z5=function(_,n,O){for(var m=0;m<n.length;m++){var l=n[m],x=_.B[l.j],t=O?l.r0:l.io,h=l.Sm;if(l.Hr==0){x.extend(h);
if(l.LI){Q.zw(l.r0,h,x.buffer,x.rect);Q.q.ZT(t,h,x.buffer,x.rect,l.LI,h,0,h,1)}else Q.zw(t,h,x.buffer,x.rect)}else{var V=l.j<0?_.U_[-1-l.j]:l.Hr==1?x.Ek():x.vO(_).z;
V.extend(h);if(l.LI){var y=Q.Q(h.O()*4);Q.Jt(l.r0,y);Q.q.ZT(t,h,y,h,l.LI,h,0,h,1);D.Os.bJ(y,h,V)}else D.Os.bJ(t,h,V);
V.na=!0;if(x)x.bf(_)}if(x)x.U()}if(!O)D.tc.ail(_,n)};D.tc.ba=function(_,n){for(var m=0;m<n.length;m++){var O=n[m],l=_.B[O.j],x=O.Sm,t=Q.Q(x.O()*4);
if(O.Hr==0){Q.zw(l.buffer,l.rect,t,x);l.extend(x);Q.zw(O.r0,x,l.buffer,l.rect);l.AO()}else{var h=O.j<0?_.U_[-1-O.j]:O.Hr==1?l.Ek():l.vO(_).z;
D.Os.j4(h.channel,h.rect,h.color,t,x);h.extend(x);D.Os.bJ(O.r0,x,h);h.AO();h.na=!0;if(l)l.bf(_)}O.r0=t;
if(l)l.U()}_.XS=!0};D.tc.ail=function(_,n){var O=D.tc.aue(_),l=~O;if(O==16777215)return;for(var m=0;
m<n.length;m++){var x=n[m],t=_.B[x.j],h=x.Sm;if(x.Hr!=0)continue;t.extend(h);var V=h.x-t.rect.x,y=h.y-t.rect.y,r=t.rect.a,E=new Uint32Array(x.r0.buffer),a=new Uint32Array(t.buffer.buffer);
for(var S=0;S<h.n;S++)for(var e=0;e<h.a;e++){var P=S*h.a+e,b=(S+y)*r+(e+V);a[b]=a[b]&O|E[P]&l}t.AO();
t.U()}_.U()};D.tc.aue=function(_){var n=_.u.CN;return n[2]*16711680|n[1]*65280|n[0]*255};D.tc.prototype.Qb=function(_,n){var O=n.B[_.j];
if(_.KB!=null)O.add[a3.get(O.add)]=_.KB;else D.tc.ba(n,_);n.U()};D.tc.prototype.Pg=function(_,n){var O=n.B[_.j];
if(_.KB!=null)O.add[a3.get(O.add)]=_.t2;else D.tc.ba(n,_);n.U()};D._H=function(){D.zi.call(this,"Filter Edit",D.rq);
this.WW=null;this.yB=null;this.d=null;this.Wb=null};D._H.prototype=new D.zi;D._H.prototype.cZ=function(_,n,O,l,x){if(_.d=="start"){if(O.g.length==0)return;
var t=O.B[O.g[0]];if(t.add.SoLd&&t.LN<=0&&O.oO.length==0){}else if(!O.Dt(n,null,!0))return;var h=_.D$;
if((ez[h]||ie.e[h])&&_.As==null){if(O.g.length!=1)alert("Will be applied to "+O.g.length+" layers.");
var V=new e_(H.E.L,!0);V.data=D._H.aaT(h,this.gS(O,h));n.$(V)}else{var y={d:"edit",D$:h,As:_.As,Tv:this.gS(O)};
this.cZ(y,n,O,l,x);y.d="confirm";delete y.As;this.cZ(y,n,O,l,x)}}if(_.d=="edit"||_.d=="cancel"||_.d=="confirm"){if(_.d=="edit")this.Wb=[_.D$,_.As];
if(_.Tv)this.are(_,n,O,x);else this.a3s(_,n,O,x)}if(_.d=="applylast"&&this.Wb!=null){var y={d:"edit",D$:this.Wb[0],As:this.Wb[1],Tv:this.gS(O)};
this.cZ(y,n,O,l,x);y.d="confirm";delete y.As;this.cZ(y,n,O,l,x)}};D._H.aaT=function(_,n){var O=ie.e[_];
if(O)return{d:H.t.dw,G:O,l5:{Tv:n}};else return{d:H.t.Rq,EW:"afw_"+_,Tv:n}};D._H.prototype.gS=function(_,n){var O=_.B[_.g[0]],l;
if(O.add.SoLd&&O.LN<=0&&_.oO.length==0){l={j:_.g[0],index:0};if(O.add.SoLd.filterFX!=null){var x=O.add.SoLd.filterFX.v.filterFXList.v;
l.index=x.length;for(var m=0;m<x.length;m++)if(ie.CH(x[m].v)==n&&ie.e[n])l.index=m}}return l};D._H.prototype.are=function(_,n,O,l){var x=O.B[_.Tv.j],t=_.D$;
if(_.d=="edit"){if(this.d==null){var h=ie.names[t];if(h==null)h=a3.names[t];if(t=="blendOptions")h=[14,10];
this.d=new gO(h,this);this.d.data={Tv:_.Tv,a3d:JSON.parse(JSON.stringify(x.add.SoLd))}}if(!x.lx()){x.add.SoLd.filterFX=ie.JH();
this.d.data.h5=fJ.ah0(x.add.SoLd.placed.v);O.VS(this.d.data.h5);x.Ga(O)}var V=x.add.SoLd.filterFX.v.filterFXList.v;
if(V[_.Tv.index]==null){V.push(ie.HG(t,l))}if(_.As){V[_.Tv.index].v.enab.v=_.AG!=!0;if(t=="blendOptions")V[_.Tv.index].v.blendOptions.v=_.As;
else V[_.Tv.index].v.Fltr.v=_.As}this.d.data.arJ=JSON.parse(JSON.stringify(x.add.SoLd));this.Pg(this.d.data,O)}if(_.d=="cancel"){if(this.d)this.Qb(this.d.data,O);
this.d=null}if(_.d=="confirm"){if(this.d)O.dc(this.d);D.tc.C6(n,this.Wb);this.d=null}};D._H.prototype.bd=function(_){return{o:_>>>16,J:_>>>8&255,k:_&255}};
D._H.prototype.a3s=function(_,n,O,l){if(this.WW==null){var x=ie.Yc(_.D$,_.As);this.WW=D.tc.getData(O,x.x!=0||x.y!=0)}if(_.d=="edit"){var t=JSON.stringify(_.As);
if((_.As==null||t!=this.yB)&&_.AG!=!0)for(var m=0;m<this.WW.length;m++){var h=this.WW[m],V={rect:h.Sm,buffer:h.r0},y={rect:h.Sm,buffer:h.io};
if(_.D$=="Avrg"&&h.LI){V.buffer=h.r0.slice(0);Q.iB(h.LI,V.buffer)}ie.Er(_.D$,V,_.As,this.bd(l.KU),this.bd(l.lV),y,[O.add.lnk2?O.add.lnk2:[],O.B[O.g[0]].Ek(),O.U_,O.cx()]);
if(_.D$=="Avrg"&&h.LI){var r=h.r0.length;for(var m=0;m<r;m+=4)h.io[m+3]=h.r0[m+3]}this.yB=t}D.tc.z5(O,this.WW,_.AG)}if(_.d=="cancel"){D.tc.a7I(O,this.WW);
this.WW=null;this.yB=null}if(_.d=="confirm"){D.tc.o5(O,this.WW,ie.names[_.D$],this);this.WW=null;this.yB=null;
D.tc.C6(n,this.Wb)}O.U();O.XS=!0};D._H.prototype.Qb=function(_,n){if(_.Tv){var O=n.B[_.Tv.j];if(_.h5)n.RP(_.h5);
O.add.SoLd=JSON.parse(JSON.stringify(_.a3d));if(O.lx())O.W$(n);else{O.Ga(n);O.LN=0}}else D.tc.ba(n,_);
n.U();n.XS=!0};D._H.prototype.Pg=function(_,n){if(_.Tv){var O=n.B[_.Tv.j];if(_.h5)n.VS(_.h5);O.add.SoLd=JSON.parse(JSON.stringify(_.arJ));
if(O.lx())O.W$(n);else O.Ga(n);if(!O.wN())O.FQ+=32}else D.tc.ba(n,_);n.U();n.XS=!0};var gp={WB:"0",fQ:"1",Eq:"2",Ij:"3",VD:"3.5",co:"4",nL:"5",$h:"6",BB:"7",s:"8",oy:"8.5",D4:"8.8",fZ:"9",V1:"10",j$:"11",qP:"12",gf:"13",D7:"14",cO:"15",EP:"16",UX:"17",La:"21",rQ:"22",Hl:"23",vE:"23.0",En:"23.1",oq:"23.2",mr:"23.3",uI:"23.4",bR:"23.5",Bx:"23.6",ayj:"30",lX:"31",Zy:"40",k_:"41",vU:"42"};
gp.qZ={};gp.qZ[gp.fQ]=["abr","brushes",a7,[9,3],3];gp.qZ[gp.Eq]=["grd","gradients",cY,[12,37],4];gp.qZ[gp.Ij]=["shc","contours",ec,[12,21],0];
gp.qZ[gp.VD]=["acv","curves",a4,[4,2],0];gp.qZ[gp.co]=["asl","styles",h5,[12,22],5];gp.qZ[gp.nL]=["pat","patterns",aa,[12,62],6];
gp.qZ[gp.$h]=["csh","shapes",fu,[12,77],7];gp.qZ[gp.BB]=["aco","swatches",fU,[9,8],0];gp.qZ[gp.s]=["atn","actions",cq,[9,9],2];
gp.qZ[gp.oy]=["tpl","tpresets",di,[9,12],0];gp.qZ[gp.D4]=["icc","profiles",i9,"ICCs",8];function gO(_,n,O){if(O==null)O=!1;
this.name=_;this.G=n;this.v$=O;this.data=null;this.a1I=Date.now()}var g3={};g3.g5=function(_,n){var O={t:"Clss",v:{classID:_}};
if(n)O={t:"Enmr",v:{classID:_,typeID:"Ordn",enum:"Trgt"}};return{t:"obj ",v:[O]}};g3.d6=function(_,n){var O={classID:"Lyr"};
O[_]=n;return{et:"set",ot:{classID:"null",null:g3.g5("Lyr",!0),T:{t:"Objc",v:O}}}};g3.aaX=function(_,n,O,l,x){var t=new e_(H.E.yy,!0),h=[],m=0,V=g3.Sf(n,O,l,h);
while(h.length!=0){var y=h.pop();m++;if(!y.w)continue;console.log(m-1);if(y.et=="conditional"){var r=_.B[_.g[0]],E=y.ot.null.v.Cndt,a=!1;
if(E=="Bckg")a=!1;else if(E=="Pxel"&&_.eE(!1))a=!0;else if(E=="Adjs"&&a3.get(r.add))a=!0;else if(E=="Shp"&&r.add.vogk)a=!0;
else if(E=="Grup"&&r.kx())a=!0;else if(E=="Opn"&&_!=null)a=!0;else if(E=="32Bt")a=!1;else if(E=="RGB")a=!0;
var S=y.ot.then,e=y.ot.else;if(a&&S)g3.Sf(n,S.v[0].v.val,S.v[1].v.val,h);if(!a&&e)g3.Sf(n,e.v[0].v.val,e.v[1].v.val,h)}else if(y.et=="stop"){if(y.ot.Cntn&&y.ot.Cntn.v==!0)window.confirm(y.ot.Msge.v);
else{alert(y.ot.Msge.v);break}}else if(y.et=="play"){var P=y.ot.null.v,b=new e_(H.E.L,!0);b.data={d:H.t.kW,xV:[P[0].v.val,P[1].v.val]};
x.$(b)}else{t.data={et:y.et,ot:y.ot};x.$(t)}}};g3.Sf=function(_,n,O,l){var x;for(var m=0;m<_.length;
m++){if(_[m].hM!=O)continue;var t=_[m].l_;for(var h=0;h<t.length;h++){if(t[h].hM!=n)continue;x=t[h].l_}}var V=x.length;
for(var m=0;m<V;m++)l.push(x[V-1-m])};g3.afi=function(_){var n=_.et,O=_.ot,l,h,V,y,r;if(O&&O.null)l=O.null.v[0];
if(O&&l==null&&O.At)l=O.At.v[0];if(l&&l.t=="obj ")l=l.v[0];var x=l?l.v.classID:null,t=["purge"];if(t.indexOf(n)!=-1)return n[0].toUpperCase()+n.slice(1);
if(n=="GEfc"||n=="paintDaubs")return cz.names[O.GEfk.v.GEft][1];r=a3.Tu;for(h in r)if(r[h]==n)V=h;r=ie.Tu;
for(h in r)if(r[h]==n)y=h;if(V){var E=a3.$G(V,O);if(E!=-1)return[4,16,E];return a3.names[V]}if(y)return ie.names[y];
var a=g3.aac;if(n=="make"){if(l){if(x=="AdjL")return[6,1];else if(x=="layerSection")return O.From?[6,9]:[6,20];
else if(x=="Lyr")return[6,13];else if(x=="Chnl"&&l.v.enum=="Msk")return[6,2];else if(x=="contentLayer")return[6,48,1];
else if(x=="BckL")return"Make Background Layer";else if(x=="Path")return"Make Path";else if(x=="TxLr")return"Make Text Layer";
else if(x=="slice")return"Make Slices";else if(x=="Dcmn")return[11,7];else if(x=="Gd")return[23,4]}if(O.Nw){x=O.Nw.v.classID;
if(x=="Dcmn")return[11,7];else if(x=="Chnl"||x=="SCch")return"New Channel"}}else if(n=="deselect"){if(x=="Path")return"Deselect current path";
else throw x}else if(n=="draw"){return"Draw"}else if(n=="select"){if(x=="Chnl")return"Select "+(l.v.enum=="Msk"?"Mask ":"")+"Channel";
else if(x=="Mn")return"Select Panel \""+l.v.enum+"\"";else if(x=="Lyr"){if(l.t=="Enmr")return"Select "+{Bckw:"Backward",Frwr:"Forward",Back:"Back",Frnt:"Front"}[l.v.enum]+" Layer";
return"Select Layer \""+l.v.val+"\""}else if(x=="Path")return"Select Path";else if(x=="Brsh")return"Select Brush";
else if(x=="Dcmn")return"Select Document"}else if(a[n]&&x=="Chnl"){var S=l.v.keyID=="fsel";return a[n]+" "+(S?"Selection":"Channel")}else if(n=="set"){if(x=="Lyr")return"Set Current Layer";
else if(x=="AdjL")return[6,39];else if(x=="contentLayer")return[6,48,2];else if(x=="Prpr"){var e=l.v.keyID;
if(e=="TxtS")return"Set Text Style";else if(e=="paragraphStyle")return"Set Paragraph Style";else if(e=="Lefx")return[11,6];
else console.log(e)}else if(x=="Clr")return"Set "+(l.v.keyID=="FrgC"?"Foreground":"Background")+" color";
else if(x=="Brsh")return"Set Brush";else if(x=="Path")return"Set Work Path";else console.log(x)}else if(n=="move"){if(x=="Lyr")return"Move Layer";
else if(x=="Chnl"&&l.v.keyID=="fsel")return[7,7];else console.log(x)}else if(n=="show"||n=="hide"){var P="";
if(x=="Lyr")+"Layer";if(x=="Chnl")+"Channel";return(n=="show"?"Show":"Hide")+" "+P}else if(n=="reset"){if(x=="Clr")return"Reset Colors"}else if(n=="exchange"){if(x=="Clr")return[22,7,0]}else if(n=="rotateEventEnum")return[2,5];
else if(n=="flip"){var b=O.Axis.v.Ornt=="Hrzn";return[[2,6],[22,4,b?2:3]]}if(x=="Chnl"){if(n=="duplicate"){if(l.v.keyID=="fsel")return"Selection to Channel";
else return"Duplicate Channel"}if(n=="delete")return"Delete Channel"}if(n=="transform")return l&&l.v.keyID=="fsel"?[7,10]:[10,16];
var T={cut:[5,0],copyEvent:[5,1],copyToLayer:[6,49,0],cutToLayer:[6,49,1],copyMerged:[5,7],paste:[5,2],close:[1,12,0],save:[1,2],groupEvent:[6,18],ungroup:[6,19],duplicate:[6,0],mergeLayersNew:[6,12,0],mergeVisible:"Merge Visible",flattenImage:[6,12,1],updatePlacedLayer:[6,36,1],fade:[2,11],applyImageEvent:[2,12],matchColor:[4,18],fill:[2,3],colorRange:[7,8],desaturate:[19,7,0],delete:O?x=="Lyr"?[6,31]:"Delete Path":[2,2],align:[20,4,0],applyLocking:[6,57,1],crop:[11,12,1],placedLayerEditContents:"Edit Contents",placedLayerExportContents:"Export Contents",placedLayerReplaceContents:"Replace Contents",convertMode:"Convert Mode",newPlacedLayer:[6,7,0],selectNoLayers:"Deselect Layers",canvasSize:[11,3],imageSize:[11,10],rasterizeLayer:[6,8],revealAll:[11,12,2],divide:"Divide Current Slice",collapseAllGroupsEvent:"Collapse All Groups",conditional:"If"},C=T[n];
if(C==null)C=g3.acV[n];if(C)return C;return n};g3.acV={border:[7,9],smoothness:[19,3,0],expand:[7,4],contract:[7,5],feather:[7,6],inverse:[7,2]};
g3.aac={set:"Set",add:"Add Transparency",addTo:"Add To",subtract:"Subtract Transparency",subtractFrom:"Subtract From",interfaceIconFrameDimmed:"Intersect Transparency",interfaceWhite:"Intersect With"};
g3.auo=function(_,n,O,l){var x=_.et,t=_.ot,h=!1,V=new e_(H.E.s,!0),E,a,S,e;V.G=D.Ko;var y=new e_(H.E.L,!0),r=["purge","updatePlacedLayer","convertMode","convertToProfile"];
if(r.indexOf(x)!=-1)return;e=a3.Tu;for(E in e)if(e[E]==x)a=E;e=ie.Tu;for(E in e)if(e[E]==x)S=E;if(x=="fade")a=x;
if(x=="matchColor")a="matc";if(x=="applyImageEvent")a="aply";if(a){V.G=D.wR;V.data={d:"start",v3:a,As:t}}else if(S){V.G=D.rq;
V.data={d:"start",D$:S,As:t}}else if(x=="GEfc"||x=="paintDaubs"){V.G=D.rq;V.data={d:"start",D$:"GEfc",As:t}}else if(x=="imageSize"||x=="canvasSize"||x=="revealAll"||x=="trim"||x=="crop"){V.G=D.T4;
V.data={d:"fromAction",Jp:_}}else if(x=="fill"||x=="stroke"||x=="delete"&&t==null){var P=null;if(l.g.length!=0)P=l.B[l.g[0]];
var b=Q.Ps(O.KU);if(P!=null&&x=="fill"&&P.add.TySh){var T="var c = new SolidColor();  c.rgb.red="+b.o+";  c.rgb.green="+b.J+";  c.rgb.blue="+b.k+";  app.activeDocument.activeLayer.textItem.color = c;";
y.data={d:H.t.n$,TF:T}}else if(P!=null&&x=="fill"&&P.uq()){var V=new e_(H.E.yy,!0),t={classID:"setd",null:g3.g5("contentLayer",!0),T:{t:"Objc",v:{}}};
D.Z0.OC({Clr:{v:Q.N.YS(Q.Ps(O.KU))}},t.T.v,0);V.data={et:"set",ot:t};n.$(V);return}else{V.G=O.kp==D.DP?D.DP:D.fQ;
V.data={d:"fromAction",Jp:_}}}else if(x=="colorRange"){V.G=D.vQ;V.data={d:"fromAction",Jp:_}}else if(g3.acV[x]||g3.aac[x]&&(!1||t.With&&t.With.v[0].v.keyID=="fsel"||t.From&&t.From.v[0].v.keyID=="fsel"||t.null&&t.null.v[0].v.keyID=="fsel"||t.T.v[0]&&t.T.v[0].v.keyID=="fsel")){V.G=D.vQ;
V.data={d:"fromAction",Jp:_}}var C={copyToLayer:v.gA,cutToLayer:v.JF,mergeLayersNew:v.HV,rasterizeLayer:v.a66,mergeVisible:v.NO,flattenImage:v.akh,newPlacedLayer:v.HN};
if(C[x])V.data={d:C[x],ot:t};if(V.data){n.$(V);return}if(x=="collapseAllGroupsEvent"){for(var m=0;m<l.B.length;
m++){var P=l.B[m];if(P.kx())P.add.lsct=bN.SE}l.i1=!0;return}if(x=="desaturate"){V.G=D.wR;V.data={d:"auto",eM:3};
if(l&&l.B[l.g[0]].add.SoLd==null)n.$(V);return}if(x=="close"){if(t.Svng.v.YsN=="Ys"){y.data={d:H.t.dE};
n.$(y)}y.data={d:H.t.ki,xN:l};n.$(y);return}if(x=="save"){y.data={d:H.t.dE};n.$(y);return}if(x=="copyMerged"){y.data={d:H.t.cF,IS:!0,fP:!0};
n.$(y);return}if(x=="placedLayerReplaceContents")y.data={d:H.t.YI,dB:!0};var C={placedLayerEditContents:H.t.a89,placedLayerExportContents:H.t.apd,copyEvent:H.t.cF,paste:H.t.d_};
if(C[x])y.data={d:C[x],fP:!0};if(y.data){n.$(y);return}var Z=t.null?t.null.v:null,s=Z?Z[0].v.classID:"";
if(x=="make"){if(t.null==null&&t.Nw)s=t.Nw.v.classID;if(s=="AdjL"){V.data={d:v.y0,ot:t}}else if(s=="layerSection"){V.data=t.From?{d:v._b}:{d:v._Z};
if(t.Usng){var f=t.Usng.v;if(f.Nm)V.data.Cq=f.Nm.v;if(f.Clr)V.data.zP=g3.vu(f)}}else if(s=="Lyr"){if(t.Usng&&t.Usng.v.length==2)V.data={d:v.a9J};
else{V.data={d:v.eU};if(t.Usng)V.data.Cq=t.Usng.v.Nm.v;if(t.below&&t.below.v)V.data.amg=!0}}else if(s=="Chnl"&&t.At&&t.At.v[0].v.enum=="Msk"){V.data={d:v.sb,or:t.Usng.v.UsrM}}else if(s=="Chnl"||s=="SCch"){V.data={d:v.E2,nz:"fromAction",h:_}}else if(s=="contentLayer"){V.data={d:v.kT,ot:t}}else if(s=="BckL"){l.B[l.g[0]].aiL();
return}else if(s=="Dcmn"){if(t.Nw==null)return;var q=t.Nw.v;y.data={d:H.t.iQ,cn:fJ.arv(q,O)}}else if(s=="Ptrn")y.data={d:H.t.bZ,nZ:0};
else if(s=="Path"){V.G=D.i$;V.data={d:"pathedit",nz:"fromsel"}}else if(s=="TxLr"){V.G=D.K9;V.data={d:"fromAction",Jp:_}}else if(s=="slice"){V.G=D.yK;
V.data={d:"fromAction",Jp:_}}else if(s=="Gd"){var g=[[],[]],q=t.Nw.v;g[q.Ornt.v.Ornt=="Vrtc"?0:1].push(q.Pstn.v.val);
var i=cy.DG(g);D.dV.zb(i,l.tp());V.G=D.cb;V.data={d:"gids",Ke:i}}else{console.log(x,s,t);throw"e"}}else if(x=="divide"){V.G=D.yK;
V.data={d:"fromAction",Jp:_}}else if(x=="deselect"){if(s=="Path"){l.WJ=[];l.tF=[];l.i1=l.Hc=!0;return}else throw s}else if(x=="selectNoLayers"){l.g=[];
l.XS=!0}else if(x=="select"){var u={PcTl:D.DP,PbTl:D.fQ,moveTool:D.cb,cloneStampTool:D.Mp,typeCreateOrEditTool:D.K9,artboardTool:D.KV,marqueeRectTool:D.vQ,typeVerticalCreateOrEditTool:D.An,perspectiveCropTool:D.ZH,marqueeEllipTool:D.a99,eyedropperTool:D.ef,eraserTool:D.$j,pathComponentSelectTool:D.i$,lassoTool:D.Za,backgroundEraserTool:D.aq5,directSelectTool:D.y_,polySelTool:D.as6,rectangleTool:D.bb,magneticLassoTool:D.afB,gradientTool:D.atN,quickSelectTool:D.DQ,bucketTool:D.aed,ellipseTool:D.hD,magicWandTool:D.pO,blurTool:D.Gb,polygonTool:D.Rj,cropTool:D.T4,sharpenTool:D.KF,lineTool:D.LU,sliceTool:D.yK,smudgeTool:D.ok,customShapeTool:D.PG,sliceSelectTool:D.OU,dodgeTool:D.bD,spotHealingBrushTool:D.Gp,burnInTool:D.xw,saturationTool:D.V3,penTool:D.Nn,redEyeTool:D.cv,freeformPenTool:D.IP,rulerTool:D.Tw,paintbrushTool:D.fQ,handTool:D.fY,pencilTool:D.DP,zoomTool:D.iz,objectSelectTool:D.ag6,healingBrushTool:D.CM,patchTool:D.kq,contentAwareMoveTool:D.vS,colorReplacementBrushTool:D.mm,curvaturePenTool:D.a1p,rotareViewTool:D.fB};
if(s=="Lyr"){var I=t.selectionModifier,Y=I?I.v.selectionModifierType:null,U=g3.gk(l,Z[0]);if(U==-1){alert("Layer "+Z[0].v.val+" does not exist.");
return}V.data={d:v.IB,j:U,Gc:Y?["addToSelection","addToSelectionContinuous"].indexOf(Y):null,_$:0}}else if(s=="Path"){if(Z[0].v.keyID=="WrPt"){l.WJ=[0];
l.i1=l.Hc=!0;return}else throw Z[0]}else if(s=="Chnl"){V.data={d:v.IB,j:U,_$:1}}else if(s=="Dcmn"){if(n.A0.length<2)return;
y.data={d:H.t.ax6,dir:t.null.v[0].v.val}}else if(s=="Brsh"){var F=O.V5.list,N;for(var m=0;m<F.length;
m++){if(F[m].v.Nm.v==Z[0].v.val)N=F[m].v}y.data={d:H.t.Gf,nZ:gp.D7,Ov:N}}else if(s=="Mn"){if(Z[0].v.enum=="Scl")y.data={d:H.t.dw,G:D.rd,l5:{or:3}};
if(Z[0].v.enum=="Plce")y.data={d:H.t.YI,a8u:!0};if(Z[0].v.enum=="ZmIn"){V.G=D.iz;V.data={d:"zoom",fv:!0}}if(Z[0].v.enum=="ZmOt"){V.G=D.iz;
V.data={d:"zoom",fv:!1}}if(Z[0].v.enum=="FtOn"){V.G=D.iz;V.data={d:"adapt",h:"fitscr"}}}else if(u[s]){y.data={d:H.t.dw,G:u[s]}}else throw s}else if(x=="draw"){V.G=D.i$;
V.data={d:"fromAction",Jp:_}}else if((x=="set"||x=="reset"||x=="exchange")&&s=="Clr"){y.data={d:H.t.Gf,nZ:gp.La,nz:x=="reset"?3:2};
if(x=="set"){y.data.nz=Z[0].v.keyID=="FrgC"?0:1;var o=Q.N.JU(t.T.v);y.data.h=o.o<<16|o.J<<8|o.k}}else if(x=="set"){if(s=="AdjL"){var X=t.T.v.classID;
X=a3.By[X];V.G=D.wR;if(X)V.data={d:"edit_layer",h:t.T.v}}else if(s=="Lyr"){var J=t.T.v,U=g3.gk(l,Z[0]);
for(var c in J){if(c=="classID")continue;V.G=D.Ko;if(c=="Nm")V.data={d:v.pE,name:J.Nm.v};else if(c=="Opct")V.data={d:v.jU,t2:Math.round(J.Opct.v.val*255/100)};
else if(c=="fillOpacity")V.data={d:v.hn,t2:Math.round(J.fillOpacity.v.val*255/100)};else if(c=="Md")V.data={d:v.N$,t2:b3.AM.indexOf(J.Md.v.BlnM)+(l.B[U].kx()?1:0)};
else if(c=="Usrs")V.data={d:v.pB,j:U};else if(c=="Blnd"){V.G=D.rV;V.data={d:"setstl",j:U,h:{blendOptions:{t:"objc",v:J}}};
n.$(V);V.data={d:"confirm",j:U}}else if(c=="userMaskFeather"||c=="userMaskDensity"){var p=J.userMaskFeather,d=J.userMaskDensity,U=l.g[0],k=l.B[U].mq(0);
if(p)k.g$=p.v.val;if(d)k.ww=d.v.val;V.data={d:v.er,FO:U,dK:k}}else if(c=="Clr"){var b=g3.vu(J);V.data={d:v.zj,anj:b}}else if(c=="Lefx")g3.a7E(n,U,J.Lefx.v,O);
else{console.log(t);throw c}if(V.data){n.$(V);delete V.data}}V.data={};var P=l.B[U];P.ar2()}else if(s=="Prpr"){var J=JSON.parse(JSON.stringify(t.T.v)),U=g3.gk(l,t.null.v[1]),P=l.B[U],A=Z[0].v.keyID;
if(A=="TxtS"||A=="paragraphStyle"){var $=P.add.TySh,K=JSON.parse(JSON.stringify($.m1)),G=b$.om(K),z=b$.QN(K,0,G.length-2);
if(A=="TxtS")b$.a9e(J,z);else b$.agv(J,z);b$.gD(K,0,G.length-1,z);V.G=D.K9;V.data={d:"newED",xh:U,l3:K}}else if(A=="Lefx"){for(var M in J)if(J[M].v){if(M=="Scl")J[M].v.val=100}g3.a7E(n,U,J,O);
V.data={}}else throw A}else if(s=="contentLayer"){var U=g3.gk(l,Z[0]),J=t.T.v;if(J.classID=="shapeStyle")J=J.FlCn.v;
var hl={solidColorLayer:0,gradientLayer:1,patternLayer:2}[J.classID],j=D.Jr.sK(l,U),S=j.xP==hl+1?j.cK:aF.iS[hl];
S=JSON.parse(JSON.stringify(S));D.Z0.OC(J,S,hl);V.data={d:v.wF,sT:[U],Dg:!0,h:{xP:hl+1,cK:S}}}else if(s=="Brsh"){var N=JSON.parse(JSON.stringify(O.V5.W5)),w=t.T.v;
if(w.masterDiameter)N.Brsh.v.Dmtr.v.val=w.masterDiameter.v.val;else console.log("unknown brush parameters");
y.data={d:H.t.Gf,nZ:gp.D7,Ov:N}}else if(s=="Path"){V.G=D.i$;V.data={d:"fromAction",Jp:_}}else{console.log(Z[0],t);
throw s}}else if(x=="move"){if(s=="Lyr"){var J=t.T.v;if(J.classID=="Ofst"){V.data={d:"trsl",M2:J.Hrzn.v.val,uu:J.Vrtc.v.val};
V.G=D.cb}else{var B,bB;if(J[0].t=="Enmr"){if(J[0].v.enum=="Frnt")bB=0;else if(J[0].v.enum=="Nxt")bB=1;
else if(J[0].v.enum=="Prvs")bB=2;else if(J[0].v.enum=="Back")bB=3;else throw"e"}else B=J[0].v.val;V.data={d:v.aU,target:B,nz:bB,a2Q:t.Dplc?t.Dplc.v:!1}}}else if(s=="Chnl"&&Z[0].v.keyID=="fsel"){V.G=D.vQ;
V.data={d:"fromAction",Jp:_}}}else if(x=="groupEvent"||x=="ungroup")V.data={d:v.rL};else if(x=="show"||x=="hide"){var bG=Z[0].v;
for(var m=0;m<bG.length;m++){var eb=bG[m],s=eb.v.classID;if(s=="Lyr"){if(V.data==null)V.data={d:v.VW,sT:[]};
var U=g3.gk(l,eb);if(U==-1)continue;var fe=l.B[U].Pn();if(x=="show"&&fe||x=="hide"&&!fe)continue;V.data.sT.push(U)}else if(s=="Chnl"){V.data={d:v.E2,nz:"fromAction",h:_}}else if(s=="filterFX"){if(eb.v.val!=null)V.data={d:v.aS,index:eb.v.val-1};
V.data={d:v.ri}}}}else if(x=="rotateEventEnum"){V.G=D.T4;var gB=t.Angl.v.val;V.data={d:"rot",hM:[2,5],h:-gB*Math.PI/180}}else if(x=="flip"){V.G=D.T4;
var hp=t.Axis.v.Ornt=="Hrzn",g6=hp?new aW(-1,1):new aW(1,-1);V.data={d:"scl",hM:[[2,6],[22,4,hp?2:3]],h:g6}}else if(x=="transform"){var by=1,e7=1,aN=0,jK=0,f7=0,hW=0,km=0;
if(t.Wdth)by=t.Wdth.v.val/100;if(t.Hght)e7=t.Hght.v.val/100;if(t.Skew){var ca=t.Skew.v;aN=ca.Hrzn.v.val;
jK=ca.Vrtc.v.val}if(t.Ofst){var aU=t.Ofst.v;hW=aU.Hrzn.v.val;km=aU.Vrtc.v.val}if(t.Angl)f7=t.Angl.v.val;
var eJ=new aY;eJ.concat(new aY(by,by*Math.tan(jK*Math.PI/180),e7*Math.tan(aN*Math.PI/180),e7,0,0));eJ.rotate(-f7*Math.PI/180);
eJ.translate(hW,km);var am={Qcsa:4,Qcs0:0,Qcs1:2,Qcs2:8,Qcs3:6,Qcs4:1,Qcs5:5,Qcs6:7,Qcs7:3}[t.FTcs.v.QCSt];
if(am==null)throw t.FTcs.v.QCSt;var Z=t.null;if(Z&&Z.v instanceof Array)Z=Z.v[0];var U=Z?g3.gk(l,Z):null;
if(U==-1)U=null;V.G=Z&&Z.v.keyID=="fsel"?D.E7:D.rd;V.data={d:"mat",eX:am,h:eJ,qj:t.warp}}else if(x=="duplicate"){if(s=="Chnl")V.data={d:v.E2,nz:"fromAction",h:_};
else V.data={d:v.Sq,Cq:t.Nm?t.Nm.v:null}}else if(x=="delete"){if(s=="filterFX"){if(Z[0].v.val!=null)V.data={d:v.Pc,R2:Z[0].v.val-1};
else V.data={d:v.rY}}else if(s=="Path"){V.G=D.i$;V.data={d:"pathedit",nz:"del"}}else if(s=="Lyr")V.data={d:v.nB};
else if(s=="Chnl"&&Z[0].v.enum=="Msk")V.data={d:v.H6};else if(s=="Chnl")V.data={d:v.E2,nz:"fromAction",h:_};
else throw s}else if(x=="align"){if(t.Aply&&t.Aply.v.projection=="Auto"){V.G=D.T4;V.data={d:"auto-align"}}else{V.G=D.cb;
var dj=t.Usng.v.ADSt,a={AdLf:0,AdCH:1,AdRg:2,AdTp:4,AdCV:5,AdBt:6}[dj];if(a==null)throw dj;V.data={d:"algn",h:a}}}else if(x=="applyLocking"){var cM=t.layerLocking.v,b2;
if(cM.protectTransparency)b2=[[cM.protectTransparency.v],[0]];else if(cM.protectNone)b2=[[!1,!1,!1,!1],[0,1,2,31]];
else{console.log(cM);throw"e"}V.data={d:v.zX,t2:b2}}if(V.data)n.$(V);else if(y.data)n.$(y);else{console.log(_);
alert("Unknown action \""+x+"\"");throw"e"}};g3.a7E=function(_,n,O,l){O=JSON.parse(JSON.stringify(O));
dk.Hn(O);if(O.masterFXSwitch==null)O.masterFXSwitch={t:"bool",v:!0};console.log(O);var x=aF.Ck;for(var t=0;
t<x.length;t++)if(O[x[t]]){for(var m=0;m<O[x[t]].v.length;m++){var h=O[x[t]].v[m].v,V=h.TrnS;if(V==null)V=h.MpgS;
if(V&&V.v.Crv==null){var y=V.v,r=y.Nm.v.split("=").pop(),E=l.ZR;for(var a=0;a<E.length;a++){var S=E[a].Nm.v.split("=").pop();
if(S==r)y.Crv=JSON.parse(JSON.stringify(E[a].Crv))}if(V.v.Crv==null){console.log(V);throw"e"}}}}var e=new e_(H.E.s,!0);
e.G=D.rV;e.data={d:"setstl",j:n,h:{Lefx:{t:"objc",v:O}}};_.$(e);e.data={d:"confirm",j:n};_.$(e)};g3.vu=function(_){var n={None:0,Rd:1,Orng:2,Ylw:3,Grn:4,Bl:5,Vlt:6,Gry:7}[_.Clr.v.Clr];
if(n==null)throw _.Clr.v.Clr;return n};g3.gk=function(_,n){var O=1e6,l=0,x=_.B.length;for(var m=0;m<_.g.length;
m++){O=Math.min(O,_.g[m]);l=Math.max(l,_.g[m])}var t=n.t,h=-1;if(t=="name"){var V=n.v.val,h=-1;for(var m=0;
m<x;m++)if(_.B[m].getName()==V){h=m;break}}else if(t=="Enmr"){if(_.g.length!=0)h=_.g[0];if(n.v.enum=="Frwr")h=l+1;
if(n.v.enum=="Bckw")h=O-1;if(n.v.enum=="Back")h=0;if(n.v.enum=="Frnt")h=x-1;h=(h+x)%x}else if(t=="prop"){if(n.v.keyID=="Bckg")h=0}return h};
var a3={};a3.names={brit:[4,0],levl:[4,1],curv:[4,2],expA:[4,3],vibA:[4,4],hue2:[4,5],blnc:[4,6],blwh:[4,7],phfl:[4,8],mixr:[4,9],clrL:[4,10],nvrt:[4,11],post:[4,12],thrs:[4,13],grdm:[4,14],selc:[4,15],rplc:[4,17]};
a3.az3=["expA","clrL","selc"];a3.Ys=[[13,1,1],[13,1,3],[13,1,4],[13,1,11],[13,1,5],[13,1,12]];a3.aim=[[13,1,11],[13,1,12],[13,1,3],[13,1,10]];
a3.UD=[[13,1,1],[13,1,4],[13,1,5]];a3.Js={BrgC:"brit",Lvls:"levl",Crvs:"curv",Exps:"expA",vibrance:"vibA",HStr:"hue2",ClrB:"blnc",BanW:"blwh",photoFilter:"phfl",Invr:"nvrt",Pstr:"post",Thrs:"thrs",GrMp:"grdm",SlcC:"selc",ChnM:"mixr",colorLookup:"clrL",rplc:"rplc"};
a3.By=function(){var _=JSON.parse(JSON.stringify(a3.Js));delete _.GrMp;_.GdMp="grdm";return _}();a3.Tu={brit:"brightnessEvent",levl:"levels",curv:"curves",expA:"exposure",vibA:"vibrance",hue2:"hueSaturation",blnc:"colorBalance",blwh:"blackAndWhite",phfl:"photoFilter",mixr:"channelMixer",clrL:"colorLookup",nvrt:"invert",post:"posterization",thrs:"thresholdClassEvent",grdm:"gradientMapEvent",selc:"selectiveColor",rplc:"replaceColor"};
a3.keys={levl:[bJ.mV,bJ.oT],curv:[bJ.mV,bJ.sY],hue2:[bJ.mV,bJ.D3],nvrt:[bJ.mV,bJ.dq],blnc:[bJ.mV,bJ.ly]};
a3.atP=function(_){var n=ie.gV("mixr");n.Mnch={t:"bool",v:_.nk};function O(l,m){var x={classID:"ChMx"},t={Rd:0,Grn:1,Bl:2,Cnst:4};
for(var h in t)x[h]={t:"UntF",v:{type:"#Prc",val:l[m+t[h]]}};return{t:"Objc",v:x}}if(_.nk)n.Gry=O(_.h,0);
else{n.Rd=O(_.h,0);n.Grn=O(_.h,5);n.Bl=O(_.h,10)}return n};a3.lt=function(_){function n(l,x,m){var t={Rd:0,Grn:1,Bl:2,Cnst:4};
for(var h in t)if(l[h])x[m+t[h]]=l[h].v.val}var O={nk:!1,h:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};
if(_.Mnch&&_.Mnch.v)O.nk=!0;if(O.nk)n(_.Gry.v,O.h,0);else{n(_.Rd.v,O.h,0);n(_.Grn.v,O.h,5);n(_.Bl.v,O.h,10)}return O};
a3.get=function(_){for(var n in a3.names)if(_[n]!=null)return n;return null};a3.ja=function(_,n){var O=a3.v9,l;
if(_=="brit"){var x=n.Brgh?n.Brgh.v:0,t=n.Cntr?n.Cntr.v:0,h=n.useLegacy?n.useLegacy.v:!1;if(h){var V=x/255,y=1+t/100;
if(y>1)y=1+Math.tan(Math.PI/2*t/101);var r=(1-y)/2,E=Q.fN.xc(V,V,V),a=[y,0,0,r,0,y,0,r,0,0,y,r,0,0,0,1],S=Q.fN.multiply(E,a),e=new Q.eO(256);
for(var m=0;m<256;m++)e.o[m]=m;Q.fN.transform(e,e,S);l={type:O.OG,pw:e.o,Te:e.o,Qf:e.o,bC:!1,Lv:!1}}else{var P=1024,b=-30+60*(t+100)/200,T=[];
for(var m=0;m<4;m++)T.push(Q.xu.PN(m/3*255,m/3*255,!0));T[1].v.Hrzn.v=64;T[1].v.Vrtc.v=64-b;T[2].v.Hrzn.v=128+64;
T[2].v.Vrtc.v=128+64+b;T.sort(function(jO,aq){return jO.v.Hrzn.v-aq.v.Hrzn.v});var C=Q.xu.b4(T,P);function Z(jO,P){var T=[],ab=3;
for(var m=0;m<ab+1;m++)T.push(Q.xu.PN(m/ab*255,m/ab*255,!0));T[1].v.Hrzn.v=130-jO*26;T[1].v.Vrtc.v=130+jO*51;
T[2].v.Hrzn.v=233-jO*48;T[2].v.Vrtc.v=233+jO*10;return Q.xu.b4(T,P)}var W=Z(Math.abs(x)/100,P);if(x<0){var s=[],f=1/P;
for(var m=0;m<P;m++){var q=m*f,g=m;while(W[g]>q&&g>1)g--;s[m]=g*f}W=s}var i=new Uint8Array(P);for(var m=0;
m<P;m++){var u=Math.round((P-1)*W[m]);i[m]=Math.round(255*C[u])}l={type:O.OG,pw:i,Te:i,Qf:i,bC:!1,Lv:!1}}}if(_=="levl"){var I=[],Y,U,E,F,N,o;
for(var m=0;m<4;m++)I.push(jb.SO(n,m));Y=-I[0][0]/255;U=1/(I[0][1]/255-I[0][0]/255);E=Q.fN.multiply(Q.fN.Br(U,U,U),Q.fN.xc(Y,Y,Y));
F=Q.fN.Br(1/(I[1][1]/255-I[1][0]/255),1/(I[2][1]/255-I[2][0]/255),1/(I[3][1]/255-I[3][0]/255));N=Q.fN.xc(-I[1][0]/255,-I[2][0]/255,-I[3][0]/255);
o=Q.fN.multiply(F,N);var i=new Q.eO(256);for(var m=0;m<256;m++)i.o[m]=i.J[m]=i.k[m]=m;var X=1/(I[0][4]/100),J=1/(I[1][4]/100),c=1/(I[2][4]/100),p=1/(I[3][4]/100);
Q.fN.transform(i,i,o);for(var m=0;m<256;m++){i.o[m]=Math.round(Math.max(0,Math.min(255,255*Math.pow(i.o[m]/255,J))));
i.J[m]=Math.round(Math.max(0,Math.min(255,255*Math.pow(i.J[m]/255,c))));i.k[m]=Math.round(Math.max(0,Math.min(255,255*Math.pow(i.k[m]/255,p))))}Q.fN.transform(i,i,E);
for(var m=0;m<256;m++){i.o[m]=Math.round(Math.max(0,Math.min(255,255*Math.pow(i.o[m]/255,X))));i.J[m]=Math.round(Math.max(0,Math.min(255,255*Math.pow(i.J[m]/255,X))));
i.k[m]=Math.round(Math.max(0,Math.min(255,255*Math.pow(i.k[m]/255,X))))}Y=I[0][2]/255;U=I[0][3]/255-I[0][2]/255;
E=Q.fN.multiply(Q.fN.xc(Y,Y,Y),Q.fN.Br(U,U,U));F=Q.fN.Br(I[1][3]/255-I[1][2]/255,I[2][3]/255-I[2][2]/255,I[3][3]/255-I[3][2]/255);
N=Q.fN.xc(I[1][2]/255,I[2][2]/255,I[3][2]/255);o=Q.fN.multiply(N,F);Q.fN.transform(i,i,Q.fN.multiply(E,o));
l={type:O.OG,pw:i.o,Te:i.J,Qf:i.k,bC:!1,Lv:!1}}if(_=="curv"){var d=a4.SO(n,0).length==256?1:0,k=[];if(d==0){var A=Q.xu.gz(a4.SO(n,0),256);
for(var m=1;m<4;m++){var $=Q.xu.gz(a4.SO(n,m),256);k.push(Q.xu.gR($,A))}}else{var K=[];for(var m=0;m<4;
m++){var G=new Uint8Array(256);K.push(G);var z=a4.SO(n,m);for(var g=0;g<256;g++)G[g]=z[g]}for(var m=1;
m<4;m++)k.push(Q.xu.gR(K[m],K[0]))}l={type:O.OG,pw:k[0],Te:k[1],Qf:k[2],bC:!1,Lv:!1}}if(_=="expA"){var M=n.Exps,hl=n.Ofst,j=n.gammaCorrection,w=M?M.v:0,B=hl?hl.v:0,bB=j?j.v:1,i=new Uint8Array(256);
for(var m=0;m<256;m++){var n=m/255,bG=Math.pow(Math.abs(B),1/(Math.PI/2));if(B>0){n=Math.max(B/Math.E,n);
n=n*Math.exp(B/1.75+w/Math.PI);n=(1-bG)*n+bG*1}else{n=n*Math.exp(-B*1.75+w/Math.PI);n=n+-bG*1.14}n=Math.pow(n,1/bB);
n=Math.max(0,Math.min(1,n));i[m]=Math.round(n*255)}l={type:O.OG,pw:i,Te:i,Qf:i,bC:!1,Lv:!1}}if(_=="vibA"){var eb=(n.vibrance?n.vibrance.v:0)/100,fe=(n.Strt?n.Strt.v:0)/100,bG=1+eb*(eb>0?.25:.5),gB=.8+.2/bG;
l={type:O.VB,nZ:[eb,fe,gB,bG]}}if(_=="hue2"){var hp=[],g6=[],by=[],e7=n.Clrz?n.Clrz.v:!1;for(var m=0;
m<256;m++){hp[m]=m/255;g6[m]=0;by[m]=0}var aN=c7.SO(n,0),jK=a3.YT(aN[1]/100);if(e7){var f7=aN[0]/360;
for(var m=0;m<256;m++){hp[m]=f7;g6[m]=jK}}else{for(var m=0;m<256;m++){var hW=hp[m],km=g6[m];hp[m]+=aN[0]/360;
for(var g=0;g<6;g++){var ca=c7.SO(n,g+1),aU=ca.mi,eJ=ca.kN,bG=0;for(var am=1;am<4;am++)if(eJ[am]<eJ[0])eJ[am]+=360;
var eA=eJ[0],dj=eJ[1],cM=eJ[2],b2=eJ[3],cm=hW*360;if(cm<eJ[0])cm+=360;var az=(cm-eA)/(dj-eA),j_=(cm-cM)/(b2-cM);
if(az<0)bG=0;else if(az<1)bG=az;else if(j_<0)bG=1;else if(j_<1)bG=1-j_;else bG=0;var y=a3.YT(aU[1]/100);
hp[m]+=bG*aU[0]/360;g6[m]+=bG*y;by[m]+=bG*aU[2]/100}}for(var m=0;m<256;m++){g6[m]=(1+g6[m])*(1+jK)-1;
by[m]=Math.max(-1,Math.min(1,by[m]))}}var hh=new Uint8Array(256),gs=new Uint8Array(256),fI=new Uint8Array(256);
for(var m=0;m<256;m++){var c0=hp[m],fe=g6[m],ay=by[m];if(c0>1)c0--;if(c0<0)c0++;fe=a3.aj6(fe);fe=(1+fe)*.5;
ay=(1+ay)*.5;hh[m]=Math.round(255*c0);gs[m]=Math.round(255*fe);fI[m]=Math.round(255*ay)}var fC=aN[2]/100,jQ=fC<0?-fC:fC,fw=fC<0?0:1;
l={type:O.je,a4s:hh,m9:gs,ahY:fI,a69:jQ*fw,Kz:1-jQ,ab6:aN[2]/100,ae2:e7?1:0}}if(_=="nvrt"){var i=new Uint8Array(256);
for(var m=0;m<256;m++)i[m]=255-m;l={type:O.OG,pw:i,Te:i,Qf:i,bC:!1,Lv:!1}}if(_=="post"){var aG=n.Lvls.v,i=new Uint8Array(256),bG=aG/255.001,a_=255/(aG-1);
for(var m=0;m<256;m++)i[m]=Math.floor(m*bG)*a_;l={type:O.OG,pw:i,Te:i,Qf:i,bC:!1,Lv:!1}}if(_=="grdm"){var el=n.Grad.v,dD=n.Rvrs,P=1024,ip;
if(el.Clrs){var jn=Q.N.cl(el,0,0);ip=Q.N.s3(el,jn,P,dD?dD.v:!1)}else{ip=Q.N.vJ(el,P,dD?dD.v:!1)}var af=Q.Q(P),iU=Q.Q(P),hV=Q.Q(P);
Q.nV(ip,af,0);Q.nV(ip,iU,1);Q.nV(ip,hV,2);l={type:O.OG,pw:af,Te:iU,Qf:hV,bC:!0,Lv:!1}}if(_=="selc"){var gn=new Float32Array(9*3*2),fY=n.EU,e1=n.Mthd?n.Mthd.v.CrcM=="Absl":!1;
for(var g=0;g<9;g++){var d6=g*6,fO=iH.SO(n,g),i$=fO[0]/100,gy=fO[1]/100,fT=fO[2]/100,kl=fO[3]/100;if(e1){gn[d6]=gn[d6+1]=gn[d6+2]=1;
gn[d6+3]=i$*(1+kl)+kl;gn[d6+4]=gy*(1+kl)+kl;gn[d6+5]=fT*(1+kl)+kl}else{gn[d6+0]=(1+i$)*(1+kl);gn[d6+1]=(1+gy)*(1+kl);
gn[d6+2]=(1+fT)*(1+kl)}}l={type:O.it,ayo:gn}}if(_=="blwh"){var fy="Rd Yllw Grn Cyn Bl Mgnt".split(" "),l=[],hr=0,ew=0;
for(var m=0;m<6;m++)l.push(n[fy[m]].v);l.push(n.useTint.v,n.tintColor.v);var g$=[];for(var m=0;m<6;m++)g$.push((l[m]-50)/50);
var bt=Q.N.JU(l[7]);bt.o/=255;bt.J/=255;bt.k/=255;var jL=Q.lM(bt.o,bt.J,bt.k),ay=Q.JB(Q.kg(jL.bE,1,.5)),c_=jL.yj*jL.As;
if(ay==.5)hr=ew=.5;else{hr=c_*(.5-ay)/(.5/ay-1);ew=1-c_*(.5-ay)-1/(2*(1-ay));ew/=1-1/(2*(1-ay))}l={type:O.rk,ae8:g$,DY:l[6]?1:0,au$:jL.bE,JB:ay,agb:c_,y5:hr,alj:ew}}if(_=="blnc"){var I=[],dL=["ShdL","MdtL","HghL"];
for(var m=0;m<3;m++){if(n[dL[m]]==null){I[m]=[0,0,0];continue}var aG=n[dL[m]].v,cf=aG[0].v/100,eo=aG[1].v/100,iz=aG[2].v/100,kj=n.PrsL==null||n.PrsL.v?(Math.min(cf,eo,iz)+Math.max(cf,eo,iz))/2:0;
I[m]=[cf-kj,eo-kj,iz-kj]}var k=[Q.Q(256),Q.Q(256),Q.Q(256)];for(var g=0;g<3;g++)for(var m=0;m<256;m++){var q=m*(1/255),hL=0,b=0,ar=0;
b=I[2][g];ar=Math.abs(b);if(b<0)hL=Math.pow(q,Math.SQRT2);else hL=1.63*(Math.pow(q+.04,.5)-.2);q=ar*hL+(1-ar)*q;
b=I[1][g];ar=Math.abs(b);if(b<0)hL=Math.pow(q,2);else hL=Math.min(2.35*(Math.pow(q+.09,.5)-.3),Math.pow(q,1/2));
q=ar*hL+(1-ar)*q;b=I[0][g];ar=Math.abs(b);if(b<0)hL=q<.4?0:Math.pow((q-.4)/.6,Math.SQRT2);else hL=Math.pow(q,Math.SQRT2/2);
q=ar*hL+(1-ar)*q;q=Math.max(0,Math.min(1,q));k[g][m]=Math.round(q*255)}l={type:O.OG,pw:k[0],Te:k[1],Qf:k[2],bC:!1,Lv:!1}}if(_=="phfl"){var bD=Q.N.JU(n.Clr.v),jC=[bD.o/255,bD.J/255,bD.k/255],eu=n.Dnst.v/100,k=[Q.Q(256),Q.Q(256),Q.Q(256)];
for(var g=0;g<3;g++)for(var m=0;m<256;m++){var q=m*(1/255),gx=q*jC[g];gx=Math.max(0,Math.min(1,gx));
q=eu*gx+(1-eu)*q;k[g][m]=Math.round(q*255)}l={type:O.OG,pw:k[0],Te:k[1],Qf:k[2],bC:!1,Lv:n.PrsL.v}}if(_=="thrs"){var i=Q.Q(256);
for(var m=n.Lvl.v;m<256;m++)i[m]=255;l={type:O.OG,pw:i,Te:i,Qf:i,bC:!0,Lv:!1}}if(_=="mixr"){var eS=a3.lt(n),S=[];
for(var m=0;m<eS.h.length;m++)if(m%5!=3)S.push(eS.h[m]/100);if(eS.nk){for(var fa=1;fa<3;fa++)for(var q=0;
q<4;q++)S[fa*4+q]=S[q]}l={type:O.Od,ha:S}}if(_=="rplc"){var h6=n.Mnm.v,bw=n.Mxm.v;l={type:O.YB,wc:[h6.Lmnc.v,h6.A.v,h6.B.v],xS:[bw.Lmnc.v,bw.A.v,bw.B.v],shift:[n.H.v/360,n.Strt.v/100,n.Lght.v/100],Ms:n.Fzns.v/150}}if(_=="clrL"&&n.profile){var bf=new Uint8Array(n.profile.v),fq=ICC.R(bf.buffer),ia=[],gI=17,ia=ICC.U.sampleLUT(fq,gI);
l={type:O.Hw,r0:ICC.U.rgba8LUT(ia,gI),a0K:ia,nq:gI}}return l};a3.$G=function(_,n){var O=-1;if(_!="levl"||n==null)O=-1;
else if(n.Auto)O=0;else if(n.AuCo)O=1;else if(n.autoBlackWhite)O=2;return O};a3.v9={OG:0,je:1,VB:2,it:3,rk:4,Od:5,YB:6,Hw:7};
a3.YT=function(_){if(_<0)return _;return Math.pow(Math.tan(Math.PI/2*_),1.3)};a3.aj6=function(_){if(_<0)return _;
_=Math.pow(_,1/1.3);return Math.atan2(_,1)/(Math.PI/2)};a3.Er=function(_,n,O,l){var x=a3.v9,t=Date.now();
if(ex.kj&&l.O()>300*300&&_.type!=x.OG&&_.type!=x.Hw){l=l.clone();l.x=l.y=0;var h=ex.bk(0,l.a,l.n);h.set(n);
ex.QC(h,l);h.N8(l);a3.iT(_,h.JA,l);h.get(O);return}if(_.type==x.Hw){var V=_.a0K,y=_.nq;ICC.U.applyLUT(V,y,n,O);
var r=n.length;for(var m=0;m<r;m+=4)O[m+3]=n[m+3]}if(_.type==x.Od)Q.fN.s2(n,O,_.ha);if(_.type==x.rk){var E=_.agb,a=_.JB,S=_.y5,e=_.alj,r=n.length;
for(var m=0;m<r;m+=4){var l=n[m]*(1/255),P=n[m+1]*(1/255),b=n[m+2]*(1/255),T=Q.$d(l,P,b),C=0;for(var Z=0;
Z<6;Z++)C+=Math.min(1,1.7*(1-T.Ad))*T.yj*_.ae8[Z]*a3.a8F(T.bE,Z*(1/6));var W=Math.max(0,Math.min(1,T.Ad*(1+C)));
if(_.DY==1){var s=0;if(W<S)s=W*(.5/a);else if(W<e)s=W+E*(.5-a);else s=1-(1-W)*.5/(1-a);T.bE=_.au$;T.yj=Math.min(1,E+3*E*Math.abs(W-.5*(S+e)));
T.Ad=s}else{T.bE=0;T.yj=0;T.Ad=W}var f=Q.kg(T.bE,T.yj,T.Ad);O[m]=Math.round(f.o*255);O[m+1]=Math.round(f.J*255);
O[m+2]=Math.round(f.k*255)}}if(_.type==x.it){var q=_.ayo,r=n.length,g=1/255;for(var m=0;m<r;m+=4){var l=n[m]*g,P=n[m+1]*g,b=n[m+2]*g,T=Q.$d(l,P,b),i=Math.max(l,Math.max(P,b)),u=Math.min(l,Math.min(P,b)),I=1-l,Y=1-P,U=1-b,F=0,N=0,o=0;
for(var Z=0;Z<9;Z++){var X=Z*6,d=0;if(q[X]==1&&q[X+1]==1&&q[X+2]==1&&q[X+3]==0&&q[X+4]==0&&q[X+5]==0)continue;
var J=I*q[X]+q[X+3],c=Y*q[X+1]+q[X+4],p=U*q[X+2]+q[X+5];if(Z<6)d=a3.a8F(T.bE,Z*(1/6))*T.yj*2*Math.min(T.Ad,1-T.Ad);
else if(Z==6)d=Math.max(0,u-.5)*2;else if(Z==7)d=1-(Math.abs(i-.5)+Math.abs(u-.5));else d=Math.max(0,.5-i)*2;
F+=(Math.max(0,Math.min(1,J))-I)*d;N+=(Math.max(0,Math.min(1,c))-Y)*d;o+=(Math.max(0,Math.min(1,p))-U)*d}I=Math.max(0,Math.min(1,I+F));
Y=Math.max(0,Math.min(1,Y+N));U=Math.max(0,Math.min(1,U+o));l=1-I;P=1-Y;b=1-U;O[m]=Math.round(l*255);
O[m+1]=Math.round(P*255);O[m+2]=Math.round(b*255)}}if(_.type==x.OG){Q.a8l(n,O,_.pw,_.Te,_.Qf,_.bC,_.Lv)}if(_.type==x.je){var k=new Uint32Array(n.buffer),A=new Uint32Array(O.buffer),r=k.length;
if(a3.UK==null){a3.UK=new Float64Array(256);for(var m=0;m<256;m++)a3.UK[m]=a3.YT(-1+2*m/255)}var $=a3.UK;
for(var m=0;m<r;m++){var K=k[m],l=(K&255)*(1/255),P=(K>>>8&255)*(1/255),b=(K>>>16&255)*(1/255),G=K>>>24,z=Math.min(l,P,b),M=Math.max(l,P,b),hl=0,j=0,w=0;
hl=Q.$d(l,P,b).bE;var B=~~(hl*255+.5),bB=_.a4s[B]*(1/255),bG=_.m9[B]*(1/255)*2-1,eb=_.ahY[B]*(1/255)*2-1,C=-eb,fe=z;
if(0<eb){C=eb;fe=M}var gB=_.a69+_.Kz*C*fe,hp=_.Kz*(1-C);l=gB+hp*l;P=gB+hp*P;b=gB+hp*b;M=Math.max(l,P,b);
z=Math.min(l,P,b);w=(M+z)*.5;if(M!=z){var g6=M-z;j=w>.5?g6/(2-(M+z)):g6/(M+z)}var by=bG;if(_.ae2==0){bG=$[Math.floor((1+bG)*127.5)];
by=Math.min(j*(1+bG),1)}var f=Q.kg(bB,by,w);l=f.o;P=f.J;b=f.k;A[m]=G<<24|b*255<<16|P*255<<8|l*255}}if(_.type==x.YB){Q.Jt(n,O);
var k=new Uint32Array(n.buffer),A=new Uint32Array(O.buffer),r=k.length,e7=_.Ms,aN=1/e7,jK={oT:_.wc[0],EX:_.wc[1],k:_.wc[2]},f7={oT:_.xS[0],EX:_.xS[1],k:_.xS[2]};
for(var m=0;m<r;m++){var K=k[m],hW=K&255,km=K>>>8&255,ca=K>>>16&255,l=hW*(1/255),P=km*(1/255),b=ca*(1/255),G=K>>>24,aU=Q.KY(hW,km,ca),eJ=Q.y2(aU,jK,f7,e7,aN);
if(eJ==0)continue;var T=Q.$d(l,P,b),bB=2+T.bE+_.shift[0];T.bE=bB-~~bB;T.yj=Math.max(0,Math.min(1,T.yj+_.shift[1]));
T.Ad=Math.max(0,Math.min(1,T.Ad+_.shift[2]));var f=Q.kg(T.bE,T.yj,T.Ad);l=(1-eJ)*l+eJ*f.o;P=(1-eJ)*P+eJ*f.J;
b=(1-eJ)*b+eJ*f.k;A[m]=G<<24|b*255<<16|P*255<<8|l*255}}if(_.type==x.VB){var k=new Uint32Array(n.buffer),A=new Uint32Array(O.buffer),r=k.length,am=_.nZ[0],eA=_.nZ[1],dj=_.nZ[2],C=_.nZ[3],cM=Q.fN.EM([.299,.587,.114,-.147,-.289,.436,.615,-.515,-.1]),b2=Q.fN.sJ(cM),cm=2.4;
function y(fI){return Math.max(0,Math.min(1,fI))}function az(fI){return Math.pow(fI,cm)}function j_(fI){return Math.pow(fI,1/cm)}function hh(l,P,b,fI){l=az(l);
P=az(P);b=az(b);var c0=Q.fN.Jl(cM,[l,P,b,1]);c0[0]*=dj;c0[1]*=C;c0[2]*=C;var f=Q.fN.Jl(b2,c0);f[0]=j_(y(f[0]));
f[1]=j_(y(f[1]));f[2]=j_(y(f[2]));return f}for(var m=0;m<r;m++){var K=k[m],l=(K&255)*(1/255),P=(K>>>8&255)*(1/255),b=(K>>>16&255)*(1/255),G=K>>>24,f=hh(l,P,b,am);
l=f[0];P=f[1];b=f[2];var gs=Q.$d(l,P,b);gs.yj=Math.max(0,Math.min(1,gs.yj*(1+eA)));f=Q.kg(gs.bE,gs.yj,gs.Ad);
l=f.o;P=f.J;b=f.k;A[m]=G<<24|b*255<<16|P*255<<8|l*255}}};a3.iT=function(_,n,O){ex.v3.iT(_,n)};a3.a8F=function(_,n){var O=Q.Lo(n,_)*6;
return Math.max(0,Math.min(1,O<0?1+O:1-O))};var ie={};ie.CH=function(_){var n=_.filterID.v;return n>16777215?R.aiT(n):_.Fltr.v.classID};
ie.hE=[{cK:"GEfc"},{cK:"LnCr"},{cK:"Adobe Camera Raw Filter"},{cK:"LqFy",Qn:!0},{cR:"3D",dX:["lightFilterGradient","Dila"]},{cR:[24,2],dX:"Avrg,Blr ,BlrM,boxblur,GsnB,Bokh,MtnB,RdlB,surfaceBlur".split(",")},{cR:[24,4],dX:"Dspl,Kale,Pnch,Plr ,Rple,Shr ,Sphr,Twrl,Wave,ZgZg".split(",")},{cR:[24,6],dX:["AdNs","Dspc","DstS","Mdn ","denoise"]},{cR:[24,8],dX:"ClrH,Crst,Frgm,Mztn,Msc ,Pntl".split(",")},{cR:[24,10],dX:["Flam","Clds","DfrC","Fbrs","LnsF"]},{cR:[24,12],dX:["Shrp","ShrE","ShrM","smartSharpen","UnsM"]},{cR:[24,14],dX:"Dfs ,Embs,FndE,oilPaint,Slrz,TrcC,Wnd ".split(",")},{cR:[24,16],dX:"HghP,HsbP,Mxm ,Mnm ,Ofst,Rept,Ctoa,Dthr,Part".split(",")},{cR:"Fourier",dX:["dDFT","iDFT"]}];
ie.Tu={LqFy:"LqFy",Avrg:"Avrg","Blr ":"blurEvent",BlrM:"blurMethod",boxblur:"boxblur",GsnB:"gaussianBlur",MtnB:"motionBlur",RdlB:"radialBlur",surfaceBlur:"surfaceBlur",lightFilterGradient:"lightFilterGradient",adaptCorrect:"adaptCorrect",Pnch:"pinch","Plr ":"polar",Rple:"ripple","Shr ":"shear",Sphr:"spherize",Twrl:"twirl",Wave:"wave",AdNs:"addNoise",DstS:"dustAndScratches","Mdn ":"median",denoise:"denoise",ClrH:"colorHalftone",Crst:"",Frgm:"",Mztn:"mezzotint","Msc ":"mosaic",Pntl:"",Flam:"",Clds:"clouds",DfrC:"differenceClouds",LnsF:"LnsF",Shrp:"sharpen",ShrM:"sharpenMore",smartSharpen:"smartSharpen",UnsM:"unsharpMask","Dfs ":"diffuse",FndE:"findEdges",oilPaint:"oilPaint","Adobe Camera Raw Filter":"Adobe Camera Raw Filter",HghP:"highPass","Mxm ":"maximum","Mnm ":"minimum",Ofst:"offset"};
ie.ud={AddNoise:"AdNs",Average:"Avrg",Blur:"Blr ",BlurMore:"BlrM",Clouds:"Clds",DifferenceClouds:"DfrC",DustAndScratches:"DstS",GaussianBlur:"GsnB",HighPass:"HghP",Maximum:"Mxm ",Minimum:"Mnm ",MotionBlur:"MtnB",Offset:"Ofst",Pinch:"Pnch",PolarCoordinates:"Plr ",Ripple:"Rple",Sharpen:"Shrp",SharpenMore:"ShrM",Twirl:"Twrl",UnsharpMask:"UnsM",Wave:"Wave",BrightnessContrast:"brit"};
ie.e={rigidTransform:D.lG};ie.names={lightFilterGradient:[24,17,8],rigidTransform:[10,46],LnCr:[24,1,1,0],LqFy:[24,1,0,0],GEfc:[24,0],Avrg:[24,3,0],"Blr ":[24,3,1],BlrM:[24,3,2],boxblur:[24,3,3],GsnB:[24,3,4],Bokh:[24,3,5],MtnB:[24,3,6],RdlB:[24,3,7],surfaceBlur:[24,3,10],Dspl:[24,5,0],Pnch:[24,5,1],"Plr ":[24,5,2],Rple:[24,5,3],"Shr ":[24,5,4],Sphr:[24,5,5],Twrl:[24,1,0,1,3],Wave:[24,5,6],ZgZg:[24,5,7],Kale:[24,5,8],AdNs:[24,7,0],Dspc:[24,7,1],DstS:[24,7,2],"Mdn ":[24,7,3],denoise:[24,7,4],ClrH:[24,9,0],Crst:[24,9,1],Frgm:[24,9,3],Mztn:[24,9,4],"Msc ":[24,9,5],Pntl:[24,9,6],Clds:[24,11,0],DfrC:[24,11,1],LnsF:[24,11,2],Flam:[24,11,3],Fbrs:[24,11,4],Shrp:[24,13,0],ShrE:[24,13,1],ShrM:[24,13,2],smartSharpen:[24,13,3],UnsM:[24,13,4],"Dfs ":[24,15,0],Embs:[24,15,1],FndE:[24,15,3],oilPaint:[24,15,4],Slrz:[24,15,5],TrcC:[24,15,6],"Wnd ":[24,15,7],HghP:[24,17,1],HsbP:"HSB/HSL","Mxm ":[24,17,2],"Mnm ":[24,17,3],Ofst:[24,17,4],Rept:[24,17,5],Ctoa:[24,17,6],Dthr:[12,23,3],Part:[24,17,7],dDFT:"Fourier Transform",iDFT:"Inverse Fourier Transform",defr:"Defringe",Dila:"Texture Dilation",VaPo:"Vanishing Point",adaptCorrect:["VAR0/VAR1",[19,6,0],[19,6,2]],"Adobe Camera Raw Filter":"Camera Raw"};
ie.gV=function(_){var n=null;if(_=="GEfc")n={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:cz.gV("GlwE")}]}};
if(_=="LqFy"){var O={Qc:5,bE:5,map:new Float32Array(5*5*2)},l=new Uint8Array(ii.uF(O)),x=[];for(var m=0;
m<l.length;m++)x.push(l[m]);n={__name:"Liquify",classID:"LqFy",LqMe:{t:"tdta",v:x}}}if(_=="rigidTransform"){n={__name:"Puppet Warp",classID:"rigidTransform",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},rigidType:{t:"bool",v:!0},puppetShapeList:{t:"VlLs",v:[]},PuX0:{t:"doub",v:0},PuX1:{t:"doub",v:1e3},PuX2:{t:"doub",v:1e3},PuX3:{t:"doub",v:0},PuY0:{t:"doub",v:0},PuY1:{t:"doub",v:0},PuY2:{t:"doub",v:1e3},PuY3:{t:"doub",v:1e3}}}if(_=="LnCr")n={__name:"Lens Correction",classID:"LnCr",LnAg:{t:"bool",v:!0},LnAc:{t:"bool",v:!1},LnAv:{t:"bool",v:!1},LnAs:{t:"bool",v:!1},LnIp:{t:"bool",v:!1},LnFo:{t:"doub",v:0},LnPr:{t:"TEXT",v:""},LnIa:{t:"doub",v:0},LnI0:{t:"doub",v:0},LnI1:{t:"doub",v:0},LnI2:{t:"doub",v:0},LnI3:{t:"doub",v:1},LnRa:{t:"doub",v:0},LnVp:{t:"doub",v:0},LnHp:{t:"doub",v:0},LnSi:{t:"doub",v:100},LnFt:{t:"long",v:2},LnSb:{t:"doub",v:0},LnSt:{t:"long",v:50},LnRc:{t:"doub",v:0},LnGm:{t:"doub",v:0},LnBy:{t:"doub",v:0},LnNa:{t:"long",v:64},LnIh:{t:"long",v:0},LnIv:{t:"long",v:0},LnIs:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:127},Grn:{t:"doub",v:127},Bl:{t:"doub",v:127}}},LnNm:{t:"bool",v:!1}};
if(_=="adaptCorrect")n={__name:"Shadow/Highlight",classID:"adaptCorrect",sdwM:{t:"Objc",v:{__name:"Parameters",classID:"adaptCorrectTones",Amnt:{t:"UntF",v:{type:"#Prc",val:50}},Wdth:{t:"UntF",v:{type:"#Prc",val:25}},Rds:{t:"long",v:12}}},hglM:{t:"Objc",v:{__name:"Parameters",classID:"adaptCorrectTones",Amnt:{t:"UntF",v:{type:"#Prc",val:0}},Wdth:{t:"UntF",v:{type:"#Prc",val:0}},Rds:{t:"long",v:0}}},BlcC:{t:"doub",v:0},WhtC:{t:"doub",v:0},Cntr:{t:"long",v:0},ClrC:{t:"long",v:0}};
if(_=="Dfs ")n={__name:"Diffuse",classID:"Dfs",Md:{t:"enum",v:{DfsM:"Nrml"}},FlRs:{t:"long",v:14061024}};
if(_=="Fbrs")n={__name:"Fibers",classID:"Fbrs",Vrnc:{t:"long",v:10},Strg:{t:"long",v:1},RndS:{t:"long",v:8438429}};
if(_=="Embs")n={__name:"Emboss",classID:"Embs",Angl:{t:"long",v:45},Hght:{t:"long",v:5},Amnt:{t:"long",v:100}};
if(_=="oilPaint")n={__name:"Oil Paint",classID:"oilPaint",lightingOn:{t:"bool",v:!0},stylization:{t:"doub",v:3},brushScale:{t:"doub",v:1},microBrush:{t:"doub",v:0},LghD:{t:"long",v:45},specularity:{t:"doub",v:1},cleanliness:{t:"doub",v:2}};
if(_=="TrcC")n={__name:"Trace Contour",classID:"TrcC",Lvl:{t:"long",v:128},Edg:{t:"enum",v:{CntE:"Lwr"}}};
if(_=="Wnd ")n={__name:"Wind",classID:"Wnd",WndM:{t:"enum",v:{WndM:"Wnd"}},Drct:{t:"enum",v:{Drct:"Rght"}}};
if(_=="lightFilterGradient")n={__name:"Generate Normals",classID:"lightFilterGradient",blur:{t:"doub",v:0},textureScale:{t:"doub",v:1},Scl:{t:"doub",v:1},Dtl:{t:"VlLs",v:[{t:"doub",v:1},{t:"doub",v:1},{t:"doub",v:1}]}};
if(_=="boxblur")n={__name:"Box Blur",classID:"boxblur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}}};if(_=="GsnB")n={__name:"Gaussian Blur",classID:"GsnB",Rds:{t:"UntF",v:{type:"#Pxl",val:7.2}}};
if(_=="Bokh")n={__name:"Lens Blur",classID:"Bokh",BkDi:{t:"enum",v:{BtDi:"BeIn"}},BkDp:{t:"long",v:0},BkDs:{t:"bool",v:!1},BkIs:{t:"enum",v:{BtIs:"BeS6"}},BkIb:{t:"doub",v:30},BkIc:{t:"long",v:0},BkIr:{t:"long",v:0},BkSb:{t:"doub",v:0},BkSt:{t:"long",v:255},BkNa:{t:"long",v:0},BkNt:{t:"enum",v:{BtNt:"BeNu"}},BkNm:{t:"bool",v:!1}};
if(_=="MtnB")n={__name:"Motion Blur",classID:"MtnB",Angl:{t:"long",v:0},Dstn:{t:"UntF",v:{type:"#Pxl",val:4}}};
if(_=="RdlB")n={__name:"Radial Blur",classID:"RdlB",Amnt:{t:"long",v:10},BlrM:{t:"enum",v:{BlrM:"Spn"}},BlrQ:{t:"enum",v:{BlrQ:"Gd"}},Cntr:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.5},Vrtc:{t:"doub",v:.5}}}};
if(_=="surfaceBlur")n={__name:"Surface Blur",classID:"surfaceBlur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}},Thsh:{t:"long",v:15}};
if(_=="denoise")n={__name:"Reduce Noise",classID:"denoise",ClNs:{t:"UntF",v:{type:"#Prc",val:29}},Shrp:{t:"UntF",v:{type:"#Prc",val:0}},removeJPEGArtifact:{t:"bool",v:!1},channelDenoise:{t:"VlLs",v:[{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Cmps"}}]},Amnt:{t:"long",v:5},EdgF:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Rd"}}]},Amnt:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Grn"}}]},Amnt:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Bl"}}]},Amnt:{t:"long",v:0}}}]},preset:{t:"TEXT",v:"Default"}};
if(_=="Dspl")n={__name:"Displace",classID:"Dspl",HrzS:{t:"long",v:10},VrtS:{t:"long",v:10},DspM:{t:"enum",v:{DspM:"StrF"}},UndA:{t:"enum",v:{UndA:"RptE"}},DspF:{t:"Pth ",v:{sig:"txtu",pth:"file.psd\0"}}};
if(_=="Pnch")n={__name:"Pinch",classID:"Pnch",Amnt:{t:"long",v:-100}};if(_=="Plr ")n={__name:"Polar Coordinates",classID:"Plr",Cnvr:{t:"enum",v:{Cnvr:"RctP"}}};
if(_=="Rple")n={__name:"Ripple",classID:"Rple",Amnt:{t:"long",v:999},RplS:{t:"enum",v:{RplS:"Mdm"}}};
if(_=="Shr ")n={__name:"Shear",classID:"Shr",ShrP:{t:"VlLs",v:[{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:1}}},{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:128}}}]},UndA:{t:"enum",v:{UndA:"WrpA"}},ShrS:{t:"long",v:0},ShrE:{t:"long",v:1}};
if(_=="Sphr")n={__name:"Spherize",classID:"Sphr",Amnt:{t:"long",v:100},SphM:{t:"enum",v:{SphM:"Nrml"}}};
if(_=="Twrl")n={__name:"Twirl",classID:"Twrl",Angl:{t:"long",v:90}};if(_=="Wave")n={__name:"Wave",classID:"Wave",Wvtp:{t:"enum",v:{Wvtp:"WvSn"}},NmbG:{t:"long",v:1},WLMn:{t:"long",v:101},WLMx:{t:"long",v:102},AmMn:{t:"long",v:36},AmMx:{t:"long",v:37},SclH:{t:"long",v:100},SclV:{t:"long",v:100},UndA:{t:"enum",v:{UndA:"WrpA"}},RndS:{t:"long",v:743887}};
if(_=="ZgZg")n={__name:"ZigZag",classID:"ZgZg",Amnt:{t:"long",v:50},NmbR:{t:"long",v:10},ZZTy:{t:"enum",v:{ZZTy:"ArnC"}}};
if(_=="AdNs")n={__name:"Add Noise",classID:"AdNs",Dstr:{t:"enum",v:{Dstr:"Unfr"}},Nose:{t:"UntF",v:{type:"#Prc",val:20}},Mnch:{t:"bool",v:!1},FlRs:{t:"long",v:100691320}};
if(_=="DstS")n={__name:"Dust & Scratches",classID:"DstS",Rds:{t:"long",v:2},Thsh:{t:"long",v:26}};if(_=="Mdn ")n={__name:"Median",classID:"Mdn",Rds:{t:"UntF",v:{type:"#Pxl",val:7}}};
if(_=="ClrH")n={__name:"Color Halftone",classID:"ClrH",Rds:{t:"long",v:8},Ang1:{t:"long",v:10},Ang2:{t:"long",v:40},Ang3:{t:"long",v:70},Ang4:{t:"long",v:80}};
if(_=="Crst")n={__name:"Crystallize",classID:"Crst",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929224}};
if(_=="Mztn")n={__name:"Mezzotint",classID:"Mztn",MztT:{t:"enum",v:{MztT:"FnDt"}},FlRs:{t:"long",v:204994187}};
if(_=="Msc ")n={__name:"Mosaic",classID:"Msc",ClSz:{t:"UntF",v:{type:"#Pxl",val:12}}};if(_=="Pntl")n={__name:"Pointillize",classID:"Pntl",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929236}};
if(_=="LnsF")n={__name:"Lens Flare",classID:"LnsF",Brgh:{t:"long",v:100},FlrC:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.19140625},Vrtc:{t:"doub",v:.185628741979599}}},Lns:{t:"enum",v:{Lns:"Zm"}}};
if(_=="Dthr")n={__name:"Dither",classID:"Dthr",Plte:{t:"long",v:0},Mthd:{t:"long",v:1}};if(_=="Part")n={__name:"Dither",classID:"Part",Cont:{t:"long",v:10},Size:{t:"long",v:8},Dpth:{t:"long",v:100},Brgh:{t:"long",v:800},Clr:{t:"Objc",v:{classID:"RGBC",Rd:{v:255,t:"doub"},Grn:{v:255,t:"doub"},Bl:{v:255,t:"doub"}}},Time:{t:"doub",v:0},Turb:{t:"long",v:0},Blnk:{t:"bool",v:!0},Fall:{t:"bool",v:!1},RndS:{t:"long",v:8438429}};
if(_=="Adobe Camera Raw Filter")n={__name:"Camera Raw Filter",classID:"Adobe Camera Raw Filter",CMod:{t:"TEXT",v:"Filter"},Sett:{t:"enum",v:{Sett:"Cst"}},WBal:{t:"enum",v:{WBal:"AsSh"}},Temp:{t:"long",v:0},Tint:{t:"long",v:0},CtoG:{t:"bool",v:!1},Strt:{t:"long",v:0},Shrp:{t:"long",v:0},LNR:{t:"long",v:0},CNR:{t:"long",v:0},VigA:{t:"long",v:0},BlkB:{t:"long",v:0},RHue:{t:"long",v:0},RSat:{t:"long",v:0},GHue:{t:"long",v:0},GSat:{t:"long",v:0},BHue:{t:"long",v:0},BSat:{t:"long",v:0},Vibr:{t:"long",v:0},HA_R:{t:"long",v:0},HA_O:{t:"long",v:0},HA_Y:{t:"long",v:0},HA_G:{t:"long",v:0},HA_A:{t:"long",v:0},HA_B:{t:"long",v:0},HA_P:{t:"long",v:0},HA_M:{t:"long",v:0},SA_R:{t:"long",v:0},SA_O:{t:"long",v:0},SA_Y:{t:"long",v:0},SA_G:{t:"long",v:0},SA_A:{t:"long",v:0},SA_B:{t:"long",v:0},SA_P:{t:"long",v:0},SA_M:{t:"long",v:0},LA_R:{t:"long",v:0},LA_O:{t:"long",v:0},LA_Y:{t:"long",v:0},LA_G:{t:"long",v:0},LA_A:{t:"long",v:0},LA_B:{t:"long",v:0},LA_P:{t:"long",v:0},LA_M:{t:"long",v:0},STSH:{t:"long",v:0},STSS:{t:"long",v:0},STHH:{t:"long",v:0},STHS:{t:"long",v:0},STB:{t:"long",v:0},PC_S:{t:"long",v:0},PC_D:{t:"long",v:0},PC_L:{t:"long",v:0},PC_H:{t:"long",v:0},PC_1:{t:"long",v:25},PC_2:{t:"long",v:50},PC_3:{t:"long",v:75},ShpR:{t:"doub",v:1},ShpD:{t:"long",v:25},ShpM:{t:"long",v:0},PCVA:{t:"long",v:0},GRNA:{t:"long",v:0},LPEn:{t:"long",v:0},MDis:{t:"long",v:0},PerV:{t:"long",v:0},PerH:{t:"long",v:0},PerR:{t:"doub",v:0},PerS:{t:"long",v:100},PerA:{t:"long",v:0},PerU:{t:"long",v:0},PerX:{t:"doub",v:0},PerY:{t:"doub",v:0},AuCA:{t:"long",v:0},Ex12:{t:"doub",v:0},Cr12:{t:"long",v:0},Hi12:{t:"long",v:0},Sh12:{t:"long",v:0},Wh12:{t:"long",v:0},Bk12:{t:"long",v:0},Cl12:{t:"long",v:0},DfPA:{t:"long",v:0},DPHL:{t:"long",v:30},DPHH:{t:"long",v:70},DfGA:{t:"long",v:0},DPGL:{t:"long",v:40},DPGH:{t:"long",v:60},Dhze:{t:"long",v:0},TMMs:{t:"long",v:0},Crv:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvR:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvG:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvB:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CamP:{t:"TEXT",v:"Embedded"},CP_D:{t:"TEXT",v:"54650A341B5B5CCAE8442D0B43A92BCE"},PrVe:{t:"long",v:184549376},Rtch:{t:"TEXT",v:""},REye:{t:"TEXT",v:""},LCs:{t:"TEXT",v:""},Look:{t:"TEXT",v:""},Pset:{t:"TEXT",v:""}};
if(_=="smartSharpen")n={__name:"Smart Sharpen",classID:"smartSharpen",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},useLegacy:{t:"bool",v:!1},Amnt:{t:"UntF",v:{type:"#Prc",val:150}},Rds:{t:"UntF",v:{type:"#Pxl",val:1}},noiseReduction:{t:"UntF",v:{type:"#Prc",val:0}},blur:{t:"enum",v:{blurType:"GsnB"}}};
if(_=="UnsM")n={__name:"Unsharp Mask",classID:"UnsM",Amnt:{t:"UntF",v:{type:"#Prc",val:142}},Rds:{t:"UntF",v:{type:"#Pxl",val:4.5}},Thsh:{t:"long",v:0}};
if(_=="HghP")n={__name:"High Pass",classID:"HghP",Rds:{t:"UntF",v:{type:"#Pxl",val:3}}};if(_=="HsbP")n={__name:"HSB/HSL",classID:"HsbP",Inpt:{t:"enum",v:{ClrS:"RGBC"}},Otpt:{t:"enum",v:{ClrS:"HSBl"}}};
if(_=="Mxm ")n={__name:"Maximum",classID:"Mxm",Rds:{t:"UntF",v:{type:"#Pxl",val:8}},preserveShape:{t:"enum",v:{preserveShape:"squareness"}}};
if(_=="Mnm ")n={__name:"Minimum",classID:"Mnm",Rds:{t:"UntF",v:{type:"#Pxl",val:8}},preserveShape:{t:"enum",v:{preserveShape:"squareness"}}};
if(_=="Ofst")n={__name:"Offset",classID:"Ofst",Hrzn:{t:"long",v:144},Vrtc:{t:"long",v:278},Fl:{t:"enum",v:{FlMd:"Wrp"}}};
if(_=="Kale")n={__name:"Kaleidoscope",classID:"Kale",Mirr:{t:"long",v:6},MRot:{t:"long",v:0}};if(_=="Rept")n={__name:"Repeat",classID:"Rept",Scl:{v:{type:"#Prc",val:100},t:"UntF"},Rsft:{v:{type:"#Prc",val:0},t:"UntF"},SpcX:{v:{type:"#Prc",val:0},t:"UntF"},SpcY:{v:{type:"#Prc",val:0},t:"UntF"},SpcC:{t:"bool",v:!1},Angl:{t:"long",v:0}};
if(_=="Flam")n={__name:"Repeat",classID:"Flam",Type:{t:"long",v:0},Leng:{t:"long",v:140},RndL:{t:"bool",v:!1},Widt:{t:"long",v:100},Angl:{t:"long",v:0},Intr:{t:"long",v:100},Adpt:{t:"bool",v:!1},Qual:{t:"long",v:1},Clr:{v:{classID:"RGBC",Rd:{v:255,t:"doub"},Grn:{v:110,t:"doub"},Bl:{v:28,t:"doub"}},t:"Objc"},Turb:{t:"long",v:50},Jag:{t:"long",v:0},Opct:{v:{type:"#Prc",val:25},t:"UntF"},Lins:{t:"long",v:10},Botm:{t:"long",v:30},Styl:{t:"long",v:0},Shap:{t:"long",v:0},RnSh:{t:"bool",v:!1},Arng:{t:"long",v:18}};
if(_=="Ctoa")n={__name:"Color to Alpha",classID:"Ctoa",Trsp:{v:{type:"#Prc",val:0},t:"UntF"},Opct:{v:{type:"#Prc",val:100},t:"UntF"},Clr:{v:{classID:"RGBC",Rd:{v:0,t:"doub"},Grn:{v:0,t:"doub"},Bl:{v:0,t:"doub"}},t:"Objc"}};
if(_=="brit")n={__name:"Brightness/Contrast",classID:"BrgC",Brgh:{t:"long",v:0},Cntr:{t:"long",v:0},useLegacy:{t:"bool",v:!1}};
if(_=="levl")n={__name:"Levels",classID:"Lvls",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(_=="curv")n={__name:"Curves",classID:"Crvs",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(_=="expA")n={__name:"Exposure",classID:"Exps",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Exps:{t:"doub",v:0},Ofst:{t:"doub",v:0},gammaCorrection:{t:"doub",v:1}};
if(_=="vibA")n={__name:"Vibrance",classID:"vibrance",vibrance:{t:"long",v:0},Strt:{t:"long",v:0}};if(_=="hue2")n={__name:"Hue/Saturation",classID:"HStr",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Clrz:{t:"bool",v:!1},Adjs:{t:"VlLs",v:[]}};
if(_=="blnc")n={__name:"Color Balance",classID:"ClrB",ShdL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},MdtL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},HghL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},PrsL:{t:"bool",v:!0}};
if(_=="blwh")n={__name:"Black & White",classID:"BanW",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Rd:{t:"long",v:40},Yllw:{t:"long",v:85},Grn:{t:"long",v:204},Cyn:{t:"long",v:60},Bl:{t:"long",v:20},Mgnt:{t:"long",v:80},useTint:{t:"bool",v:!0},tintColor:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:0}}}};
if(_=="phfl")n={__name:"Photo Filter",classID:"photoFilter",Clr:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:67.06},A:{t:"doub",v:32},B:{t:"doub",v:120}}},Dnst:{t:"long",v:80},PrsL:{t:"bool",v:!0}};
if(_=="grdm")n={__name:"Gradient Map",classID:"GrMp",Rvrs:{t:"bool",v:!1},Grad:JSON.parse(aF._v[6]).Grad};
if(_=="selc")n={__name:"Selective Color",classID:"SlcC",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Mthd:{t:"enum",v:{CrcM:"Rltv"}},ClrC:{t:"VlLs",v:[]}};
if(_=="thrs")n={__name:"Threshold",classID:"Thrs",Lvl:{t:"long",v:128}};if(_=="mixr")n={__name:"Channel Mixer",classID:"ChnM",presetKind:{t:"enum",v:{presetKindType:"presetKindDefault"}},Mnch:{t:"bool",v:!1},Rd:{t:"Objc",v:{classID:"ChMx",Rd:{t:"UntF",v:{type:"#Prc",val:100}}}},Grn:{t:"Objc",v:{classID:"ChMx",Grn:{t:"UntF",v:{type:"#Prc",val:100}}}},Bl:{t:"Objc",v:{classID:"ChMx",Bl:{t:"UntF",v:{type:"#Prc",val:100}}}}};
if(_=="clrL")n={__name:"Color Lookup",classID:"colorLookup"};if(_=="post")n={__name:"Posterize",classID:"Pstr",Lvls:{t:"long",v:3}};
if(_=="rplc")n={__name:"Replace Color",classID:"RplC",Fzns:{t:"long",v:55},Mnm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73.1},A:{t:"doub",v:23.95},B:{t:"doub",v:8.03}}},Mxm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73},A:{t:"doub",v:23},B:{t:"doub",v:8}}},H:{t:"long",v:-22},Strt:{t:"long",v:0},Lght:{t:"long",v:0}};
if(_=="fade")n={__name:"Fade",classID:"fade",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}};
if(_=="aply")n={classID:"null",With:{t:"Objc",v:{classID:"Clcl",T:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"RGB"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}}]},Invr:{t:"bool",v:!1},Clcl:{t:"enum",v:{Clcn:"Nrml"}},Opct:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"long",v:128},Scl:{t:"doub",v:1},PrsT:{t:"bool",v:!1}}}};
if(_=="matc"){n={__name:"Match Color",classID:"matchColor",Lght:{t:"long",v:100},ClrR:{t:"long",v:100},Fade:{t:"long",v:0},fsel:{t:"bool",v:!0},neutralizeColor:{t:"bool",v:!1},noReference:{t:"bool",v:!0}}}if(_=="Dila")n={__name:"Texture Dilation",classID:"Dila",Crop:{t:"UntF",v:{type:"#Pxl",val:0}},Rds:{t:"UntF",v:{type:"#Pxl",val:10}}};
if(_=="blendOptions")n={classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}};
return n};ie.rZ={sFlam:function(_,n){n[0]=_.Type.v;n[1]=_.Leng.v;n[2]=_.RndL.v;n[3]=_.Widt.v;n[4]=_.Angl.v;
n[5]=_.Intr.v;n[6]=_.Adpt.v;n[7]=_.Clr.v;n[8]=_.Qual.v;n[9]=_.Turb.v;n[10]=_.Jag.v;n[11]=_.Opct.v.val;
n[12]=_.Lins.v;n[13]=_.Botm.v;n[14]=_.Styl.v;n[15]=_.Shap.v;n[16]=_.RnSh.v;n[17]=_.Arng.v},gFlam:function(_,n){_.Type.v=n[0];
_.Leng.v=n[1];_.RndL.v=n[2];_.Widt.v=n[3];_.Angl.v=n[4];_.Intr.v=n[5];_.Adpt.v=n[6];_.Clr.v=n[7];_.Qual.v=n[8];
_.Turb.v=n[9];_.Jag.v=n[10];_.Opct.v.val=n[11];_.Lins.v=n[12];_.Botm.v=n[13];_.Styl.v=n[14];_.Shap.v=n[15];
_.RnSh.v=n[16];_.Arng.v=n[17]},sAdNs:function(_,n){n[0]=_.Nose.v.val;n[1]=["Gsn","Unfr"].indexOf(_.Dstr.v.Dstr);
n[2]=_.Mnch.v},gAdNs:function(_,n){_.Nose.v.val=n[0];_.Dstr.v.Dstr=["Gsn","Unfr"][n[1]];_.Mnch.v=n[2]},sDstS:function(_,n){n[0]=_.Rds.v;
n[1]=_.Thsh.v},gDstS:function(_,n){_.Rds.v=n[0];_.Thsh.v=n[1]},sGsnB:function(_,n){n[0]=_.Rds.v.val},gGsnB:function(_,n){_.Rds.v.val=n[0]},sDila:function(_,n){n[0]=_.Crop.v.val;
n[1]=_.Rds.v.val},gDila:function(_,n){_.Crop.v.val=n[0];_.Rds.v.val=n[1]},sHghP:function(_,n){n[0]=_.Rds.v.val},gHghP:function(_,n){_.Rds.v.val=n[0]},sHsbP:function(_,n){var O=["RGBC","HSBl","HSLC"];
n[0]=O.indexOf(_.Inpt.v.ClrS);n[1]=O.indexOf(_.Otpt.v.ClrS)},gHsbP:function(_,n){var O=["RGBC","HSBl","HSLC"];
_.Inpt.v.ClrS=O[n[0]];_.Otpt.v.ClrS=O[n[1]]},"sMxm ":function(_,n){var O="preserveShape";n[0]=_.Rds.v.val;
n[1]=_[O]?["squareness","Rndn"].indexOf(_[O].v[O]):0},"gMxm ":function(_,n){var O="preserveShape";_.Rds.v.val=n[0];
_[O]={t:"enum",v:{preserveShape:["squareness","Rndn"][n[1]]}}},"sMnm ":function(_,n){var O="preserveShape";
n[0]=_.Rds.v.val;n[1]=_[O]?["squareness","Rndn"].indexOf(_[O].v[O]):0},"gMnm ":function(_,n){var O="preserveShape";
_.Rds.v.val=n[0];_[O]={t:"enum",v:{preserveShape:["squareness","Rndn"][n[1]]}}},sMtnB:function(_,n){n[0]=[_.Angl.v];
n[1]=_.Dstn.v.val;console.log(n)},gMtnB:function(_,n){_.Angl.v=typeof n[0]=="number"?n[0]:n[0][0];_.Dstn.v.val=n[1]},sOfst:function(_,n){n[0]=_.Hrzn.v;
n[1]=_.Vrtc.v;n[2]=["Rpt","Bckg","Wrp"].indexOf(_.Fl.v.FlMd)},gOfst:function(_,n){_.Hrzn.v=n[0];_.Vrtc.v=n[1];
_.Fl.v.FlMd=["Rpt","Bckg","Wrp"][n[2]]},sPnch:function(_,n){n[0]=_.Amnt.v},gPnch:function(_,n){_.Amnt.v=n[0]},"sPlr ":function(_,n){n[0]=["RctP","PlrR"].indexOf(_.Cnvr.v.Cnvr)},"gPlr ":function(_,n){_.Cnvr.v.Cnvr=["RctP","PlrR"][n[0]]},sRple:function(_,n){n[0]=_.Amnt.v;
n[1]=["Sml","Mdm","Lrg"].indexOf(_.RplS.v.RplS)},gRple:function(_,n){_.Amnt.v=n[0];_.RplS.v.RplS=["Sml","Mdm","Lrg"][n[1]]},sTwrl:function(_,n){n[0]=_.Angl.v},gTwrl:function(_,n){_.Angl.v=n[0]},sZgZg:function(_,n){n[0]=_.Amnt.v;
n[1]=_.NmbR.v;n[2]=["ArnC","OtFr","PndR"].indexOf(_.ZZTy.v.ZZTy)},gZgZg:function(_,n){_.Amnt.v=n[0];
_.NmbR.v=n[1];_.ZZTy.v.ZZTy=["ArnC","OtFr","PndR"][n[2]]},sUnsM:function(_,n){n[0]=_.Amnt.v.val;n[1]=_.Rds.v.val;
n[2]=_.Thsh.v},gUnsM:function(_,n){_.Amnt.v.val=n[0];_.Rds.v.val=n[1];_.Thsh.v=n[2]},sWave:function(_,n){n[0]=_.NmbG.v;
n[1]=_.WLMn.v;n[2]=_.WLMx.v;n[3]=_.AmMn.v;n[4]=_.AmMx.v;n[5]=_.SclH.v;n[6]=_.SclV.v;n[7]=["WvSn","WvTr","WvSq"].indexOf(_.Wvtp.v.Wvtp);
n[8]=["WrpA","RptE"].indexOf(_.UndA.v.UndA);n[9]=_.RndS.v},gWave:function(_,n){_.NmbG.v=n[0];_.WLMn.v=n[1];
_.WLMx.v=n[2];_.AmMn.v=n[3];_.AmMx.v=n[4];_.SclH.v=n[5];_.SclV.v=n[6];_.Wvtp.v.Wvtp=["WvSn","WvTr","WvSq"][n[7]];
_.UndA.v.UndA=["WrpA","RptE"][n[8]];if(n[9]!=null){var O=parseInt(n[9]);if(isNaN(O))O=248325464;O=Math.max(0,Math.min(268435455,O));
_.RndS.v=O}},sbrit:function(_,n){n[0]=_.Brgh?_.Brgh.v:0;n[1]=_.Cntr?_.Cntr.v:0;n[2]=_.useLegacy?_.useLegacy.v:!1},gbrit:function(_,n){_.Brgh.v=n[0];
_.Cntr.v=n[1];if(n[2]!=null)_.useLegacy.v=n[2]}};ie.a5J=function(_){var n=new aW(0,0);if(_.enab.v==!1)return n;
var O=_.filterFXList.v;for(var m=0;m<O.length;m++){var l=O[m].v;if(l.enab.v==!1)continue;var x=ie.CH(l),t=ie.Yc(x,l.Fltr?l.Fltr.v:null);
if(t.x>n.x)n.x=t.x;if(t.y>n.y)n.y=t.y}return n};ie.Yc=function(_,n){var O=0,l=0;if(["GsnB","boxblur","smartSharpen","UnsM","HghP"].indexOf(_)!=-1){var x=n.Rds?n.Rds.v.val:1;
O=l=x*2.57}if(_=="MtnB")O=l=n.Dstn.v.val;if("Dila,Ofst,Rept,LqFy,Dspl,Pnch,Rple,Shr ,Sphr,Twrl,ZgZg,Wave,RdlB,Clds,DfrC,Plr ,LnCr,Wnd ,lightFilterGradient,rigidTransform,Frgm,Flam".split(",").indexOf(_)!=-1){O=l=1e4}if(_=="GEfc")return cz.Yc(n);
return new aW(Math.ceil(O),Math.ceil(l))};ie.JH=function(){return{t:"Objc",v:{classID:"filterFXStyle",enab:{t:"bool",v:!0},validAtPosition:{t:"bool",v:!0},filterMaskEnable:{t:"bool",v:!0},filterMaskLinked:{t:"bool",v:!0},filterMaskExtendWithWhite:{t:"bool",v:!0},filterFXList:{t:"VlLs",v:[]}}}};
ie.HG=function(_,n){var O={o:n.KU>>16,J:n.KU>>8&255,k:n.KU&255},l={o:n.lV>>16,J:n.lV>>8&255,k:n.lV&255},x=ie.names[_];
if(x==null)x=a3.names[_];var t=_;for(var h in a3.Js)if(a3.Js[h]==_)t=h;var V={t:"Objc",v:{classID:"filterFX",Nm:{t:"TEXT",v:hU.get(x)},blendOptions:{t:"Objc",v:{classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}}},enab:{t:"bool",v:!0},hasoptions:{t:"bool",v:!0},FrgC:{t:"Objc",v:Q.N.YS(O)},BckC:{t:"Objc",v:Q.N.YS(l)},filterID:{t:"long",v:t.length==4?R.aex(t):777}}},y=ie.gV(_);
if(y)V.v.Fltr={t:"Objc",v:y};return V};ie.dh=function(_,n,O,l){var x=Date.now(),t=ex.kj&&Math.max(l.a,l.n)<=ex.Y0.getParameter(ex.Y0.MAX_TEXTURE_SIZE);
if(_<1){var h=Math.round(_*5),V=[1,2,1,2,[40,26,13,6,4,2][h],2,1,2,1];V=Q.u3.Fi(V);if(!t){Q.uy(O);var y=O.slice(0);
Q.u3.G4(y,O,l.a,l.n,V,255);Q.RC(O)}else{var r=l.a,E=l.n,a=ex.bk(0,r,E);a.set(O);var S=ex.bk(1,r,E),e=new Float32Array([1/r,1/E]);
ex.QC(S);ex.filter.iT({type:ex.filter.agT,qc:e,a2v:new Float32Array(V)},a.P8);S.get(O)}}else{var P=n==Q.OX.FT?0:n==Q.OX.Mr?1:2,b=[];
while(P!=2&&_*[1,2.4][P]>20&&b.length<4){var T=Q.S2(O,l);b.push(O,l);O=T.sw;l=T.rect;_/=2}var r=l.a,E=l.n;
if(!t||P==2&&_>15){Q.uy(O);n(O,l,_);Q.RC(O)}else{var a=ex.bk(0,r,E);a.set(O);var S=ex.bk(1,r,E),e=new Float32Array([1/r,1/E]);
if(P==0){var C=1;while(C<_)C<<=1;ex.QC(S);ex.filter.iT({type:ex.filter.Gb,qc:e,U2:_,l5:[0,0,C]},a.P8);
ex.QC(a);ex.filter.iT({type:ex.filter.Gb,qc:e,U2:_,l5:[0,1,C]},S.P8);a.get(O)}else if(P==1){var Z=3,W=Q.OX.uS(_,Z);
for(var m=0;m<Z;m++){var s=W[m]>>>1,f=1;while(f<s)f<<=1;if(s==0)continue;ex.QC(S);ex.filter.iT({type:ex.filter.Gb,qc:e,U2:s,l5:[0,0,f]},a.P8);
ex.QC(a);ex.filter.iT({type:ex.filter.Gb,qc:e,U2:s,l5:[0,1,f]},S.P8)}a.get(O)}else{var C=1;while(C<_)C<<=1;
ex.QC(S);ex.filter.iT({type:ex.filter.Gb,qc:e,U2:_,l5:[0,0,C]},a.P8);S.get(O)}}var q=Date.now();while(b.length!=0){var g=b.pop(),i=b.pop();
Q.scale.aji(O,l.a,l.n,i,g.a,g.n);O=i;l=g}}};ie.al2=function(_,n,O,l){for(var m=0;m<_.length;m++){O[m]=_[m]*(1/255);
l[m]=0}FFT.fft2d(O,l);var x=n>>>1,t=16384,h=128,y=100;while(h<n){h<<=1;t<<=2}var V=255/Math.log(t),r=-100;
for(var E=0;E<n;E++)for(var a=0;a<x;a++){var S=n+x+E&n-1,e=O[S*n+a],P=l[S*n+a],b=Math.sqrt(e*e+P*P),T=Math.atan2(P,e);
_[E*n+a]=Math.round(V*Math.log(b+1));_[E*n+x+a]=Math.round((Math.PI+T)*(255*.5/Math.PI))}};ie.adR=function(_,n,O,l){O.fill(0);
l.fill(0);var x=n>>>1,t=16384,h=128;while(h<n){h<<=1;t<<=2}var V=255/Math.log(t),y=[],r=[],E=[];for(var m=0;
m<256;m++){y[m]=Math.exp(m/V)-1;var a=m*(2*Math.PI/255)-Math.PI;r[m]=Math.sin(a);E[m]=Math.cos(a)}for(var S=0;
S<n;S++)for(var e=0;e<x;e++){var P=n+x+S&n-1,b=y[_[S*n+e]],a=_[S*n+x+e],T=b*E[a],C=b*r[a];O[P*n+e]=T;
l[P*n+e]=C;if(e!=0){var Z=P==0?P*n+n-e:(n-P)*n+(n-e);O[Z]=T;l[Z]=-C}}FFT.ifft2d(O,l);for(var m=0;m<_.length;
m++){_[m]=Math.max(0,Math.min(255,~~(.5+255*O[m])))}};ie.a43=new ArrayBuffer(512);ie.a5E=function(_){var n=ie.a43,O=_.length;
if(n.byteLength<O)ie.a43=n=new ArrayBuffer(O);var l=new Uint8Array(n);for(var m=0;m<O;m+=4){l[m]=_[m];
l[m+1]=_[m+1];l[m+2]=_[m+2];l[m+3]=_[m+3]}return n};ie.Er=function(_,n,O,l,x,t,h){if(t==null)t={buffer:Q.Q(n.buffer.length),rect:n.rect.clone()};
t.buffer.set(n.buffer);var V=O&&O.RndS?O.RndS.v>>>1:0;if(_=="GEfc"){var y=[];if(O.GEfs){var r=O.GEfs.v;
for(var m=0;m<r.length;m++){var E=r[m].v;if(E.GELv&&E.GELv.v==!1)continue;y.push(E)}}else y=[O];for(var m=0;
m<y.length;m++){var a;if(m==0)cz.Er(_,n,y[m],l,x,t,h);else{if(a==null)a={buffer:Q.Q(n.buffer.length),rect:n.rect.clone()};
Q.Jt(t.buffer,a.buffer);cz.Er(_,a,y[m],l,x,t,h)}}}if(_=="Dila"){var S=O.Crop.v.val,e=O.Rds.v.val+S;e=e*e;
if(e==0)return;var P=n.rect,b=P.a,T=P.n,C=b*T,Z=n.buffer,a=t.buffer,W=Q.Q(C);Q.nV(Z,W,3);if(S!=0){var s=P.clone();
s.nQ(1,1);var f=Q.Q(s.O());Q.pc(W,P,f,s);Q.sJ(f);Q.style.stroke(f,f,s,S);Q.sJ(f);Q.pc(f,s,W,P)}var q=Q.style.Lt(W,b,T);
a.fill(0);for(var g=0;g<T;g++)for(var i=0;i<b;i++){var m=g*b+i,u=m<<1,I=m<<2,Y=q[u],U=q[u+1];if(Y*Y+U*U<e){var F=(g+U)*b+(i+Y)<<2;
a[I]=Z[F];a[I+1]=Z[F+1];a[I+2]=Z[F+2];a[I+3]=255}}}if(_=="Adobe Camera Raw Filter"){var P=n.rect,b=P.a,T=P.n,C=b*T,N=C*4,o=C*3,X=new Float32Array(b*T*3),J=n.buffer;
for(var m=0;m<C;m++){var c=m*3,I=m*4;X[c]=J[I]*(1/255);X[c+1]=J[I+1]*(1/255);X[c+2]=J[I+2]*(1/255)}var p=JSON.parse(JSON.stringify(O));
delete p.Upri;delete p.GuUr;var d=X.slice(0);hQ(X,b,T,d,p);X=d;J=t.buffer;for(var m=0;m<C;m++){var c=m*3,I=m*4;
J[I]=255*Math.max(0,Math.min(1,X[c]));J[I+1]=255*Math.max(0,Math.min(1,X[c+1]));J[I+2]=255*Math.max(0,Math.min(1,X[c+2]))}}if(_=="Fct "){var P=n.rect,b=P.a,T=P.n,C=b*T,N=C*4;
function k(c9){var b2=c9.slice(0);for(var g=0;g<3;g++)for(var i=0;i<3;i++)b2[g*3+i]=c9[(2-i)*3+g];return b2}function A(bi,dh,dG,iD){var j2=0;
for(var g=0;g<3;g++)for(var i=0;i<3;i++)j2+=dh[g*3+i]*bi[(iD-1+g)*b+dG-1+i];return j2}var $=[8,5,2,5,2,-1,2,-1,-4],K=[5,5,5,2,2,2,-1,-1,-1],G=[2,2,2,2,2,2,2,2,2],z=[];
z.push($);for(var m=0;m<3;m++)z.push(k(z[z.length-1]));z.push(K);for(var m=0;m<3;m++)z.push(k(z[z.length-1]));
z.push(G);for(var m=0;m<9;m++)z[m]=Q.u3.Fi(z[m]);var M=[-b-1,-b,-b+1,-1,0,1,b-1,b,b+1],hl=[-1,-1,0,-1,1,-1,-1,0,0,0,1,0,-1,1,0,1,1,1],j=Q.Q(C),w=new Float32Array(C),d=Q.Q(C);
for(var B=0;B<3;B++){Q.nV(n.buffer,j,B);for(var bB=0;bB<1;bB++){for(var g=1;g<T-1;g++)for(var i=1;i<b-1;
i++){var bG=g*b+i,eb=j[bG];w[bG]=1e9;for(var m=0;m<9;m++){var fe=A(j,z[m],i,g),gB=(fe-eb)*(fe-eb);if(gB<w[bG])w[bG]=gB}}for(var g=1;
g<T-1;g++)for(var i=1;i<b-1;i++){var hp=0,g6=1e9;for(var m=0;m<9;m++){var by=g*b+i+M[m],gB=w[by];if(gB<g6){g6=gB;
hp=j[by]}}d[g*b+i]=hp}j.set(d)}Q.$c(d,t.buffer,B)}}if(_=="adaptCorrect"){var P=n.rect,b=P.a,T=P.n,C=b*T,N=C*4,e7=O.sdwM.v,aN=e7.Amnt.v.val/100,jK=e7.Wdth.v.val/100,f7=e7.Rds.v,hW=O.hglM.v,km=hW.Amnt.v.val/100,ca=hW.Wdth.v.val/100,aU=hW.Rds.v;
Q.Xb.DL(n.buffer,t.buffer,b,T,aN,jK,f7,km,ca,aU,O.ClrC.v/100,O.Cntr.v/100)}if(_=="denoise"){var P=n.rect,b=P.a,T=P.n,am=O.channelDenoise.v[0].v;
Q.EZ.a15(n.buffer,b,T,t.buffer,am.Amnt.v/10,am.EdgF.v/100)}if(_=="HsbP"){var eA=O.Inpt.v.ClrS,dj=O.Otpt.v.ClrS,P=n.rect,b=P.a,T=P.n,C=b*T;
for(var m=0;m<C;m++){var I=m*4,bB=n.buffer[I]*(1/255),cM=n.buffer[I+1]*(1/255),b2=n.buffer[I+2]*(1/255);
if(eA=="RGBC"){}else if(eA=="HSLC"){var d=Q.kg(bB,cM,b2);bB=d.o;cM=d.J;b2=d.k}else if(eA=="HSBl"){var d=Q.a6v(bB,cM,b2);
bB=d.o;cM=d.J;b2=d.k}var cm=bB,az=cM,j_=b2;if(dj=="RGBC"){}else if(dj=="HSLC"){var d=Q.$d(bB,cM,b2);
cm=d.bE;az=d.yj;j_=d.Ad}else if(dj=="HSBl"){var d=Q.oi(bB,cM,b2);cm=d.bE;az=d.yj;j_=d.k}t.buffer[I]=~~(255*cm);
t.buffer[I+1]=~~(255*az);t.buffer[I+2]=~~(255*j_)}}if(_=="Fbrs"){var P=n.rect,b=P.a,T=P.n;Q._.p0(n.buffer,b,T,t.buffer,[O.Vrnc.v,O.Strg.v,V]);
var hh=Q.Q(b*T);Q.nV(t.buffer,hh,0);Q.sJ(hh);cz.zR(hh,t.buffer,l,x)}if(_=="Frgm"){var P=n.rect,b=P.a,T=P.n,gs=n.buffer.slice(0);
Q.uy(gs);Q._.aeo(gs,b,T,t.buffer);Q.RC(t.buffer)}if(_=="Flam"){var P=n.rect,b=P.a,T=P.n,fI=O.Clr.v,c0={type:O.Type.v+1,length:O.Leng.v,acv:O.RndL.v,c1:O.Widt.v,al6:O.Angl.v,a0L:O.Intr.v,acN:O.Adpt.v,color:{o:fI.Rd.v,J:fI.Grn.v,k:fI.Bl.v},sA:O.Qual.v+1,Jj:O.Turb.v,dl:O.Jag.v,opacity:O.Opct.v.val,tr:O.Lins.v,a1S:O.Botm.v,style:O.Styl.v+1,shape:O.Shap.v+1,aj0:O.RnSh.v,ah8:O.Arng.v,ahl:!1},ay=h[3],fC=ay[0],jQ=ay[1],fw=fC[jQ.length!=0?jQ[0]:0];
if(fw==null){alert("Make a path first");return}var aG=fw.add.vmsk.i,a_=Q.M.Cw(aG),el=[];for(var F=0;
F<a_;F++){var dD=Q.M.TH(aG,F),ip=aG[dD];if(ip.length<2)continue;var jn=[];el.push(jn);var af=ip.length-(ip.type==3?1:0);
for(var bG=0;bG<af;bG++){var iU=aG[dD+1+bG],hV=bG==ip.length-1?aG[dD+1]:aG[dD+1+bG+1],gn=iU.H,fY=iU.l6,$=hV.lz,e1=hV.H,d6=Math.round(aW.nT(gn,e1)/5);
for(var fO=0;fO<d6;fO++){var i$=fO/d6,gy=1-i$,i=gy*gy*gy*gn.x+3*gy*gy*i$*fY.x+3*gy*i$*i$*$.x+i$*i$*i$*e1.x,g=gy*gy*gy*gn.y+3*gy*gy*i$*fY.y+3*gy*i$*i$*$.y+i$*i$*i$*e1.y;
jn.push(i,g)}}}var fT=[el,c0],kl=Date.now(),fy=ix(fT);dA(n.buffer,b,T,t.buffer,fy,fT)}if(_=="Dfs "){var P=n.rect,b=P.a,T=P.n,g$=["Nrml","DrkO","LghO","anisotropic"].indexOf(O.Md.v.DfsM);
if(g$<3)Q._.axa(n.buffer,b,T,t.buffer,[g$]);else{var fT=[1.4,1.6,1,4,!1,2,[0,0,.001]],P=n.rect.clone();
P.x=P.y=0;Q.lK.filter(n.buffer,P,t.buffer,fT)}}if(_=="TrcC"){var P=n.rect,b=P.a,bt=b<<2,T=P.n,jL=O.Lvl.v,c_=O.Edg.v.CntE=="Lwr",hr=n.buffer,ew=t.buffer;
Q.qs(ew,16777215,4278190080);function dL(jt,ck){eo(jt,ck);eo(jt+1,ck+1);eo(jt+2,ck+2)}function cf(jt,ck){iz(jt,ck);
iz(jt+1,ck+1);iz(jt+2,ck+2)}function eo(jt,ck){var cm=hr[jt],az=hr[ck];if(cm>=jL&&az<jL)ew[jt]=0;if(cm<jL&&az>=jL)ew[ck]=0}function iz(jt,ck){var cm=hr[jt],az=hr[ck];
if(cm>jL&&az<=jL)ew[ck]=0;if(cm<=jL&&az>jL)ew[jt]=0}if(c_)for(var g=1;g<T;g++)for(var i=1;i<b;i++){var I=g*b+i<<2;
dL(I,I-4);dL(I,I-bt)}else for(var g=1;g<T;g++)for(var i=1;i<b;i++){var I=g*b+i<<2;cf(I,I-4);cf(I,I-bt)}}if(_=="Embs"){var P=n.rect,b=P.a,T=P.n,kj=-O.Angl.v*Math.PI/180,hL=O.Hght.v,ar=O.Amnt.v/100;
hL/=2;var Y=Math.cos(kj)*hL,U=Math.sin(kj)*hL,hr=n.buffer,ew=t.buffer;ew.fill(0);var bD=new Uint32Array(hr.buffer),d=new Uint8Array(4),jC=new Uint32Array(d.buffer);
for(var g=0;g<T;g++)for(var i=0;i<b;i++){var eu=0,gx=0,eS=0;if(0<=i+Y&&i+Y<b&&0<=g+U&&g+U<T){Q.r.xx(i+Y+.5,g+U+.5,bD,b,T,jC,0,0);
eu+=d[0]-128;gx+=d[1]-128;eS+=d[2]-128}if(0<=i-Y&&i-Y<b&&0<=g-U&&g-U<T){Q.r.xx(i-Y+.5,g-U+.5,bD,b,T,jC,0,0);
eu-=d[0]-128;gx-=d[1]-128;eS-=d[2]-128}var I=g*b+i<<2;ew[I]=Math.max(0,Math.min(255,eu*ar+128));ew[I+1]=Math.max(0,Math.min(255,gx*ar+128));
ew[I+2]=Math.max(0,Math.min(255,eS*ar+128));ew[I+3]=hr[I+3]}}if(_=="ShrE"){var P=n.rect,b=P.a,T=P.n;
Q._.a17(n.buffer,b,T,t.buffer)}if(_=="Dspc"){var P=n.rect,b=P.a,T=P.n;Q._.apZ(n.buffer,b,T,t.buffer)}if(_=="Slrz"){var fa=t.buffer,h6=128;
for(var m=0;m<fa.length;m+=4){if(fa[m]>h6)fa[m]=255-fa[m];if(fa[m+1]>h6)fa[m+1]=255-fa[m+1];if(fa[m+2]>h6)fa[m+2]=255-fa[m+2]}}if(_=="Wnd "){var P=n.rect,b=P.a,T=P.n,bw=["Wnd","Blst","Stgr"],bf=O.WndM.v.WndM;
Q._.EW(n.buffer,b,T,t.buffer,[bw.indexOf(bf),O.Drct.v.Drct!="Left"])}if(_=="Bokh"){var P=n.rect,b=P.a,T=P.n,C=b*T,N=C*4,fq=n.buffer.slice(0),ia=O.BkDi.v.BtDi,gI=O.BkDc,jO=O.BkDs.v,aq=O.BkDp.v/255;
if(ia=="BeIn")aq=0;var kb=57*(.3+.7*((b+T)/2)/1750)*(O.BkIb.v/100)*(1+.2*Math.pow(aq,.1)),ab=parseInt(O.BkIs.v.BtIs.slice(3)),dB=-O.BkIr.v*Math.PI/180,jk=[];
for(var m=0;m<8;m++){var a9=dB+m*(Math.PI*2/ab),dg=dB+(m+1)*(Math.PI*2/ab),jl=Math.cos(a9),gX=Math.sin(a9),dl=Math.cos(dg),ij=Math.sin(dg),bQ=[0,0,0];
Q.ha.Ig([[jl,gX,1,0],[dl,ij,1,0],[1,1,1,1]],bQ);if(bQ[2]>0){bQ[0]*=-1;bQ[1]*=-1;bQ[2]*=-1}jk.push(bQ[0],bQ[1],bQ[2],0)}if(ia=="BeIn"){Q.qs(fq,0,16777215);
aq=1}else if(ia=="BeIt"&&gI.v.BtDc=="BeCt"){}else{var jY;if(ia=="BeIt"&&gI.v.BtDc=="BeCm")jY=h[1];else if(ia=="BeIa")jY=h[2][gI.v];
if(jY==null){Q.qs(fq,0,16777215)}else{var j;if(jY.rect.yO(P))j=jY.channel;else j=jY.H9(P);Q.$c(j,fq,3)}}if(jO)for(var m=0;
m<N;m+=4)fq[m+3]=255-fq[m+3];if(ex.kj){var he=fq,e8=b,g4=T,gr=1,kv=(O.BkSb.v==0||O.BkSt.v==255)&&ia=="BeIn";
if(!kv){var fr=0;for(var m=0;m<N;m+=4)fr+=Math.abs(aq-fq[m+3]*(1/255));fr=fr/C*kb;var ka=3.14*fr*fr*b*T/3e6;
if(ka>2e3){alert("too large radius");return}}while(kv&&3*(kb/gr)*(kb/gr)*b*T>500*2e3*2e3){var ff=Q.S4(fq,new a8(0,0,e8,g4));
fq=ff.sw;e8=ff.rect.a;g4=ff.rect.n;gr*=2}var kl=Date.now(),Z=ex.bk(0,e8,g4);Z.set(fq);var is=ex.bk(1,b,T);
ex.QC(is);ex.filter.iT({type:ex.filter.alw,qc:new Float32Array([1/e8,1/g4]),abi:aq,vn:kb/gr,a7K:new Float32Array([O.BkSb.v/100,O.BkSt.v/255]),avM:new Float32Array([O.BkNa.v/100,O.BkNt.v.BtNt=="BeNu"?0:1,O.BkNm.v?1:0]),a0R:new Float32Array(jk.slice(0,16)),apM:new Float32Array(jk.slice(16))},Z.P8);
is.get(t.buffer);var cR=t.buffer;for(var m=0;m<N;m+=4)cR[m+3]=n.buffer[m+3]}}if(_=="rigidTransform"){var kl=Date.now(),fV=ie.a5E,Z=n.buffer.slice(0),jc=0,b0=0;
Q.uy(Z);Q.qs(t.buffer,0);var b=n.rect.a,T=n.rect.n,jZ=O.puppetShapeList.v,fk=[],aw=[],e4=[],iF=[];for(var bG=0;
bG<jZ.length;bG++){var i1=jZ[bG].v,u=jc*2,c=b0*3,je=i1.originalVertexArray.v.length>>>2,jg=i1.indexArray.v.length>>>2,cW=new Float32Array(fV(i1.originalVertexArray.v));
for(var m=0;m<je;m++)fk[u+m]=cW[m];var aC=new Float32Array(fV(i1.deformedVertexArray.v));for(var m=0;
m<je;m++)aw[u+m]=aC[m];var cL=new Uint32Array(fV(i1.indexArray.v));for(var m=0;m<jg;m++)e4[c+m]=jc+cL[m];
var fF=[],ei=[],iy=i1.PnDp.v;for(var m=0;m<iy.length;m++){fF.push(i1.pinVertexIndices.v[m].v);ei.push(iy[m].v)}var f3=Q.Iz.ajJ(cW,cL,fF,ei);
for(var m=0;m<f3.length;m++)iF[jc+m]=f3[m];jc+=je>>>1;b0+=~~(jg/3)}var bB=n.rect,b=bB.a,T=bB.n;Q.Iz._l(Z,b,T,t.buffer,b,T,fk,aw,iF,e4);
Q.RC(t.buffer)}if(_=="lightFilterGradient"){function ds(gn){var dh=1/Math.sqrt(gn[0]*gn[0]+gn[1]*gn[1]+gn[2]*gn[2]);
gn[0]*=dh;gn[1]*=dh;gn[2]*=dh}var b=n.rect.a,T=n.rect.n,C=b*T,kl=Date.now(),av=Q.Q(C),az=.3,j_=.7;Q.mx(t.buffer,av);
var jw=Q.Q(C);Q.OX.ff(av,jw,t.rect,16);var j8=Q.Q(C);Q.OX.ff(av,j8,t.rect,8);var fb=av,fs=new Float32Array(C),fE=O.Dtl.v,c5=fE[2].v,gQ=fE[1].v,go=fE[0].v,j2=O.Scl.v*40*O.textureScale.v/(c5+gQ+go);
c5*=j2;gQ*=j2;go*=j2;for(var m=0;m<C;m++){var hZ=jw[m]*(1/255),gk=j8[m]*(1/255),hB=fb[m]*(1/255);hB=hB*hB;
fs[m]=c5*hZ+gQ*gk+go*hB}var h8=O.blur.v;if(h8!=0){var e0=fs.slice(0);Q.OX.ad(e0,fs,t.rect,h8)}var gP=b-1,hs=T-1;
for(var g=0;g<T;g++)for(var i=0;i<b;i++){var m=g*b+i,I=m*4,e3=fs[m],Y=az*(fs[m+(i==gP?0:1)]-e3)+j_*(e3-fs[m-(i==0?0:1)]),U=az*(fs[m+(g==hs?0:b)]-e3)+j_*(e3-fs[m-(g==0?0:b)]),gn=[1,0,Y],fY=[0,1,U];
ds(gn);ds(fY);var dg=gn[0],iW=gn[2],k4=fY[1],gw=fY[2],dd=-iW*k4,dp=-dg*gw,ih=dg*k4;t.buffer[I]=~~(127.5+dd*127.5);
t.buffer[I+1]=~~(127.5+dp*127.5);t.buffer[I+2]=~~(127.5+ih*127.5)}}if(_=="defr"){var b=n.rect.a,T=n.rect.n;
fZ(n.buffer,b,T,t.buffer)}if(_=="dDFT"||_=="iDFT"){function eZ(ab){if(ab==0)return 1;ab--;ab|=ab>>1;
ab|=ab>>2;ab|=ab>>4;ab|=ab>>8;ab|=ab>>16;return ab+1}var b=n.rect.a,T=n.rect.n,iA=eZ(Math.max(b,T)),iC=iA>>>1,gN=new a8(0,0,iA,iA),aV=new a8(0,0,b,T);
aV.y=iA-T>>>1;var gT=b>>>1,ik=new a8(0,aV.y,gT,T),dO=new Q.eO(b*T);Q.ah(n.buffer,dO);var j5=new Float64Array(iA*iA),jy=new Float64Array(iA*iA),j=Q.Q(iA*iA);
FFT.init(iA);var b8=[dO.o,dO.J,dO.k];for(var m=0;m<3;m++){var ej=b8[m];j.fill(0);if(_=="dDFT"){Q.pc(ej,aV,j,gN);
ie.al2(j,iA,j5,jy);Q.pc(j,gN,ej,aV,ik);ik.x+=gT;gN.x-=iC-gT;Q.pc(j,gN,ej,aV,ik);ik.x-=gT;gN.x+=iC-gT}else{Q.pc(ej,aV,j,gN,ik);
ik.x+=iC;aV.x+=iC-gT;Q.pc(ej,aV,j,gN,ik);ik.x-=iC;aV.x-=iC-gT;ie.adR(j,iA,j5,jy);Q.pc(j,gN,ej,aV)}}Q.gJ(dO,t.buffer)}if(_=="Avrg"){var cc=0,e2=0,fi=0,f$=0,cF=1;
for(var m=0;m<n.buffer.length;m+=4){var W=n.buffer[m+3];fi+=n.buffer[m]*W;e2+=n.buffer[m+1]*W;cc+=n.buffer[m+2]*W;
f$+=W}var aZ=1/f$;cc=Math.round(cF*(cc*aZ)+(1-cF)*255);e2=Math.round(cF*(e2*aZ)+(1-cF)*255);fi=Math.round(cF*(fi*aZ)+(1-cF)*255);
Q.qs(t.buffer,cc<<16|e2<<8|fi,4278190080)}if(["GsnB","boxblur","smartSharpen","UnsM","HghP"].indexOf(_)!=-1){var ax=O.Rds?O.Rds.v.val:1,bq=_=="boxblur"?Q.OX.FT:Q.OX.Mr;
ie.dh(ax,bq,t.buffer,t.rect);if(_=="UnsM"||_=="smartSharpen"){var ar=(O.Amnt?O.Amnt.v.val:200)/100,bn=0;
if(_=="UnsM")bn=O.Thsh.v;else ar*=.75;for(var m=0;m<n.buffer.length;m++){if((m&3)==3){t.buffer[m]=n.buffer[m];
continue}var eb=n.buffer[m],fe=t.buffer[m],fl=ar*(eb-fe);if(fl>0)fl=Math.max(0,fl-bn);else fl=Math.min(0,fl+bn);
t.buffer[m]=Math.max(0,Math.min(255,eb+fl))}}if(_=="HghP")for(var m=0;m<n.buffer.length;m++){if((m&3)==3){t.buffer[m]=n.buffer[m];
continue}var eb=n.buffer[m],fe=t.buffer[m];t.buffer[m]=Math.max(0,Math.min(255,128+eb-fe))}}if(_=="AdNs"){var gD=new Uint8ClampedArray(t.buffer.buffer),eh=255*O.Nose.v.val/100,ci;
if(O.Dstr.v.Dstr=="Gsn")ci=function(){return(Math.random()+Math.random()+Math.random()+Math.random()-2)*2};
else ci=function(){return Math.random()*2-1};for(var m=0;m<gD.length;m+=4){var bB=gD[m],cM=gD[m+1],b2=gD[m+2],aH,f9,cN;
if(O.Mnch.v){aH=f9=cN=ci()}else{aH=ci();f9=ci();cN=ci()}bB+=eh*aH;cM+=eh*f9;b2+=eh*cN;gD[m]=bB;gD[m+1]=cM;
gD[m+2]=b2}}var kl=Date.now();if(_=="Mdn "||_=="DstS"||_=="Mxm "||_=="Mnm "||_=="surfaceBlur"){var bB=0,cV=O.Thsh,i1=0;
if(cV)cV=cV.v;else cV=0;if(_=="Mdn "||_=="Mxm "||_=="Mnm "||_=="surfaceBlur")bB=O.Rds.v.val;else bB=O.Rds.v;
var gH=O.preserveShape;if(gH&&gH.v.preserveShape=="Rndn")i1=1;var b=n.rect.a,T=n.rect.n,h2=["Mnm ","Mxm ","surfaceBlur"].indexOf(_),aP=(i1==0?1:.75)*[.73,.73,1][h2]*(b*T*bB*bB)/1722387,jA=[.73,.9,1.4][h2]*(b*T*Math.sqrt(bB))/6500;
if(ex.kj&&h2!=-1&&(aP<jA||i1==1)&&aP<1500){var Z=ex.bk(0,b,T);Z.set(n.buffer);var a=ex.bk(1,b,T);ex.QC(a);
ex.filter.iT({type:ex.filter.a5U,qc:new Float32Array([1/b,1/T]),vn:bB,a1q:cV/255,l5:[i1,h2,10*Math.ceil(bB/10)]},Z.P8);
a.get(t.buffer)}else{bB=Math.round(bB);Q.ke.xt=.5;var bq=Q.ke.s0;if(_=="Mxm ")bq=Q.ke.WM;if(_=="Mnm ")bq=Q.ke.f8;
if(_=="surfaceBlur")bq=Q.ke.zL;Q.ke.a2(n.buffer,t.buffer,b,T,bB,bq,[cV]);if(_=="DstS")for(var m=0;m<b*T*4;
m++){var io=Math.abs(n.buffer[m]-t.buffer[m]);if(io<=cV)t.buffer[m]=n.buffer[m]}}}if(_=="ClrH"){var ik=n.rect.clone();
ik.x=ik.y=0;var bB=O.Rds.v;bB=Math.round(bB*Math.sqrt(2));var b=ik.a,T=ik.n,dO=new Q.eO(b*T);Q.ah(n.buffer,dO);
Q.sJ(dO.o);Q.sJ(dO.J);Q.sJ(dO.k);var eF=Q.jk(b,T),cR=Q.Q(b*T*4);for(var bi=0;bi<3;bi++){var j=bi==0?dO.o:bi==1?dO.J:dO.k,kj=Math.PI*O["Ang"+(bi+1)].v/180,jh=new aY(1/bB,0,0,1/bB,0,0);
jh.rotate(kj);Q.$c(j,cR,3);var d=D.D6.yn([cR,ik],jh,!0),aV=d.rect;eF.clearRect(0,0,b,T);var j7=Math.sin(kj),c1=Math.cos(kj);
for(var m=0;m<aV.n;m++)for(var fO=0;fO<aV.a;fO++){var i=(fO+aV.x+.5)*bB,g=(m+aV.y+.5)*bB,bZ=i,kd=g;i=c1*bZ-j7*kd;
g=j7*bZ+c1*kd;var C=d.buffer[(m*aV.a+fO<<2)+3]*(1/255),ax=bB*Math.sqrt(C*(1/Math.PI));eF.beginPath();
eF.arc(i,g,ax,0,2*Math.PI);eF.fill()}var fD=eF.getImageData(0,0,b,T);Q.nV(fD.data,j,3)}Q.sJ(dO.o);Q.sJ(dO.J);
Q.sJ(dO.k);Q.gJ(dO,t.buffer)}if(_=="Crst"||_=="Pntl"){var b=n.rect.a,T=n.rect.n,bq=_=="Crst"?Q.yk.aop:Q.yk.a8N;
bq(n.buffer,b,T,t.buffer,O.ClSz.v,[Math.round(x.o),Math.round(x.J),Math.round(x.k)])}if(_=="Mztn"){var b=n.rect.a,T=n.rect.n,C=b*T,dO=new Q.eO(C),gA=[dO.o,dO.J,dO.k];
Q.ah(n.buffer,dO);var bf=O.MztT.v.MztT,kw={FnDt:[.1,0,.3,1.4],MdmD:[.9,0,.1,1.4],GrnD:[3,0,.2,1.4],CrsD:[7,0,.1,1.4],ShrL:[0,10,.16,3],MdmL:[0,22,.06,3],LngL:[0,25,.01,4.5],ShSt:[3,10,.05,4.4],MdmS:[4,25,.15,4],LngS:[4,30,.05,4]}[bf],kl=Date.now(),c6=[];
for(var m=0;m<C;m++){c6[m]=Math.random()}var C=b*T,eK=Math.round(C*kw[0]),kn=C-b-1;for(var m=0;m<eK;
m++){var c4=Math.random(),eE=1;if(c4<.5){eE=b;c4*=2}else c4=2*(c4-.5);var jt=Math.floor(c4*kn),ck=jt+eE;
c6[jt]=c6[ck]}var aS=Math.round(b*kw[1]);for(var g=0;g<T;g++)for(var m=0;m<aS;m++){var c4=Q.q.c9(g*C+m),jt=g*b+Math.floor(c4*(b-1));
c6[jt]=c6[jt+1]}var bO=new Float64Array(256);for(var m=0;m<256;m++){var aK=m/255,iS=2*(aK<.5?aK:1-aK);
iS=kw[2]+Math.pow(iS,kw[3])*(1-kw[2]);aK=aK<.5?iS*.5:1-iS*.5;bO[m]=aK}for(var B=0;B<3;B++){var j=gA[B];
for(var g=0;g<T;g++){for(var i=0;i<b;i++){var m=g*b+i,bH=j[m],aK=bO[bH],c4=c6[m];j[m]=c4>aK?0:255}}}Q.gJ(dO,t.buffer)}if(_=="Msc "){var a_=O.ClSz.v.val,b=n.rect.a,T=n.rect.n,ge=Math.ceil(b/a_),co=Math.ceil(T/a_),a0=Q.Q(ge*co*4);
Q.scale.at(n.buffer,b,T,a0,ge,co,1/a_);Q.scale.at(a0,ge,co,t.buffer,b,T,a_)}if(_=="Clds"||_=="DfrC"){var b=t.rect.a,T=t.rect.n,C=b*T,al=Q.Q(C);
if(_=="Clds")Q.qs(t.buffer,4278190080);var hy=Q.Q(256*4);for(var m=0;m<256;m++){var I=m<<2,c9=m/255,cL=1-c9;
hy[I]=Math.round(c9*l.o+cL*x.o);hy[I+1]=Math.round(c9*l.J+cL*x.J);hy[I+2]=Math.round(c9*l.k+cL*x.k)}Q._.acc(n.buffer,b,T,al);
var eM=t.buffer;for(var m=0;m<C;m++){var I=m<<2,B=al[m]<<2,bB=hy[B],cM=hy[B+1],b2=hy[B+2];if(_=="Clds"){eM[I]=bB;
eM[I+1]=cM;eM[I+2]=b2}else{eM[I]=Math.abs(eM[4*m]-bB);eM[I+1]=Math.abs(eM[4*m+1]-cM);eM[I+2]=Math.abs(eM[4*m+2]-b2)}}}if(_=="LnsF"){var b=n.rect.a,T=n.rect.n,bf=["Zm","Nkn","Nkn1","PnVs"].indexOf(O.Lns.v.Lns),ft=O.FlrC.v,dC=[Math.min(bf,2),O.Brgh.v/100,ft.Hrzn.v,ft.Vrtc.v],kl=Date.now();
Q.aoP(n.buffer,b,T,t.buffer,dC)}var gb=["Blr ","BlrM","Shrp","ShrM"].indexOf(_);if(gb!=-1){var hx=gb>1,b=n.rect.a,T=n.rect.n,hF=Q.u3.AK[gb],iB=n.buffer.slice(0);
if(!hx)Q.uy(iB);Q.u3.G4(iB,t.buffer,b,T,hF,255,!1,hx);if(!hx)Q.RC(t.buffer)}if(_=="MtnB"){var bl=-O.Angl.v*Math.PI/180,dM=O.Dstn.v.val/2,kl=Date.now(),b=n.rect.a,T=n.rect.n,P=n.rect.clone();
P.x=P.y=0;if(ex.kj){var kl=Date.now(),et=t.buffer;et.set(n.buffer);Q.uy(et);var d7=ex.bk(0,b,T);d7.set(et);
var hr=Q.Q(4);hr[0]=Math.round(128+127*Math.cos(bl));hr[1]=Math.round(128+127*Math.sin(bl));new Uint32Array(et.buffer).fill(new Uint32Array(hr.buffer)[0]);
var dY=ex.bk(1,b,T);dY.set(et);ex.QC(d7,P);d7.N8(P);ex.filter.iT({type:ex.filter.QZ,SP:dY.P8,qc:new Float32Array([1/b,1/T]),abf:dM/2,aeF:1},d7.JA);
d7.get(et);Q.RC(et)}else{var jh=new aY;jh.rotate(bl);var d=D.D6.yn([n.buffer,n.rect],jh,!1,null,!0);
ie.dh(dM,Q.OX.MR,d.buffer,d.rect);jh.sJ();d=D.D6.yn([d.buffer,d.rect],jh,!1,t.buffer.buffer,!0,t.rect)}console.log(Date.now()-kl)}if(_=="RdlB"){var b=n.rect.a,T=n.rect.n,ar=O.Amnt.v,e9=O.BlrM.v.BlrM=="Zm",bi=O.Cntr.v,dG=bi.Hrzn.v,iD=bi.Vrtc.v,Y=Math.max(dG,1-dG)*b,U=Math.max(iD,1-iD)*T,ax=Math.sqrt(Y*Y+U*U),cT=2*Math.PI*ax*1.5,ko=Math.round(cT),bx=Math.round(ax),ik=new a8(0,0,ko,bx),d4=Q.Q(ko*bx*4),jV=e9?4:1,iK=e9?.6:8*((b+T)/2)/1400,hc=.1,gr=1,hP=1;
Q.r.x8(n.buffer,b,T,d4,ko,bx,dG,iD,jV,hc,gr,hP);var kt=e9?Q.Q(ko*bx*4):null;if(e9){Q.r.Z4(d4,kt,ko,bx);
var i$=kt;kt=d4;d4=i$;ik.a=bx;ik.n=ko}ie.dh(iK*ar,Q.OX.MR,d4,ik);if(e9){Q.r.Z4(d4,kt,bx,ko);var i$=kt;
kt=d4;d4=i$;ik.a=ko;ik.n=bx}Q.r.yr(d4,ko,bx,t.buffer,b,T,dG,iD,jV,hc,gr,hP)}if(_=="Plr "){var b=n.rect.a,T=n.rect.n;
if(O.Cnvr.v.Cnvr=="RctP")Q.r.yr(n.buffer,b,T,t.buffer,b,T,.5,.5,1,0,2,b/T);else Q.r.x8(n.buffer,b,T,t.buffer,b,T,.5,.5,1,0,2,b/T)}if(_=="FndE"){var b=n.rect.a,T=n.rect.n;
Q.u3.NF(n.buffer,t.buffer,b,T)}if(_=="oilPaint"){var kj=O.LghD.v*Math.PI/180,hd=[Math.cos(kj),Math.sin(kj),.001],fT=[O.stylization.v,O.cleanliness.v,O.brushScale.v,O.microBrush.v,O.lightingOn.v,O.specularity.v,hd],P=n.rect.clone();
P.x=P.y=0;Q.lK.filter(n.buffer,P,t.buffer,fT)}if(_=="Ofst"){var b=n.rect.a,T=n.rect.n,il=new Uint32Array(n.buffer.buffer),i0=new Uint32Array(t.buffer.buffer),bZ=O.Hrzn.v,kd=O.Vrtc.v,eU=O.Fl.v.FlMd;
Q.qs(i0,0);if(eU=="Bckg"||eU=="Rpt"){var ik=n.rect.clone();ik.offset(bZ,kd);Q.zw(il,ik,i0,t.rect)}if(eU=="Rpt"){var jl,gX,dl,ij,dR;
bZ=Math.max(-b,Math.min(b,bZ));kd=Math.max(-T,Math.min(T,kd));jl=bZ>0?bZ:0;dl=bZ>0?b:b+bZ;gX=kd>0?0:kd+T;
ij=kd>0?kd:T;dR=kd>0?0:b*(T-1);for(var g=gX;g<ij;g++)for(var i=jl;i<dl;i++)i0[g*b+i]=il[dR+i-bZ];jl=bZ>0?0:b+bZ;
dl=bZ>0?bZ:b;gX=kd>0?kd:0;ij=kd>0?T:T+kd;dR=bZ>0?0:b-1;for(var g=gX;g<ij;g++)for(var i=jl;i<dl;i++)i0[g*b+i]=il[dR+b*(g-kd)];
if(bZ>=0&&kd>=0){jl=0;dl=bZ;gX=0;ij=kd;dR=0}if(bZ>=0&&kd<0){jl=0;dl=bZ;gX=T+kd;ij=T;dR=b*(T-1)}if(bZ<0&&kd>=0){jl=b+bZ;
dl=b;gX=0;ij=kd;dR=b-1}if(bZ<0&&kd<0){jl=b+bZ;dl=b;gX=T+kd;ij=T;dR=b*T-1}for(var g=gX;g<ij;g++)for(var i=jl;
i<dl;i++)i0[g*b+i]=il[dR]}if(eU=="Wrp"){bZ=(bZ+100*b)%b;kd=(kd+100*T)%T;var ik=new a8(bZ-b,kd-T,b,T);
Q.zw(il,ik,i0,t.rect);ik.offset(b,0);Q.zw(il,ik,i0,t.rect);ik.offset(0,T);Q.zw(il,ik,i0,t.rect);ik.offset(-b,0);
Q.zw(il,ik,i0,t.rect)}}if(_=="Rept"){var bF=O.Rsft.v.val/100,kq=O.SpcX.v.val/100;kq=Math.max(kq,-.99);
var gi=O.SpcY.v.val/100;gi=Math.max(gi,-.99);var gr=O.Scl.v.val/100,jh=new aY;jh.rotate(O.Angl.v*Math.PI/180);
jh.scale(gr,gr);var dH={buffer:n.buffer,rect:n.rect};Q.M_(dH);if(dH.rect.wk()){dH.buffer=n.buffer;dH.rect=n.rect}var eM=dH.buffer,ik=dH.rect,fL=Q.RJ(eM,ik,0),be=new Uint32Array(eM.buffer)[0];
if(!fL.wk()&&!fL.yO(ik)){var ja=Q.Q(fL.O()*4);Q.zw(eM,ik,ja,fL);eM=ja;ik=fL}ik.x=ik.y=0;be=kq==0&&gi==0||O.SpcC.v?be:0;
function bA(i){return i<0?Math.ceil(i):Math.floor(i)}var h7=jh.uz(new aW(ik.a,0));h7.x=bA(h7.x);h7.y=bA(h7.y);
var b9=jh.uz(new aW(0,ik.n));b9.x=bA(b9.x);b9.y=bA(b9.y);var d=D.D6.yn([eM,ik],jh,!1),aV=d.rect,ew=d.buffer,iI=Math.round(aV.x),ed=Math.round(aV.y),gV=Math.max(t.rect.a,t.rect.n)/Math.min(ik.a*gr*(1+kq),ik.n*gr*(1+gi));
gV=Math.ceil(gV*1.7);Q.qs(t.buffer,be);for(var g=-gV;g<gV;g++){for(var i=-gV;i<gV;i++){var es=(i+g*bF)*(1+kq),cJ=g*(1+gi);
aV.x=iI+Math.round(es*h7.x+cJ*b9.x);aV.y=ed+Math.round(es*h7.y+cJ*b9.y);if(aV.JS(t.rect))Q.q.Zn("norm",ew,aV,t.buffer,t.rect,aV,1)}}}if(_=="Ctoa"){var x=Q.N.JU(O.Clr.v),cV=O.Trsp.v.val/100,fG=O.Opct.v.val/100;
cV=fG==0?0:cV/fG;var b=n.rect.a,T=n.rect.n,h3=~~x.o,dF=~~x.J,db=~~x.k,dR=n.buffer,by=t.buffer;for(var g=0;
g<T;g++)for(var i=0;i<b;i++){var m=g*b+i,I=m<<2,ik=dR[I],hk=dR[I+1],eM=dR[I+2],h$=Math.abs(h3-ik),kr=Math.abs(dF-hk),gM=Math.abs(db-eM),fA=Math.max(h$,kr,gM)*(1/255);
fA=Math.max(0,Math.min(1,fA/fG));var cs=fA==0?0:1/fA,eH=cV==1?1:Math.max(0,Math.min(1,(fA-cV)/(1-cV)));
by[I]=Math.max(0,Math.min(255,(ik-h3*(1-fA))*cs));by[I+1]=Math.max(0,Math.min(255,(hk-dF*(1-fA))*cs));
by[I+2]=Math.max(0,Math.min(255,(eM-db*(1-fA))*cs));by[I+3]=~~(.5+eH*255)}}if(_=="Dthr"){function dK(i){return~~(.5+255*Q.CV(i/255))}var bG=O.Plte.v,h1;
if(bG==0)h1=[4278190080,4294967295];else{var gW=[[1,1,1],[2,2,2],[3,3,2]][bG-1],cP=[1<<gW[0],1<<gW[1],1<<gW[2]],iX=[~~(255/(cP[0]-1)),~~(255/(cP[1]-1)),~~(255/(cP[2]-1))];
h1=[];for(var bB=0;bB<cP[0];bB++)for(var cM=0;cM<cP[1];cM++)for(var b2=0;b2<cP[2];b2++)h1.push(255<<24|dK(b2*iX[2])<<16|dK(cM*iX[1])<<8|dK(bB*iX[0]))}var b=n.rect.a,T=n.rect.n,C=b*T,eV=C*4,eS=n.buffer.slice(0),dV=t.buffer;
for(var m=0;m<eV;m++)eS[m]=~~(.5+255*Q.CV(eS[m]/255));var cu=Q.Q(b*T);UPNG.encode.dither(eS,b,T,h1,dV,cu,O.Mthd?O.Mthd.v:1);
for(var m=0;m<eV;m++)dV[m]=~~(.5+255*Q.nM(dV[m]/255))}if(_=="Part"){var bo=[O.RndS.v,O.Cont.v/100,O.Size.v,O.Dpth.v/100,O.Brgh.v/100,Q.N.JU(O.Clr.v),O.Time.v,O.Blnk.v,O.Fall.v,O.Turb.v/100];
Q.FN.fL(t.buffer,n.rect.a,n.rect.n,bo)}if("LqFy,Dspl,Pnch,Sphr,Twrl,Rple,Shr ,Wave,LnCr,ZgZg,Kale".split(",").indexOf(_)!=-1){var hO=h[0],b=n.rect.a,T=n.rect.n,bO,ga=0;
if(_=="LqFy")bO=ii.GQ(new Uint8Array(O.LqMe.v).buffer);else{var cQ=3;bO={Qc:Math.floor(b/cQ),bE:Math.floor(T/cQ)};
bO.map=new Float32Array(bO.Qc*bO.bE*2);if(_=="LnCr"){var dG=.5*(bO.Qc-1),iD=.5*(bO.bE-1),jF=Math.max(Math.abs(0-dG),Math.abs(1-dG)),aA=Math.max(Math.abs(0-iD),Math.abs(1-iD)),fm=Math.sqrt(jF*jF+aA*aA),j1=0,jX=0,dJ=-1,ce=2,gr=O.LnSi.v/100,e9=1/gr,hi=O.LnIa.v/100,jE=hi==0?1e-6:hi*4.6,ct=e9/fm;
for(var g=0;g<bO.bE;g++){for(var i=0;i<bO.Qc;i++){var Y=(i-dG)*ct,U=(g-iD)*ct,bB=Math.sqrt(Y*Y+U*U)*jE,eG=Math.atan(bB),dy=hi>0?eG/bB:bB/eG,hP=dG+fm*dy*Y,aE=iD+fm*dy*U,m=g*bO.Qc+i<<1;
bO.map[m]=hP-i;bO.map[m+1]=aE-g}}}else if(_=="Kale"){var ge=bO.Qc,co=bO.bE,iO=(ge-1)*.5,hs=(co-1)*.5,ea=O.MRot.v*Math.PI/180+Math.PI/2+4*Math.PI,kh=O.Mirr.v,hw=Math.PI*2/kh,f1=.5*hw;
for(var g=0;g<co;g++)for(var i=0;i<ge;i++){var Y=i-iO,U=g-hs,fK=Math.sqrt(Y*Y+U*U),kj=Math.atan2(U,Y)+ea;
kj=kj%hw;if(kj>f1)kj=hw-kj;var hP=iO+Math.cos(kj-ea)*fK,aE=hs+Math.sin(kj-ea)*fK,m=(g*ge+i)*2;bO.map[m]=hP-i;
bO.map[m+1]=aE-g}}else if(_=="Dspl"&&hO.length!=0){ga=O.UndA.v.UndA=="WrpA"?2:1;var ib=O.DspF.v.pth,bC;
for(var m=0;m<hO.length;m++)if(hO[m].Et==ib)bC=hO[m];if(bC==null)bC=hO[0];bC.Cs();var h$=bC.lf[1],ig=Q.Q(h$.O());
Q.mx(bC.lf[0],ig);var d2=h$.a,aX=h$.n;bO={Qc:d2,bE:aX};bO.map=new Float32Array(bO.Qc*bO.bE*2);var d_=2.54*O.HrzS.v*d2/b,b4=2.54*O.VrtS.v*aX/T;
for(var g=0;g<bO.bE;g++){for(var i=0;i<bO.Qc;i++){var io=-.5+ig[g*d2+i]*(1/255),m=g*bO.Qc+i<<1;bO.map[m]=io*d_;
bO.map[m+1]=io*b4}}}else if(_=="Pnch"||_=="Twrl"||_=="Sphr"||_=="ZgZg"){var ar=1,bl=Math.PI,ep=0,jx=1,a1=0,bi=3,a_=1.53,dy=1;
if(_=="Pnch"||_=="Sphr"||_=="ZgZg")ar=O.Amnt.v/100;if(_=="ZgZg"){jx=O.NmbR.v;a1=["ArnC","OtFr","PndR"].indexOf(O.ZZTy.v.ZZTy)}if(_=="Twrl")bl=O.Angl.v*Math.PI/180;
if(_=="Sphr")ep=["Nrml","HrzO","VrtO"].indexOf(O.SphM.v.SphM);function bq(i){i=Math.pow(i,1-i*.3-i*i*(i*i)*.5);
return-.225*Math.sin(i*Math.PI)}function eQ(T,dh,bB,jl,gX,dl,ij,dy){var Y=dl-jl,U=ij-gX,dX=jl-T,fg=gX-dh,c9=Y*Y+U*U,b2=2*(Y*dX+U*fg),bi=dX*dX+fg*fg-bB*bB,dz=Math.sqrt(b2*b2-4*c9*bi),hE=dy/(2*c9),c2=(-b2+dz)*hE,bv=(-b2-dz)*hE;
return dy*Math.min(c2,bv)}var ge=bO.Qc,co=bO.bE,iO=bO.Qc/2,hs=bO.bE/2,cO=1/iO,bB=Math.sqrt(bi*bi+1)/bi,ej=bi+Math.sqrt(1/(bi*bi));
if(ar<0){bi=1.72;bB=1;ej=bi;a_=-1;dy=-1}for(var g=0;g<co;g++){var U=(g-hs)/hs;for(var i=0;i<ge;i++){var Y=(i-iO)*cO;
if(ep==1)U=0;else if(ep==2)Y=0;var dc=Math.sqrt(Y*Y+U*U);if(dc<1&&dc!=0){var m=g*bO.Qc+i<<1;if(_=="Pnch"){var bM=-ar*bq(dc)/dc;
bO.map[m]=Y*bM*iO;bO.map[m+1]=U*bM*hs}else if(_=="Sphr"){var i$=eQ(0,ej,bB,0,0,dc,bi,dy),cG=a_*ar*(i$-1);
bO.map[m]=Y*cG*iO;bO.map[m+1]=U*cG*hs}else if(_=="Twrl"){var kj=Math.atan2(U,Y)-bl*(1-dc)*(1-dc),kk=Math.cos(kj),jS=Math.sin(kj);
bO.map[m]=(dc*kk-Y)*iO;bO.map[m+1]=(dc*jS-U)*hs}else if(_=="ZgZg"){var kk=0,jS=0,f8=ar*(.5-.5*Math.cos(dc*jx*2*Math.PI))*(1-dc);
if(a1==0){var kj=Math.atan2(U,Y)-3.5*f8;kk=dc*Math.cos(kj);jS=dc*Math.sin(kj)}if(a1==1){f8=100/b*f8/dc;
kk=(1-f8)*Y;jS=(1-f8)*U}if(a1==2){var G=512/b*f8*Math.PI/4;kk=G+Y;jS=G+U}bO.map[m]=(kk-Y)*iO;bO.map[m+1]=(jS-U)*hs}}}}}else if(_=="Shr "){var aG=JSON.parse(JSON.stringify(O.ShrP.v));
Q.xu.D(aG,new aY(0,255/127,255/127,0,-2,0));var ke=Q.xu.b4(aG,bO.bE,!0);ga=O.UndA.v.UndA=="WrpA"?2:1;
for(var g=0;g<bO.bE;g++){var Y=-ke[g]*bO.Qc;for(var i=0;i<bO.Qc;i++){var m=g*bO.Qc+i<<1;bO.map[m]=Y}}}else if(_=="Wave"){var dn=O.NmbG.v,cl=O.WLMn.v,ji=O.WLMx.v,cZ=O.AmMn.v*(Math.PI/4),aB=O.AmMx.v*(Math.PI/4),bm=O.SclH.v/100,f2=O.SclV.v/100,bf=O.Wvtp.v.Wvtp,f8=Math.sin;
if(bf=="WvTr")f8=function(i){i*=2/Math.PI;return-.5+Math.abs(i%2-1)};if(bf=="WvSq")f8=function(i){i*=2/Math.PI;
return 1+2*Math.floor(i%2-1)};var bY=[],bK=new Q.q.SB(O.RndS.v);for(var m=0;m<dn;m++){bY.push(bK.get()*10);
bY.push(Math.PI*cQ/(cl+bK.get()*(ji-cl)));bY.push(bm*(cZ+bK.get()*(aB-cZ))/cQ);bY.push(bK.get()*10);
bY.push(Math.PI*cQ/(cl+bK.get()*(ji-cl)));bY.push(f2*(cZ+bK.get()*(aB-cZ))/cQ)}var gt=[],iT=[],j0=Math.max(bO.Qc,bO.bE);
for(var m=0;m<j0;m++){var Y=0,U=0;for(var fO=0;fO<dn;fO++){var cd=fO*6;Y+=bY[cd+2]*f8(bY[cd]+m*bY[cd+1]);
U+=bY[cd+5]*f8(bY[cd+3]+m*bY[cd+4])}gt[m]=U;iT[m]=Y}for(var g=0;g<bO.bE;g++){for(var i=0;i<bO.Qc;i++){var m=g*bO.Qc+i<<1;
bO.map[m]=iT[g];bO.map[m+1]=gt[i]}}ga=O.UndA.v.UndA=="WrpA"?2:1}else if(_=="Rple"){ga=1;var ar=O.Amnt.v/100,j4=4,gm=[0,-.19,-.29,-.32,.92,.37,.93,.54,-.54,.42,-.29,-.58,-.67,.85,0,.64],dt=1,g1=1,dX=0,jz=["Sml","Mdm","Lrg"].indexOf(O.RplS.v.RplS);
if(jz==0){dt=1;g1=.2;dX=3}if(jz==2){dt=1;g1=2;dX=-1;gm=gm.reverse()}var d5=function(i,g){var bi=Math.cos,j2=0;
for(var m=0;m<j4;m++)for(var fO=0;fO<j4;fO++)j2+=gm[m*j4+fO]*bi(i*(m+dX)-g*(fO+dX));return j2},aQ=Math.floor(50/cQ),fv=new Float32Array(aQ*aQ*2),iQ=g1*ar*.5/cQ;
for(var g=0;g<aQ;g++)for(var i=0;i<aQ;i++){var dG=dt*i*2*Math.PI/aQ,iD=dt*g*2*Math.PI/aQ,dN=d5(dG,iD),Y=(d5(dG+.01,iD)-dN)*100,U=(d5(dG,iD+.01)-dN)*100,m=(g*aQ+i)*2;
fv[m]=Y*iQ;fv[m+1]=U*iQ}for(var g=0;g<bO.bE;g++)for(var i=0;i<bO.Qc;i++){var jS=g%aQ,kk=i%aQ,m=g*bO.Qc+i<<1,au=jS*aQ+kk<<1;
bO.map[m]=fv[au];bO.map[m+1]=fv[au+1]}}}Q.Nk.kH(n.buffer,t.buffer,b,T,null,bO.map,bO.Qc,bO.bE,ga)}return t};
var cz={};cz.a3g="BrSm BrsL BrDR BrsW BrbW BrSp".split(" ");cz.vZ="LDBt LDBL LDLf LDTL LDTp LDTR LDRg LDBR".split(" ");
cz.JJ=["ScrC","ScrD","ScrL"];cz.ky=["SDRD","SDHz","SDLD","SDVt"];cz.D0="TxBl TxCa TxFr TxTL TxBr TxBu TxSt".split(" ");
cz.cj="LPBt LPBL LPLf LPTL LPTp LPTR LPRg LPBR".split(" ");cz.FP="GrnR GrSf GrSr GrnC GrCn GrnE GrSt GrnH GrnV GrSp".split(" ");
cz.hE=[[24,19,0],[24,19,1],[24,4],[24,19,2],[24,14],[12,67]];cz.names={ClrP:[0,[24,20,0]],Ct:[0,[24,20,1]],DryB:[0,[24,20,2]],FlmG:[0,[24,20,3]],Frsc:[0,[24,20,4]],NGlw:[0,[24,20,5]],PntD:[0,[24,20,6]],PltK:[0,[24,20,7]],PlsW:[0,[24,20,8]],PstE:[0,[24,20,9]],RghP:[0,[24,20,10]],SmdS:[0,[24,20,11]],Spng:[0,[24,20,12]],Undr:[0,[24,20,13]],Wtrc:[0,[24,20,14]],AccE:[1,[24,20,15]],AngS:[1,[24,20,16]],Crsh:[1,[24,20,17]],DrkS:[1,[24,20,18]],InkO:[1,[24,20,19]],Spt:[1,[24,20,20]],SprS:[1,[24,20,21]],Smie:[1,[24,20,22]],DfsG:[2,[24,20,23]],Gls:[2,[24,20,24]],OcnR:[2,[24,20,25]],BsRl:[3,[24,20,26]],ChlC:[3,[24,20,27]],Chrc:[3,[24,20,28]],Chrm:[3,[24,20,29]],CntC:[3,[24,20,30]],GraP:[3,[24,20,31]],HlfS:[3,[24,20,32]],NtPr:[3,[24,20,33]],Phtc:[3,[24,20,34]],Plst:[3,[24,20,35]],Rtcl:[3,[24,20,36]],Stmp:[3,[24,20,37]],TrnE:[3,[24,20,38]],WtrP:[3,[24,20,39]],GlwE:[4,[24,20,40]],Crql:[5,[24,20,41]],Grn:[5,[24,20,42]],MscT:[5,[24,20,43]],Ptch:[5,[24,20,44]],StnG:[5,[24,20,45]],Txtz:[5,[24,20,46]]};
cz.gV=function(_){var n;if(_=="ClrP")n={Pncl:{t:"long",v:4},StrP:{t:"long",v:8},PprB:{t:"long",v:25}};
if(_=="Ct")n={NmbL:{t:"long",v:4},EdgS:{t:"long",v:3},EdgF:{t:"long",v:1}};if(_=="DryB")n={BrsS:{t:"long",v:4},BrsD:{t:"long",v:4},Txtr:{t:"long",v:2}};
if(_=="FlmG")n={Grn:{t:"long",v:4},HghA:{t:"long",v:0},Intn:{t:"long",v:10},FlRs:{t:"long",v:23068185}};
if(_=="Frsc")n={BrsS:{t:"long",v:2},BrsD:{t:"long",v:8},Txtr:{t:"long",v:1}};if(_=="NGlw")n={Sz:{t:"long",v:5},Brgh:{t:"long",v:15},Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:255}}}};
if(_=="PntD")n={Sz:{t:"long",v:10},Shrp:{t:"long",v:10},BrsT:{t:"enum",v:{BrsT:"BrSm"}}};if(_=="PltK")n={StrS:{t:"long",v:25},StDt:{t:"long",v:3},Sftn:{t:"long",v:2}};
if(_=="PlsW")n={HghS:{t:"long",v:20},Dtl:{t:"long",v:4},Smth:{t:"long",v:5}};if(_=="PstE")n={EdgT:{t:"long",v:2},EdgI:{t:"long",v:1},Pstr:{t:"long",v:2}};
if(_=="RghP")n={StrL:{t:"long",v:6},StDt:{t:"long",v:4},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:20},LghD:{t:"enum",v:{LghD:"LDBt"}},InvT:{t:"bool",v:!1}};
if(_=="SmdS")n={StrL:{t:"long",v:2},HghA:{t:"long",v:0},Intn:{t:"long",v:10},FlRs:{t:"long",v:6399750}};
if(_=="Spng")n={BrsS:{t:"long",v:2},Dfnt:{t:"long",v:12},Smth:{t:"long",v:5},FlRs:{t:"long",v:218877241}};
if(_=="Undr")n={BrsS:{t:"long",v:6},TxtC:{t:"long",v:16},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:4},LghD:{t:"enum",v:{LghD:"LDTp"}},InvT:{t:"bool",v:!1}};
if(_=="Wtrc")n={BrsD:{t:"long",v:9},ShdI:{t:"long",v:1},Txtr:{t:"long",v:3}};if(_=="AccE")n={EdgW:{t:"long",v:2},EdgB:{t:"long",v:38},Smth:{t:"long",v:5}};
if(_=="AngS")n={DrcB:{t:"long",v:50},StrL:{t:"long",v:15},Shrp:{t:"long",v:3}};if(_=="Crsh")n={StrL:{t:"long",v:9},Shrp:{t:"long",v:6},Strg:{t:"long",v:1}};
if(_=="DrkS")n={Blnc:{t:"long",v:5},BlcI:{t:"long",v:6},WhtI:{t:"long",v:2}};if(_=="InkO")n={StrL:{t:"long",v:4},DrkI:{t:"long",v:20},LghI:{t:"long",v:10}};
if(_=="Smie")n={StrW:{t:"long",v:10},StrP:{t:"long",v:5},Cntr:{t:"long",v:16}};if(_=="Spt")n={SprR:{t:"long",v:10},Smth:{t:"long",v:5},FlRs:{t:"long",v:10738420}};
if(_=="SprS")n={StrL:{t:"long",v:12},SprR:{t:"long",v:7},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:893120664}};
if(_=="DfsG")n={Grns:{t:"long",v:6},GlwA:{t:"long",v:10},ClrA:{t:"long",v:15},FlRs:{t:"long",v:325892160}};
if(_=="Gls")n={Dstr:{t:"long",v:3},Smth:{t:"long",v:1},TxtT:{t:"enum",v:{TxtT:"TxTL"}},Scln:{t:"long",v:100},InvT:{t:"bool",v:!1}};
if(_=="OcnR")n={RplS:{t:"long",v:5},RplM:{t:"long",v:15},FlRs:{t:"long",v:64008840}};if(_=="BsRl")n={Dtl:{t:"long",v:11},Smth:{t:"long",v:7},LghD:{t:"enum",v:{LghD:"LDBt"}}};
if(_=="ChlC")n={ChrA:{t:"long",v:6},ChlA:{t:"long",v:6},StrP:{t:"long",v:1},FlRs:{t:"long",v:314004633}};
if(_=="Chrc")n={ChAm:{t:"long",v:1},Dtl:{t:"long",v:5},LgDr:{t:"long",v:50},GELv:{t:"bool",v:!0}};if(_=="Chrm")n={Dtl:{t:"long",v:4},Smth:{t:"long",v:4}};
if(_=="CntC")n={FrgL:{t:"long",v:11},BckL:{t:"long",v:7},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:4},LghD:{t:"enum",v:{LghD:"LDTp"}},InvT:{t:"bool",v:!1}};
if(_=="GraP")n={StrL:{t:"long",v:7},LgDr:{t:"long",v:50},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:55993248}};
if(_=="HlfS")n={HlSz:{t:"long",v:1},Cntr:{t:"long",v:5},ScrT:{t:"enum",v:{ScrT:"ScrD"}}};if(_=="NtPr")n={ImgB:{t:"long",v:25},Grns:{t:"long",v:10},Rlf:{t:"long",v:11},FlRs:{t:"long",v:52642770}};
if(_=="Phtc")n={Dtl:{t:"long",v:10},Drkn:{t:"long",v:4}};if(_=="Plst")n={ImgB:{t:"long",v:20},Smth:{t:"long",v:2},LghP:{t:"enum",v:{LghP:"LPTp"}}};
if(_=="Rtcl")n={Dnst:{t:"long",v:12},BlcL:{t:"long",v:40},WhtL:{t:"long",v:5},FlRs:{t:"long",v:301835400}};
if(_=="Stmp")n={LgDr:{t:"long",v:25},Smth:{t:"long",v:4}};if(_=="TrnE")n={ImgB:{t:"long",v:25},Smth:{t:"long",v:11},Cntr:{t:"long",v:17},FlRs:{t:"long",v:461109340}};
if(_=="WtrP")n={FbrL:{t:"long",v:15},Brgh:{t:"long",v:60},Cntr:{t:"long",v:80},FlRs:{t:"long",v:83852682}};
if(_=="GlwE")n={EdgW:{t:"long",v:1},EdgB:{t:"long",v:10},Smth:{t:"long",v:1}};if(_=="Crql")n={CrcS:{t:"long",v:15},CrcD:{t:"long",v:6},CrcB:{t:"long",v:9},FlRs:{t:"long",v:495615720}};
if(_=="Grn")n={Intn:{t:"long",v:40},Cntr:{t:"long",v:50},Grnt:{t:"enum",v:{Grnt:"GrnR"}},FlRs:{t:"long",v:217582197}};
if(_=="MscT")n={TlSz:{t:"long",v:12},GrtW:{t:"long",v:3},LghG:{t:"long",v:9},FlRs:{t:"long",v:25445584}};
if(_=="Ptch")n={SqrS:{t:"long",v:4},Rlf:{t:"long",v:8},FlRs:{t:"long",v:383529723}};if(_=="StnG")n={ClSz:{t:"long",v:10},BrdT:{t:"long",v:4},LghI:{t:"long",v:0},FlRs:{t:"long",v:319935998}};
if(_=="Txtz")n={TxtT:{t:"enum",v:{TxtT:"TxBr"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:10},LghD:{t:"enum",v:{LghD:"LDBL"}},InvT:{t:"bool",v:!1}};
n.__name="Filter Gallery";n.classID="GEfc";n.GEfk={t:"enum",v:{GEft:_}};n.GELv={t:"bool",v:!0};return n};
cz.bC=function(_,n){for(var m=0;m<n.length;m++)~~(n[m]=(_[4*m]+_[4*m+1]+_[4*m+2])*(1/3))};cz.a8T=function(_,n,O,l){var x=UPNG.quantize(_,n);
x={ye:x.inds,IR:x.plte};var t=Math.floor((O+l)*.015);if(t!=0)Q.j8.anl(x.ye,O,l,t);return x};cz.Er=function(_,n,O,l,x,t,h){_=O.GEfk.v.GEft;
var V=n.rect,y=V.a,r=V.n,E=y*r,a=O.FlRs?O.FlRs.v>>>1:0;function S(f){return f.o<<24|f.J<<16|f.k<<8|255}if(_=="ClrP")Q._.a1w(n.buffer,y,r,t.buffer,[O.Pncl.v,O.StrP.v,O.PprB.v]);
if(_=="Ct"){var e=O.NmbL.v,P=O.EdgS.v,b=cz.a8T(n.buffer.buffer,e*2,y,r);for(var m=0;m<b.ye.length;m++)b.ye[m]++;
var T=new Uint8Array((y+2)*(r+2));Q.pc(b.ye,new a8(1,1,y,r),T,new a8(0,0,y+2,r+2));var C=Q.p.e0(T,y+2,r+2,P,!1),Z=new aY(1,0,0,1,-1,-1);
for(var m=0;m<C.length;m++)Q.p.D(C[m].path.C,Z,C[m].path.C);var W=[],s=b.IR;for(var m=0;m<s.length;m++){var f=s[m].est.q;
W.push({o:Math.round(255*f[0]),J:Math.round(255*f[1]),k:Math.round(255*f[2]),EX:Math.round(255*f[3])})}var q=Q.jk(y,r);
for(var m=0;m<C.length;m++){var g=C[m],f=W[g.color-1];if(f.EX==0)continue;q.fillStyle="rgba("+f.o+","+f.J+","+f.k+","+f.EX/255+")";
q.beginPath();Typr.U.pathToContext({crds:g.path.C,cmds:g.path.F},q);q.fill()}if(!V.wk()){var i=q.getImageData(0,0,y,r);
Q.Jt(i.data,t.buffer)}}if(_=="DryB")Q._.a3x(n.buffer,y,r,t.buffer,[O.BrsS.v,O.BrsD.v,O.Txtr.v]);if(_=="FlmG")Q._.ajQ(n.buffer,y,r,t.buffer,[O.Grn.v,O.HghA.v,O.Intn.v,a]);
if(_=="Frsc")Q._.awr(n.buffer,y,r,t.buffer,[O.BrsS.v,O.BrsD.v,O.Txtr.v]);if(_=="NGlw")Q._.ase(n.buffer,y,r,t.buffer,[O.Sz.v,O.Brgh.v,S(Q.N.JU(O.Clr.v)),S(l),S(x)]);
if(_=="PltK")Q._.akq(n.buffer,y,r,t.buffer,[O.StrS.v,O.StDt.v,O.Sftn.v]);if(_=="PstE")Q._.apF(n.buffer,y,r,t.buffer,[O.EdgT.v,O.EdgI.v,O.Pstr.v]);
if(_=="RghP")Q._.a5i(n.buffer,y,r,t.buffer,[O.StrL.v,O.StDt.v,cz.D0.indexOf(O.TxtT.v.TxtT),O.Scln.v,O.Rlf.v,cz.vZ.indexOf(O.LghD.v.LghD),O.InvT.v]);
if(_=="SmdS")Q._.a4n(n.buffer,y,r,t.buffer,[O.StrL.v,O.HghA.v,O.Intn.v,O.FlRs.v,a]);if(_=="Spng")Q._.akD(n.buffer,y,r,t.buffer,[O.BrsS.v,O.Dfnt.v,O.Smth.v,O.FlRs.v,a]);
if(_=="Undr")Q._.adQ(n.buffer,y,r,t.buffer,[O.BrsS.v,O.TxtC.v,cz.D0.indexOf(O.TxtT.v.TxtT),O.Scln.v,O.Rlf.v,cz.vZ.indexOf(O.LghD.v.LghD),O.InvT.v]);
if(_=="Wtrc")Q._.afy(n.buffer,y,r,t.buffer,[O.BrsD.v,O.ShdI.v,O.Txtr.v]);if(_=="AccE")Q._.alL(n.buffer,y,r,t.buffer,[O.EdgW.v,O.EdgB.v,O.Smth.v]);
if(_=="AngS")Q._.axW(n.buffer,y,r,t.buffer,[O.DrcB.v,O.StrL.v,O.Shrp.v]);if(_=="Crsh")Q._.asW(n.buffer,y,r,t.buffer,[O.StrL.v,O.Shrp.v,O.Strg.v]);
if(_=="DrkS")Q._.aoz(n.buffer,y,r,t.buffer,[O.Blnc.v,O.BlcI.v,O.WhtI.v]);if(_=="InkO")Q._.a7n(n.buffer,y,r,t.buffer,[O.StrL.v,O.DrkI.v,O.LghI.v]);
if(_=="Smie")Q._.arg(n.buffer,y,r,t.buffer,[O.StrW.v,O.StrP.v,O.Cntr.v]);if(_=="DfsG")Q._.ayM(n.buffer,y,r,t.buffer,[O.Grns.v,O.GlwA.v,O.ClrA.v,S(x),a]);
if(_=="CntC")Q._.ajD(n.buffer,y,r,t.buffer,[O.FrgL.v,O.BckL.v,cz.D0.indexOf(O.TxtT.v.TxtT),O.Scln.v,O.Rlf.v,cz.vZ.indexOf(O.LghD.v.LghD),O.InvT.v,S(x),S(l)]);
if(_=="ChlC")Q._.a5A(n.buffer,y,r,t.buffer,[O.ChrA.v,O.ChlA.v,O.StrP.v,a,S(x),S(l)]);var u=_=="GraP"||_=="Chrc"||_=="Plst"||_=="Rtcl"||_=="Stmp"||_=="TrnE";
if(u){var I=Q.Q(y*r);if(_=="GraP")Q._.ads(n.buffer,y,r,t.buffer,[O.StrL.v,O.LgDr.v,cz.ky.indexOf(O.SDir.v.StrD),a]);
if(_=="Chrc")Q._.al7(n.buffer,y,r,t.buffer,[O.ChAm.v,O.Dtl.v,O.LgDr.v]);if(_=="Plst")Q._.ah7(n.buffer,y,r,t.buffer,[O.ImgB.v,cz.cj.indexOf(O.LghP.v.LghP),O.Smth.v]);
if(_=="Rtcl")Q._.anY(n.buffer,y,r,t.buffer,[O.Dnst.v,O.BlcL.v,O.WhtL.v,a]);if(_=="Stmp")Q._.a5g(n.buffer,y,r,t.buffer,[O.LgDr.v,O.Smth.v]);
if(_=="TrnE")Q._.acW(n.buffer,y,r,t.buffer,[O.ImgB.v,O.Smth.v,O.Cntr.v,a]);Q.nV(t.buffer,I,0);cz.zR(I,t.buffer,l,x)}if(_=="NtPr")Q._.alE(n.buffer,y,r,t.buffer,[O.ImgB.v,O.Grns.v,O.Rlf.v,S(l),S(x),a]);
if(_=="WtrP")Q._.aot(n.buffer,y,r,t.buffer,[O.FbrL.v,O.Brgh.v,O.Cntr.v,a>>>1]);if(_=="Crql")Q._.amv(n.buffer,y,r,t.buffer,[O.CrcS.v,O.CrcD.v,O.CrcB.v,a]);
if(_=="Grn")Q._.ap$(n.buffer,y,r,t.buffer,[O.Intn.v,cz.FP.indexOf(O.Grnt.v.Grnt),O.Cntr.v,S(l),S(x),a]);
if(_=="MscT")Q._.ahr(n.buffer,y,r,t.buffer,[O.TlSz.v,O.GrtW.v,O.LghG.v,a]);if(_=="Ptch")Q._.aa5(n.buffer,y,r,t.buffer,[O.SqrS.v,O.Rlf.v,a]);
if(_=="Phtc"){function Y(aG,a_,V,kj){Q.OX.xk(aG,a_,V,kj);for(var m=0;m<E;m++)a_[m]=Math.max(0,Math.min(255,128+aG[m]-a_[m]))}var U=O.Dtl.v,F=O.Drkn.v,N=Q.Q(E);
Q.mx(n.buffer,N);var o=Q.Q(E);Y(N,o,V,1);if(U==1){U=2;F=Math.round(F/4)}var X=Q.Q(E);Y(N,X,V,U);for(var m=0;
m<E;m++)N[m]=Math.max(0,Math.min(255,255-(o[m]-X[m])*F));cz.zR(N,t.buffer,l,x)}if(_=="Spt"||_=="SprS"){var J,c=1,p=1;
J={Qc:Math.floor(y/p),bE:Math.floor(r/p)};J.map=new Float32Array(J.Qc*J.bE*2);var d=new Q.q.SB(O.FlRs.v),k=new Float32Array(8192),A=O.SprR.v,$=A<20?.018*A:.36+(A-20)*.128;
if(_=="SprS"){$=.07+[0,.02,.04,.06,.08,.1,.12,.14,.16,.18,.2,.22,.24,.26,.28,.3,.34,.38,.5,.65,.75,.85,1,1.5,2.2,3][A]}for(var m=0;
m<8192;m++)k[m]=(-1+2*d.get())*$*70;for(var K=0;K<r;K++)for(var G=0;G<y;G++){var z=K*y+G<<1;J.map[z]=k[z%7919];
J.map[z+1]=k[(z+1)%7919]}var M=J.map.slice(0),hl=_=="Spt"?O.Smth.v-1:1;if(_=="Spt"&&hl!=0){cz.aeb(J.map,M,y,r,hl);
cz.apE(M,J.map,y,r,hl)}if(_=="SprS"){var j=O.StrL.v>>>1,w=j==0?2:1;cz.aeb(J.map,M,y,r,w);cz.apE(M,J.map,y,r,w);
if(j!=0){var B=cz.ky.indexOf(O.SDir.v.StrD),bB=[1,1,1,0][B],bG=[-1,0,1,1][B],eb=2*j+1,fe=1/eb;for(var K=0;
K<r;K++)for(var G=0;G<y;G++){var z=K*y+G<<1,gB=0,hp=0;for(var m=0;m<eb;m++){var g6=Math.max(0,Math.min(y-1,G-(j+m)*bB)),by=Math.max(0,Math.min(r-1,K-(j+m)*bG)),e7=by*y+g6<<1;
gB+=J.map[e7];hp+=J.map[e7+1]}M[z]=gB*fe;M[z+1]=hp*fe}J.map=M}}Q.Nk.kH(n.buffer,t.buffer,y,r,null,J.map,J.Qc,J.bE,c)}if(_=="BsRl"||_=="PlsW"||_=="Chrm"){var aN=Date.now(),jK=Q.Q(E),f7=jK.slice(0);
Q.mx(n.buffer,jK);var U=O.Dtl.v,hW=O.Smth.v;if(U!=15){Q.OX.ff(jK,f7,V,Math.round((15-U)*.5));Q.Jt(f7,jK)}var km=1.4/y,ca=1.4/r,aU=new Float32Array(E),am=new Float32Array(E),eA=new Float32Array(t.buffer.buffer);
for(var K=0;K<r;K++)for(var G=0;G<y;G++){var m=K*y+G,bB=G==y-1?jK[m]-jK[m-1]:jK[m+1]-jK[m],bG=K==r-1?jK[m]-jK[m-y]:jK[m+y]-jK[m],dj=G*km-.7,cM=K*ca-.7;
aU[m]=bB==0?dj:bB*.4;am[m]=bG==0?cM:bG*.4}if(_=="BsRl"){var b2=(2+cz.vZ.indexOf(O.LghD.v.LghD))*Math.PI*.25,gB=Math.cos(b2);
if(Math.abs(gB)<.1)gB=0;gB=Math.sign(gB);var hp=Math.sin(b2);if(Math.abs(hp)<.1)hp=0;hp=Math.sign(hp);
var cm=1/(gB*gB+hp*hp);for(var K=0;K<r;K++)for(var G=0;G<y;G++){var m=K*y+G,az=Math.max(-1,Math.min(1,gB*aU[m])),j_=Math.max(-1,Math.min(1,hp*am[m]));
f7[m]=128+127*(az+j_)*cm}if(hW!=1){Q.OX.ff(f7,jK,V,Math.round((hW-1)*.5));Q.Jt(jK,f7)}cz.zR(f7,t.buffer,l,x)}else{if(_=="Chrm")hW=5+hW;
if(hW>1)cz.dh(aU,am,eA,V,hW-1);if(_=="PlsW"){var hh=new Uint8Array(aU.buffer);for(var m=0;m<E;m++){var gs=m<<2,bB=aU[m],bG=am[m],fI=1/(Math.sqrt(1+bB*bB)*Math.sqrt(1+bG*bG)),c0=fI*fI,ay=c0*c0,f=~~(255*(ay*ay*c0));
hh[gs+0]=f;hh[gs+1]=f;hh[gs+2]=f;hh[gs+3]=f}t.buffer.set(n.buffer);Q.q.Zn("norm",hh,V,t.buffer,V,V,O.HghS.v/20)}else if(_=="Chrm"){var fC=t.buffer,jQ=y>>>1,fw=r>>>1;
for(var m=0;m<E;m++){var gs=m<<2,bB=aU[m],bG=am[m],aG={x:1,y:0,$t:bB};fW.MJ(aG);var a_={x:0,y:1,$t:bG};
fW.MJ(a_);var el=fW.ai7(aG,a_),dD=1/el.$t,ip=~~Math.max(0,Math.min(y-1,jQ-el.x*dD*jQ)),jn=~~Math.max(0,Math.min(r-1,fw-el.y*dD*fw)),f=jK[jn*y+ip];
fC[gs+0]=f;fC[gs+1]=f;fC[gs+2]=f}}}}if(_=="Gls"||_=="OcnR"||_=="Txtz"){var af=_=="OcnR"?2:cz.D0.indexOf(O.TxtT.v.TxtT),iU=cz.ey(af),hV=iU[0],jK=iU[1],gn=hV.a,fY=hV.n,eb=24,g$=0,bt,jL;
function e1(jY,he,e8){return~~(d6*(jY+he)+8192)&127}var aU=new Float32Array(E),am=new Float32Array(E),eA=new Float32Array(t.buffer.buffer),d6=_=="OcnR"?1/(1+(O.RplS.v-1)*.1):100/O.Scln.v;
if(af==3)d6*=32/22.2;var aN=Date.now(),fO=d6,km=1.4/y,ca=1.4/r;if(_=="Txtz"){fO*=1/255;eb=256}for(var K=0;
K<r;K++){var i$=e1(K,V.y,fY),by=i$+1&127;for(var G=0;G<y;G++){var m=K*y+G,gy=e1(G,V.x,gn),g6=gy+1&127,fT=0,kl=0,fy=0;
if(_=="Txtz"){fT=Q.r.dx(d6*G,d6*K,jK,128,128);kl=Q.r.dx(d6*G,d6*K+1,jK,128,128);fy=Q.r.dx(d6*G+1,d6*K,jK,128,128)}else{fT=jK[i$*gn+gy];
kl=jK[by*gn+gy];fy=jK[i$*gn+g6]}aU[m]=Math.max(-eb,Math.min((fy-fT)*fO,eb));am[m]=Math.max(-eb,Math.min((kl-fT)*fO,eb))}}if(_=="Txtz")cz.aeX(aU,am,eA,V,6);
else cz.dh(aU,am,eA,V,_=="Txtz"?1:_=="OcnR"?3.5/d6:O.Smth.v);if(_=="Txtz")g$=O.InvT.v?-1:1;else if(_=="Gls"){g$=[1,.4,.5,.5][af]*(Math.exp(O.Dstr.v*.155)-1);
if(O.InvT.v)g$=-g$}else{g$=.5*(Math.exp(O.RplM.v*.155)-1)}var fC=t.buffer;if(_=="Txtz"){var b2=(2+cz.vZ.indexOf(O.LghD.v.LghD))*Math.PI*.25,gB=Math.cos(b2),hp=Math.sin(b2);
bt={x:gB,y:hp,$t:0};fW.MJ(bt);jL=O.Rlf.v;jL=jL/4+Math.max(0,(jL-35)*2)}function c_(aG,a_,ew){var eS=Q.q.overF(a_,aG,1),jY=(1-ew)*aG+ew*(ew*a_+(1-ew)*eS);
return jY*255}for(var K=0;K<r;K++)for(var G=0;G<y;G++){var m=K*y+G,gs=m<<2,bB=aU[m],bG=am[m],aG={x:1,y:0,$t:bB};
fW.MJ(aG);var a_={x:0,y:1,$t:bG};fW.MJ(a_);var el=fW.ai7(aG,a_);if(_=="Txtz"){var hr=fW.a5K(el,bt)*g$,ew=1,f=1;
if(hr<0){f=0;hr=-hr}ew=Math.min(1,hr*jL);fC[gs+0]=~~c_(n.buffer[gs]*(1/255),f,ew);fC[gs+1]=~~c_(n.buffer[gs+1]*(1/255),f,ew);
fC[gs+2]=~~c_(n.buffer[gs+2]*(1/255),f,ew)}else{var dD=g$/el.$t,ip=~~Math.max(0,Math.min(y-1,G-el.x*dD)),jn=~~Math.max(0,Math.min(r-1,K-el.y*dD)),dL=jn*y+ip<<2;
fC[gs+0]=n.buffer[dL];fC[gs+1]=n.buffer[dL+1];fC[gs+2]=n.buffer[dL+2]}}}if(_=="PntD"){var cf=O.Shrp.v*.4,eo=O.BrsT.v.BrsT,iz={BrSm:[.75],BrsL:[.85],BrDR:[.68],BrsW:[.75],BrbW:[.78],BrSp:[.62]}[eo],kj=Math.round(O.Sz.v*.5);
Q.ke.xt=iz[0];var hL=Q.ke.s0;Q.ke.a2(n.buffer,t.buffer,y,r,kj,hL,[]);var ar=[-.7,-1,-.7,-1,10,-1,-.7,-1,-.7];
ar=Q.u3.Fi(ar);var bD=t.buffer.slice(0);Q.u3.G4(bD,t.buffer,y,r,ar,0);for(var m=0;m<n.buffer.length;
m++){var jC=t.buffer[m]-bD[m];t.buffer[m]=Math.max(0,Math.min(255,bD[m]+cf*jC))}}if(_=="GlwE"){var eu=t.buffer.slice(0);
Q.ke.xt=.5;var hL=Q.ke.s0;Q.ke.a2(n.buffer,eu,y,r,O.Smth.v>>>1,hL,[]);Q.u3.NF(eu,t.buffer,y,r);Q.Jt(t.buffer,eu);
Q.sJ(eu);Q.qs(eu,4278190080,16777215);Q.ke.a2(eu,t.buffer,y,r,O.EdgW.v>>>1,Q.ke.WM,[]);var gx=O.EdgB.v/10;
for(var m=0;m<eu.length;m++){if((m&3)==3)continue;var eS=t.buffer[m];t.buffer[m]=Math.max(0,Math.min(255,eS*gx))}}if(_=="StnG"){Q.yk.av3(n.buffer,y,r,t.buffer,O.ClSz.v,[Math.round(l.o),Math.round(l.J),Math.round(l.k)],O.BrdT.v)}if(_=="HlfS"){var fa=O.HlSz.v,h6=fa*2+1,bw=O.Cntr.v,bf=cz.JJ.indexOf(O.ScrT.v.ScrT),E=y*r,fq=E*4,ia=Q.Q(E),gI=n.buffer,jk=0,a9=0;
cz.bC(gI,ia);var jO=ia.slice(0);Q.OX.nR(jO,ia,V,fa);var aq=Math.PI/h6,kb=new Float64Array(y),gB=new Float64Array(y),dB=new Float64Array(2*y);
for(var G=0;G<y;G++){var gy=(G-(y>>>1))*aq;kb[G]=gy*gy;gB[G]=Math.cos(gy);var bB=G<<1;dB[bB]=Math.sin(bB*(1/4.5));
dB[bB+1]=Math.sin((bB+1)*(1/4.5))}for(var K=0;K<r;K++){var i$=(K-(r>>>1))*aq,hp=Math.cos(i$),dg=i$*i$;
for(var G=0;G<y;G++){var f=hp;if(bf==0){var jl=.5+Math.sqrt(kb[G]+dg)*4.5;f=dB[~~jl]}else if(bf==1){f=gB[G]*hp}var m=K*y+G,gX=ia[m]*(.75+.25*f),ew=gI[(m<<2)+3]*(1/255),dl=Math.max(0,Math.min(255,~~gX));
jk+=dl*ew,a9+=ew;ia[m]=dl}}jk/=a9;var ij=128+1.26*(jk-128),gx=.08+.25*Math.abs((128-jk)/128),bQ=1+gx*bw;
for(var m=0;m<E;m++){var gX=ij+(ia[m]-ij)*bQ;ia[m]=Math.max(0,Math.min(255,~~gX))}if(bw>46)Q.round(ia);
cz.zR(ia,t.buffer,l,x)}for(var m=0;m<n.buffer.length;m+=4)t.buffer[m+3]=n.buffer[m+3]};cz.zR=function(_,n,O,l){var x=_.length,t=O.o,h=O.J,V=O.k,y=l.o,r=l.J,E=l.k;
for(var m=0;m<x;m++){var a=_[m]*(1/255),S=1-a,e=m<<2;n[e]=~~(t*S+y*a);n[e+1]=~~(h*S+r*a);n[e+2]=~~(V*S+E*a)}};
cz.ey=function(_){if(_==6)_=2;var n="blocks canvas frosted tinylens brick burlap".split(" ")[_];if(cz.Lk==null)cz.Lk=[];
if(cz.Lk[_]==null){var O,l;if(_==2){l=new a8(0,0,128,128);var x=ie.gV("AdNs");x.Mnch.v=!0;x.Dstr.v.Dstr="Gsn";
x.Nose.v.val=50;var O=Q.Q(l.O()*4),t=O.slice(0);new Uint32Array(t.buffer).fill(4286611584);ie.Er("AdNs",{buffer:t,rect:l},x,0,0,{buffer:O,rect:l})}else{var h=dx.nG.get("tex/"+n,!0)[0];
l=h.n5;O=new Uint8Array(h.data)}var V=Q.Q(l.O());Q.nV(O,V,0);cz.Lk[_]=[l,V]}return cz.Lk[_]};cz.dh=function(_,n,O,l,x){if(x<=1){x=Math.round(x);
cz.aeX(_,n,O,l,[1,16,4][x]);return}var t=x*.42;if(_){Q.OX.ad(_,O,l,t,3);_.set(O)}if(n){Q.OX.ad(n,O,l,t,3);
n.set(O)}};cz.aeX=function(_,n,O,l,x){var t=Q.u3.Fi([1,2,1,2,x,2,1,2,1]);if(_){O.set(_);Q.u3.h2(_,O,l.a,l.n,t);
_.set(O)}if(n){O.set(n);Q.u3.h2(n,O,l.a,l.n,t);n.set(O)}};cz.Yc=function(_){if(_==null)return new aW(0,0);
var n=0,O=_.GEfs?_.GEfs.v:[{v:_}];for(var m=0;m<O.length;m++){var l=O[m].v,t=1e4;if(l.GELv&&!l.GELv.v)continue;
var x=l.GEfk.v.GEft;if(x=="GlwE"||x=="Phtc"||x=="BsRl"||x=="PlsW"||x=="Chrm"||x=="Gls"||x=="OcnR")t=0;
n=Math.max(n,t)}return new aW(n,n)};cz.an8=function(_){var n=[0,0,0,0,0,0,0,0,0,0,0,0,0],O=[0,.6,.7,.8,1,1.2,1.4,1.6,1.8,2,2.2,2.6,3,4,5][_];
for(var m=0;m<13;m++){var l=m-6;n[m]=1/(O*Math.sqrt(2*Math.PI))*Math.exp(-.5*(l/O)*(l/O))}return n};
cz.aeb=function(_,n,O,l,x){var t=cz.an8(x),h=6,V=13;for(var y=0;y<l;y++)for(var r=0;r<O;r++){var E=y*O+r<<1,a=0,S=0;
for(var m=0;m<V;m++){var e=r+m-h,P=e<0?0:e>=O?O-1:e,b=(y*O+P)*2,T=t[m];a+=T*_[b];S+=T*_[b+1]}n[E]=a;
n[E+1]=S}};cz.apE=function(_,n,O,l,x){var t=cz.an8(x),h=6,V=13;for(var y=0;y<l;y++)for(var r=0;r<O;r++){var E=y*O+r<<1,a=0,S=0;
for(var m=0;m<V;m++){var e=y+m-h,P=e<0?0:e>=l?l-1:e,b=(P*O+r)*2,T=t[m];a+=T*_[b];S+=T*_[b+1]}n[E]=a;
n[E+1]=S}};function b3(){}b3.UU=[2,5,5,7,4,4];b3.qX="norm,diss,dark,mul ,idiv,lbrn,dkCl,lite,scrn,div ,lddg,lgCl,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv,hue ,sat ,colr,lum ".split(",");
b3.AM="Nrml Dslv Drkn Mltp CBrn linearBurn darkerColor Lghn Scrn CDdg linearDodge lighterColor Ovrl SftL HrdL vividLight linearLight pinLight hardMix Dfrn Xclu blendSubtraction blendDivide H Strt Clr Lmns".split(" ");
b3.Fw=[[15,10,0],[15,10,1],[15,10,2],[15,10,3],[15,10,4],[15,10,5],[15,10,6],[15,10,7],[15,10,8],[15,10,9],[15,10,10],[15,10,11],[15,10,12],[15,10,13],[15,10,14],[15,10,15],[15,10,16],[15,10,17],[15,10,18],[15,10,19],[15,10,20],[15,10,21],[15,10,22],[15,10,23],[15,10,24],[15,10,25],[15,10,26]];
b3.xG=["normal",null,"darken","multiply","color-burn",null,null,"lighten","screen","color-dodge",null,null,"overlay","soft-light","hard-light",null,null,null,null,"difference","exclusion",null,null,"hue","saturation","color","luminosity"];
b3.SY=function(_){if(_=="passThrough")return"pass";return b3.qX[b3.AM.indexOf(_)]};b3.Aa=function(_){if(_=="pass")return"passThrough";
return b3.AM[b3.qX.indexOf(_)]};b3.getName=function(_){return b3.Fw[b3.qX.indexOf(_)]};function v(){this.rect=null;
this.buffer=null;this.to="norm";this.opacity=255;this._t=!1;this.FQ=0;this.Ac=0;this.DZ=!0;this.D2=[];
for(var m=0;m<10;m++)this.D2.push(0,0,255,255);this.name=null;this.add={};this._r=null;this.lL=null;
this.z=null;this.VI=null;this.a9q=30;this.oJ=null;this.OR=null;this.Dd=null;this.L4=null;this.LN=0;this.MZ=!1;
this.fa=null;this.Fy=new v.ql}v.ql=function(){this.dO=!0;this.Ag=!0;this.MI=Q.Q(0);this.axn=Q.Q(0);this.Ie=null;
this.xB={};this.avY=null;this.pd=null;this.Bp=null;this.c6=null;this.hR=null;this.Xm=null;this.Th=null;
this.tW=null;this.Pa=null;this.g6=null;this.A8=null;this.Oh=null;this.q4=!1};v.ql.prototype.ajX=function(){this.dO=null;
this.Ag=!1;this.Ie=null;this.q4=ex.kj};v.ql.prototype.avn=function(){fW.anZ(this.xB);this.MI=Q.Q(0);
this.axn=Q.Q(0);if(this.c6)this.c6.delete();if(this.hR)this.hR.delete();this.c6=null;this.hR=null;var _=[this.Xm,this.Th,this.tW,this.Pa,this.g6,this.A8];
for(var m=0;m<6;m++)if(_[m]!=null&&_[m]instanceof ex.eO)_[m].delete();this.Xm=null;this.Th=null;this.tW=null;
this.Pa=null;this.g6=null;this.A8=null};v.prototype.U=function(_){if(_==null)_=this.rect.clone();if(this.Fy.Ie==null)this.Fy.Ie=_;
else this.Fy.Ie=this.Fy.Ie.uG(_)};v.prototype.kx=function(){return this.add.lsct==bN.GV||this.add.lsct==bN.SE};
v.prototype.uq=function(){var _=this.add;return _.SoCo!=null||_.GdFl!=null||_.PtFl!=null};v.prototype.a6u=function(){var _=this.add.lmfx;
if(_==null)return;var n=["GrFl","patternFill"];for(var m=0;m<n.length;m++){var O=aF.Ck[aF.order.indexOf(n[m])],l=_[O].v;
if(l.length==0)continue;for(var x=0;x<l.length;x++){var t=l[x].v;if(t.enab.v&&(t.Algn==null||!t.Algn.v))this.Fy.Ag=!0}}};
v.prototype.au4=function(){var _=this.z,n=this.Fy.dO;if(this.uq())_=this.Ek();if(!ex.kj)return _.pp();
if(this.Fy.hR==null||n||ex.kj!=this.Fy.q4){var O=_.kf(),l=this.Fy.hR,x=null;if(n!=!0&&n!=null){x=n.clone();
x.offset(-O.x,-O.y)}if(l==null||l.a!=O.a||l.n!=O.n){l=this.Fy.hR=new ex.Yq(O.a,O.n);x=null}l.set(_.pp(),x)}return this.Fy.hR};
v.prototype.a2J=function(_){var n=this.rect,O=this.buffer;if(!ex.kj){var l=this.Lb(_,O,n);if(l){O=l.sw;
n=l.rect}return O}if(this.Fy.Ie!=null||ex.kj!=this.Fy.q4){var l=this.Lb(_,O,n);if(l){O=l.sw;n=l.rect}var x=n;
if(ex.kj!=this.Fy.q4||this.Fy.c6==null||this.Fy.c6.a!=x.a||this.Fy.c6.n!=x.n){if(this.Fy.c6)this.Fy.c6.delete();
this.Fy.c6=new ex.eO(x.a,x.n);this.Fy.c6.set(O)}else{var t=this.Fy.Ie.clone();t.offset(-n.x,-n.y);this.Fy.c6.set(O,t)}}return this.Fy.c6};
v.prototype.kl=function(){var _=this.z;if(this.uq())_=this.Ek();return _!=null&&_.isEnabled&&(!_.rect.wk()||_.JU()!=255)};
v.prototype.Lb=function(_,n,O){if(this.lx()){var l=this.vO(_);if(l.z&&l.z.isEnabled&&(!l.z.rect.wk()||l.z.color==0)){var x=this.add.SoLd.filterFX.v;
l.z.zG=x.filterMaskDensity?x.filterMaskDensity.v:255;l.z.Vw=x.filterMaskFeather?x.filterMaskFeather.v:0;
var t=l.buffer,h=l.rect;if(h.O()<O.O()){h=O;t=Q.Q(h.O()*4);Q.zw(l.buffer,l.rect,t,h)}var V=l.z.H9(O);
Q.sJ(V);n=n.slice(0);Q.q.ZT(t,h,n,O,V,O,0,O,1);return{sw:n,rect:O}}}};v.prototype.alU=function(){var _={Dz:!1,jy:!1,wa:0,rE:0};
if(this.add.vmsk&&this.add.vmsk.isEnabled)_.jy=!0;if(this.Ek()&&this.Ek().isEnabled)_.Dz=!0;if(_.Dz&&_.jy){_.wa=this.Ek().rect.x-this.add.vmsk.Ek().rect.x;
_.rE=this.Ek().rect.y-this.add.vmsk.Ek().rect.y}return _};v.prototype.bf=function(_,n){this.Fy.hU=null;
if(n&&this.Ek().Vw!=0){n=n.clone();var O=Math.round(this.Ek().Vw*2.4);n.nQ(O,O)}var l=!1;if(this.add.lsct==bN.eg)return;
var x=this,t=this.Ek()!=null&&this.Ek().na,h=this.add.vmsk!=null&&this.add.vmsk.na,V=this.alU(),y=JSON.stringify(V)!=this.Fy.avY||V.Dz&&t||V.jy&&h;
if(y){if(V.jy){var r=this.add.vmsk.Ek();if(V.Dz){this.z=this.Ek().kU(r);this.Fy.pd=new aW(this.z.rect.x-this.Ek().rect.x,this.z.rect.y-this.Ek().rect.y)}else this.z=r}if(this.z)l=!0;
if(this.z)this.Fy.Bp=new aW(this.rect.x-this.z.rect.x,this.rect.y-this.z.rect.y);if(V.Dz)this.Ek().na=!1;
if(V.jy)this.add.vmsk.na=!1;this.U(n)}else{if(V.Dz&&V.jy){this.z.rect.x=this.Ek().rect.x+this.Fy.pd.x;
this.z.rect.y=this.Ek().rect.y+this.Fy.pd.y}}if(x.uq()){this.Ih(_)}if(x.Jq()){var E;if(this.z)E=new aW(this.rect.x-this.z.rect.x,this.rect.y-this.z.rect.y);
if(this.z&&this.z.isEnabled&&(this.Fy.Bp==null||!E.yO(this.Fy.Bp))){this.Fy.Bp=E;this.U(n);l=!0}}if(a3.get(x.add)!=null)l=!0;
if(l){var a=this.Fy.dO;if(n&&a&&a!=!0)a=a.uG(n);else a=n?n:!0;this.Fy.dO=a}this.Fy.avY=JSON.stringify(V)};
v.prototype.Ih=function(_){var n=this,O=n.add.vstk,l=new a8(0,0,_.a,_.n),x,t=n.add.vmsk?this.add.vmsk.Ek():null,y=!0,a;
if(t&&t.isEnabled&&t.JU()==0)x=t.kf().clone();else x=l;var h=n.Ek();if(h&&h.isEnabled&&h.JU()==0)x=x.v6(n.z.kf());
var V=t&&O;if(O&&(!O.strokeEnabled.v||O.strokeStyleLineWidth.v.val==0))V=!1;if(O&&!O.fillEnabled.v&&V)y=!1;
var r=Q.Q(x.O()*4);if(y){if(n.add.SoCo)fW.Cm(r,n.add.SoCo.Clr.v);if(n.add.GdFl){var E=t&&t.color==0?Q.M.OY(n.add.vmsk.i,null,!0):null;
fW.ae(n.add.GdFl,r,x,_,null,E)}if(n.add.PtFl)fW.Iv(n.add.PtFl,r,x,_.add.Patt,n.add.fxrp)}if(V)a=aF.eo._R.indexOf(O.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if(t){var S=t.zG;if(V)t.zG=255;var e=Q.Q(x.O());if(t.JU()!=0)e.fill(Math.round(t.JU()));if(t&&t.isEnabled){var P=t.kf(),b=t.pp();
if(P.yO(x))Q.Jt(b,e);else Q.pc(b,P,e,x)}if(V&&a==2){}else{if(n.add.SoCo&&y){Q.$c(e,r,3)}else Q.Eg(e,x,r,x)}if(V)t.zG=S}n.buffer=r;
n.rect=x;if(V){var T=O.strokeStyleContent.v,C=aF.eo.yz.indexOf(T.classID),Z=this.add.vmsk.Ek(O);if(a!=0&&!n.rect.yO(l))n.extend(n.rect.uG(Z.kf()));
var S=Z.zG;Z.zG=255;var W=Z.H9(n.rect);Z.zG=S;if(Z.color==255)Q.sJ(W);var s=Q.Q(n.rect.O()*4);if(C==0)fW.Cm(s,T.Clr.v);
if(C==1)fW.ae(T,s,n.rect,_,null,t.color==0?t.rect:null);if(C==2)fW.Iv(T,s,n.rect,_.add.Patt,n.add.fxrp);
var f=O.strokeStyleOpacity.v.val/100;if(f!=1)Q.ai(W,f);if(Z.color==255)a=2-a;if(a<2){Q.q.ZT(s,n.rect,n.buffer,n.rect,W,n.rect,255,n.rect,1,!1);
if(a==0)Q.iB(e,n.buffer)}if(a==2){Q.iB(W,s);Q.sJ(e);Q.q.ZT(s,n.rect,n.buffer,n.rect,e,x,255,n.rect,1,!1);
Q.sJ(e)}if(Z.zG!=255){var q=s.slice(0);Q.qs(q,4278190080,16777215);Q.q.Zn("norm",q,n.rect,n.buffer,n.rect,n.rect,1-Z.zG/255)}S=t.zG;
t.zG=255;this.axn=t.H9(n.rect);t.zG=S}this.U()};v.prototype.Ga=function(_,n,O){var l=this,x=l.add.SoLd.Idnt.v,t=l.add.SoLd,h=Q.p.Vx(D.D6.Zz(t.nonAffineTransform)),V=_.Fe(x,t.Crop?t.Crop.v:null,[h.a,h.n],t.Impr.v.classID,O),e=1;
if(V==null)return;var y=V.lf;t.Sz.v.Wdth.v=y[1].a;t.Sz.v.Hght.v=y[1].n;var r=V.pa==null?t.Rslt.v.val:V.pa,E=t.warp.v,a=D.D6.Zz(t.nonAffineTransform),S=y[1].clone();
S.a*=e;S.n*=e;S.x=(y[1].a-S.a)/2;S.y=(y[1].n-S.n)/2;var P=Q.r.pI(a,S);if(E&&!Q.Q6.Z1(E)){var h=Q.p.Vx(Q.Q6.zE(E)),b=h.x,T=h.y,C=1/h.a,Z=1/h.n;
P=Q.r.pI(a);P=Q.r.kU(P,[C,0,-b*C,0,Z,-T*Z,0,0])}var W=D.D6.ed(y,n?0:1,P,E,null,null,null,n);if(W==null){l.buffer=Q.Q();
l.rect=new a8}else if(l.lx()){var s=l.vO(_);s.buffer=W.buffer;s.rect=W.rect.clone();this.W$(_,n)}else{l.buffer=W.buffer;
l.rect=W.rect}l.bf(_);l.U();_.U()};v.prototype.W$=function(_,n){if(n==null)n=!1;var O=this.vO(_),l=this.add.SoLd.filterFX.v,x=ie.a5J(l),t=new a8(0,0,_.a,_.n),h=O.rect.uG(t),V=O.rect.clone();
V.nQ(x.x,x.y);var y={buffer:null,rect:h.v6(V)};y.buffer=Q.Q(y.rect.O()*4);Q.zw(O.buffer,O.rect,y.buffer,y.rect);
if(l.enab.v&&n==!1){var r=l.filterFXList.v;for(var m=0;m<r.length;m++){var E=r[m].v;if(E.enab.v==!1)continue;
var a=E.blendOptions.v,S=b3.SY(a.Md.v.BlnM),e=a.Opct.v.val/100,P=Q.N.JU(E.FrgC.v),b=Q.N.JU(E.BckC.v),T=ie.CH(E),C={buffer:Q.Q(y.buffer.length),rect:y.rect.clone()},Z=E.Fltr?E.Fltr.v:null;
if(a3.Js[T]!=null){var W=a3.Js[T],s=a3.ja(W,Z);if(s)a3.Er(s,y.buffer,C.buffer,y.rect)}else ie.Er(T,y,Z,P,b,C,[_.add.lnk2?_.add.lnk2:[],this.Ek(),_.U_]);
if(S=="norm"&&e==1)y=C;else if(S=="norm"){Q.q.ZT(C.buffer,C.rect,y.buffer,y.rect,null,null,null,y.rect,e)}else{Q.q.Zn(S,C.buffer,C.rect,y.buffer,y.rect,y.rect,e)}}}this.rect=y.rect;
this.buffer=y.buffer;this.AO();this.U();_.U()};v.prototype.P5=function(_,n,O){this.fa=this.anK(_,n,O)};
v.prototype.cH=function(_,n){var O=this.anK(_,n,!0);if(O==null)return null;var l={_$:O.LN,r0:O.nt,rect:O.xF};
if(l._$==1||l._$==3){var x=l.rect,t=Q.Q(x.a*x.n*4);Q.$c(l.r0,t,0);Q.$c(l.r0,t,1);Q.$c(l.r0,t,2);Q.c2(_.P.channel,_.P.rect,t,x);
l.r0=t}return l};v.prototype.anK=function(_,n,O){var l,x,t,h,V,y,r;if(this.LN<=0){var E=Q.Q(this.rect.O());
Q.nV(this.buffer,E,3);l=Q.FV.dz(n,{channel:E,rect:this.rect},3);if(l==null)return null;var a=Q.pF(l.channel,l.rect);
h=l.rect.clone();V=this.rect.clone();x=Q.Q(h.O()*4);Q.zw(this.buffer,V,x,h);Q.$c(l.channel,x,3);t=this.buffer.slice(0);
if(!O){var S=n.channel.slice(0);Q.sJ(S);Q.Eg(S,n.rect,t,V)}y=this.buffer.slice(0);r=this.rect.clone()}if(this.LN==1||this.LN==3){var e=this.LN==1?this.Ek():this.vO(_).z;
h=n.rect.clone();V=e.rect.clone();x=e.a5O(h);var t=e.channel.slice(0);if(!O)Q.q.A7(e.color==255?Q.ou(h.O()):Q.A2(h.O()),h,t,V,n.channel,h,1);
y=e.channel.slice(0);r=e.rect.clone()}return{LN:this.LN,nt:x,xF:h,hT:t,pr:V,CQ:y,Fl:r}};v.prototype.TR=function(_,n){var O=this.fa;
if(O.LN==0){this.rect=O.Fl;this.buffer=O.CQ;this.U()}if(O.LN==1||O.LN==3){var l=O.LN==1?this.Ek():this.vO(_).z;
l.channel=O.CQ;l.rect=O.Fl;if(this.LN==1){l.na=!0;this.bf(_)}if(this.LN==3)this.U()}this.fa=n};v.prototype.cu=function(_,n){if(this.LN<=0&&n.rect.yO(this.rect)){var O=Q.Q(this.rect.O());
Q.nV(this.buffer,O,3);if(Q.yO(_.P.channel,O)){var l=this.rect,x=this.buffer;this.fa={LN:this.LN,nt:x.slice(0),xF:l.clone(),hT:Q.Q(0),pr:new a8,CQ:Q.Q(0),Fl:new a8};
return!0}}var t=this.fa;if(t==null)return!1;if(t.LN!=this.LN)return!1;if(!n.rect.yO(t.xF))return!1;var h=t.pr.uG(t.xF);
if(t.LN<=0){if(!h.yO(this.rect))return!1;var V=Q.Q(t.nt.length>>2);Q.nV(t.nt,V,3);if(!Q.yO(n.channel,V))return!1;
var y=Q.Q(h.a*h.n*4);Q.zw(t.hT,t.pr,y,h);Q.q.Zn("norm",t.nt,t.xF,y,h,h,1);return Q.yO(y,this.buffer)}if(t.LN==1||t.LN==3){var r=t.LN==1?this.Ek():this.vO(_).z;
if(!h.yO(r.rect))return!1;var E=Q.Q(h.O());E.fill(r.color);Q.pc(t.hT,t.pr,E,h);Q.q.A7(t.nt,t.xF,E,h,n.channel,h,1);
return Q.yO(E,r.channel)}};v.prototype.Ub=function(_,n,O,l){var x=this.fa;x.xF.offset(n,O);var t=x.pr.uG(x.xF);
if(x.LN<=0){var h=Q.Q(t.O()*4);Q.zw(x.hT,x.pr,h,t);Q.q.Zn("norm",x.nt,x.xF,h,t,t,1);this.buffer=h;this.rect=t;
this.U()}else{var V=this.LN==1?this.Ek():this.vO(_).z,y=Q.Q(t.O());y.fill(V.color);Q.pc(x.hT,x.pr,y,t);
Q.q.A7(x.nt,x.xF,y,t,l.channel,t,1);V.channel=y;V.rect=t.clone();if(this.LN==1){V.na=!0;this.bf(_)}if(this.LN==3)this.U()}};
v.prototype.au3=function(){var _=[-1,0,1,2];if(this.z)_.push(-2);if(this.VI)_.push(-3);return _};v.prototype.getName=function(){return this.add.luni?this.add.luni:this.name};
v.prototype.iA=function(ab){this.add.luni=this.name=ab};v.prototype.lb=function(_){var n=this.add.lnsr,O=this.add.TySh;
if(n=="rend"&&O){var l=b$.om(O.m1);this.iA(l.slice(0,l.length-1).replace(/(?:\r\n|\r|\n)/g," ").slice(0,32))}};
v.prototype.Pn=function(){return(this.FQ&1<<1)==0};v.prototype.Jq=function(){return(this.FQ&1<<4)==0};
v.prototype.wN=function(){return(this.FQ&1<<5)!=0};v.prototype.aiL=function(){var _=this;if(_.add.lnsr!="bgnd"){_.add.lnsr="bgnd";
_.iA("Background");_.add.lspf=1<<2}};v.prototype.ar2=function(){var _=this;if(_.add.lnsr=="bgnd"){delete _.add.lnsr;
_.iA("Layer 0");_.add.lspf=0}};v.prototype.bj=function(_){var n=this.add.lspf;return n==null?!1:(n>>_&1)!=0};
v.prototype.ND=function(_){if(_&&!this.Pn())this.FQ-=2;if(!_&&this.Pn())this.FQ+=2};v.prototype.XE=function(){var _=this.add.lmfx;
if(_==null)return!1;for(var n in _){if(n=="masterFXSwitch")continue;if(n=="Scl")continue;if(n=="classID")continue;
if(_[n].v.length>0)return!0}return!1};v.prototype.lx=function(){return this.add.SoLd!=null&&this.add.SoLd.filterFX!=null};
v.prototype.yG=function(){var _=this.add.lmfx;if(_==null)return!1;if(!_.masterFXSwitch.v)return!1;for(var n in _){if(n=="masterFXSwitch")continue;
if(n=="Scl")continue;if(n=="classID")continue;var O=_[n].v;for(var m=0;m<O.length;m++)if(O[m].v.enab.v)return!0}return!1};
v.prototype.Kr=function(_,n,O,l){var x=new a8,t=this.PO(_,O,l);if(t.indexOf(0)!=-1)x=x.uG(this.rect);
if(t.indexOf(1)!=-1){var h=this.Ek(),V=h.kf();x=O&&h.JU()==0?x.wk()?V:x.v6(V):x.uG(V)}if(t.indexOf(2)!=-1){var y=this.add.vmsk,r=this.add.vstk,E;
if(n){E=Q.M.OY(y.i,y.g.length!=0?y.g:null)}else E=Q.M.OY(y.i);if(!l&&r&&r.strokeEnabled.v){var a=r.strokeStyleLineAlignment.v.strokeStyleLineAlignment,S=r.strokeStyleLineJoinType.v.strokeStyleLineJoinType;
if(a!="strokeStyleAlignInside"){var e=r.strokeStyleLineWidth.v.val;if(S=="strokeStyleMiterJoin")E=new a8(0,0,_.a,_.n);
else E.nQ(e,e)}}x=x.uG(E)}if(t.indexOf(3)!=-1)x=x.uG(this.vO(_).z.kf());if(t.length==0&&this.uq())x=l?new a8(0,0,0,0):new a8(0,0,_.a,_.n);
return x};v.prototype.pn=function(){var _=this.add.artb,n=_.artboardBackgroundType.v,O=0;if(n==1)O=4294967295;
else if(n==2)O=4278190080;else if(n==3)O=0;else if(n==4){O=_.Clr.v;O=255<<24|O.Bl.v<<16|O.Grn.v<<8|O.Rd.v}else throw n;
return O};v.prototype.DM=function(){var _=this.add.artb.artboardRect.v,n=_.Btom.v,O=_.Left.v,l=_.Rght.v,top=_.Top.v;
return new a8(O,top,l-O,n-top)};v.prototype.C_=function(_){var n=v.XY(_);if(this.add.artb==null)this.add.artb={classID:"artboard",artboardRect:{t:"Objc",v:null},artboardBackgroundType:{t:"long",v:1}};
this.add.artb.artboardRect.v=n};v.XY=function(_){var n={classID:"classFloatRect",Top:{t:"doub",v:0},Left:{t:"doub",v:0},Btom:{t:"doub",v:0},Rght:{t:"doub",v:0}};
n.Btom.v=_.y+_.n;n.Left.v=_.x;n.Rght.v=_.x+_.a;n.Top.v=_.y;return n};v.prototype.PO=function(_,n,O){var l=[],x=this;
if(!n&&x.MZ&&O){l.push(2)}else if(x.LN<=0||n){if(x.Jq())if(!this.rect.wk())l.push(0);if(x.Ek()&&!x.Ek().rect.wk())if(x.Ek().Cu||n)l.push(1);
if(x.add.vmsk)if(x.add.vmsk.Cu||n)l.push(2);if(x.lx()&&x.vO(_).z&&!x.vO(_).z.rect.wk())l.push(3)}else if(x.LN==1){l.push(1);
if(x.Ek().Cu&&!x.Ek().rect.wk()){if(x.Jq())if(!this.rect.wk())l.push(0);if(x.add.vmsk)if(x.add.vmsk.Cu)l.push(2)}}else if(x.LN==3&&!x.vO(_).z.rect.wk())l.push(3);
if(x.add.artb&&l.indexOf(0)==-1)l.push(0);l.sort();return l};v.prototype.Ek=function(){var _=this;return _.VI?_.VI:_.add.vmsk&&_.add.vmsk.isEnabled?null:_.z};
v.prototype.vO=function(_){var n=this.add.SoLd.placed.v,O=_.add.FEid;if(O==null)return null;for(var m=0;
m<O.length;m++)if(O[m].id==n)return O[m];return null};v.prototype.extend=function(_){Q.aqz(this,_)};
v.prototype.aeh=function(_,n,O){var l=_.clone();if(this.yG()){var x=this.add.lmfx,t=n.root.yJ(n.B.indexOf(this)),h=x.gradientFillMulti.v,V=!1;
for(var m=0;m<h.length;m++)if(h[m].v.enab.v&&h[m].v.Algn.v)V=!0;if(V)l=l.uG(t.kf(n,!1));var y=fW.ag8(this.add.lmfx,n,O);
l.offset(y.x,y.y);l.a+=y.a;l.n+=y.n}return l};v.prototype.AO=function(){if(this.Jq())Q.M_(this);var _=this.Ek();
if(_)_.AO()};v.prototype.clone=function(){var _=new v;_.rect=this.rect.clone();_.buffer=this.buffer.slice(0);
_.to=this.to;_.opacity=this.opacity;_._t=this._t;_.FQ=this.FQ;_.name=this.name;_.D2=this.D2.slice(0);
if(this.z)_.z=this.z.clone();if(this.VI)_.VI=this.VI.clone();for(var n in this.add)_.add[n]=dk.clone(n,this.add[n]);
return _};v.prototype.sr=function(_){var n=this;if(n.add.TySh)delete n.add.TySh;if(n.add.SoLd){var O=this.Lb(_,this.buffer,this.rect);
if(O){this.buffer=O.sw;this.rect=O.rect;this.U()}delete n.add.SoLd}if(n.add.SoCo||n.add.GdFl||n.add.PtFl){if(n.add.vogk)delete n.add.vogk;
if(n.add.SoCo)delete n.add.SoCo;if(n.add.GdFl)delete n.add.GdFl;if(n.add.PtFl)delete n.add.PtFl;if(n.add.vmsk){console.log(n.VI,n.z);
delete n.add.vmsk;if(n.VI==null&&n.z)delete n.z;else if(n.VI!=null&&n.z!=null){n.z=n.VI;delete n.VI}}}if(!n.kx()&&a3.get(n.add)==null&&!this.Jq())this.FQ-=16};
v.prototype.mq=function(_){var n=255,O=0;if(_==2){var l=this.add.SoLd.filterFX.v;if(l.filterMaskDensity)n=l.filterMaskDensity.v;
if(l.filterMaskFeather)O=l.filterMaskFeather.v}else{var x=_==0?this.Ek():this.add.vmsk;n=x.zG;O=x.Vw}return{z_:_,ww:n,g$:O}};
v.prototype.a8d=function(_){if(_.z_==2){var n=this.add.SoLd.filterFX.v;if(_.ww==255)delete n.filterMaskDensity;
else n.filterMaskDensity={t:"long",v:_.ww};if(_.g$==0)delete n.filterMaskFeather;else n.filterMaskFeather={t:"doub",v:_.g$};
this.U()}else{var O=_.z_==0?this.Ek():this.add.vmsk;O.zG=_.ww;O.Vw=_.g$;O.na=!0}};v.prototype.W0=function(){var _=this,n=_.add.vmsk;
if(n==null)return;_.add.vogk=Q.X.a59(n.i)};v.W0=function(_){var n=[],O=Q.M.Cw(_);for(var l=0;l<O;l++)n.push(Q.X.A2());
return n};var bN={IE:0,GV:1,SE:2,eg:3};v.Pt=function(){this.name="Mask";this.K_=!1;this.r1={o:255,J:0,k:0};
this.D1=50;this.TO=0;this.color=255;this.Cu=!0;this.isEnabled=!0;this.pj=!1;this.zG=255;this.Vw=0;this.rect=new a8;
this.channel=Q.Q(0);this.j5=null;this.a7i=null;this.na=!0};v.Pt.prototype.kU=function(_){if(!this.isEnabled)return _;
var n=new v.Pt;n.color=Math.round(this.JU()*_.JU()/255);if(this.JU()==0&&_.JU()==0)n.rect=this.kf().v6(_.kf());
else if(_.JU()==0)n.rect=_.kf().clone();else if(this.JU()==0)n.rect=this.kf().clone();else n.rect=this.kf().uG(_.kf());
n.channel=this.H9(n.rect);n.zG=255;n.Vw=0;var O=_.H9(n.rect);Q.afC(O,n.rect,n.channel,n.rect);return n};
v.Pt.prototype.kf=function(){if(this.Vw==0)return this.rect;var _=Math.ceil(this.Vw*2.2),n=this.rect.clone();
if(n.y==0){if(n.x==0)n.a+=_;else n.nQ(_,0);n.n+=_}else n.nQ(_,_);return n};v.Pt.prototype.pp=function(){if(this.Vw==0&&this.zG==255)return this.channel;
if(this.Vw==0){var _=this.channel.slice(0);Q.sJ(_);Q.ai(_,this.zG/255);Q.sJ(_);return _}var n=this.kf(),O=this.a5O(n),_=Q.Q(n.O());
Q.OX.ff(O,_,n,this.Vw);if(this.zG!=255){Q.sJ(_);Q.ai(_,this.zG/255);Q.sJ(_)}return _};v.Pt.prototype.JU=function(){return Math.round(255-(255-this.color)*(this.zG/255))};
v.Pt.prototype.extend=function(_){Q.extend(this,_,this.color)};v.Pt.prototype.AO=function(){if(this.color==255)Q.sJ(this.channel);
Q.AO(this);if(this.color==255)Q.sJ(this.channel)};v.Pt.prototype.clone=function(){var _=new v.Pt;_.name=this.name;
_.K_=this.K_;_.r1=this.r1;_.D1=this.D1;_.TO=this.TO;_.color=this.color;_.Cu=this.Cu;_.isEnabled=this.isEnabled;
_.pj=this.pj;_.zG=this.zG;_.Vw=this.Vw;_.rect=this.rect.clone();_.channel=this.channel.slice(0);return _};
v.Pt.prototype.a5O=function(_,n){if(n==null)n=Q.Q(_.O());n.fill(this.color);Q.pc(this.channel,this.rect,n,_);
return n};v.Pt.prototype.H9=function(_,n){var O=this.kf(),l=this.pp();if(n==null)n=Q.Q(_.O());n.fill(this.JU());
Q.pc(l,O,n,_);return n};v.ez=function(){this.Cu=!0;this.isEnabled=!0;this.zG=255;this.Vw=0;this.i=[{type:6},{type:8,all:0}];
this.wP=[-3,-3];this.oL=!1;this.VI=null;this.na=!0;this.g=[];this.dW=[]};v.ez.prototype.offset=function(_,n){this.VI=this.Ek();
Q.M.qp(this.i,new aY(1,0,0,1,_,n));this.VI.rect.offset(_,n)};v.ez.prototype.Ek=function(_){if(!this.na&&this.VI&&_==null){this.VI.isEnabled=this.isEnabled;
return this.VI}var n=Q.M.OY(this.i),O="strokeStyleLineAlignment",l="strokeStyleLineJoinType";if(n.O()>2e4*2e4)n=new a8(0,0,100,100);
if(_&&_[O].v[O]!="strokeStyleAlignInside"){var x=1;if(_[l].v[l]=="strokeStyleMiterJoin"){var t=Q.M.a0x(this.i),h=t/2,V=Math.sin(h),y=Math.cos(h);
y/=V;V=1;var x=Math.sqrt(y*y+V*V);if(isNaN(x)||x<1)x=1}x*=_[O].v[O]=="strokeStyleAlignOutside"?1:.5;
var r=Math.ceil(_.strokeStyleLineWidth.v.val*x);r=Math.min(r,600);n.nQ(r,r)}n=Q.p.tR(n);var E=new v.Pt;
E.color=Q.M.rw(this.i)?0:255;E.Cu=this.Cu;E.isEnabled=this.isEnabled;E.pj=!0;E.rect=n;E.zG=this.zG;E.Vw=this.Vw;
E.channel=Q.Q(E.rect.O());if(!n.wk())Q.M.a8g(this.i,E.channel,E.rect,_);if(_==null){this.VI=E;this.na=!1}return E};
v.ez.prototype.clone=function(){var _=new v.ez;_.Cu=this.Cu;_.isEnabled=this.isEnabled;_.zG=this.zG;
_.Vw=this.Vw;_.i=v.ez.qD(this.i);_.wP=this.wP.slice(0);_.oL=this.oL;_.g=this.g.slice(0);_.dW=this.dW.slice(0);
return _};v.ez.prototype.concat=function(_){var n=_.i.slice(2);if(n.length==0)return;n[0].wM=3;this.i=this.i.concat(n)};
v.ez.qD=function(_){var n=[];for(var m=0;m<_.length;m++){var O=_[m];if(O.type>5||O.type==0||O.type==3)n.push(JSON.parse(JSON.stringify(O)));
else n.push({type:O.type,lz:O.lz.clone(),H:O.H.clone(),l6:O.l6.clone()})}return n};v.ez.a0O=function(_,n,O){if(_.length!=n.length)return!1;
for(var m=2;m<_.length;m++){var l=_[m],x=n[m];if(l.type!=x.type)return!1;if(l.type==0||l.type==3){if(l.length!=x.length||!O&&l.wM!=x.wM)return!1}else if(!l.lz.yO(x.lz)||!l.H.yO(x.H)||!l.l6.yO(x.l6))return!1}return!0};
v.ez.prototype.axQ=function(){var _=this.i;for(var m=3;m<_.length;m++)if(_[m].type==0||_[m].type==3)_[m].wM=-1};
v.IH=function(){this.type=null;this.Uo=2;this.Et=null;this.L5="";this.xP="";this.pA="";this.open=0;this.raw=null;
this.lf=null;this.alz="";this.Gl=!1};v.IH.prototype.clone=function(){var _=new v.IH;_.type=this.type;
_.Uo=this.Uo;_.Et=this.Et;_.L5=this.L5;_.xP=this.xP;_.pA=this.pA;_.open=this.open;_.raw=new Uint8Array(this.raw.buffer.slice(0));
return _};v.IH.prototype.Cs=function(_,n,O,l,x){if(O==null)O="none";var t=this,h=dx.N_(t.raw.buffer),V=h=="svg"||h=="pdf";
if(t.lf){var y=n&&V&&Math.max(t.lf[1].a,t.lf[1].n)<Math.max(n[0],n[1]);if(!y&&O==this.alz&&!t.Gl)return}this.alz=O;
if(!V)_=0;if(h==null){alert("Unsupported format: "+R.c$(t.raw,0,4));return null}var r=dx.Jv(h);if(r.Yj){var E=new fJ(name+(h=="psd"?"":"-"+h)+".psd"),a;
r.Xd(t.raw.buffer,E,n);var S=new a8(0,0,E.a,E.n);if("avrg maxx medn minn rang stdv summ vari".split(" ").indexOf(O)!=-1){var e=[];
for(var m=0;m<E.B.length;m++){var P=E.B[m],b=P.buffer;if(!P.rect.yO(S)){b=Q.Q(S.O()*4);Q.zw(P.buffer,P.rect,b,S);
console.log("resizing")}e.push(b)}a=Q.Q(S.O()*4);Q.stack.stack(e,a,O)}else{for(var m=0;m<E.B.length;
m++)if(E.B[m].uq())E.B[m].bf(E);if(l&&E.Gl){var T=a$.a5d(E,l,x);t.Gl=!T;if(T)a$.anb(E,l,x)}E.dP();E.U();
E.jN();a=E.Cs()}t.lf=[a,S];t.pa=E.pa!=null&&E.pa!=0?E.pa:72}else if(r){var C=r.Xd(t.raw.buffer)[0];t.lf=[new Uint8Array(C.data),C.n5];
t.pa=C.pa!=null&&C.pa!=0?C.pa:72}if(t.lf){if(_==1){var b=t.lf[0],Z=t.lf[1],W=Q.Q(Z.O());Q.nV(b,W,3);
var s=Q.pF(W,Z),f=Q.Q(s.O()*4);Q.zw(b,Z,f,s);t.lf=[f,s]}Q.iL(t.lf)}};v.Sq="0";v.nB="2";v.e6="2.5";v.ml="2.6";
v.HN="3";v.p$="4";v.w_="4.5";v.abL="4.6";v.amq="5";v.bS="5.5";v.a66="6";v.i5="7";v.a9J="8";v.HV="9";
v.NO="9.3";v.akh="9.5";v.Z_="9.6";v.TZ="10";v.lr="11";v.WR="12";v.sb="13";v.H6="13.1";v.a21="13.2";v.X5="13.3";
v.Lp="13.4";v.UY="14";v.ZY="14.1";v.bN="14.2";v.g7="14.3";v.pB="17";v.gT="18";v.aan="19";v.bB="19.5";
v.E2="19.6";v.XG="19.7";v.US="19.8";v.N$="20";v.jU="21";v.zX="21.5";v.hn="22";v.zT="22.5";v.VW="23";
v.ahC="24";v.IB="25";v.aip="26";v.arp="27";v.Wh="28";v.NX="29";v.L3="30";v.rL="31";v.eU="32";v._Z="33";
v.y0="34";v.P$="35";v.Xc="36";v.Qo="36.5";v._b="37";v.aU="37.5";v.atb="37.6";v.pE="38";v.KX="38.5";v.WO="38.6";
v.Ob="39";v.zj="40";v.aws="41";v.kn="42";v.ri="50";v.aS="51";v.cL="52";v.vv="53";v.rY="54";v.auy="54.5";
v.Pc="54.6";v.afL="54.7";v.sS="54.8";v.wF="55";v.kT="56";v.gA="57";v.JF="58";v.er="59";v.v7="60";function jW(){this.depth=0;
this.index=-1;this.j=null;this.a6I=null;this.qz=-1;this.children=null;this.parent=null;this.oF=null}jW.prototype.ac9=function(_,n){if(this.depth!=0)_.push(this.j.getName());
if(this.children)for(var m=0;m<this.children.length;m++)this.children[m].ac9(_,n);if(_.length>n.As.length)n.As=_.slice(0);
if(this.depth!=0)_.pop()};jW.prototype.afY=function(){var _=0;if(this.j.kx()){for(var m=0;m<this.children.length;
m++)_+=this.children[m].afY()}else if(this.j.buffer)_+=this.j.buffer.length;return _};jW.prototype.yJ=function(_){var n=this.oF[_];
return this.oF[_]};jW.prototype.a20=function(_,n){var O=this.j;if(!O.Pn()||O.bj(2)||O.bj(31))return null;
if(O.kl()){var l=O.z.rect.JS(_);if(!l&&O.z.color==0)return}if(O.kx()){for(var m=0;m<this.children.length;
m++){var ab=this.children[m];ab.a20(_,n)}}else if(O.rect.JS(_))n.push(this.index)};jW.prototype.FA=function(_,n){var O=this.j;
if(!O.Pn()||O.bj(2)||O.bj(31))return null;if(O.kl()){if(O.z.rect.b5(_)){if(!Q.FA(_,O.z.channel,O.z.rect))return null}else if(O.z.color==0)return null}if(O.kx()){if(O.add.artb&&!O.DM().b5(_))return null;
for(var m=this.children.length-1;m>=0;m--){var ab=this.children[m],l=ab.FA(_,n);if(l&&n==null)return l}return null}else if(O.add.TySh&&O.rect.b5(_)||Q.a0w(_,O.buffer,O.rect)){if(n==null)return this;
else n.push(this.index)}return null};jW.prototype.atI=function(_){var n=this.j;if(!n.Pn()||n.bj(2)||n.bj(31))return null;
var O=n.add.vmsk;if(O&&O.isEnabled){var l=Q.M.FA(O.i,_).tE;if(l!=-1)return{a4P:this,afs:l}}if(n.kx()){if(n.add.artb&&!n.DM().b5(_))return null;
for(var m=this.children.length-1;m>=0;m--){var ab=this.children[m],x=ab.atI(_);if(x)return x}return null}return null};
jW.prototype.Mv=function(_,n){_.push(this.index);if(this.j.kx()){_.push(this.qz);if(n)if(this.j.LN==1&&this.j.Ek().Cu==!1)return;
for(var m=0;m<this.children.length;m++)this.children[m].Mv(_)}};jW.AE=function(){var _=document.createElement("canvas");
return _.getContext("2d")};jW.asd=function(_,n){var O,l;if(_.a>_.n){O=n;l=Math.floor(n*(_.n/_.a))}else{O=Math.floor(n*(_.a/_.n));
l=n}return new aW(O,l)};jW.fC=32;jW.uX=1;jW.prototype.XW=function(_,n,O){var l=jW.uX,x=this.j;if(x.kx()&&x.add.artb!=null)n=x.DM();
var t=l==0?x.rect:n;if(t.wk()||x.add.TySh)t=n;var h=jW.fC*D.V(),V=jW.asd(t,h),y=V.x,r=V.y,E=jW.asd(n,h);
if(x.uq()&&x.add.vmsk==null||x.add.TySh)y=r=Math.max(r,16);else if(x.kx()){y=r=16}else{y=Math.max(y,6);
r=Math.max(r,6)}if(O&&x.oJ==null){x.oJ=jW.AE();x.OR=jW.AE();x.Dd=jW.AE();x.L4=jW.AE()}var a=x.uq()&&x.add.vmsk;
if(a){if(O&&x.add.vstk)Q.Rf.lg(x.oJ,y,r,t,x.buffer,x.rect,!1,null,!x.add.vstk.fillEnabled.v&&!x.add.vstk.strokeEnabled.v);
if(O)Q.Rf.ahZ(x.oJ,y,r)}else if(x.add.TySh){if(O)Q.Rf.axM(x.oJ,r,r,x.add.TySh)}else if(x.add.SoCo){if(O)Q.Rf.aeM(x.oJ,r,r,x.add.SoCo)}else if(x.add.GdFl){if(O)Q.Rf.arL(x.oJ,r,r,x.add.GdFl)}else if(x.add.PtFl){if(O)Q.Rf.auS(x.oJ,r,r,x.add.PtFl,_)}else if(a3.get(x.add)!=null){if(O)Q.Rf.ax3(x.oJ,r,r,x.add)}else if(x.add.SoLd){if(O)Q.Rf.lg(x.oJ,y,r,t,x.buffer,x.rect,!1);
if(O)Q.Rf.as2(x.oJ,y,r,x.add.SoLd)}else if(x.kx()){}else{if(O){if(x.Jq())Q.Rf.lg(x.oJ,y,r,t,x.buffer,x.rect,!1);
else{Q.Rf.aeB(x.oJ,r,r)}}}var S=x.Ek();if(O){if(S)Q.Rf.i2(x.OR,E.x,E.y,n,S);if(x.lx()&&x.vO(_)&&x.vO(_).z){var e=x.vO(_).z;
Q.Rf.i2(x.L4,E.x,E.y,n,e)}if(!a&&x.add.vmsk){Q.Rf.i2(x.Dd,E.x,E.y,n,x.add.vmsk.Ek(),!0)}}if(S||x.add.vmsk)r=Math.max(r,E.y);
x.a9q=Math.max(r,16);if(O!=!0&&x.kx()&&(x.add.lsct==bN.GV||_.B.length<4e3))for(var m=0;m<this.children.length;
m++)this.children[m].XW(_,n)};jW.prototype.abo=function(_,n,O,l){this.depth=O;var x=_[n];if(l==null)l=[];
this.oF=l;if(x.add.lsct==bN.eg){this.a6I=x;this.qz=n-1;this.children=[];var m=n+1;while(!0){var t=_[m];
if(t==null)console.log(m,_.length);if(t.add.lsct==bN.GV||t.add.lsct==bN.SE){if(x.add.lyid==t.add.lyid)x.add.lyid+=16777215;
this.j=t;this.index=m-1;l[this.index]=this;l[n-1]=this;break}var h=new jW;h.parent=this;m=h.abo(_,m,O+1,l);
this.children.push(h)}return m+1}else{this.j=x;this.index=n-1;l[this.index]=this;return n+1}};jW.prototype.sf=function(_,n,O,l){var x=this.yJ(O),t=_;
while(x.parent!=null){t=x.j.aeh(t,n,l);x=x.parent}return t};jW.prototype.kf=function(_,n){var O=this.j,l=new a8;
if(!O.Pn())return l;var x=O.Ek();if(O.kx())for(var m=0;m<this.children.length;m++){var t=this.children[m].kf(_,!0);
l=l.uG(t)}else if(a3.get(O.add)!=null)l=O.kl()&&O.z.color==0?O.z.kf().clone():new a8(0,0,_.a,_.n);else if(O.uq()&&O.add.vmsk&&O.add.vmsk.isEnabled&&O.add.vstk){l=O.rect.clone()}else if(O.uq()&&x&&x.isEnabled&&x.JU()!=0)l=new a8(0,0,_.a,_.n);
else{l=O.Kr(_,!1,!0);if(O.add.vmsk)l=Q.p.tR(l)}return n?O.aeh(l,_):l};jW.D3={delete:function(_){if(_&&_.a)_.delete()},Q:function(_,n){return ex.kj?new ex.eO(_,n):Q.Q(_*n*4)},Hx:function(_,n,O){if(ex.kj){if(_==null||_.a!=n||_.n!=O){jW.D3.delete(_);
return new ex.eO(n,O)}}else{if(_==null||!(_ instanceof Uint8Array)||_.length!=n*O*4){jW.D3.delete(_);
return Q.Q(n*O*4)}}return _},pc:function(_,n,O,l,x){(ex.kj?ex.Ug:Q.zw)(_,n,O,l,x)},ZT:function(_,n,O,l,x,t,h,V,m,y,r){(ex.kj?ex.q.Zx:Q.q.ZT)(_,n,O,l,x,t,h,V,m,y,r)},a5j:function(_,n,O,l,x,t,h,V){var y=O.clone(),r=x.a,E=x.n,a=y.x,S=y.y,e=y.x+y.a>r?-1:0,P=y.x<0?2:1,b=y.y+y.n>E?-1:0,T=y.y<0?2:1;
for(var C=b;C<T;C++)for(var Z=e;Z<P;Z++){y.x=a+Z*r;y.y=S+C*E;jW.D3.Zn(_,n,y,l,x,t,h,V)}},Zn:function(_,n,O,l,x,t,h,V){if(ex.kj)ex.q.Qi(_,n,O,l,x,t,h,V);
else Q.q.Zn(_,n,O,l,x,t,h,V)},qs:function(_,n,O){if(ex.kj){ex.QC(_);ex.d1(n,O)}else Q.qs(_,n,O)},abB:function(_,n,O,l,x){if(ex.kj){ex.q.Zx(null,null,l,x,_,n,O,x,1,!1)}else{if(O==255)Q.Eg(_,n,l,x);
else{var t=Q.Q(n.O());Q.w6(l,x,t,n);Q.tB(_,t);Q.qs(l,0,16777215);Q.c2(t,n,l,x)}}},gj:function(_,n,O,l){if(ex.kj)ex.q.Zx(null,null,O,l,_,n,0,l,1,!1);
else Q.gj(_,n,O,l)}};jW.prototype.Bi=function(_,n,O,l,x,t){var h=typeof t=="number";if(!this.j.kx()&&(h&&this.index>t||!h&&t.indexOf(this.index)==-1)){return}var V=this.j,y=fW.nO(V),r=jW.D3,E=V.uq()?V.Ek():V.z;
if(!V.Pn())return;if(V.kl()&&E.rect.wk()&&E.JU()==0){return}if(V.add.vstk==null&&this.kf(l,!1).wk()){return}var a=this.kf(l,!0).v6(O);
if(!n.yO(O)&&!O.JS(a))return;if(V.kx()&&V.add.artb){var S=V.DM();O=O.v6(S)}var e=jW.ap3(V,x,y);if(!e){this.a1y(_,n,O,l,x,t);
return}V.Fy.Xm=r.Hx(V.Fy.Xm,a.a,a.n);r.pc(_,n,V.Fy.Xm,a,O);this.a1y(V.Fy.Xm,a,O,l,x,t);r.ZT(V.Fy.Xm,a,_,n,null,null,0,O,V.opacity/255,V.to=="diss",y.js)};
jW.ap3=function(_,n,O){if(O.js[0]*O.js[1]*O.js[2]==0)return!0;return _.opacity!=255&&(n.length!=0||_.kx()||_.yG())};
jW.auM={Fy:{}};jW.prototype.a1y=function(_,n,O,l,x,t){var h=this.j,V=fW.nO(h),y=a3.get(h.add)!=null,r=jW.D3,E=jW.ap3(h,x,V),a=E?1:h.opacity/255,S=h.uq()?h.Ek():h.z,e=h.kx()&&V.y3==null&&(h.to=="pass"||h.add.artb)&&!(x.length>0||V.fill!=1||h.yG()),P=!h.kx()&&!y&&!h.yG()&&x.length==0,b=y&&!h.yG()&&x.length==0,f=null,q=null,g=null,U;
if(e||P||b){var T=_,C=n;if(h.kl()){C=this.kf(l,!1);T=h.Fy.Pa=r.Hx(h.Fy.Pa,C.a,C.n);r.pc(_,n,h.Fy.Pa,C)}if(e)this.GW(T,C,O,l,t);
if(P)r.Zn(h.to,h.a2J(l),h.rect,T,C,O,a,V);if(b){var Z=h.kl()&&S.JU()==0?S.kf().clone():C.clone(),W=h.Fy;
if(Z.yO(new a8(0,0,l.a,l.n)))W=jW.auM;W.tW=this.ays(T,C,W.tW,Z,h.add);V.FE=!0;r.Zn(h.to,W.tW,Z,T,C,O,a,V)}if(h.kl())r.ZT(T,C,_,n,h.au4(),S.kf(),S.JU(),O,1,h.to=="diss");
h.Fy.ajX();return}var s=h.kx()&&h.to=="pass"&&(x.length>0||V.fill!=1||h.yG()),Z=h.rect;if(h.kx()){Z=this.kf(l,!1);
g=h.Fy.tW=r.Hx(h.Fy.tW,Z.a,Z.n);r.qs(g,0);this.GW(g,Z,Z,l,t);q=r.Hx(h.Fy.Th,Z.a,Z.n);r.pc(g,Z,q,Z)}else if(y){Z=h.kl()&&S.JU()==0?S.kf().clone():n.clone();
q=r.Hx(h.Fy.Th,Z.a,Z.n);r.qs(q,4294967295)}else{Z=h.rect;f=h.a2J(l);q=r.Hx(h.Fy.Th,Z.a,Z.n);r.pc(f,Z,q,Z)}h.Fy.Th=q;
if(h.kl())r.abB(h.au4(),S.kf(),S.JU(),q,Z);if(h.yG())if(h.Fy.Ie||h.Fy.Ag||h.Fy.q4!=ex.kj||h.Fy.dO||h.kx()){var i=h.add.vmsk,u=Q.Q(Z.O());
if(fW.a4x(h.add.lmfx)){if(ex.kj){if(!h.kx()&&h.Ek()==null&&h.rect.yO(Z)&&i==null)Q.nV(h.buffer,u,3);
else{var I=Q.Q(Z.O()*4);q.get(I);Q.nV(I,u,3)}}else Q.nV(q,u,3)}if(h.Fy.Ag||h.Fy.q4!=ex.kj||!Q.yO(u,h.Fy.MI)){var Y=null;
if(h.uq()&&i&&i.isEnabled&&i.Ek().color==0)Y=i.Ek().rect;fW.anZ(h.Fy.xB);h.Fy.xB=fW.a1A(u,Z,h.add.lmfx,h.add.fxrp,l,Y);
h.Fy.MI=u;h.Fy.aqy=Z}}if(h.yG())fW.anA(h.add.lmfx,h.Fy.xB,Z,_,n,O);if(h.kx()){f=r.Hx(h.Fy.Pa,Z.a,Z.n);
r.qs(f,0);if(h.to=="pass")r.pc(_,n,f,Z);if(s)r.gj(g,Z,f,Z);this.GW(f,Z,O,l,t);h.Fy.Pa=f}if(y){f=h.Fy.Pa=this.ays(_,n,h.Fy.Pa,Z,h.add)}if(h.kx()||y)U=f;
else{U=r.Hx(h.Fy.Pa,Z.a,Z.n);r.pc(f,Z,U,Z,O);h.Fy.Pa=U}r.qs(U,4278190080,16777215);for(var m=0;m<x.length;
m++)x[m].Bi(U,Z,O,l,[],t);var F=h.Fy.g6=r.Hx(h.Fy.g6,Z.a,Z.n);r.pc(_,n,F,Z,O);if(y)V.FE=!0;r.Zn(h.to=="pass"?"norm":h.to,U,Z,F,Z,O,1,V);
if(h.yG()){var N=h.Fy.xB.type.FrFX,o=null;if(N.length!=0){o=N[0];for(var m=0;m<N.length;m++)if(N[m].Mw.a>o.Mw.a)o=N[m];
h.Fy.A8=r.Hx(h.Fy.A8,o.Mw.a,o.Mw.n);r.pc(_,n,h.Fy.A8,o.Mw,O);h.Fy.Oh=r.Hx(h.Fy.Oh,o.Mw.a,o.Mw.n)}fW.ajL(h.add.lmfx,h.Fy.xB,Z,_,n,O,F,h.Fy.A8,h.Fy.Oh,o?o.Mw:null)}if(!ex.kj){var X=Q.Q(Z.O());
Q.nV(q,X,3);q=X}r.ZT(F,Z,_,n,q,Z,0,O,1,h.to=="diss");h.Fy.ajX()};jW.prototype.a0M=function(_,n,O,l){var x=this.j,t=x.add.lmfx,h=x.add.TySh,V=x.add.SoLd,P=!1,T=null;
if(!x.Pn())return;if(!x.rect.wk()&&!x.rect.JS(l))return;n.save();if(x.add.artb){var y=x.DM();n.beginPath();
n.rect(y.x,y.y,y.a,y.n);n.clip();l=l.v6(y);var r=x.pn();if(r!=0){var y=r>>>16&255,E=r>>>8&255,a=r&255;
n.fillStyle="#"+Q.sN(a<<16|E<<8|y);n.fillRect(l.x,l.y,l.a,l.n)}}var S=x.opacity/255*(x.add.iOpa?x.add.iOpa/255:1);
n.globalAlpha*=S;n.globalCompositeOperation=b3.xG[b3.qX.indexOf(x.to)];var e=CSS.ajt(_,t);for(var m=0;
m<e.length;m++){var b=e[m];if(b.startsWith("drop-shadow")){b=b.slice(12,-1).split(" ");n.shadowOffsetX=parseFloat(b[0])*_.u.K;
n.shadowOffsetY=parseFloat(b[1])*_.u.K;n.shadowBlur=parseFloat(b[2])*_.u.K*2.4;n.shadowColor=b[3];P=!0}}var C=fW.ann(x,P);
if(C){T=n;var Z=document.createElement("canvas");Z.width=n.canvas.width;Z.height=n.canvas.height;var W=n.getTransform();
n=Z.getContext("2d");n.setTransform(W.a,W.b,W.c,W.d,W.e,W.f)}function s(G,z){var f=G.Fy.hU;if(f==null)f=G.Fy.hU=Q.p.qN(G.add.vmsk.i,z);
return f}if(x.add.vmsk&&!x.uq()){var f=s(x,!1),q=f.SD;n.beginPath();Typr.U.pathToContext({cmds:q.F,crds:q.C},n);
n.clip()}function g(G,z){return CSS.ij({o:G[0]*255,J:G[1]*255,k:G[2]*255},z)}function i(o,G,z,M){if(o.Ptrn){var hl=fW.Iv(o,null,new a8(0,0,1,1),G,z);
M.save();M.translate(hl[2],hl[3]);M.scale(hl[1],hl[1]);M.rotate(-hl[4]);return hl}var j=jP.SN(o,new aY,x.rect);
if(j.length==3)return[g(j),1];else{var w,B=j.crds,bB=j.grad;if(j.typ=="lin")w=n.createLinearGradient(B[0],B[1],B[2],B[3]);
else w=n.createRadialGradient(B[0],B[1],B[2],B[3],B[4],B[5]);for(var m=0;m<bB.length;m++)w.addColorStop(bB[m][0],g(bB[m][1],bB[m][2]));
return[w,1]}}if(x.kx()){for(var m=0;m<this.children.length;m++)this.children[m].a0M(_,n,O,l)}else if(h){var u=!0;
if(x.Fy.path==null){u=a$.L_(h,O.y8);if(u)a$.rS(x,O.y8,!1)}if(u){if(_.u.K<1)jW.awG(_,x,n,new aY(1,0,0,1,x.rect.x,x.rect.y),x.Fy.vA);
else if(x.Fy.path){n.save();n.translate(x.rect.x-x.Fy.Fl.x,x.rect.y-x.Fy.Fl.y);a$.amO(x.Fy.path,n);n.restore()}}}else if(x.uq()&&x.add.vmsk){var I=x.add.vmsk,Y=x.add.vstk,t=x.add.lmfx,U=Y.fillEnabled.v;
if(!Y.strokeEnabled.v)Y=fW.kd(t);var F=Y?aF.eo._R.indexOf(Y.strokeStyleLineAlignment.v.strokeStyleLineAlignment):-1,f=s(x,F!=-1),q=f.SD;
if(I.Vw!=0)n.filter="blur("+I.Vw*_.u.K+"px)";n.beginPath();Typr.U.pathToContext({cmds:q.F,crds:q.C},n);
var N=F==2?[1,0]:[0,1];for(var m=0;m<2;m++){if(N[m]==0&&U){var o=fW.nn(t,x.add),X=o[0],J=o[1];o=x.add.PtFl;
o=o?o:X?X:J;o=i(o,_.add.Patt,x.add.fxrp,n);n.fillStyle=o[0];n.fill(["nonzero","evenodd"][x.Fy.hU.xF]);
if(o.length>2)n.restore();if(F==0)n.clip()}if(N[m]==1&&Y){var c=i(Y.strokeStyleContent.v,_.add.Patt,x.add.fxrp,n);
n.strokeStyle=c[0];Q.M.kI(Y,n,1/c[1]);n.stroke();if(c.length>2)n.restore()}}}else if(!x.rect.wk()){var p=null,d=null;
if(V){var k=V.filterFX;if(k){var o=k.v.filterFXList.v;for(var m=0;m<o.length;m++){var b=o[m].v;if(!b.enab.v)continue;
var A=ie.CH(b);if(A=="GsnB"){n.filter="blur("+b.Fltr.v.Rds.v.val*_.u.K+"px)"}}}var $=V.Idnt.v,K=_.Fe($,V.Crop?V.Crop.v:null);
p=Q.r.tf(V);d=K.lf}jW.awG(_,x,n,p,d)}if(C){T.save();T.setTransform(1,0,0,1,0,0);T.drawImage(n.canvas,0,0);
T.restore();n=T}n.globalAlpha/=S;n.globalCompositeOperation="source-over";n.restore()};jW.awG=function(_,n,O,l,x){if(l==null)l=new aY;
var t=n.buffer,h=n.rect;if(x){var V=l.Sn()*_.u.K,y=0;while(1<<y/2<.5/V&&y+2<x.length)y+=2;t=x[y];h=x[y+1];
h=h.clone();h.x=h.y=0;var V=1<<y/2,r=new aY;r.scale(V,V);r.concat(l);l=r}if(h.wk())return;var E=document.createElement("canvas");
E.width=h.a;E.height=h.n;var a=E.getContext("2d");a.putImageData(new ImageData(new Uint8ClampedArray(t.buffer),h.a,h.n),0,0);
O.transform(l.EX,l.k,l.av,l.c5,l.Wk,l.d7);O.drawImage(E,h.x,h.y);l.sJ();O.transform(l.EX,l.k,l.av,l.c5,l.Wk,l.d7)};
jW.prototype.ays=function(_,n,O,l,x){var t=a3.get(x),h;if(t)h=a3.ja(t,x[t]);var V=jW.D3;O=V.Hx(O,l.a,l.n);
if(!(ex.kj&&n.yO(l)))V.pc(_,n,O,l);if(h){if(ex.kj){var y=l.clone();y.x=y.y=0;if(n.yO(l)){ex.QC(O,y);
a3.iT(h,_.P8,y)}else{ex.QC(O,l);O.N8(l);a3.iT(h,O.JA,y)}}else a3.Er(h,O,O,l)}return O};jW.prototype.GW=function(_,n,O,l,x){var t=n,h=t.a,V=t.n,y=t.x,r=t.y,ab=O,E=ab.x,a=ab.y,S=-1,e=-1,P=2,b=2;
if(!l.VZ){S=e=0;P=b=1}var T=this.children;for(var m=0;m<T.length;m++){var C=[];for(var Z=m+1;Z<T.length;
Z++)if(T[Z].j._t)C.push(T[Z]);else break;for(var W=e;W<b;W++)for(var s=S;s<P;s++){t.x=y+s*h;t.y=r+W*V;
ab.x=E+s*h;ab.y=a+W*V;T[m].Bi(_,t,ab,l,C,x)}m+=C.length}t.x=y;t.y=r;ab.x=E;ab.y=a};function fJ(_){this.fA="psd";
this.Xs=!1;this.name=_;this.Rh=-1;this.VZ=!1;this.E5=null;this.dT=null;this.dG=null;this.bm=null;this.a=0;
this.n=0;this.buffer=null;this.B=[];this.OS={};this.add={};this.TM=4;this.eA=null;this.pa=72;this.I6={};
this.g=[];this.P9=[];this.Zc=!1;this.Ks=[];this.qo=[];this.VE=[fJ.ew("Work Path")];this.WJ=[];this.tF=null;
this.OQ={classID:"CompList",list:{t:"VlLs",v:[]}};this.Pp=[];this.dm=[];this.root=null;this._V=null;
this.Gl=!1;this.a7P=!1;this.abP=!1;this.P1=!1;this.bo=!1;this.Hc=!1;this.i1=!1;this.XS=!1;this.TU=!1;
this.HT=!1;this.Ie=null;this._2=null;this.P=null;this.U_=[];this.oO=[];this.I={Hg:{},_x:[],W_:[],HP:[],qb:null,c_:null,LV:null,jn:null,Kq:null,Og:[],Wn:[],W4:null};
this.history=[new gO([1,0],null)];this.Uh=0;this.Yo=0;this.Ef=0;this.u=new jd(this);this.sU=null;this.jj=null}fJ.lu=function(){var _=8,n=[0,0,0,.145,.051,.051,.263,.071,.067,.416,.051,.055,.573,.102,.11,.71,.122,.141,.851,.122,.149,.929,.122,.141,.075,.149,.078,.153,.153,.078,.275,.153,.055,.424,.157,.071,.569,.153,.114,.706,.165,.141,.855,.161,.153,.933,.196,.141,.118,.282,.133,.18,.29,.129,.286,.29,.122,.427,.294,.114,.573,.298,.129,.71,.294,.149,.855,.298,.153,.941,.306,.133,.035,.431,.224,.157,.427,.212,.294,.431,.204,.427,.435,.18,.569,.431,.165,.71,.435,.161,.851,.431,.153,.953,.435,.133,.012,.576,.278,.145,.569,.271,.29,.576,.259,.427,.576,.239,.569,.576,.212,.706,.573,.184,.855,.576,.157,.969,.569,.118,.114,.698,.294,.165,.702,.29,.29,.714,.286,.424,.714,.271,.573,.718,.243,.71,.714,.204,.855,.714,.153,.988,.714,.078,.314,.722,.282,.329,.722,.278,.392,.737,.275,.478,.757,.259,.584,.788,.239,.714,.827,.2,.859,.859,.125,.996,.855,0,.412,.741,.271,.427,.745,.267,.471,.753,.259,.533,.773,.251,.624,.8,.227,.725,.835,.2,.843,.875,.137,.973,.925,.075,.055,.059,.137,.141,.059,.141,.271,.059,.149,.424,.043,.149,.576,.098,.157,.714,.122,.153,.859,.122,.153,.929,.114,.176,.02,.145,.141,.137,.137,.137,.282,.141,.137,.431,.141,.145,.576,.145,.141,.714,.149,.145,.859,.141,.153,.933,.192,.184,.012,.286,.145,.145,.286,.141,.286,.286,.141,.431,.29,.141,.576,.286,.141,.714,.286,.149,.855,.286,.153,.941,.302,.176,.027,.427,.22,.153,.431,.216,.29,.427,.2,.427,.431,.18,.576,.431,.165,.714,.427,.161,.859,.431,.153,.949,.427,.165,.039,.576,.278,.153,.573,.271,.282,.573,.259,.431,.576,.239,.569,.573,.212,.71,.573,.184,.859,.576,.153,.969,.569,.165,.114,.698,.294,.165,.702,.29,.286,.718,.286,.424,.714,.267,.576,.722,.243,.714,.714,.204,.855,.714,.153,.988,.71,.137,.314,.722,.282,.341,.725,.278,.396,.737,.275,.486,.761,.259,.588,.788,.239,.714,.831,.2,.859,.855,.145,.996,.859,.129,.416,.741,.271,.439,.749,.271,.482,.757,.263,.537,.776,.251,.631,.804,.231,.725,.831,.196,.851,.878,.133,.969,.925,.18,.075,.075,.278,.145,.063,.29,.282,.067,.286,.424,.082,.294,.573,.102,.298,.714,.118,.298,.855,.11,.298,.933,.11,.306,.063,.141,.278,.137,.141,.286,.286,.137,.282,.427,.145,.286,.573,.141,.286,.714,.141,.29,.863,.149,.294,.937,.188,.302,0,.29,.29,.141,.286,.286,.29,.286,.286,.427,.29,.29,.573,.29,.29,.718,.29,.286,.859,.282,.286,.941,.302,.302,0,.427,.286,.145,.431,.29,.286,.427,.29,.424,.427,.286,.573,.427,.29,.718,.427,.286,.859,.427,.282,.953,.431,.302,0,.573,.282,.145,.576,.282,.286,.573,.282,.427,.573,.282,.576,.573,.282,.71,.569,.282,.859,.573,.278,.969,.569,.306,.114,.698,.294,.176,.702,.29,.286,.718,.286,.427,.718,.282,.576,.714,.278,.718,.722,.294,.855,.71,.278,.988,.71,.286,.329,.725,.282,.349,.729,.278,.4,.737,.278,.486,.761,.29,.592,.792,.298,.714,.835,.306,.859,.859,.278,1,.855,.286,.431,.745,.267,.451,.749,.267,.482,.757,.259,.549,.776,.247,.639,.804,.224,.733,.839,.224,.855,.882,.275,.973,.929,.306,.141,.133,.392,.165,.133,.408,.29,.141,.42,.416,.141,.424,.561,.133,.431,.71,.122,.439,.859,.082,.435,.929,.098,.431,.137,.184,.408,.176,.169,.424,.282,.157,.431,.424,.145,.424,.573,.141,.427,.714,.145,.427,.859,.137,.427,.929,.173,.427,0,.286,.427,.141,.29,.431,.29,.29,.431,.427,.29,.427,.576,.286,.427,.718,.29,.431,.859,.286,.427,.941,.298,.431,0,.427,.424,.145,.427,.427,.286,.427,.427,.427,.427,.427,.569,.427,.424,.718,.431,.431,.863,.427,.427,.949,.424,.431,0,.573,.427,.125,.573,.427,.282,.573,.427,.431,.576,.431,.569,.573,.427,.714,.573,.424,.851,.569,.424,.965,.569,.431,.082,.706,.427,.133,.71,.427,.282,.71,.424,.424,.714,.424,.576,.718,.427,.714,.714,.424,.863,.718,.427,.984,.71,.427,.322,.729,.404,.345,.733,.408,.404,.745,.412,.478,.765,.42,.588,.796,.424,.718,.843,.431,.863,.863,.435,1,.863,.435,.439,.749,.341,.455,.753,.341,.494,.765,.345,.557,.784,.349,.643,.812,.373,.733,.843,.388,.851,.89,.424,.976,.941,.451,.169,.184,.51,.176,.176,.522,.298,.176,.537,.416,.169,.541,.553,.153,.557,.698,.118,.553,.847,.094,.557,.929,.133,.565,.161,.212,.529,.18,.184,.541,.294,.184,.553,.427,.173,.561,.565,.153,.561,.718,.157,.565,.851,.157,.565,.933,.196,.565,.075,.29,.561,.141,.286,.573,.286,.29,.576,.424,.286,.573,.576,.29,.576,.718,.29,.576,.859,.286,.573,.933,.298,.569,0,.427,.573,.141,.427,.573,.286,.427,.573,.427,.427,.569,.573,.427,.573,.718,.431,.576,.859,.427,.573,.945,.424,.569,0,.573,.573,.149,.576,.576,.286,.573,.576,.427,.573,.573,.573,.573,.573,.718,.576,.576,.859,.573,.573,.961,.565,.573,0,.714,.573,.133,.714,.573,.278,.71,.573,.427,.714,.576,.573,.718,.573,.718,.714,.573,.859,.714,.576,.98,.71,.576,.325,.741,.537,.345,.745,.537,.404,.757,.545,.482,.78,.553,.588,.808,.565,.718,.851,.573,.859,.859,.569,1,.863,.573,.439,.761,.49,.451,.761,.486,.49,.776,.498,.557,.796,.51,.635,.82,.518,.737,.855,.537,.863,.906,.561,.976,.953,.588,.165,.231,.588,.227,.231,.592,.31,.235,.592,.408,.227,.588,.525,.227,.588,.635,.227,.584,.761,.239,.588,.878,.243,.588,.173,.255,.608,.216,.255,.604,.314,.255,.604,.408,.255,.6,.525,.255,.6,.643,.255,.596,.761,.267,.6,.882,.267,.596,.141,.314,.639,.208,.318,.639,.306,.318,.639,.42,.314,.631,.541,.318,.631,.659,.318,.624,.784,.325,.62,.91,.337,.624,.012,.431,.718,.149,.431,.714,.294,.431,.71,.431,.431,.702,.573,.427,.69,.71,.431,.678,.835,.435,.671,.945,.435,.667,0,.573,.714,.145,.573,.718,.29,.576,.718,.427,.573,.714,.576,.573,.714,.71,.569,.71,.859,.573,.714,.957,.569,.71,0,.71,.71,.129,.714,.714,.278,.714,.71,.427,.714,.714,.576,.718,.718,.714,.714,.714,.859,.718,.714,.973,.706,.714,.322,.753,.667,.337,.757,.667,.4,.769,.671,.482,.792,.686,.588,.824,.698,.714,.867,.718,.859,.863,.714,.996,.855,.714,.435,.773,.62,.459,.78,.627,.49,.788,.631,.557,.808,.643,.647,.835,.659,.749,.875,.675,.867,.918,.702,.988,.969,.725,.212,.29,.624,.243,.29,.62,.318,.29,.62,.396,.286,.62,.486,.286,.616,.58,.282,.608,.686,.282,.608,.788,.29,.608,.216,.306,.631,.251,.306,.631,.314,.306,.627,.392,.306,.627,.49,.302,.624,.58,.302,.62,.686,.302,.616,.796,.314,.616,.224,.345,.655,.255,.345,.659,.318,.345,.651,.396,.345,.651,.494,.345,.643,.592,.345,.639,.702,.353,.635,.816,.373,.643,.212,.424,.71,.247,.424,.706,.318,.424,.702,.412,.42,.694,.525,.431,.694,.635,.447,.698,.749,.459,.69,.859,.467,.69,.133,.569,.816,.2,.565,.812,.31,.569,.808,.443,.569,.792,.576,.569,.78,.694,.569,.765,.812,.58,.761,.914,.584,.753,0,.714,.855,.133,.714,.859,.286,.714,.863,.431,.714,.859,.573,.714,.859,.718,.714,.863,.859,.714,.839,.969,.706,.82,.302,.765,.796,.329,.769,.796,.392,.784,.808,.471,.804,.82,.588,.839,.847,.718,.859,.859,.859,.859,.859,.988,.855,.855,.439,.788,.749,.451,.792,.749,.498,.804,.757,.553,.82,.769,.647,.851,.784,.753,.886,.812,.871,.933,.839,.996,.984,.863,.224,.325,.643,.251,.325,.643,.306,.322,.639,.38,.322,.635,.459,.318,.631,.545,.318,.631,.631,.314,.624,.725,.322,.624,.235,.333,.647,.263,.337,.651,.31,.333,.647,.38,.333,.643,.463,.333,.639,.545,.333,.635,.631,.325,.627,.737,.337,.627,.251,.365,.671,.275,.365,.667,.318,.365,.667,.384,.361,.659,.467,.361,.655,.549,.361,.651,.651,.376,.651,.757,.4,.659,.255,.427,.71,.275,.42,.702,.329,.42,.702,.4,.42,.694,.486,.431,.698,.58,.447,.698,.686,.467,.702,.8,.494,.71,.278,.529,.78,.306,.533,.78,.373,.541,.78,.455,.545,.776,.553,.557,.776,.643,.569,.773,.749,.592,.776,.843,.604,.773,.275,.694,.898,.302,.694,.894,.384,.69,.886,.49,.698,.878,.604,.706,.871,.718,.706,.855,.812,.714,.847,.898,.722,.839,.31,.784,.925,.333,.788,.925,.388,.8,.941,.471,.824,.961,.592,.855,.973,.725,.851,.949,.859,.851,.929,.957,.855,.914,.435,.8,.867,.443,.804,.867,.494,.816,.875,.557,.835,.886,.651,.867,.91,.757,.906,.933,.878,.953,.969,1,1,1];
n=i9.TB(_,n);return[_,n]}();fJ.prototype.nE=function(_){if(_){if(_.length==30240){this.nE(null);return}this.OS.r1039=_;
var n=ICC.R(_.buffer),x=null,t=17,y,r;if(n==null){this.nE(null);return}var O=n.header.spaceIn.toLowerCase(),l=JSON.stringify(n.tags.desc).toLowerCase();
try{x=ICC.U.profileName(n)}catch(hU){}if(O!="rgb "||x==null||l.indexOf("srgb")!=-1){this.nE(null);return}console.log("We got an ICC profile!",n,x);
try{var h=ICC.U.sampleLUT(n,t)}catch(hU){this.nE(null);return}var V=h.slice(0),E=Q.Q(4),a=fJ.lu[0],S=fJ.lu[1];
for(var m=0;m<h.length;m+=3){E[0]=h[m]*255;E[1]=h[m+1]*255;E[2]=h[m+2]*255;ICC.U.applyLUT(S,a,E,E);V[m]=E[0]/255;
V[m+1]=E[1]/255;V[m+2]=E[2]/255}if(ex.kj){y=new ex.eO(t,t*t);y.set(ICC.U.rgba8LUT(h,t));r=new ex.eO(t,t*t);
r.set(ICC.U.rgba8LUT(V,t))}this.sU=[_,n,t,h,y,V,r]}else{delete this.OS.r1039;this.sU=null}};fJ.prototype.BZ=function(){return this.sU};
fJ.prototype.IF=function(){if(this.sU)return this.sU;if(this.add.fcmy==1){if(this.jj==null){var _=fJ.lu[0],n=fJ.lu[1],O;
if(ex.kj){O=new ex.eO(_,_*_);O.set(ICC.U.rgba8LUT(n,_))}this.jj=[null,null,_,null,null,n,O]}return this.jj}};
fJ.prototype.a54=function(){var _=this;if(_.u.CN.join("")!="111"){_.u.CN=[1,1,1];_.Hc=!0}for(var m=0;
m<_.B.length;m++){var n=_.B[m],O=n.add.vmsk;if(n.lx()){var l=n.vO(_);if(l&&l.z&&l.z.K_){l.z.K_=!1;_.Hc=!0}}var x=n.Ek();
if(x&&x.K_){x.K_=!1;_.Hc=!0}if(O){if(O.g.length!=0)O.g=[];if(O.dW.length!=0)O.dW=[]}}};fJ.prototype.pJ=function(){var _=this;
return _.P!=null||_.cx()[1].length!=0||_.g.length>1};fJ.prototype.tp=function(){var _=this.P9,n=[];for(var m=0;
m<_.length;m++)n[m]=-1;var O=this.root.children;for(var m=0;m<O.length;m++){var l=O[m],x=l.j.add.artb;
if(x==null)continue;var t=x.guideIndeces;t=t?t.v:[];for(var h=0;h<t.length;h++)n[t[h].v]=l.index}return[JSON.parse(JSON.stringify(_)),n]};
fJ.prototype.WX=function(_){this.P9=JSON.parse(JSON.stringify(_[0]));var n=_[1],O=this.root.children;
for(var m=0;m<O.length;m++){var l=O[m],x=l.j.add.artb;if(x==null)continue;x.guideIndeces={t:"VlLs",v:[]}}for(var m=0;
m<n.length;m++)if(n[m]!=-1)this.B[n[m]].add.artb.guideIndeces.v.push({t:"long",v:m})};fJ.prototype.ask=function(_){var n=this;
if(_[0])n.add.lnk2=_[0];else delete n.add.lnk2;if(_[1])n.add.FEid=_[1];else delete n.add.FEid;if(_[2])n.add.Patt=_[2];
else delete n.add.Patt};fJ.prototype.aio=function(_){var n=this,O=[],l=[],x=[],P=null,b=null,T=null;
for(var m=0;m<_.length;m++){var t=_[m];if(t.add.SoLd){O.push(t.add.SoLd.Idnt.v);l.push(t.add.SoLd.placed.v)}if(t.add.PtFl)x.push(t.add.PtFl.Ptrn.v.Idnt.v);
if(t.add.lmfx){for(var h=0;h<aF.Ck.length;h++){var V=t.add.lmfx[aF.Ck[h]].v;for(var y=0;y<V.length;y++)if(V[y].v.Ptrn){var r=V[y].v;
if(r.classID=="FrFX"&&r.PntT.v.FrFl!="Ptrn")continue;x.push(r.Ptrn.v.Idnt.v)}}}var E=t.add.vstk;if(E&&E.strokeStyleContent.v.classID=="patternLayer"){x.push(E.strokeStyleContent.v.Ptrn.v.Idnt.v)}}var a=n.add.lnk2,S=n.add.FEid,e=n.add.Patt;
if(a){P=[];for(var m=0;m<a.length;m++)if(O.indexOf(a[m].Et)!=-1)P.push(a[m]);if(P.length==0)P=null}if(S){b=[];
for(var m=0;m<S.length;m++)if(l.indexOf(S[m].id)!=-1)b.push(S[m]);if(b.length==0)b=null}if(e){T=[];for(var m=0;
m<e.length;m++)if(x.indexOf(e[m].id)!=-1)T.push(e[m]);if(T.length==0)T=null}return[P,b,T]};fJ.prototype.x$=function(_){var n=this,O=n.root.yJ(_==null?n.g[0]:_),l=!1;
while(O.parent!=null){l=l||O.j.bj(31);O=O.parent}return l};fJ.prototype.t5=function(){var _=this.U_,n=this.U_.length;
if(n!=0&&_[n-1].name=="Quick Mask")return _[n-1]};fJ.prototype.wH=function(){return this.fA==aJ.gX("% |/!)")||this.fA==aJ.Jm("gP")};
fJ.prototype.GN=function(_){var n=this.add.artd;if(_!=0)this.add.artd={classID:"null",Cnt:{t:"long",v:_},autoExpandOffset:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},origin:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},autoExpandEnabled:{t:"bool",v:!0},autoNestEnabled:{t:"bool",v:!0},autoPositionEnabled:{t:"bool",v:!0}};
else delete this.add.artd};fJ.prototype.VS=function(_){if(this.add.FEid==null)this.add.FEid=[];if(this.add.FEid.indexOf(_)==-1)this.add.FEid.push(_)};
fJ.prototype.RP=function(_){var n=this.add.FEid.indexOf(_);this.add.FEid.splice(n,1);if(this.add.FEid.length==0)delete this.add.FEid};
fJ.prototype.U=function(_){if(_==null)_=new a8(0,0,this.a,this.n);if(this.Ie==null)this.Ie=_;else this.Ie=this.Ie.uG(_)};
fJ.prototype.a9g=function(_){return this.Ie!=null};fJ.prototype.Uk=function(_){var n=this.B[_],O=this.root.yJ(_);
if(O==null)return!1;if(n.kx()||O.parent.children.indexOf(O)==0)return!1;return!0};fJ.ahe=function(_){if(_.add.lnk2)for(var m=0;
m<_.add.lnk2.length;m++){var n=_.add.lnk2[m].Et;_.add.lnk2[m].Et=fJ.DA()+n.slice(8);for(var O=0;O<_.B.length;
O++){var l=_.B[O].add.SoLd;if(l&&l.Idnt.v==n)l.Idnt.v=_.add.lnk2[m].Et}}};fJ.prototype._j=function(_,n,O){_.sort(function(a,S){return a-S});
var top=_[_.length-1],l=this.B.slice(0),x=this.g.slice(0),t=[],h=[];for(var m=0;m<this.B.length;m++){if(_.indexOf(m)!=-1)h.push(this.B[m]);
else t.push(this.B[m])}this.T0(h);this.g=[];var V=this.root.kf(this,!0);if(n)V=V.v6(n);if(O)V=V.uG(O);
if(V.wk())V=new a8(0,0,100,100);var y=new a8(-V.x,-V.y,this.a,this.n),r=new Uint8Array(dx.Jv("PSD").QI(this,0,0,[!0,!1]));
this.T0(l);this.g=x;var E=new fJ(this.B[top].getName());dx.Jv("PSD").Xd(r.buffer,E);delete E.add.artd;
E.Ks=[];E.T0(E.B);E.WX([[],[]]);fJ.ahe(E);D.e_.TQ(E,V);E.U();E.jN();E.Cs();return[E,V,t,top]};fJ.prototype.am2=function(_,n,O){var l=this._j(_),x=l[0],t=l[1],h=l[2],top=l[3],V;
if(O=="jpg")V=new Uint8Array(dx.Jv("JPG").QI([[x.Cs().buffer]],x.a,x.n,[80]));else V=new Uint8Array(dx.Jv("PSD").QI(x,null,null,[!0,!1]));
if(n)h=this.B.slice(0);var y=this.zk(V,x.name,t.x,t.y);if(top==this.B.length-1)h.push(y);else h.splice(n?top+1:top-_.length+1,0,y);
this.T0(h);this.g=[h.indexOf(y)]};fJ.DA=function(_){if(_==null)_="";var n="";while(n==""||n==_){n="";
for(var m=0;m<8;m++)n+=Math.floor(Math.random()*16).toString(16)}return n};fJ.prototype.Rs=function(_){if(_==null)return;
if(this.add.Patt==null)this.add.Patt=[];var n=this.add.Patt;for(var m=0;m<n.length;m++)if(n[m].id==_.id)return;
n.push(_)};fJ.prototype.zk=function(_,n,O,l,x,t,h){if(this.add.lnk2==null)this.add.lnk2=[];var V=null,e=!1;
for(var m=0;m<this.add.lnk2.length;m++)if(Q.yO(_,this.add.lnk2[m].raw)){V=this.add.lnk2[m].Et;break}if(V==null){var y=dx.N_(_.buffer);
V=fJ.DA()+"-d71c-11e5-b1ae-a548a96e5f9f";var r=new v.IH;r.Et=V;r.pA=y=="psd"?"8BIM":"    ";r.L5=n+"."+y;
r.xP=y=="psd"?"8BPB":"    ";r.open=0;r.raw=_;r.type="liFD";r.Uo=2;this.add.lnk2.push(r)}var E=this.Fe(V,null,null,null,t,h),a=fJ.DA()+"-d71c-11e5-b1ae-a548a96e5f9f",S=this.Ni();
S.iA(n);if(E!=null){var P=0,b=0,T=this.a,C=this.n;if(x){P=x.x;b=x.y;T=x.a;C=x.n}var Z=S.rect=E.lf[1].clone();
Z.offset(P+O,b+l);var W=Math.max(Z.a/T,Z.n/C),e=x!=null&&W>1.0001;if(e){Z.a=Math.round(Z.a/W);Z.n=Math.round(Z.n/W);
Z.x=Math.round(P+(T-Z.a)/2);Z.y=Math.round(b+(C-Z.n)/2)}else if(x!=null&&dx.N_(_.buffer)=="pdf"&&this.pa!=144){var W=144/this.pa;
Z.a=Math.round(Z.a/W);Z.n=Math.round(Z.n/W);e=!0}S.buffer=Q.Q(Z.O()*4);if(!e)Q.Jt(E.lf[0],S.buffer)}S.add.SoLd={classID:"null",Idnt:{t:"TEXT",v:V},Impr:{t:"Objc",v:{__name:"None",classID:"none"}},placed:{t:"TEXT",v:a},PgNm:{t:"long",v:1},totalPages:{t:"long",v:1},frameStep:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},duration:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},frameCount:{t:"long",v:1},Annt:{t:"long",v:16},Type:{t:"long",v:2},Trnf:null,nonAffineTransform:null,warp:{t:"Objc",v:Q.Q6.Q(E?E.lf[1]:S.rect)},Sz:{t:"Objc",v:{classID:"Pnt",Wdth:{t:"doub",v:S.rect.a},Hght:{t:"doub",v:S.rect.n}}},Rslt:{t:"UntF",v:{type:"#Rsl",val:E?E.pa:72}}};
var s=Q.p.ta(S.rect).C;S.add.SoLd.Trnf=D.D6.X6(s);S.add.SoLd.nonAffineTransform=D.D6.X6(s);if(e)S.Ga(this,!1);
return S};fJ.prototype.Cs=function(_){if(_!=null){this.U();this.jN(_);var n=this.buffer;if(ex.kj)this._V.get(n);
else n=n.slice(0);this.U();this.jN();return n}if(this.Ie){this.jN();this.Ie=null}if(ex.kj&&this._2){this._V.get(this.buffer);
this._2=null;this.i1=!0}return this.buffer};fJ.prototype.afR=function(){for(var m=0;m<this.B.length;
m++)this.B[m].a6u();this.U()};fJ.prototype.aoW=function(){for(var m=0;m<this.B.length;m++)if(this.B[m].add.lmfx)this.B[m].Fy.Ag=!0};
fJ.prototype.Io=function(){var _=this.OS.r1044;if(_==null){_=this.OS.r1044=new Uint8Array(4);var n=0;
for(var m=0;m<this.B.length;m++)n=Math.max(n,this.B[m].add.lyid);R.h1(_,0,n)}var O=R.v(_,0);R.h1(_,0,O+1);
return O+1};fJ.prototype.eE=function(_,n,O){if(_==null)_=!0;var l=this;if(l.oO.length!=0)return!0;if(l.g.length!=1){if(_)alert(l.g.length==0?"Select a layer first.":"More than one layer selected.");
return!1}return this.Dt(_,n,O)};fJ.prototype.Dt=function(_,n,O){if(_==null)_=!0;if(n==null)n=!1;var l=this;
if(l.oO.length!=0)return!0;for(var m=0;m<l.g.length;m++){var x=l.B[l.g[m]],t=n||x.LN<=0;if(x.add.lsct!=null&&x.add.lsct!=bN.IE&&x.LN!=1){if(_)alert(hU.get([15,7,2]));
return!1}if(t&&!x.Jq()){if(_)alert(hU.get([15,7,2]));return!1}if(t&&x.add.TySh){return this.aqb(_,[15,7,3],O)}if(t&&x.add.SoLd){return this.aqb(_,[15,7,4],O)}if(x.bj(1)||l.x$(l.g[m])){if(_)alert(hU.get([6,57,0]));
return!1}}return!0};fJ.prototype.aqb=function(_,n,O){if(_&&typeof _=="object"){var l=new e_(H.E.L);l.data={d:H.t.Rq,EW:"confirm"};
l.data.h=hU.get(n)+". "+hU.get([6,8])+"?";var x=_;l.data._f=function(){var t=new e_(H.E.yy,!0);t.data={et:"rasterizeLayer",ot:{classID:"rasterizeLayer",null:g3.g5("Lyr",!0)}};
x.$(t)};_.$(l);return!1}if(_)alert(hU.get(n));return!1};fJ.prototype.au_=function(_){var n=this.root.yJ(_);
if(n.parent)return n.j.Pn()&&this.au_(n.parent.index);else return n.j.Pn()};fJ.prototype.P_=function(_){var n=this;
if(_){var O=0;for(var m=0;m<n.g.length;m++)if(n.B[n.g[m]].add.artb)O++;if(O>1)return-1}if(n.add.artd&&n.g.length!=0){var l=n.root.yJ(n.g[0]);
while(l.parent.parent)l=l.parent;if(l.j.add.artb)return l.index}return-1};fJ.prototype.a3$=function(){var _=this.B[this.g[0]];
if(_.LN<=0&&!_.rect.JS(this.P.rect)){alert("Selected area is empty.");return!1}if(this.g.length==1&&this.P){var n=Q.Q(this.P.channel.length);
Q.w6(_.buffer,_.rect,n,this.P.rect);Q.tB(this.P.channel,n);if(Q.QX(n,0)){alert("Selected area is empty.");
return!1}}return!0};fJ.prototype.tk=function(){if(this.OS["r"+1037]==null)this.mz(30);return R.aH(this.OS["r"+1037],0)};
fJ.prototype.mz=function(_){if(this.OS["r"+1037]==null)this.OS["r"+1037]=new Uint8Array(4);if(R.aH(this.OS["r"+1037],0)==_)return;
R.HK(this.OS["r"+1037],0,_);this.aoW()};fJ.prototype.a$=function(){if(this.OS["r"+1049]==null)this.LC(30);
return R.aH(this.OS["r"+1049],0)};fJ.prototype.LC=function(_){if(this.OS["r"+1049]==null)this.OS["r"+1049]=new Uint8Array(4);
if(R.aH(this.OS["r"+1049],0)==_)return;R.HK(this.OS["r"+1049],0,_);this.aoW()};fJ.prototype.EL=function(_){if(this.add.lnk2==null)return null;
for(var m=0;m<this.add.lnk2.length;m++)if(this.add.lnk2[m].Et==_)return this.add.lnk2[m];return null};
fJ.prototype.akj=function(_){var n=this.EL(_);if(n==null)return!1;var O=dx.N_(n.raw.buffer);if(O==null)return!1;
if(dx.Jv(O)!=null||O=="psd")return!0;return!1};fJ.prototype.Fe=function(_,n,O,l,x,t){var h=this.EL(_);
if(h==null)return null;h.Cs(n,O,l,x,t);if(h.lf)return h};fJ.prototype.aeS=function(){var _=this.a,n=this.n;
if(ex.kj&&this._V==null)this._V=new ex.eO(_,n,!0);if(this.buffer==null||this.buffer.length!=_*n*4||ex.kj&&(this._V.a!=_||this._V.n!=n)){this.buffer=Q.Q(_*n*4);
if(this._V)this._V.delete();if(ex.kj)this._V=new ex.eO(_,n,!0)}};fJ.prototype.abO=function(){this.aeS();
if(ex.kj){this._V.set(this.buffer)}};fJ.prototype.jN=function(_){var n=this.a,O=this.n,l=new a8(0,0,n,O),x=this.VZ?l:l.v6(this.Ie);
this.aeS();if(x.wk())return;if(!x.yO(l)){if(!ex.kj){var t=Q.A2(x.O()*4);Q.zw(t,x,this.buffer,l)}if(ex.kj){ex.QC(this._V,x);
ex.d1(0)}}else{if(ex.kj){this._V.set(null)}else{this.buffer.fill(0)}}var h=Date.now(),V=ex.kj?this._V:this.buffer;
if(_==null)_=1e9;var y=this.root.children;for(var m=0;m<y.length;m++){var r=y[m].j;if(r.Pn()&&r.add.artb&&this.add.artd){var E=r.DM(),a=x.v6(E),S=r.pn();
if(S!=0){if(ex.kj){ex.QC(V,a);ex.d1(S);ex.d1(S)}else Q.at6(V,l,a,S)}}}this.root.Bi(V,l,x,this,[],_);
this._2=this.Ie.clone()};fJ.prototype.Ni=function(_){var n=new v;n.rect=new a8(0,0,0,0);n.buffer=Q.Q(1);
n.add.luni=new aW(0,0);if(_!=!0)n.add.lyid=this.Io();n.add.lsct=bN.IE;n.add.lclr=0;n.add.fxrp=new aW(0,0);
return n};fJ.prototype.y9=function(_){var n=this.Ni(_);n.iA("</Layer group>");n.add.lsct=bN.eg;n.FQ=24;
return n};fJ.prototype.t0=function(){return this.Uh!=this.Yo};fJ.prototype.dc=function(_){while(this.history.length>this.Uh+1)this.history.pop();
if(this.Yo>this.Uh)this.Yo=-1;if(_.G.id!=D.lI){this.P1=!0;if(this.OQ.lastAppliedComp){delete this.OQ.lastAppliedComp;
this.i1=!0}}this.history.push(_);this.Uh++;this.i1=!0;var n=iM.Sg()?60:30,O=0;for(var m=this.history.length-1;
m>=0;m--){var l=this.history[m];if(l.v$)continue;O++;if(O==n){this.Uh-=m;this.history=this.history.slice(m);
break}}};fJ.prototype.bU=function(){if(this.Uh!=this.history.length-1)return null;return this.history[this.history.length-1]};
fJ.prototype.wy=function(_,n,O,l){if(_==null)_=!1;var x=n!=null?[n]:this.g.slice(0);if(l){var t=[];for(var m=0;
m<x.length;m++){var h=this.B[x[m]],V=h.Ac;if(h.DZ&&V!=0&&t.indexOf(V)==-1)t.push(V)}if(t.length!=0)for(var m=0;
m<this.B.length;m++){var h=this.B[m],V=h.Ac;if(h.DZ&&V!=0&&t.indexOf(V)!=-1&&x.indexOf(m)==-1)x.push(m)}}var y=[];
for(var m=0;m<x.length;m++){var r=this.ix(x[m],_);for(var E=0;E<r.length;E++)if(y.indexOf(r[E])==-1)y.push(r[E]);
if(O){var ab=this.root.yJ(x[m]);while(ab.parent!=null&&ab.parent.parent!=null){ab=ab.parent;if(y.indexOf(ab.index)==-1){y.push(ab.index,ab.qz)}}}}return y};
fJ.prototype.NS=function(_,n,O){var l=this,x=l.wy(!1,_,null,O);x.sort(function(W,s){return W-s});var t={};
for(var h=0;h<l.B.length;h++){var V=l.B[h].getName();t[V]=!0}var y=[];for(var m=0;m<x.length;m++){var r=l.B[x[m]].clone(),T,C;
r.add.lyid=l.Io();r.add.lspf=0;if(r.lx()){var E=r.vO(l),a=fJ.aiG(E);l.VS(a);r.add.SoLd.placed.v=a.id}else if(r.add.SoLd){var S=r.add.SoLd.placed.v;
r.add.SoLd.placed.v=fJ.DA(S.slice(0,8))+S.slice(8)}r.bf(l);var e=r.getName(),P=e.length;while(48<=e.charCodeAt(P-1)&&e.charCodeAt(P-1)<=57)P--;
var b=parseInt(e.slice(P));if(isNaN(b)){if(e.endsWith(" copy")){b=1;T=e.slice(0,e.length-5)}else{b=0;
T=e}}else if(e.slice(0,P).endsWith(" copy ")){b=b;T=e.slice(0,P-6)}else{b=0;T=e}b++;while(!0){C=T+" copy"+(b==1?"":" "+b);
if(t[C]==null)break;b++}var Z=x.indexOf(this.root.yJ(x[m]).parent.index)!=-1;if(e=="Background"&&l.B.length==1)C="Layer 1";
if(n!=!0&&!Z)r.iA(C);t[C]=!0;y.push(r)}return y};fJ.aiG=function(_){return{id:fJ.DA(_.id.slice(0,8))+_.id.slice(8),buffer:_.buffer.slice(0),rect:_.rect.clone(),z:_.z?_.z.clone():null}};
fJ.ah0=function(_){return{id:_,rect:new a8,buffer:Q.Q(1),z:new v.Pt}};fJ.ew=function(_,n){if(n==null)n={vmsk:new v.ez};
if(n.vogk==null){n.vogk=[];var O=Q.M.Cw(n.vmsk.i);for(var l=0;l<O;l++)n.vogk.push(Q.X.A2())}return{name:_,tE:0,add:n}};
fJ.prototype.cx=function(_){var n=[],O=[],l=this,t=0;for(var m=1;m<l.VE.length;m++){var x=l.VE[m];x.tE=-1-m;
n.push(x);if(l.WJ.indexOf(m)!=-1)O.push(n.length-1)}if(l.VE[0].add.vmsk.i.length>2){var x=l.VE[0];x.tE=-1;
n.push(x);if(l.WJ.indexOf(0)!=-1)O.push(n.length-1)}var h=l.tF==null;if(h)l.tF=[];for(var m=l.g.length-1;
m>=0;m--){var V=l.B[l.g[m]],y=V.add.TySh;if(V.add.vmsk!=null&&(V.MZ||V.uq())){var x=fJ.ew("\""+V.getName()+"\" Shape Path",V.add);
x.tE=l.g[m];n.push(x);if(h)l.tF.push(t);if(l.tF.indexOf(t)!=-1)O.push(n.length-1);t++}if(_!=!0&&y&&y.add&&Q.Q6.Z1(y.ZA)){var x=fJ.ew("\""+V.getName().slice(0,10)+"..\" Text Path",y.add);
x.tE=1e6+l.g[m];n.push(x);O.push(n.length-1);t++}}if(O.length==0&&_){l.VE[0].tE=-1;l.WJ=[0];O.push(n.length);
n.push(l.VE[0])}return[n,O]};fJ.prototype.ix=function(m,_){var n=[],ab=this.root.yJ(m);if(ab)ab.Mv(n,_);
return n};fJ.prototype.Mq=function(){this.root.XW(this,new a8(0,0,this.a,this.n))};fJ.prototype.T0=function(_){for(var m=0;
m<this.B.length;m++){var n=this.B[m];if(_.indexOf(n)==-1){n.Fy.avn();n.U()}}var O=0;for(var m=0;m<_.length;
m++)if(_[m].add.artb)O++;this.GN(O);this.B=_.slice(0);this.dP()};fJ.prototype.dP=function(){var _=this.B,n=_.length;
this.root=new jW;var O=this.Ni(!0);O.to="pass";O.add.lsct=bN.GV;O.iA("");var l=this.y9(!0),x=[l];for(var m=0;
m<n;m++)x.push(_[m]);x.push(O);this.root.abo(x,0,0);if(this.g.length==0)this.g=[n-1]};fJ.prototype.$F=function(){if(this.g.length!=1)return;
var _=this.root.yJ(this.g[0]);while(_.parent!=null){var n=_.parent.j;n.add.lsct=bN.GV;_=_.parent}this.Hc=this.a64=!0};
fJ.prototype.a6E=function(){this.dP();var _=[this.root],gj=0;while(_.length!=0){var top=_.pop();gj++;
if(top.j.add.lsct==bN.GV)for(var m=0;m<top.children.length;m++)_.push(top.children[m])}if(gj>1e3){var n=this.root.children;
for(var m=0;m<n.length;m++)if(n[m].j.add.lsct==bN.GV)n[m].j.add.lsct=bN.SE}};fJ.PM=function(_,n,O,l,x,t,h,V){if(V==null)V="sRGB IEC61966-2.1";
var y={__name:"Make",classID:"Mk",Nw:{t:"Objc",v:{classID:"Dcmn",Nm:{t:"TEXT",v:l},artboard:{t:"bool",v:t},Md:{t:"type",v:{classID:"RGBM"}},Wdth:{t:"UntF",v:{type:"#Rlt",val:_}},Hght:{t:"UntF",v:{type:"#Rlt",val:n}},Rslt:{t:"UntF",v:{type:"#Rsl",val:O}},pixelScaleFactor:{t:"doub",v:1},Fl:{t:"enum",v:{Fl:x}},Dpth:{t:"long",v:8},profile:{t:"TEXT",v:V}}}};
if(x=="Clr")y.Nw.v.FlCl={t:"Objc",v:h};return{et:"make",ot:y}};fJ.arv=function(_,n){var O=0,l=0,x=72,t=n.ad1,h=_.preset&&_.preset.v=="Clipboard";
if(h){O=t.a;l=t.n}else{O=_.Wdth.v.val;l=_.Hght.v.val;x=_.Rslt.v.val}var V=new fJ((_.Nm?_.Nm.v:hU.get([11,7]))+".psd");
V.a=O;V.n=l;V.pa=x;var y=_.Fl?_.Fl.v.Fl:"Wht";if(_.artboard&&_.artboard.v){var r=V.Ni();r.iA(hU.get([1,16,0])+" 1");
r.add.lsct=bN.GV;r.C_(new a8(0,0,O,l));r.add.artb.artboardBackgroundType={t:"long",v:{Wht:1,Blck:2,Trns:3,BckC:1,Clr:4}[y]};
if(y=="Clr")r.add.artb.Clr={t:"Objc",v:Q.N.YS(Q.N.JU(_.FlCl.v))};r.to="pass";r.FQ=24;var E=V.Ni();E.iA("Layer 1");
V.T0([V.y9(),E,r]);V.GN(1);V.g=[1]}else{var a=V.Ni(),S=0;a.iA("Background");V.T0([a]);a.add.lspf=1<<2;
if(y=="Clr"){S=Q.N.JU(_.FlCl.v);S=255<<24|Math.round(S.k)<<16|Math.round(S.J)<<8|Math.round(S.o)}else{var e=n.lV;
e=(e&255)<<16|(e>>>8&255)<<8|e>>>16;S={Trns:0,Wht:4294967295,Blck:4278190080,BckC:255<<24|e}[y]}a.rect=new a8(0,0,O,l);
a.buffer=Q.Q(O*l*4);Q.qs(a.buffer,S)}V.buffer=Q.Q(O*l*4);var P=_.profile;if(P){var b={"Adobe RGB (1998)":"icc/adobe","ProPhoto RGB":"icc/prophoto","image P3":"icc/displayp3"}[P.v];
if(b)V.nE(dx.nG.get(b))}return V};function jd(_){this.cn=_;this.K=0;this.XC=1;this.R=new aW(0,0);this.iF=new aW(0,0);
this.ws=0;this.CN=[1,1,1];this.ej=0;this.l_=new a8(0,0,1,1);this.a6M=new a8(0,0,_.a,_.n);this.t9=null;
this.lj=null;this.FS=new Uint32Array(0);this.fd=null;this.px=null;this.JX=Q.Q(0);this.cD=null;this.gY=null}jd.prototype.A9=function(_){var n=new aY,O=this.l_,l=this.cn,x=_?this.XC:this.K,t=_?this.iF:this.R,h=Math.round((O.a-l.a*x)/2+t.x),V=Math.round((O.n-l.n*x)/2+t.y);
n.translate(-h,-V);n.scale(1/x,1/x);var y=l.a/2,r=l.n/2;n.translate(-y,-r);n.rotate(this.ws);n.translate(y,r);
return n};jd.prototype.an3=function(_){var n=this.l_,O=this.cn,l=Math.atan2(-_.k,_.EX),x=O.a/2,t=O.n/2;
_.translate(-x,-t);_.rotate(-l);_.translate(x,t);var h=1/_.Sn();_.scale(h,h);var V=-_.Wk,y=-_.d7,r=Math.round(V-(n.a-O.a*h)/2),E=Math.round(y-(n.n-O.n*h)/2);
if(Math.abs(h-Math.round(h))<1e-6)h=Math.round(h);this.ws=l;this.K=h;this.R=new aW(r,E)};jd.prototype.vk=function(_,n){var O=this.A9();
return O.uz(new aW(_,n))};jd.prototype.KS=function(_,n){var O=this.A9();O.sJ();return O.uz(new aW(_,n))};
function aF(){}aF.order="ebbl FrFX IrSh IrGl ChFX SoFi GrFl patternFill OrGl DrSh".split(" ");aF.Ck="ebblMulti frameFXMulti innerShadowMulti IrGlMulti ChFXMulti solidFillMulti gradientFillMulti patternFillMulti OrGlMulti dropShadowMulti".split(" ");
aF.names=[[14,4],[14,9],[14,1],[14,3],[14,8],[14,5],[14,6],[14,7],[14,2],[14,0]];aF.aih=["DrSh","IrSh","SoFi","GrFl","FrFX"];
aF.M4=["Clr"];aF.Em="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");aF.Vy=["Ptrn","Angl","Scl","Algn","phase"];
aF.p2={zs:"{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}}}",a6y:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Two Color\"               },\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"UsrS\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50},\"Clr\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"Clrt\",\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Type\":{\"v\":{\"Clry\":\"UsrS\"},\"t\":\"enum\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}]},\"Trns\":{\"v\":[{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":0,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}}}",au2:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Foreground to Background\"},\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"FrgC\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"BckC\"}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]},\"Trns\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]}}}",aou:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Custom\"                  },\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"ClNs\"}},\"ShTr\":{\"t\":\"bool\",\"v\":false},\"VctC\":{\"t\":\"bool\",\"v\":false},\"ClrS\":{\"t\":\"enum\",\"v\":{\"ClrS\":\"RGBC\"}},\"RndS\":{\"t\":\"long\",\"v\":1466092501},\"Smth\":{\"t\":\"long\",\"v\":2048},\"Mnm\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0}]},\"Mxm\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100}]}}}",Zj:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"v\":\"orangeslices\",\"t\":\"TEXT\"},\"Idnt\":{\"v\":\"c7acb22a-47a6-11de-919a-bf574370eaaf\",\"t\":\"TEXT\"}}}"};
aF.p2.zs="\"Clr\": "+aF.p2.zs;aF.p2.N="\"Grad\":"+aF.p2.a6y+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\":90},\"t\":\"UntF\"},\"Rvrs\":{\"v\":false,\"t\":\"bool\"},\"Type\":{\"v\":{\"GrdT\":\"Lnr\"},\"t\":\"enum\"},\"Ofst\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Vrtc\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"}},\"t\":\"Objc\"},\"Dthr\":{\"v\":false,\"t\":\"bool\"}";
aF.p2.Zj="\"Ptrn\":"+aF.p2.Zj+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\": 0},\"t\":\"UntF\"},\"phase\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"}";
aF.default="{ \"classID\": \"null\", \"Scl\": {\"t\": \"UntF\", \"v\": { \"type\": \"#Prc\",\"val\": 100} }, \"masterFXSwitch\": {\"t\": \"bool\",\"v\": true} }";
aF._v=["{\"classID\":\"ebbl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"hglM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Scrn\"}},\"hglC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":255},\"Grn\":{\"t\":\"doub\",\"v\":255},\"Bl\":{\"t\":\"doub\",\"v\":255}}},\"hglO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"sdwM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Mltp\"}},\"sdwC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}},\"sdwO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"bvlT\":{\"t\":\"enum\",\"v\":{\"bvlT\":\"SfBL\"}},\"bvlS\":{\"t\":\"enum\",\"v\":{\"BESl\":\"InrB\"}},\"uglg\":{\"t\":\"bool\",\"v\":true},\"lagl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":120}},\"Lald\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":30}},\"srgR\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"blur\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":5}},\"bvlD\":{\"t\":\"enum\",\"v\":{\"BESs\":\"In\"}},\"TrnS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"antialiasGloss\":{\"t\":\"bool\",\"v\":false},\"Sftn\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":0}},\"useShape\":{\"t\":\"bool\",\"v\":false},\"MpgS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"AntA\":{\"t\":\"bool\",\"v\":false},\"Inpr\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":28}},\"useTexture\":{\"t\":\"bool\",\"v\":false},\"InvT\":{\"t\":\"bool\",\"v\":false},\"Algn\":{\"t\":\"bool\",\"v\":true},\"Scl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"textureDepth\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Ptrn\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"orangeslices\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"c7acb22a-47a6-11de-919a-bf574370eaaf\"}}},\"phase\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}}}","{\"classID\":\"FrFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Styl\":{\"v\":{\"FStl\":\"OutF\"},\"t\":\"enum\"},\"PntT\":{\"v\":{\"FrFl\":\"SClr\"},\"t\":\"enum\"},\"Sz\":{\"v\":{\"type\":\"#Pxl\",\"val\":3},\"t\":\"UntF\"},"+aF.p2.zs+","+aF.p2.N+","+aF.p2.Zj+"}","{\"classID\":\"IrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"IrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"glwS\":{\"v\":{\"IGSr\":\"SrcE\"},\"t\":\"enum\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"ChFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 50},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"Invr\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":19},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":11},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":14},\"t\":\"UntF\"},\"MpgS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Gaussian\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":32,\"t\":\"doub\"},\"Vrtc\":{\"v\":7,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":64,\"t\":\"doub\"},\"Vrtc\":{\"v\":38,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":96,\"t\":\"doub\"},\"Vrtc\":{\"v\":101,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":128,\"t\":\"doub\"},\"Vrtc\":{\"v\":166,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":159,\"t\":\"doub\"},\"Vrtc\":{\"v\":209,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":191,\"t\":\"doub\"},\"Vrtc\":{\"v\":235,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":223,\"t\":\"doub\"},\"Vrtc\":{\"v\":248,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"SoFi\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+aF.p2.zs+"}","{\"classID\":\"GrFl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+aF.p2.N+"}","{\"classID\":\"patternFill\",\"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+aF.p2.Zj+"}","{\"classID\":\"OrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"DrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 57},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":27},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":13},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Line\xE1rn\xED\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"layerConceals\":{\"v\":true,\"t\":\"bool\"}}"];
aF.N={types:"Lnr Rdl Angl Rflc Dmnd shapeburst".split(" "),names:[[19,0,0],[19,0,1],[19,0,2],[19,0,3],[19,0,4],[19,0,5]]};
aF.stroke={types:["InsF","CtrF","OutF"],names:[[19,5,2],[19,5,1],[19,5,0]],eG:["SClr","GrFl","Ptrn"],anN:[[13,0],[12,37],[12,62]]};
aF.cB={types:["SfBL","PrBL"],names:[[19,1,0],[19,1,1]],ajH:["SrcC","SrcE"],a8L:[[19,5,1],[12,69]]};aF.yR={types:["OtrB","InrB","Embs","PlEb","strokeEmboss"],style:[[19,2,0],[19,2,1],[19,2,2],[19,2,3],[19,2,4]],a8J:["SfBL","PrBL","Slmt"],ax9:[[19,3,0],[19,3,1],[19,3,2]],dir:[[19,4,0],[19,4,1]]};
aF.eo={vl:["strokeStyleButtCap","strokeStyleRoundCap","strokeStyleSquareCap"],_R:["strokeStyleAlignInside","strokeStyleAlignCenter","strokeStyleAlignOutside"],join:["strokeStyleMiterJoin","strokeStyleRoundJoin","strokeStyleBevelJoin"],yz:["solidColorLayer","gradientLayer","patternLayer"],default:{classID:"strokeStyle",strokeStyleVersion:{t:"long",v:2},strokeEnabled:{t:"bool",v:!1},fillEnabled:{t:"bool",v:!0},strokeStyleLineWidth:{t:"UntF",v:{type:"#Pnt",val:1}},strokeStyleLineDashOffset:{t:"UntF",v:{type:"#Pnt",val:0}},strokeStyleMiterLimit:{t:"doub",v:100},strokeStyleLineCapType:{t:"enum",v:{strokeStyleLineCapType:"strokeStyleButtCap"}},strokeStyleLineJoinType:{t:"enum",v:{strokeStyleLineJoinType:"strokeStyleMiterJoin"}},strokeStyleLineAlignment:{t:"enum",v:{strokeStyleLineAlignment:"strokeStyleAlignCenter"}},strokeStyleScaleLock:{t:"bool",v:!1},strokeStyleStrokeAdjust:{t:"bool",v:!1},strokeStyleLineDashSet:{t:"VlLs",v:[]},strokeStyleBlendMode:{t:"enum",v:{BlnM:"Nrml"}},strokeStyleOpacity:{t:"UntF",v:{type:"#Prc",val:100}},strokeStyleContent:{t:"Objc",v:JSON.parse("{\"classID\":\"solidColorLayer\","+aF.p2.zs+"}")},strokeStyleResolution:{t:"doub",v:72}}};
aF.iS=[{classID:"null",Clr:JSON.parse(aF._v[5]).Clr},{classID:"null",Grad:JSON.parse(aF._v[6]).Grad,Dthr:{t:"bool",v:!1},Rvrs:{t:"bool",v:!1},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Type:{t:"enum",v:{GrdT:"Lnr"}},Algn:{t:"bool",v:!0},Scl:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:0}},Vrtc:{t:"UntF",v:{type:"#Prc",val:0}}}}},{classID:"null",Ptrn:JSON.parse(aF._v[7]).Ptrn,Algn:{v:!0,t:"bool"},Scl:{v:{type:"#Prc",val:100},t:"UntF"},Angl:{v:{type:"#Ang",val:0},t:"UntF"},phase:{v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}];
var fW={};fW.nn=function(_,n){function O(_,S){if(_==null||!_.masterFXSwitch.v)return null;var e=_[S].v,P;
if(e.length!=0){P=e[0].v;if(!P.enab.v)P=null}return P}var l=n.SoCo,x=n.GdFl,t=O(_,"solidFillMulti"),h=O(_,"gradientFillMulti");
if(t==null&&h==null)return[l,x];var V=fW.akK;if(l&&t&&h==null){var y=JSON.parse(JSON.stringify(l));y.Clr.v=V(t.Clr.v,l.Clr.v,t);
return[y,null]}if(x&&t&&h==null){var r=JSON.parse(JSON.stringify(x)),E=r.Grad.v.Clrs.v;for(var m=0;m<E.length;
m++){var a=E[m].v.Clr;a.v=V(t.Clr.v,a.v,t)}return[null,r]}if(l&&h){var r=JSON.parse(JSON.stringify(h)),E=r.Grad.v.Clrs.v;
for(var m=0;m<E.length;m++){var a=E[m].v.Clr;a.v=V(a.v,l.Clr.v,h)}return[null,r]}return[t,h]};fW.a9Y={vs:Q.Q(4),MQ:Q.Q(4),o:new a8(0,0,1,1)};
fW.akK=function(_,n,O){var l=b3.SY(O.Md.v.BlnM),x=O.Opct.v.val/100,t=fW.a9Y;_=Q.N.JU(_);n=Q.N.JU(n);
t.vs[0]=_.o;t.vs[1]=_.J;t.vs[2]=_.k;t.vs[3]=255;t.MQ[0]=n.o;t.MQ[1]=n.J;t.MQ[2]=n.k;t.MQ[3]=255;Q.q.Zn(l,t.vs,t.o,t.MQ,t.o,t.o,x);
return{classID:"RGBC",Rd:{t:"doub",v:t.MQ[0]},Grn:{t:"doub",v:t.MQ[1]},Bl:{t:"doub",v:t.MQ[2]}}};fW.aut=function(_,n,O){var l=_;
_=_.slice(0);var x=b3.qX[b3.AM.indexOf(n.Md.v.BlnM)],t=Q.N.JU(n.Clr.v),h=4278190080|Math.round(t.k)<<16|Math.round(t.J)<<8|Math.round(t.o),V=Q.Q(O.O()*4);
Q.qs(V,h);Q.q.Zn(x,V,O,_,O,O,n.Opct.v.val/100);for(var m=0;m<_.length;m+=4)_[m+3]=l[m+3];return _};fW.BI=function(_,n){var O=["Sz","blur","Sftn","Dstn"];
for(var m=0;m<aF.order.length;m++){var l=aF.order[m],x=_[aF.Ck[m]].v;for(var t=0;t<x.length;t++){var h=x[t].v;
for(var V=0;V<O.length;V++){var y=h[O[V]];if(y){var r=y.v.val,E=r;E=Math.max(r==0?0:1,E*n);if(l=="ChFX")E=Math.min(E,250);
if(l=="ebbl"){if(O[V]=="blur")E=Math.min(E,250);if(O[V]=="Sftn")E=Math.min(E,16)}y.v.val=Math.round(E)}}if(l=="ebbl"||l=="patternFill"||l=="FrFX")if(h.Ptrn&&h.Scl)h.Scl.v.val=Math.max(1,Math.min(1e3,h.Scl.v.val*n))}}};
fW.ag8=function(_,n,O){var l=new a8(-.5,-.5,1,1);for(var m=0;m<aF.order.length;m++){var x=aF.order[m],t=_[aF.Ck[m]].v;
for(var h=0;h<t.length;h++){var V=t[h].v,a;if(!V.enab.v)continue;var y=V.blur?V.blur.v.val+1:0,r=V.Ckmt?V.Ckmt.v.val/100:0,E=Math.round(y*r);
if(x=="DrSh"||x=="IrSh"&&O){a=new a8(-.5,-.5,1,1);a.nQ(y,y);fW.el(a,V,n,0)}if(x=="OrGl"||x=="IrGl"&&O){a=new a8(-.5,-.5,1,1);
a.nQ(y,y)}if(x=="FrFX"){var S=fW.qA(V),e=S[1];if(O)e=Math.max(S[0],e);a=new a8(-.5,-.5,1,1);a.nQ(Math.ceil(e),Math.ceil(e))}if(x=="ebbl"){var y=V.blur.v.val,P=V.bvlS.v.BESl;
if(P=="Embs"||P=="PlEb")y/=2;var b=["OtrB","InrB","Embs","PlEb","strokeEmboss"],T=["SfBL","PrBL","Slmt"],C=["In","Out"],Z=V.bvlT.v.bvlT!="SfBL"?y:y*.43,W=Math.round(y);
a=new a8(-W-1,-W-1,2*W+2,2*W+2)}if(O&&x=="ChFX"){a=new a8(-.5,-.5,1,1);a.nQ(y,y);var s=a.clone();fW.el(a,V,n,0);
fW.el(s,V,n,Math.PI);a=a.uG(s)}if(a)l=l.uG(a)}}if(l.x!=Math.ceil(l.x)){l.x=Math.ceil(l.x);l.a-=1}if(l.y!=Math.ceil(l.y)){l.y=Math.ceil(l.y);
l.n-=1}l.a=Math.floor(l.a);l.n=Math.floor(l.n);return l};fW.qA=function(_){var n=0,O=0,l=_.Styl.v.FStl,x=_.Sz.v.val;
if(l=="OutF")O=x;if(l=="InsF")n=x;if(l=="CtrF")n=O=x/2;return[n,O]};fW.a6h=function(_){if(ex.kj&&_.Uj==null){_.Uj=new ex.eO(_.NV.a,_.NV.n);
_.Uj.set(_.sw);delete _.sw;if(_.xI){_.oh=new ex.Yq(_.NV.a,_.NV.n);_.oh.set(_.xI);delete _.xI}if(_.qd){_.zh=new ex.Yq(_.NV.a,_.NV.n);
_.zh.set(_.qd);delete _.qd}}};fW.a0g=function(_){if(_.Uj)_.Uj.delete();if(_.oh)_.oh.delete();if(_.zh)_.zh.delete()};
fW.anZ=function(_){if(_.all==null)return;for(var m=0;m<_.all.length;m++){fW.a0g(_.all[m])}};fW.a1A=function(_,n,O,l,x,t){var h=fW.R$(O,l,_,n,x,t);
for(var m=0;m<h.all.length;m++)fW.a6h(h.all[m]);return h};fW.a4x=function(_){for(var m=0;m<aF.order.length;
m++){var n=aF.order[m],O=aF.Ck[m],l=_[O].v;for(var x=0;x<l.length;x++){var t=l[x].v;if(t.enab.v&&["patternFill","GrFl","SoFi"].indexOf(n)==-1)return!0}}return!1};
fW.R$=function(_,n,O,l,x,t){if(t==null)t=l;var h=0,V=0;for(var m=0;m<aF.order.length;m++){var y=aF.order[m],r=aF.Ck[m],E=_[r].v;
for(var a=0;a<E.length;a++){var S=E[a].v;if(y=="DrSh"&&S.enab.v&&S.Ckmt.v.val>0&&S.blur.v.val>0)h=Math.max(h,Math.ceil(S.Ckmt.v.val*S.blur.v.val/100));
if(y=="OrGl"&&S.enab.v&&S.Ckmt.v.val>0&&S.blur.v.val>0&&S.GlwT.v.BETE=="SfBL")h=Math.max(h,Math.ceil(S.Ckmt.v.val*S.blur.v.val/100));
if(y=="OrGl"&&S.enab.v&&S.blur.v.val>0&&S.GlwT.v.BETE=="PrBL")h=Math.max(h,S.blur.v.val);if(y=="FrFX"&&S.enab.v&&S.Sz.v.val>0){if(S.Styl.v.FStl=="OutF")h=Math.max(h,S.Sz.v.val);
if(S.Styl.v.FStl=="CtrF")h=Math.max(h,Math.ceil(S.Sz.v.val/2));V=Math.max(V,fW.qA(S)[1])}}}var e=new fW.Ra(O,l,h,fW.a4x(_)),P=-l.x,b=-l.y,T={type:{},all:[]};
for(var C=0;C<aF.order.length;C++){var y=aF.order[C],r=aF.Ck[C];T.type[y]=[];for(var Z=_[r].v.length-1;
Z>=0;Z--){var W=_[r].v[Z].v,g;if(!W.enab.v)continue;var s=W.blur?W.blur.v.val:0,f=W.Ckmt?W.Ckmt.v.val/100:0,q=s*f;
if(y=="DrSh"){var i=e.ei(q,s-q,!0),u=i.MF,I=i.Sm;I.offset(P,b);fW.$Z(u,W,!1);fW.el(I,W,x,0);var Y=Q.Q(I.O()*4);
fW.Cm(Y,W.Clr.v);Q.$c(u,Y,3);g={sw:Y,NV:I,a5T:W.layerConceals.v}}else if(y=="IrSh"){var i=e.ei(q,s-q,!1);
fW.el(i.Sm,W,x,0);var I=e.rect().clone(),u=Q.Q(I.O());u.fill(255);Q.pc(i.MF,i.Sm,u,I);fW.$Z(u,W,!0,!0);
var Y=Q.Q(I.O()*4);fW.Cm(Y,W.Clr.v);Q.$c(u,Y,3);I.offset(P,b);g={sw:Y,NV:I}}else if(y=="GrFl"){var Y=Q.Q(e.rect().O()*4);
fW.ae(W,Y,e.rect(),x,null,t);var I=e.rect().clone();I.offset(P,b);g={sw:Y,NV:I}}else if(y=="SoFi"){var Y=Q.Q(e.MF().length*4);
fW.Cm(Y,W.Clr.v);var I=e.rect().clone();I.offset(P,b);g={sw:Y,NV:I}}else if(y=="ebbl"){var U=!1;if(U)console.log(W);
var F=Date.now(),N=W.bvlS.v.BESl;if(N=="strokeEmboss"){var o=_.frameFXMulti.v;if(o.length==0)continue;
o=o[0].v;if(!o.enab.v)continue;var X=o.Styl.v.FStl;if(X=="OutF")N="OtrB";if(X=="CtrF")N="Embs";if(X=="InsF")N="InrB"}var s=W.blur.v.val;
if(s==0)s=.7;if(N=="Embs"||N=="PlEb")s/=2;var J=["OtrB","InrB","Embs","PlEb","strokeEmboss"],c=["SfBL","PrBL","Slmt"],p=["In","Out"],d=W.bvlT.v.bvlT!="SfBL"?s:s*.45,k=Math.round(s),A=e.rect().clone(),$=A.clone();
$.nQ(k,k);var K=$.a,G=$.n,z=K*G,M=Q.Q(z);Q.pc(e.MF(),A,M,$);var hl=new Float64Array(z),j=new Float64Array(z);
Q.style.qx(M,hl,K,G);Q.sJ(M);Q.style.qx(M,j,K,G);if(U)console.log("distTransform computed",Date.now()-F);
for(var m=0;m<z;m++)j[m]=j[m]-hl[m];for(var m=0;m<z;m++){var w=j[m];if(w<-d)j[m]=-d;else if(w>d)j[m]=d}if(U)console.log("summing + cropping",Date.now()-F);
if(W.bvlT.v.bvlT=="SfBL"){var B=Math.pow(s*.21,1.22);if(!0)B=Math.max(B,2);var bB=Q.OX.uS(B,2);Q.OX.fg(j,hl,$,bB[0]>>>1);
Q.OX.fg(hl,j,$,bB[1]>>>1)}if(U)console.log("blurring",Date.now()-F);var bG=j,eb=bG.slice(0);if(W.useShape.v){var fe=Math.min(100,W.Inpr.v.val+1)/100;
if(N!="OtrB"&&N!="InrB")fe=1;var gB=Q.xu.b4(W.MpgS.v.Crv.v,2e3),hp=Math.round(2e3/fe);gB=Q.xu.amL(gB,hp,N=="InrB");
var g6=.5/d;for(var m=0;m<z;m++){var by=bG[m],e7=.99999*(by+d)*g6;bG[m]=-d+2*d*gB[~~(e7*(hp-1))]}if(U)console.log("applying shape",Date.now()-F)}if(W.useTexture.v){var aN=Q.Q(K*G*4);
fW.Iv(W,aN,$,x.add.Patt,n);var jK=Q.Q(K*G);Q.mx(aN,jK);var f7=Q.Q(K*G);Q.OX.nR(jK,f7,$,1);jK=f7;var hW=s*W.textureDepth.v.val*(1/100)*(1/255);
if(W.InvT.v)hW=-hW;for(var m=0;m<z;m++)bG[m]+=-hW*jK[m];if(U)console.log("applying texture",Date.now()-F)}var km=(W.bvlT.v.bvlT=="SfBL"?1:.5)*(W.bvlD.v.BESs=="In"?1:-1)*W.srgR.v.val/100;
for(var m=0;m<z;m++)bG[m]*=km;if(U)console.log("scaling",Date.now()-F);var ca=W.uglg&&W.uglg.v?x.tk():W.lagl.v.val;
ca=ca*(Math.PI/180);var aU=W.uglg&&W.uglg.v?x.a$():W.Lald.v.val;aU=aU*(Math.PI/180);var eJ=Math.cos(ca)*Math.cos(aU),am=-Math.sin(ca)*Math.cos(aU),eA=Math.sin(aU),dj=new Float64Array(z),cM=new Float64Array(z),b2=N=="PlEb";
for(var cm=0;cm<G;cm++)for(var az=0;az<K;az++){var m=cm*K+az,j_=0,hh=0,gs=1;if(cm!=0&&cm!=G-1&&az!=0&&az!=K-1){var fI=bG[m-K-1],c0=bG[m-K+1],ay=bG[m+K-1],fC=bG[m+K+1];
j_=-.125*(c0+2*bG[m+1]+fC-(fI+2*bG[m-1]+ay));hh=-.125*(ay+2*bG[m+K]+fC-(fI+2*bG[m-K]+c0))}else{var jQ=bG[m];
hh=-(cm==0?bG[m+K]-jQ:cm==G-1?jQ-bG[m-K]:.5*(bG[m+K]-bG[m-K]));j_=-(az==0?bG[m+1]-jQ:az==K-1?jQ-bG[m-1]:.5*(bG[m+1]-bG[m-1]))}var fw=1/Math.sqrt(j_*j_+hh*hh+1);
j_*=fw;hh*=fw;gs*=fw;var aG=j_*eJ+hh*am+gs*eA,a_=aG;if(b2)a_=-j_*eJ-hh*am+gs*eA;if(aG>0)dj[m]=aG;if(a_>0)cM[m]=a_}if(U)console.log("raycasting",Date.now()-F);
if(W.Sftn.v.val!=0){Q.OX.ad(dj,hl,$,W.Sftn.v.val*.43);var el=hl,hl=dj,dj=el;if(b2){Q.OX.ad(cM,hl,$,W.Sftn.v.val*.43);
var el=hl,hl=cM,cM=el}else Q.Jt(dj,cM)}if(U)console.log("softening",Date.now()-F);var gB=Q.xu.b4(W.TrnS.v.Crv.v,1024);
for(var m=0;m<z;m++){dj[m]=gB[~~(dj[m]*1024)];cM[m]=gB[~~(cM[m]*1024)]}if(U)console.log("contour remap",Date.now()-F);
K=Math.round(K);G=Math.round(G);var dD=Q.Q(K*G*4);fW.Cm(dD,W.hglC.v);var ip=Q.Q(K*G*4);fW.Cm(ip,W.sdwC.v);
var jn=Q.Q(K*G*4);fW.Cm(jn,W.hglC.v);var af=Q.Q(K*G*4);fW.Cm(af,W.sdwC.v);var iU=1/eA,hV=1/(1-eA),g6=1/d,gn=new Float64Array(1e3);
for(var m=0;m<1e3;m++)gn[m]=Math.pow(m*.001,.2);for(var cm=0;cm<G;cm++)for(var az=0;az<K;az++){var m=cm*K+az,fY=4*m+3,e1=0,d6=0;
e1=dj[m];d6=cM[m];var fO=Math.max(0,Math.min(.9999,(eb[m]+d*.993)*g6));fO=gn[Math.floor(fO*1e3)];var i$=fO*(1-Math.min(1,e1*iU)),gy=fO*(1-Math.min(1,(1-e1)*hV)),fT=fO*(1-Math.min(1,d6*iU)),kl=fO*(1-Math.min(1,(1-d6)*hV));
ip[fY]=Math.round(255*i$);dD[fY]=Math.round(255*gy);af[fY]=Math.round(255*fT);jn[fY]=Math.round(255*kl)}if(U)console.log("baking textures",Date.now()-F);
$=e.rect().clone();$.nQ(k,k);$.offset(P,b);g={acZ:W.bvlS.v.BESl=="strokeEmboss"};var fy=b3.SY(W.hglM.v.BlnM),g$=W.hglO.v.val/100,bt=b3.SY(W.sdwM.v.BlnM),jL=W.sdwO.v.val/100;
if(["InrB","Embs","PlEb"].indexOf(N)!=-1){g.iR={sw:dD,NV:$,Qf:fy,zN:g$};g.u$={sw:ip,NV:$,Qf:bt,zN:jL}}if(["OtrB","Embs","PlEb"].indexOf(N)!=-1){g.OF={sw:jn,NV:$,Qf:fy,zN:g$};
g.J6={sw:af,NV:$,Qf:bt,zN:jL}}if(U)console.log(Date.now()-F)}else if(y=="patternFill"){var c_=e.rect(),Y=Q.Q(c_.O()*4);
fW.Iv(W,Y,c_,x.add.Patt,n);var I=c_.clone();I.offset(P,b);g={sw:Y,NV:I}}else if(y=="ChFX"){var Y=Q.Q(e.MF().length*4);
fW.Cm(Y,W.Clr.v);var s=W.blur.v.val,hr=e.rect().clone();hr.nQ(s,s);var ew=Q.Q(hr.O()),dL=Q.Q(hr.O());
Q.pc(e.MF(),e.rect(),dL,hr);Q.OX.ff(dL,ew,hr,s*.43);var cf=Q.xu.gz(W.MpgS.v.Crv.v,256,!0);Q.qI(ew,cf);
var eo=Q.Q(e.MF().length),iz=Q.Q(e.MF().length),kj=e.rect().clone();fW.el(kj,W,x,0);Q.pc(ew,hr,eo,kj);
kj=e.rect().clone();fW.el(kj,W,x,Math.PI);Q.pc(ew,hr,iz,kj);var hL=eo.length;for(var m=0;m<hL;m++)Y[4*m+3]=Math.abs(eo[m]-iz[m]);
if(W.Invr.v)for(var m=0;m<hL;m++)Y[4*m+3]=255-Y[4*m+3];var I=e.rect().clone();I.offset(P,b);g={sw:Y,NV:I}}else if(y=="OrGl"){var i;
if(W.GlwT.v.BETE=="SfBL")i=e.ei(q,s-q,!0);else i=e.a5m(s,f,!0);var u=i.MF,I=i.Sm,ar=u.slice(0);fW.a4H(u,W);
var Y=Q.Q(I.O()*4);if(W.Grad==null){fW.Cm(Y,W.Clr.v);fW.$Z(u,W,!1)}else{fW.$Z(u,W,null);var bD={$H:u,dM:255,$D:0,qR:I};
fW.ae(W,Y,I,x,bD);var jC=W.Nose.v.val/100,eu=I.a;for(var m=0;m<ar.length;m++){var gx=255,eS=ar[m];if(eS<32){var fa=(eS+ar[m-1]+ar[m+1]+ar[m-eu]+ar[m+eu])*.2-1;
gx=Math.min(255,Math.round(Math.max(0,fa)*8))}u[m]=gx}fW.acY(u,W)}Q.$c(u,Y,3);I.offset(P,b);g={sw:Y,NV:I}}else if(y=="IrGl"){var i;
if(W.GlwT.v.BETE=="SfBL")i=e.ei(q,s-q,!1);else i=e.a5m(s,f,!1);var u=i.MF,I=i.Sm;fW.a4H(u,W);if(W.glwS.v.IGSr=="SrcC")Q.sJ(u);
var Y=Q.Q(I.O()*4);if(W.Grad==null){fW.Cm(Y,W.Clr.v);fW.$Z(u,W,!0)}else{fW.$Z(u,W,null);var bD={$H:u,dM:255,$D:0,qR:I};
fW.ae(W,Y,I,x,bD);u.fill(255);fW.acY(u,W)}Q.$c(u,Y,3);I.offset(P,b);g={sw:Y,NV:I}}else if(y=="FrFX"){var h6=fW.qA(W),bw=h6[0],bf=h6[1],I=e.rect().clone(),fq=null,ia=null;
I.nQ(Math.ceil(V),Math.ceil(V));if(bf>0){var i=e.ei(bf,0,!0);ia=i.MF;if(ia.length<I.O()){ia=Q.Q(I.O());
Q.pc(i.MF,i.Sm,ia,I)}}if(bw>0){var i=e.ei(bw,0,!1);fq=Q.Q(I.O());fq.fill(255);Q.pc(i.MF,i.Sm,fq,I)}I.offset(P,b);
var Y=Q.Q(I.O()*4),gI=W.PntT.v.FrFl;if(gI=="SClr")fW.Cm(Y,W.Clr.v);if(gI=="GrFl")fW.ae(W,Y,I,x,e.akd(bw,bf));
if(gI=="Ptrn")fW.Iv(W,Y,I,x.add.Patt,n);g={sw:Y,NV:I,qd:ia,xI:fq}}T.type[y].push(g);if(y=="ebbl"){if(g.iR)T.all.push(g.iR,g.u$);
if(g.OF)T.all.push(g.OF,g.J6)}else{g.Qf=b3.SY(W.Md.v.BlnM);g.zN=W.Opct.v.val/100,T.all.push(g)}}}return T};
fW.MJ=function(_){var n=1/Math.sqrt(_.x*_.x+_.y*_.y+_.$t*_.$t);_.x*=n;_.y*=n;_.$t*=n};fW.ai7=function(_,n){return{x:_.y*n.$t-_.$t*n.y,y:_.$t*n.x-_.x*n.$t,$t:_.x*n.y-_.y*n.x}};
fW.a5K=function(_,n){return _.x*n.x+_.y*n.y+_.$t*n.$t};fW.acY=function(_,n){var O=n.Nose.v.val/100;if(O>0)for(var m=0;
m<_.length;m++){var l=_[m];l=Math.min(510-(1+O)*Q.style.c9(m),l);_[m]=l}};fW.nO=function(_){var n=fW.nr(),O=_.D2,l=!1;
for(var m=0;m<32;m+=8)if(O[m]+O[m+1]+O[m+4]+O[m+5]!=0||O[m+2]+O[m+3]+O[m+6]+O[m+7]!=1020)l=!0;if(l){O=O.slice(0);
for(var m=0;m<40;m+=4){var x=O[m]/255,t=O[m+1]/255,h=O[m+2]/255,V=O[m+3]/255;O[m]=x-.001;O[m+1]=x==t?1e6:1/(t-x);
O[m+2]=h==V?-1e6:1/(h-V);O[m+3]=V+.001}}var y=_.add.iOpa!=null?_.add.iOpa/255:n.fill,r=_.add.vstk;if(r&&!r.fillEnabled.v&&(!r.strokeEnabled.v||r.strokeStyleLineWidth.v.val==0))y=0;
return{fill:y,y3:l?O:null,js:_.add.brst!=null?_.add.brst:n.js,aoL:_.add.knko!=null?_.add.knko:n.aoL,style:!1,FE:!1}};
fW.nr=function(){return{fill:1,y3:null,js:[1,1,1],aoL:0,style:!1,FE:!1}};fW.at3=function(_,n,O,l,x,t,h,V){if(V==null)V=1;
if(h==null)h=new aY;var y=_.vA[1].a,r=_.vA[1].n,E=new aY,a=x<2;if(a)E.translate(-y/2,-r/2);if(x==0){V*=Math.max(O/y,l/r)}else if(x==1){V*=Math.min(O/y,l/r)}else if(x==2){E.scale(1/y,1/r);
E.concat(h);E.scale(O,l)}else if(x==3){V=V}E.scale(V,V);if(a)E.translate(O/2,l/2);E.concat(t);n.Ptrn.v.Idnt.v=_.id;
n.Scl.v.val=Math.round(100*E.Sn());n.Angl.v.val=Math.round(180*Math.atan2(-E.k,E.EX)/Math.PI);n.Algn.v=!0;
var S=n.phase.v;S.Hrzn.v=Math.round(E.Wk);S.Vrtc.v=Math.round(E.d7)};fW.mF=function(_,n){if(n==null)return null;
var O=_.Idnt.v,l=_.Nm.v;for(var m=0;m<n.length;m++)if(n[m].id==O)return n[m];for(var m=0;m<n.length;
m++)if(n[m].name==l)return n[m];return null};fW.a0_=function(_,n,O){var l=["patternFillMulti","ebblMulti","frameFXMulti"];
for(var m=0;m<l.length;m++){var x=_.v[l[m]].v;for(var t=0;t<x.length;t++)if(x[t].v.Ptrn)n.Rs(fW.mF(x[t].v.Ptrn.v,O))}};
fW.a1u=function(_,n,O){var l=["patternFillMulti","ebblMulti","frameFXMulti"];for(var m=0;m<l.length;
m++){var x=_.v[l[m]].v;for(var t=0;t<x.length;t++)if(x[t].v.Ptrn){var h=x[t].v.Ptrn.v,V=fW.mF(h,O),y=fW.mF(h,n.add.Patt);
if(V==null&&y)O.push(y)}}};fW.Iv=function(_,n,O,l,x){var t=fW.mF(_.Ptrn.v,l);if(t!=null&&!O.wk()){var h=t.vA,V=h[0],y=h[1],r=0;
Q.iL(h);var E=(_.Scl?_.Scl.v.val:100)/100;while((E<.3||E==.5)&&h[r+2]){E*=y.a/h[r+3].a;r+=2;V=h[r];y=h[r+1]}var a=Q.scale.Iv(V,y.a,y.n),S=_.phase?_.phase.v:{Hrzn:{v:0},Vrtc:{v:0}},e=_.Angl?_.Angl.v.val:0,P=-O.x+S.Hrzn.v-1,b=-O.y+S.Vrtc.v-1;
if(_.Algn!=null&&!_.Algn.v){}else{P+=x.x;b+=x.y}if(n)Q.scale.wV(a,n,O.a,O.n,E,E,P+1,b+1,e*Math.PI/180);
else return[a,E,P+1,b+1,e*Math.PI/180]}};fW.ae=function(_,n,O,l,x,t){if(t==null)t=O;var h=_.Type?_.Type.v.GrdT:"shapeburst",V=_.Algn&&_.Algn.v?t:new a8(0,0,l.a,l.n),y=_.Angl?Q.N.Q8(_,V):[new aW(0,0),new aW(100,0)],r=y[0].x,E=y[0].y,a=y[1].x-r,S=y[1].y-E,e=Math.sqrt(a*a+S*S);
e=1/(2*e*e);var P=[a*e,S*e,-S*e,a*e],b=_.Rvrs?_.Rvrs.v:!1,T=_.Dthr?_.Dthr.v:!1;Q.N._o(_.Grad.v,n,O,P,r,E,b,aF.N.types.indexOf(h),0,0,x,T)};
fW.ank=function(_,n,O){for(var m=0;m<_.all.length;m++){var l=_.all[m];l.Mw=l.NV.clone();l.Mw.offset(n,O)}};
fW.anA=function(_,n,O,l,x,t){var h=ex.kj?fW.ar_:fW.a94;fW.ank(n,O.x,O.y);var V=n.type.DrSh;for(var m=0;
m<V.length;m++)if(!V[m].a5T)h(V[m],l,x,t)};fW.ajL=function(_,n,O,l,x,t,h,V,y,r){var E=O,a=ex.kj?fW.ar_:fW.a94,S=ex.kj?ex.q.Zx:Q.q.ZT,e;
e=n.type.DrSh;for(var m=0;m<e.length;m++)if(e[m].a5T)a(e[m],l,x,t);e=n.type.OrGl;for(var m=0;m<e.length;
m++)a(e[m],l,x,t);var P="patternFill GrFl SoFi ChFX IrGl IrSh".split(" ");for(var b=0;b<P.length;b++){var e=n.type[P[b]];
for(var m=0;m<e.length;m++)a(e[m],h,E,t)}var T=n.type.ebbl[0],C=T!=null&&T.acZ;e=n.type.FrFX;for(var m=0;
m<e.length;m++){var Z=e[m];jW.D3.pc(V,r,y,r,t);a(Z,y,r,t);if(C&&m==e.length-1){if(T.J6)a(T.J6,y,r,t);
if(T.OF)a(T.OF,y,r,t);if(T.u$)a(T.u$,y,r,t);if(T.iR)a(T.iR,y,r,t)}if(Z.xI||Z.oh)S(y,r,h,E,ex.kj?Z.oh:Z.xI,Z.Mw,0,t,1);
if(Z.qd||Z.zh)S(y,r,l,x,ex.kj?Z.zh:Z.qd,Z.Mw,0,t,1)}if(!C&&T!=null){if(T.J6)a(T.J6,l,x,t);if(T.OF)a(T.OF,l,x,t);
if(T.u$)a(T.u$,h,E,t);if(T.iR)a(T.iR,h,E,t)}};fW.a94=function(_,n,O,l){var x=fW.nr();x.fill=_.zN;x.style=!0;
Q.q.Zn(_.Qf,_.sw,_.Mw,n,O,l,1,x)};fW.ar_=function(_,n,O,l){var x=fW.nr();x.fill=_.zN;x.style=!0;ex.q.Qi(_.Qf,_.Uj,_.Mw,n,O,l,1,x)};
fW.a4H=function(_,n){var O=1-n.Inpr.v.val/100,l=1+Math.tan(O*(Math.PI/2)),x=_.length;for(var m=0;m<x;
m++)_[m]=Math.min(255,Math.round(_[m]*l))};fW.$Z=function(_,n,O,l){var x=n.blur.v.val,t=Math.round(x*(n.Ckmt.v.val/100));
if(x>t){var h=Q.xu.gz(n.TrnS.v.Crv.v,256,l!=!0);Q.qI(_,h)}if(O!=null&&n.Nose.v.val>0)Q.style.LX(_,n.Nose.v.val/100,O)};
fW.Cm=function(_,n,O){if(O==null)O=255;var l=Q.N.JU(n),x=O<<24|l.k<<16|l.J<<8|l.o,t=new Uint32Array(_.buffer);
t.fill(x)};fW.el=function(_,n,O,l){var x=n.uglg&&n.uglg.v?O.tk():n.lagl.v.val;x=x*Math.PI/180+l;var t=Math.cos(x)*n.Dstn.v.val,h=Math.sin(x)*n.Dstn.v.val;
_.x-=Math.round(t);_.y+=Math.round(h)};fW.kd=function(_){if(_==null)return null;var n=_.frameFXMulti.v;
if(n.length==0)return null;n=n[0].v;var O=JSON.parse(JSON.stringify(aF.eo.default));fW.ayz(n,O);return O};
fW.ayz=function(_,n){var O=aF.stroke.eG.indexOf(_.PntT.v.FrFl),l=[aF.M4,aF.Em,aF.Vy][O],x=n.strokeStyleContent.v={classID:aF.eo.yz[O]};
for(var m=0;m<l.length;m++)x[l[m]]=_[l[m]];n.strokeEnabled=_.enab;n.strokeStyleLineWidth=_.Sz;n.strokeStyleLineAlignment.v.strokeStyleLineAlignment=aF.eo._R[aF.stroke.types.indexOf(_.Styl.v.FStl)];
n.strokeStyleOpacity=_.Opct;n.strokeStyleBlendMode=_.Md;n.strokeStyleLineJoinType.v.strokeStyleLineJoinType="strokeStyleRoundJoin"};
fW.Vu=function(_,n){var O=[];for(var m=0;m<_.length;m++)O.push({t:"UntF",v:{type:"#Nne",val:Math.round(_[m]*n)}});
return O};fW.ann=function(_,n){var O=_.opacity/255*(_.add.iOpa?_.add.iOpa/255:1),l=_.add.TySh,x=_.kx()||_.uq()&&_.add.vmsk&&_.add.vstk.fillEnabled.v&&_.add.vstk.strokeEnabled.v;
if(l){var t=l.m1.EngineDict.StyleRun.RunArray,h=t[0].StyleSheet.StyleSheetData,V=0;if(h.FillFlag)V++;
if(h.StrokeFlag)V++;if(h._FillBackgroundFlag)V++;if(V>1)x=!0}return x&&(n||O!=1||_.to!="pass"&&_.to!="norm")};
fW.Ra=function(_,n,O,l){this.Gq=n.clone();this.acx=n.clone();this.acx.nQ(O,O);if(l){this.Gq.nQ(1,1);
this.f1=Q.Q(this.Gq.O());Q.pc(_,n,this.f1,this.Gq)}else this.f1=_;this.jx=null;this.NQ=null;this.Yu=null};
fW.Ra.prototype.MF=function(){return this.f1};fW.Ra.prototype.rect=function(){return this.Gq};fW.Ra.prototype.S6=function(){return this.acx};
fW.Ra.prototype.CB=function(){if(this.jx)return this.jx;this.jx=this.MF().slice(0);Q.sJ(this.jx);return this.jx};
fW.Ra.prototype.E1=function(){if(this.NQ)return this.NQ;this.NQ=new Float64Array(this.rect().O());Q.style.qx(this.CB(),this.NQ,this.rect().a,this.rect().n);
return this.NQ};fW.Ra.prototype.ER=function(){if(this.Yu)return this.Yu;var _=this.S6(),n=Q.Q(_.O());
Q.pc(this.MF(),this.rect(),n,_);this.Yu=new Float64Array(_.O());Q.style.qx(n,this.Yu,_.a,_.n);return this.Yu};
fW.Ra.prototype.akd=function(_,n){var O={dM:-n,$D:_,qR:null,$H:null};if(n==0){O.qR=this.rect();O.$H=this.E1();
return O}var l=this.ER().slice(0),x=this.S6();O.qR=x;O.$H=l;for(var m=0;m<l.length;m++)l[m]=-l[m];if(_==0)return O;
var t=this.E1(),h=this.rect();for(var V=0;V<h.n;V++)for(var y=0;y<h.a;y++){var r=V*h.a+y,E=(V+h.y-x.y)*x.a+y+h.x-x.x;
l[E]+=t[r]}return O};fW.Ra.prototype.ei=function(_,n,O){var l=Math.ceil(_+n),x={Sm:this.rect().clone(),MF:null};
x.Sm.nQ(l,l);x.MF=Q.Q(x.Sm.O());if(_==0&&n==0)Q.Jt(O?this.MF():this.CB(),x.MF);else{var t=Q.Q(x.Sm.O());
Q.pc(this.MF(),this.rect(),t,x.Sm);if(!O)Q.sJ(t);if(_!=0){if(O)Q.style.TD(t,x.Sm,this.ER(),this.S6(),_);
else Q.style.TD(t,x.Sm,this.E1(),this.rect(),_)}if(n!=0)Q.OX.ff(t,x.MF,x.Sm,Math.max(1,n*.43));else x.MF=t}return x};
fW.Ra.prototype.a5m=function(_,n,O){var l=_*(n-.5),x={Sm:this.rect().clone(),MF:null};if(O)x.Sm.nQ(_,_);
x.MF=Q.Q(x.Sm.O());var t=x.Sm.a,h=x.Sm.n,V=O?this.ER():this.E1(),y=O?this.S6():this.rect(),r=x.Sm,E=r.v6(y),t=E.a,h=E.n,a=E.x-r.x,S=E.y-r.y,e=E.x-y.x,P=E.y-y.y,b=1-n*2;
for(var T=0;T<h;T++)for(var C=0;C<t;C++){var Z=V[(T+P)*y.a+C+e],W=Z/_;x.MF[(T+S)*r.a+C+a]=Math.max(0,Math.min(255,255-255*((W+b)/(1+b))))}return x};
fW.ajZ=function(_,n,O,l){var x=_.Lefx,t=_.blendOptions;if(x){var h=n.add.lmfx;if(O==null)O=h?h.Scl.v.val:100;
n.add.lmfx=JSON.parse(JSON.stringify(x.v));if(n.add.lmfx.Scl==null)n.add.lmfx.Scl={t:"UntF",v:{type:"#Prc",val:100}};
fW.BI(n.add.lmfx,O/n.add.lmfx.Scl.v.val);if(h)n.add.lmfx.Scl.v.val=h.Scl.v.val;var V=x.v.gagl;if(V&&l)l.mz(V.v.val)}else delete n.add.lmfx;
if(t){t=t.v;if(t.Md)n.to=b3.SY(t.Md.v.BlnM);if(t.Opct)n.opacity=Math.round(t.Opct.v.val*255/100);if(t.fillOpacity)n.add.iOpa=Math.round(t.fillOpacity.v.val*255/100);
if(t.Blnd){var y=[];for(var m=0;m<10;m++)y.push(0,0,255,255);var r=t.Blnd.v,E="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" ");
for(var m=0;m<r.length;m++){var a=r[m].v,S=8*["Gry","Rd","Grn","Bl"].indexOf(a.Chnl.v[0].v.enum);for(var e=0;
e<8;e++){y[S+e]=a[E[e]].v}}n.D2=y}}};fW.asv=function(_){var n="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" "),O=[],l=_.D2;
for(var m=0;m<4;m++){var x=m*8;if(l[x]+l[x+1]+l[x+4]+l[x+5]==0&&l[x+2]+l[x+3]+l[x+6]+l[x+7]==4*255)continue;
var t={t:"Objc",v:{classID:"Blnd",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:["Gry","Rd","Grn","Bl"][m]}}]}}};
O.push(t);for(var h=0;h<8;h++)t.v[n[h]]={t:"long",v:l[m*8+h]}}var V={classID:"blendOptions"};if(_.to!="norm")V.Md={t:"enum",v:{BlnM:b3.Aa(_.to)}};
if(_.opacity!=255)V.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(_.opacity*100/255)}};if(_.add.iOpa!=null)V.fillOpacity={t:"UntF",v:{type:"#Prc",val:Math.round(_.add.iOpa*100/255)}};
if(O.length!=0)V.Blnd={t:"VlLs",v:O};var y={jQ:{classID:"null",Idnt:{t:"TEXT",v:fJ.DA()+"-bd9f-11d5-b8ba-b73f8571793d"},Nm:{t:"TEXT",v:"Custom Style"}},Zg:{classID:"Styl",blendOptions:{t:"Objc",v:V}}},r=_.add.lmfx;
if(r)y.Zg.Lefx={t:"Objc",v:r};return y};function bL(){}bL.NY=function(_){return JSON.parse(JSON.stringify(_))};
bL.kw=function(_){var n=bL.NY(bL.a3u),O=n.Brsh.v;if(_!=null){delete O.Hrdn;O.classID="sampledBrush";
O.Nm={t:"TEXT",v:"layer.png"},O.sampledData={t:"TEXT",v:_}}return n};bL.a3u={classID:"brushPreset",Nm:{t:"TEXT",v:"Custom Brush"},Brsh:{t:"Objc",v:{classID:"computedBrush",Dmtr:{t:"UntF",v:{type:"#Pxl",val:15}},Hrdn:{t:"UntF",v:{type:"#Prc",val:100}},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Rndn:{t:"UntF",v:{type:"#Prc",val:100}},Spcn:{t:"UntF",v:{type:"#Prc",val:25}},Intr:{t:"bool",v:!0},flipX:{t:"bool",v:!1},flipY:{t:"bool",v:!1}}},useTipDynamics:{t:"bool",v:!1},useScatter:{t:"bool",v:!1},dualBrush:{t:"Objc",v:{classID:"dualBrush",useDualBrush:{t:"bool",v:!1}}},brushGroup:{t:"Objc",v:{classID:"brushGroup",useBrushGroup:{t:"bool",v:!1}}},useTexture:{t:"bool",v:!1},usePaintDynamics:{t:"bool",v:!1},useColorDynamics:{t:"bool",v:!1},Wtdg:{t:"bool",v:!1},Nose:{t:"bool",v:!1},Rpt:{t:"bool",v:!1}};
bL.MJ={};bL.MJ.check=function(_){var n=bL.MJ.Wj;for(var m=0;m<n.length;m++)if(_[n[m]]==null)_[n[m]]=JSON.parse(bL.MJ.Fq[n[m]]);
var O=[];for(var m=0;m<n.length;m++)O.push(n[m]);var l=bL.MJ.a2t;for(var m=0;m<l.length;m++){var x=l[m][0],t=l[m][1],h=!0;
for(var V=0;V<x.length;V++)h=h&&_[x[V]].v==!0;if(h)for(var V=0;V<t.length;V++){if(_[t[V]]==null)console.log("Missing conditional parameter "+t[V]);
else O.push(t[V])}}for(var y in _)if(O.indexOf(y)==-1)console.log("Extra parameter "+y);_=_.Brsh.v;n=bL.MJ.Ov.Wj;
for(var m=0;m<n.length;m++)if(_[n[m]]==null)_[n[m]]=JSON.parse(bL.MJ.Ov.Fq[n[m]]);O=[];for(var m=0;m<n.length;
m++)if(_[n[m]])O.push(n[m]);else console.log("Missing default parameter "+n[m]);l=bL.MJ.Ov.aqu[_.classID];
for(var m=0;m<l.length;m++)if(_[l[m]]==null&&l[m]!="dtipsGridSize"&&l[m]!="dtipsErodibleTipHeightMap"&&_.aif!=1)console.log("Missing conditional parameter "+l[m]);
else O.push(l[m]);for(var y in _)if(O.indexOf(y)==-1)console.log("Extra parameter "+y)};bL.MJ.ah_=function(_){var n=bL.MJ.a2t;
for(var m=0;m<n.length;m++){var O=n[m][0],l=n[m][1],x=!0;for(var t=0;t<O.length;t++)x=x&&_[O[t]]&&_[O[t]].v==!0;
if(x){for(var t=0;t<l.length;t++)if(_[l[t]]==null){_[l[t]]=JSON.parse(bL.MJ.Fq[l[t]])}}else for(var t=0;
t<l.length;t++)if(_[l[t]]!=null){delete _[l[t]]}}};bL.MJ.Ov={};bL.MJ.Ov.Wj="classID Dmtr Angl Spcn Intr flipX flipY".split(" ");
bL.MJ.Ov.Fq={flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}"};bL.MJ.Ov.aqu={computedBrush:["Hrdn","Rndn"],sampledBrush:["Nm","Rndn","sampledData"],dBrush:"Shp Dnst Lngt clumping thickness stiffness physics".split(" "),dTips:"dtipsType Shp dtipsLengthRatio dtipsHardness dtipsGridSize dtipsErodibleTipHeightMap physics dtipsAirbrushCutoffAngle dtipsAirbrushGranularity dtipsAirbrushStreakiness dtipsAirbrushSplatSize dtipsAirbrushSplatCount".split(" ")};
bL.MJ.a2t=[[["useTipDynamics"],"flipX flipY brushProjection minimumDiameter minimumRoundness tiltScale szVr angleDynamics roundnessDynamics".split(" ")],[["usePaintDynamics"],["prVr","opVr","wtVr","mxVr"]],[["useBrushPose"],"overridePoseAngle overridePoseTiltX overridePoseTiltY overridePosePressure brushPosePressure brushPoseTiltX brushPoseTiltY brushPoseAngle".split(" ")],[["useTexture"],"TxtC interpretation textureBlendMode textureDepth minimumDepth textureDepthDynamics Txtr textureScale InvT textureBrightness textureContrast".split(" ")],[["useColorDynamics"],"clVr H Strt Brgh purity colorDynamicsPerTip".split(" ")],[["useScatter"],["Cnt","countDynamics","bothAxes","scatterDynamics"]],[["useScatter","bothAxes"],["Spcn"]]];
bL.MJ.Wj="classID Nm Brsh useTipDynamics usePaintDynamics useColorDynamics useScatter useTexture useBrushSize useBrushPose Wtdg Nose Rpt dualBrush brushGroup".split(" ");
bL.MJ.Fq={useBrushSize:"{\"t\":\"bool\",\"v\":false}",useBrushPose:"{\"t\":\"bool\",\"v\":false}",brushGroup:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brushGroup\",\"useBrushGroup\":{\"t\":\"bool\",\"v\":false}}}",flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}",brushProjection:"{\"t\":\"bool\",\"v\":false}",minimumDiameter:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",minimumRoundness:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":25}}",tiltScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":200}}",szVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",angleDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",roundnessDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",prVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",opVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",wtVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",mxVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",overridePoseAngle:"{\"t\":\"bool\",\"v\":false}",overridePoseTiltX:"{\"t\":\"bool\",\"v\":true}",overridePoseTiltY:"{\"t\":\"bool\",\"v\":true}",overridePosePressure:"{\"t\":\"bool\",\"v\":true}",brushPosePressure:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":9}}",brushPoseTiltX:"{\"t\":\"long\",\"v\":0}",brushPoseTiltY:"{\"t\":\"long\",\"v\":0}",brushPoseAngle:"{\"t\":\"long\",\"v\":0}",TxtC:"{\"t\":\"bool\",\"v\":false}",interpretation:"{\"t\":\"bool\",\"v\":true}",textureBlendMode:"{\"t\":\"enum\",\"v\":{\"BlnM\":\"CBrn\"}}",textureDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":37}}",minimumDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":97}}",textureDepthDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",Txtr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"$$$/Presets/Patterns/Patterns_pat/Laidhorizontal=Laid-horizontal\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"52a93427-f5d6-1172-a989-8dc82a43aa51\"}}}",textureScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":99}}",InvT:"{\"t\":\"bool\",\"v\":false}",textureBrightness:"{\"t\":\"long\",\"v\":14}",textureContrast:"{\"t\":\"long\",\"v\":100}",Cnt:"{\"t\":\"doub\",\"v\":4}",countDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":98}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",bothAxes:"{\"t\":\"bool\",\"v\":false}",scatterDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":56}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",clVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",H:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Strt:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Brgh:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":36}}",purity:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",colorDynamicsPerTip:"{\"t\":\"bool\",\"v\":false}"};
function fR(_,n){this.a6_=_;this.ws=n==null?0:n;this.dir=0}fR.prototype.WV=function(_,n){var O=this.a6_,l=new aW(_.x-O.x,_.y-O.y),x=new aY;
x.rotate(-this.ws);l=x.uz(l);if(this.dir==0&&!O.yO(_))this.dir=Math.abs(l.x)<Math.abs(l.y)?1:2;if(n.l(bJ.fc)){if(this.dir==1)l.x=0;
if(this.dir==2)l.y=0}x.sJ();l=x.uz(l);var t=new aW(O.x+l.x,O.y+l.y);return t};fR.prototype.abk=function(_){if(_.l(bJ.fc))return this.dir;
return 0};var cX=function(){function _(){this.ag$={}}_.avh=function(n,O){var l=n.clone();l.Wk-=Math.floor(l.Wk);
l.d7-=Math.floor(l.d7);var x=new aW(O,0),t=new aW(0,O),h=l.uz(x),V=l.uz(t),y=new aW(l.Wk,l.d7);return[h,V,y]};
_.aq4=function(n,O){var l=aW.nT;return l(n[0],O[0])+l(n[1],O[1])+l(n[2],O[2]);return dsum};_.prototype.ag1=function(n){var O=this.ag$,l=O[n];
if(l==null)l=O[n]={CJ:[],Ok:0,O:0,aaf:0,aoq:0};l.Ok=Date.now();while(Object.keys(O).length>3){var x="",t=Date.now();
for(var h in O){var V=O[h].Ok;if(V<t){t=V;x=h}}delete O[x]}return l};_.prototype.ati=function(n,O){var l=n.CJ,x,t=1e6;
for(var m=0;m<l.length;m++){var h=l[m],V=_.aq4(h.Vw,O);if(V<t){x=h;t=V}}return x};_.prototype.abR=function(n,O){var l=n.CJ;
l.push(O);n.O+=O.rect.O();if(l.length>1e3||n.O>100*100*1600){console.log("pruning",n.O,l.length);l.sort(function(t,h){return h.Ok-t.Ok});
while(l.length>500||n.O>100*100*800){var x=l.pop();n.O-=x.rect.O()}}};return _}();function gh(_,n,O,l,x,t,h,V,y){this.y7=n;
this.gg=O;this.lV=t;this.xV=l;this._A=null;this.FI=null;this.KK=0;this.ahV=0;this.ay$=0;this.oe=0;this.ec=0;
this.iU=y==null?Math.floor(Math.random()*16777215):y;this.Ej=y==null?Math.floor(Math.random()*16777215):y;
this.n5=new a8;this._c=new a8;if(V!=null){this.sw=V}else{var r=gh.asU;if(r.length!=h.O()*4)r=Q.Q(h.O()*4);
else r.fill(0);this.sw=gh.asU=r}this.rect=h.clone();this.mH=[];this.bc=[];this.HL=null;this.KU=0;this.k=null;
this.az1="";this.a0=null;this.a1m(_,x)}gh.asU=Q.Q(16);gh.prototype.a1m=function(_,n){this.KU=n;this.k=_;
this.az1=JSON.stringify(_)+JSON.stringify(this.xV.VY);this.a0=gh.ajC(this.k,this.y7,this.gg)};gh.prototype.moveTo=function(_,n,O){O=this.ake(O);
this.KK=O;var l=new aW(_,n),x=this.k.Brsh.v.Dmtr.v.val;this._A=l.clone();this.FI=l.clone();this.HL=l.clone();
this.mH=[_,n];this.bc=[O];if(this.xV.mc!=gh.ok){var t=this.k.angleDynamics,h=t?t.v.bVTy.v==6:!1;this.O2(h?new a8:this.aiK(l,this.asY(O),O,new aW(0,0)))}this.oe=l.clone()};
gh.prototype.lineTo=function(_,n,O){O=this.ake(O);var l=this.mH,x=l.length,t=l[x-2],h=l[x-1];if(_==t&&n==h)return;
var V=this.k.Brsh.v.Dmtr.v.val,y=Math.ceil(V)+1,r=new a8(Math.round(t),Math.round(h),0,0);r.nQ(y,y);
var E=new a8(Math.round(_),Math.round(n),0,0);E.nQ(y,y);this.mH.push(_,n);this.bc.push(O);x+=2;if(x>=6)this.O2(this.anh(x))};
gh.prototype.ake=function(_){if(_==null)_=1;_=Math.max(.05,Math.min(5,_));if(isNaN(_)){alert("Pressure is not a number");
throw"e"}return _};gh.prototype.O2=function(_){this.n5=_;this._c=this._c.uG(_)};gh.prototype.finish=function(){var _=this.mH,n=_.length,O;
if(n==4)O=this.aqJ(_[n-2],_[n-1],this.bc[(n>>1)-1],!0);if(n>4)O=this.anh(n+2);if(O)this.O2(O)};gh.prototype.kf=function(){return this.rect.clone()};
gh.prototype.Rz=function(){return this.n5.v6(this.rect)};gh.prototype.Hd=function(){return this._c.v6(this.rect)};
gh.prototype.eN=function(){return this.sw};gh.prototype.anh=function(_){var n=this.mH,O=this.bc,l=n[_-6],x=n[_-5],t=n[_-4],h=n[_-3],V=O[(_>>1)-3],y=O[(_>>1)-2],r=new aW(0,0),E=new aW(0,0);
if(8<=_)r=gh.a1T(n[_-8],n[_-7],l,x,t,h);if(_<=n.length)E=gh.a1T(n[_-2],n[_-1],t,h,l,x);var a=l+r.x,S=x+r.y,e=t+E.x,P=h+E.y,b=new a8;
for(var m=0;m<10;m++){var T=(m+1)*.1,C=1-T,Z=C*C*C*l+3*T*C*C*a+3*T*T*C*e+T*T*T*t,W=C*C*C*x+3*T*C*C*S+3*T*T*C*P+T*T*T*h,s=this.aqJ(Z,W,V+T*(y-V));
b=b.uG(s)}return b};gh.a1T=function(_,n,O,l,x,t){var h=_-O,V=n-l,y=x-O,r=t-l,E=Math.sqrt(h*h+V*V),a=Math.sqrt(y*y+r*r),S=Math.acos((h*y+V*r)/(E*a))/Math.PI,e=.35,P=.1;
S=P+S*(e-P);var b=x-_,T=t-n,C=Math.sqrt(b*b+T*T),Z=S*a/C;return new aW(b*Z,T*Z)};gh.prototype.aqJ=function(_,n,O,l){var x=new a8,t=this.xV.asK;
if(t==null)t=0;if(t==0||l){x=this.avp(_,n,O);return x}var h=this.HL,V=_-h.x,y=n-h.y,r=Math.sqrt(V*V+y*y);
V/=r;y/=r;if(r>t){var E=h.x+V*(r-t),a=h.y+y*(r-t);x=this.avp(E,a,O);this.HL.BX(E,a)}return x};gh.prototype.avp=function(_,n,O){var l=new a8,x=new aW(_,n),t=this.xV.mc,h=x.OA(this.FI);
h.normalize(1);var V=aW.nT(this.FI,x),y=-this.ahV,r=this.FI.clone();while(!0){var E=this.KK+(O-this.KK)*(Math.max(0,y)/V),a=this.asY(E),S=this.acs()*(a+this.ay$)/2*this.a0.at8;
if(t==gh.ok)S=1;S=Math.max(S,.5);if(y+S<V){y+=S;this.ec+=S;var e=new aW(this.FI.x+h.x*y,this.FI.y+h.y*y),T=1;
if(t==gh.ok){var P=r.clone();P.x+=h.x>0?1:-1;var b=r.clone();b.y+=h.y>0?1:-1;if(aW.nT(P,e)<aW.nT(b,e))e=P;
else e=b;y=aW.nT(e,this.FI)}if(this.k.useScatter.v==!0){T=this.k.Cnt.v;var C=this.k.countDynamics.v.jitter.v.val/100,Z=C*(-1+2*this.Zh());
T+=Math.round(T*Z)}for(var m=0;m<T;m++){var W=this.aiK(e,a,O,h);l=l.uG(W)}r=e}else break}this.ahV=V-y;
this.FI=x;this.KK=O;return l};gh.prototype.acs=function(){var _=this.k.Brsh.v,n=_.Spcn.v.val,O=Math.max(5,_.Rndn.v.val);
return O/100*(n/100)};gh.prototype.asY=function(_){var n=this.k,O=n.Brsh.v.Dmtr.v.val;if(n.useTipDynamics.v){var l=O*(n.minimumDiameter.v.val/100);
O=l+(O-l)*(1-this.Zh(this.Ej)*(n.szVr.v.jitter.v.val/100));O*=gh.vY(n,"szVr",_,this.ec)}return O};gh.vY=function(_,n,O,l){var x=1,t=_[n].v,h=t.bVTy.v,V=t.fStp.v;
if(h==1)x*=Math.max(0,(V-l)/V);if(h==2)x*=O;return x};gh.prototype.aiK=function(_,n,O,l){var x=this.xV.kX,b=0;
x=Math.min(1,x);var t=this.k,h=this.k.Brsh.v,V=h.Dmtr.v.val,y=this.xV,r=y.mc,E=y.a2r,a=this.a0.vA[1],S=new aY;
S.translate(-a.a/2,-a.n/2);S.scale(1/this.a0.ahF,1/this.a0.ahF);S.scale(n/V,n/V);S.scale(1,Math.max(5,h.Rndn.v.val)/100);
if(t.usePaintDynamics&&t.usePaintDynamics.v){var e=t.opVr.v.jitter.v.val/100,P=t.prVr.v.jitter.v.val/100;
x*=1-this.Zh()*e;x*=1-this.Zh()*P;x*=gh.vY(t,"opVr",O,this.ec)*gh.vY(t,"prVr",O,this.ec)}if(t.useTipDynamics.v){var T=t.angleDynamics.v,C=t.minimumRoundness.v.val/100;
S.scale(1,C+(1-C)*Math.round(100-this.Zh()*t.roundnessDynamics.v.jitter.v.val)/100);b+=(-.5+this.Zh())*4*Math.PI*(T.jitter.v.val/100);
b+=gh.vY(t,"angleDynamics",O,this.ec)*2*Math.PI;if(T.bVTy.v==6)b+=Math.atan2(-l.y,l.x)}b+=h.Angl.v.val*(Math.PI/180);
S.rotate(b);if(t.useScatter.v){var Z=(-1+2*this.Zh())*t.scatterDynamics.v.jitter.v.val/100;S.translate(-Z*n*l.y,Z*n*l.x)}S.translate(_.x,_.y);
var W=this.anS(S,_,n),s=W.rect.clone();if(r==null){var f=this.vu(t);Q.qs(W.Sr,Math.round(f.k*255)<<16|Math.round(f.J*255)<<8|Math.round(f.o*255)<<0,4278190080);
if(this._c.wk()&&this.rect.yO(W.rect)&&x==1)this.sw=W.Sr.slice(0);else{var q=-1,g=2,i=-1,u=2;if(!y.VZ){q=i=0;
g=u=1}for(var I=i;I<u;I++)for(var Y=q;Y<g;Y++){var U=W.rect.clone();U.x+=Y*this.rect.a;U.y+=I*this.rect.n;
if(U.JS(this.rect)){s=s.uG(U);Q.q.agr(W.Sr,U,this.sw,this.rect,U,x)}}}}if(r==gh.ok){var F=new aW(W.rect.x+W.rect.a/2,W.rect.y+W.rect.n/2),N=Math.round(F.x-this.oe.x),o=Math.round(F.y-this.oe.y),X=W.rect.clone();
X.offset(-N,-o);var J=X.v6(this.rect);J.offset(N,o);Q.zw(this.sw,this.rect,W.Sr,X);Q.q.x0(W.Sr,W.rect,this.sw,this.rect,W.X9,W.rect,x)}if(r==gh.Gb||r==gh.KF||r==gh.PY){var c=W.rect.v6(this.rect),p;
if(c.yO(W.rect))p=W.X9;else{p=Q.Q(c.O());Q.pc(W.X9,W.rect,p,c)}var d=Q.Q(c.O()*4);Q.zw(this.sw,this.rect,d,c);
if(r==gh.KF){var k=d.slice(0),A=Q.u3.Fi([-1,-1,-1,-1,25,-1,-1,-1,-1]);Q.u3.G4(d,k,c.a,c.n,A,0);Q.Jt(k,d)}else if(r==gh.PY){var $=ie.gV("UnsM");
$.Amnt.v.val=15;$.Thsh.v=0;$.Rds.v.val=5;var k=Q.Q(d.length);ie.Er("UnsM",{buffer:d,rect:c},$,0,0,{buffer:k,rect:c});
Q.Jt(k,d)}else{ie.dh(1,Q.OX.FT,d,c)}Q.q.x0(d,c,this.sw,this.rect,p,c,x)}this.ay$=n;this.oe=F;this.Ej++;
return s};gh.prototype.vu=function(_){var n=gh.a5n(this.KU);if(_.useColorDynamics&&_.useColorDynamics.v){var O=1-this.Zh()*_.clVr.v.jitter.v.val/100,l=gh.a5n(this.lV);
n.o=O*n.o+(1-O)*l.o;n.J=O*n.J+(1-O)*l.J;n.k=O*n.k+(1-O)*l.k;var x=(-.5+this.Zh())*_.H.v.val/100,t=(-1+2*this.Zh())*_.Strt.v.val/100,h=(-1+2*this.Zh())*_.Brgh.v.val/100,V=Q.lM(n.o,n.J,n.k);
V.bE=(V.bE+x+1)%1;V.yj=V.yj+t;if(V.yj<0)V.yj=-V.yj;if(V.yj>1)V.yj=1-(V.yj-1);V.As=V.As+h;if(V.As<0)V.As=-V.As;
if(V.As>1)V.As=1-(V.As-1);n=Q.ax(V.bE,V.yj,V.As)}return n};gh.prototype.MJ=function(_){return Math.max(0,Math.min(1,_))};
gh.prototype.Zh=function(_){if(_==null){_=this.iU++}return gh.hash(_)};gh.a5n=function(_){return{o:(_>>16&255)/255,J:(_>>8&255)/255,k:(_>>0&255)/255}};
gh.hash=function(_){_=_^61^_>>16;_=_+(_<<3);_=_^_>>4;_=_*668265261;_=_^_>>15;return(_&16777215)/16777215};
gh.ada=new cX;gh.prototype.anS=function(_,n,O){var l=Math.sqrt(this.a0.vA[1].O()),x=l*_.Sn(),t=x<10?1:x<50?1.5:x<200?3:8;
if(x<30)t=0;var h=gh.ada,V=h.ag1(this.az1),y=this.xV.VY;if(y){_=_.clone();_.Wk=Math.floor(_.Wk);_.d7=Math.floor(_.d7)}var r=cX.avh(_,l),E=h.ati(V,r);
if(E&&cX.aq4(E.Vw,r)>t)E=null;if(E){E.rect.x=Math.round(E.a1c.x+_.Wk);E.rect.y=Math.round(E.a1c.y+_.d7);
if(y){E.rect.x=Math.round(n.x-E.rect.a/2);E.rect.y=Math.round(n.y-E.rect.n/2)}E.Ok=Date.now()}else{var a=Math.round(this.k.Brsh.v.Dmtr.v.val),S;
if(y&&a<=3){S={channel:Q.Q(a*a),rect:new a8(Math.round(n.x-a/2),Math.round(n.y-a/2),a,a)};S.channel.fill(255)}else if(_.EX==1&&_.k==0&&_.av==0&&_.c5==1){S={channel:this.a0.vA[0],rect:this.a0.vA[1].clone()};
S.rect.x=Math.round(_.Wk);S.rect.y=Math.round(_.d7)}else{S=D.D6.a9O(this.a0.vA,_)}if(y){for(var m=0;
m<S.channel.length;m++)S.channel[m]=S.channel[m]>127?255:0}if(S==null)S={channel:Q.Q(0),rect:new a8};
E={Sr:Q.Q(S.rect.O()*4),X9:S.channel,rect:S.rect,a1c:new aW(S.rect.x-_.Wk,S.rect.y-_.d7),Vw:r,Ok:Date.now()};
Q.$c(E.X9,E.Sr,3);if(V)h.abR(V,E)}return E};gh.ajC=function(_,n,O){var l,x,t,h=_.Brsh.v.Dmtr.v.val,V=_.Brsh.v.classID;
if(V=="computedBrush"){var y=_.Brsh.v.Hrdn.v.val/100;x=h<100?1.4:1;t=1;l=Q.a5s.a1j(h,y,x)}if(V=="sampledBrush"){var r;
for(var m=0;m<n.length;m++)if(n[m].id==_.Brsh.v.sampledData.v)r=n[m];l=r.vA;var E=l[1];x=Math.max(E.a,E.n)/h;
t=Math.min(E.a,E.n)/Math.max(E.a,E.n)}return{ahF:x,at8:t,vA:l}};gh.T=null;gh.Y0=null;gh.XW=function(_,n,O,l,x,t){var h=gh.T,V=gh.Y0;
if(h==null){gh.T=h=document.createElement("canvas");gh.Y0=V=h.getContext("2d")}if(t==null)t=l;if(h.width!=t||h.height!=x){h.width=t;
h.height=x}else V.clearRect(0,0,t,x);V.fillStyle="#000000";V.font=Math.floor(10*D.V())+"px sans-serif";
var y=_.Brsh.v.Dmtr.v.val,r=""+y,E=_.useBrushSize;if(E&&E.v)r="---";var a=V.measureText(r);V.fillText(r,(l-a.width)/2,x-2);
var S=l,e=x-10*D.V(),P=Math.min(S,e),b=_.Brsh.v.classID;if(b=="computedBrush"){V.translate(S/2,e/2);
V.rotate(-_.Brsh.v.Angl.v.val*Math.PI/180);V.scale(1,.1+.9*_.Brsh.v.Rndn.v.val/100);var T=Math.min(.95*P/2,y/2)+.5,C=.9*_.Brsh.v.Hrdn.v.val/100,Z=V.createRadialGradient(0,0,0,0,0,T);
Z.addColorStop(C,"rgba(0,0,0,1)");Z.addColorStop((.5+C)/1.5,"rgba(0,0,0,.5)");Z.addColorStop(1,"rgba(0,0,0,0)");
V.fillStyle=Z;V.fillRect(-T,-T,2*T,2*T);V.setTransform(1,0,0,1,0,0)}else if(b=="sampledBrush"){var W,u=0;
for(var m=0;m<n.length;m++)if(n[m].id==_.Brsh.v.sampledData.v)W=n[m];var f=W.vA;Q.gL(f);var q=f[0],g=f[1].a,i=f[1].n;
while((g>S||i>e)&&f[u+2]){u+=2;q=f[u];g=f[u+1].a;i=f[u+1].n}if(g*i!=0){var I=Q.Q(g*i*4);Q.$c(q,I,3);
var Y=new ImageData(new Uint8ClampedArray(I.buffer),g,i);V.putImageData(Y,Math.round((S-g)/2),Math.round((e-i)/2))}}else{}return h.toDataURL()};
gh.c7=function(_,n,O,l){if(O==0)O=1;var x=_.Brsh.v,t=x.Dmtr.v.val,h=x.Dmtr.v.val=Math.min(l!=null?Math.round(l*2.6):3e3,t*O),V=x.Hrdn?x.Hrdn.v.val/100:1,y=l!=null?l:Math.round(h*(1+.55*(1-V)))+4,a;
y=Math.max(15,Math.min(y,3e3));var r=new a8(0,0,y,y),E=new gh(_,n,null,{kX:1},16711712,0,r);x.Dmtr.v.val=t;
E.moveTo(r.a/2,r.n/2);var S=E.eN(),e=E.kf();if(r.yO(e))a=S;else{a=Q.Q(r.O()*4);Q.zw(S,e,a,r)}return[a,r,h]};
gh.apP=function(_,n,O,l){var x=n.a,t=x>>>1;for(var m=0;m<4;m++){var h=6-m;_[x*(t-h)+t-1]=l;_[x*(t-h)+t]=O;
_[x*(t-h)+t+1]=l;_[x*(t+h)+t-1]=l;_[x*(t+h)+t]=O;_[x*(t+h)+t+1]=l;_[x*(t-1)+t-h]=l;_[x*t+t-h]=O;_[x*(t+1)+t-h]=l;
_[x*(t-1)+t+h]=l;_[x*t+t+h]=O;_[x*(t+1)+t+h]=l}};gh.AQ=function(_,n,O,l){var x=gh.c7(_,n,O),t=x[0].slice(0),h=x[1],V=x[2],y=h.O(),r=Q.Q(y);
Q.nV(t,r,3);var E=Q.Q(y);Q.P.abZ(r,E,h,D.V()>1.9);if(V<3||Q.QX(E,0)||l&&V>12){gh.apP(E,h,255,0)}var a=[3,5,3,4,8,4,3,5,3];
a=Q.u3.Fi(a);Q.u3.LA(E,r,h.a,h.n,a);Q.qs(t,4294967295);Q.$c(r,t,3);for(var m=0;m<y;m++)if(E[m]==255){t[m<<2]=t[(m<<2)+1]=t[(m<<2)+2]=0;
t[(m<<2)+3]=255}return{G7:t,Sm:h,gp:new aW(h.a/2,h.n/2)}};gh.ok="0";gh.Gb="1";gh.KF="2";gh.PY="3";var a$={};
a$.rS=function(_,n,O){if(O==null)O=!0;var l=_.add.TySh,x=new hf(l.m1,n),t=a$._l(x,l);_.Fy.path=t.path;
_.Fy.vA=[t.sw,t.Sm];Q.iL(_.Fy.vA);_.Fy.Fl=t.Sm.clone();if(O){_.rect=t.Sm;_.buffer=t.sw;_.U()}return[x,t]};
a$._l=function(_,n){var O=_.uQ(),h=0,r;if(O.x==Infinity||O.wk())return{sw:Q.Q(0),Sm:new a8,T1:new a8};
var l=_.uQ(),x=a$._F(_,n),t=Q.p.f0(x.C);for(var m=0;m<_.oM.length;m++){var V=_.oM[m].lS;if(V.StrokeFlag&&V._LineWidth)h=Math.max(h,Math.ceil(n.D.Sn()*V._LineWidth/2))}t.nQ(h,h);
if(t.wk())return{sw:Q.Q(0),Sm:new a8,T1:new a8};var y=Q.jk(t.a,t.n);y.translate(-t.x,-t.y);a$.amO(x,y);
if(_.oM.length!=0){var E=b$.Vi(n),a=y.getImageData(0,0,t.a,t.n);r=new Uint8Array(a.data.buffer);if(E==0)for(var m=0;
m<r.length;m+=4)r[m+3]=r[m+3]>80?255:0;if(E==3)for(var m=0;m<r.length;m+=4)r[m+3]=Math.min(255,r[m+3]*1.5)}else r=Q.Q(t.O()*4);
y.resetTransform();y.beginPath();return{sw:r,Sm:t,T1:l,path:x}};a$._F=function(_,n){var O=n.D,l=n.m1;
a$.qe=O.Sn();var x=b$.Vi(n),t=Math.max(O.k*O.k,O.av*O.av)<1e-9?O:null;if(x==3||x==4)t=null;var h={F:[],C:[]};
a$.aa6(_,h,t,!0);a$.aa6(_,h,t,!1);h=a$.Bt(h,n,_);return h};a$.qe=1;a$.Bt=function(_,n,O){if(_==null)return _;
if(O&&O.pw)Q.p.D(_.C,O.pw,_.C);if(O&&!Q.Q6.Z1(n.ZA)){var l=b$.kf(n,O);if(!l.wk()){if(_.F){_=Q.p.OK(_);
var x=Math.min(l.a,l.n)/8;if(x<1)x=1;_=Q.p.Gz(_,x)}var t=Q.Q6.zE(n.ZA,l);Q._I.D(t,_.C,l)}}var h=n.D;
Q.p.D(_.C,h,_.C);return _};a$.amO=function(_,n){n.save();n.miterLimit=2;Typr.U.pathToContext({crds:_.C,cmds:_.F},n);
n.restore()};a$.L_=function(_,n,O){var l=hf.arS(O),x=_.m1,t=x.ResourceDict.FontSet,h=x.ResourceDict.StyleSheetSet[0].StyleSheetData,V=x.EngineDict.StyleRun.RunLengthArray,y=x.EngineDict.StyleRun.RunArray,r=b$.om(x),E=!0,a={},S=0;
for(var m=0;m<y.length;m++){var e=y[m].StyleSheet.StyleSheetData.Font;if(e==null)e=h.Font;for(var P=0;
P<V[m];P++){var b=r.charCodeAt(S+P),T=e+","+(b>128?b:-1);if(a[T]==null){a[T]=1;if(n.aT(t[e].Name,b)==null)E=!1}}S+=V[m]}return E&&l};
a$.a5d=function(_,n,O){var l=!0;for(var x=0;x<_.B.length;x++){var t=_.B[x],h=t.add.TySh;if(h!=null&&!a$.L_(h,n,O))l=!1}return l};
a$.anb=function(_,n,O){for(var l=0;l<_.B.length;l++){var x=_.B[l],t=x.add.TySh;if(t!=null&&a$.L_(t,n,O)){a$.rS(x,n);
_.U()}}};a$.aa6=function(_,n,O,l){var x=new aY;for(var m=0;m<_.G1.length;m++)a$.amV(_.oM,_.G1[m],n,x,O,l)};
a$.amV=function(_,n,O,l,x,t){l.translate(n.PU.x,n.PU.y);for(var m=0;m<n.H4.length;m++){var h={},V=n.H4[m];
if(!V.uD)break;var y=l.clone();y.translate(V.PU.x,V.PU.y);if(x){var r=x.d7+y.d7*x.c5;y.d7=(Math.round(r)-x.d7)/x.c5}for(var E=V.start;
E<V.end;E++)a$.a2c(_,n.a5[E],n,h,O,y,t)}l.translate(-n.PU.x,-n.PU.y)};a$.anJ="()<>[]{}\xAB\xBB\u0F3A\u0F3B\u0F3C\u0F3D\u169B\u169C\u2039\u203A\u2045\u2046\u207D\u207E\u208D\u208E\u2208\u2209\u220A\u220B\u220C\u220D\u2215\u223C\u223D\u2243\u2252\u2253\u2254\u2255\u2264\u2265\u2266\u2267\u2268\u2269\u226A\u226B\u226E\u226F\u2270\u2271\u2272\u2273\u2274\u2275\u2276\u2277\u2278\u2279\u227A\u227B\u227C\u227D\u227E\u227F\u2280\u2281\u2282\u2283\u2284\u2285\u2286\u2287\u2288\u2289\u228A\u228B\u228F\u2290\u2291\u2292\u2298\u22A2\u22A3\u22A6\u22A8\u22A9\u22AB\u22B0\u22B1\u22B2\u22B3\u22B4\u22B5\u22B6\u22B7\u22C9\u22CA\u22CB\u22CC\u22CD\u22D0\u22D1\u22D6\u22D7\u22D8\u22D9\u22DA\u22DB\u22DC\u22DD\u22DE\u22DF\u22E0\u22E1\u22E2\u22E3\u22E4\u22E5\u22E6\u22E7\u22E8\u22E9\u22EA\u22EB\u22EC\u22ED\u22F0\u22F1\u22F2\u22F3\u22F4\u22F6\u22F7\u22FA\u22FB\u22FC\u22FD\u22FE\u2308\u2309\u230A\u230B\u2329\u232A\u2768\u2769\u276A\u276B\u276C\u276D\u276E\u276F\u2770\u2771\u2772\u2773\u2774\u2775\u27C3\u27C4\u27C5\u27C6\u27C8\u27C9\u27CB\u27CD\u27D5\u27D6\u27DD\u27DE\u27E2\u27E3\u27E4\u27E5\u27E6\u27E7\u27E8\u27E9\u27EA\u27EB\u27EC\u27ED\u27EE\u27EF\u2983\u2984\u2985\u2986\u2987\u2988\u2989\u298A\u298B\u298C\u298D\u298E\u298F\u2990\u2991\u2992\u2993\u2994\u2995\u2996\u2997\u2998\u29B8\u29C0\u29C1\u29C4\u29C5\u29CF\u29D0\u29D1\u29D2\u29D4\u29D5\u29D8\u29D9\u29DA\u29DB\u29F5\u29F8\u29F9\u29FC\u29FD\u2A2B\u2A2C\u2A2D\u2A2E\u2A34\u2A35\u2A3C\u2A3D\u2A64\u2A65\u2A79\u2A7A\u2A7D\u2A7E\u2A7F\u2A80\u2A81\u2A82\u2A83\u2A84\u2A8B\u2A8C\u2A91\u2A92\u2A93\u2A94\u2A95\u2A96\u2A97\u2A98\u2A99\u2A9A\u2A9B\u2A9C\u2AA1\u2AA2\u2AA6\u2AA7\u2AA8\u2AA9\u2AAA\u2AAB\u2AAC\u2AAD\u2AAF\u2AB0\u2AB3\u2AB4\u2ABB\u2ABC\u2ABD\u2ABE\u2ABF\u2AC0\u2AC1\u2AC2\u2AC3\u2AC4\u2AC5\u2AC6\u2ACD\u2ACE\u2ACF\u2AD0\u2AD1\u2AD2\u2AD3\u2AD4\u2AD5\u2AD6\u2ADE\u2AE3\u2AE4\u2AE5\u2AEC\u2AED\u2AF7\u2AF8\u2AF9\u2AFA\u2E02\u2E03\u2E04\u2E05\u2E09\u2E0A\u2E0C\u2E0D\u2E1C\u2E1D\u2E20\u2E21\u2E22\u2E23\u2E24\u2E25\u2E26\u2E27\u2E28\u2E29\u3008\u3009\u300A\u300B\u300C\u300D\u300E\u300F\u3010\u3011\u3014\u3015\u3016\u3017\u3018\u3019\u301A\u301B\uFE59\uFE5A\uFE5B\uFE5C\uFE5D\uFE5E\uFE64\uFE65\uFF08\uFF09\uFF1C\uFF1E\uFF3B\uFF3D\uFF5B\uFF5D\uFF5F\uFF60\uFF62\uFF63";
a$.a2c=function(_,n,O,l,x,t,h){t.translate(n.PU.x,n.PU.y);for(var V=n.Zk;V<=n.P6;V++){var y=O.j1[V],r=y.Sm.a,E=_[O.ay2+y.bp],a=E.lS._FillBackgroundFlag;
if(E.kt=="\n"||h&&!a)continue;var S=E.lS.FontSize/E.z4.head.unitsPerEm,e=t.clone();e.translate(y.PU.x+y.wa*S,y.PU.y-y.rE*S);
var P=new aY;P.scale(S,-S);if(E.vp==1&&a$.anJ.indexOf(E.kt)!=-1)P.concat(new aY(-1,0,0,1,r,0));if(E.lS.FauxItalic)P.concat(new aY(1,0,-Math.tan(.18),1,0,0));
P.translate(0,E.Dm);P.scale(E.scale.x,E.scale.y);if(E.lS.BaselineShift!=null)P.translate(0,-E.lS.BaselineShift);
if(y.ws!=0){P.rotate(-y.ws)}P.concat(e);var b=(E.lS._LineWidth?E.lS._LineWidth:1)*a$.qe;if(h){x.F.push(a$.vu(E.lS._FillBackgroundColor));
var T=1.005*y.Sm.n/S,C=new a8(-y.wa,-T*.27,1.03*y.Sm.a/(S*E.scale.x),T);if(E.lS.StrokeFlag)C.nQ(b/S,b/S);
Q.p.concat(x,Q.p.ta(C),P);x.F.push("X");continue}if(E.lS.FillFlag)x.F.push(a$.vu(E.lS.FillColor));if(E.lS.StrokeFlag)x.F.push("O-"+a$.vu(E.lS.StrokeColor)+"-"+b);
if(y.path.F.length!=0&&E.kt!="\t"){if(E.lS.FauxBold){var Z=E.lS.FontSize/2048*27*E.scale.x;P.Wk+=Z;Q.p.concat(x,y.path,P);
P.Wk-=Z+Z;Q.p.concat(x,y.path,P)}else Q.p.concat(x,y.path,P)}if(E.kt!="\n"){if(E.lS.Underline){if(l.vy==null)l.vy=E.z4.post.underlineThickness;
if(l.acP==null)l.acP=E.z4.post.underlinePosition;var W=0,s=l.acP-l.vy/2,f=y.B7*1.05,q=-l.vy;Q.p.concat(x,{F:["M","L","L","L","Z"],C:[W,s,W+f,s,W+f,s+q,W,s+q]},P)}if(E.lS.Strikethrough){var g=E.z4["OS/2"].yStrikeoutSize,i=E.z4["OS/2"].yStrikeoutPosition,W=0,s=i+g/2,f=y.B7*1.05,q=-g;
Q.p.concat(x,{F:["M","L","L","L","Z"],C:[W,s,W+f,s,W+f,s+q,W,s+q]},P)}}if(E.lS.FillFlag)x.F.push("X");
if(E.lS.StrokeFlag)x.F.push("OX")}t.translate(-n.PU.x,-n.PU.y)};a$.vu=function(_){var n=b$.JU(_),O=(Math.round(n.o)<<16)+(Math.round(n.J)<<8)+Math.round(n.k);
return"#"+Q.sN(O)};function hf(_,O){var l=b$.LR(_),x,t,h=b$.eR(_),V=_._LineOrientation==2?new aY:null,a,e;
if(_.Curve)t=hf.HC(_.Curve);if(l!=0){x=new a8(h[0],h[1],h[2],h[3]);if(V){var y=x.a;x.a=x.n;x.n=y;V.translate(0,-h[2])}if(l==2){x.a=t[5]-t[4];
x.n=9999}}this.G1=[];this.oM=[];this.TO=l;this.pw=V;var r=this.aqL=b$.om(_),E=-1,S=-1;for(var m=0;m<r.length;
m++){var P=a,b=b$.aeu(_,m);if(b!=E){E=b;P=a=b$.azh(_,b)}var T=e,b=b$.acz(_,m);if(b!=S){S=b;T=e=b$.a1O(_,b)}var C={kt:r.charAt(m),lS:P,z4:null,KN:-1,jc:b$.ahd(_,m),Dm:0,scale:new aW(0,0),W7:0,lineHeight:0,vp:0},Z=_.ResourceDict.FontSet[P.Font].Name,W=C.z4=O.aT(Z,r.charCodeAt(m));
C.scale.x=P.HorizontalScale==null?1:P.HorizontalScale;C.scale.y=P.VerticalScale==null?1:P.VerticalScale;
var s=W["OS/2"],f=W.hhea;if(P.FontCaps==1&&C.kt!=C.kt.toUpperCase()){var q=s.sxHeight?s.sxHeight/s.sTypoAscender:.76;
C.scale.x*=q;C.scale.y*=q}var g=1/W.head.unitsPerEm*P.FontSize;if(P.FontBaseline==1){var q=_.ResourceDict.SuperscriptSize;
C.scale.x*=q;C.scale.y*=q;C.Dm-=_.ResourceDict.SuperscriptPosition*P.FontSize}if(P.FontBaseline==2){var q=_.ResourceDict.SubscriptSize;
C.scale.x*=q;C.scale.y*=q;C.Dm+=_.ResourceDict.SubscriptPosition*P.FontSize}C.W7=hf.W7(W)*P.FontSize;
var i=T.AutoLeading;C.lineHeight=P.FontSize*(i==null?1.2:i);if(P.AutoLeading==!1)C.lineHeight=P.Leading;
if(C.lineHeight==0)C.lineHeight=.01;this.oM.push(C)}var u=this.G1,I=[0];for(var m=0;m<_.EngineDict.ParagraphRun.RunLengthArray.length;
m++){var Y=new hf._1(_,O,this.oM,m,x,I,l==1?t:null);u.push(Y)}if(V){if(l==0)V.translate(0,u[0].a5[0].W7/2);
V.rotate(-Math.PI/2)}if(l==2){var U=_.Curve.Points,F=t[0],N=t[1],o=t[2],X=t[3],J=t[4],c=t[5];for(var m=0;
m<u.length;m++)for(var p=0;p<u[m].H4.length;p++)if(!(m==0&&p==0))u[m].H4[p].uD=!1;var Y=u[0],d=Y.H4[0];
Y.PU.BX(0,0);d.PU.BX(0,0);for(var p=d.start;p<d.end;p++){var k=Y.a5[p],A=k.PU.x;k.PU.x=0;for(var $=k.Zk;
$<=k.P6;$++){var K=Y.j1[$],G=K.Sm.a/2;K.PU.x+=A;var z=hf.aox(F,(J+K.PU.x+G)%X);K.PU.x=z[0]-G*z[2];K.PU.y=z[1]-G*z[3];
K.ws=Math.atan2(z[3],z[2])}}}}hf.W7=function(_){var n=_._hh;if(n==null){var O=Typr.U,l=O.codeToGlyph(_,104),x=Q.p.Vx(Typr.U.glyphToPath(_,l).crds).n;
n=_._hh=x*(1/_.head.unitsPerEm)}return n};hf.prototype.aqK=function(){return!this.apy(0)};hf.prototype.adO=function(){return this.apy(1)};
hf.prototype.apy=function(_){var n=this.G1,O=!0,l=0;for(var m=0;m<n.length;m++){var x=n[m].H4,t=x.length;
l+=t;for(var h=0;h<t;h++)O&=x[h].uD}return[O,l][_]};hf.HC=function(_,n,O){if(n==null)n=.25;var l=_.Points,x=l.length,t=x>>>3,h=_.TextOnPathTRange,V=_.Reversed,S=0,e=0;
if(V){var y=l.slice(0);for(var m=0;m<x;m+=2){y[m]=l[x-2-m];y[m+1]=l[x-1-m]}l=y;h=[t-h[1]%t,t-h[0]%t]}var r=[],E=[0],a=[0];
for(var m=0;m<x;m+=8){var P=l[m+6]-l[m+0],b=l[m+7]-l[m+1],T=Math.round(Math.sqrt(P*P+b*b)/n),C=O&&m==x-8?T+1:T;
for(var Z=0;Z<C;Z++){var W=Z/T,s=1-W,f=s*s*s*l[m+0]+3*s*s*W*l[m+2]+3*s*W*W*l[m+4]+W*W*W*l[m+6],q=s*s*s*l[m+1]+3*s*s*W*l[m+3]+3*s*W*W*l[m+5]+W*W*W*l[m+7];
r.push(f,q);if(m+Z!=0){var P=f-S,b=q-e;a.push(a[a.length-1]+Math.sqrt(P*P+b*b));E.push((m>>>3)+W)}S=f;
e=q}}var n=a.length,g=a[n-1],i=hf.W2(h[0]%t,E),u=hf.W2(h[1]%t,E),I=a[i%n],Y=a[u%n];if(I>=Y)Y+=g;return[r,E,a,g,I,Y]};
hf.W2=function(_,n){var m=0;while(n[m]<_)m++;return m};hf.aox=function(_,n){var O=0,m=0,l,x,t;while(O<n){l=_[m+2]-_[m];
x=_[m+3]-_[m+1];t=Math.sqrt(l*l+x*x);O+=t;m+=2}return[_[m],_[m+1],l/t,x/t]};hf.prototype.aaZ=function(_){return this.oM[_]};
hf.prototype.ajV=function(_){for(var n=0;n<this.G1.length;n++){var O=this.G1[n];for(var l=0;l<O.H4.length;
l++){var x=O.H4[l],t=O.a5[x.start].start,h=O.a5[x.end-1].end;if(t<_&&_<h)return[t,h-1]}}return[0,1]};
hf.prototype.auP=function(_,n){var O=-1,l=this.G1;if(this.TO==2){var x=1e9,t=0,h=l[0],V=h.H4[0];for(var y=V.start;
y<V.end;y++){var r=h.a5[y];for(var E=r.Zk;E<=r.P6;E++){var a=h.j1[E],S=a.Sm.a,e=_.x-a.PU.x,P=_.y-a.PU.y,b=e*e+P*P;
if(b<x){x=b;t=a.bp}}}if(t!=0&&this.aqL.codePointAt(t-1)>65535)t--;return t}for(var T=0;T<l.length;T++){var h=l[T];
for(var C=0;C<h.H4.length;C++){O++;var V=h.H4[C],Z=h.H4[C+1];if(Z==null&&T<l.length-1)Z=l[T+1].H4[0];
if(n!=null){if(O!=n)continue}else{if(Z!=null&&h.PU.y+V.PU.y<_.y)continue}for(var y=V.start;y<V.end;y++){var r=h.a5[y];
for(var E=r.Zk;E<=r.P6;E++){var a=h.j1[E],S=a.Sm.a,W=h.PU.x+V.PU.x+r.PU.x,s=W+a.PU.x,f=W+(E<r.P6?h.j1[E+1].PU.x:a.PU.x+S);
if(_.x<=f||y+1==V.end&&E==r.P6){var q=h.ay2+a.bp,g=this.oM[q],i=g.vp&1;if(g.kt!="\n"&&(i==0&&_.x>s+S/2||i==1&&_.x<s+S/2))q+=this.aqL.codePointAt(q)>65535?2:1;
return q}}}}}};hf.prototype.p_=function(_){var n={Sm:new a8,w7:0},O=0;for(var l=0;l<this.G1.length;l++){var x=this.G1[l];
for(var t=0;t<x.H4.length;t++){var h=x.H4[t];n.w7=O;O++;for(var V=h.start;V<h.end;V++){var y=x.a5[V];
for(var r=y.start;r<y.end;r++){if(r==_){var E=this.oM[r],a=E.KN,S=x.j1[a].bp,e=1;while(x.j1[a]!=null&&x.j1[a].bp==S){var P=x.j1[a],b=x.PU.x+h.PU.x+y.PU.x+P.PU.x,T=x.PU.y+h.PU.y+y.PU.y+P.PU.y;
n.Sm=n.Sm.uG(new a8(b,T-E.lineHeight,P.Sm.a,E.lineHeight));n.ws=P.ws;a+=e}return n}}}}}};hf.prototype.uQ=function(){var _=Infinity,n=Infinity,O=-Infinity,l=-Infinity;
for(var m=0;m<this.G1.length;m++){var x=this.G1[m];for(var t=0;t<x.H4.length;t++){var h=x.H4[t];if(!h.uD)break;
for(var V=h.start;V<h.end;V++){var y=x.a5[V];for(var r=y.Zk;r<=y.P6;r++){var E=x.j1[r],a=E.Sm,S=x.PU.x+h.PU.x+y.PU.x+E.PU.x,e=x.PU.y+h.PU.y+y.PU.y+E.PU.y;
_=Math.min(_,S+a.x);n=Math.min(n,e+a.y);O=Math.max(O,S+a.x+a.a);l=Math.max(l,e+a.y+a.n)}}}}return new a8(_,n,O-_,l-n)};
hf.yI=function(_){return 19968<=_&&_<=40959||12288<=_&&_<=12543};hf.av2=function(_,O,l,x,t,h,V){var y=[h],r=0;
for(var m=h;m<V;m++){if(l[m]==null)console.log(m,h,V,l);var E=l[m].kt,a=E.charCodeAt(0);if(a==32||a==9){y.push(r,m,1,m+1);
r=0}else if(a==3851){y.push(r+1,m+1);r=0}else if(hf.yI(a)){y.push(r,m);r=1}else if(m!=h&&l[m].vp!=l[m-1].vp){y.push(r,m);
r=1}else r++}y.push(r);var S=[];for(var m=0;m<y.length;m+=2){var e=y[m],P=y[m+1];if(P==0)continue;S.push(new hf.aqX(_,O,l,x,t,e,P))}return S};
hf.anu=function(_,n,O,l,x,t,h){var V=[0,n?n.a:1e9],y=[];if(l){var r=_[t].W7,E=x+(x==0?r:_[t].lineHeight),a=E-r*.9,S=Q.p.ga(l[0],a),e=S.length,P=Q.p.ga(l[0],E),b=P.length;
if(e!=0&&b!=0){var T=0,C=0,Z=[];while(T<e&&C<b){var W=Math.max(S[T],P[C]),s=S[T+1],f=P[C+1],q=Math.min(s,f);
if(W<q)Z.push(W,q);if(s<f)T+=2;else C+=2}if(Z.length!=0)V=Z}}for(var g=0;g<V.length;g+=2){var i=0,u=t,I=n?V[g+1]-V[g]-O.StartIndent-O.EndIndent-(t==0?O.FirstLineIndent:0):Infinity;
while(t!=_.length){var Y=_[t],U=i==0||(Y.Sa||Y.Uu)||i+Y.Sm.a<I;if(!U)break;i+=Y.Sm.a;t++}y.push(t-u)}h[0]=y;
h[1]=V;h[2]=t};hf.a7v=function(_,n){var O=_.length,l=new Uint32Array(O),x=new Uint8Array(O),t=0;for(var m=0;
m<O;m++){x[m]=0;var h=_.charCodeAt(m);l[m]=h;if(h>t)t=h}if(t>1424)x=hf.amG(l,n);return x};hf.ark=function(_){return _=="\xDF"?_:_.toUpperCase()};
hf._1=function(_,O,l,x,t,h,V){this.a5=[];this.H4=[];this.PU=new aW(0,0);this.j1=null;this.a5=null;this.lS=b$.a1O(_,x);
var y=this.lS,S=0,b="",s=0,f=1,K=0;if(x!=0){var r=y.SpaceBefore;if(r!=null)h[0]+=r}var E=_.EngineDict.ParagraphRun.RunLengthArray,a=E[x];
for(var m=0;m<x;m++)S+=E[m];var e=y._Direction?y._Direction:0;this.ay2=S;var P=b$.om(_).slice(S,S+a);
for(var T=0;T<P.length;T++){var C=P.charAt(T);b+=l[S+T].lS.FontCaps==0?C:hf.ark(C)}P=b;var Z=hf.a7v(P,e),W=[],q=Z[m]&1,g=l[S].z4;
l[S].vp=Z[0];for(var m=1;m<P.length;m++){var C=l[S+m],i=Z[m];C.vp=i;if(i!=q||C.z4!=g){W.push(s,f);s=m;
f=1;q=i;g=C.z4}else f++}W.push(s,f);var u=this.j1=[];for(var m=0;m<W.length;m+=2){var I=W[m],Y=W[m+1],U=(l[S+I].vp&1)==0,F=P.slice(I,I+Y),N=Typr.U.shapeHB(l[S+I].z4,F,U),o=[],c=0;
for(var T=0;T<N.length;T++){var X=N[T];o.push({J:X.g,bp:X.cl,B7:X.ax,E8:X.ay,wa:X.dx,rE:X.dy})}N=o;var J=N.slice(0);
if(!U)J.reverse();for(var T=0;T<F.length;T++){while(c+1<J.length&&J[c+1].bp<=T){c++}while(c>0&&J[c-1].bp==T)c--;
l[S+I+T].KN=u.length+(U?c:J.length-c-1)}for(var T=0;T<N.length;T++){u.push(N[T]);N[T].bp+=I;var C=l[S+N[T].bp];
if(C.jc!=-1&&C.jc<C.z4.maxp.numGlyphs){N[T].J=C.jc;var p=C.z4.hmtx;if(p){var d=Object.keys(p)[0];N[T].B7=p[d][C.jc]}}if(C.kt=="\n")N[T].B7=0;
if(C.kt=="\t")N[T].B7=C.z4.head.unitsPerEm*36/C.lS.FontSize}}var k=b$.Ir(y),A=this.a5=hf.av2(_,O,l,S,u,S,S+a),$=this.H4,G=-1,b=[null,null,0];
while(K<A.length){hf.anu(A,t,y,V,h[0],K,b);G++;var z={start:K,end:0,Sm:new a8,PU:new aW(0,0),uD:!0},jK=0,f7=0;
$.push(z);z.end=b[2];if(z.start==z.end)throw"e";var M=z.end==A.length;function hl(J,I,ca){var aU=ca-I>>>1;
for(var m=0;m<aU;m++){var eJ=J[I+m];J[I+m]=J[ca-1-m];J[ca-1-m]=eJ}}for(var j=1;j<5;j++){var w=-1;for(var m=z.start;
m<z.end;m++){var i=l[A[m].start].vp;if(w==-1&&i>=j)w=m;else if(w!=-1&&i<j){hl(A,w,m);w=-1}}var B=z.end;
if(e==0&&A[B-1].Sa)B--;if(w!=-1)hl(A,w,B)}var bB=b[0],bG=b[1],w=K,eb=K;for(var fe=0;fe<bG.length;fe+=2){var gB=t?bG[fe+1]-bG[fe]-y.StartIndent-y.EndIndent-(K==0?y.FirstLineIndent:0):Infinity,hp=0;
w=eb;eb+=bB[fe>>>1];var g6=this.agu(w,eb,A,e,t!=null);if(t){if(k==1||M&&k==4)hp=g6[1]+(gB-g6[0]);if(k==2||M&&k==5)hp=g6[1]+(gB-g6[0])/2;
if(eb-w==1&&A[w].Sm.a>gB)hp=0;if(G==0)hp+=y.FirstLineIndent;hp+=y.StartIndent}else{if(k==0)hp=y.StartIndent+y.FirstLineIndent;
if(k==1)hp=-g6[0]-y.EndIndent;if(k==2)hp=-g6[0]/2}hp+=bG[fe];if(t&&k>2&&(k==6||!M))this.auY(w,eb,A,gB,e,hp);
else{var by=hp;for(var m=w;m<eb;m++){var e7=A[m],aN=e7.Sm.a;e7.PU.x=by;if(e7.N2=="\t")aN=Math.ceil((by+4)/36)*36-by;
by+=aN}}}K=z.end;for(var m=z.start;m<z.end;m++){var hW=A[m].Sm.clone();hW.iY(A[m].PU);z.Sm=z.Sm.uG(hW);
jK=Math.max(jK,A[m].W7);f7=Math.max(f7,A[m].lineHeight)}z.PU.y=G==0?0:$[G-1].PU.y+f7;if(G==0){if(x==0&&t)h[0]+=jK;
if(x!=0)h[0]+=f7;this.PU.y=h[0]}else h[0]+=f7;if(t)z.uD=this.PU.y+z.PU.y<t.y+t.n||x==0&&G==0}var km=y.SpaceAfter;
if(km!=null)h[0]+=km};hf._1.prototype.agu=function(_,n,O,l,x){var t=0,h=0;for(var m=_;m<n;m++)t+=O[m].Sm.a;
if(x){if(l==0)for(var m=n-1;m>=_;m--)if(O[m].Sa||O[m].Uu)t-=O[m].Sm.a;else break;if(l==1)for(var m=_;
m<n;m++)if(O[m].Sa||O[m].Uu){var V=O[m].Sm.a;t-=V;h-=V}else break}return[t,h]};hf._1.prototype.auY=function(_,n,O,l,x,t){var h=0,V=0,y=0,r=0;
for(var m=_;m<n;m++)if(O[m].Sa)y++;else{h+=O[m].Sm.a;V++}if(x==0)for(var m=n-1;m>=_;m--)if(O[m].Sa||O[m].Uu){if(O[m].Sa){y--}}else break;
if(x==1)for(var m=_;m<n;m++)if(O[m].Sa||O[m].Uu){if(O[m].Sa){y--;r++}}else break;if(V<=1||y==0){if(V==1)O[_].PU.x=t;
return}var E=(l-h)/y,a=-r*E;for(var m=_;m<n;m++){if(O[m].Sa)this.j1[O[m].Zk].Sm.a=O[m].Sm.a=E;O[m].PU.x=t+a;
a+=O[m].Sm.a}};hf.aqX=function(_,O,l,x,t,h,V){this.N2="";for(var m=0;m<V;m++)this.N2+=l[h+m].kt;this.Sa=V==1&&(l[h].kt==" "||l[h].kt=="\t");
this.Uu=V==1&&l[h].kt=="\n";this.start=h;this.end=h+V;this.Sm=new a8;this.PU=new aW(0,0);this.W7=0;this.lineHeight=0;
var y=0,r=0;if(V==0){this.lineHeight=l[h].lineHeight;this.W7=l[h].W7;this.Sm=new a8(0,-l[h].lineHeight,0,l[h].lineHeight)}var E=l[h].KN,a=l[h+V-1].KN;
if(a<E){var S=E;E=a;a=S}while(a+1<t.length&&t[a].bp==t[a+1].bp){a++}this.Zk=E;this.P6=a;for(var e=E;
e<=a;e++){var P=t[e],b=l[x+P.bp],T=_._LineOrientation==2&&(b.lS.BaselineDirection!=2||hf.yI(b.kt.charCodeAt(0))),C=Typr.U.glyphToPath(b.z4,P.J),q=0;
P.path={F:C.cmds,C:C.crds};var Z=b.lS.FontSize,W=1/b.z4.head.unitsPerEm*Z;if(!b.lS.AutoKerning)y+=b.lS.Kerning*2*W*b.scale.x;
P.PU=new aW(y,0);P.ws=0;if(T&&P.path.C.length>0){P.ws=-Math.PI/2;P.PU.x+=Z*.83;P.PU.y=-Z*.3+P.B7*W/2;
P.B7=Z/W}var s=P.B7*W*b.scale.x;P.Sm=new a8(0,-b.lineHeight,s,b.lineHeight);var f=P.Sm.clone();f.iY(P.PU);
if(b.lS.Tracking!=null)q=b.lS.Tracking*.001*Z;if(b.lS.FauxBold==!0)q+=.027*Z;y+=s+q;if(V==1&&b.kt==" ")f.a+=2*q;
else if(V==1&&b.kt!=null&&hf.yI(b.kt.charCodeAt(0)))f.a+=q;this.Sm=this.Sm.uG(f);this.W7=Math.max(this.W7,b.W7);
this.lineHeight=Math.max(this.lineHeight,b.lineHeight)}};hf.XV=0;hf.arS=function(_){if(hf.XV==2)return!0;
if(hf.XV==1)return!1;hf.XV=1;function n(){fetch("code/ext/fribidi.wasm").then(function(O){return O.arrayBuffer()}).then(function(O){return WebAssembly.instantiate(O)}).then(function(O){var l=O.instance.exports,x=l.memory,t=16,h=256,V=1,y=t|h,r=t|h|V;
hf.amG=function(a,S){var e=a.length,P=e*4+4+e*4+e*4+e;dx.fu(l,P+e+1e7);var b=new Uint8Array(x.buffer),T=new Uint32Array(x.buffer),C=l.calloc(P,1),Z=C+e*4,s=Z+4,f=s+e*4,q=f+e*4;
T.set(a,C>>>2);T[Z>>>2]=S==0?y:r;l.fribidi_get_bidi_types(C,e,s);l.fribidi_get_bracket_types(C,e,s,f);
l.fribidi_get_par_embedding_levels_ex(s,f,e,Z,q);var g=b.slice(q,q+e);l.free(C);return g};hf.XV=2;var E=new e_(H.E.L,!0);
E.data={d:H.t.Gf,E5:"add",nZ:gp.V1,a4:null};_.$(E)})}Typr.U.initHB("code/ext/hb.wasm",n);return!1};function b$(){}b$.NY=function(_){return JSON.parse(JSON.stringify(_))};
b$.UH=function(_,n){for(var O in n)_[O]=n[O]};b$.Jw=function(_,n,O,l){var x=b$.a78();if(O)b$.gD(x,0,0,O);
var t=new aY;if(l!=null)t.rotate(l);t.translate(Math.round(_),Math.round(n));var h={D:t,m1:x};h.gt=b$.a4K();
h.ZA=Q.Q6.Q();h.T1=new a8;return h};b$.auD=function(_){var n=["CharacterDirection",0];for(var m=0;m<n.length;
m+=2){if(_[n[m]]!=null&&_[n[m]]!=n[m+1]){throw"e";console.log(n[m],_[n[m]])}}if(_ instanceof Array)for(var m=0;
m<_.length;m++)b$.auD(_[m]);else if(_ instanceof Object)for(var O in _)b$.auD(_[O])};b$.Ir=function(_,n){if(n==null)n=_.Justification;
var O=_._Direction?_._Direction:0;if(O==1){if(n==0||n==3)n++;else if(n==1||n==4)n--}return n};b$.zy=function(_){if(_.add==null)return;
var n=_.m1,O=n.Curve,l=_.add.vmsk,x=l.i,t=Q.p.cX(x,!0).C,h=_.D.clone();h.sJ();Q.p.D(t,h,t);var V=t.slice(0,8);
for(var y=8;y<t.length;y+=6)V.push(t[y-2],t[y-1],t[y],t[y+1],t[y+2],t[y+3],t[y+4],t[y+5]);O.Points=V;
O.TextOnPathTRange=l.wP.slice(0);O.Reversed=l.oL;if(b$.LR(n)==1){var O=hf.HC(n.Curve),r=Q.p.Vx(O[0]);
b$.IU(n,[0,0,r.a,r.n].map(Math.round));for(var m=0;m<V.length;m+=2){V[m]-=r.x;V[m+1]-=r.y}var E=new aY(1,0,0,1,r.x,r.y);
E.concat(_.D);_.D=E}};b$.Y9=function(_){if(_.add==null)return;var n=_.add.vmsk,O=_.m1.Curve,l=O.Points,x={F:["M"],C:[l[0],l[1]]};
for(var m=0;m<l.length;m+=8){x.F.push("C");x.C.push(l[m+2],l[m+3],l[m+4],l[m+5],l[m+6],l[m+7])}Q.p.D(x.C,_.D,x.C);
var t=Q.p.mg(x,!0);n.i=t;n.oL=O.Reversed;n.wP=O.TextOnPathTRange.slice(0);_.add.vogk=v.W0(t)};b$.JU=function(_){var n={o:0,J:0,k:0};
if(_){var O=_.Values;if(_.Type==1)n={o:O[1]*255,J:O[2]*255,k:O[3]*255};else if(_.Type==2){var l={classID:"CMYC",Cyn:{t:"doub",v:O[1]*100},Mgnt:{t:"doub",v:O[2]*100},Ylw:{t:"doub",v:O[3]*100},Blck:{t:"doub",v:O[4]*100}};
n=Q.N.JU(l)}else console.log("Unknown color type")}return n};b$.an0=function(_){for(var m=0;m<_.length;
m++){var n=_[m].StyleSheet.StyleSheetData,O=n.FillColor;if(O&&O.Type==2){var l=b$.JU(O);O.Type=1;O.Values=[1,l.o/255,l.J/255,l.k/255]}}};
b$.kf=function(_,n){var O;if(b$.LR(_.m1)==1){var l=b$.eR(_.m1);O=new a8(0,0,l[2]-l[0],l[3]-l[1])}else{O=n.uQ();
if(n.pw){var x=n.pw.clone(),t=Q.p.ta(O);Q.p.D(t.C,x,t.C);O=Q.p.Vx(t.C)}}return O};b$.kU=function(_){var n=_[0];
for(var m=0;m<_.length;m++)n=b$.aoy(n,_[m]);return n};b$.aoy=function(_,n){var O={};for(var l in _)if(JSON.stringify(_[l])==JSON.stringify(n[l]))O[l]=_[l];
return O};b$.Wu=function(_,n){var O=_.ZP,l=-1;for(var m=0;m<O.length;m++)if(O[m].Name==n)l=m;if(l==-1){l=O.length;
O.push({FontType:1,Name:n,Script:0,Synthetic:0})}_.oM.Font=l};b$.om=function(_){return _.EngineDict.Editor.Text.replace(/\r/g,"\n").replace(/\u0003/g,"\n")};
b$.iV=function(_,O){_.EngineDict.Editor.Text=O.replace(/\n/g,"\r")};b$.LR=function(_){return _.Curve&&_.Curve.TextOnPathTRange[0]>=0?2:_.EngineDict.Rendered.Shapes.Children[0].ShapeType};
b$.EQ=function(_,O){var l=_.EngineDict.Rendered.Shapes.Children[0];l.ShapeType=O;var x=l.Cookie.Photoshop;
x.ShapeType=O;x.Base.ShapeType=O;if(O==0){delete x.BoxBounds;x.PointBase=[0,0]}if(O==1){delete x.PointBase;
x.BoxBounds=[0,0,1,1]}};b$.eR=function(_){return _.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds};
b$.IU=function(_,O){_.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds=O};b$.ahd=function(_,O){var l=_.EngineDict.AlternateGlyphRun;
if(l==null)return-1;var x=b$.BM(l.RunLengthArray,O).gP;if(l.RunArray[x]==null)return-1;var t=l.RunArray[x].Glyph;
return t==null?-1:t};b$.a0s=function(_,O,l){var x=_.EngineDict.AlternateGlyphRun;if(x==null){x=_.EngineDict.AlternateGlyphRun=b$.aiR();
x.RunArray.push({});x.RunLengthArray.push(b$.om(_).length)}var t=b$.BM(x.RunLengthArray,O),h=t.gP,V=O-t.jZ,y=x.RunArray[h],r=JSON.stringify(y),E=x.RunLengthArray[h];
if(V!=0){x.RunArray.splice(h,0,JSON.parse(r));x.RunLengthArray.splice(h,0,V);x.RunLengthArray[h+1]-=V;
h++;E-=V;V=0}if(E!=1){x.RunArray.splice(h+1,0,JSON.parse(r));x.RunLengthArray.splice(h+1,0,E-1);x.RunLengthArray[h]=1;
E=1}y.Glyph=l};b$.aeu=function(_,O){var l=_.EngineDict.StyleRun.RunLengthArray;return b$.BM(l,O).gP};
b$.azh=function(_,O){var l=_.ResourceDict.StyleSheetSet[0].StyleSheetData,x={};for(var t in l)x[t]=l[t];
var h=_.EngineDict.StyleRun.RunArray[O].StyleSheet.StyleSheetData;b$.UH(x,h);return x};b$.acz=function(_,O){var l=_.EngineDict.ParagraphRun.RunLengthArray;
return b$.BM(l,O).gP};b$.a1O=function(_,O){var l=_.ResourceDict.ParagraphSheetSet[0].Properties,x={};
for(var t in l)x[t]=l[t];var h=_.EngineDict.ParagraphRun.RunArray[O].ParagraphSheet.Properties;b$.UH(x,h);
var V=["StartIndent","EndIndent","FirstLineIndent"];for(var m=0;m<3;m++)if(x[V[m]]==null)x[V[m]]=0;return x};
b$.qS=function(_,O,l){if(l=="")return;var x=b$.om(_);b$.iV(_,x.substring(0,O)+l+x.substring(O,x.length));
var t=_.EngineDict.StyleRun,h=t.RunLengthArray,V=b$.BM(h,O-1);h[V.gP]+=l.length;var y=_.EngineDict.AlternateGlyphRun;
if(y){var h=y.RunLengthArray,V=b$.BM(h,O-1);h[V.gP]+=l.length}var r=_.EngineDict.ParagraphRun,h=r.RunLengthArray,E=b$.BM(h,O),a=l.split("\n");
if(a.length==1){h[E.gP]+=l.length;return}h.splice(E.gP+1,0,h[E.gP]-(O-E.jZ));r.RunArray.splice(E.gP+1,0,b$.NY(r.RunArray[E.gP]));
h[E.gP]-=h[E.gP+1];h[E.gP]+=a[0].length+1;for(var m=1;m<a.length-1;m++){r.RunArray.splice(E.gP+m,0,b$.NY(r.RunArray[E.gP+m-1]));
r.RunLengthArray.splice(E.gP+m,0,a[m].length+1)}h[E.gP+a.length-1]+=a[a.length-1].length};b$.Da=function(_,O,l){var x=b$.om(_);
b$.iV(_,x.substring(0,O)+x.substring(l,x.length));b$.MW(_.EngineDict.ParagraphRun,O,l,!0);b$.MW(_.EngineDict.StyleRun,O,l,!1);
var t=_.EngineDict.AlternateGlyphRun;if(t)b$.MW(t,O,l,!1)};b$.MW=function(_,n,O,l){var x=_.RunLengthArray,t=b$.BM(x,n),h=b$.BM(x,O),V=[];
for(var m=0;m<x.length;m++)for(var y=0;y<x[m];y++)V.push(m);V.splice(n,O-n);var r=[];for(var m=0;m<x.length;
m++)r.push(0);for(var m=0;m<V.length;m++)r[V[m]]++;for(var m=0;m<x.length;m++){if(r[m]==0){r.splice(m,1);
x.splice(m,1);_.RunArray.splice(m,1);m--}else if(r[m]<x[m])x[m]=r[m]}if(l&&t.gP!=h.gP&&t.jZ!=n){x[t.gP]+=x[t.gP+1];
x.splice(t.gP+1,1);_.RunArray.splice(t.gP+1,1)}};b$.gD=function(_,O,l,x){var t=_.EngineDict.Editor.Text.length;
if(l==t-2)l++;if(x.oM.Font!=null)_.ResourceDict.FontSet=x.ZP.slice(0);if(O<=l)b$.a79(_.EngineDict.StyleRun,x.oM,O,l,!0);
b$.a79(_.EngineDict.ParagraphRun,x.G1,O,l,!1)};b$.QN=function(_,O,l){var x={ZP:_.ResourceDict.FontSet.slice(0),oM:[],G1:[]},t=_.EngineDict.StyleRun.RunLengthArray,h=b$.BM(t,O).gP,V=b$.BM(t,l).gP;
for(var m=h;m<=V;m++){var y=b$.NY(_.ResourceDict.StyleSheetSet[0].StyleSheetData),r=_.EngineDict.StyleRun.RunArray;
if(r.length==0)continue;var E=r[m].StyleSheet.StyleSheetData;b$.UH(y,E);x.oM.push(y)}var a=_.EngineDict.ParagraphRun.RunLengthArray,S=b$.BM(a,O).gP,e=b$.BM(a,l).gP;
for(var m=S;m<=e;m++){var P=_.EngineDict.ParagraphRun.RunArray;if(P.length==0)continue;x.G1.push(b$.NY(P[m].ParagraphSheet.Properties))}x.oM=x.oM.length==0?{}:b$.kU(x.oM);
x.G1=x.G1.length==0?{}:b$.kU(x.G1);return x};b$.a79=function(_,n,O,l,x){var t=_.RunLengthArray;if(x){var h=b$.BM(t,O);
if(h.jZ!=O){var V=t[h.gP];t.splice(h.gP,0,O-h.jZ);t[h.gP+1]=V-t[h.gP];_.RunArray.splice(h.gP+1,0,b$.NY(_.RunArray[h.gP]))}var y=b$.BM(t,l);
if(y.jZ+t[y.gP]-1!=l){var V=t[y.gP];t.splice(y.gP,0,l-y.jZ+1);t[y.gP+1]=V-t[y.gP];_.RunArray.splice(y.gP+1,0,b$.NY(_.RunArray[y.gP]))}}var h=b$.BM(t,O),y=b$.BM(t,l);
if(x)for(var m=h.gP;m<=y.gP;m++)b$.UH(_.RunArray[m].StyleSheet.StyleSheetData,n);else for(var m=h.gP;
m<=y.gP;m++)b$.UH(_.RunArray[m].ParagraphSheet.Properties,n)};b$.apN=function(_,O,l){var x=_.EngineDict.StyleRun.RunLengthArray,t=[],h=0;
for(var m=0;m<x.length;m++){var V=x[m];for(var y=0;y<V;y++)if(O<=h+y&&h+y<l)t.push(m);h+=V}var r=t[0],E=[];
for(var m=0;m<t.length;m++){var a=t[m]-r;if(a==E.length)E.push(0);E[a]++}return E};b$.ahc=function(_){var O=_.EngineDict.StyleRun,l=O.RunArray,x=O.RunLengthArray;
for(var m=0;m<x.length-1;m++){var t=l[m].StyleSheet.StyleSheetData,h=l[m+1].StyleSheet.StyleSheetData;
if(JSON.stringify(t)==JSON.stringify(h)){l.splice(m+1,1);x[m]+=x[m+1];x.splice(m+1,1);m--}}};b$.Vi=function(_){var n=_.gt.AntA.v.Annt;
n=["Anno","antiAliasSharp","AnCr","AnSt","AnSm"].indexOf(n);if(n==-1)n=1;return n};b$.F_=function(_,n){_.gt.AntA.v.Annt=["Anno","antiAliasSharp","AnCr","AnSt","AnSm"][n]};
b$.YX=function(_,n){var O,l;O=["FontSize","Leading","BaselineShift","_LineWidth"];l=_.oM;for(var m=0;
m<O.length;m++)if(l[O[m]]!=null)l[O[m]]*=n;O=["StartIndent","EndIndent","FirstLineIndent","SpaceBefore","SpaceAfter"];
l=_.G1;for(var m=0;m<O.length;m++)if(l[O[m]]!=null)l[O[m]]*=n};b$.aoF=function(){return b$.QN(b$.asa,0,0)};
b$.a4K=function(){return{classID:"TxLr",Txt:{t:"TEXT",v:"\0"},textGridding:{t:"enum",v:{textGridding:"None"}},Ornt:{t:"enum",v:{Ornt:"Hrzn"}},AntA:{t:"enum",v:{Annt:"antiAliasSharp"}},TextIndex:{t:"long",v:0}}};
b$.BM=function(_,n){var O=0,m=0;while(O+_[m]<=n){O+=_[m];m++}return{gP:m,jZ:O}};b$.a78=function(){var _=b$.NY(this.asa);
return _};b$.agv=function(_,n){var O=n.G1};b$.a9e=function(_,n){var O=n.oM,l;l=_.Undl;if(l&&l.v.Undl=="underlineOnLeftInVertical")O.Underline=!0;
l=_.syntheticItalic;if(l)O.FauxItalic=l.v};b$.alR={Justification:0,FirstLineIndent:0,StartIndent:0,EndIndent:0,SpaceBefore:0,SpaceAfter:0,AutoHyphenate:!1,HyphenatedWordSize:6,PreHyphen:2,PostHyphen:2,ConsecutiveHyphens:8,Zone:36,WordSpacing:[.8,1,1.33],LetterSpacing:[0,0,0],GlyphSpacing:[1,1,1],AutoLeading:1.2,LeadingType:0,Hanging:!1,Burasagari:!1,KinsokuOrder:0,EveryLineComposer:!1,_Direction:0,_ComposerEngine:1};
b$.al5={Font:0,FontSize:12,FauxBold:!1,FauxItalic:!1,AutoLeading:!0,Leading:0,HorizontalScale:1,VerticalScale:1,Tracking:0,AutoKerning:!0,Kerning:0,BaselineShift:0,FontCaps:0,FontBaseline:0,Underline:!1,Strikethrough:!1,Ligatures:!0,DLigatures:!1,BaselineDirection:2,Tsume:0,StyleRunAlignment:2,Language:0,NoBreak:!1,FillColor:{Type:1,Values:[1,0,0,0]},StrokeColor:{Type:1,Values:[1,0,0,0]},_FillBackgroundColor:{Type:1,Values:[1,0,0,0]},FillFlag:!0,StrokeFlag:!1,_LineWidth:1,_FillBackgroundFlag:!1,FillFirst:!0,YUnderline:1,OutlineWidth:1,CharacterDirection:0,HindiNumbers:!1,Kashida:1,DiacriticPos:2};
b$.aiR=function(){return{RunArray:[],RunLengthArray:[],IsJoinable:2}};b$.asa={EngineDict:{Editor:{Text:"\n"},ParagraphRun:{DefaultRunData:{ParagraphSheet:{DefaultStyleSheet:0,Properties:{}},Adjustments:{Axis:[1,0,1],XY:[0,0]}},RunArray:[{ParagraphSheet:{DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(b$.alR))},Adjustments:{Axis:[1,0,1],XY:[0,0]}}],RunLengthArray:[1],IsJoinable:1},StyleRun:{DefaultRunData:{StyleSheet:{StyleSheetData:{}}},RunArray:[{StyleSheet:{StyleSheetData:{Font:0,FontSize:24,AutoKerning:!0,Kerning:0}}}],RunLengthArray:[1],IsJoinable:2},GridInfo:{GridIsOn:!1,ShowGrid:!1,GridSize:18,GridLeading:22,GridColor:{Type:1,Values:[0,0,0,1]},GridLeadingFillColor:{Type:1,Values:[0,0,0,1]},AlignLineHeightToGridFlags:!1},AntiAlias:4,UseFractionalGlyphWidths:!0,Rendered:{Version:1,Shapes:{WritingDirection:0,Children:[{ShapeType:0,Procession:0,Lines:{WritingDirection:0,Children:[]},Cookie:{Photoshop:{ShapeType:0,PointBase:[0,0],Base:{ShapeType:0,TransformPoint0:[1,0],TransformPoint1:[0,1],TransformPoint2:[0,0]}}}}]}}},ResourceDict:{KinsokuSet:[{Name:"PhotoshopKinsokuHard",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u30FC\u2015\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011\u30FD\u30FE\u309D\u309E\u3005\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u309B\u309C?!)]},.:;\u2103\u2109\xA2\uFF05\u2030",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010([{\uFFE5\uFF04\xA3\uFF20\xA7\u3012\uFF03",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"},{Name:"PhotoshopKinsokuSoft",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011\u30FD\u30FE\u309D\u309E\u3005",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"}],MojiKumiSet:[{InternalName:"Photoshop6MojiKumiSet1"},{InternalName:"Photoshop6MojiKumiSet2"},{InternalName:"Photoshop6MojiKumiSet3"},{InternalName:"Photoshop6MojiKumiSet4"}],TheNormalStyleSheet:0,TheNormalParagraphSheet:0,ParagraphSheetSet:[{Name:"Normal RGB",DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(b$.alR))}],StyleSheetSet:[{Name:"Normal RGB",StyleSheetData:JSON.parse(JSON.stringify(b$.al5))}],FontSet:[{Name:"DejaVuSans",Script:0,FontType:1,Synthetic:0},{Name:"AdobeInvisFont",Script:0,FontType:0,Synthetic:0},{Name:"MyriadHebrew-Regular",Script:6,FontType:0,Synthetic:0}],SuperscriptSize:.583,SuperscriptPosition:.333,SubscriptSize:.583,SubscriptPosition:.333,SmallCapSize:.7}};
var dq={};dq.atM=function(_){var n=dq.atv(_._0,_._1);dq.a6o(n,_._0);return n};dq.az6=function(_,n,O){var l={};
l._98={_0:"i7"};l._0=dq.asl(_,n,O?O._0:null);l._1=dq.agg(_,n,l._0,O?O._1:null);return l};dq.asl=function(_,n,O){var l={};
l._1=dq.ac5(_,O?O._1:null);l._2={_0:[{_0:{_0:"s"}}],_1:[{_0:"i0"}]};l._3=JSON.parse(JSON.stringify(dq.a26));
l._4=JSON.parse(JSON.stringify(dq.a1e));l._5=dq.apH(_,l._1._0,O?O._5:null);l._6=dq.a5a(_,O?O._6:null);
l._8=dq.aoI(_,n,O?O._8:null);l._9=dq.atY;return l};dq.a6o=function(_,n){dq.ac4(_,n._5,n._1._0)};dq.ac5=function(_,n){var O=[],l=[];
for(var m=0;m<_.length;m++){var x=_[m].ResourceDict.FontSet;for(var t=0;t<x.length;t++){var h=x[t];if(l.indexOf(h.Name)!=-1)continue;
O.push(h);l.push(h.Name)}}var V={_0:[]};for(var m=0;m<O.length;m++){var y=O[m],r={_0:{_99:"/CoolTypeFont",_0:{_0:"s"+y.Name,_1:"i"+y.Script,_2:"i"+y.FontType}}};
if(y.Script==0)delete r._0._0._1;V._0.push(r)}return V};dq.apH=function(_,n,O){var l={_0:[],_1:[]},x={_0:JSON.parse(JSON.stringify(dq.avX))};
dq.apC(x._0,_[0].ResourceDict.StyleSheetSet[0],n,_[0].ResourceDict.FontSet);l._0.push(x);l._1.push({_0:"i0"});
l._0.push({_0:{_0:"sNone",_5:"i0",_6:{}}});l._1.push({_0:"i1"});return l};dq.ac4=function(_,n,O){var l=n._0[0];
for(var m=0;m<_.length;m++)dq.ady(l._0,_[m].ResourceDict.StyleSheetSet[0],O,_[m].ResourceDict.FontSet)};
dq.a5a=function(_,n){var O={_0:[],_1:[]},l={_0:JSON.parse(JSON.stringify(dq.Sl))};dq.x1(l._0,_[0].ResourceDict.ParagraphSheetSet[0]);
O._0.push(l);O._1.push({_0:"i0"});l={_0:JSON.parse(JSON.stringify(dq.Sl))};dq.x1(l._0,_[0].ResourceDict.ParagraphSheetSet[0]);
l._0._0="sBasic Paragraph";l._0._6="i0";O._0.push(l);O._1.push({_0:"i1"});return O};dq.aoI=function(_,n,O){var l={_0:[]};
for(var m=0;m<_.length;m++){var x=_[m].Curve,t={};l._0.push({_0:t});var h=b$.LR(_[m]);t._2={};t._2._0="i"+h;
if(_[m]._LineOrientation==2)t._2._1="i2";if(h==0){t._2._6=["f-1","f-1"];t._2._11={_4:"i-1",_7:!1}}else if(h==1&&x==null){var V=b$.eR(_[m]),y=V[2],r=V[3];
t._1={_0:dq.UL("f",[0,0,0,0,y,0,y,0,y,0,y,0,y,r,y,r,y,r,y,r,0,r,0,r,0,r,0,r,0,0,0,0])};t._2._6=["f-2","f-2"];
t._2._11={_4:"i-2",_7:!1}}else if(h==1){var V=b$.eR(_[m]),y=V[2],r=V[3];t._1={_0:dq.UL("f",x.Points)};
t._2._6=["f-3","f-3"];t._2._11={_4:"i-3",_7:!1}}else if(h==2){t._1={_0:dq.UL("f",x.Points)};t._2._6=dq.UL("f",x.TextOnPathTRange);
t._2._11={_0:x.Reversed,_3:"i0",_5:"f0",_7:!1}}}return l};dq.agg=function(_,n,O,l){var x={};x._0=JSON.parse(JSON.stringify(dq.alx));
x._1=dq.ai3(_,n,O,l?l._1:null);x._2=JSON.parse(JSON.stringify(dq.avX._6));x._3=JSON.parse(JSON.stringify(dq.Sl._5));
return x};dq.atv=function(_,n){return dq.ak9(_,n._1)};dq.ai3=function(_,n,O,l){var x=[],t=O._1._0;for(var m=0;
m<_.length;m++){var h=_[m],V={_0:{}};x.push(V);V._0._0="s"+h.EngineDict.Editor.Text;V._0._0=V._0._0;
var y=V._0._5={_0:[]},r=h.EngineDict.ParagraphRun;for(var E=0;E<r.RunArray.length;E++){var a={_0:{}};
y._0.push(a);a._0._0={_0:"s",_5:{},_6:"i1"};dq.x1(a._0._0,r.RunArray[E].ParagraphSheet);a._1="i"+r.RunLengthArray[E]}var S=V._0._6={_0:[]};
r=h.EngineDict.StyleRun;for(var E=0;E<r.RunArray.length;E++){var e={_0:{}};S._0.push(e);e._0._0={_0:"s",_5:"i1",_6:{}};
dq.apC(e._0._0,r.RunArray[E].StyleSheet,t,h.ResourceDict.FontSet);e._1="i"+r.RunLengthArray[E]}r=h.EngineDict.AlternateGlyphRun;
if(r){var P=V._0._9={_0:[]};for(var E=0;E<r.RunArray.length;E++){var b={_0:{}};P._0.push(b);var T=r.RunArray[E];
if(T.Glyph!=null){b._0._0={_0:"i"+T.Glyph,_1:"e"}}b._1="i"+r.RunLengthArray[E]}}V._0._10={_0:"i4",_2:!0};
V._1=dq.view.arh(h,null,m,null)}return x};dq.ak9=function(_,n){var O=[],l=_._1._0;for(var m=0;m<n.length;
m++){var x=b$.a78();O.push(x);var t=n[m];x.EngineDict.Editor.Text=t._0._0.slice(1);var h=x.EngineDict.ParagraphRun.RunArray[0],V=x.EngineDict.ParagraphRun,y=t._0._5;
if(y)for(var r=0;r<y._0.length;r++){var E=y._0[r];V.RunLengthArray[r]=parseInt(E._1.slice(1));V.RunArray[r]=JSON.parse(JSON.stringify(h));
dq.azb(E._0._0,V.RunArray[r].ParagraphSheet)}else{V.RunLengthArray[0]=b$.om(x).length}var a=t._0._6;
V=x.EngineDict.StyleRun;if(a)for(var r=0;r<a._0.length;r++){var S=a._0[r];V.RunLengthArray[r]=parseInt(S._1.slice(1));
V.RunArray[r]={StyleSheet:{StyleSheetData:{}}};dq.ady(S._0._0,V.RunArray[r].StyleSheet,l,x.ResourceDict.FontSet)}else{V.RunLengthArray[0]=b$.om(x).length;
V.RunArray[0]={StyleSheet:{StyleSheetData:{}}}}}return O};dq.apC=function(_,n,O,l,x){_._0="s"+(n.Name?n.Name:"");
var t=_._6,h=x?x._6:null,V=n.StyleSheetData;if(V.Font==null)return;var y=l[V.Font].Name,r=-1;for(var m=0;
m<O.length;m++)if("s"+y==O[m]._0._0._0){r=m;break}t._0="i"+r;if(V.FontSize!=null)t._1="f"+V.FontSize;
if(V.FauxBold!=null)t._2=V.FauxBold;if(V.FauxItalic!=null)t._3=V.FauxItalic;if(V.AutoLeading!=null)t._4=V.AutoLeading;
if(V.Leading!=null)t._5="f"+V.Leading;if(V.HorizontalScale!=null)t._6="f"+V.HorizontalScale;if(V.VerticalScale!=null)t._7="f"+V.VerticalScale;
if(V.Tracking!=null)t._8="i"+V.Tracking;if(V.BaselineShift!=null)t._9="f"+V.BaselineShift;if(V.AutoKerning!=null)t._11="i"+(V.AutoKerning?1:0);
if(V.FontCaps!=null)t._12="i"+V.FontCaps;if(V.FontBaseline!=null)t._13="i"+V.FontBaseline;if(V.Strikethrough!=null)t._15="i"+(V.Strikethrough?1:0);
if(V.Underline!=null)t._16="i"+(V.Underline?2:0);if(V.Ligatures!=null)t._18=V.Ligatures;if(V.DLigatures!=null)t._19=V.DLigatures;
if(V.BaselineDirection!=null)t._35="i"+V.BaselineDirection;if(V.Language!=null)t._38="i"+V.Language;
if(V.FillColor!=null)t._53=dq.vu(V.FillColor);if(V.StrokeColor!=null)t._54=dq.vu(V.StrokeColor);if(V.FillFlag!=null)t._56=V.FillFlag;
if(V.StrokeFlag!=null)t._57=V.StrokeFlag;if(V._LineWidth!=null)t._63="f"+V._LineWidth;if(V._FillBackgroundColor!=null)t._79=dq.vu(V._FillBackgroundColor);
if(V._FillBackgroundFlag!=null)t._80=V._FillBackgroundFlag};dq.vu=function(_){return{_99:"/SimplePaint",_0:{_0:"i1",_1:dq.UL("f",_.Values)}}};
dq.ady=function(_,n,O,l){var x=_._6;if(x==null)return;var t=n.StyleSheetData;if(x._0){var h=parseInt(x._0.slice(1)),V=O[h]._0._0._0.slice(1);
b$.Wu({oM:t,ZP:l},V)}if(x._1!=null)t.FontSize=parseFloat(x._1.slice(1));if(x._2!=null)t.FauxBold=x._2;
if(x._3!=null)t.FauxItalic=x._3;if(x._4!=null)t.AutoLeading=x._4;if(x._5!=null)t.Leading=parseFloat(x._5.slice(1));
if(x._6!=null)t.HorizontalScale=parseFloat(x._6.slice(1));if(x._7!=null)t.VerticalScale=parseFloat(x._7.slice(1));
if(x._8!=null)t.Tracking=parseFloat(x._8.slice(1));if(x._9!=null)t.BaselineShift=parseFloat(x._9.slice(1));
if(x._11!=null)t.AutoKerning=parseFloat(x._11.slice(1))==1;if(x._12!=null)t.FontCaps=parseFloat(x._12.slice(1));
if(x._13!=null)t.FontBaseline=parseFloat(x._13.slice(1));if(x._15!=null)t.Strikethrough=parseFloat(x._15.slice(1))==1;
if(x._16!=null)t.Underline=parseFloat(x._16.slice(1))==1;if(x._18!=null)t.Ligatures=x._18;if(x._19!=null)t.DLigatures=x._19;
if(x._35!=null)t.BaselineDirection=parseFloat(x._35.slice(1));if(x._38!=null)t.Language=parseFloat(x._38.slice(1));
if(x._53!=null)t.FillColor=dq.TL(x._53);if(x._54!=null)t.StrokeColor=dq.TL(x._54);if(x._56!=null)t.FillFlag=x._56;
if(x._57!=null)t.StrokeFlag=x._57;if(x._63!=null)t._LineWidth=parseFloat(x._63.slice(1));if(x._79!=null)t._FillBackgroundColor=dq.TL(x._79);
if(x._80!=null)t._FillBackgroundFlag=x._80};dq.TL=function(_){var n=_._0._0,O=_._0._1,l=[1,0,0,0],x=[];
for(var m=0;m<O.length;m++)x[m]=parseFloat(O[m].slice(1));if(n=="i0")l[1]=l[2]=l[3]=x[1];else if(n=="i1")l=x;
else if(n=="i2")l=[1].concat(UDOC.C.cmykToRgb(x.slice(1)));else console.log("unknown color type",n,x);
return{Type:1,Values:l}};dq.x1=function(_,n){_._0="s"+(n.Name?n.Name:"");var O=_._5,l=n.Properties;if(l.Justification!=null)O._0="i"+l.Justification;
if(l.FirstLineIndent!=null)O._1="f"+l.FirstLineIndent;if(l.StartIndent!=null)O._2="f"+l.StartIndent;
if(l.EndIndent!=null)O._3="f"+l.EndIndent;if(l.SpaceBefore!=null)O._4="f"+l.SpaceBefore;if(l.SpaceAfter!=null)O._5="f"+l.SpaceAfter;
if(l.AutoLeading!=null)O._7="f"+l.AutoLeading;if(l.AutoHyphenate!=null)O._9=l.AutoHyphenate;if(l._Direction!=null)O._33="i"+l._Direction;
if(l._ComposerEngine!=null)O._35="i"+l._ComposerEngine};dq.azb=function(_,n){var O=_._5;if(O==null)return;
var l=n.Properties;if(O._0)l.Justification=parseInt(O._0.slice(1))};dq.UL=function(_,n){var O=[];for(var m=0;
m<n.length;m++)O.push(_+n[m]);return O};dq.a26={_0:[{_0:{_0:"sPhotoshop6MojiKumiSet4",_5:{_0:"i0",_3:"i2"}}},{_0:{_0:"sPhotoshop6MojiKumiSet3",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sPhotoshop6MojiKumiSet2",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sPhotoshop6MojiKumiSet1",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sYakumonoHankaku",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sGyomatsuYakumonoHankaku",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sGyomatsuYakumonoZenkaku",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sYakumonoZenkaku",_5:{_0:"i0",_3:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"},{_0:"i6"},{_0:"i7"}]};
dq.a1e={_0:[{_0:{_0:"sNone",_5:{_0:"s",_1:"s",_2:"s",_3:"s",_4:"i0"}}},{_0:{_0:"sPhotoshopKinsokuHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u309B\u309C\u309D\u309E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u30FB\u30FC\u30FD\u30FE\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sPhotoshopKinsokuSoft",_5:{_0:"s\u2019\u201D\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u309D\u309E\u30FB\u30FD\u30FE\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}},{_0:{_0:"sHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u309B\u309C\u309D\u309E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u30FB\u30FC\u30FD\u30FE\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sSoft",_5:{_0:"s\u2019\u201D\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u309D\u309E\u30FB\u30FD\u30FE\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"}]};
dq.avX={_0:"sNormal RGB",_6:{_0:"i0",_1:"f12",_2:!1,_3:!1,_4:!0,_5:"f0",_6:"f1",_7:"f1",_8:"i0",_9:"f0",_10:"f0",_11:"i1",_12:"i0",_13:"i0",_14:"i0",_15:"i0",_16:"i0",_17:"f0",_18:!0,_19:!1,_20:!1,_21:!1,_22:!1,_23:!1,_24:!1,_25:!1,_26:!1,_27:!1,_28:!1,_29:!1,_30:"i0",_31:!1,_32:!1,_33:!1,_34:!1,_35:"i2",_36:"f0",_37:"i2",_38:"i0",_39:"i0",_40:!1,_41:"i2",_42:"i0",_43:{_0:"f.5"},_44:"i2",_45:"i2",_46:"i7",_47:"i0",_48:"i0",_49:"f-1",_50:"f-1",_51:"i0",_52:!1,_53:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_54:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_55:{_99:"/SimpleBlender"},_56:!0,_57:!1,_58:!0,_59:!1,_60:!1,_61:"i0",_62:"i0",_63:"f1",_64:"f4",_65:"f0",_66:[],_67:[],_68:"i0",_69:"i0",_70:"i0",_71:"i4",_72:"f0",_73:"f0",_74:!1,_75:!1,_76:!1,_77:!0,_78:!0,_79:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f1","f1","f0"]}},_80:!1,_81:"i0",_82:"f3",_83:"f3",_84:!1,_85:"i0",_86:{_99:"/SimpleCustomFeature"},_87:"f100",_88:!0}};
dq.Sl={_0:"sNormal RGB",_5:{_0:"i0",_1:"f0",_2:"f0",_3:"f0",_4:"f0",_5:"f0",_6:"i1",_7:"f1.2",_8:"i0",_9:!0,_10:"i6",_11:"i2",_12:"i2",_13:"i0",_14:"f36",_15:!0,_16:"f.5",_17:["f.8","f1","f1.33"],_18:["f0","f0","f0"],_19:["f1","f1","f1"],_20:"i6",_21:!1,_22:"i0",_23:!0,_24:"i0",_25:"i0",_27:"/nil",_26:!1,_28:"/nil",_29:!1,_30:{},_31:"f36",_32:{},_33:"i0",_34:"i7",_35:"i1",_36:"/nil",_37:"i0",_38:!1,_39:"i0",_40:"i2"}};
dq.atY={_0:[{_0:{_0:"skPredefinedNumericListStyleTag",_6:"i1"}},{_0:{_0:"skPredefinedUppercaseAlphaListStyleTag",_6:"i2"}},{_0:{_0:"skPredefinedLowercaseAlphaListStyleTag",_6:"i3"}},{_0:{_0:"skPredefinedUppercaseRomanNumListStyleTag",_6:"i4"}},{_0:{_0:"skPredefinedLowercaseRomanNumListStyleTag",_6:"i5"}},{_0:{_0:"skPredefinedBulletListStyleTag",_6:"i6"}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"}]};
dq.alx={_0:{_0:"i1",_1:[{_0:"s ",_1:"s1"},{_0:"s\r",_1:"s6"},{_0:"s\t",_1:"s0"},{_0:"s\u2029",_1:"s5"},{_0:"s\x03",_1:"s5"},{_0:"s\u3000",_1:"s1"},{_0:"s\xAD",_1:"s3"}]},_1:"i0",_2:"i0",_3:"f.583",_4:"f.333",_5:"f.583",_6:"f.333",_7:"f.7",_8:!0,_9:[{_0:"i0",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i1",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i2",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i3",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i4",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i5",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i6",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i7",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i8",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i9",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i10",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i11",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i12",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i13",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i14",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i15",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i16",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i17",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i18",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i19",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i20",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i21",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i22",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i23",_1:"s\u201E",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i24",_1:"s\u201E",_2:"s\u201D",_3:"s\u201A",_4:"s\u2019"},{_0:"i25",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i26",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i27",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i28",_1:"s\u201E",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i29",_1:"s\u301D",_2:"s\u301E"},{_0:"i30",_1:"s\u300C",_2:"s\u300D"},{_0:"i31",_1:"s\u201E",_2:"s\u201C",_3:"s\u2018",_4:"s\u2019"},{_0:"i32",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i33",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i34",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i35",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i36",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i37",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i38",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i39",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i40",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i41",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i42",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i43",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i44",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i45",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"}],_15:{_0:"sWinSoft"},_16:!1};
var gJ={};gJ.aa1=function(_){return gJ.Gn(_,gJ.Ee,0)};gJ.awc=function(_){return gJ.Sz(_,gJ.Ee)};gJ.Gn=function(_,n,O){var l;
if(typeof _=="string")return _;if(_ instanceof Array){l=[];for(var m=0;m<_.length;m++)l[m]=gJ.Gn(_[m],n,O+1)}else{l={};
var x={};for(var t in n){var h=n[t],V="_"+h[0];if(_[V]!=null){l[t]=h[1]?gJ.Gn(_[V],h[1],O+1):_[V];x[V]=!0}}for(var t in _){if(x[t]==null){if(t.length>3)continue;
console.log(n,x);console.log(t,_);throw"e"}}}return l};gJ.Sz=function(_,n){var O;if(typeof _=="string")return _;
else if(_ instanceof Array){O=[];for(var m=0;m<_.length;m++)O[m]=gJ.Sz(_[m],n)}else{O={};var l={};for(var x in n){var t=n[x],h="_"+t[0];
if(_[x]!=null){O[h]=t[1]?gJ.Sz(_[x],t[1]):_[x];l[x]=!0}}for(var x in _){if(l[x]==null){console.log(n,l);
console.log(x,_);throw"e"}}}return O};gJ.af={_Color:[0,{_Type:[0],_Values:[1]}],_CAIKnownStyleID:[5],_StreamTag:[99]};
gJ.AM={_Font:[0],_FontSize:[1],_FauxBold:[2],_FauxItalic:[3],_AutoLeading:[4],_Leading:[5],_HorizontalScale:[6],_VerticalScale:[7],_Tracking:[8],_BaselineShift:[9],_CharacterRotation:[10],_AutoKern:[11],_FontCaps:[12],_FontBaseline:[13],_FontOTPosition:[14],_StrikethroughPosition:[15],_UnderlinePosition:[16],_UnderlineOffset:[17],_Ligatures:[18],_DiscretionaryLigatures:[19],_ContextualLigatures:[20],_AlternateLigatures:[21],_OldStyle:[22],_Fractions:[23],_Ordinals:[24],_Swash:[25],_Titling:[26],_ConnectionForms:[27],_StylisticAlternates:[28],_Ornaments:[29],_FigureStyle:[30],_ProportionalMetrics:[31],_Kana:[32],_Italics:[33],_Ruby:[34],_BaselineDirection:[35],_Tsume:[36],_StyleRunAlignment:[37],_Language:[38],_JapaneseAlternateFeature:[39],_EnableWariChu:[40],_WariChuLineCount:[41],_WariChuLineGap:[42],_WariChuSubLineAmount:[43,{_WariChuSubLineScale:[0]}],_WariChuWidowAmount:[44],_WariChuOrphanAmount:[45],_WariChuJustification:[46],_TCYUpDownAdjustment:[47],_TCYLeftRightAdjustment:[48],_LeftAki:[49],_RightAki:[50],_JiDori:[51],_NoBreak:[52],_FillColor:[53,gJ.af],_StrokeColor:[54,gJ.af],_Blend:[55,{_1:[1],_3:[3],_Knockout:[4],_StreamTag:[99]}],_FillFlag:[56],_StrokeFlag:[57],_FillFirst:[58],_FillOverPrint:[59],_StrokeOverPrint:[60],_LineCap:[61],_LineJoin:[62],_LineWidth:[63],_MiterLimit:[64],_LineDashOffset:[65],_LineDashArray:[66],_Type1EncodingNames:[67],_Kashidas:[68],_DirOverride:[69],_DigitSet:[70],_DiacVPos:[71],_DiacXOffset:[72],_DiacYOffset:[73],_OverlapSwash:[74],_JustificationAlternates:[75],_StretchedAlternates:[76],_FillVisibleFlag:[77],_StrokeVisibleFlag:[78],_FillBackgroundColor:[79,gJ.af],_FillBackgroundFlag:[80],_UnderlineStyle:[81],_DashedUnderlineGapLength:[82],_DashedUnderlineDashLength:[83],_SlashedZero:[84],_StylisticSets:[85],_CustomFeature:[86,{_StreamTag:[99]}],_MarkYDistFromBaseline:[87],_AutoMydfb:[88],_RefFontSize:[89],_FontSizeRefType:[90]};
gJ.ahR={_Justification:[0],_FirstLineIndent:[1],_StartIndent:[2],_EndIndent:[3],_SpaceBefore:[4],_SpaceAfter:[5],_DropCaps:[6],_AutoLeading:[7],_LeadingType:[8],_AutoHyphenate:[9],_HyphenatedWordSize:[10],_PreHyphen:[11],_PostHyphen:[12],_ConsecutiveHyphens:[13],_Zone:[14],_HyphenateCapitalized:[15],_HyphenationPreference:[16],_WordSpacing:[17],_LetterSpacing:[18],_GlyphSpacing:[19],_SingleWordJustification:[20],_Hanging:[21],_AutoTCY:[22],_KeepTogether:[23],_BurasagariType:[24],_KinsokuOrder:[25],_Kinsoku:[27],_KurikaeshiMojiShori:[26],_MojiKumiTable:[28],_EveryLineComposer:[29],_TabStops:[30],_DefaultTabWidth:[31],_DefaultStyle:[32,gJ.AM],_ParagraphDirection:[33],_JustificationMethod:[34],_ComposerEngine:[35],_ListStyle:[36],_ListTier:[37],_ListSkip:[38],_ListOffset:[39],_KashidaWidth:[40]};
gJ.aaP={_Name:[0],_Features:[5,gJ.ahR],_Parent:[6],_UUID:[97]};gJ.apY={_Name:[0],_Parent:[5],_Features:[6,gJ.AM],_UUID:[97]};
gJ.Ee={_98:[98,{_0:[0]}],_DocumentResources:[0,{_0:[0],_FontSet:[1,{_Resources:[0,{_Resource:[0,{_StreamTag:[99],_Identifier:[0,{_Name:[0],_ScriptType:[1],_Type:[2],_Synthetic:[3],_4:[4],_MMAxis:[5]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiCodeToClassSet:[2,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiTableSet:[3,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5,{_CodeToClass:[0],_AutoTsume:[1,{_TsumeMappings:[0,{_Before:[0],_After:[1],_Code:[2]}]}],_Table:[2,{_DataArray:[0,{_SparseArray:[0,{_Index:[0],_Elements:[1,{_P:[0],_Data:[1,{_A:[0,{_R:[0],_P:[1]}],_B:[1,{_R:[0],_P:[1]}]}]}]}]}]}],_PredefinedTag:[3]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_KinsokuSet:[4,{_Resources:[0,{_Resource:[0,{_Name:[0],_Data:[5,{_NoStart:[0],_NoEnd:[1],_Keep:[2],_Hanging:[3],_PredefinedTag:[4]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_StyleSheetSet:[5,{_Resources:[0,{_Resource:[0,gJ.apY]}],_DisplayList:[1,{_Resource:[0]}]}],_ParagraphSheetSet:[6,{_Resources:[0,{_Resource:[0,gJ.aaP]}],_DisplayList:[1,{_Resource:[0]}]}],_7:[7,{_Resources:[0,{_Resource:[0,{_0:[0,{_0:[0],_1:[1,{_0:[0]}]}],_1:[1]}]}]}],_TextFrameSet:[8,{_Resources:[0,{_Resource:[0,{_0:[0],_Bezier:[1,{_Points:[0]}],_Data:[2,{_Type:[0],_LineOrientation:[1],_FrameMatrix:[2],_4:[4],_TextOnPathTRange:[6],_RowGutter:[7],_ColumnGutter:[8],_9:[9],_FirstBaselineAlignment:[10,{_Flag:[0],_Min:[1]}],_PathData:[11,{_1:[1],_Reversed:[0],_2:[2],_3:[3],_Spacing:[4],_5:[5],_6:[6],_7:[7],_18:[18]}],_12:[12],_13:[13]}],_3:[3,{_0:[0]}],_UUID:[97]}]}]}],_ListStyleSet:[9,{_Resources:[0,{_Resource:[0,{_Name:[0],_LevelStyle:[5,{_IndentUnits:[0],_TextIndent:[1],_LabelIndent:[2],_LabelAlignment:[3],_SequenceGenerator:[5,{_Prefix:[0],_Postfix:[1],_2:[2],_CaseType:[3],_Bullet:[9],_StreamTag:[99]}],_Font:[6]}],_PredefinedTag:[6],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}]}],_DocumentObjects:[1,{_DocumentSettings:[0,{_HiddenGlyphFont:[0,{_AlternateGlyphFont:[0],_WhitespaceCharacterMapping:[1,{_WhitespaceCharacter:[0],_AlternateCharacter:[1]}]}],_NormalStyleSheet:[1],_NormalParagraphSheet:[2],_SuperscriptSize:[3],_SuperscriptPosition:[4],_SubscriptSize:[5],_SubscriptPosition:[6],_SmallCapSize:[7],_UseSmartQuotes:[8],_SmartQuoteSets:[9,{_Language:[0],_OpenDoubleQuote:[1],_CloseDoubleQuote:[2],_OpenSingleQuote:[3],_CloseSingleQuote:[4]}],_10:[10],_11:[11],_LinguisticSettings:[15,{_PreferredProvider:[0],_LinguisticProviderInfo:[1]}],_13:[13],_UseSmartLists:[16],_DefaultStoryDir:[17],_18:[18],_GreekingSize:[20]}],_TextObjects:[1,{_Model:[0,{_Text:[0],_ParagraphRun:[5,{_RunArray:[0,{_RunData:[0,{_ParagraphSheet:[0,gJ.aaP]}],_Length:[1]}]}],_StyleRun:[6,{_RunArray:[0,{_RunData:[0,{_StyleSheet:[0,gJ.apY]}],_Length:[1]}]}],_FirstKern:[7],_8:[8],_AlternateGlyphRun:[9,{_RunArray:[0,{_RunData:[0,{_AlternateGlyphSheet:[0,{_Glyph:[0],_Name:[1],_2:[2]}]}],_Length:[1]}]}],_StorySheet:[10,{_AntiAlias:[0],_1:[1],_UseFractionalGlyphWidths:[2],_3:[3],_4:[4]}],_KernRun:[15],_HyperlinkRun:[16]}],_View:[1,{_Frames:[0,{_Resource:[0]}],_RenderedData:[1,{_RunArray:[0,{_RunData:[0,{_0:[0],_LineCount:[1]}],_Length:[1]}]}],_Strikes:[2]}],_OpticalAlignment:[2]}],_OriginalNormalStyleFeatures:[2,gJ.AM],_OriginalNormalParagraphFeatures:[3,gJ.ahR]}]};
dq.view={};dq.view.arh=function(_,O,l,x){var t={},h=b$.LR(_);t._0=[{_0:"i"+l}];return t};function CSS(){}CSS.a6P=function(_,n){var O=_.add,l=O.vmsk,x=O.vstk,t=O.lmfx,h=O.TySh,V=[],y=CSS.a0n(t,O);
if(_.uq()&&l){var r=Q.M.OY(l.i);if(!r.wk()){V.push("width: "+Math.round(r.a)+"px");V.push("height: "+Math.round(r.n)+"px")}var E=Q.M.abh(l.i);
if(E>0)V.push("border-radius: "+Math.round(E)+"px")}else if(h){var a=h.m1;if(b$.LR(a)==1){var r=b$.eR(a);
V.push("width: "+Math.round(r[2])+"px");V.push("height: "+Math.round(r[3])+"px")}CSS.a1W(V,b$.QN(a,0,0),h.D,!1,!1,y[0])}var S=CSS.ajt(n,t);
if(S.length!=0)V.push("filter: "+S.join(" "));if(h==null)CSS.a2m(y,V);if(x==null||!x.strokeEnabled.v)x=fW.kd(t);
if(x&&x.strokeEnabled.v){var e=x.strokeStyleContent.v,P=e.classID,b=aF.eo.vl.indexOf(x.strokeStyleLineCapType.v.strokeStyleLineCapType),T=aF.eo.join.indexOf(x.strokeStyleLineJoinType.v.strokeStyleLineJoinType),C=x.strokeStyleOpacity.v.val/100,Z=x.strokeStyleLineWidth.v.val,W="";
if(P=="solidColorLayer")W=CSS.j6(e.Clr.v,C);V.push("border: "+Z+"px solid "+W)}return V};CSS.ajt=function(_,n){var O=[];
if(n==null||!n.masterFXSwitch.v)return[];var l=n?n.dropShadowMulti.v:[];for(var m=0;m<l.length;m++){var x=l[m].v;
if(x.enab.v){var t=x.Dstn.v.val,h=x.lagl.v.val*Math.PI/180;if(x.uglg&&x.uglg.v)h=_.tk()*Math.PI/180;
var V=t*Math.cos(h),y=t*Math.sin(h);O.push("drop-shadow("+(V==0?"0 ":CSS.a5_(-V)+"px ")+(y==0?"0 ":CSS.a5_(y)+"px ")+x.blur.v.val/2+"px "+CSS.j6(x.Clr.v,x.Opct.v.val/100)+")")}}return O};
CSS.a0n=function(_,n){var O=fW.nn(_,n),l=O[0],x=O[1],t,h;if(l){t=CSS.j6(l.Clr.v,n.iOpa!=null?n.iOpa/255:1)}else if(x){h=CSS.af3(x)}return[t,h]};
CSS.a2m=function(_,n){if(_[0])n.push("background-color: "+_[0]);if(_[1])n.push("background-image: "+_[1])};
CSS.KG={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};
CSS.a5_=function(ab){return""+parseFloat(ab.toFixed(3))};CSS._0=function(_){if(_==null)return{o:0,J:0,k:0};
var n=_.indexOf("(");if(n!=-1){var O=_.slice(n+1,_.length-1).split(",");for(var m=0;m<O.length;m++){var l=O[m].trim();
O[m]=parseFloat(l)*(l.endsWith("%")?255/100:1)}return{o:O[0],J:O[1],k:O[2]}}if(_.charAt(0)!="#"){var x=CSS.KG;
if(x[_])_=x[_];else console.log("unknown color "+_)}_=_.slice(1);if(_.length==4)_=_[0]+_[0]+_[1]+_[1]+_[2]+_[2]+_[3]+_[3];
if(_.length==3)_=_[0]+_[0]+_[1]+_[1]+_[2]+_[2];var t=-1;if(_.length==8){t=parseInt(_.slice(6),16);_=_.slice(0,6)}_=parseInt(_,16);
var h={o:_>>16&255,J:_>>8&255,k:_&255};if(t!=-1)h.EX=t;return h};CSS.j6=function(_,n){return CSS.ij(Q.N.JU(_),n)};
CSS.ij=function(_,n){if(n==null)n=1;var O=Math.round(_.o),l=Math.round(_.J),x=Math.round(_.k),t=O<<16|l<<8|x;
return n==1?"#"+Q.sN(t):"rgba("+O+","+l+","+x+","+n+")"};CSS.af3=function(_){var n=_.Grad.v;if(n.Clrs==null)return"";
var O=n.Clrs.v.slice(0),l=n.Trns.v.slice(0),x=_.Ofst.v,t=_.Type.v.GrdT=="Rdl"?1:0,h=(t==1?"radial":"linear")+"-gradient",V=t==0?Math.round(-_.Angl.v.val+90)+"deg":"circle at center",y=_.Rvrs.v,r=Q.N._z(n,y);
for(var m=0;m<r.length;m++){var E=r[m],a=E[1];V+=", "+CSS.ij({o:a[0]*255,J:a[1]*255,k:a[2]*255},E[2])+" "+Math.round(E[0]*100)+"%"}return h+"("+V+")"};
CSS.a1W=function(_,n,O,l,x,t){var h=n.oM,V=l?1:O.Sn(),y=Math.round(h.FontSize*V);_.push("font-size: "+y+"px");
var r=h.Tracking;if(!l&&r!=null&&r!=0)_.push("letter-spacing: "+Math.round(r*y/1e3)+"px");if(!h.AutoLeading)_.push("line-height: "+Math.round(h.Leading*V)+"px");
if(h.Strikethrough)_.push("text-decoration: line-through");if(h.Underline)_.push("text-decoration: underline");
var E=b$.JU(h.FillColor);E=[E.o,E.J,E.k].map(Math.round);_.push((l?"fill: ":"color: ")+(t?t:"#"+Q.sN(E[0]<<16|E[1]<<8|E[2])));
var a=n.ZP[h.Font].Name;if(a){var S=g0.Zd.aT(a),e="",P=null,b=null;if(S!=null&&a!=g0.Tn(S))S=null;if(x&&S)e+="\""+a+"\", ";
var T=a.toLowerCase();if(S){P=g0.fH(S)[0];if(S["OS/2"])b=S["OS/2"].usWeightClass}else{P=CSS.ab_(a);if(T.indexOf("light")!=-1)b=300;
else if(T.indexOf("medium")!=-1)b=500;else if(T.indexOf("black")!=-1||T.indexOf("extrabold")!=-1)b=800;
else if(T.indexOf("bold")!=-1)b="bold"}if(P!=null)e+="\""+P+"\"";if(b!=null)_.push("font-weight: "+b);
if(T.indexOf("italic")!=-1||T.indexOf("oblique")!=-1)_.push("font-style: italic");if(e)_.push("font-family: "+e)}var C=n.G1.Justification;
if(C!=null&&C!=0)if(l){}else _.push("text-align: "+["left","right","center"][C%3])};CSS.ab_=function(_){_=_.split("-")[0];
while(_.endsWith("MT")||_.endsWith("PS"))_=_.slice(0,_.length-2);var n=!0;for(var m=0;m<_.length;m++){var O=_.charAt(m);
if(!n&&O.toLowerCase()!=O){_=_.slice(0,m)+" "+_.slice(m);m++;n=!0}else n=!1}return _};function ak(){}ak.yQ={document:!0,parent:!0,top:!0,eval:!0,postMessage:!0,UTIF:!0,PIMG:!0,LNG:!0,FNTS:!0};
ak.gq=function(_,n){var O=Date.now(),l=_.split("\n"),x;for(var m=0;m<l.length;m++)if(l[m].trim()[0]=="#"){l[m]=""}_=l.join("\n");
try{x=acorn.parse(_)}catch(hU){console.log(hU);return}var t=JSON.parse(JSON.stringify(ak.zI.MC));t.__return=!1;
t.__continue=!1;t.__break=!1;t.__throw=!1;t.__fs={};t.__window={};ak.eval(x,n,t);var h=t.__fs;if(Object.keys(h).length!=0){var V=UZIP.encode(h);
iR.save(V,"output.zip")}};ak.eval=function(_,n,O){var l=_.type;if(!1){}else if(l=="Program"||l=="BlockStatement"){var x=_.body;
for(var m=0;m<x.length;m++){var t=x[m].type;if(t=="FunctionDeclaration")O[x[m].id.name]=x[m]}for(var m=0;
m<x.length;m++){var t=x[m].type,h=ak.eval(x[m],n,O);if(O.__continue){O.__continue=!1;return h}if(O.__return||O.__break||O.__throw)return h}}else if(l=="ReturnStatement"){O.__return=!0;
return _.argument?ak.YE(_.argument,n,O):null}else if(l=="BreakStatement"){O.__break=!0}else if(l=="ContinueStatement"){O.__continue=!0}else if(l=="VariableDeclaration"){var V=_.declarations;
for(var m=0;m<V.length;m++)ak.eval(V[m],n,O)}else if(l=="VariableDeclarator"){O[_.id.name]=_.init?ak.YE(_.init,n,O):null}else if(l=="FunctionDeclaration"){O[_.id.name]=_}else if(l=="MemberExpression"){var y=ak.YE(_.object,n,O),r=_.computed?ak.YE(_.property,n,O):ak.eval(_.property,n,O),h;
if(y.CN!=null)h=ak.zI.YM(y,r,n,O);else if(y==window&&ak.yQ[r]){}else h=y[r];return h}else if(l=="ArrayExpression"){var E=[],a=_.elements;
for(var m=0;m<a.length;m++)E.push(ak.YE(a[m],n,O));return E}else if(l=="ObjectExpression"){var E={},a=_.properties;
for(var m=0;m<a.length;m++){var S=a[m],e=a[m].key.name?a[m].key.name:a[m].key.value;E[e]=ak.YE(a[m].value,n,O)}return E}else if(l=="ExpressionStatement"){return ak.eval(_.expression,n,O)}else if(l=="NewExpression"){var P=_.arguments,b=_.callee,T=b.type,C=b.name,Z=[],E=null;
for(var m=0;m<P.length;m++)Z.push(ak.YE(P[m],n,O));if(C=="Array")E=new window[C];else if(T=="Identifier")E=ak.zI.awH(C,Z,n,O);
else throw"e";if(E==null)throw"new "+C;return E}else if(l=="CallExpression"){var P=_.arguments,b=_.callee,T=b.type,W={};
for(var s in O)W[s]=O[s];var Z=[];for(var m=0;m<P.length;m++)Z.push(ak.YE(P[m],n,O));if(T=="Identifier"){var f=b.name,q=O[f];
if(q){if(q.params){var g=q.params;for(var m=0;m<g.length;m++)W[g[m].name]=Z[m];return ak.eval(q.body,n,W)}else{return q.apply(null,Z)}}else if(ak.zI.a3O.indexOf(f)!=-1)return ak.zI.iv({CN:"Application"},f,Z,n,O);
else if(window[f]==null)console.log("Unknown function "+f);else if(ak.yQ[f])alert(f+"() not available");
else{var i=window[f].apply(window,Z);return i}}else if(T=="MemberExpression"){var y=ak.YE(b.object,n,O),r=b.computed?ak.YE(b.property,n,O):ak.eval(b.property,n,O);
if(y==window&&ak.yQ[r])return;if(y.CN!=null)return ak.zI.iv(y,r,Z,n,O);else if(r=="sort"&&y[0]&&y[0].CN=="Layer"){return y.sort(function(G,z){return G.h.getName()>z.h.getName()?1:-1})}else return y[r].apply(y,Z)}else if(T=="FunctionExpression"){return ak.eval(b.body,n,O)}else console.log(_)}else if(l=="AssignmentExpression"){var u=_.operator,I=_.left,Y=I.type,U=ak.YE(I,n,O),F=ak.YE(_.right,n,O),h=null;
if(!1){}else if(u=="=")h=F;else if(u=="+=")h=U+F;else if(u=="-=")h=U-F;else if(u=="*=")h=U*F;else if(u=="/=")h=U/F;
else if(u=="%=")h=U%F;else if(u=="&=")h=U&F;else if(u=="|=")h=U|F;else if(u=="&&=")h=U&&F;else if(u=="||=")h=U||F;
else console.log(_);if(Y=="Identifier"){var N=I.name;if(O.hasOwnProperty(N))O[N]=h;else O.__window[N]=h}else if(Y=="MemberExpression"){var o=ak.eval(I.property,n,O),X=ak.YE(I.object,n,O);
if(X.CN!=null)ak.zI.aqY(X,o,h,n,O);else X[o]=h}else console.log(_)}else if(l=="Identifier")return _.name;
else if(l=="Literal")return _.value;else if(l=="UpdateExpression"){var u=_.operator,J=_.argument.name,E=ak.YE(_.argument,n,O),c=O;
if(c[J]==null)c=O.__window;if(!1){}else if(u=="++"){c[J]++;return _.prefix?c[J]:c[J]-1}else if(u=="--"){c[J]--;
return _.prefix?c[J]:c[J]+1}else console.log(_)}else if(l=="UnaryExpression"){var u=_.operator,p=ak.YE(_.argument,n,O);
if(p.CN=="UnitValue"){if(u=="-")return-p.h;else return ak.ak$(p.h,u)}else return ak.ak$(p,u)}else if(l=="BinaryExpression"||l=="LogicalExpression"){var u=_.operator,I=ak.YE(_.left,n,O),p=ak.YE(_.right,n,O);
if(I==null||p==null)return ak.RK(I,p,u);else if(I.CN=="UnitValue"&&p.CN=="UnitValue")return ak.RK(I.h,p.h,u);
else if(I.CN=="UnitValue")return ak.RK(I.h,p,u);else if(p.CN=="UnitValue"){if(u=="-")return-(I-p.h);
else return ak.RK(I,p.h,u)}else return ak.RK(I,p,u)}else if(l=="IfStatement"){var d=ak.YE(_.test,n,O);
if(d)return ak.eval(_.consequent,n,O);else if(_.alternate)return ak.eval(_.alternate,n,O)}else if(l=="ConditionalExpression"){var d=ak.YE(_.test,n,O);
if(d)return ak.YE(_.consequent,n,O);else if(_.alternate)return ak.YE(_.alternate,n,O)}else if(l=="ForInStatement"){ak.eval(_.left,n,O);
var k=_.left.declarations[0].id.name,A=ak.YE(_.right,n,O);for(var s in A){O[k]=s;var $=ak.eval(_.body,n,O);
if(O.__break)break;if(O.__return)return $}O.__break=!1}else if(l=="ForStatement"){ak.eval(_.init,n,O);
while(ak.eval(_.test,n,O)){var $=ak.eval(_.body,n,O);if(O.__break)break;if(O.__return)return $;ak.eval(_.update,n,O)}O.__break=!1}else if(l=="DoWhileStatement"){do{var $=ak.eval(_.body,n,O);
if(O.__break)break;if(O.__return)return $}while(ak.eval(_.test,n,O));O.__break=!1}else if(l=="TryStatement"){ak.eval(_.block,n,O);
if(O.__throw){var K=_.handler;O[K.param.name]=O.__throw;O.__throw=!1;ak.eval(K.body,n,O);delete O[K.param.name]}}else if(l=="EmptyStatement"){}else console.log(_)};
ak.RK=function(_,n,O){if(O=="+")return _+n;else if(O=="-")return _-n;else if(O=="*")return _*n;else if(O=="/")return _/n;
else if(O=="%")return _%n;else if(O=="^")return _^n;else if(O=="&")return _&n;else if(O=="&&")return _&&n;
else if(O=="|")return _|n;else if(O=="||")return _||n;else if(O=="<")return _<n;else if(O==">")return _>n;
else if(O=="=="){if(_.CN&&n.CN)return _.h==n.h;return _==n}else if(O=="===")return _===n;else if(O=="<=")return _<=n;
else if(O==">=")return _>=n;else if(O=="!=")return _!=n;else if(O=="!==")return _!==n;else if(O=="<<")return _<<n;
else if(O==">>")return _>>n;else console.log(O)};ak.ak$=function(_,n){if(n=="-")return-_;else if(n=="!")return!_;
else if(n=="~")return~_;else if(n=="+")return _;else if(n=="typeof")return typeof _;else console.log(n,_)};
ak.YE=function(_,n,O){var l=_.type;if(l=="Identifier")return ak.ajY(_.name,n,O);else return ak.eval(_,n,O)};
ak.ajY=function(_,n,O){if(_=="undefined")return undefined;else if(O.hasOwnProperty(_))return O[_];else if(_=="app")return{CN:"Application"};
else if(_=="Folder")return{CN:"Folder"};else if(_=="$")return{CN:"$"};else if(ak.zI.a96.indexOf(_)!=-1)return ak.zI.YM({CN:"Application"},_,n,O);
else if(O.__window.hasOwnProperty(_))return O.__window[_];else if(window[_]&&!ak.yQ[_])return window[_];
else{O[_]=null;return null}};ak.zI={};ak.zI.awH=function(_,n,O,l){var x;if(_=="SolidColor")x={CN:_,h:[1,0,0,0]};
if(_=="RGBColor")x={CN:_,h:[1,0,0,0]};if(_=="Window")x={CN:_,h:new jp(n[0],n[1],n[2])};if(_=="ExportOptionsSaveForWeb")x={CN:_,h:{Ol:"png",za:100}};
if(_=="PhotoshopSaveOptions")x={CN:_,h:{Ol:"psd"}};if(_=="PNGSaveOptions")x={CN:_,h:{Ol:"png",za:100}};
if(_=="JPEGSaveOptions")x={CN:_,h:{Ol:"jpg",za:100}};if(_=="PDFSaveOptions")x={CN:_,h:{Ol:"pdf",acl:""}};
if(_=="File")x={CN:_,h:n[0]};if(_=="ActionReference")x={CN:_,h:[]};if(_=="ActionDescriptor")x={CN:_,h:{}};
if(_=="ActionList")x={CN:_,h:[]};if(_=="UnitValue")x={CN:_,h:n.length==0?0:parseFloat(n[0])};return x};
ak.zI.a96="activeDocument documents fonts preferences displayDialogs foregroundColor backgroundColor version".split(" ");
ak.zI.a3O="charIDToTypeID stringIDToTypeID typeIDToStringID executeAction executeActionGet doAction".split(" ");
ak.zI.YM=function(_,n,O,l){var x=O.PD,t=O.Ux();if(!1){}else if(n=="typename"){if(_.CN=="Layer")return _.h.kx()?"LayerSet":"ArtLayer";
else return _.CN}else if(["Document","Layer"].indexOf(_.CN)!=-1&&["layers","artLayers","layerSets"].indexOf(n)!=-1){var h=t;
if(_.CN=="Document")h=_.h;else h=_.n8;var V=h.root,y={CN:"Layers",ajK:n,h:[],n8:h};if(_.CN=="Layer")V=h.root.yJ(h.B.indexOf(_.h));
if(V.children==null)return null;for(var m=0;m<V.children.length;m++){var r=V.children[m].j,E=r.kx();
if(E&&n=="artLayers"||!E&&n=="layerSets")continue;y.h.push({CN:"Layer",h:r,n8:h})}y.h.reverse();return y}else if(_.CN=="Documents"||_.CN=="Layers"||_.CN=="HistoryStates"||_.CN=="LayerComps"){if(!1){}else if(n=="length")return _.h.length;
else if(Number.isInteger(n))return _.h[n];else console.log(_.CN+": unknown property ",n)}else if(_.CN=="Application"){if(!1){}else if(n=="activeDocument")return{CN:"Document",h:O.Ux()};
else if(n=="documents"){var y={CN:"Documents",h:[]};for(var m=0;m<O.A0.length;m++)y.h.push({CN:"Document",h:O.A0[m]});
return y}else if(n=="fonts")return{CN:"TextFonts"};else if(n=="preferences")return{CN:"Preferences"};
else if(n=="displayDialogs")return{CN:"DialogModes"};else if(n=="foregroundColor"||n=="backgroundColor"){var a=n[0]=="f"?x.KU:x.lV;
return{CN:"SolidColor",h:[1,(a>>>16&255)/255,(a>>>8&255)/255,(a>>>0&255)/255]}}else if(n=="UI")return{CN:"UI"};
else if(n=="version")return 30;else console.log(_,n)}else if(_.CN=="Document"){var t=_.h;if(!1){}else if(n=="activeLayer"){var r=t.B[t.g[0]];
return{CN:"Layer",h:r,n8:t}}else if(n=="resolution")return t.pa;else if(n=="width")return t.a;else if(n=="height")return t.n;
else if(n=="name")return t.name;else if(n=="saved")return!t.t0();else if(n=="selection")return{CN:"Selection"};
else if(n=="activeHistoryState")return{CN:"HistoryState",tE:t.Uh};else if(n=="source")return t.dT;else if(n=="layerComps"){var S=t.OQ.list.v,e=[];
for(var m=0;m<S.length;m++)e.push({CN:"LayerComp",h:m});return{CN:"LayerComps",h:e}}else if(n=="historyStates"){var P=[];
for(var m=0;m<t.history.length;m++)P.push({CN:"HistoryState",tE:m});return{CN:"HistoryStates",h:P}}else if(n=="mode")return 7;
else console.log(_,n)}else if(_.CN=="LayerComp"){if(n=="name")return t.OQ.list.v[_.h].v.Nm.v;else throw n}else if(_.CN=="Layer"){var b={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},r=_.h;
if(!1){}else if(n=="visible")return r.Pn();else if(n=="selected")return t.g.indexOf(t.B.indexOf(r))!=-1;
else if(n=="grouped")return r._t;else if(b[n]!=null)return r.bj(b[n]);else if(n=="opacity")return r.opacity*100/255;
else if(n=="blendMode")return r.to;else if(n=="name")return r.getName();else if(n=="textItem")return{CN:"TextItem",h:r};
else if(n=="bounds"){var T=D.D6.kf(t,[t.B.indexOf(r)]);return ak.zI.axU(T,t)}else if(n=="parent"){var C=O.A0,h;
for(var m=0;m<C.length;m++)if(C[m].B.indexOf(r)!=-1)h=C[m];var Z=h.root.yJ(h.B.indexOf(r)).parent;return Z.depth==0?{CN:"Document",h:h}:{CN:"Layer",h:Z.j,n8:h}}else if(n=="kind"){var W=ak.zI.Ix;
for(var m=0;m<W.length;m++)if(r.add[W[m]]!=null)return m;return 0}else if(n=="isBackgroundLayer")return r.add.lnsr="bgnd";
else console.log(_,n)}else if(_.CN=="Selection"){if(!1){}else if(n=="bounds"){if(t.P==null)l.__throw={message:"no selection"};
else return ak.zI.axU(t.P.rect,t)}else console.log(_,n)}else if(_.CN=="TextItem"){var s=_.h.add.TySh,f=s.m1,q=b$.om(f),g=s.D.Sn(),i=b$.QN(f,0,Math.max(0,q.length-2));
if(n=="contents")return q.slice(0,q.length-1).replace(/\n/g,"\r");else if(n=="font")return i.oM.Font!=null?i.ZP[i.oM.Font].Name:null;
else if(n=="size")return ak.zI.J7(i.oM.FontSize*g,t);else if(n=="leading")return ak.zI.J7(i.oM.Leading*g,t);
else if(n=="tracking")return ak.zI.J7(i.oM.Tracking);else if(n=="baselineShift")return ak.zI.J7(i.oM.BaselineShift);
else if(n=="fauxBold")return i.oM.FauxBold;else if(n=="fauxItalic")return i.oM.FauxItalic;else if(n=="kind")return 1-b$.LR(f);
else if(n=="useAutoLeading")return i.G1.AutoLeading;else if(n=="hyphenation")return i.G1.AutoHyphenate;
else if(n=="justification")return ak.zI.J7(i.G1.Justification);else if(n=="color")return{CN:"SolidColor",h:i.oM.FillColor.Values.slice(0)};
else if(n=="width"||n=="height"){var u=b$.eR(f),I=(u[2]-u[0])*g,Y=(u[3]-u[1])*g;return ak.zI.J7(n=="width"?I:Y,t)}else if(n=="position"){var U=s.D;
return ak.zI.ahy([U.Wk,U.d7],t)}else if(n=="horizontalScale"||n=="verticalScale"){var F=n[0].toUpperCase()+n.slice(1);
return Math.round(i.oM[F]*100)}else if(n=="antiAliasMethod")b$.Vi(s);else if(n=="totalTextStyle"){var y={};
for(var N=0;N<2;N++){var o=["Style","Paragraph"][N],X=f.EngineDict[o+"Run"].RunLengthArray,J=[],c=0;
for(var m=0;m<X.length;m++){var p=b$.QN(f,c,Math.min(c+X[m],q.length-2));c+=X[m];J.push(N==0?p.oM:p.G1);
y.fontSet=p.ZP}y[o]={runs:X,styles:J}}return JSON.stringify(y)}else if(n=="transform"){var U=s.D;return JSON.stringify([U.EX,U.k,U.av,U.c5,U.Wk,U.d7])}else console.log(_,n)}else if(_.CN=="Preferences"){if(n=="rulerUnits")return x.lW.Go;
else console.log(_,n)}else if(_.CN=="SolidColor"){if(n=="rgb")return{CN:"RGBColor",h:_.h};else console.log(_,n)}else if(_.CN=="RGBColor"){var T=Math.round(255*_.h[1]),d=Math.round(255*_.h[2]),k=Math.round(255*_.h[3]);
if(!1){}else if(n=="red")return T;else if(n=="green")return d;else if(n=="blue")return k;else if(n=="hexValue")return"#"+Q.sN(T<<16|d<<8|k).toUpperCase();
else console.log(_,n)}else if(_.CN=="UnitValue"){if(n=="value")return _.h;else throw"e"}else if(_.CN=="ExportOptionsSaveForWeb"){if(n=="format")return _.h.Ol;
else if(n=="PNG8"||n=="interlaced")return!1;else if(n=="quality")return _.h.za;else if(n=="transparency")return!0;
else throw n}else if(_.CN=="PNGSaveOptions"||_.CN=="JPEGSaveOptions"||_.CN=="PDFSaveOptions"){return 0}else if(_.CN=="$"){if(n=="localize")return!1}else if(_.CN=="ActionList"){if(n=="count")return _.v2.length;
else throw n}else console.log(_,n)};ak.zI.axU=function(_,n){return ak.zI.ahy([_.x,_.y,_.x+_.a,_.y+_.n],n)};
ak.zI.ahy=function(_,n){var O=[];for(var m=0;m<_.length;m++)O.push(ak.zI.J7(_[m],n));return O};ak.zI.aj7=function(_){var n=[];
for(var m=0;m<_.length;m++)n.push(_[m].CN?_[m].h:_[m]);return n};ak.zI.J7=function(_,n){return{CN:"UnitValue",h:_}};
ak.zI.ayC=function(_,n){if(_.CN=="UnitValue")return _.h;return _};ak.zI.aqY=function(_,n,O,l,x){var t=new e_(H.E.s,!0),h=new e_(H.E.L,!0),V=l.Ux(),y=l.PD;
if(!1){}else if(_.CN=="Application"){if(!1){}else if(n=="activeDocument"){h.data={d:H.t.iQ,cn:O.h};l.$(h)}else if(n=="displayDialogs"){}else if(n=="foregroundColor"||n=="backgroundColor"){var r=O.h,E=r[1]*255<<16|r[2]*255<<8|r[3]*255<<0;
h.data={d:H.t.Gf,nZ:gp.La,nz:n=="foregroundColor"?0:1,h:E};l.$(h)}else console.log(_,n,O)}else if(_.CN=="Document"){var a=_.h;
if(!1){}else if(n=="name"){t.G=D.Ko;t.data={d:v.KX,h:O,aiD:!0,GA:a};V.i1=!0}else if(n=="source")a.dT=O;
else if(n=="activeLayer"){a.g=[a.B.indexOf(O.h)]}else if(n=="activeHistoryState"){t.G=D.kF;t.data={d:"h_itemchange",index:O.tE}}else console.log(_,n)}else if(_.CN=="Layer"){t.G=D.Ko;
var S={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},e=_.h,P=V.B.indexOf(e);
if(!1){}else if(n=="visible"){if(e.Pn()!=O)t.data={d:v.VW,j:P}}else if(n=="opacity"){t.data={d:v.jU,j:P,t2:Math.round(255*O/100)}}else if(n=="blendMode"){t.data={d:v.N$,j:P,t2:b3.qX.indexOf(O)}}else if(n=="name"){t.data={d:v.pE,j:P,name:O}}else if(S[n]!=null){t.data={d:v.zX,j:P,t2:[[O],[S[n]]]}}else if(n=="kind"){t.data={d:v.zT,j:P,GG:ak.zI.Ix[O]}}else if(n=="grouped"){t.data={d:v.rL,j:P,t2:O}}else console.log(_,n,O)}else if(_.CN=="TextItem"){t.G=D.K9;
var e=_.h,b=e.add.TySh,T=JSON.parse(JSON.stringify(b.m1)),C=b.D.clone(),Z=b.D.Sn(),s=b$.om(T),f=b$.QN(T,0,s.length-2),q=!1;
if(!1){}else if(n=="contents"){b$.Da(T,0,s.length-1);b$.qS(T,0,O.replace(/\r/g,"\n"))}else if(n=="size"){f.oM.FontSize=(O.h!=null?O.h:O)/Z;
q=!0}else if(n=="leading"){f.oM.Leading=(O.h!=null?O.h:O)/Z;q=!0}else if(n=="tracking"){f.oM.Tracking=O.h!=null?O.h:O;
q=!0}else if(n=="baselineShift"){f.oM.BaselineShift=O.h!=null?O.h:O;q=!0}else if(n=="fauxBold"){f.oM.FauxBold=O;
q=!0}else if(n=="fauxItalic"){f.oM.FauxItalic=O;q=!0}else if(n=="kind"){var g=b$.LR(T);if(g==1&&O==1){var i=new hf(T,l.PD.y8).G1[0],u=i.H4[0].end,I=i.a5[u-1].end;
b$.Da(T,0,s.length-1);b$.qS(T,0,s.slice(0,I-1))}if(g==O)b$.EQ(T,1-O)}else if(n=="useAutoLeading"){f.G1.AutoLeading=O;
q=!0}else if(n=="hyphenation"){f.G1.AutoHyphenate=O;q=!0}else if(n=="justification"){f.G1.Justification=O;
q=!0}else if(n=="font"){b$.Wu(f,O);q=!0}else if(n=="color"){f.oM.FillColor.Values=O.h.slice(0);q=!0}else if(n=="width"||n=="height"){var Y=b$.eR(T).slice(0),U=ak.zI.ayC(O);
if(n=="width")Y[2]=Math.round(Y[0]+U/Z);else Y[3]=Math.round(Y[1]+U/Z);b$.IU(T,Y)}else if(n=="position"){C.Wk=O[0];
C.d7=O[1]}else if(n=="horizontalScale"||n=="verticalScale"){var F=n[0].toUpperCase()+n.slice(1);f.oM[F]=O/100;
q=!0}else if(n=="antiAliasMethod")b$.F_(b,O);else console.log(_,n,O);if(q)b$.gD(T,0,s.length-1,f);t.data={d:"newED",xh:V.B.indexOf(e),l3:T,D:C}}else if(_.CN=="Preferences"){if(!1){}else if(n=="rulerUnits"){var N=JSON.parse(JSON.stringify(y.lW));
N.Go=O;h.data={d:H.t.Gf,nZ:gp.vE,t2:N};l.$(h)}else console.log(_,n,O)}else if(_.CN=="SolidColor"){if(n=="rgb")_.h=O.h;
else throw n}else if(_.CN=="RGBColor"){if(!1){}else if(n=="red")_.h[1]=O/255;else if(n=="green")_.h[2]=O/255;
else if(n=="blue")_.h[3]=O/255;else if(n=="hexValue"){var o=Q.LQ(O.slice(1));_.h[1]=(o>>>16&255)/255;
_.h[2]=(o>>>8&255)/255;_.h[3]=(o>>>0&255)/255}else console.log(_,n)}else if(_.CN=="ExportOptionsSaveForWeb"){if(n=="format")_.h.Ol=O;
else if(n=="PNG8"||n=="transparency"||n=="interlaced"){}else if(n=="quality")_.h.za=O;else throw n}else if(_.CN=="PNGSaveOptions"||_.CN=="JPEGSaveOptions"){if(n=="quality")_.h.za=Math.round(100*O/12)}else if(_.CN=="PDFSaveOptions"){if(n=="preset")_.h.acl=O}else if(_.CN=="$"){if(n=="localize"){}}else console.log(_,n,O);
if(t.data!=null)l.$(t)};ak.zI.iv=function(_,n,O,l,x){var t=_.CN,h=null,V=new e_(H.E.s,!0),y=new e_(H.E.yy,!0),r=new e_(H.E.L,!0),E=l.Ux(),a=l.A0;
if(!1){}else if(t=="Application"){if(!1){}else if(n=="charIDToTypeID"){var S=O[0].trim(),e={slct:"select",Dlt:"delete",Mk:"make"};
return e[S]?e[S]:S}else if(n=="stringIDToTypeID"){var P=O[0].trim(),e={red:"Rd",blue:"Bl",color:"Clr",RGBColor:"RGBC",type:"Type",using:"Usng"},b=e[P];
return b==null?P:b}else if(n=="typeIDToStringID"){return O[0].trim()}else if(n=="executeAction"){console.log(O);
var T;if(O[1]){T=O[1].h;T.classID=O[0]}var C={setd:"set"},Z=C[O[0]];if(Z==null)Z=O[0];var s=a3.Js[O[0]];
if(s&&a3.Tu[s])Z=a3.Tu[s];y.data={et:Z,ot:T}}else if(n=="executeActionGet"){return{CN:"ActionDescriptor",h:{classID:"null",null:{t:"obj ",v:O[0].h}},v2:E.B[E.g[0]]}}else if(n=="doAction"){r.data={d:H.t.kW,xV:[O[0],O[1]]}}else if(n=="bringToFront"){}else if(n=="open"){r.data={d:H.t.wE,nZ:{url:O[0]}};
if(O[2]&&a.length!=0)r.data.nZ.Ki=a.indexOf(E)}else if(n=="echoToOE"){r.data={d:H.t.LD,nZ:O[0]}}else console.log(n)}else if(t=="LayerComp"){if(n=="apply"){V.G=D.lI;
V.data={d:"setLC",tE:E.OQ.list.v[_.h].v.compID.v}}else throw n}else if(t=="Document"){var E=_.h;if(!1){}else if(n=="crop"){y.data=D.e_.aqC(O[0])}else if(n=="trim"){var f=[];
for(var m=0;m<4;m++)f.push(O[m+1]!=null?O[m+1]:!0);y.data=D.e_.Al(O[0]!=null?O[0]:0,f)}else if(n=="suspendHistory"){var q=acorn.parse(O[1]);
ak.eval(q,l,x)}else if(n=="save"){r.data={d:H.t.dE}}else if(n=="saveToOE"){r.data={d:H.t.dE,aG:O}}else if(n=="rotateCanvas"){y.data=D.D6.bL(!0,O[0])}else if(n=="resizeImage"||n=="resizeCanvas"){var g=O[0],i=O[1];
if(typeof g!="number"){g=E.a*parseFloat(g.slice(0,g.length-1))/100;i=E.n*parseFloat(i.slice(0,i.length-1))/100}if(n=="resizeCanvas")y.data=D.e_.aaj(Math.round(g),Math.round(i),O[2]);
else y.data=D.e_.axB(Math.round(g),Math.round(i),null,1)}else if(n=="paste"){r.data={d:H.t.d_,YR:O.length!=0&&O[0],fP:!0}}else if(n=="close"){r.data={d:H.t.ki,xN:E}}else if(n=="exportDocument"||n=="saveAs"){var u=x.__fs,I=n=="exportDocument"?O[2].h:O[1].h,Y=O[0].h.replace(":","").replace("~/","");
if(!Y.toLowerCase().endsWith("."+I.Ol))Y+="."+I.Ol;var U=dx.bt(E,I.Ol,null,null,I.Ol=="pdf"?null:[I.za],l.PD);
u[Y]=new Uint8Array(U)}else if(n=="flatten"){y.data={et:"flattenImage"}}else console.log(_,n,O)}else if(t=="Layer"){var F=_.h,N=E.B.indexOf(F);
if(!1){}else if(n=="copy"){ak.zI.Na(E,l,0);r.data={d:H.t.cF,IS:O[0],GL:N,fP:!0};l.$(r);delete r.data;
ak.zI.Na(E,l,1)}else if(n=="clear"){ak.zI.Na(E,l,0);y.data={et:"delete"};l.$(y);delete y.data;ak.zI.Na(E,l,1)}else if(n=="duplicate"){if(O.length==0){var o=E.g.slice(0);
V.data={d:v.Sq,j:N};V.G=D.Ko;l.$(V);V.data=null;h={CN:"Layer",h:E.B[E.g[0]],n8:_.n8};E.g=o}else if(O[0].CN=="Document"){V.data={d:v.L3,B:E.NS(N),Hk:E,Zr:O[0].h};
V.G=D.Ko}}else if(n=="merge"||n=="remove"){V.data={d:n=="merge"?v.HV:v.nB,j:N};V.G=D.Ko;if(n!="remove")h={CN:"Layer",h:E.B[E.g[0]],n8:_.n8}}else if(n=="move"){V.data={d:v.Xc,source:N,target:E.B.indexOf(O[0].h),pY:O[1]!=3?.6:.3};
V.G=D.Ko}else if(n=="rasterize"){y.data={et:"rasterizeLayer",ot:{classID:"rasterizeLayer",null:g3.g5("Lyr",!0)}}}else if(n=="rotate"){V.data={d:"rot",hM:[2,5],h:-O[0]*Math.PI/180,eX:O[1],j:N};
V.G=D.rd}else if(n=="resize"){V.data={d:"scl",hM:[2,4],h:new aW(O[0]/100,O[1]/100),eX:O[2],j:N};V.G=D.rd}else if(n=="translate"){var X=ak.zI.aj7(O);
V.data={d:"trsl",j:N,M2:X[0],uu:X[1]};V.G=D.cb}else if(n=="link"){V.data={d:v.e6,anc:[N,E.B.indexOf(O[0].h)]};
V.G=D.Ko}else if(n=="invert"){V.G=D.wR;V.data={d:"start",v3:"nvrt"}}else if(n.startsWith("apply")&&ie.ud[n.slice(5)]||n.startsWith("adjust")&&ie.ud[n.slice(6)]){var J=n.startsWith("apply"),X=ak.zI.aj7(O),c=ie.ud[n.slice(J?5:6)];
y.data={et:J?ie.Tu[c]:a3.Tu[c]};var T=ie.gV(c);if(T){E.g=[N];ie.rZ["g"+c](T,X);y.data.ot=T}}else console.log(_,n,O)}else if(t=="Documents"){if(n=="getByName"){for(var m=0;
m<a.length;m++)if(a[m].name==O[0])return{CN:"Document",h:a[m]};return null}else if(n=="add"){var p=O[5];
if(p==null)p=1;y.data=fJ.PM(O[0],O[1],O[2],O[3],["Wht","Trns","BckC"][p],!1)}else throw"e"}else if(t=="Layers"){if(n=="getByName"){for(var m=0;
m<_.h.length;m++)if(_.h[m].h.getName()==O[0]){h=_.h[m];break}if(h==null)x.__throw={message:"No layer with a name "+O[0]}}else if(n=="add"){V.data={d:_.ajK=="layerSets"?v._Z:v.eU};
V.G=D.Ko;l.$(V);V.data=null;h={CN:"Layer",h:E.B[E.g[0]],n8:_.n8}}else console.log(_,n,O)}else if(_.CN=="Selection"){if(n=="select"){var d=O[0],k=[];
for(var m=0;m<d.length;m++)k.push(d[m][0],d[m][1]);y.data=D.iM.jd(k)}else if(n=="clear"){y.data={et:"delete"}}else if(n=="selectAll"){y.data=D.iM.qv(!0)}else if(n=="invert"){y.data={et:"inverse"}}else if(n=="copy"){r.data={d:H.t.cF}}else if(n=="deselect"){y.data=D.iM.qv()}else if(n=="fill"){var A=O[0].h;
A=Q.N.YS({o:A[1]*255,J:A[2]*255,k:A[3]*255});y.data=D.Os.qY("Clr",O[1],O[2]==null?1:O[2]/100,A)}else if(n=="translate"){var T={classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},T:{t:"Objc",v:{__name:"Offset",classID:"Ofst",Hrzn:{t:"UntF",v:{type:"#Pxl",val:O[0]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:O[1]}}}}};
y.data={et:"move",ot:T}}else if(n=="smooth"){y.data=D.iM.anG("smoothness",O[0],!1)}else console.log(_,n,O)}else if(_.CN=="Window"){if(n=="show"){r.data={d:H.t.Rq,EW:_.h}}else throw"e"}else if(_.CN=="ActionReference"){if(n=="putProperty"){_.h.push({t:"prop",v:{classID:O[0],keyID:O[1]}})}else if(n=="putClass"){_.h.push({t:"Clss",v:{classID:O[0]}})}else if(n=="putEnumerated"){_.h.push({t:"Enmr",v:{classID:O[0],typeID:O[1],enum:O[2]}})}else if(n=="putName"){_.h.push({t:"name",v:{classID:O[0],val:O[1]}})}else console.log(n,O)}else if(_.CN=="ActionDescriptor"||_.CN=="ActionList"){if(n=="putReference"){_.h[O[0]]={t:"obj ",v:O[1].h}}else if(n=="putDouble"){_.h[O[0]]={t:"doub",v:O[1]}}else if(n=="putUnitDouble"){_.h[O[0]]={t:"UntF",v:{type:O[1],val:O[2]}}}else if(n=="putObject"){if(_.CN=="ActionList"){var $=O[1].h;
$.classID=O[0];_.h.push({t:"Objc",v:$})}else{var $=O[2].h;$.classID=O[1];_.h[O[0]]={t:"Objc",v:$}}}else if(n=="putList"){_.h[O[0]]={t:"VlLs",v:O[1].h}}else if(n=="putBoolean"){_.h[O[0]]={t:"bool",v:O[1]}}else if(n=="putInteger"){_.h[O[0]]={t:"long",v:O[1]}}else if(n=="putString"){_.h[O[0]]={t:"TEXT",v:O[1]}}else if(n=="putEnumerated"){var K={};
K[O[1]]=O[2];_.h[O[0]]={t:"enum",v:K}}else if(n=="hasKey"){var F=E.B[E.g[0]],S=O[0];if(S=="textKey")return F.add.TySh!=null;
var G=_.h.null.v;for(var m=0;m<G.length;m++){if(G[m].v.keyID==O[0]){if(S=="UsrM"){return F.Ek()!=null}else throw O}}}else if(n=="getEnumerationValue"){if(O[0]=="layerSection")h="layerSectionContent";
else console.log(O)}else if(n=="getBoolean"){if(O[0]=="background")h=!1;else console.log(O)}else if(n=="getString"){if(O[0]=="name")h=_.v2.getName();
else if(O[0]=="textKey")h=b$.om(_.v2.m1);else console.log(_,O)}else if(n=="getObjectValue"){if(O[0]=="textKey"){h={CN:"ActionDescriptor",v2:_.v2.add.TySh}}else if(typeof O[0]=="number")h=_.v2[O[0]];
else throw O[0]}else if(n=="getList"){h={CN:"ActionList"};if(O[0]=="paragraphStyleRange")h.v2=_.v2.m1.EngineDict.ParagraphRun.RunArray;
else if(O[0]=="kerningRange")h.v2=[];else if(O[0]=="textStyleRange")h.v2=_.v2.m1.EngineDict.StyleRun.RunArray;
else throw O}else console.log(n,O)}else if(_.CN=="$"){if(n=="writeln"){console.log(O[0])}else throw n}else if(_.CN=="UI"){if(n=="scroll"||n=="scrollTo"){var z=O[0],M=O[1],hl=E.u.K;
if(n=="scrollTo"){z=(-E.a/2+z)*hl+E.u.R.x;M=(-E.n/2+M)*hl+E.u.R.y}V.G=D.fY;V.data={d:"scroll",Su:new aW(Math.round(z),Math.round(M))}}else{var j;
if(n=="zoomIn"||n=="zoomOut"){j={d:"zoom",fv:n=="zoomIn"}}else if(n=="fitTheArea"){j={d:"adapt",h:"fitscr"}}else if(n=="pixelToPixel"){j={d:"adapt",h:"pixel"}}V.G=D.iz;
V.data=j;if(n=="switchFullscreen"){var w=l.PD.HX,B=document.fullscreenElement!=null==(w==2);r.data={d:H.t.r4,h:w==0?2:0,S0:B}}}}else if(_.CN=="Folder"){if(n=="selectDialog")h="img";
else throw n}else console.log(_,n,O);if(V.data)l.$(V);if(y.data)l.$(y);if(r.data)l.$(r);return h};ak.zI.Na=function(_,n,O){var l=new e_(H.E.s,!0);
l.G=D.vQ;var x=new e_(H.E.yy,!0);if(O==0){ak.zI.apr=_.P;x.data=D.iM.qv(!0)}else{var t=ak.zI.apr;if(t)l.data={d:"setsel",hM:"Restore Selection",P:{rect:t.rect.clone(),channel:t.channel.slice(0)}};
else x.data=D.iM.qv()}n.$(l.data?l:x)};ak.zI.apr=null;ak.zI.MC={AnchorPosition:{TOPLEFT:0,TOPCENTER:1,TOPRIGHT:2,MIDDLELEFT:3,MIDDLECENTER:4,MIDDLERIGHT:5,BOTTOMLEFT:6,BOTTOMCENTER:7,BOTTOMRIGHT:8},Units:{PIXELS:0,INCHES:1,CM:2,MM:3,PERCENT:4,PICAS:5,POINTS:6},ElementPlacement:{INSIDE:0,PLACEATBEGINNING:1,PLACEATEND:2,PLACEBEFORE:3,PLACEAFTER:4},LayerKind:{NORMAL:0,SMARTOBJECT:1,TEXT:2,SOLIDFILL:3,GRADIENTFILL:4,PATTERNFILL:5},RippleSize:{SMALL:0,MEDIUM:1,LARGE:2},PolarConversionType:{POLARTORECTANGULAR:1,RECTANGULARTOPOLAR:0},OffsetUndefinedAreas:{REPEATEDGEPIXELS:0,SETTOBACKGROUND:1,WRAPAROUND:2},NoiseDistribution:{GAUSSIAN:0,UNIFORM:1},TextType:{PARAGRAPHTEXT:0,POINTTEXT:1},DialogModes:{ALL:0,ERROR:1,NO:2},SaveOptions:{DONOTSAVECHANGES:0,PROMPTTOSAVECHANGES:1,SAVECHANGES:2},SaveDocumentType:{PNG:"png",JPEG:"jpg",COMPUSERVEGIF:"gif"},ExportType:{SAVEFORWEB:0},MatteType:{BACKGROUND:0,BLACK:1,FOREGROUND:2,NETSCAPE:3,NONE:4,SEMIGRAY:5,WHITE:6},FormatOptions:{OPTIMIZEDBASELINE:0,PROGRESSIVE:1,STANDARDBASELINE:3},DocumentMode:{BITMAP:0,CMYK:1,DUOTONE:2,GRAYSCALE:3,INDEXEDCOLOR:4,LAB:5,MULTICHANNEL:6,RGB:7},NewDocumentMode:{BITMAP:0,CMYK:1,DUOTONE:2,GRAYSCALE:3,INDEXEDCOLOR:4,LAB:5,MULTICHANNEL:6,RGB:7},DocumentFill:{WHITE:0,TRANSPARENT:1,BACKGROUNDCOLOR:2},TrimType:{TOPLEFT:0,BOTTOMRIGHT:1,TRANSPARENT:2},WaveType:{SINE:0,TRIANGULAR:1,SQUARE:2},UndefinedAreas:{WRAPAROUND:0,REPEATEDGEPIXELS:1},BlendMode:{NORMAL:"norm",DISSOLVE:"diss",DARKEN:"dark",MULTIPLY:"mul ",COLORBURN:"idiv",LINEARBURN:"lbrn",DARKERCOLOR:"dkCl",LIGHTEN:"lite",SCREEN:"scrn",COLORDODGE:"div ",LINEARDODGE:"lddg",LIGHTERCOLOR:"lgCl",OVERLAY:"over",SOFTLIGHT:"sLit",HARDLIGHT:"hLit",VIVIDLIGHT:"vLit",LINEARLIGHT:"lLit",PINLIGHT:"pLit",HARDMIX:"hMix",DIFFERENCE:"diff",EXCLUSION:"smud",SUBTRACT:"fsub",DIVIDE:"fdiv",HUE:"hue ",SATURATION:"sat ",COLOR:"colr",LUMINOSITY:"lum "},Justification:{LEFT:0,RIGHT:1,CENTER:2,LEFTJUSTIFIED:3,RIGHTJUSTIFIED:4,CENTERJUSTIFIED:5,FULLYJUSTIFIED:6},AntiAlias:{NONE:0,SHARP:1,CRISP:2,STRONG:3,SMOOTH:4},Extension:{LOWERCASE:0,NONE:1,UPPERCASE:2}};
ak.zI.MC.ColorBlendMode=ak.zI.MC.BlendMode;ak.zI.Ix="---- SoLd TySh SoCo GdFl PtFl".split(" ");function cr(){}cr.eH={"dc:Title":["",null,"dc:title"],"tiff:Artist":["",315,"dc:creator"],"tiff:ImageDescription":["",270,"dc:description"],"dc:Keywords":["",null,"dc:subject"],"tiff:Copyright":["",33432],"tiff:Make":["",271],"tiff:Model":["",272],"exif:ExposureTime":[[1,200],33434],"exif:FNumber":[[16,1],33437],"exif:ExposureProgram":[1,34850],"exif:ISOSpeedRatings":[200,34855],"exif:DateTimeOriginal":["",36867],"exif:ShutterSpeedValue":[[1,1],37377],"exif:ApertureValue":[[8,1],37378],"exif:ExposureBiasValue":[[1,1],37380],"exif:MaxApertureValue":[[1,1],37381],"exif:MeteringMode":[5,37383],"exif:LightSource":[0,37384],"exif:Flash":[0,37385],"exif:FocalLength":[[60,1],37386],"exif:PixelXDimension":[1,40962],"exif:PixelYDimension":[1,40963],"exif:FocalPlaneXResolution":[[1,1],41486],"exif:FocalPlaneYResolution":[[1,1],41487],"exif:FocalPlaneResolutionUnit":[2,41488],"exif:DigitalZoomRatio":[[100,100],41988],"exif:FocalLengthIn35mmFilm":[1,41989],"exif:SceneCaptureType":[0,41990],"exif:LensInfo":["",42034],"exif:Lens":["",42036],"exif:LensSerialNumber":["",42037],"exif:SensitivityType":[2,34864],"exif:RecommendedExposureIndex":[100,34866],"exif:GPSVersionID":["2.3.0.0",0],"exif:GPSLatitude":["48,35,57.646N",2],"exif:GPSLongitude":["22,56,42.238E",4],"exif:GPSAltitudeRef":[0,5],"exif:GPSAltitude":[[1,1],6],"exif:GPSStatus":["A",9],"exif:GPSMapDatum":["",18],"Iptc4xmpCore:IntellectualGenre":[""],"Iptc4xmpCore:Location":[""],"Iptc4xmpCore:CountryCode":[""],"photoshop:Instructions":[""],"photoshop:AuthorsPosition":[""],"photoshop:City":[""],"photoshop:State":[""],"photoshop:Country":[""],"photoshop:TransmissionReference":[""],"photoshop:Headline":[""],"photoshop:Credit":[""],"photoshop:Source":[""],"dc:rights":[""],"photoshop:CaptionWriter":[""]};
cr.cC={"4":"Iptc4xmpCore:IntellectualGenre","5":"dc:Title","40":"photoshop:Instructions","80":"tiff:Artist","85":"photoshop:AuthorsPosition","90":"photoshop:City","92":"Iptc4xmpCore:Location","95":"photoshop:State","100":"Iptc4xmpCore:CountryCode","101":"photoshop:Country","103":"photoshop:TransmissionReference","105":"photoshop:Headline","110":"photoshop:Credit","115":"photoshop:Source","116":"dc:rights","120":"tiff:ImageDescription","122":"photoshop:CaptionWriter"};
cr.abl=function(_,n){if(n==null)n={};var O=cr.cC,l=[],x=[],t="";for(var m=0;m<_.length;m++){var h=_[m],V=O[h[0]+""];
if(V&&n[V]==null)n[V]=h[1];else if(h[0]==12)x.push(h[1]);else if(h[0]==25)l.push(h[1]);else if(h[0]==55)t=h[1];
else if(h[0]==60)t+=";"+h[1]}if(t!=""&&n["exif:DateTimeOriginal"]==null)n["exif:DateTimeOriginal"]=t;
if(x.length!=0&&n["Iptc4xmpCore:SubjectCode"]==null)n["Iptc4xmpCore:SubjectCode"]=x.join(";");if(l.length!=0&&n["dc:Keywords"]==null)n["dc:Keywords"]=l.join(";");
return n};cr.az2=function(_){var n=cr.cC,O=[];for(var l in n)if(_[n[l]])O.push([parseInt(l),_[n[l]]]);
if(_["Iptc4xmpCore:SubjectCode"]){var x=_["Iptc4xmpCore:SubjectCode"].split(";");for(var m=0;m<x.length;
m++)O.push([12,x[m].trim()])}if(_["dc:Keywords"]){var x=_["dc:Keywords"].split(";");for(var m=0;m<x.length;
m++)O.push([25,x[m].trim()])}O.sort(function(t,h){return t[0]-h[0]});return O};cr.a4_=function(_,n){if(n==null)n={};
var O=new DOMParser,l=O.parseFromString(_,"image/svg+xml"),x=l.getElementsByTagName("rdf:Description")[0];
if(x==null)return n;var t=cr.eH;for(var h in t){var V=t[h][2];if(V==null)continue;var y=x.getElementsByTagName(V)[0];
if(y==null)continue;var r=y.getElementsByTagName("rdf:li"),E=[];for(var m=0;m<r.length;m++)E.push(r[m].textContent);
n[h]=E.join("; ")}return n};cr.arW=function(_){var n=["<?xpacket begin=\"\uFEFF\" id=\"W5M0MpCehiHzreSzNTczkc9d\"?>","<x:xmpmeta xmlns:x=\"adobe:ns:meta/\" x:xmptk=\"Adobe XMP Core 5.6-c145 79.163499, 2018/08/13-16:40:22\">","<rdf:RDF xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\">","<rdf:Description rdf:about=\"\" xmlns:xmp=\"http://ns.adobe.com/xap/1.0/\" xmlns:dc=\"http://purl.org/dc/elements/1.1/\" xmlns:xmpMM=\"http://ns.adobe.com/xap/1.0/mm/\" xmlns:stEvt=\"http://ns.adobe.com/xap/1.0/sType/ResourceEvent#\" xmlns:stRef=\"http://ns.adobe.com/xap/1.0/sType/ResourceRef#\">"],O=cr.eH;
for(var l in O){var x=_[l],t=O[l][2],h="Seq",V="";if(x==null||t==null)continue;if(t=="dc:title"||t=="dc:description"){h="Alt";
V=" xml:lang=\"x-default\""}if(t=="dc:subject")h="Bag";n.push("\t<"+t+"><rdf:"+h+">");var y=t=="dc:subject"?x.split(";").join(",").split(","):[x];
for(var m=0;m<y.length;m++)n.push("\t\t<rdf:li"+V+">"+y[m].trim()+"</rdf:li>");n.push("\t</rdf:"+h+"></"+t+">")}n.push("</rdf:Description>","</rdf:RDF>","</x:xmpmeta>","<?xpacket end=\"w\"?>");
return n.join("\n")};cr.a5u=function(_){var n=[];for(var m=0;m<_.length;m++)n[m]=_[m][1]==0?0:_[m][0]/_[m][1];
return n};cr.auO=function(_){var n=[];for(var m=0;m<_.length;m++){var O=_[m],l=1;if(O!=Math.round(O)){l=1e3;
O=Math.round(O*l)}n[m]=[O,l]}return n};cr.yD=function(_,n){var O=cr.eH;if(n==null)n={};for(var l in O){var x=O[l][1],t="t"+x;
if(x!=null&&_[t]!=null){var h=_[t];if(x==0)h=h.join(".");else if(x==2||x==4){var V=_["t"+(x-1)];if(V==null)V=[x==2?"N":"E"];
h=cr.a5u(h).join(",")+V[0]}else if(x==42034)h=cr.a5u(h).join(" ");else if(x==270||x==315){var y=h[0],r=new Uint8Array(y.length);
R.uJ(r,0,y);h=R.hm(r)}else h=h[0];n[l]=h}}if(_.exifIFD)cr.yD(_.exifIFD,n);if(_.gpsiIFD)cr.yD(_.gpsiIFD,n);
return n};cr.ns=function(_,n,O){var l=cr.eH,t=0,V=0;if(n==null)n={};var x={},h={};for(var y in l){if(_[y]==null||l[y][1]==null)continue;
var r=l[y][1],E="t"+r,a=n;if(y.startsWith("exif:")){a=x;t++;if(y.startsWith("exif:GPS")){a=h;V++}}var S=_[y];
if(r==0)S=new Uint8Array(S.split(".").map(parseFloat));else if(r==2||r==4){var e=S.length;a["t"+(r-1)]=[S.slice(S.length-1)];
S=cr.auO(S.split(",").map(parseFloat))}else if(r==42034)S=cr.auO(S.split(" ").map(parseFloat));else if(r==270||r==315){var P=R.WZ(S);
S=[R.c$(P,0,P.length)]}else S=[S];a[E]=S}if(t!=0){n.exifIFD=x;n.t34665=[0]}if(V!=0){n.gpsiIFD=h;n.t34853=[0]}var b=new Date,T=[b.getFullYear(),b.getMonth()+1,b.getDate(),b.getHours(),b.getMinutes(),b.getSeconds()];
for(var m=0;m<6;m++)T[m]=(T[m]+"").padStart(2,"0");n.t305=["Photopea Editor (www.photopea.com)"];if(O!=!0)n.t306=[T[0]+":"+T[1]+":"+T[2]+" "+T[3]+":"+T[4]+":"+T[5]];
return n};function eX(){}eX.GQ=function(_){var n={avZ:",",S$:"\r\n",kA:"\""},O=[[""]],l,x,t,h,V;for(l=x=t=h=0;
t<_.length;t++){switch(V=_.charAt(t)){case n.kA:if(h&&_.charAt(t+1)==n.kA){O[l][x]+=n.kA;++t}else{h^=1}break;
case n.avZ:if(!h){O[l][++x]=""}else{O[l][x]+=V}break;case n.S$.charAt(0):if(!h&&(!n.S$.charAt(1)||n.S$.charAt(1)&&n.S$.charAt(1)==_.charAt(t+1))){O[++l]=[""];
O[l][x=0]="";if(n.S$.charAt(1)){++t}}else{O[l][x]+=V}break;default:O[l][x]+=V}}if(O[O.length-1].length<O[0].length)O.pop();
return O};var L={};L.ayP=0;L.CH=function(){L.ayP++;return L.ayP};L.amS="uint8";L.Z6=function(_){_.m.style.transition="opacity 0.1s ease-out, transform 0.1s ease-out";
_.m.style.opacity="1";_.m.style.transform="scale(1)"};L.FU=function(_,n){_.m.style.opacity="0";_.m.style.transform="scale(0.95)";
if(n)setTimeout(function(){n.removeChild(_.m)},100)};L.a33=function(){var _=L.a7O();if(_=="")return 0;
if(_!=L.Jm("_TXZRPB;d7@;")){var n=L.k0[aJ._u][aJ.Rk],O=n.indexOf(String.fromCharCode(35)),l;if(O==-1)return 0;
try{l=JSON.parse(L.k0[aJ.aab](n.slice(O+1)))}catch(hU){return 0}var x=l[L.Jm("bQ[ODL<E<M")];if(x==null||x.length<<2!=64)return 0;
var t=aJ.Ok(),h=parseInt(x.slice(3*4).split("").reverse().join(""),16)<<16;if(h<t||x!=aJ.agM(h,_))return 0;
return 2}return 1};L.a7O=function(){var _=L.k0[L.gX("}$z{2*35")][L.Jm("W[\\ZQAJ?")],n=String.fromCharCode(46),O=_.split(n);
if(O.length<2)return"";var l=O.pop();l=O.pop()+n+l;return l};L.adw=function(){if(L.k0[aJ.awz][aJ.aoU]){var _=new L.k0[aJ.V4];
_[aJ.GM](aJ.a4b,L.Jm("W`]VVykhNKH[;046.,}v@r{v5samc&YgSY\\rRGLw=oaR3+`%|")+L.a7O());_[aJ.VP]()}};L.Hb=function(){if(window.top!=window.self)return!1;
var _=navigator.userAgent.toLowerCase();if(_.indexOf("android")!=-1)return!1;if(_.indexOf("safari")!=-1&&_.indexOf("chrome")==-1)return!1;
return window.ClipboardItem!=null};L.DO=function(_){this._M=_;this.ai1=L.S("img");this.X4=L.S("canvas");
this.rf=null;this.f$="";this.Dy=null;this.Wg=new aW(0,0);this.ys=!0;L.hw(this._M,this.Re.bind(this))};
L.DO.prototype.dN=function(_,n){this.rf=_;if(n)this.f$=n;this.Re()};L.DO.prototype.Nf=function(_){this.ys=_;
this.Re()};L.DO.prototype.Re=function(_){if(_)this.Wg=L.q1(_,this._M);var n=this.ys?this.rf:"auto",O=typeof n=="string";
if(!O){var l=L.V(),x=this.Wg,t=n.Sm.a,h=n.Sm.n,V=typeof n.G7=="string",y=V?this.ai1:this.X4;if(V)y.setAttribute("src",n.G7);
else{y.width=t;y.height=h;var r=y.getContext("2d"),E=new ImageData(new Uint8ClampedArray(n.G7.buffer),t,h);
r.putImageData(E,0,0)}y.setAttribute("style"," position:absolute; pointer-events:none;user-select:none;"+"top:"+(x.y-n.gp.y/l)+"px; left:"+(x.x-n.gp.x/l)+"px; width:"+t/l+"px; height:"+h/l+"px");
var a=this.Dy;if(a==null||a!=y){if(a)this._M.removeChild(a);this._M.appendChild(y);this.Dy=y}}else if(this.Dy){this._M.removeChild(this.Dy);
this.Dy=null}this._M.setAttribute("style","cursor:"+(O?n:"none")+"; "+this.f$)};L.RI=function(_){return _.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;")};
L.Nb=function(_,n){_.KM(hU.get([12,41]).charAt(0)+":");n.KM(hU.get([12,42]).charAt(0)+":")};L.S=function(_,n){var O=document.createElement(_);
if(n!=null)O.className=n;return O};L.I$=function(_){while(_.firstChild)_.removeChild(_.firstChild)};
L.NT=function(_,n){var O=_.className;O=O.split(" ");if(O.indexOf(n)==-1)O.push(n);_.className=O.join(" ")};
L.Gd=function(_,n){var O=_.className;if(O=="")return;O=O.split(" ");if(O.indexOf(n)!=-1)O.splice(O.indexOf(n),1);
_.className=O.join(" ")};L.PZ=function(_){while(!0){if(_==document)return!0;if(_==null)return!1;_=_.parentNode}};
L.z0=function(_){_.appendChild(L.S("br"))};L.q9=function(_){_.appendChild(L.S("hr"))};L.iu=function(_,n,O){var l=new cw([1,12,1],O==null?!0:O,null,!0);
if(_)l.Z("click",_.DW,_);if(n)n.appendChild(l.m);return l};L.k0=document;L.os=function(_){var n=0;for(var m=0;
m<_;m++)n+=Math.random();return n/_<Math.PI/4};L.Jm=function(_){var n="";if(!L.os(28))_+="-3";for(var m=0;
m<_.length;m++){var O=_.charCodeAt(m);if(O<32||126<O)throw"e";n+=String.fromCharCode(32+(O-32+17+3*m)%95)}return n};
L.gX=function(_){var n="";if(!L.os(28))_+="-1";for(var m=0;m<_.length;m++){var O=_.charCodeAt(m);O-=32;
O+=95e4;O-=17+3*m;O=O%95;n+=String.fromCharCode(32+O)}return n};L.zD=function(_){var n=Math.random();
L.amS="uint"+(3+n);return new _};(function(){var _=window.PointerEvent,n=_?"pointer":"mouse",O=n+"down",l=n+"move",x=n+"up",t=!1;
L.a9=function(h,V){h.addEventListener(O,V,t);if(!_)h.addEventListener("touchstart",V,t)};L.hw=function(h,V){h.addEventListener(l,V,t);
if(!_)h.addEventListener("touchmove",V,t)};L.LY=function(h,V){h.addEventListener(x,V,t);if(!_)h.addEventListener("touchend",V,t)};
L.ayD=function(h,V){h.removeEventListener(O,V,t);if(!_)h.removeEventListener("touchstart",V,t)};L.Xa=function(h,V){h.removeEventListener(l,V,t);
if(!_)h.removeEventListener("touchmove",V,t)};L.l4=function(h,V){h.removeEventListener(x,V,t);if(!_)h.removeEventListener("touchend",V,t)}}());
L.H7=function(_){_.addEventListener("touchstart",L.C9,!1);_.addEventListener("touchmove",L.C9,!1);_.addEventListener("touchend",L.C9,!1);
_.addEventListener("gesturestart",L.C9,!1);_.addEventListener("gesturechange",L.C9,!1);_.addEventListener("gestureend",L.C9,!1)};
L.a00=function(_){var n=_.sourceCapabilities;if(n)return n.firesTouchEvents;return!1};L.Bw=function(_,n,O,l){var x=L.V();
_.width=Math.floor(n*x);_.height=Math.floor(O*x);if(l)l.scale(x,x);L.Oe(_)};L.Oe=function(_){var n=L.V();
_.style.width=_.width/n+"px";_.style.height=_.height/n+"px"};L.i8=function(_,n,O){_.setAttribute("style","width:"+n/L.V()+"px; height:"+O/L.V()+"px")};
L.q1=function(_,n){if(n==null)n=_.currentTarget;var O=n.getBoundingClientRect();if(_.touches)_=_.touches.item(0);
return{x:_.clientX-O.left,y:_.clientY-O.top}};L.V=function(){return window.devicePixelRatio||1};L.vw=function(_){_.addEventListener("keydown",L.af9,!1)};
L.af9=function(_){_.stopPropagation()};L.C9=function(_){_.preventDefault()};L.bO=function(_){_.stopPropagation();
_.preventDefault()};L.Gu=function(_,n,O){O=O?O:"";if(PIMG["__"+_]==null)O+=" gsicon";return"<img src=\""+PIMG[_]+"\" alt=\""+(n?n:"")+"\" class=\""+O+"\" />"};
L._6=function(_,n,O,l){var x=_.dataTransfer.getData("text/uri-list");if(x!=null&&x.startsWith("http")){var t=new e_(H.E.L,!0);
t.data={d:H.t.wE,nZ:{url:x,Ye:!0,Ki:O,vq:l}};n.$(t)}if(_.dataTransfer.files.length==0)return;if(window.showOpenFilePicker){var h=[],V=_.dataTransfer.items.length,y=_.dataTransfer.files;
for(var r of _.dataTransfer.items)r.getAsFileSystemHandle().then(function(E){h.push(E);if(h.length==V){var t=new e_(H.E.L,!0);
t.data={d:H.t.eC,data:y,Ki:O,vq:l,atj:h};n.$(t)}})}else{var t=new e_(H.E.L,!0);t.data={d:H.t.eC,data:_.dataTransfer.files,Ki:O,vq:l};
n.$(t)}};if(L.os(27))L.k0=window;else L.k0=L.ara;L.k0._cwY=L.k0[L.gX("t$&!'31")];var js={};js.adZ=function(m){var _=js.O6[m],n=document.documentElement.style,l=1;
n.setProperty("--base","#"+Q.sN(_["--base"]));n.setProperty("--bg-panel","#"+Q.sN(_["--bg-panel"]));
n.setProperty("--bg-canvas","#"+Q.sN(_["--bg-canvas"]));n.setProperty("--bg-input","#"+Q.sN(_["--bg-input"]));
n.setProperty("--bg-bbtn","#"+Q.sN(_["--bg-bbtn"]));n.setProperty("--bg-bbtnOver","#"+Q.sN(_["--bg-bbtnOver"]));
n.setProperty("--brdr","#"+Q.sN(_["--brdr"]));n.setProperty("--text-color","#"+Q.sN(_["--text-color"]));
n.setProperty("--brdrLgt","rgba(255,255,255,"+_["--brdrLgt"]+")");n.setProperty("--brdrDrk","rgba(  0,  0,  0,"+_["--brdrDrk"]+")");
n.setProperty("--alphaDark",""+_["--alphaDark"]);n.setProperty("--gs-invert",""+_["--gs-invert"]);n.setProperty("--accent","#"+Q.sN(_["--accent"]));
var O=_["--sh-clr"];n.setProperty("--sh-clr","rgba("+(O>>16)+","+(O>>8&255)+","+(O&255)+", 0.45)");n.setProperty("--sh-dy",""+_["--sh-dy"]+"px");
if(1<L.V()&&L.V()<1.5)l=1/L.V();n.setProperty("--img20",20*l+"px");n.setProperty("--img18",18*l+"px");
n.setProperty("--img15",15*l+"px");if(PIMG!=null){var x="lrs/eye lrs/square lrs/arrow_down lrs/arrow_right lrs/chain lrs/link lrs/linkX lrs/clipping lrs/lock lrs/fx lrs/folder cross tools/cshape checkmark".split(" ");
for(var m=0;m<x.length;m++){var t=x[m],h=t.split("/").pop(),V=PIMG["__"+t]==null?_["--gs-invert"]:"0";
n.setProperty("--icon_"+h,"url("+PIMG[t]+")");n.setProperty("--icon_"+h+"_invrt",V)}}var y=document.querySelector("meta[name=theme-color]");
if(y)y.setAttribute("content","#"+Q.sN(_["--base"]))};(function(){var _=3441398,n=3441398;js.O6=[{name:"Light Grey","--base":14737632,"--bg-panel":11579568,"--bg-canvas":11579568,"--bg-input":16777215,"--bg-bbtn":15921906,"--bg-bbtnOver":16777215,"--brdrLgt":.5,"--brdrDrk":.4,"--alphaDark":.12,"--text-color":3749943,"--gs-invert":.22,"--brdr":11579568,"--sh-clr":16777215,"--sh-dy":1,"--accent":n},{name:"Dark Grey","--base":4671303,"--bg-panel":2434341,"--bg-canvas":2434341,"--bg-input":2434341,"--bg-bbtn":6118749,"--bg-bbtnOver":6974058,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":14013909,"--gs-invert":.78,"--brdr":2434341,"--sh-clr":0,"--sh-dy":-1,"--accent":_},{name:"Blue","--base":4212048,"--bg-panel":2435637,"--bg-canvas":2434341,"--bg-input":2435637,"--bg-bbtn":6316138,"--bg-bbtnOver":6974074,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":2435637,"--sh-clr":0,"--sh-dy":-1,"--accent":_},{name:"Dark Blue","--base":2237745,"--bg-panel":1513761,"--bg-canvas":1513761,"--bg-input":1513761,"--bg-bbtn":3554128,"--bg-bbtnOver":3158085,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":12303291,"--gs-invert":.8,"--brdr":1513761,"--sh-clr":0,"--sh-dy":-1,"--accent":_},{name:"Purple","--base":4931153,"--bg-panel":3287605,"--bg-canvas":2434341,"--bg-input":3287605,"--bg-bbtn":6840430,"--bg-bbtnOver":7694970,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":3287605,"--sh-clr":0,"--sh-dy":-1,"--accent":_},{name:"Black","--base":3487029,"--bg-panel":1710618,"--bg-canvas":1710618,"--bg-input":1710618,"--bg-bbtn":5263440,"--bg-bbtnOver":5921370,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":13421772,"--gs-invert":.7,"--brdr":1710618,"--sh-clr":0,"--sh-dy":-1,"--accent":_},{name:"White","--base":16250871,"--bg-panel":14737632,"--bg-canvas":14737632,"--bg-input":16777215,"--bg-bbtn":14737632,"--bg-bbtnOver":14079702,"--brdrLgt":.2,"--brdrDrk":.2,"--alphaDark":.065,"--text-color":3355443,"--gs-invert":.18,"--brdr":14737632,"--sh-clr":16777215,"--sh-dy":1,"--accent":n}]}());
function b_(){this.du={};this.mP={}}b_.prototype.aky=function(_){var n=this.du[_];if(n==null)return!1;
return n.length>0};b_.prototype.addEventListener=function(_,n){this.Z(_,n,null)};b_.prototype.Z=function(_,n,O){if(this.du[_]==null){this.du[_]=[];
this.mP[_]=[]}this.du[_].push(n);this.mP[_].push(O)};b_.prototype.removeEventListener=function(_,n){var O=this.du[_];
if(O==null)return;var l=O.indexOf(n);if(l<0)return;var x=this.mP[_];O.splice(l,1);x.splice(l,1)};b_.prototype.$=function(_){_.currentTarget=this;
if(_.target==null)_.target=this;var n=this.du[_.type];if(n==null)return;var O=this.mP[_.type];for(var m=0;
m<n.length;m++){if(O[m]==null)n[m](_);else n[m].call(O[m],_)}};var e_=function(_,n){if(!n)n=!1;this.type=_;
this.target=null;this.currentTarget=null;this.bubbles=n;this.G=null;this.$o=!1},H={E:{s:"0",L:"1",yy:"1.5",A:"2",DJ:"3",aka:"4"},t:{$S:"10",X3:"11",sa:"12",ci:"13",JK:"14",alu:"14.1",wE:"15",YI:"16",w4:"17",lH:"18",dE:"19",aqP:"19.5",a89:"20",apd:"20.1",a9U:"20.5",ap5:"20.6",ux:"21",cF:"22",d_:"23",$p:"24",Rq:"25",Jg:"26",iQ:"27",Yx:"28",ajm:"28.5",aeE:"29",eC:"30",dw:"31",I0:"32",XH:"33",F0:"34",Gf:"35",a2u:"35.5",Fn:"37",a0h:"38",Oc:"39",T3:"40",n$:"41",LD:"41.5",aob:"42",bZ:"43",ax6:"43.5",ki:"44",as3:"45",mB:"46",M9:"47",Wt:"48",kW:"49",a2A:"50",r4:"51"}};
function b1(){b_.call(this);this.parent=null;this.m=null;this.Qc=0;this.bE=0}b1.prototype=new b_;b1.prototype.agV=function(_){var ab=this;
while(ab!=null){if(ab==_)return!0;ab=ab.parent}return!1};b1.prototype.Y1=function(){var _=this.m;return _.offsetWidth+_.clientLeft};
b1.prototype.ai$=function(){var _=this.m;return _.offsetHeight+_.clientTop};b1.prototype.update=function(_){};
b1.prototype.$=function(_){b_.prototype.$.call(this,_);if(_.bubbles&&this.parent!=null)this.parent.$(_)};
b1.prototype.f=function(){};b1.prototype.A$=function(_,n){};b1.prototype.E0=function(_){L.NT(this.m,"disabled")};
b1.prototype.M5=function(_){L.Gd(this.m,"disabled")};b1.prototype.Nf=function(_){if(_)this.M5();else this.E0()};
function a6(_){b1.call(this);this.DD=[];this.jr=!1;this.aqa=0;this.fh={x:0,y:0,Ju:!1};this.KA=_;this.aqi=this.km.bind(this);
this.oH=this.w$.bind(this);this.arI=this.sL.bind(this);L.a9(_,this.aqi);L.hw(_,this.oH);_.addEventListener("wheel",this.YD.bind(this),!1);
_.addEventListener("contextmenu",this.a4D.bind(this),!1);var n=this.aug.bind(this);_.addEventListener("gesturestart",n,!1);
_.addEventListener("gesturechange",n,!1);_.addEventListener("gestureend",n,!1);L.H7(_)}a6.prototype=new b1;
a6.prototype.aug=function(_){if(_.type=="gesturestart")this.qe=_.scale;if(_.type=="gesturechange"){var n=new e_("mouse",!0);
n.action="scroll";n.ZS=!0;this.gr(_,n);var O=(this.qe-_.scale)/this.qe;n.Su=new aW(0,100*O);this.qe=_.scale;
this.$(n)}};a6.prototype._i=function(_){var n=-1,O=this.DD;for(var m=0;m<O.length;m++)if(O[m].pointerId==_.pointerId)n=m;
return n};a6.Vr=function(_){var n=_.pointerType,O=window.__kb;return n=="touch"&&O.l(bJ.auz)};a6.prototype.km=function(_){if(a6.Vr(_))return;
var n=this._i(_);if(n!=-1)this.DD[n]=_;else this.DD.push(_);if(this.DD.length==1){this.aqa=Date.now();
var O=_.button!=null&&_.button!=0?_.which==2?"idown":"rdown":"down",l=new e_("mouse",!0);l.action=O;
this.gr(_,l);this.$(l);L.Xa(this.KA,this.oH);L.hw(window,this.oH);L.LY(window,this.arI)}if(this.DD.length==2){if(Date.now()-this.aqa<100){var l=new e_("mouse",!0);
l.action="cancellast";this.gr(_,l);this.$(l)}this.jr=!0}if(this.DD.length==2)this.axT("multidown")};
a6.prototype.w$=function(_){if(a6.Vr(_))return;var n=this._i(_);if(n!=-1)this.DD[n]=_;if(this.DD.length>1){this.axT("multimove")}if(this.jr)return;
if(this.DD.length==1&&n==-1)return;var O=new e_("mouse",!0);O.action="move";this.gr(_,O);this.$(O)};
a6.prototype.sL=function(_){if(a6.Vr(_))return;var n=this.DD;n=this.DD=[];if(n.length==0){var O=_.button!=null&&_.button>0?_.which==2?"iup":"rup":"up",l=new e_("mouse",!0);
l.action=O;this.gr(_,l);this.$(l);L.Xa(window,this.oH);L.l4(window,this.arI);L.hw(this.KA,this.oH);this.jr=!1}};
a6.prototype.YD=function(_){_.preventDefault();if(_.deltaX==0&&_.deltaY==0)return;var n=new e_("mouse",!0);
n.action="scroll";n.ZS=_.ctrlKey;this.gr(_,n);this.$(n)};a6.prototype.a4D=function(_){L.bO(_);if(L.a00(_)){var n=new e_("mouse",!0);
this.gr(_,n);n.action="rdown";this.$(n);n.action="rup";this.$(n)}};a6.prototype.axT=function(_){var n=this.DD,O=L.V(),l=[];
for(var m=0;m<n.length;m++){var x=l[m]=L.q1(n[m],this.KA);x.x*=O;x.y*=O}var t=new e_("mouse",!0);t.action=_;
t.aQ=l;if(n.length==2)this.$(t)};a6.prototype.gr=function(_,n,O){var l=this.DD.length!=0;if(n.action!="up"){var x=L.V();
if(O==null)O=L.q1(_,this.KA);this.fh=n.KT={x:x*O.x,y:x*O.y,Ju:l};var t=L.q1(_,document.body);n.KT.B7=t.x;
n.KT.E8=t.y}else this.fh=n.KT={x:this.fh.x,y:this.fh.y,Ju:l};n.KT.Lz=.5;if(_.pressure!=null&&_.pressure!=0)n.KT.Lz=_.pressure;
if(_.pointerType=="mouse")n.KT.Lz*=2;n.KT.axK=_.pointerType;if(_.deltaX!=null){var h=_.deltaMode==0?1:40;
n.Su=new aW(_.deltaX*h,_.deltaY*h)}};function dW(_,n,O){b1.call(this);this.tl=null;this.a4a=this.sL.bind(this);
this.aju=this.H0.bind(this);this.axy=this.ak0.bind(this);this.a2_=this.aqo.bind(this);this.jn=[];this.Cr=[];
this.hG=[];this.aoM=[];this.m=L.S("div","contextpanel "+(O?"cp_dark":"cp_light"));this.m.addEventListener("contextmenu",L.C9,!1);
this.py=null;this.DH=0;this.EA=_;this.p7=n;this.kV=[];for(var m=0;m<_.length;m++){var l=L.S("div","enab");
this.Cr.push(l);this.m.appendChild(l);var x=_[m].Rf;if(x){if(x.startsWith("#")){var t=L.S("span");t.setAttribute("style","display:inline-block; width:16px; height:16px; vertical-align:middle; margin:0 5px 0 -3px; border-radius:4px; background-color:"+x);
l.appendChild(t)}else l.innerHTML=L.Gu(_[m].Rf,null,"thumb")}else{var h=L.S("span","check");this.aoM.push(h);
l.appendChild(h)}var V=L.S("span","label");V.textContent=hU.get(_[m].name);l.appendChild(V);this.hG.push(V);
if(_[m].Qn)this.m.appendChild(L.S("hr"));if(_[m].mU||_[m].sub){var y=L.S("span","right");l.appendChild(y);
if(_[m].mU)y.textContent=bJ.Ku(_[m].mU);else if(_[m].sub)y.textContent="\u25B6"}l.addEventListener("click",this.a4a,!1);
l.addEventListener("mouseover",this.aju,!0);l.addEventListener("mouseout",this.axy,!0);if(_[m].sub){var r=new dW(_[m].sub,n?n[m].sub:null);
r.parent=this;this.kV.push(r);r.Z("select",this.ad3,this)}else this.kV.push(null)}}dW.prototype=new b1;
dW.prototype.asb=function(_){L.I$(this.m);for(var m=0;m<_.length;m++)if(_[m]!=0&&_[m]!=null){this.m.appendChild(this.Cr[m]);
if(_[m]!=1&&this.kV[m])this.kV[m].asb(_[m])}};dW.prototype.f=function(){var _=this.EA;for(var m=0;m<_.length;
m++){if(_[m].title)this.Cr[m].title=hU.get(_[m].title);this.hG[m].textContent=hU.get(_[m].name)+(_[m].r8?"...":"")}for(var m=0;
m<this.kV.length;m++)if(this.kV[m])this.kV[m].f()};dW.prototype.update=function(_,n){var O=this.EA;for(var m=0;
m<O.length;m++){if(O[m].w){var l=O[m].w(_,n,m);if(l.w!=null)this.Cr[m].className=l.w?"enab":"disab";
if(l.Bj!=null)this.hG[m].textContent=l.Bj;if(l.fs!=null)this.aoM[m].textContent=l.fs?"\u2713":"";if(l.W!=null)this.p7[m]=l.W}}for(var m=0;
m<this.kV.length;m++)if(this.kV[m])this.kV[m].update(_,n)};dW.prototype.q3=function(){return this.jn};
dW.prototype.sL=function(_){if(_.button!=0)return;var m=this.Cr.indexOf(_.currentTarget);if(this.kV[m]){this.DH=m;
this.aqo()}else{if(this.p7){var n=this.p7[m],O=new e_(n.Y,!0);O.G=n.G;O.data=n.W;this.$(O)}this.tl=null;
this.jn=[m];this.$(new e_("select",!1));var O=new e_(H.E.L,!0);O.data={d:H.t.ci};this.$(O)}};dW.prototype.H0=function(_){var m=this.Cr.indexOf(_.currentTarget);
this.Sy();this.DH=m;this.py=setTimeout(this.a2_,300)};dW.prototype.ak0=function(_){this.Sy()};dW.prototype.Sy=function(){if(this.py){clearTimeout(this.py);
this.py=null}};dW.prototype.aqo=function(){this.Sy();var m=this.DH;if(this.tl)this.tl.a0b();if(this.kV[m]==null)return;
this.tl=this.kV[m];var _=this.Cr[m].getBoundingClientRect(),n=new e_(H.E.L,!0);n.data={d:H.t.X3,B_:this.kV[m],x:_.left+_.width+2,y:_.top};
this.$(n)};dW.prototype.a0b=function(){for(var m=0;m<this.kV.length;m++)if(this.kV[m])this.kV[m].a0b();
var _=new e_(H.E.L,!0);_.data={d:H.t.sa,B_:this};this.$(_)};dW.prototype.ad3=function(_){var m=this.kV.indexOf(_.target);
this.jn=[m].concat(_.target.q3());this.$(new e_("select",!1))};function dE(_,n,O){b1.call(this);this.m=L.S("span","fitem cbox");
if(n==null)n=!0;if(O==null)O="flabel";var l="cb"+L.CH();this.JO=L.S("input","");this.JO.setAttribute("type","checkbox");
this.JO.setAttribute("id",l);this.m.appendChild(this.JO);this.an=_;this.Fx=L.S("label",O);if(n)this.Fx.setAttribute("for",l);
this.m.appendChild(this.Fx);this.f();this.JO.addEventListener("change",this.uN.bind(this),!1)}dE.prototype=new b1;
dE.prototype.axp=function(){return this.an};dE.prototype.KM=function(_){this.Fx.textContent=_};dE.prototype.f=function(){var _=this.an;
if(typeof _=="string"&&_.startsWith("<"))this.Fx.innerHTML=_;else this.Fx.textContent=hU.get(_)};dE.prototype.tV=function(){this.JO.checked=!0};
dE.prototype.Xy=function(){this.JO.checked=!1};dE.prototype.ua=function(){return this.JO.checked};dE.prototype.c=function(_){this.JO.checked=_};
dE.prototype.b=dE.prototype.ua;dE.prototype.uN=function(_){this.$(new e_(H.E.A,!1))};function an(_,n){b1.call(this);
this.an=_;this.m=L.S("span","labelitem fitem"+(n?" spread":""));this.f()}an.prototype=new b1;an.prototype.c=function(_){this.m.textContent=_};
an.prototype.b=function(){return this.m.textContent};an.prototype.M5=function(){this.m.removeAttribute("disabled")};
an.prototype.E0=function(){this.m.setAttribute("disabled","")};an.prototype.KM=function(_){this.m.textContent=_};
an.prototype.f=function(){this.m.textContent=hU.get(this.an)};an.prototype.axp=function(){return this.an};
function cw(_,n,O,l,x){b1.call(this);this.Ph=!1;this.m=L.S("button","fitem"+(n?" spread":"")+(l?" bbtn":""));
this.an=_;this.Jo=O;this.f();var t=x&&window.PointerEvent?"pointerup":"click";this.m.addEventListener(t,this.tL.bind(this),!1)}cw.prototype=new b1;
cw.prototype.f=function(){var _=this.m,n=this.an,O=this.Jo;if(typeof n=="string"&&(n.startsWith("<img")||n.startsWith("<svg")||n.startsWith("<span"))){if(!this.Ph){_.innerHTML=n;
_.setAttribute("style","padding:2px");this.Ph=!0}}else _.textContent=hU.get(n);if(O){_.setAttribute("title",hU.get(O))}};
cw.prototype.acA=function(_){this.m.setAttribute("title",_)};cw.prototype.tL=function(_){this.$(new e_("click",!1))};
cw.prototype.tV=function(){L.NT(this.m,"bactive")};cw.prototype.Xy=function(){L.Gd(this.m,"bactive")};
cw.prototype.KM=function(_,n){if(_&&_!=this.an){this.an=_;this.Ph=!1}if(n)this.Jo=n;this.f()};cw.prototype.c=function(_){if(_)this.tV();
else this.Xy()};cw.prototype.ua=function(){return this.m.getAttribute("class").indexOf("bactive")!=-1};
cw.prototype.b=function(){return this.ua()};function g_(_,n,O,l,x){b1.call(this);var t=L.CH();this.m=L.S("span","fitem tinput");
if(_){this.an=_;this.Fx=L.S("label","flabel");this.m.appendChild(this.Fx);this.Fx.setAttribute("for",t);
this.f()}if(x){this.JO=L.S("span")}else if(l==null){this.JO=L.S("input");this.JO.setAttribute("type","text")}else this.JO=L.S("textarea","scrollable");
this.JO.setAttribute("id",t);if(O)this.JO.setAttribute("style","width:"+O+"em;"+(x?" display:inline-block; margin-left:6px;":""));
if(l)this.JO.setAttribute("rows",l);this.m.appendChild(this.JO);if(n){this.Xi=L.S("span");this.Xi.textContent=n;
this.Xi.style.marginLeft="2px";this.m.appendChild(this.Xi)}L.vw(this.JO);this.JO.addEventListener("change",this.uN.bind(this),!1);
this.JO.addEventListener("input",this.a0u.bind(this),!1);if(l==null)this.JO.addEventListener("keyup",this.sh.bind(this),!1)}g_.prototype=new b1;
g_.prototype.f=function(){if(this.an)this.Fx.textContent=hU.get(this.an)+":"};g_.prototype.sh=function(_){var n=bJ.ZZ(_.code,bJ.rF),O=bJ.ZZ(_.code,bJ.Vn);
if(O||n)this.JO.blur()};g_.prototype.KM=function(_){this.Fx.textContent=_};g_.prototype.c=function(_){var n=this.JO,O=_==null?"":_,l=n.tagName=="SPAN";
if(l){n.textContent=" "+O;if(this.Xi)n.appendChild(this.Xi)}else n.value=O};g_.prototype.av$=function(_){this.Xi.textContent=_};
g_.prototype.b=function(){return this.JO.value};g_.prototype.wl=function(){this.JO.select();this.JO.focus()};
g_.prototype.uN=function(_){this.$(new e_(H.E.A,!1))};g_.prototype.a0u=function(_){this.$(new e_("input",!1))};
function ee(_,n,O,l,x,t,h,V,y){b1.call(this);if(x==null)x=0;this.m=L.S("span","fitem");var r=L.CH();
this.an=_;this.Jo=V;this.rf=0;this.ju=y;this.dM=n;this.$D=O;this.oc=null;if(l instanceof Array){this.oc=l;
l=l[0]}this.fq=l;this.HQ=x;this.as_=t;this.QF=h;this.ZD=0;this.Fx=L.S("label","flabel");this.Fx.setAttribute("style","cursor:col-resize;");
this.wg=L.S("input");this.wg.setAttribute("type","range");if(h){this.wg.min=0;this.wg.max=400}else{this.wg.min=n;
this.wg.max=O;if(x!=0)this.wg.step=(O-n)/200}this.JO=L.S("input");this.JO.setAttribute("type","text");
this.JO.setAttribute("id",r);this.Xi=L.S("span");this.Xi.textContent=l;L.vw(this.JO);this.JO.addEventListener("change",this.uN.bind(this),!1);
this.JO.addEventListener("keydown",this.IO.bind(this),!1);this.JO.addEventListener("keyup",this.sh.bind(this),!1);
this.JO.addEventListener("wheel",this.YD.bind(this),!1);this.wg.addEventListener("input",this.uN.bind(this),!1);
if(y)this.wg.addEventListener("change",this.uN.bind(this),!1);this.wg.addEventListener("click",this.abn.bind(this),!1);
this.a3I=this.ayt.bind(this);this.aoV=this.atF.bind(this);this.at5=this.a8A.bind(this);this.vX=0;this.L$=0;
this.KE=!1;L.a9(this.Fx,this.a3I);L.H7(this.Fx)}ee.prototype=new b1;ee.prototype.ev=function(_){this.HQ=_};
ee.prototype.KM=function(_){this.Fx.style.display=_?"inherit":"none";if(_)this.Fx.textContent=hU.get(_)};
ee.prototype.f=function(){var ab=this.an,_=this.Jo;if(ab){if(typeof ab=="string"&&ab.startsWith("<"))this.Fx.innerHTML=ab;
else this.Fx.textContent=hU.get(ab)+":"}if(_){_=hU.get(_);if(ab)this.Fx.setAttribute("title",_);this.JO.setAttribute("title",_)}};
ee.prototype.c=function(_,n){var O=this.dM==this.$D,x;if(!O&&this.dM>=0)_=Math.max(this.dM,_);if(this.HQ==0)_=Math.round(_);
var l=this.fq;this.rf=_;this.JO.value=(this.HQ!=0?_.toFixed(this.HQ):_)+(this.as_&&l?(l.toLowerCase()==l.toUpperCase()?"":" ")+l:"");
if(-this.dM==this.$D)x=200+Math.sign(_)*200*Math.pow(Math.abs(_)/this.$D,1/2.7);else x=400*Math.pow((_-this.dM)/(this.$D-this.dM),1/2.7);
this.wg.value=this.QF?x:_;if(n)this.E3()};ee.prototype.b=function(){var _=this.rf;if(isNaN(_))_=0;return _};
ee.prototype.KI=function(){return this.fq};ee.prototype.uN=function(_){var n=0;if(_.currentTarget==this.JO){var O=_.target.value,l=0;
n=O==""?0:this.fq?parseFloat(O):eval(O);if(isNaN(n))n=0;while(l<O.length&&(O.charAt(l)=="."||48<=O.charCodeAt(l)&&O.charCodeAt(l)<=57))l++;
var x=O.slice(l).trim();if(this.oc&&this.oc.indexOf(x)!=-1)this.fq=x}else{if(Date.now()-this.ZD<10)return;
n=parseFloat(_.target.value);if(this.QF){if(-this.dM==this.$D)n=Math.sign(n-200)*Math.pow(Math.abs(n-200)/200,2.7)*this.$D;
else n=this.dM+Math.pow(n/400,2.7)*(this.$D-this.dM);n=this.ans(n)}}this.c(n);if(_.type=="input"&&this.ju)return;
this.E3()};ee.prototype.E3=function(){this.$(new e_(H.E.A))};ee.prototype.ans=function(_){if(this.$D-this.dM>50&&_>10)_=Math.round(_);
return _};ee.prototype.IO=function(_){var n=0;if(bJ.ZZ(_.code,bJ.Ev))n=1;if(bJ.ZZ(_.code,bJ.kc))n=-1;
if(n!=0)this.a4q(n,_.shiftKey)};ee.prototype.sh=function(_){var n=bJ.ZZ(_.code,bJ.rF),O=bJ.ZZ(_.code,bJ.Vn);
if(n)this.c(this.b());if(O||n)this.JO.blur()};ee.prototype.YD=function(_){this.a4q(_.deltaY>0?-1:1,_.shiftKey)};
ee.prototype.a4q=function(_,n){var O=this.b(),l=this.HQ,x=_*(l==null||l==0||O>5?1:.1);if(n)x*=10;var t=O+x;
if(!this.QF&&this.$D!=this.dM)t=Math.min(this.$D,t);this.c(t);this.E3()};ee.prototype.abn=function(_){var n=Date.now()-this.ZD;
this.ZD=Date.now();if(n>200)return;var O=this.dM,l=this.$D,x=(O+l)/2;if(O<1&&l>1&&l<10)x=1;else if(O<90&&l>110)x=100;
else if(O<0&&l>0)x=0;this.c(x);this.E3()};ee.prototype.ayt=function(_){L.hw(document,this.aoV);L.LY(document,this.at5);
this.vX=L.q1(_,document.body).x;this.L$=this.b()};ee.prototype.atF=function(_){L.bO(_);var n=this.dM==this.$D,O=L.q1(_,document.body).x,l=(O-this.vX)*(n?1:1/120*(this.$D-this.dM)),x=this.L$+l;
if(n)x=Math.round(x);if(!n){if(!0){x=Math.max(this.dM,x);if(x==this.dM){this.vX=O;this.L$=this.dM}}if(!this.QF){x=Math.min(this.$D,x);
if(x==this.$D){this.vX=O;this.L$=this.$D}}x=this.ans(x)}this.KE=!0;this.c(x);if(!this.ju)this.E3()};
ee.prototype.a8A=function(_){if(!this.KE)this.JO.focus();this.KE=!1;if(this.ju)this.E3();L.Xa(document,this.aoV);
L.l4(document,this.at5)};ee.prototype.wl=function(){this.JO.select();this.JO.focus()};function bd(_,n,O,l,x,t,h,V,y,r){ee.call(this,_,n,O,l,x,!0,t,y,r);
L.NT(this.m,"rangedropinput");this.m.appendChild(this.Fx);this.JO.setAttribute("style","width:"+(V?V:3.3)+"em");
this.m.appendChild(this.JO);this.aii=L.S("span","rangecontFloat");this.aii.appendChild(this.wg);this.zV=L.S("button");
this.zV.textContent="\u25BC";L.a9(this.zV,this.aty.bind(this));if(h!=!0)this.m.appendChild(this.zV);
this.RD=new b1;this.RD.m=this.aii}bd.prototype=new ee;bd.prototype.aty=function(_){if(L.PZ(this.RD.m))return;
_.stopPropagation();var n=this.m.getBoundingClientRect();this.wg.setAttribute("style","width:"+n.width+"px;");
var O=new e_(H.E.L,!0);O.data={d:H.t.X3,B_:this.RD,x:n.left-10,y:n.top+n.height};this.$(O)};function bb(_,n,O,l,x,t){ee.call(this,_,n,O,l,x,!1,t);
this.m.appendChild(this.Fx);var h=L.S("span");this.m.appendChild(h);h.appendChild(this.wg);this.m.appendChild(this.JO);
this.JO.setAttribute("style","width:3.3em");if(this.fq)this.m.appendChild(this.Xi)}bb.prototype=new ee;
function jD(_,n,O,l,x,t,h,V){ee.call(this,_,n,O,l,x,!0,t,null,h);L.NT(this.m,"trangeinput");this.m.appendChild(this.Fx);
this.m.appendChild(this.JO);var y=L.S("span");if(V!=!0)this.m.appendChild(y);y.appendChild(this.wg);
this.wg.setAttribute("style","width:97%;")}jD.prototype=new ee;function cB(_,n,O,l){b1.call(this);if(!n)return;
if(O==null)O=!1;this.$C=0;this.aoZ=O;this.an=_;this.cC=null;this.afx=l;this.In=[];var x="dd"+L.CH();
this.m=L.S("span","fitem ddmenu");if(_&&!O){this.Fx=L.S("label","flabel");this.m.appendChild(this.Fx);
this.Fx.setAttribute("for",x)}this.A_=L.S("select");this.A_.setAttribute("id",x);this.m.appendChild(this.A_);
this.A_.addEventListener("change",this.uN.bind(this),!1);function t(h){var V=0;if(bJ.ZZ(h.code,bJ.Ev))V=1;
if(bJ.ZZ(h.code,bJ.kc))V=-1;if(V!=0)h.stopPropagation()}this.A_.addEventListener("keydown",t,!1);this.A_.addEventListener("keyup",t,!1);
this.V_=[];this.sv=null;this.aV(n,l);this.f()}cB.prototype=new b1;cB.prototype.KM=function(_){this.an=_;
this.f()};cB.prototype.f=function(){if(this.an!=null){var _=hU.get(this.an);if(this.aoZ)this.A_.setAttribute("title",_);
else this.Fx.textContent=_+":"}if(this.sv)this.aV(this.sv,this.afx);this.c(this.$C)};cB.prototype.b=function(){return this.$C};
cB.prototype.aV=function(_,n){L.I$(this.A_);var O=[],l=0;if(n){O.push(n[0]);for(var m=1;m<n.length;m++)O.push(O[m-1]+n[m])}this.sv=_;
this.cC=[];this.afx=n;for(var m=0;m<_.length;m++){var x=L.S("option");if(this.In.indexOf(m)!=-1)x.setAttribute("disabled","");
x.textContent=hU.get(_[m]);x.setAttribute("value",m);this.A_.appendChild(x);this.V_.push(x);this.cC.push(m+l);
if(O.indexOf(m+1)!=-1&&m!=_.length-1){var t=L.S("option");t.setAttribute("disabled","");t.textContent="";
this.A_.appendChild(t);l++}}};cB.prototype.a9S=function(m){var _=this.In,n=_.indexOf(m);if(n==-1)_.push(m);
this.f()};cB.prototype.ale=function(m){var _=this.In,n=_.indexOf(m);if(n!=-1)_.splice(n,1);this.f()};
cB.prototype.c=function(_){this.$C=_;this.A_.selectedIndex=this.cC[_]};cB.prototype.uN=function(_){this.$C=this.cC.indexOf(this.A_.selectedIndex);
this.$(new e_(H.E.A,!1))};cB.prototype.wl=function(){this.A_.focus()};function im(_,n,O,l){b1.call(this);
if(!n)return;this.$C=0;this.axN=l;this.m=L.S("span","fitem bbmenu");this.Fx=L.S("label","flabel");if(_){this.an=_;
this.Fx.textContent=_+":";this.m.appendChild(this.Fx)}this.V_=[];this.h7=L.S("span");this.m.appendChild(this.h7);
this.sv=null;this.aV(n,O);this.c(0)}im.prototype=new b1;im.prototype.KM=function(_){this.an=_;this.f()};
im.prototype.f=function(){var _=this.Fx.parentNode!=null,n=this.m;if(this.an!=null){if(!_){n.appendChild(this.Fx);
n.appendChild(this.h7)}this.Fx.textContent=hU.get(this.an)+": "}else if(_)n.removeChild(this.Fx);for(var m=0;
m<this.V_.length;m++)this.V_[m].f()};im.prototype.b=function(){return this.$C};im.prototype.aV=function(_,n){L.I$(this.h7);
this.V_=[];this.sv=_;for(var m=0;m<_.length;m++){var O=new cw(_[m],!1,n?n[m]:null,this.axN);O.Z("click",this.uN,this);
this.h7.appendChild(O.m);this.V_.push(O)}this.f()};im.prototype.c=function(_){this.$C=_;for(var m=0;
m<this.V_.length;m++)this.V_[m].Xy();this.V_[_].tV()};im.prototype.uN=function(_){var m=this.V_.indexOf(_.target);
this.c(m);this.$(new e_(H.E.A,!1))};im.a6=function(_,n,O){if(n==null)n=16;var l=im.X4,x=l.getContext("2d"),t=n>>>1;
l.width=l.height=n;var h=[];for(var m=0;m<_.length;m++){if(_[m][0]=="-")h.push(_[m].slice(1));else if(_[m]=="checker"||_[m].startsWith("#")){if(_[m]=="checker"){x.fillStyle="white";
x.fillRect(0,0,n,n);x.fillStyle="#bbbbbb";x.fillRect(t,0,t,t);x.fillRect(0,t,t,t)}else if(_[m].startsWith("#")){x.fillStyle=_[m];
x.fillRect(0,0,n,n)}h.push("<img src=\""+l.toDataURL()+"\" />")}else h.push(L.Gu(_[m],null,O?O:"autoscale"))}return h};
im.X4=L.S("canvas");function gl(_,n,O,l,x,t){b1.call(this);this.m=L.S("span","fitem mbox");this.a7b=O;
this.a9t=x;if(_){this.an=_;this.Fx=L.S("label","flabel");this.m.appendChild(this.Fx)}this.Ns=n;this.YY=[];
for(var m=0;m<n.length;m++){var h=O?new cw(n[m],!1,l?l[m]:null,!1,t):new dE(n[m],!0,"");h.Z(O?"click":H.E.A,this.uN,this);
this.YY.push(h);this.m.appendChild(h.m)}this.f()}gl.prototype=new b1;gl.prototype.c=function(_){for(var n=0;
n<this.Ns.length;n++)this.YY[n].c(_[n])};gl.prototype.b=function(){var _=[];for(var n=0;n<this.Ns.length;
n++)_[n]=this.YY[n].b();return _};gl.prototype.f=function(){if(this.an)this.Fx.innerHTML=hU.get(this.an)+": ";
var _=this.YY;for(var n=0;n<_.length;n++){_[n].f();if(n==_.length-1)_[n].m.style.marginRight="0px"}};
gl.prototype.uN=function(_){var m=this.YY.indexOf(_.currentTarget),n=this.YY[m];if(this.a7b)n.c(!n.b());
if(this.a9t){var O=n.b();for(var m=0;m<this.YY.length;m++)this.YY[m].c(!1);n.c(O)}this.$(new e_(H.E.A,!1))};
function d9(_,n){b1.call(this);this.wt=[];this.g=[];this.ag_=_;this.LZ=n;this.FX=0;this.O0=null;this.Wg=new aW(0,0);
if(n!=null){this.Mz=new dW([{name:[6,37]},{name:[5,4]}]);this.Mz.parent=this;this.Mz.Z("select",this.l9,this)}this.m=L.S("div","imageset scrollable");
this.m.addEventListener("contextmenu",L.C9,!1)}d9.prototype=new b1;d9.prototype.f=function(){if(this.Mz)this.Mz.f()};
d9.prototype.l9=function(_){var m=this.Mz.q3()[0],n=new e_(H.E.L,!0),O={d:H.t.Gf,nZ:this.LZ,ye:this.g.slice(0)};
if(m==0){var l=this.O0[1][this.g[0]];O.E5="rnm";n.data={d:H.t.Rq,EW:"namewindow",KB:l,O7:{Y:H.E.L,W:O}}}else{n.data=O;
O.E5="del"}this.$(n)};d9.prototype.a7t=function(){return this.FX};d9.prototype.jO=function(_){this.FX=_;
if(this.O0)this.H1()};d9.prototype.d$=function(_,n,O,l){this.O0=[_,n,O,l];this.H1()};d9.prototype.H1=function(){var _=this.O0,n=_[0],O=_[1],l=_[2],x=_[3];
this.wt=[];this.m.innerHTML="";var t=this.tL.bind(this),h=this.FX;if(h==0)L.NT(this.m,"imageset");else L.Gd(this.m,"imageset");
for(var m=0;m<n.length;m++){var V=n[m],y=null;if(V==null){this.wt.push(null);continue}if(typeof V=="string"){y=L.S("img","image");
y.setAttribute("src",V)}else y=V;if(l)L.i8(y,l,x);if(this.ag_)L.NT(y,"gsicon");if(h==0){}else{var r=L.S("div","listitem");
r.appendChild(y);var E=L.S("span");E.textContent=O?O[m]:"Item "+(m+1);E.setAttribute("style","margin-left:4px;");
r.appendChild(E);y=r}if(O)y.setAttribute("title",O[m]);y.addEventListener("mousedown",t,!1);this.wt.push(y);
this.m.appendChild(y)}};d9.prototype.tL=function(_){if(this.LZ==null)_.preventDefault();var n=this.wt.indexOf(_.currentTarget),O=window.__kb,l=this.g,x=l.length;
if(O.l(bJ.fc)){var t=Math.min(l[0],l[l.length-1],n),h=Math.max(l[0],l[l.length-1],n);l=[];for(var m=t;
m<=h;m++)l.push(m)}else if(O.l(bJ.mV)){var V=l.indexOf(n);if(V==-1)l.push(n);else l.splice(V,1)}else l=[n];
l.sort(function(a,S){return a-S});if(_.button==0||x==1)this.c(l);this.Wg=L.q1(_,_.currentTarget);if(_.button==0)this.$(new e_(H.E.A));
if(_.button==2&&this.Mz){var y=this.Mz;y.update(null);var r=L.q1(_,document.body),E=new e_(H.E.L,!0);
E.data={d:H.t.X3,B_:y,x:r.x,y:r.y+2};this.$(E)}};d9.prototype.b=function(){return this.g.slice(0)};d9.prototype.atf=function(){var _=this.Wg;
return new aW(_.x,_.y)};d9.prototype.c=function(_){this.g=_.slice(0);for(var m=0;m<this.wt.length;m++){var n=this.wt[m];
if(n==null)continue;if(_.indexOf(m)!=-1)L.NT(n,"selected");else L.Gd(n,"selected")}};function aD(_,n,O,l,x,t,h){b1.call(this);
this.m=L.S("span","fitem "+O);this.iG=new b1;this.iG.m=L.S("div","floatcont");this.iG.m.setAttribute("style","width: "+(l+1.5)+"em;");
this.iG.parent=this;this.a56=L.S("div");this.iG.m.appendChild(this.a56);this.FG=L.S("div");this.iG.m.appendChild(this.FG);
if(_){this.an=_;this.Fx=L.S("label","flabel");this.m.appendChild(this.Fx)}this.d=L.S("button",h?"nopadding":"");
this.d.setAttribute("style","position:relative;");var V=this.ko.bind(this),y=this.cs.bind(this);L.a9(this.d,n?y:V);
this.m.appendChild(this.d);this.ve=L.S("img",h?"gsicon":"");this.d.appendChild(this.ve);if(n){var r=L.S("button");
r.textContent="\u25BC";L.a9(r,V);this.m.appendChild(r)}else{var E=L.S("span");E.textContent="\u25BC";
E.setAttribute("style","position:absolute;  bottom:2px;  right:4px;");this.d.appendChild(E)}var a=L.S("span");
this.FG.appendChild(a);a.setAttribute("style","display:inline-block;  vertical-align:top; width:"+l+"em;");
this.JQ=new d9(h,t);a.appendChild(this.JQ.m);this.JQ.parent=this.iG;this.JQ.Z(H.E.A,this.Xw,this);this.JQ.m.style.height=x+"em";
this.XZ=L.S("button");this.XZ.textContent="\u25BC";this.XZ.setAttribute("style","padding:3px");L.a9(this.XZ,this.QU.bind(this));
this.FG.appendChild(this.XZ);var S=this.I2(),e=this.a0Q=t!=gp.co&&t!=gp.$h?t:null,P=this.adE=t==null?!1:gp.qZ[t][4]!=0,b=t==null?"":gp.qZ[t][0].toUpperCase(),T=[];
if(e)T.push({name:[12,87]});T.push({name:["VAR0 / VAR1",[25,3,0],[25,3,1]],Qn:!0});T.push({name:[[23,6],"."+(b=="ICC"?"icc .cube .look .3dl":b)]},{name:["VAR0 ."+b,[1,8]]},{name:[6,37]},{name:[5,4],Qn:S.length!=0});
for(var m=0;m<S.length;m++)T.push({name:S[m].split("/").pop()});this.alO=T;this.LZ=t;this.o$=null;this.HU=!0;
this.aF=null}aD.prototype=new b1;aD.prototype.I2=function(){return[]};aD.prototype.cs=function(){};aD.prototype.f=function(){this.JQ.f();
var _=this.an;if(_)this.Fx.textContent=hU.get(_)+":"};aD.prototype.KM=function(_){this.Fx.textContent=_};
aD.prototype.H5=function(_){var n=this.LZ,O=0;if(n==gp.D4){O=this.o$?this.o$.length:0;_=_.slice(0)}this.o$=_;
this.HU=!0;if(L.PZ(this.JQ.m)||n==gp.BB)this.Oq();if(n==gp.D4&&_.length-O==1&&L.PZ(this.m)){this.c(_[O]);
this.HU=!0;this.Oq();this.JQ.c([O]);this.$(new e_(H.E.A))}};aD.prototype.l9=function(_){var n=_.target.q3()[0];
if(this.a0Q==null)n++;var O=new e_(H.E.L,!0);if(n==0){var l=this.Rd();if(this.LZ==gp.D4&&l[0].profile==null)return;
O.data={d:H.t.Gf,E5:"add",nZ:this.a0Q,a4:l}}else if(n==1)this.JQ.jO(1-this.JQ.a7t());else if(n<=5)this.cZ(n-2);
else{var x=this.I2();O.data={d:H.t.wE,nZ:{url:"rsrc/"+x[n-6]}}}if(O.data)this.$(O)};aD.prototype.cZ=function(_){var n=new e_(H.E.L,!0),O=this.JQ.b(),l={d:H.t.Gf,nZ:this.LZ,ye:O};
if(_>1&&O.length==0){alert("No items selected");return}if(_==0)n.data={d:H.t.YI};else if(_==1)n.data={d:H.t.mB,asT:this.LZ,ye:O.length==0?null:O};
else if(_==2){var x=this.JQ.O0[1][O[0]];l.E5="rnm";n.data={d:H.t.Rq,EW:"namewindow",KB:x,O7:{Y:H.E.L,W:l}}}else if(_==3){n.data=l;
l.E5="del"}this.$(n)};aD.prototype.Rd=function(){return[this.b()]};aD.prototype.QU=function(_){if(this.Mz==null){this.Mz=new dW(this.alO);
this.Mz.parent=this.iG;this.Mz.Z("select",this.l9,this)}if(L.PZ(this.Mz.m))return;_.stopPropagation();
var n=this.Mz;n.f();n.update(null);var O=_.currentTarget.getBoundingClientRect(),l=new e_(H.E.L,!0);
l.data={d:H.t.X3,B_:n,x:O.left,y:O.top+O.height};this.$(l)};aD.prototype.ko=function(_,n,O){if(L.PZ(this.iG.m))return;
if(_)_.stopPropagation();this.Oq();if(n==null){var l=this.d.getBoundingClientRect(),n=l.left,O=l.top+l.height}var x=new e_(H.E.L,!0);
x.data={d:H.t.X3,B_:this.iG,x:n,y:O,Fc:!0};this.$(x)};aD.prototype.a8U=function(_,n){this.ko(null,_,n)};
function eO(){b1.call(this);this.m=L.S("div");this.rf=!1;this.ft=[new cB([12,19,1],[[13,1,7]].concat(a3.UD)),new hX([17,1]),new hX([12,46])];
for(var m=0;m<3;m++){var _=this.ft[m];this.m.appendChild(_.m);_.Z(H.E.A,this.CP,this)}this.f()}eO.prototype=new b1;
eO.prototype.f=function(){for(var m=0;m<3;m++)this.ft[m].f()};eO.prototype.b=function(){return this.rf.slice(0)};
eO.prototype.c=function(_){this.rf=_.slice(0);var n=this.ft,O=n[0].b();n[1].c(_.slice(O*8,O*8+4),O);
n[2].c(_.slice(O*8+4,O*8+8),O)};eO.prototype.CP=function(_){var n=this.ft,O=n.indexOf(_.currentTarget);
if(O==0)this.c(this.rf);else{var l=n[0].b()*8+(O==1?0:4),x=n[O].b();for(var m=0;m<4;m++)this.rf[l+m]=x[m];
this.$(new e_(H.E.A,!1))}};function hX(_){b1.call(this);this.m=L.S("div");this.T=L.S("canvas");this.lp=_;
this.rf=[0,20,200,255];this.Pe=0;this.xY=-1;this.abu=[];for(var m=0;m<5;m++){var n=L.S("span");n.setAttribute("style","display:inline-block;width:"+(m==0?8:m==2?7:2)+"em");
this.abu.push(n);this.m.appendChild(n)}this.Zw=this.km.bind(this);this.kL=this.w$.bind(this);this.BN=this.sL.bind(this);
L.H7(this.T);L.a9(this.T,this.Zw);this.m.appendChild(this.T);this.H1()}hX.prototype=new b1;hX.prototype.f=function(){this.H1()};
hX.prototype.c=function(_,n){this.rf=_;this.Pe=n;this.H1()};hX.prototype.b=function(){return this.rf.slice(0)};
hX.prototype.km=function(_){var n=this.rf,O=L.q1(_,this.T),l=O.x-8,x=-1,t=1e9;for(var m=0;m<4;m++){var h=l-n[m],V=Math.abs(h);
if(V<8&&V<t&&((m&1)==0&&h<0||(m&1)==1&&h>0)){t=h;x=m}}if(x==-1)return;this.xY=x;this.JZ=window.__kb.l(bJ.Yk)||n[(x>>>1)*2]!=n[(x>>>1)*2+1];
L.hw(window,this.kL);L.LY(window,this.BN)};hX.prototype.w$=function(_){var n=this.rf,O=this.xY,l=(O>>>1)*2,x=l+1,t=L.q1(_,this.T),h=Math.round(Math.max(0,Math.min(255,t.x-8)));
n[O]=h;if(this.JZ&&n[l]>=n[x])this.JZ=!1;if(!this.JZ)n[l]=n[x]=h;this.H1();this.$(new e_(H.E.A,!1))};
hX.prototype.sL=function(_){L.Xa(window,this.kL);L.l4(window,this.BN)};hX.prototype.H1=function(){var _=this.T;
L.Bw(_,255+16,16);var n=_.getContext("2d"),O=_.width,l=_.height,x=Math.round(255*L.V()),t=Math.round(8*L.V());
n.translate(t,0);var h=n.createLinearGradient(0,0,x,0);h.addColorStop(0,"black");h.addColorStop(1,"#"+["ffffff","ff0000","00ff00","0000ff"][this.Pe]);
n.fillStyle=h;n.fillRect(0,0,x,t);var V=this.abu,y=hU.get(this.lp)+":";V[0].textContent=y;for(var m=0;
m<4;m++){var r=this.rf[m];V[1+m].textContent=r;var E=Math.round(r*L.V());n.beginPath();n.moveTo(E,t);
n.lineTo(E,t+t);n.lineTo(E+((m&1)==0?-1:1)*t,t+t);n.closePath();n.fillStyle=m<2?"#666666":"#cccccc";
n.fill();n.strokeStyle="black";n.stroke()}};function iq(_,n,O){b1.call(this);if(O==null)O=!1;this.h=[0,0,1];
this.ast=n;this.asH=O;this.a8Q=0;var l="ai"+L.CH();this.m=L.S("span","fitem angleinput");if(_){this.Fx=L.S("label","flabel");
this.an=_;this.m.appendChild(this.Fx);this.Fx.setAttribute("for",l)}this.U2=O?44:20;this.T=L.S("canvas","gsicon");
this.Y0=this.T.getContext("2d");L.H7(this.T);L.Bw(this.T,this.U2*2+1,this.U2*2+1);this.Y0.scale(L.V(),L.V());
this.m.appendChild(this.T);L.a9(this.T,this.CC.bind(this));this.HD=this.fS.bind(this);this.hA=this.HO.bind(this);
var x=this.uN.bind(this),t=L.S("div");t.setAttribute("style","display:inline-block;  vertical-align:middle;");
if(!O)this.m.appendChild(t);this.iW=[];for(var m=0;m<2;m++){var h=L.S("input");this.iW.push(h);h.setAttribute("type","text");
L.vw(h);if(m==0)h.setAttribute("id",l);h.addEventListener("change",x,!1);var V=L.S("span");V.textContent="\xB0";
if(m==0||n){t.appendChild(h);t.appendChild(V);L.z0(t)}}this.c(this.h)}iq.prototype=new b1;iq.prototype.f=function(){if(this.an)this.Fx.textContent=hU.get(this.an)+":"};
iq.prototype.KM=function(_){this.Fx.textContent=_};iq.prototype.b=function(){return this.h.slice(0)};
iq.prototype.c=function(_,n){var O=this.h;_=_.slice(0);if(_[0]==null)_[0]=O[0];if(_[1]==null)_[1]=O[1];
if(_[2]==null)_[2]=O[2];this.h=_;var l=_[0],x=_[1],t=_[2],h=this.ast,V=this.asH,y=this.U2*.85;if(!h)x=0;
this.iW[0].value=l;this.iW[1].value=x;var r=this.Y0;r.clearRect(0,0,100,100);l=Math.PI*l/180;x=y*(90-x)/90;
var E=this.U2+.5;r.save();r.translate(E,E);r.rotate(-l);r.strokeStyle="rgba(0,0,0,0.5)";r.beginPath();
r.ellipse(0,0,y,y*t,0,0,2*Math.PI);if(V){r.moveTo(0,-y*t);r.lineTo(0,y*t);r.moveTo(-x,0)}else r.moveTo(0,0);
r.lineTo(x,0);r.stroke();var a=this.U2*.15;r.fillStyle="black";r.beginPath();if(V){r.arc(0,-y*t,a*.66,0,2*Math.PI);
r.arc(0,y*t,a*.66,0,2*Math.PI)}if(h){r.arc(x,0,a*.4,0,2*Math.PI)}else{r.moveTo(E-a,-a*.66);r.lineTo(E,0);
r.lineTo(E-a,a*.66)}r.fill();r.restore();if(n)this.uN()};iq.prototype.uN=function(_){var n=parseInt(this.iW[0].value);
if(isNaN(n))n=0;var O=parseInt(this.iW[1].value);if(isNaN(O))O=0;n=n%360;O=O%360;this.c([n,O]);this.$(new e_(H.E.A,!1))};
iq.prototype.CC=function(_){L.hw(window,this.HD);L.LY(window,this.hA);var n=L.q1(_,this.T),E=0,a=1e9;
n.x-=this.U2;n.y-=this.U2;var O=this.h,l=O[0]*Math.PI/180,x=(90-O[1])/90,t=O[2],h=this.U2*.85,V=Math.sin(-l),y=Math.cos(-l),r=[new aW(y*h,V*h)];
if(this.asH)r.push(new aW(-V*h*t,y*h*t),new aW(V*h*t,-y*h*t));for(var m=0;m<r.length;m++){var S=aW.nT(n,r[m]);
if(S<a){a=S;E=m}}this.a8Q=E;if(E==0)this.fS(_)};iq.prototype.fS=function(_){var n=L.q1(_,this.T),O=this.a8Q,l=[],x=n.x-this.U2,t=n.y-this.U2,h=this.U2*.85;
if(O==0){var V=180*Math.atan2(-t,x)/Math.PI,y=90-90*Math.min(1,Math.sqrt(x*x+t*t)/h);if(_.shiftKey)V=Math.round(V/15)*15;
l=[Math.round(V),Math.round(y)]}else l=[null,null,Math.max(.01,Math.min(1,Math.sqrt(x*x+t*t)/h))];this.c(l);
this.$(new e_(H.E.A,!1))};iq.prototype.HO=function(_){this.$(new e_(H.E.A,!1));L.Xa(window,this.HD);
L.l4(window,this.hA)};function eI(_,n){b1.call(this);this.rf=0;this.nb=n;this.m=L.S("span","fitem angleinput");
if(_){this.Fx=L.S("label","flabel");this.an=_;this.m.appendChild(this.Fx)}this.T=L.S("canvas","gsicon");
this.Y0=this.T.getContext("2d");L.Bw(this.T,n,n);this.m.appendChild(this.T);L.H7(this.T);L.a9(this.T,this.CC.bind(this));
this.HD=this.fS.bind(this);this.hA=this.HO.bind(this);this.c(0)}eI.prototype=new b1;eI.prototype.f=function(){if(this.an)this.Fx.textContent=hU.get(this.an)+":"};
eI.prototype.KM=function(_){this.Fx.textContent=_};eI.prototype.b=function(){return this.rf};eI.prototype.ajg=function(_){var n=this.rf,O=Math.floor(n/3),l=n-O*3;
l=Math.max(0,Math.min(2,l+_.x));O=Math.max(0,Math.min(2,O+_.y));this.c(O*3+l)};eI.prototype.c=function(_){this.rf=_;
var n=this.T.width,O=Math.floor(_/3),l=_-3*O,x=(l+.5)*n/3,t=(O+.5)*n/3,h=this.Y0,V=[.5,Math.round(n/3)+.5,Math.round(2*n/3)+.5,n-.5];
h.clearRect(0,0,n,n);var y=this.nb<30;h.setLineDash([]);h.strokeStyle=y?"rgba(0,0,0,0.5)":"#000000";
h.beginPath();for(var m=0;m<4;m++){var r=V[m];h.moveTo(r,0);h.lineTo(r,n);h.moveTo(0,r);h.lineTo(n,r)}h.stroke();
if(_==9)return;if(!y){h.setLineDash([1,2]);var E=n*.53,a=Math.max(0,Math.min(n-E,x-E/2)),S=Math.max(0,Math.min(n-E,t-E/2));
h.strokeRect(Math.round(a)+.5,Math.round(S)+.5,Math.round(E),Math.round(E))}h.fillStyle="#000000";h.beginPath();
h.arc(x,t,n/8,0,Math.PI*2);h.fill()};eI.prototype.CC=function(_){L.hw(document.body,this.HD);L.LY(document.body,this.hA);
this.fS(_)};eI.prototype.fS=function(_){var n=L.q1(_,this.T),O=Math.max(0,Math.min(2,Math.floor(n.x/(this.nb/3)))),l=Math.max(0,Math.min(2,Math.floor(n.y/(this.nb/3))));
this.c(l*3+O)};eI.prototype.HO=function(_){this.$(new e_(H.E.A,!1));L.Xa(document.body,this.HD);L.l4(document.body,this.hA)};
function ch(ab){b1.call(this);this.m=L.S("span","fitem cswatch");this.a16=0;this.cN=[];this.uY=[];var _=this.avz.bind(this);
for(var m=0;m<ab;m++){this.cN.push(0);var n=L.S("span","colorsample");n.addEventListener("click",_,!1);
this.uY.push(n);this.m.appendChild(n)}var O=[16711680,65280,255,65535,16711935,16776960,0,8421504,16777215],l=Math.min(ab,O.length);
for(var m=0;m<l;m++)this.cN[m]=O[m];this.DN()}ch.prototype=new b1;ch.prototype.avz=function(_){this.a16=this.uY.indexOf(_.currentTarget);
this.$(new e_(H.E.A))};ch.prototype.b=function(){return this.cN[this.a16]};ch.prototype.c=function(_){var n=this.cN,O=n.indexOf(_);
if(O!=-1)n.splice(O,1);else n.pop();n.unshift(_);this.DN()};ch.prototype.DN=function(){for(var m=0;m<this.cN.length;
m++){this.uY[m].setAttribute("style","background-color:#"+Q.sN(this.cN[m]))}};function fS(_){b1.call(this);
this.af={o:0,J:0,k:0};this.XL=_;this.m=L.S("span","fitem colorsample");this.m.addEventListener("click",this.sd.bind(this),!1)}fS.prototype=new b1;
fS.prototype.f=function(){};fS.prototype.sd=function(_){var n=this.af;this.$(new e_("click"));var O=new e_(H.E.L,!0);
O.data={d:H.t.Rq,EW:"colorpicker",r1:n.o<<16|n.J<<8|n.k,gF:this.ug.bind(this),tK:this.XL};this.$(O)};
fS.prototype.ug=function(_){this.Is(_);this.$(new e_(H.E.A))};fS.prototype.hI=function(){this.sd(null)};
fS.prototype.agA=function(){var _=this.af;return _.o<<16|_.J<<8|_.k};fS.prototype.b=function(){return Q.N.YS(this.af)};
fS.prototype.Is=function(_){this.af={o:_>>16&255,J:_>>8&255,k:_&255};this.a1o()};fS.prototype.c=function(_){this.af=Q.N.JU(_);
this.a1o()};fS.prototype.a1o=function(){var _=this.af,n=_.o,O=_.J,l=_.k,x=n<<16|O<<8|l;this.m.setAttribute("style","background-color:#"+Q.sN(x))};
function gZ(){b1.call(this);this.hg=!1;this.LW=20;this.ajv=10;this.yA=0;this.hg=!1;this.Ff={o:255,J:0,k:0};
this.yN={o:0,J:0,k:0};this.m=L.S("canvas");this.H1();L.H7(this.m);L.a9(this.m,this.Zw.bind(this))}gZ.prototype=new b1;
gZ.prototype.aov=function(_){if(this.hg==_)return;this.hg=_;this.H1()};gZ.prototype.f=function(){};gZ.prototype.arU=function(_,n){function O(l){return{o:l>>16&255,J:l>>8&255,k:l&255}}if(_!=null)this.Ff=O(_);
if(n!=null)this.yN=O(n);this.H1()};gZ.prototype.Zw=function(_){var n=L.q1(_,this.m),O=n.x*L.V(),l=n.y*L.V(),x=this.LW,t=this.ajv,h=0;
if(O<t&&l<t){h=0}else if(O>x-t&&l>x-t){h=1}else if(O<t){h=2}else{h=3}this.hI(h)};gZ.prototype.hI=function(_){var n=new e_(H.E.L,!0);
if(_>1)n.data={d:H.t.Gf,nZ:gp.La,nz:_};else{this.yA=_;var O=_==0?this.Ff:this.yN;n.data={d:H.t.Rq,EW:"colorpicker",r1:O.o<<16|O.J<<8|O.k,gF:this.ug.bind(this)}}this.$(n)};
gZ.prototype.ug=function(_){var n=new e_(H.E.L,!0);n.data={d:H.t.Gf,nZ:gp.La,nz:this.yA,h:_};this.$(n)};
gZ.prototype.H1=function(){var _=this.m,n=_.getContext("2d"),O=L.V(),x="#aaaaaa",t=.62;L.Bw(_,34,34);
_.setAttribute("style",_.getAttribute("style")+";cursor:pointer");var l=this.LW=_.width,h=this.ajv=Math.round(l*t);
function V(P,b){var T=P.o,C=P.J,Z=P.k;if(b)T=C=Z=Math.round(Q.ls(T,C,Z));var W=T<<16|C<<8|Z;return"#"+Q.sN(W)}function y(n,P,b,T,C,Z){n.beginPath();
if(T>=Z*2&&C>=Z*2){n.moveTo(P+Z,b);n.lineTo(P+T-Z,b);n.quadraticCurveTo(P+T,b,P+T,b+Z);n.lineTo(P+T,b+C-Z);
n.quadraticCurveTo(P+T,b+C,P+T-Z,b+C);n.lineTo(P+Z,b+C);n.quadraticCurveTo(P,b+C,P,b+C-Z);n.lineTo(P,b+Z);
n.quadraticCurveTo(P,b,P+Z,b)}n.closePath()}function r(P,b,h,T,C){n.strokeStyle=C?C:"black";n.fillStyle=T;
y(n,P+.5,b+.5,h-1,h-1,h*.2);n.fill();n.stroke()}r(l-h,l-h,h,V(this.yN,this.hg));r(0,0,h,V(this.Ff,this.hg));
var E=l-h,a=Math.round(E*t);r(l-a,E-a,a,"white",x);r(l-E,0,a,"black",x);n.save();n.fillStyle=x;n.translate(0,l);
n.rotate(-Math.PI/2);E=l-h;var S=Math.round(E*.28),e=Math.round(E*.25);for(var m=0;m<2;m++){n.fillRect(S,S,E-S,1);
n.beginPath();n.moveTo(E-e,S+.5-e);n.lineTo(E,S+.5);n.lineTo(E-e,S+.5+e);n.closePath();n.fill();n.transform(0,1,1,0,0,0)}n.restore()};
function k8(_){aD.call(this,_,!1,"brushbutton nopadding",19,10,gp.fQ,!0);var n=this.a56;L.NT(n,"flexrow");
var O=L.S("div");n.appendChild(O);var l=L.S("div");n.appendChild(l);l.setAttribute("style","margin-left:8px");
this._K=new iq(null,null,!0);this._K.Z(H.E.A,this.hb,this);O.appendChild(this._K.m);this.lC=new jD([12,14,0],1,1e3," px",0,!0);
this.lC.Z(H.E.A,this.hb,this);l.appendChild(this.lC.m);this.tb=new jD([12,17],0,100,"%");this.tb.Z(H.E.A,this.hb,this);
l.appendChild(this.tb.m);this.VR=new gl(null,["<img src=\""+PIMG.prsO+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.prsS+"\" class=\"autoscale gsicon\" />"],!0,[[15,9,0],[15,9,1]]);
this.VR.Z(H.E.A,this.hb,this);l.appendChild(this.VR.m)}k8.prototype=new aD;k8.prototype.I2=function(){var _=["pencil","trees"];
for(var m=0;m<_.length;m++)_[m]="brushes/"+_[m]+".abr";return _};k8.prototype.c=function(_,n,O){this.aF=JSON.parse(JSON.stringify(_));
var l=Math.floor(20*L.V()),x=Math.floor(36*L.V()),t=Math.floor(24*L.V()),h=gh.XW(_,n,O,l,t,x);this.ve.setAttribute("src",h);
L.i8(this.ve,x,t);var V=_.Brsh.v;this.lC.c(V.Dmtr.v.val);if(V.Hrdn!=null){this.tb.M5();this.tb.c(V.Hrdn.v.val)}else this.tb.E0();
if(V.Angl!=null)this._K.c([V.Angl.v.val]);if(V.Rndn!=null)this._K.c([null,null,V.Rndn.v.val/100]);var y=[!1,!1];
if(_.opVr)y[0]=_.opVr.v.bVTy.v==2;if(_.szVr)y[1]=_.szVr.v.bVTy.v==2;this.VR.c(y)};k8.prototype.Rd=function(){return{list:[{t:"Objc",v:this.b()}],y7:[],gg:[]}};
k8.prototype.b=function(){return this.aF};k8.prototype.Oq=function(){if(!this.HU)return;var _=[],n=[],O=this.o$,l=Math.floor(33*L.V()),x=Math.floor(40*L.V());
for(var m=0;m<O.list.length;m++){var t=O.list[m].v,h=gh.XW(t,O.y7,O.gg,l,x);_.push(h);n.push(t.Nm.v.split("=").pop())}this.JQ.d$(_,n,l,x);
this.HU=!1};k8.prototype.Xw=function(_){var n=this.o$;this.c(n.list[this.JQ.b()[0]].v,n.y7,n.gg);this.$(new e_(H.E.A))};
k8.prototype.f=function(){aD.prototype.f.call(this);this._K.f();this.lC.f();this.tb.f()};k8.prototype.hb=function(_){var n=this.o$,O=this.aF,l=O.Brsh.v;
l.Dmtr.v.val=this.lC.b();if(l.Hrdn!=null)l.Hrdn.v.val=this.tb.b();if(l.Angl!=null)l.Angl.v.val=this._K.b()[0];
if(l.Rndn!=null)l.Rndn.v.val=Math.round(this._K.b()[2]*100);if(_.target==this.VR){var x=this.VR.b(),t=["opVr","szVr"],h=["usePaintDynamics","useTipDynamics"];
for(var m=0;m<2;m++){var V=t[m];if(O[V]==null)O[V]=JSON.parse(bL.MJ.Fq[V]);O[V].v.bVTy.v=x[m]?2:0;if(x[m])O[h[m]].v=!0}bL.MJ.ah_(O)}this.c(O,n.y7,n.gg);
this.$(new e_(H.E.A))};function eR(_){aD.call(this,_,!0,"contourbutton",17,10.5,gp.Ij)}eR.prototype=new aD;
eR.prototype.Xw=function(_){this.c(this.o$[_.target.b()]);this.$(new e_(H.E.A))};eR.prototype.cs=function(_){var n=new e_(H.E.L,!0);
n.data={d:H.t.Rq,EW:"contoureditor",l_:this.aF,response:this.akX.bind(this)};this.$(n)};eR.prototype.akX=function(_){this.c(_);
this.$(new e_(H.E.A))};eR.prototype.Oq=function(){if(!this.HU)return;var _=Math.floor(38*L.V()),n=Math.floor(38*L.V()),O=[],l=[],x=this.o$;
for(var m=0;m<x.length;m++){l.push(x[m].Nm?x[m].Nm.v:"");O.push(Q.xu.XW(x[m].Crv.v,_,n))}this.JQ.d$(O,l,_,n);
this.HU=!1};eR.prototype.c=function(_){this.aF=JSON.parse(JSON.stringify(_));var n=this.aF.Crv.v;for(var m=0;
m<n.length;m++)if(n[m].v.Cnty==null)n[m].v.Cnty={t:"bool",v:!0};this.Ec()};eR.prototype.Ec=function(){var _=Math.floor(30*L.V()),n=Math.floor(30*L.V()),O=Q.xu.XW(this.aF.Crv.v,_,n);
this.ve.setAttribute("src",O);L.i8(this.ve,_,n)};eR.prototype.b=function(){return JSON.parse(JSON.stringify(this.aF))};
function fN(_){b1.call(this);this.es=null;this.Yw=null;this._9=null;this.JM=null;this.ax$=[];this.akZ=[];
this.m=L.S("span","fitem fillbutton");this.iG=new b1;this.iG.m=L.S("div","floatcont form");this.iG.m.setAttribute("style","width: 21em;");
this.iG.parent=this;this.Cv=_;this.Fx=this.Fx=L.S("label","flabel");this.m.appendChild(this.Fx);this.T=L.S("canvas");
this.Y0=this.T.getContext("2d");this.aog=null;this.m.appendChild(this.T);L.a9(this.T,this.ko.bind(this));
this.NK=new im([12,66],["","Color","Grad","Patt"]);this.iG.m.appendChild(this.NK.m);this.NK.Z(H.E.A,this.CP,this);
this.iG.m.appendChild(L.S("hr"));this.ago=L.S("span");this.P2=new fS(!1);this.P2.parent=this.iG;this.P2.Z(H.E.A,this.CP,this);
this.WL=new ch(10);this.WL.Z(H.E.A,this.CP,this);this.Wx=L.S("div","marged hiline");this.Wx.appendChild(this.P2.m);
L.z0(this.Wx);this.Wx.appendChild(this.WL.m);this.Tl=new iP("GrFl",!0);this.Tl.parent=this.iG;this.Tl.Z(H.E.A,this.CP,this);
this.aj=L.S("div","marged hiline");var n="Grad Type Algn Angl Rvrs Scl Ofst".split(" ");for(var m=0;
m<n.length;m++){var O=this.Tl.Gj[n[m]].m;this.aj.appendChild(O)}this.mS=new iP("patternFill",!0);this.mS.parent=this.iG;
this.mS.Z(H.E.A,this.CP,this);this.il=L.S("div","marged hiline");var n=["Ptrn","Angl","Scl","Algn","phase"];
for(var m=0;m<n.length;m++){var O=this.mS.Gj[n[m]].m;this.il.appendChild(O)}}fN.prototype=new b1;fN.prototype.w1=function(_,n){var O=dr.fl(_,n);
if(O!=null)this.WL.c(O);if(n==gp.nL){this.ax$=[];this.akZ=[];if(this.es)this.c(this._9,this.b(),this.es)}this.Yw=_;
this.Tl.w1(_,n);this.mS.w1(_,n)};fN.prototype.f=function(){this.Fx.textContent=hU.get(this.Cv)+": ";
this.NK.f();this.P2.f();this.Tl.f();this.mS.f()};fN.prototype.CP=function(_){var n=_.currentTarget;if(n==this.NK){var O=this.NK.b(),l={xP:O,cK:this.es[O]};
if(O>0&&l.cK==null)l.cK=JSON.parse(JSON.stringify(aF.iS[O-1]));if(this.es)this.c(this._9,l,this.es)}if(n==this.WL)this.P2.Is(n.b());
this.$(new e_(H.E.A,!1))};fN.prototype.ko=function(_){if(L.PZ(this.iG.m))return;_.stopPropagation();
var n=this.T.getBoundingClientRect(),O=new e_(H.E.L,!0);O.data={d:H.t.X3,B_:this.iG,x:n.left,y:n.top+n.height+4};
this.$(O)};fN.prototype.c=function(_,n,O){this.es=O;this._9=_;var l=[[13,1,0],[13,0],[12,37],[12,62]],x=this.ax$,t=this.akZ,h=!1,E;
for(var m=0;m<4;m++){var V={xP:m,cK:O[m]},y=fN.ai6(V);if(t[m]==y)continue;h=!0;var r=fN.a8K(null,V,this.Yw,this._9,22,22,!1);
x[m]="<img width=\"22\" height=\"22\" src=\""+r+"\" />";t[m]=y}if(h)this.NK.aV(x,l);this.NK.c(n.xP);
var y=fN.ai6(n);if(y!=this.aog)fN.a8K(this.Y0,n,this.Yw,this._9,30,23,!0);this.aog=y;var a=n.xP;if(a==0){E=this.ago}if(a==1){this.P2.c(n.cK.Clr.v);
E=this.Wx}if(a==2){this.Tl.update(_,n.cK);E=this.aj}if(a==3){this.mS.update(_,n.cK);E=this.il}if(E!=this.JM){if(this.JM!=null){this.iG.m.removeChild(this.JM)}this.iG.m.appendChild(E);
this.JM=E}};fN.prototype.b=function(){var _={xP:this.NK.b()};if(_.xP==1){_.cK=JSON.parse(JSON.stringify(aF.iS[0]));
_.cK.Clr.v=this.P2.b()}if(_.xP==2){_.cK=this.Tl.b()}if(_.xP==3){_.cK=this.mS.b()}return _};fN.ai6=function(_){var n=_.xP,O=_.cK,l="empty";
if(n==1){l=Q.N.JU(O.Clr.v);l=l.o+","+l.J+","+l.k}if(n==2)l=JSON.stringify(O.Grad.v);if(n==3)l=O.Ptrn.v.Idnt.v;
return l};fN.a8K=function(_,n,O,l,x,t,h){if(_==null)_=fN.Y0;var V=Math.floor(x*L.V()),y=Math.floor(t*L.V()),r=_.canvas,E;
r.width=V;r.height=y;L.i8(r,V,y);var a=n.xP;if(a==0){_.fillStyle="#ffffff";_.fillRect(0,0,V,y);_.strokeStyle="#ff0000";
_.lineWidth=2;_.moveTo(0,0);_.lineTo(V,y);_.moveTo(0,y);_.lineTo(V,0);_.stroke()}if(a==1){var S=n.cK.Clr.v;
S=Q.N.JU(S);_.fillStyle="#"+Q.sN(S.o<<16|S.J<<8|S.k);_.fillRect(0,0,V,y)}if(a==2){D.de.XW(n.cK.Grad.v,V,y,0,O.KU,O.lV,_)}if(a==3){var e=n.cK.Ptrn.v,P;
if(l!=null)P=fW.mF(e,l.add.Patt);if(P==null)P=fW.mF(e,O.LK);hI.XW(P,V,y,r)}if(h){_.beginPath();_.strokeStyle="#000000";
_.fillStyle="#ffffff";_.lineWidth=2;var b=V*.7,T=Math.floor(y*.7),C=7*L.V();_.moveTo(b,T);_.lineTo(b+C,T);
_.lineTo(b+C/2,T+C/2);_.closePath();_.stroke();_.fill()}if(_==fN.Y0)return r.toDataURL()};fN.Y0=L.S("canvas").getContext("2d");
function hI(_){aD.call(this,_,!1,"patternbutton",18,10,gp.nL);this.GE=null}hI.prototype=new aD;hI.prototype.Xw=function(_){var n=this.o$[this.JQ.b()];
this.aF={classID:"Ptrn",Nm:{t:"TEXT",v:n.name},Idnt:{t:"TEXT",v:n.id}};this.$(new e_(H.E.A));this.Ec()};
hI.prototype.Oq=function(){if(!this.HU)return;var _=this.o$,n=Math.floor(34*L.V()),O=Math.floor(34*L.V()),l=[],x=[];
for(var m=0;m<_.length;m++){l.push(hI.XW(_[m],n,O));x.push(_[m].name)}this.JQ.d$(l,x,n,O);this.HU=!1};
hI.prototype.c=function(_,n){if(this.aF&&_.Idnt.v==this.aF.Idnt.v)return;this.aF=JSON.parse(JSON.stringify(_));
this.Ec(n)};hI.prototype.b=function(){return JSON.parse(JSON.stringify(this.aF))};hI.prototype.Rd=function(){return this.GE?[this.GE]:[]};
hI.prototype.Ec=function(_){var n=Math.floor(50*L.V()),O=Math.floor(50*L.V()),l;if(_!=null)l=fW.mF(this.aF,_.add.Patt);
if(l==null)l=fW.mF(this.aF,this.o$);this.GE=l;var x=hI.XW(l,n,O);this.ve.setAttribute("src",x);L.i8(this.ve,n,O)};
hI.T=L.S("canvas","");hI.XW=function(_,n,O,l){if(l==null)l=hI.T;var x=l.getContext("2d");l.width=n;l.height=O;
if(_){var t=_.vA[1],h=t.a,V=t.n,y=_.vA[0],r=Math.min(n/h,O/V),E=r;if(E*h<2)E=2/h;var a=r;if(a*V<2)a=2/V;
var S=D.D6.yn([y,t],new aY(E,0,0,a,0,0),E>2),e=S.rect.a,P=S.rect.n,b=x.createImageData(e,P);Q.Jt(S.buffer,b.data);
x.putImageData(b,Math.floor((n-e)/2),Math.floor((O-P)/2))}return l.toDataURL()};function h0(_,n,O){if(n==null)n=24.2;
if(O==null)O=17;aD.call(this,_,!1,"patternbutton",n,O,gp.co);this.MP=""}h0.prototype=new aD;h0.prototype.Xw=function(_){this.aF=JSON.parse(JSON.stringify(this.o$[0][this.JQ.b()[0]]));
this.$(new e_(H.E.A))};h0.prototype.Oq=function(){var _=this.o$;if(_==null||!this.HU)return;var n=Math.floor(50*L.V()),O=Math.floor(50*L.V()),l=[],x=[];
for(var m=0;m<_[0].length;m++){l.push(h0.XW(this.o$[0][m].Zg,n,O,this.o$[1]));x.push(_[0][m].jQ.Nm.v.split("=").pop())}this.JQ.d$(l,x,n,O);
this.HU=!1};h0.prototype.c=function(_,n,O,l){var x=JSON.stringify(_.Zg)+","+O+","+l;if(this.MP!=x){this.MP=x;
this.aF=JSON.parse(JSON.stringify(_));this.Ec(n,O,l)}};h0.prototype.b=function(){return JSON.parse(JSON.stringify(this.aF))};
h0.prototype.Ec=function(_,n,O){var l=Math.floor(68*L.V()),x=Math.floor(68*L.V()),t=h0.XW(this.aF.Zg,l,x,_?_:this.o$[1],n,O);
this.ve.setAttribute("src",t);L.i8(this.ve,l,x)};h0.XW=function(_,n,O,l,x,t){var h=new fJ;h.a=n;h.n=O;
h.buffer=Q.Q(n*O*4);h.add.Patt=l;h.mz(x==null?90:x);h.LC(t==null?30:t);var V=new a8(0,0,Math.round(n*.5),Math.round(O*.5));
V.x=Math.round((n-V.a)/2);V.y=Math.round((O-V.n)/2);var y=h.Ni();y.rect=V;y.buffer=Q.Q(V.O()*4);Q.qs(y.buffer,4284045657);
fW.ajZ(_,y,.5*100);h.B.push(y);h.dP();h.U();var r=ex.kj;ex.kj=!1;h.jN();var E=h.Cs();ex.kj=r;var a=dx.Qt(E.buffer,h.a,h.n);
return a};function gL(_){aD.call(this,null,!1,"tpresetbutton",18,24,gp.oy,!0);L.Gd(this.m,"fitem");this.JQ.jO(1);
this.id=_;this.Ec();this.d.style.overflow="hidden";this.g2=new dE([15,7,9]);this.g2.c(!0);this.g2.Z(H.E.A,this.aor,this);
this.FG.appendChild(this.g2.m)}gL.prototype=new aD;gL.prototype.ax4=function(_){if(this.id==_)return;
this.id=_;this.H5(this.o$)};gL.prototype.Xw=function(_){var n=this.o$[this.JQ.b()],O=new e_(H.E.L,!0);
O.data={d:H.t.Gf,E5:"set",nZ:gp.oy,a4:n};this.$(O)};gL.prototype.f=function(){aD.prototype.f.call(this);
this.g2.f()};gL.prototype.aor=function(){this.HU=!0;this.Oq()};gL.prototype.Oq=function(){if(!this.HU)return;
var _=Math.floor(16*L.V()),n=Math.floor(16*L.V()),O=[],l=[],x=this.o$,t=this.g2.b();for(var m=0;m<x.length;
m++){var h=D.akN(x[m]);if(!t||h==this.id){l.push(x[m][0]?x[m][0].split("=").pop():"");O.push(h==-1?"":PIMG[D.Zf[h][0]])}else{O.push(null);
l.push(null)}}this.JQ.d$(O,l,_,n);this.HU=!1};gL.prototype.Ec=function(){var _=this.ve;_.setAttribute("src",PIMG[D.Zf[this.id][0]]);
L.NT(_,"toolicon")};gL.prototype.Rd=function(){return null};gL.Ee={};gL.XW=function(_,n,O){var l=gL.Y0,x=gL.Ee,t=Q.sN(_.o<<16|_.J<<8|_.k);
if(x[t])return x[t];if(l==null){var h=L.S("canvas");l=gL.Y0=h.getContext("2d")}var h=l.canvas;h.width=n;
h.height=O;l.fillStyle="#"+t;l.fillRect(0,0,n,O);var V=x[t]=h.toDataURL();return V};function gc(_,n,O){b1.call(this);
this.m=L.S("span","fitem curveeditor");this.Ez=null;this.adJ=0;this.Pe="";this.mode=0;this.rm=_;this.ayT=n;
this.ary=O;this.wm=null;this.aO=null;this.ajp=0;this.axV=0;this.FI=new aW;this.H8=this.fS.bind(this);
this.xo=this.HO.bind(this);this.nb=256;this.T=L.S("canvas");this.Y0=this.T.getContext("2d");L.H7(this.T);
this.m.appendChild(this.T);this.A$(256,256);L.a9(this.T,this.CC.bind(this));this.coords=L.S("div");this.coords.setAttribute("style","width:250px");
this.m.appendChild(this.coords);var l=this.$D=O?100:255,x=null;this.Dr=new bd("X (in)",0,l,x,0,!1,!0);
this.oA=new bd("Y (out)",0,l,x,0,!1,!0);this.dL=new dE([19,3,0]);this.Dr.Z(H.E.A,this.Ne,this);this.oA.Z(H.E.A,this.Ne,this);
this.dL.Z(H.E.A,this.Ne,this);this.coords.appendChild(this.Dr.m);if(O)this.coords.appendChild(this.dL.m);
this.coords.appendChild(this.oA.m)}gc.prototype=new b1;gc.prototype.f=function(){this.dL.f();this.Dr.f();
this.oA.f()};gc.prototype.A$=function(_,n){this.nb=Math.round(_);this.Y0.resetTransform();L.Bw(this.T,this.nb,this.nb,this.Y0);
this.Y0.scale(this.nb/256,this.nb/256);if(this.wm)this.t6()};gc.prototype.Ne=function(_){var m=this.ayB(),n=this.wm[m],O=255/this.$D;
n.v.Hrzn.v=this.Dr.b()*O;n.v.Vrtc.v=this.oA.b()*O;if(this.ary)n.v.Cnty.v=this.dL.b();this.wm.sort(function(l,x){return l.v.Hrzn.v-x.v.Hrzn.v});
this.t6();this.$(new e_(H.E.A))};gc.prototype.c=function(_,m){var n=JSON.stringify(_);if(n==JSON.stringify(this.wm))return;
this.mode=_.length==256?1:0;this.wm=JSON.parse(n);if(m!=null)this.aO=this.wm[m];this.t6()};gc.prototype.pz=function(_,n,O){this.Ez=_;
this.adJ=n;this.Pe=O;this.t6()};gc.prototype.b=function(){return JSON.parse(JSON.stringify(this.wm))};
gc.prototype.ayB=function(){return this.wm.indexOf(this.aO)};gc.prototype.CC=function(_){var n=256/this.nb,O=L.q1(_,this.T);
O.x*=n;O.y*=n;var l=O.x,x=256-O.y;if(this.rm){var t=l;l=256-x;x=t}this.FI.BX(l,x);if(this.mode==0){var h=0,V=1e9,S;
for(var m=0;m<this.wm.length;m++){var y=this.wm[m].v,r=y.Hrzn.v-l,E=y.Vrtc.v-x,a=Math.sqrt(r*r+E*E);
if(a<V){V=a;h=m}}if(V<15)S=this.wm[h];else{S=Q.xu.PN(l,x,!0);this.wm.push(S);this.wm.sort(function(e,P){return e.v.Hrzn.v-P.v.Hrzn.v})}this.aO=S;
this.axV=this.wm.slice(0)}L.hw(document.body,this.H8);L.LY(document.body,this.xo);this.fS(_)};gc.prototype.fS=function(_){var n=256/this.nb,O=L.q1(_,this.T);
O.x*=n;O.y*=n;var l=O.x,x=256-O.y;if(this.rm){var t=l;l=256-x;x=t}if(this.mode==0){var h=this.wm,V=this.aO,y=this.axV,r=y.indexOf(V),E=h.indexOf(V)!=-1,a=y.length-1,S=l;
if(r==0){S=Math.max(0,Math.min(y[1].v.Hrzn.v-1,l))}else if(r==a){S=Math.min(255,Math.max(y[a-1].v.Hrzn.v+1,l))}else{var e=l<0||l>255||x<0||x>255;
if(l<=y[r-1].v.Hrzn.v||l>=y[r+1].v.Hrzn.v)e=!0;if(!e&&!E)h.splice(r,0,V);if(e&&E)h.splice(r,1)}if(this.ayT&&(r==0||r==y.length-1)){}else V.v.Hrzn.v=Math.round(S);
V.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(x)))}else{l=Math.round(l);x=Math.round(x);l=Math.max(0,Math.min(255,l));
x=Math.max(0,Math.min(255,x));var P=this.FI.x,b=l,T=this.FI.y,C=x;if(l<this.FI.x){b=P;P=l;C=T;T=x}this.wm[l]=x;
if(P!=b)for(var Z=P;Z<=b;Z++)this.wm[Z]=Math.round(T+(Z-P)*(C-T)/(b-P))}this.FI.BX(l,x);this.t6();this.$(new e_(H.E.A))};
gc.prototype.HO=function(_){L.Xa(document.body,this.H8);L.l4(document.body,this.xo);this.$(new e_(H.E.A))};
gc.prototype.t6=function(){var _=this.Y0,n=this.T;_.fillStyle="#ffffff";_.fillRect(0,0,256,256);var O=256/n.width;
if(this.Ez){_.save();_.translate(0,256);_.scale(1,-1);gq.auk(_,this.Ez,5700/this.adJ,this.Pe);_.restore()}_.strokeStyle="#aaaaaa";
_.lineWidth=1*O;_.beginPath();for(var m=1;m<4;m++){var l=(Math.floor(64*m/O)+.5)*O;_.moveTo(0,l);_.lineTo(255,l);
_.moveTo(l,0);_.lineTo(l,255)}_.stroke();if(this.rm){_.save();_.transform(0,1,-1,0,256,0)}if(this.mode==0){var x=this.wm,t=Q.xu.gz(x,256);
_.strokeStyle="#000000";_.beginPath();_.moveTo(0,255.5-t[0]);for(var m=0;m<256;m++)_.lineTo(m,255.5-t[m]);
_.stroke();_.lineWidth=2*O;for(var m=0;m<x.length;m++){var h=x[m].v;_.fillStyle=this.aO==x[m]?"#333":"#fff";
_.beginPath();_.moveTo(h.Hrzn.v,255.5-h.Vrtc.v);_.arc(h.Hrzn.v,255.5-h.Vrtc.v,5*O,0,2*Math.PI);_.stroke();
_.fill()}}else{var t=this.wm;_.strokeStyle="#000000";_.beginPath();_.moveTo(0,255.5-t[0]);for(var m=0;
m<256;m++)_.lineTo(m,255.5-t[m]);_.stroke()}if(this.rm)_.restore();var m=this.ayB();this.coords.className=m==-1?"disabled":"";
if(m==-1)return;var h=this.wm[m].v,V=255/this.$D;this.Dr.c(Math.round(h.Hrzn.v/V));this.oA.c(Math.round(h.Vrtc.v/V));
if(h.Cnty)this.dL.c(h.Cnty.v)};function gq(_,n){b1.call(this);this.m=L.S("span","");this.L8=new cB([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5],[12,82]]);
this.L8.Z(H.E.A,this.H1,this);this.m.appendChild(this.L8.m);L.z0(this.m);var O=L.S("div");this.m.appendChild(O);
O.setAttribute("style","background-color: var(--bg-canvas); margin:6px 0;");this.T=L.S("canvas");var l=this.T;
O.appendChild(l);l.width=Math.round(_*L.V());l.height=Math.round(100*L.V());L.i8(l,l.width,l.height);
l.style.display="block";this.Y0=l.getContext("2d");this.Ez=null;this.Oa=0;this.a22=null;this.a31=[];
this.rt=[];var x=["Mean:","Pixels:"],t=this.m;if(n)for(var m=0;m<x.length;m++){var h=new an(x[m]);this.a31.push(h);
t.appendChild(h.m);var V=new an("hi");this.rt.push(V);t.appendChild(V.m);L.z0(t)}}gq.prototype=new b1;
gq.prototype.f=function(){this.L8.f()};gq.prototype.jO=function(_){this.L8.c(_);this.H1()};gq.prototype.c=function(_,n){this.Ez=_;
this.a22=n;this.H1()};gq.prototype.Is=function(_){if(_==this.Oa)return;this.Oa=_;this.H1()};gq.prototype.H1=function(){if(this.Ez==null)return;
var _=this.T,n=this.Y0,O=this.Ez,l=this.a22,x=this.L8.b(),t=6e3/O[4],h="#"+Q.sN(this.Oa),V=gq.auk;_.width=_.width;
n.setTransform(_.width/256,0,0,-_.height/100,0,_.height);n.globalCompositeOperation="lighter";if(x==0)V(n,O[0],t/3,h);
else if(x<4)V(n,O[x],t,h);else{V(n,O[1],t,"#ff0000");V(n,O[2],t,"#00ff00");V(n,O[3],t,"#0000ff")}n.setTransform(1,0,0,1,0,0);
if(l!=null){if(x==4)x=0;var y=0;for(var m=0;m<256;m++)y+=m*O[x][m];if(x==0)y/=3;this.rt[0].c((y/l).toFixed(1)+"");
this.rt[1].c(l+"")}};gq.auk=function(_,n,O,l){_.beginPath();_.moveTo(0,0);for(var x=0;x<256;x++)_.lineTo(x,n[x]*O);
_.lineTo(256,0);_.closePath();_.fillStyle=l;_.fill()};function aM(_,n){b1.call(this);this.Bl={o:0,J:0,k:0};
if(Math.abs(_-256/L.V())<10)_=256/L.V();var O=this.m=L.S("div","flexrow");O.style.position="relative";
var l=this.ad$=L.S("div");O.appendChild(l);this.JT=new aW;this.O9=new aW;this.HD=this.atU.bind(this);
this.hA=this.apn.bind(this);this.T=L.S("canvas","");this.Y0=this.T.getContext("2d");this.T.width=this.T.height=256;
this.aql=this.Y0.getImageData(0,0,256,256);this.aiC=-1;this.agt="";L.H7(this.T);L.a9(this.T,this.a1B.bind(this));
l.appendChild(this.T);this.awu=this.abU.bind(this);this.aqp=this.ajO.bind(this);this.$0=L.S("canvas","");
this.Xe=this.$0.getContext("2d");this.$0.width=20;this.$0.height=256;this.a23=this.Xe.getImageData(0,0,20,256);
aM.ahz(this.a23.data,20,256);L.H7(this.$0);L.a9(this.$0,this.asw.bind(this));O.appendChild(this.$0);
this.T.setAttribute("style","width:"+_+"px; height:"+_+"px");this.$0.setAttribute("style","width:16px; height:"+_+"px");
this.Nx=new dE("Web Colors\u2001");this.Nx.Z(H.E.A,this.update,this);this.jt=new dE("CMYK gamut");this.jt.Z(H.E.A,this.update,this);
if(n){L.z0(l);l.appendChild(this.Nx.m);l.appendChild(this.jt.m)}var x=this.Cf=document.createElementNS("http://www.w3.org/2000/svg","svg");
O.appendChild(x)}aM.prototype=new b1;aM.prototype.A$=function(_,n){this.T.style.width=this.ad$.style.width=_-16+"px"};
aM.prototype.c=function(_){if(this.Nx.b()){var n=JSON.parse(JSON.stringify(_));aM.yh(n);var O=this.b();
if(n.o==O.o&&n.J==O.J&&n.k==O.k)_=this.Bl}this.Bl=_;this.update()};aM.prototype.b=function(){var _=JSON.parse(JSON.stringify(this.Bl));
if(this.Nx.b())aM.yh(_);return _};aM.prototype.update=function(){var _=this.Bl,n=Q.lM(_.o,_.J,_.k),V=18;
if(n.As==0)n.yj=this.JT.x/255;if(n.yj==0||n.As==0)n.bE=(255-this.MJ(this.O9.y))/255;if(n.As!=0)this.JT.x=n.yj*255;
this.JT.y=(1-n.As)*255;this.O9.y=(1-n.bE)*255;var O=this.aql,l=this.Nx.b(),x=this.jt.b(),t=l+","+x;if(Math.abs(n.bE-this.aiC)>.002||this.agt!=t){this.asi(O.data,256,256,n.bE,l,x);
this.aiC=n.bE;this.agt=t}var h=this.Y0;h.putImageData(O,0,0);O=this.a23;h=this.Xe;h.putImageData(O,0,0);
h.strokeStyle="#ffffff";h.beginPath();h.moveTo(0,this.O9.y);h.lineTo(20,this.O9.y);h.lineWidth=2;h.stroke();
var y=this.JT.y/255,r=parseFloat(this.T.style.width),E=parseFloat(this.T.style.height),a=this.Cf;a.setAttribute("width",V);
a.setAttribute("height",V);var S=Math.round(_.o*255)<<16|Math.round(_.J*255)<<8|Math.round(_.k*255),e="<circle cx=\""+V/2+"\" cy=\""+V/2+"\" r=\""+V/2+"\" fill=\"#"+Q.sN(S)+"\"></circle>";
e+="<circle cx=\""+V/2+"\" cy=\""+V/2+"\" r=\""+(-.5+V/2)+"\" fill=\"none\" stroke=\"rgba(255,255,255,"+(.5-.2*y)+")\" stroke-width=\"1\"></circle>";
e+="<circle cx=\""+V/2+"\" cy=\""+V/2+"\" r=\""+(-1.2+V/2)+"\" fill=\"none\" stroke=\"rgba(0,0,0,0.07)\" stroke-width=\"0.4\"></circle>";
a.innerHTML=e;a.style.pointerEvents="none";a.style.filter="drop-shadow(0px 3px 2px rgba(0,0,0,0.4)";
a.style.position="absolute";a.style.left=r*(this.JT.x/255)-V/2+"px";a.style.top=E*(this.JT.y/255)-V/2+"px"};
aM.yh=function(_){_.o=~~(.5+_.o*5)*.2;_.J=~~(.5+_.J*5)*.2;_.k=~~(.5+_.k*5)*.2};aM.prototype.asi=function(_,n,O,l,x,t){var h=1/n,V=1/O;
for(var y=0;y<O;y++)for(var r=0;r<n;r++){var E=Q.ax(l,r*h,(O-y-1)*V);if(x)aM.yh(E);var m=y*n+r<<2;_[m+0]=~~(E.o*255);
_[m+1]=~~(E.J*255);_[m+2]=~~(E.k*255);_[m+3]=255}if(t){var a=_.slice(0),S=fJ.lu[0],e=fJ.lu[1];ICC.U.applyLUT(e,S,a,a);
for(var m=0;m<_.length;m+=4){var P=_[m]-a[m],b=_[m+1]-a[m+1],T=_[m+2]-a[m+2],C=P*P+b*b+T*T;if(C>300)_[m]=_[m+1]=_[m+2]=200}}};
aM.ahz=function(_,n,O,l,x){if(l==null)l=1;if(x==null)x=0;var t=new Uint32Array(_.buffer);for(var h=0;
h<O;h++){var V=Q.ax((1+l*(1-h/O)+x)%1,1,1),y=255<<24|V.k*255<<16|V.J*255<<8|V.o*255;for(var r=0;r<n;
r++)t[h*n+r]=y}};aM.prototype.a1B=function(_){L.hw(window,this.HD);L.LY(window,this.hA);this.atU(_);
this.Cf.style.transition="transform 150ms cubic-bezier(.4,2.2,.6,.5)";this.Cf.style.transform="scale(2.4)"};
aM.prototype.apn=function(_){L.Xa(window,this.HD);L.l4(window,this.hA);this.Cf.style.transition="transform 200ms cubic-bezier(.4,2.2,.6,.5)";
this.Cf.style.transform="scale(1)"};aM.prototype.atU=function(_){var n=L.q1(_,this.T);n.x=n.x*(256/parseFloat(this.T.style.width));
n.y=n.y*(256/parseFloat(this.T.style.height));this.JT.BX(this.MJ(n.x),this.MJ(n.y));this.E3()};aM.prototype.E3=function(){this.Bl=this.ayn();
this.$(new e_(H.E.A))};aM.prototype.ayn=function(){var _=Q.ax((255-this.MJ(this.O9.y))/255,this.d3(this.JT.x/255),this.d3(1-this.JT.y/255));
return{o:_.o,J:_.J,k:_.k}};aM.prototype.asw=function(_){L.hw(window,this.awu);L.LY(window,this.aqp);
this.abU(_)};aM.prototype.ajO=function(_){L.Xa(window,this.awu);L.l4(window,this.aqp)};aM.prototype.abU=function(_){var n=L.q1(_,this.$0);
n.y=n.y*(256/parseFloat(this.$0.style.height));this.O9.BX(this.MJ(n.x),this.MJ(n.y));this.E3()};aM.prototype.MJ=function(_){return Math.max(0,Math.min(255,_))};
aM.prototype.d3=function(_){return Math.max(0,Math.min(1,_))};function ks(_,n,O,l){var x=im.a6(n,l);
im.call(this,_,x,O)}ks.prototype=new im;function gK(){b1.call(this);this.TG=null;this.Kj=new bX;this.Kj.Z(H.E.A,this.alh,this);
this.Kj.parent=this;this.OO=new bd([12,14,0],1,150,"px",0,!0);this.OO.Z(H.E.A,this.kb,this);this.OO.parent=this;
this.$l=new bd([16,0],.01,100,"px",2,!0,null,5);this.$l.Z(H.E.A,this.kb,this);this.$l.parent=this;this.Po=new dE("Auto");
this.Po.Z(H.E.A,this.kb,this);this.Sw=new bd([16,1],-500,5e3,"%",0,!0);this.Sw.Z(H.E.A,this.kb,this);
this.Sw.parent=this;this.e1=new bd("\u2B0D",1,300,"%",null,null,null,null,[[2,7],[22,4,3]]);this.e1.Z(H.E.A,this.kb,this);
this.e1.parent=this;this.vt=new bd("\u2B0C",1,300,"%",null,null,null,null,[[2,7],[22,4,2]]);this.vt.Z(H.E.A,this.kb,this);
this.vt.parent=this;this.iJ=new bd([16,2],-10,10,"px");this.iJ.Z(H.E.A,this.kb,this);this.iJ.parent=this;
this.Ak=new fS(!0);this.Ak.Z(H.E.A,this.r2,this);this.Ak.parent=this;this.Oz=new fS(!0);this.Oz.Z(H.E.A,this.r2,this);
this.Oz.parent=this;this.AN=new fS(!0);this.AN.Z(H.E.A,this.r2,this);this.AN.parent=this;this.st=new fS(!0);
this.st.Z(H.E.A,this.r2,this);this.st.parent=this;this.IY=new dE([2,3]);this.IY.Z(H.E.A,this.kb,this);
this.jp=new dE([14,9]);this.jp.Z(H.E.A,this.kb,this);this.h_=new dE([12,46]);this.h_.Z(H.E.A,this.kb,this);
this.o3=new cw("...",null,null,!0);this.o3.m.style.marginLeft="-8px";L.a9(this.o3.m,this.a0q.bind(this));
this.iG=new b1;var _=this.iG.m=L.S("div","floatcont form"),x=100;this.iG.parent=this;this.f9=new bd([12,41],1,20,"px",0,!0,!0);
this.f9.m.style.marginLeft="16px";this.f9.Z(H.E.A,this.kb,this);this.f9.parent=this.iG;_.appendChild(this.Oz.m);
_.appendChild(this.IY.m);L.z0(this.iG.m);_.appendChild(this.AN.m);_.appendChild(this.jp.m);_.appendChild(this.f9.m);
L.z0(this.iG.m);_.appendChild(this.st.m);_.appendChild(this.h_.m);this.MO=new cw("<img src=\""+PIMG["type/bold"]+"\" class=\"autoscale gsicon\" />");
this.mw=new cw("<img src=\""+PIMG["type/italic"]+"\" class=\"autoscale gsicon\" />");this.$v=new cw("<img src=\""+PIMG["type/caps"]+"\" class=\"autoscale gsicon\" />");
this.JE=new cw("<img src=\""+PIMG["type/scaps"]+"\" class=\"autoscale gsicon\" />");this.Nh=new cw("<img src=\""+PIMG["type/sub"]+"\" class=\"autoscale gsicon\" />");
this.nu=new cw("<img src=\""+PIMG["type/sup"]+"\" class=\"autoscale gsicon\" />");this.CX=new cw("<img src=\""+PIMG["type/under"]+"\" class=\"autoscale gsicon\" />");
this.$M=new cw("<img src=\""+PIMG["type/strike"]+"\" class=\"autoscale gsicon\" />");var n=[this.MO,this.mw,this.$v,this.JE,this.Nh,this.nu,this.CX,this.$M];
for(var m=0;m<n.length;m++)n[m].Z("click",this.ag3,this);this.WY=new cw("<img src=\""+PIMG["par/left"]+"\" class=\"autoscale gsicon\" />");
this.Of=new cw("<img src=\""+PIMG["par/right"]+"\" class=\"autoscale gsicon\" />");this.Gt=new cw("<img src=\""+PIMG["par/center"]+"\" class=\"autoscale gsicon\" />");
this.atA=new cw("<img src=\""+PIMG["par/jleft"]+"\" class=\"autoscale gsicon\" />");this.ahj=new cw("<img src=\""+PIMG["par/jright"]+"\" class=\"autoscale gsicon\" />");
this.a7m=new cw("<img src=\""+PIMG["par/jcenter"]+"\" class=\"autoscale gsicon\" />");this.a4p=new cw("<img src=\""+PIMG["par/jall"]+"\" class=\"autoscale gsicon\" />");
this.B0=[this.WY,this.Of,this.Gt,this.atA,this.ahj,this.a7m,this.a4p];for(var m=0;m<this.B0.length;m++)this.B0[m].Z("click",this.kb,this);
var O=["lind","rind","flind","bind","aind"],l=[];for(var m=0;m<5;m++)l.push("<img src=\""+PIMG["par/"+O[m]]+"\" class=\"autoscale gsicon\" /> ");
this.vK=new bd(l[0],-x,x,"px");this.m6=new bd(l[1],-x,x,"px");this.wJ=new bd(l[2],-x,x,"px");this.zM=new bd(l[3],-x,x,"px");
this.CS=new bd(l[4],-x,x,"px");this.T$=new im([12,33],["Abc ...","... \u0623\u064A \u0628\u064A"]);this.UN=new bd(["Auto VAR0",[16,0]],0,500,"%");
this.se=[this.vK,this.m6,this.wJ,this.zM,this.CS,this.T$,this.UN];for(var m=0;m<this.se.length;m++){var t=this.se[m];
t.Z(H.E.A,this.kb,this);t.parent=this}}gK.prototype=new b1;gK.prototype.a0q=function(_){if(L.PZ(this.iG.m))return;
_.stopPropagation();var n=this.o3.m.getBoundingClientRect(),O=new e_(H.E.L,!0);O.data={d:H.t.X3,B_:this.iG,x:n.left,y:n.top+n.height+4};
this.$(O)};gK.prototype.f=function(){this.Kj.f();this.OO.f();this.$l.f();this.Sw.f();this.iJ.f();this.e1.f();
this.vt.f();this.IY.f();this.jp.f();this.h_.f();this.f9.f();for(var m=0;m<this.se.length;m++)this.se[m].f()};
gK.prototype.c=function(_,n,O){this.Kw=JSON.parse(JSON.stringify(_));var l=this.Kw,x=l.oM,t=l.G1;this.MO.c(x.FauxBold!=null?x.FauxBold:!1);
this.mw.c(x.FauxItalic!=null?x.FauxItalic:!1);this.$v.c(x.FontCaps==2);this.JE.c(x.FontCaps==1);this.nu.c(x.FontBaseline==1);
this.Nh.c(x.FontBaseline==2);this.CX.c(x.Underline);this.$M.c(x.Strikethrough);this.Kj.c(x.Font==null?null:l.ZP[x.Font].Name,n,O);
var h=x.FontSize==null?20:x.FontSize;this.OO.c(h);var V=x.Tracking;this.Sw.c(V==null?0:V);this.f9.c(x._LineWidth!=null?x._LineWidth:1);
this.$l.c(x.Leading!=null&&x.Leading!=0?x.Leading:h);this.Po.c(x.AutoLeading);this.e1.c((x.VerticalScale!=null?x.VerticalScale:0)*100);
this.vt.c((x.HorizontalScale!=null?x.HorizontalScale:0)*100);this.iJ.c(x.BaselineShift!=null?x.BaselineShift:0);
this.IY.c(x.FillFlag!=null?x.FillFlag:!1);this.jp.c(x.StrokeFlag!=null?x.StrokeFlag:!1);this.h_.c(x._FillBackgroundFlag!=null?x._FillBackgroundFlag:!1);
this.tJ(x.FillColor,this.Ak);this.tJ(x.FillColor,this.Oz);this.tJ(x.StrokeColor,this.AN);this.tJ(x._FillBackgroundColor,this.st);
var y=t._Direction!=null?t._Direction:0,r=b$.Ir(t);for(var m=0;m<this.B0.length;m++)this.B0[m].c(r==m);
this.T$.c(y);this.UN.c((t.AutoLeading!=null?t.AutoLeading:1.2)*100);this.vK.c(t.StartIndent!=null?t.StartIndent:0);
this.m6.c(t.EndIndent!=null?t.EndIndent:0);this.wJ.c(t.FirstLineIndent!=null?t.FirstLineIndent:0);this.zM.c(t.SpaceBefore!=null?t.SpaceBefore:0);
this.CS.c(t.SpaceAfter!=null?t.SpaceAfter:0)};gK.prototype.tJ=function(_,n){if(_){var O=b$.JU(_);n.Is(Math.round(O.o)<<16|Math.round(O.J)<<8|Math.round(O.k))}else n.Is(0)};
gK.prototype.M8=function(){var _=new e_(H.E.L,!0);_.data={d:H.t.Gf,nZ:gp.j$,Kw:this.Kw};this.$(_);var _=new e_(H.E.s,!0);
_.G=D.K9;_.data={d:"updateStyles"};this.$(_)};gK.prototype.ag3=function(_){var n=this.Kw.oM,O=_.target,l=!O.ua();
if(O==this.MO)n.FauxBold=l;if(O==this.mw)n.FauxItalic=l;if(O==this.$v)n.FontCaps=l?2:0;if(O==this.JE)n.FontCaps=l?1:0;
if(O==this.nu)n.FontBaseline=l?1:0;if(O==this.Nh)n.FontBaseline=l?2:0;if(O==this.CX)n.Underline=l;if(O==this.$M)n.Strikethrough=l;
this.M8()};gK.prototype.kb=function(_){var n=this.Kw.oM,O=this.Kw.G1,l=_.target;if(l==this.Sw){var x=this.Sw.b();
n.Tracking=x}if(l==this.$l){n.AutoLeading=!1;n.Leading=this.$l.b()}if(l==this.Po){n.AutoLeading=this.Po.b()}if(l==this.f9)n._LineWidth=l.b();
if(l==this.OO)n.FontSize=l.b();if(l==this.e1)n.VerticalScale=l.b()/100;if(l==this.vt)n.HorizontalScale=l.b()/100;
if(l==this.iJ)n.BaselineShift=l.b();if(l==this.IY)n.FillFlag=l.b();if(l==this.jp)n.StrokeFlag=l.b();
if(l==this.h_)n._FillBackgroundFlag=l.b();if(this.B0.indexOf(l)!=-1){O.Justification=b$.Ir(O,this.B0.indexOf(l))}if(l==this.vK)O.StartIndent=l.b();
if(l==this.m6)O.EndIndent=l.b();if(l==this.wJ)O.FirstLineIndent=l.b();if(l==this.zM)O.SpaceBefore=l.b();
if(l==this.CS)O.SpaceAfter=l.b();if(l==this.T$)O._Direction=l.b();if(l==this.UN)O.AutoLeading=l.b()/100;
this.M8()};gK.prototype.alh=function(_){var n=this.Kw,O=this.Kj.b(),l=-1;for(var m=0;m<n.ZP.length;m++)if(n.ZP[m].Name==O)l=m;
if(l==-1){l=n.ZP.length;var x=JSON.parse(JSON.stringify(n.ZP[0]));x.Name=O;n.ZP.splice(l,0,x)}n.oM.Font=l;
this.M8()};gK.prototype.r2=function(_){var n=_.target,O=n.agA(),l={Type:1,Values:[1,(O>>16&255)/255,(O>>8&255)/255,(O>>0&255)/255]};
for(var m=0;m<4;m++)l.Values[m]=Math.round(l.Values[m]*1e3)/1e3;var x=n==this.Ak||n==this.Oz?0:n==this.AN?1:2;
this.Kw.oM[["FillColor","StrokeColor","_FillBackgroundColor"][x]]=l;this.M8()};function bX(){b1.call(this);
this.m=L.S("span","fontinput");this.yc=null;this._4=null;this._3=null;this.xl="";this.wt={};this.rC=[];
this.YP={};this.af1={};this.Wb=[];this.Gw=!1;this.dH=L.S("button","fitem");this.dH.setAttribute("style","width:9em;");
this.dH.textContent="Family Name \u25BC";this.m.appendChild(this.dH);L.a9(this.dH,this.a7s.bind(this));
this.aI=new b1;this.aI.parent=this;var _=this.aI.m=L.S("div","floatcont");_.style.padding="7px 7px 3px 7px";
var n=new an("Recent");_.appendChild(n.m);var O=this.aea=new cw([[23,6],[22,6,0]],!1,"Load OTF / TTF file from your computer",!0);
O.Z("click",this.apq,this);O.m.style.float="right";_.appendChild(O.m);L.z0(_);this.O_=L.S("span","fitem imageset scrollable");
this.O_.style.maxHeight="8em";_.appendChild(this.O_);var l=L.S("div","form");this.aI.m.appendChild(l);
this.w8=new cw(L.Gu("tools/cshape",null,"autoscale"),!1,"Show Favorites Only");this.w8.Z("click",this.a2b,this);
l.appendChild(this.w8.m);this.Xp=new g_([12,86],null,7.5);this.Xp.Z("input",this.MB,this);l.appendChild(this.Xp.m);
this.Cz=new jv(6.8,"\u2630");l.appendChild(this.Cz.m);this.Cz.parent=this.aI;this.Cz.Z(H.E.A,this.sy,this);
this.Cz.m.style.float="right";this.Cz.m.style.marginRight="0";this.xm=L.S("span","fitem imageset scrollable");
this.xm.style.height="30em";this.aI.m.appendChild(this.xm);this.xm.addEventListener("scroll",this.aqG.bind(this),!1);
this.T5=L.S("button","fitem");this.T5.setAttribute("style","width:7em;");this.T5.textContent="SubFamily Name \u25BC";
this.m.appendChild(this.T5);L.a9(this.T5,this.a7s.bind(this));this.yl=new b1;this.yl.parent=this;this.yl.m=L.S("div","floatcont");
this.e8=L.S("span","fitem imageset scrollable");this.yl.m.appendChild(this.e8);this.avU=this.arw.bind(this);
this.a8h=this.ajN.bind(this)}bX.prototype=new b1;bX.prototype.aqG=function(_){var n=this.xm.scrollTop,O=this.rC,l=Math.floor(n/27),x=Math.min(l+20,O.length);
for(var m=l;m<x;m++)this.amn(O[m])};bX.prototype.apq=function(){var _=new e_(H.E.L,!0);_.data={d:H.t.YI,ad6:".otf,.ttf,.ttc"};
this.$(_)};bX.prototype.f=function(){this.Cz.f();this.aea.f();this.w8.KM(L.Gu("tools/cshape",null,"autoscale"))};
bX.prototype.a2b=function(_){this.w8.c(!this.w8.ua());this.sy()};bX.prototype.MB=function(_){this.xl=this.Xp.b().toLowerCase();
this.sy()};bX.prototype.a7s=function(_){L.bO(_);var n=_.currentTarget,O=n.getBoundingClientRect(),l=n==this.dH,x=l?this.aI:this.yl;
if(L.PZ(x.m)){this.afg(x);return}if(!l&&this.yc.MV()[this._3]==null)return;var t=new e_(H.E.L,!0);t.data={d:H.t.X3,B_:x,x:O.left,y:O.top+O.height};
this.$(t);if(l){this.sy(null,!0)}};bX.prototype.arw=function(_){var n=_.currentTarget.firstChild.nextSibling.textContent;
if(_.target.tagName.toLowerCase()=="button"){var O=this._4.slice(0),l=O.indexOf(n);if(l==-1){O=O.slice(Math.max(0,O.length-29));
O.push(n)}else O.splice(l,1);var x=new e_(H.E.L,!0);x.data={d:H.t.Gf,nZ:gp.cO,t2:O};this.$(x);this.Gw=!0;
this.sy()}else{this.a7y(n,null)}};bX.prototype.ajN=function(_){this.a7y(null,_.currentTarget.firstChild.textContent)};
bX.prototype.a7y=function(_,n){var O=_==null?this.yl:this.aI,l=this.yc;if(_==null)_=l.MV()[this._3][0];
else{var x=l.Qs(_),t=l.MV()[this._3];n=g0.B1(x,t?t[1]:"regular")}var h=l.hy(_,n)[2];this.c(h,l);this.$(new e_(H.E.A,!1));
this.afg(O);this.sy()};bX.prototype.afg=function(_){var n=new e_(H.E.L,!0);n.data={d:H.t.sa,B_:_};this.$(n)};
bX.prototype.b=function(){return this._3};bX.prototype.c=function(_,n,O){var l=this.yc;if(_!=null)this._3=_;
else _=this._3;this.yc=n;this._4=O;if(_!=null){var x=n.MV()[_],t,h;if(x==null){t="- "+_;h="-------"}else{t=x[0];
h=x[1];var V=this.Wb;for(var m=0;m<V.length;m++)if(V[m][0][0]==t)V.splice(m,1);V.push([x,Date.now()]);
V.sort(function(a,S){return S[1]-a[1]});V=V.slice(0,10);L.I$(this.O_);for(var m=1;m<V.length;m++){var y=V[m][0],r=this.PH(y,!0);
this.VO(r,y,!0);this.O_.appendChild(r)}var E=n.Qs(t);E.sort(g0.afK);this.e8.textContent="";for(var m=0;
m<E.length;m++){var x=n.hy(t,E[m]);if(!this.Cz.RM(x))continue;var r=this.PH(x,!1);this.e8.appendChild(r)}}this.dH.textContent=t.substring(0,15)+" \u25BC";
this.dH.setAttribute("title",t+", \""+_+"\"");this.T5.textContent=h.substring(0,10)+" \u25BC";this.T5.setAttribute("title",h)}};
bX.prototype.sy=function(_,n){var O=this.yc.MV()[this._3],l=this._4,x=this.yc.$B();this.rC=[];for(var t in x){var h=l.indexOf(t)!=-1,V=this.yc.Qs(t),y=!1;
for(var m=0;m<V.length;m++){var r=this.yc.hy(t,V[m]),E=!0;if(this.xl.length>0&&r[0].toLowerCase().indexOf(this.xl)==-1)E=!1;
else if(!this.Cz.RM(r))E=!1;else if(this.w8.ua()&&!h)E=!1;if(E)y=!0}var a=this.wt[t];if(a==null){var S=g0.B1(x[t],"regular"),e=this.yc.hy(t,S),a=this.PH(e,!0);
this.wt[t]=a;this.xm.appendChild(a);this.YP[t]="[true,false,false]"}if(y)this.rC.push(t);var P=O!=null&&O[0]==t;
this.af1[t]="["+y+","+P+","+h+"]";if(!n)this.amn(t)}if(O&&!this.Gw){var b=this.wt[O[0]];this.xm.scrollTop=b.offsetTop-210}this.aqG();
this.Gw=!1};bX.prototype.amn=function(_){var n=this.wt[_];if(n.firstChild==null){var O=this.yc.$B(),l=g0.B1(O[_],"regular"),x=this.yc.hy(_,l);
this.VO(n,x,!0)}var t=this.YP[_],h=this.af1[_];if(t==h)return;var V=JSON.parse(t),y=JSON.parse(h);if(V[0]!=y[0]||V[1]!=y[1]){var r=y[0]?"":"display:none; ";
if(y[1])r+="background-color:rgba(0,0,0,0.13);";n.setAttribute("style",r)}if(V[2]!=y[2])n.firstChild.setAttribute("style","opacity: "+(y[2]?"1":"0.2"));
this.YP[_]=h};bX.prototype.PH=function(_,n){var O=L.S("div","fontitem");if(!n)this.VO(O,_,n);return O};
bX.prototype.VO=function(_,n,O){var l=n[O?0:1],x=O?this.avU:this.a8h,y="";_.addEventListener("click",x,!1);
if(O)_.appendChild(L.S("button","star"));var t=L.S("span","label");t.setAttribute("title",l);t.textContent=l;
_.appendChild(t);var h=L.V(),V=1/h,r=g0.i4*V,E=g0.IL*V;if(1<h&&h<1.5)y="width:"+r+"px; height:"+E+"px;";
var a=L.S("span","thumb gsicon");if(n.a52){y+="background: url("+n.a52+");";if(1<h&&h<1.5)y+="background-size: "+r+"px "+E+"px;"}else{var S=Math.ceil(FNTS.list.length/g0.cols),e=Math.floor(n.tE/S),P=n.tE%S,b=e*g0.i4,T=P*g0.IL;
if(1<h&&h<1.5){y+="background-size: "+g0.cols*r+"px "+S*E+"px;";b*=V;T*=V}y+="background-position:-"+b+"px -"+T+"px;"}a.setAttribute("style",y);
_.appendChild(a)};function jv(_,n){b1.call(this);this.m=L.S("button","fitem bbtn");this.m.addEventListener("click",this.am0.bind(this),!1);
this.iG=new b1;this.iG.m=L.S("div","floatcont");this.iG.parent=this;this.Tk=L.S("div","flexrow");this.iG.m.appendChild(this.Tk);
this.lp=n;this.BL=[];this.Nr=[];var O=this.Tk,l=L.S("div",""),x=L.S("div","");O.appendChild(l);O.appendChild(x);
this.hE=[];for(var m=0;m<FNTS.cats.length;m++)this.hE.push({name:FNTS.cats[m],index:m,xA:0});this.Xh=new dE([7,0]);
this.Xh.c(!0);this.Xh.Z(H.E.A,this.auZ,this);l.appendChild(this.Xh.m);this.QW=L.S("div","vlist marged scrollable");
this.QW.setAttribute("style","width:10.3em; height:"+_+"em; ");l.appendChild(this.QW);this.RY=[];for(var m=0;
m<this.hE.length;m++){var t=this.hE[m],h=new dE(t.name);this.RY.push(h);h.Z(H.E.A,this.abx,this);h.c(!0);
this.QW.appendChild(h.m);this.BL.push(1)}this.a8n=new dE([7,0]);this.a8n.Z(H.E.A,this.a9Z,this);this.Bm=L.S("div","vlist marged scrollable");
this.Bm.setAttribute("style","width:8.6em; height:"+(_+1.5)+"em; ");x.appendChild(this.Bm);this.KH=[];
for(var m=0;m<FNTS.subsetNames.length;m++){var h=new dE(FNTS.subsetNames[m]);this.KH.push(h);h.Z(H.E.A,this.a5$,this);
h.c(!1);this.Bm.appendChild(h.m);this.Nr.push(h.b()?1:0)}}jv.prototype=new b1;jv.prototype.au6=function(_){var n=this.KH;
for(var m=0;m<n.length;m++){var O=(_>>>m&1)==1;this.Nr[m]=O;n[m].c(O)}};jv.prototype.acy=function(){return this.Tk};
jv.prototype.f=function(){this.m.textContent=this.lp?this.lp:hU.get([25,1,0])+" \u25BC";this.Xh.f();
this.a8n.f()};jv.prototype.am0=function(_){var n=this.m.getBoundingClientRect(),O=new e_(H.E.L,!0);O.data={d:H.t.X3,B_:this.iG,x:n.left,y:n.top+n.height,Fc:!1};
this.$(O)};jv.prototype.RM=function(_){if(this.BL[_[4]]==0)return!1;else for(var n=0;n<this.Nr.length;
n++)if(this.Nr[n]==1&&(_[3]>>>n&1)==0)return!1;return!0};jv.prototype.auZ=function(_){var n=_.target.b(),O=this.RY,l=this.BL;
for(var m=0;m<O.length;m++){O[m].c(n);l[m]=n?1:0}this.$(new e_(H.E.A,!1))};jv.prototype.a9Z=function(_){var n=_.target.b(),O=this.KH,l=this.Nr;
for(var m=0;m<O.length;m++){O[m].c(n);l[m]=n?1:0}this.$(new e_(H.E.A,!1))};jv.prototype.abx=function(_){var m=this.RY.indexOf(_.target),n=this.hE[m].index;
this.BL[n]=1-this.BL[n];this.$(new e_(H.E.A,!1));this.ay_(this.RY,this.Xh)};jv.prototype.a5$=function(_){var m=this.KH.indexOf(_.target);
this.Nr[m]=1-this.Nr[m];this.$(new e_(H.E.A,!1))};jv.prototype.ay_=function(_,n){var O=!0;for(var m=0;
m<_.length;m++)O=O&&_[m].b();n.c(O)};function d0(_,n,O){aD.call(this,n,!0,"gradientbutton",18,10,gp.Eq);
this.KU=-1;this.lV=-1;this.a7f=null;this.aaJ=_;this.XL=O}d0.prototype=new aD;d0.prototype.Xw=function(_){var n=this.o$;
this.c(n[this.JQ.b()]);this.$(new e_(H.E.A))};d0.prototype.cs=function(_){var n=new e_(H.E.L,!0);n.data={d:H.t.Rq,EW:"gradienteditor",N:this.aF,gF:this.ayU.bind(this),tK:this.XL};
this.$(n)};d0.prototype.ayU=function(_){this.c(_);this.$(new e_(H.E.A))};d0.prototype.Oq=function(){if(!this.HU)return;
var _=Math.floor(36*L.V()),n=Math.floor(36*L.V()),O=[],l=[],x=this.o$,t=Date.now();for(var m=0;m<x.length;
m++){var h=x[m];l.push(h.Nm?h.Nm.v.split("=").pop():"");var V=D.de.XW(h,_,n,Math.PI/4,this.KU,this.lV);
O.push(V)}this.JQ.d$(O,l,_,n);this.HU=!1};d0.prototype.Db=function(_,n){this.aoR(this.aF,_,n)};d0.prototype.c=function(_){this.aoR(_,this.KU,this.lV)};
d0.prototype.aoR=function(_,n,O){this.KU=n;this.lV=O;if(_==null)return;var l=JSON.stringify(_),x=l+n+","+O;
if(x==this.a7f)return;this.a7f=x;this.aF=JSON.parse(l);var t=Math.floor(80*L.V()),h=Math.floor(16*L.V()),V=D.de.XW(this.aF,t,h,0,this.KU,this.lV);
this.ve.setAttribute("src",V);L.i8(this.ve,t,h)};d0.prototype.b=function(){var _;if(this.aaJ)_=D.de.a7_(this.aF,this.KU,this.lV);
else _=JSON.parse(JSON.stringify(this.aF));return _};function fX(_){aD.call(this,_,!1,"swatchbutton",16,8.75,gp.BB)}fX.prototype=new aD;
fX.prototype.Xw=function(_){this.c(this.o$[_.target.b()]);this.$(new e_(H.E.A))};fX.prototype.Oq=function(){if(!this.HU)return;
var _=Date.now(),n=Math.floor(10*L.V()),O=Math.floor(10*L.V()),l=[],x=[],t=this.o$;for(var m=0;m<t.length;
m++){x.push(t[m].cR?t[m].cR.split("=").pop():"");l.push(fX.XW(t[m],n,O))}this.JQ.d$(l,x,n,O);this.HU=!1};
fX.prototype.c=function(_){this.aF=JSON.parse(JSON.stringify(_));this.Ec()};fX.prototype.Ec=function(){var _=Math.floor(24*L.V()),n=Math.floor(20*L.V()),O=fX.XW(this.aF,_,n);
this.ve.setAttribute("src",O);L.i8(this.ve,_,n)};fX.prototype.b=function(){return JSON.parse(JSON.stringify(this.aF))};
fX.Ee={};fX.XW=function(_,n,O){var l=fX.Y0,x=fX.Ee,t=Q.sN(_.o<<16|_.J<<8|_.k);if(x[t])return x[t];if(l==null){var h=L.S("canvas");
l=fX.Y0=h.getContext("2d")}var h=l.canvas;h.width=n;h.height=O;l.fillStyle="#"+t;l.fillRect(0,0,n,O);
var V=x[t]=h.toDataURL();return V};function bk(_,n,O){b1.call(this);this.m=L.S(O?"div":"span");var l=this.K1=L.S("input");
this.K1.setAttribute("type","file");if(n)l.setAttribute("multiple","");this.K1.addEventListener("change",this.ael.bind(this),!1);
this.abt=this.avH.bind(this);this.iH={};this.v4=0;this.G5=_;var x=this.a4Y=new cw(hU.get(_)+" (0)",null,null,!0);
this.m.appendChild(x.m);x.addEventListener("click",function(t){l.click()});if(O){this.GC=L.S("div","scrollable");
this.GC.setAttribute("style","height:120px; width:100%; line-height:1.5em;");this.m.appendChild(this.GC);
this.H1()}}bk.prototype=new b1;bk.prototype.c=function(_){};bk.prototype.b=function(_){return this.iH};
bk.prototype.ael=function(_){var n=_.target.files;this.v4=n.length;this.iH={};for(var m=0;m<n.length;
m++){var O=n[m],l=new FileReader;l.onload=this.abt;l.an=O.name;l.readAsArrayBuffer(O)}this.a4Y.KM(hU.get(this.G5)+" ("+n.length+")")};
bk.prototype.avH=function(_){var n=this.iH[_.target.an]=new Uint8Array(_.target.result);this.v4--;if(this.v4==0){if(this.GC)this.H1();
this.$(new e_(H.E.A));this.K1.value=null}};bk.prototype.H1=function(){var _=this.GC;L.I$(_);for(var n in this.iH){var O=L.S("div");
O.textContent=n;_.appendChild(O)}};function gE(_,n,O,l,x){if(_==null)_=!1;if(n==null)n=!1;if(O==null)O=!1;
b1.call(this);this.Bz=new aW;this.dK=new aW;this.Tt=72;this.O1=72;this.Xz=!0;this._T=!1;this.m=L.S("span");
this.xf=new bd([12,41],0,0,null,0,!1,!0);this.m.appendChild(this.xf.m);this.xf.Z(H.E.A,this.CP,this);
var t=["px","%"];if(_)t=t.concat(["mm","in"]);if(x){t=[[12,76,2],[12,76,6]];if(_)t=t.concat([[12,76,5],[12,76,3]])}this.vc=new cB(null,t);
this.m.appendChild(this.vc.m);L.z0(this.m);this.vc.Z(H.E.A,this.CP,this);this.xv=new bd([12,42],0,0,null,0,!1,!0);
this.m.appendChild(this.xv.m);this.xv.Z(H.E.A,this.CP,this);var h=new cw("\u21F5",!1,null,!0);h.Z("click",this.agI,this);
this.Ep=new cw("<img src=\""+PIMG["lrs/chain"]+"\" class=\"autoscale gsicon\" />",!1,[12,51]);this.Ep.Z("click",this.CP,this);
this.U6=new an("");this.U6.m.style.margin="0";this.U6.m.style.padding="0";if(n){this.m.appendChild(this.Ep.m);
this.m.appendChild(this.U6.m);this.Ep.tV()}else this.m.appendChild(h.m);this.k3=new bd("DPI",0,0,null,3,!1,!0,4);
this.wq=new cB(null,[["VAR0 / Inch",[12,76,2]],["VAR0 / Cm",[12,76,2]]]);if(_&&l==null){L.z0(this.m);
this.m.appendChild(this.k3.m);this.m.appendChild(this.wq.m)}this.wq.Z(H.E.A,this.CP,this);this.k3.Z(H.E.A,this.CP,this);
this.lZ=new dE([12,23,1]);this.lZ.Z(H.E.A,this.CP,this);if(O){L.z0(this.m);this.m.appendChild(this.lZ.m)}L.z0(this.m)}gE.prototype=new b1;
gE.prototype.wl=function(){this.xf.wl()};gE.prototype.a0o=function(_,n){this.Xz=_;if(n!=null)this._T=n;
if(!this.Xz&&!this._T&&this.vc.b()==0){this.vc.c(3);this.mK()}};gE.prototype.aen=function(_){this.Ep.c(_)};
gE.prototype.f=function(){this.xf.f();this.xv.f();this.k3.f();this.wq.f();this.Ep.f();this.lZ.f();this.vc.f()};
gE.prototype.agI=function(_){var n=this.dK.x;this.dK.x=this.dK.y;this.dK.y=n;this.mK();this.$(new e_(H.E.A,!1))};
gE.prototype.CP=function(_){if(_.target==this.vc&&!this.Xz&&!this._T&&this.vc.b()==0)this.vc.c(3);if(_.target==this.vc||_.target==this.lZ){this.mK();
return}if(_.target==this.Ep)_.target.c(!_.target.b());var n=this.Bz,O=parseFloat(this.xf.b());if(isNaN(O))O=1;
var l=parseFloat(this.xv.b());if(isNaN(l))l=1;var x=this.k3.b()*[1,2.54][this.wq.b()],t=this.vc.b();
if(this.Xz){var h=this.O1;if(t==1){O=this.Bz.x*(O/100);l=this.Bz.y*(l/100)}var V=[1,1,25.4/h,1/h][t];
O/=V;l/=V;if(this.lZ.b()){O+=this.Bz.x;l+=this.Bz.y}if(_.target==this.k3){var y=x;if(!this._T){var r=y/h;
O*=r;l*=r}h=y}if(this.Ep.b()){if(_.target==this.xf)l=O*(n.y/n.x);else O=l*(n.x/n.y)}O=Math.max(Math.abs(O),1);
l=Math.max(Math.abs(l),1)}else{var h=this.Tt;if(_.target==this.k3)h=x;else{if(this.Ep.b()){if(_.target==this.xf)l=O*(n.y/n.x);
else O=l*(n.x/n.y)}var V=[1,1,25.4/h,1/h][t],E=O/(t==1?100:n.x*V);h=h/E}O=n.x;l=n.y}this.dK=new aW(Math.round(O),Math.round(l));
this.O1=h;this.mK();this.$(new e_(H.E.A,!1))};gE.prototype.ak1=function(m){this.vc.c(m);this.mK()};gE.prototype.c=function(_,n,O){if(O!=!0)this.Bz=_.clone();
this.dK=_.clone();if(n!=null){this.Tt=n;this.O1=n}this.mK()};gE.prototype.mK=function(){var _=this.dK.x,n=this.dK.y,O=this.O1,l=(_/n).toFixed(3);
while(l.charAt(l.length-1)=="0")l=l.substring(0,l.length-1);if(l.charAt(l.length-1)==".")l=l.substring(0,l.length-1);
var x="  "+l+" : 1",t=function(E,a){while(a!=0){var S=a;a=E%a;E=S}return E},h=t(_,n);if(Math.min(_,n)/h<10)x="  "+Math.round(_/h)+" : "+Math.round(n/h);
this.U6.c(x);if(this.lZ.b()){_-=this.Bz.x;n-=this.Bz.y}var V=this.vc.b();if(V==1){if(this.Xz){_=100*_/this.Bz.x;
n=100*n/this.Bz.y}else{_=n=100*this.Tt/this.O1}}else{_=Math.round(_);n=Math.round(n)}var y=[1,1,25.4/O,1/O][V];
_*=y;n*=y;var r=V==1||V==3?2:0;this.xf.ev(r);this.xv.ev(r);this.xf.c(_);this.xv.c(n);this.k3.c(O*[1,1/2.54][this.wq.b()])};
gE.prototype.b=function(){return this.dK.clone()};gE.prototype.fw=function(){return this.O1};function k5(_,n,O){b1.call(this);
var l=_==0?["W","X","H","Y"]:["\u250F","\u2513","\u2517","\u251B"];this.g8=_;this.amM=n;this.Dx=1;this.p9=[1,1,0];
var x=this.m=L.S("div","numlist"),t=this._W=[];for(var m=0;m<4;m++){var h=new bd(l[m],0,0,null,2,!1,!0,4,null,O&&(m==0||m==2));
h.Z(H.E.A,this.CP,this);x.appendChild(h.m);t[m]=h;if(m==1||m==3)L.z0(x)}t[4]=new dE(_==0?[12,51]:[12,91,2]);
t[4].c(!0);x.appendChild(t[4].m)}k5.prototype=new b1;k5.prototype.f=function(){var _=this._W;for(var m=0;
m<5;m++)_[m].f();if(this.g8==0)L.Nb(_[0],_[2])};k5.prototype.c=function(_,n,O){if(n)this.p9=n;n=this.p9;
var l=O?_:this.g8==0?[_[2],_[0],_[3],_[1]]:[_[0],_[1],_[3],_[2]];this.Dx=l[0]/l[2];for(var m=0;m<4;m++){var x=this._W[m];
x.ev(n[2]==0&&this.amM?0:2);x.c(Q.k4.ae3(l[m],n[0],n[1],n[2]))}};k5.prototype.b=function(_){var n=[],O=this.p9;
for(var m=0;m<4;m++){var l=Q.k4.dJ(this._W[m].b(),O[0],O[1],O[2]);n[m]=this.amM?Math.round(l):l}return _?n:this.g8==0?[n[1],n[3],n[0],n[2]]:[n[0],n[1],n[3],n[2]]};
k5.prototype.CP=function(_){var n=this.g8,O=this._W.indexOf(_.currentTarget),l=this.b(!0),x=this._W[4].b();
if(n==0){l[0]=Math.max(1,l[0]);l[2]=Math.max(1,l[2]);if(x&&O==0)l[2]=l[0]/this.Dx;if(x&&O==2)l[0]=l[2]*this.Dx}if(n==1){l[O]=Math.max(0,l[O]);
if(x)for(var m=0;m<4;m++)l[m]=l[O]}this.c(l,null,!0);this.$(new e_(H.E.A,!1))};function iZ(){b1.call(this);
this.nF=0;this.rt=[0,0,1,1,100,100];this.m=L.S("span","fitem");this.Tf=new cB(null,[[12,89,0],[12,89,1],[12,89,2]]);
this.m.appendChild(this.Tf.m);this.Tf.Z(H.E.A,this.CP,this);this.xf=new bd("W",0,0,null,0,!1,!0);this.m.appendChild(this.xf.m);
this.xf.Z(H.E.A,this.CP,this);this.xv=new bd("H",0,0,null,0,!1,!0);this.m.appendChild(this.xv.m);this.xv.Z(H.E.A,this.CP,this);
this.c({Rv:0,x:0,y:0})}iZ.prototype=new b1;iZ.prototype.f=function(){L.Nb(this.xf,this.xv);this.Tf.f()};
iZ.prototype.CP=function(_){if(_.target==this.Tf){var n=this.b(),O=this.rt;O[this.nF*2]=n.x;O[this.nF*2+1]=n.y;
this.nF=n.Rv;this.c({Rv:n.Rv,x:O[n.Rv*2],y:O[n.Rv*2+1]})}if(this.xf.b()<1)this.xf.c(1);if(this.xv.b()<1)this.xv.c(1);
this.$(new e_(H.E.A,!1))};iZ.prototype.c=function(_){this.Tf.c(_.Rv);this.xf.c(_.x);this.xv.c(_.y);if(_.Rv==0){this.xf.E0();
this.xv.E0()}else{this.xf.M5();this.xv.M5()}};iZ.prototype.b=function(){return{Rv:this.Tf.b(),x:this.xf.b(),y:this.xv.b()}};
function e6(_){b1.call(this);this.m=L.S("span","");this.ahK=_;this.j2=new bb("Off X",-100,100,_?"%":"px",0,!1);
this.Cd=new bb("Off Y",-100,100,_?"%":"px",0,!1);this.j2.Z(H.E.A,this.CP,this);this.Cd.Z(H.E.A,this.CP,this);
this.m.appendChild(this.j2.m);this.m.appendChild(this.Cd.m)}e6.prototype=new b1;e6.prototype.f=function(){this.j2.f();
this.Cd.f()};e6.prototype.CP=function(_){this.$(new e_(H.E.A,!1))};e6.prototype.a0r=function(_){this.j2.c(_.x);
this.Cd.c(_.y)};e6.prototype.arE=function(){return new aW(this.j2.b(),this.Cd.b())};e6.prototype.c=function(_,n){var O=_.Hrzn.v,l=_.Vrtc.v;
if(this.ahK){O=O.val;l=l.val}this.j2.c(O);this.Cd.c(l);if(n==!0)this.CP()};e6.prototype.b=function(){var _=this.j2.b(),n=this.Cd.b();
if(this.ahK)return{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:_}},Vrtc:{t:"UntF",v:{type:"#Prc",val:n}}};
else return{classID:"Pnt",Hrzn:{v:_,t:"doub"},Vrtc:{v:n,t:"doub"}}};function bT(){b1.call(this);this.m=L.S("span","fitem strokebutton");
this.iK=[[null,null,null,50,""],[null,0,null,50,"4 2"],[1,1,null,50,"0 2"]];this.rs=JSON.parse(JSON.stringify(aF.eo.default));
this.LS=L.S("button");this.m.appendChild(this.LS);L.a9(this.m,this.ko.bind(this));var _=L.S("canvas","gsicon");
this.Y0=_.getContext("2d");this.LS.appendChild(_);var n=L.S("span");n.textContent=" \u25BC";this.LS.appendChild(n);
this.iG=new b1;this.iG.parent=this;this.iG.m=L.S("div","floatcont form");var O=this.iG.m;O.setAttribute("style","width: 16.7em;");
this.wt=[new cB([12,40],[[19,5,2],[19,5,1],[19,5,0]]),new im([19,9,0],["<img src=\""+PIMG["caps/butt"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/square"]+"\" class=\"autoscale gsicon\" />"]),new im([19,9,1],["<img src=\""+PIMG["joins/miter"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/bevel"]+"\" class=\"autoscale gsicon\" />"]),new bd("Limit",0,50,null,null,null,!0,2.5),new g_([19,9,2])];
for(var m=0;m<this.wt.length;m++){var l=this.wt[m];O.appendChild(l.m);l.Z(H.E.A,this.CP,this)}L.z0(O);
this.uY=[];var x=this.Ny.bind(this);this.rs.strokeStyleLineWidth.v.val=3;for(var m=0;m<this.iK.length;
m++){var t=L.S("button","fitem");this.uY.push(t);O.appendChild(t);t.addEventListener("click",x,!1);var _=L.S("canvas","gsicon"),h=_.getContext("2d");
t.appendChild(_);this.a3r(h,40,20,this.iK[m])}this.rs.strokeStyleLineWidth.v.val=1}bT.prototype=new b1;
bT.prototype.ko=function(_){if(L.PZ(this.iG.m))return;_.stopPropagation();var n=this.LS.getBoundingClientRect(),O=new e_(H.E.L,!0);
O.data={d:H.t.X3,B_:this.iG,x:n.left,y:n.top+n.height+4};this.$(O)};bT.prototype.CP=function(_){var n=this.wt,O=[];
for(var m=0;m<5;m++)O.push(n[m].b());this.rs=this.afM(O);this.$(new e_(H.E.A,!1))};bT.prototype.Ny=function(_){var n=this.uY.indexOf(_.currentTarget);
this.c(this.afM(this.iK[n]));this.$(new e_(H.E.A,!1))};bT.prototype.afM=function(_){var n=JSON.parse(JSON.stringify(this.rs)),O=_[0],l=_[1],x=_[2],t=_[3],h=_[4];
if(O!=null)n.strokeStyleLineAlignment.v.strokeStyleLineAlignment=aF.eo._R[O];if(l!=null)n.strokeStyleLineCapType.v.strokeStyleLineCapType=aF.eo.vl[l];
if(x!=null)n.strokeStyleLineJoinType.v.strokeStyleLineJoinType=aF.eo.join[x];n.strokeStyleMiterLimit.v=t;
var V=n.strokeStyleLineDashSet.v=[];h=h.split(" ");while((h.length&1)!=0)h.pop();for(var m=0;m<h.length;
m++)V.push({t:"UntF",v:{type:"#Nne",val:parseInt(h[m])}});return n};bT.prototype.f=function(){for(var m=0;
m<this.wt.length;m++)this.wt[m].f()};bT.prototype.c=function(_){this.rs=JSON.parse(JSON.stringify(_));
var n=aF.eo._R.indexOf(_.strokeStyleLineAlignment.v.strokeStyleLineAlignment),O=aF.eo.vl.indexOf(_.strokeStyleLineCapType.v.strokeStyleLineCapType),l=aF.eo.join.indexOf(_.strokeStyleLineJoinType.v.strokeStyleLineJoinType),x=_.strokeStyleMiterLimit.v,t=[],h=_.strokeStyleLineDashSet.v;
for(var V=0;V<h.length;V++)t.push(h[V].v.val);var y=this.wt;y[0].c(n);y[1].c(O);y[2].c(l);y[3].c(x);
y[3].Nf(l==0);y[4].c(t.join(" "));var r=[];for(var m=0;m<5;m++)r.push(y[m].b());this.a3r(this.Y0,40,16,r)};
bT.prototype.b=function(){return JSON.parse(JSON.stringify(this.rs))};bT.prototype.a3r=function(_,n,O,l){var x=l[0],t=l[1],h=l[2],V=l[3],y=l[4].split(" ").map(parseFloat);
L.Bw(_.canvas,n,O);var r=Math.min(5,this.rs.strokeStyleLineWidth.v.val);for(var m=0;m<y.length;m++)y[m]*=r;
_.clearRect(0,0,n,O);_.setLineDash(y);_.lineCap=["butt","round","square"][t];_.lineJoin=["miter","round","bevel"][h];
_.lineWidth=r;_.beginPath();_.moveTo(0,O/2);_.lineTo(n*2,O/2);_.stroke()};function d$(_){aD.call(this,_,!1,"contourbutton",34,16,gp.$h,!0);
this.Xp=new g_([12,86],null,16);this.Xp.Z("input",this.MB,this);this.iG.m.appendChild(this.Xp.m);this.hH=null;
this.xl="";this.CA=null;this.c(fu.gV())}d$.prototype=new aD;d$.prototype.f=function(){aD.prototype.f.call(this);
this.Xp.f()};d$.prototype.Xw=function(_){this.c(this.hH[_.target.b()[0]]);this.$(new e_(H.E.A))};d$.prototype.MB=function(_){this.xl=this.Xp.b().toLowerCase();
this.aeP()};d$.ao6=!1;d$.prototype.Oq=function(){if(!this.HU)return;var _=this.o$;if(_==null||!d$.ao6){var n=new e_(H.E.L,!0);
n.data={d:H.t.wE,nZ:{url:"rsrc/basic/fa_basic.csh"}};this.$(n);d$.ao6=!0}else{var O=Math.floor(38*L.V()),l=Math.floor(38*L.V());
this.CA=[];for(var m=0;m<_.length;m++)this.CA.push(d$.asX(_[m],O,l));this.aeP();this.HU=!1}};d$.prototype.aeP=function(){var _=Math.floor(38*L.V()),n=Math.floor(38*L.V());
this.hH=[];var O=[],l=[],x=this.o$;for(var m=0;m<x.length;m++){if(x[m].oS.toLowerCase().indexOf(this.xl)==-1)continue;
this.hH.push(x[m]);O.push(this.CA[m]);l.push(x[m].oS)}this.JQ.d$(O,l,_,n)};d$.prototype.c=function(_){this.aF=d$.clone(_);
this.Ec()};d$.prototype.Ec=function(){var _=Math.floor(23*L.V()),n=Math.floor(23*L.V()),O=d$.asX(this.aF,_,n);
this.ve.setAttribute("src",O);L.i8(this.ve,_,n)};d$.prototype.b=function(){return d$.clone(this.aF)};
d$.clone=function(_){return{oS:_.oS,jQ:_.jQ,i:v.ez.qD(_.i),hT:_.hT.clone()}};d$.T=null;d$.bP=null;d$.asX=function(_,n,O){var l=v.ez.qD(_.i),x=_.hT,t=Math.min(n/x.a,O/x.n)*.9,h=new aY;
h.translate(-.5,-.5);h.scale(.95,.95);h.translate(.5,.5);h.scale(t*x.a,t*x.n);Q.M.qp(l,h);var V=new v.ez;
V.i=l;var y=V.Ek();y.rect.x=Math.floor((n-y.rect.a)/2);y.rect.y=Math.floor((O-y.rect.n)/2);var r=Q.Q(y.rect.O()*4);
Q.$c(y.channel,r,3);var E=d$;if(E.T==null)E.T=L.S("canvas");var a=E.T,S=a.getContext("2d");if(a.width!=n||a.height!=O||E.bP==null){a.width=n;
a.height=O;E.bP=S.createImageData(n,O)}var e=E.bP;e.data.fill(0);Q.zw(r,y.rect,e.data,new a8(0,0,n,O));
S.putImageData(e,0,0);return a.toDataURL()};function ao(_){aD.call(this,_,!1,"ICCButton",16,12,gp.D4,!0);
this.JQ.jO(1)}ao.prototype=new aD;ao.prototype.I2=function(){var _="Arabica 12,Ava 614,Azrael 93,Bourbon 64,Byers 11,Clayton 33,Clouseau 54,Cobi 3,Contrail 35,Cubicle 99,Django 25,Domingo 145,Faded 47,Folger 50,Fusion 88,Hyla 68,Chemical 168,Korben 214,Lenox 340,Lucky 64,McKinnon 75,Milo 5,Neon 770,Paladin 1875,Pasadena 21,Pitaya 15,Reeve 38,Remy 24,Sprocket 231,Teigen 28,Trent 18,Tweed 71,Vireo 37,Zed 32,Zeke 39".split(",");
for(var m=0;m<_.length;m++)_[m]="luts/"+_[m]+".CUBE";return _};ao.prototype.Xw=function(_){this.c(this.o$[_.target.b()]);
this.$(new e_(H.E.A))};ao.prototype.Oq=function(){if(!this.HU)return;var _=Math.floor(1*L.V()),n=Math.floor(1*L.V()),O=[],l=[],x=this.o$;
for(var m=0;m<x.length;m++){var t=x[m].Nm.v.split("\\").pop().split("/").pop();l.push(t);O.push(ao.XW(x[m],_,n))}this.JQ.d$(O,l,_,n);
this.HU=!1};ao.prototype.c=function(_){this.aF=JSON.parse(JSON.stringify(_));this.Ec()};ao.XW=function(_,n,O){var l=L.S("canvas"),h="ICC / 3DL / look / cube";
l.width=n;l.height=O;var x=l.getContext("2d"),t=Math.floor(14*L.V());x.font=t+"px sans-serif";if(_.Nm)h=_.Nm.v.split("\\").pop().split("/").pop();
x.fillText(h,10,t);return l.toDataURL()};ao.prototype.Ec=function(){var _=Math.floor(120*L.V()),n=Math.floor(20*L.V());
this.ve.setAttribute("src",ao.XW(this.aF,_,n));L.i8(this.ve,_,n)};ao.prototype.b=function(){return JSON.parse(JSON.stringify(this.aF))};
function fx(){b1.call(this);this.Bl=null;this.m=L.S("span","fitem");this.yP=new fN([14,9]);this.NW=new bd(null,0,150,"px",1,!0,null,null,[19,2,5]);
this.Ry=new bT;this.Y7=[this.yP,this.NW,this.Ry];for(var m=0;m<this.Y7.length;m++){var _=this.Y7[m];
this.m.appendChild(_.m);_.parent=this;_.Z(H.E.A,this.CP,this)}}fx.prototype=new b1;fx.prototype.f=function(){for(var m=0;
m<this.Y7.length;m++)this.Y7[m].f()};fx.prototype.w1=function(_,n){this.yP.w1(_,n)};fx.prototype.CP=function(_){var n=this.Bl,O=this.yP.b(),l=O.xP;
n.strokeEnabled.v=l!=0;if(l!=0){n.strokeStyleContent.v=O.cK;O.cK.classID=aF.eo.yz[l-1]}n.strokeStyleLineWidth.v.val=this.NW.b();
if(_.target==this.Ry)n=this.Ry.b();this.Bl=n;this.$(new e_(H.E.A,!1))};fx.prototype.c=function(_,n,O){this.Bl=JSON.parse(JSON.stringify(n));
var l=n.strokeEnabled.v,x=n.strokeStyleContent.v,t=l?{xP:1+aF.eo.yz.indexOf(x.classID),cK:x}:{xP:0};
this.yP.c(_,t,O);this.NW.c(n.strokeStyleLineWidth.v.val);this.Ry.c(n)};fx.prototype.b=function(){return JSON.parse(JSON.stringify(this.Bl))};
function gF(_){var n=[[18,0],[18,1],[18,2],[18,3]],O=im.a6(["set/front","set/union","set/difference","set/intersection"]);
im.call(this,_?[12,36]:null,O,n)}gF.prototype=new im;function d1(){b1.call(this);this.m=L.S("button","fitem bbtn");
L.a9(this.m,this.ko.bind(this));this.iG=new b1;this.iG.m=L.S("div","floatcont form");this.iG.m.setAttribute("style","max-width: 200px;");
this.iG.parent=this;var _=jD;this.Tm=[new dE("Start"),new dE("End"),new _([12,41],0,100,"px",null,!0,null,!0),new _([12,80,0],0,100,"px",null,!0,null,!0),new _("Concavity",-50,50,"%",null,null,null,!0)];
for(var m=0;m<this.Tm.length;m++){var n=this.Tm[m];n.parent=this;n.Z(H.E.A,this.E3,this);this.iG.m.appendChild(n.m)}this.abM=L.S("div");
this.iG.m.appendChild(this.abM)}d1.prototype=new b1;d1.prototype.c=function(_){for(var m=0;m<5;m++)this.Tm[m].c(_[m]);
this.H1()};d1.prototype.b=function(_){var n=[];for(var m=0;m<5;m++)n[m]=this.Tm[m].b();return n};d1.prototype.f=function(){this.m.textContent=hU.get([12,93,4]);
for(var m=0;m<this.Tm.length;m++)this.Tm[m].f()};d1.prototype.E3=function(_){this.$(new e_(H.E.A,!1));
this.H1()};d1.prototype.H1=function(_){var n=this.b(),O=200,l=60;n[2]/=L.V();n[3]/=L.V();var x=Q.M.tm.MU(0,l/2,O,l/2,5,n),t=Q.M.hY(x);
this.abM.innerHTML="<svg width=\""+O+"\" height=\""+l+"\" class=\"gsicon\">\t\t\t<path d=\""+t.SD+"\" />\t\t\t</svg>"};
d1.prototype.ko=function(_){if(L.PZ(this.iG.m))return;_.stopPropagation();var n=this.m.getBoundingClientRect(),O=new e_(H.E.L,!0);
O.data={d:H.t.X3,B_:this.iG,x:n.left,y:n.top+n.height,Fc:!0};this.$(O)};function fo(){b1.call(this);
this.m=L.S("div");this._W=[];this.awD=[];var _=this.Zd=L.S("div"),n=L.S("h2");n.textContent="Create Teams";
_.appendChild(n);n.style.margin="26px 0 16px 0";var O=new cw("More about Teams",!1,null,!0);n.appendChild(O.m);
O.m.style.float="right";O.Z("click",this.asS,this);this.BK=L.S("div");_.appendChild(this.BK);this.a0C=new g_("Team Name",null,10);
_.appendChild(this.a0C.m);var l=this.avc=new cw("Create Team",null,null,!0);_.appendChild(l.m);l.Z("click",this.aaK,this);
var n=L.S("h2");n.textContent="Join Teams";_.appendChild(n);n.style.margin="26px 0 16px 0";this.SS=L.S("div");
_.appendChild(this.SS);this.a6x=new g_("Team ID",null,10);_.appendChild(this.a6x.m);var l=new cw("Join Team",null,null,!0);
_.appendChild(l.m);l.Z("click",this.aaK,this);this.a6n;this.a9I=this.dN.bind(this);this.a0p=this.atQ.bind(this);
this.qB=!1;this.vI();this.R5=null;this.alr=""}fo.prototype=new b1;fo.prototype.asS=function(_){var n=new e_(H.E.L,!0);
n.data={d:H.t.Fn,link:"https://www.photopea.com/api/accounts#teams"};this.$(n)};fo.prototype.vI=function(){clearTimeout(this.a86);
this.a86=setTimeout(this.a0p,this.R5?10:3e3)};fo.prototype.atQ=function(){var _=iM.iq();if(document.hidden||!L.PZ(this.m)||_==null){this.vI();
return}var n=iM.gM();if(this.R5==null&&n==null)return;iM.kJ(this.R5?this.R5:n,this.a9I);this.qB=!0;this.R5=null};
fo.prototype.aw0=function(_){_.acc.update=!0;this.m.style.pointerEvents="none";this.m.style.opacity="0.5";
if(this.qB)this.R5=_;else{clearTimeout(this.a86);iM.kJ(_,this.a9I)}};fo.prototype.qV=function(_){var n=typeof _=="string"?this.a6n:this._W.indexOf(_.target),O=this.awD[n],l=O[0],x=iM.gM();
if(x==null)x={};var t=x.acc,V=t.tjoin,y=t.tstart;if(l=="leave"){V.splice(V.indexOf(O[1]),1)}if(l=="add"||l=="remove"||l=="delTeam"||l=="showRename"||l=="rename"){var r=-1,E=0;
for(var m=0;m<y.length;m++){E+=y[m][1].length;if(y[m][2]==O[1])r=m}var a=y[r];if(l=="add"){var S=iM.Sg();
if(S[0]==0&&S[1][2]<=E){alert("You can have at most "+S[1][2]+" members in your Premium.");return}a[1].push(O[2])}if(l=="remove")a[1].splice(a[1].indexOf(O[2]),1);
if(l=="delTeam"){if(a[1].length!=0){alert("Remove members first.");return}y.splice(r,1)}if(l=="showRename"){var e=new e_(H.E.L,!0);
e.data={d:H.t.Rq,EW:"namewindow",KB:a[0],_f:this.qV.bind(this)};this.$(e);this.a6n=n;O[0]="rename";return}if(l=="rename")a[0]=_}this.aw0(x)};
fo.prototype.aaK=function(_){var n=this.avc==_.target,O=(n?this.a0C:this.a6x).b().trim();if(O==""){alert("The Team "+(n?"Name":"ID")+" is empty.");
return}if(!n){O=parseInt(O);if(isNaN(O)){alert("The ID must be a number");return}}var l=iM.gM();if(l==null)l={};
var x=l.acc;if(x==null)x=l.acc={};var t=x.tstart,h=x.tjoin;if(n){if(t==null)t=x.tstart=[];if(t.length>5){alert("You can have at most 5 teams");
return}t.push([O,[]])}else{if(t)for(var m=0;m<t.length;m++)if(t[m][2]==O){alert("You are the owner of this team");
return}if(h==null)h=x.tjoin=[];if(h.indexOf(O)!=-1){alert("You already asked to join this team.");return}x.tjoin.push(O)}x.update=!0;
this.aw0(l)};fo.prototype.dN=function(){this.qB=!1;var _=iM.iq(),n=_!=null,O=this.Zd.parentNode!=null;
if(n!=O){L.I$(this.m);if(n)this.m.appendChild(this.Zd);else this.m.textContent="Log In to access Team Settings."}if(!n)return;
var l=iM.gM();if(l==null)l={};var x=l.acc;if(x==null)x={};var t=JSON.stringify(x)+"===="+JSON.stringify(_);
if(t!=this.alr){this.alr=t;var h=this.BK,V=this.SS;L.I$(h);L.I$(V);var y=this._W=[],r=this.awD=[],E=this.qV.bind(this);
function a(N,o){N.addEventListener("click",E);y.push(N);r.push(o)}function S(s,N){var g=L.S("div"),o="rgba(255,255,255,0.15)";
g.appendChild(P("ID: "+s[2],44,o));g.appendChild(P(s[0],160,null,!0));if(N){g.appendChild(P(s[1].length+" members",80,null,!0))}else{g.appendChild(P(s[1]==-1?"... not accepted yet":"Accepted",160));
if(Date.now()<s[1]*1e3)g.appendChild(P("Premium",80,"rgba(0,140,0,1)"))}var X=P("",120);g.appendChild(X);
X.setAttribute("style","float:right;text-align:right");if(N){var J=new cw("Rename",null,null,!0);a(J,["showRename",s[2]]);
X.appendChild(J.m)}var J=new cw(N?"Delete":"Leave",null,null,!0);a(J,[N?"delTeam":"leave",s[2]]);X.appendChild(J.m);
return g}function e(N,o,F){var g=L.S("div");g.style.paddingLeft="36px";g.appendChild(P(o?"\u2713":"...",8,o?"#229922":"#aa7700"));
g.appendChild(P(N[1],200));g.appendChild(P(N[2],240));var X=P("",120);g.appendChild(X);X.setAttribute("style","float:right;text-align:right");
var J=new cw(o?"Remove":"Add",null,null,!0);a(J,[o?"remove":"add",F,N[0]]);X.appendChild(J.m);return g}function P(N,o,X,J){var c=L.S("span");
c.textContent=N;c.setAttribute("style","display:inline-block;  padding:0 10px;  border-radius:4px;  overflow:hidden;  width:"+o+"px;  "+(X!=null?"background-color:"+X+";":"")+(J?"font-weight:bold;":""));
return c}var b=x.tstart,T=x.tjoin,C=_.wantToJoin,Z=_.inTeams;if(b)for(var W=0;W<b.length;W++){var s=b[W],f=C["t"+s[2]];
if(f==null)f=[];var q={};for(var m=0;m<f.length;m++)q["u"+f[m][0]]=f[m];var g=S(s,!0);h.appendChild(g);
g.style.marginTop="10px";for(var m=0;m<s[1].length;m++){var i=s[1][m],u=q["u"+i];if(u==null)u=[i,"========","... user has left your team"];
delete q["u"+i];var I=e(u,!0,s[2]);h.appendChild(I)}for(var Y in q){var u=q[Y],I=e(u,!1,s[2]);h.appendChild(I)}}if(T){var U={};
for(var m=0;m<Z.length;m++)U["t"+Z[m][2]]=Z[m];for(var W=0;W<T.length;W++){var F=T[W],s=U["t"+F],g=S(s?s:["==========",-1,F],!1);
V.appendChild(g)}}this.$(new e_(H.E.A))}if(this.R5==null){this.m.style.pointerEvents="auto";this.m.style.opacity="1"}this.vI()};
function hJ(){b1.call(this);this.O0=[16,!0,!0];this.m=L.S("span","");this.ft=[new bd([12,24],0,255),new dE([12,25,1]),new dE([12,25,0])];
for(var m=0;m<3;m++){var _=this.ft[m];_.parent=this;_.c(this.O0[m]);this.m.appendChild(_.m);_.Z(H.E.A,this.CP,this)}}hJ.prototype=new b1;
hJ.prototype.CP=function(){for(var m=0;m<3;m++)this.O0[m]=this.ft[m].b();this.$(new e_(H.E.A,!1))};hJ.prototype.c=function(_){this.O0=_.slice(0);
for(var m=0;m<3;m++)this.ft[m].c(_[m])};hJ.prototype.b=function(){return this.O0.slice(0)};hJ.prototype.f=function(){for(var m=0;
m<3;m++)this.ft[m].f()};function cE(_,n){b1.call(this);if(n==null)n=!1;this.CA=[];this.x4=Math.floor(120*L.V());
this.a1_=Math.floor(23*L.V());this.WA=0;this.gx=[];this.Fw=[];for(var O in Q.Q6.type){if(O=="warpCustom"&&!n)continue;
this.gx.push(O);this.Fw.push(Q.Q6.type[O])}this.m=L.S("span","fitem warpbutton");this.iG=new b1;this.iG.m=L.S("div","floatcont");
if(_){this.G5=_;this.Fx=L.S("label","flabel");this.m.appendChild(this.Fx)}this.d=L.S("button");this.m.appendChild(this.d);
L.a9(this.d,this.ko.bind(this));this.No=new d9(!0);this.iG.m.appendChild(this.No.m);this.No.Z(H.E.A,this.a9$,this);
this.iG.m.setAttribute("style","width:"+Math.floor(8+this.x4/L.V())+"px;");this.f()}cE.prototype=new b1;
cE.prototype.KM=function(_){this.Fx.textContent=_};cE.prototype.f=function(){if(this.G5)this.Fx.innerHTML=hU.get(this.G5)+":";
this.Ec()};cE.a9u={};cE.axh=function(_,n,O){var l=hU.get(Q.Q6.type[_]),x=l+"-"+_+"-"+n+"-"+O,t=cE.a9u[x];
if(t)return t;var h=cE.Y0;if(V==null){var V=L.S("canvas");h=cE.Y0=V.getContext("2d")}var V=h.canvas;
if(V.width!=n||V.height!=O){V.width=n;V.height=O}h.font=Math.floor(13*L.V())+"px sans-serif";h.lineWidth=1;
h.strokeStyle="#000000";var y=Math.floor(16*L.V()),r=new a8(0,0,y,y);h.clearRect(0,0,V.width,V.height);
var E=Q.Q6.Q6(r,_,!0,.3,0,0),a=Q.p.ta(r);a.F.push("M","L","M","L");a.C.push(0,y/2,y,y/2);a.C.push(y/2,0,y/2,y);
a=Q.p.OK(a);a=Q.p.Gz(a,y/5);Q._I.D(E,a.C,r);Q.p.D(a.C,new aY(1,0,0,1,Math.floor(8*L.V())+.5,Math.floor(3*L.V())+.5),a.C);
h.beginPath();Typr.U.pathToContext({cmds:a.F,crds:a.C},h);h.stroke();h.fillText(l,Math.floor(40*L.V()),Math.floor(16*L.V()));
t=cE.a9u[x]=V.toDataURL();return t};cE.prototype.ko=function(_){if(L.PZ(this.iG.m))return;_.stopPropagation();
var n=this.x4,O=this.a1_;for(var m=0;m<this.gx.length;m++)this.CA[m]=cE.axh(this.gx[m],n,O);this.No.d$(this.CA,null,n,O);
var l=this.d.getBoundingClientRect(),x=new e_(H.E.L,!0);x.data={d:H.t.X3,B_:this.iG,x:l.left,y:l.top+l.height+4};
this.$(x)};cE.prototype.a9$=function(_){var n=new e_(H.E.L,!0);n.data={d:H.t.sa,B_:this.iG};this.$(n);
this.WA=_.target.b()[0];this.Ec();this.$(new e_(H.E.A))};cE.prototype.Ec=function(){var _=this.x4,n=this.a1_;
this.No.c([this.WA]);this.d.innerHTML="<img src=\""+cE.axh(this.gx[this.WA],_,n)+"\" class=\"gsicon\" />";
L.i8(this.d.firstChild,_,n)};cE.prototype.b=function(){return this.gx[this.WA]};cE.prototype.c=function(_){this.WA=this.gx.indexOf(_);
this.Ec()};function iJ(_,n,O){b1.call(this);if(_==null)_=!1;if(n==null)n=!1;if(O==null)O=!1;this.a9w=n;
this.Q6=null;this.m5=new cE([12,22],O);this.m5.parent=this;this.m5.Z(H.E.A,this.M8,this);this.yL=new cB([22,0],[[22,4,0],[22,4,1]]);
this.yL.Z(H.E.A,this.M8,this);var l=_?bd:jD;this.q7=new l([22,1],-100,100,"%");this.Sc=new l("Horizontal Distortion:",-100,100,"%");
this.bw=new l("Vertical Distortion:",-100,100,"%");this.q7.parent=this.Sc.parent=this.bw.parent=this;
this.q7.Z(H.E.A,this.M8,this);this.Sc.Z(H.E.A,this.M8,this);this.bw.Z(H.E.A,this.M8,this)}iJ.prototype=new b1;
iJ.prototype.f=function(){this.m5.f();this.yL.f();this.q7.f();var _=this.a9w?1:100;this.Sc.KM(hU.get([22,2]).substring(0,_)+":");
this.bw.KM(hU.get([22,3]).substring(0,_)+":")};iJ.prototype.M8=function(){var _=this.Q6,n=this.m5.b(),O=_.warpStyle.v.warpStyle;
if(n=="warpCustom")Q.Q6.nC(Q.Q6.zE(_),_);else delete _.customEnvelopeWarp;_.warpStyle.v.warpStyle=this.m5.b();
_.warpRotate.v.Ornt=["Hrzn","Vrtc"][this.yL.b()];_.warpValue.v=this.q7.b();_.warpPerspective.v=this.Sc.b();
_.warpPerspectiveOther.v=this.bw.b();if(n=="warpNone"||n=="warpCustom"){_.warpValue.v=0;_.warpPerspective.v=0;
_.warpPerspectiveOther.v=0}else if(O=="warpNone"||O=="warpCustom")_.warpValue.v=50;this.$(new e_(H.E.A,!1));
this.c(_)};iJ.prototype.b=function(_){return JSON.parse(JSON.stringify(this.Q6))};iJ.prototype.c=function(_){this.Q6=JSON.parse(JSON.stringify(_));
this.m5.c(_.warpStyle.v.warpStyle);this.yL.c(_.warpRotate.v.Ornt=="Hrzn"?0:1);this.q7.c(_.warpValue.v);
this.Sc.c(_.warpPerspective.v);this.bw.c(_.warpPerspectiveOther.v);var n=_.warpStyle.v.warpStyle,O=n=="warpNone"||n=="warpCustom",l=[this.yL,this.q7,this.Sc,this.bw];
for(var m=0;m<l.length;m++)if(O)l[m].E0();else l[m].M5()};function da(_){b1.call(this);this.aeI={};this.m=L.S("div");
this.v_=_;this.xg=null;this.Wg=new aW(0,0);this.f$="position:relative;overflow:hidden;background-color:var(--bg-canvas);";
this.h3=null;this.N0=new L.DO(this.m);this.ST("grab");this.T=L.S("canvas","canv");this.m.appendChild(this.T);
this.Y0=this.T.getContext("2d");this.ahi=null;this.Q0=null;this.WH=null;this.M$=0;this.cg=0;this.p5=0;
this.afF=this.ae6.bind(this);this.adm=null;this.u=new jd({a:1,n:1});this.ZV=null;this.ra=null;this.DD=[];
this.aj9=0;this.Xv=0;this.a3n=this.km.bind(this);this.arH=this.w$.bind(this);this.avw=this.sL.bind(this);
this.akF=this.YD.bind(this);this.afh=0;this.Il=null;this.aks(this.T);this.e3(this)}da.prototype=new b1;
da.prototype.alb=function(_){this.aeI=_;this.t6()};da.a4C=function(_){var n=new bJ(!0);if(_>=0)n.$u("Space");
if(_>=1){n.$u("ControlLeft");if(_==2)n.$u("AltLeft")}return n};da.prototype.op=function(_){var n=this.h3,O=null;
if(_.l(bJ.pN)){O="grab";if(_.l(bJ.mV)){O="zoom-in";if(_.l(bJ.Yk))O="zoom-out"}}this.xg=O;if(O)n=O;this.N0.dN(n,this.f$);
if(_.l(bJ.mV)){var l=0;if(_.l(bJ.qE))l=1;if(_.l(bJ.PW))l=-1;if(l!=0){this.vH(new aW(this.T.width/2,this.T.height/2),l==1)}}};
da.prototype.ST=function(_){this.h3=_;if(this.xg)return;this.N0.dN(_,this.f$)};da.prototype.aks=function(_){L.a9(_,this.a3n);
L.H7(_);_.addEventListener("wheel",this.akF,!1)};da.prototype.e3=function(_){_.Z("viewchange",this.awK,this)};
da.prototype.awK=function(_){var n=this.u.K,O=_.currentTarget.YW();this.u.K=O.K;this.u.R=O.R.clone();
if(n!=O.K)this.i6();this.t6()};da.prototype.YW=function(){return{K:this.u.K,R:this.u.R}};da.prototype.c=function(_,n){var O=_[0].n5;
if(this.Q0!=null&&this.Q0[0].n5.yO(O)){}else{this.u.cn={a:O.a,n:O.n};this.u.R=new aW(0,0);this.u.K=1}this.Q0=_;
this.i6();this.ZW();this.M$=0;this.cg=0;this.p5=n==null?0:n;this.ae6()};da.prototype.YD=function(_){_.preventDefault();
if(_.deltaY==0||Date.now()-this.afh<100)return;var n=L.q1(_);n.x=L.V()*n.x;n.y=L.V()*n.y;this.afh=Date.now();
this.vH(n,_.deltaY<0)};da.prototype.vH=function(_,n){D.tM.oZ(this.u,_,n);this.a1Q()};da.prototype.Gx=function(){var _=this.u,n=_.cn;
this.u.K=D.tM.aoS(n.a,n.n,_.l_.a,_.l_.n);this.a1Q()};da.prototype.a1Q=function(){this.i6();this.$(new e_("viewchange"));
this.$(new e_("zoom"))};da.prototype.i6=function(){this.WH=[];var _=this.u.K;if(this.Q0==null)return;
for(var m=0;m<this.Q0.length;m++){var n=this.Q0[m],O=new Uint8Array(n.data),l;if(_>=1)l={sw:O,rect:n.n5};
else l=Q.amd(O,n.n5,_);this.WH.push(l)}};da.prototype.ZW=function(){clearTimeout(this.adm)};da.prototype.t6=function(){if(this.Q0==null||!L.PZ(this.T))return;
var _=this.ahi,n=this.T.width,O=this.T.height,P,b;if(_==null||_.width!=n||_.height!=O){_=this.ahi=this.Y0.createImageData(n,O);
console.log("creating image data")}var l=this.Q0[this.M$],x=this.WH[this.M$],t=this.u,h=t.cn,V=t.l_,y=V.a,r=V.n,E=h.a*t.K,a=h.n*t.K,S=Math.round((y-E)/2+t.R.x),e=Math.round((r-a)/2+t.R.y);
if(t.K<=1){b=x.rect.clone();b.x=S;b.y=e;E=b.a;a=b.n;P=x.sw}else{var T=1/t.K,C=new a8(Math.floor((V.x-S)*T),Math.floor((V.y-e)*T),Math.ceil(V.a*T)+1,Math.ceil(V.n*T)+1),Z=new a8(0,0,C.a*t.K,C.n*t.K);
Z.x=C.x*t.K+S;Z.y=C.y*t.K+e;if(t.FS==null||t.FS.length!=C.O()*4){t.FS=Q.Q(C.O()*4)}if(t.lj==null||t.lj.length!=Z.O()*4){t.lj=Q.Q(Z.O()*4)}Q.qs(t.FS,0);
Q.zw(x.sw,x.rect,t.FS,C);Q.scale.at(t.FS,C.a,C.n,t.lj,Z.a,Z.n,t.K);P=t.lj;b=Z}var W=new Uint8Array(_.data.buffer);
Q.tZ(W,y,r,8,-S,-e);Q.q.Zn("norm",P,b,W,V,V,1);var s=this.Y0;s.setTransform(1,0,0,1,0,0);s.putImageData(_,0,0);
s.clearRect(S-1e3,e,1e3,a);s.clearRect(S+E,e,1e3,a);s.clearRect(S-1e3,e-1e3,E+2e3,1e3);s.clearRect(S-1e3,e+a,E+2e3,1e3);
var f=da.ayE(t.K,"#ffffff");s.putImageData(f,0,t.l_.n-f.height);var q=this.aeI,t=this.u;if(q){var g=eP.Z7([.1,.5,1,1]),i=eP.Z7([1,0,0,1]),u=t.A9(!1);
u.sJ();s.save();s.setTransform(u.EX,u.k,u.av,u.c5,u.Wk,u.d7);s.strokeStyle=i;if(q.a1r){eP.nK(q.a1r,null,s);
s.lineWidth=1/t.K;s.stroke()}s.strokeStyle=g;s.fillStyle=eP.Z7([1,1,1,1]);if(q.qb){eP.nK(q.qb,null,s);
s.lineWidth=1/t.K;s.stroke()}if(q._x){eP.aqR(q._x,s,t,.5);s.lineWidth=2/t.K;s.stroke();s.fill()}s.restore()}};
da.a2I="";da.asI=null;da.ayE=function(_,n,O,l){if(O==null){O=0;l=0}var x=O+" \xD7 "+l,t="z"+_+","+n+","+O+","+l;
if(t==da.a2I)return da.asI;var h=Math.round(50*L.V()),V=Math.round(18*L.V()),y=O==0?0:Math.round((x.length+2)*V*.35),r=L.S("canvas"),E=r.getContext("2d");
r.width=h+y;r.height=V;E.fillStyle="rgba(1,1,1,1)";E.fillRect(0,0,h,V);if(O!=0)E.fillRect(h+2,0,y,V);
E.font=Math.round(11*L.V())+"px monospace";E.fillStyle=n;var a=_*100;if(a<100)a=a.toFixed(2);else a=Math.round(a);
a=a+"%";var S=E.measureText(a).width;E.fillText(a,(h-S)/2,Math.round(V*.7));if(O!=0){var e=E.measureText(x).width;
E.fillText(x,h+(y-e)/2+1,Math.round(V*.7))}var P=E.getImageData(0,0,h+y,V);da.a2I=t;da.asI=P;return P};
da.prototype.ae6=function(){var _=this.Q0,n=_.length,O=this.M$,l=this.Q0[O],x=(O+1)%n;this.t6();if(n!=1&&_[x].n5.yO(l.n5)){var t=l.U9?parseInt(l.U9.split(",").pop()):30;
if(t==0)t=16;if(x==0)this.cg++;if(this.p5==0||this.cg<this.p5)this.adm=setTimeout(this.afF,t)}this.M$=x};
da.prototype.A$=function(_,n){if(_<=0||n<=0)return;var O=Math.floor(_*L.V()),l=Math.floor(n*L.V());this.u.l_=new a8(0,0,O,l);
this.T.width=O;this.T.height=l;this.T.setAttribute("style","width:"+O/L.V()+"px; height:"+l/L.V()+"px; display:block;");
this.t6()};da.prototype._i=function(_){var n=-1,O=this.DD;for(var m=0;m<O.length;m++)if(O[m].pointerId==_.pointerId)n=m;
return n};da.prototype.km=function(_){var n=this._i(_),O=this.DD;if(n!=-1)O[n]=_;else O.push(_);if(O.length==1){this.Il=_.target;
L.hw(window,this.arH);L.LY(window,this.avw);this.ZV=L.q1(_,this.T);this.ZV.x*=L.V();this.ZV.y*=L.V();
this.Wg=this.ZV;this.ra=this.u.R.clone();if(this.v_&&this.Il==this.T&&!this.xg)this.$(new e_("mousedown"))}else this.aj9=this.Xv=aW.nT(L.q1(O[0],this.T),L.q1(O[1],this.T))};
da.prototype.w$=function(_){var n=this._i(_),O=this.DD;if(n!=-1)O[n]=_;var l=this.u,x=this.xg,t=this.Q0[this.M$].n5.clone();
t.a*=l.K;t.n*=l.K;var V=L.q1(_,this.T);V.x*=L.V();V.y*=L.V();this.Wg=V;if(this.v_&&this.Il==this.T&&!x)this.$(new e_("mousemove"));
else if(x=="grab"||x==null){if(O.length>1){var y=L.q1(O[0],this.T),r=L.q1(O[1],this.T),E=new aW(L.V()*(y.x+r.x)/2,L.V()*(y.y+r.y)/2),a=aW.nT(y,r),S=null;
if(a>this.Xv+50){this.Xv+=50;S=!0}if(a<this.Xv-50){this.Xv-=50;S=!1}if(S!=null)this.vH(E,S);return}else{var e=V.x-this.ZV.x,P=V.y-this.ZV.y;
l.R.x=this.ra.x+Math.round(e);l.R.y=this.ra.y+Math.round(P)}this.$(new e_("viewchange"))}};da.prototype.sL=function(_){var n=this._i(_),O=this.DD;
O.splice(n,1);if(O.length==0){L.Xa(window,this.arH);L.l4(window,this.avw);var l=this.xg;if(_.detail>1){this.u.K=1;
this.u.R.BX(0,0);this.t6()}if(this.v_&&this.Il==this.T&&!this.xg)this.$(new e_("mouseup"));else{if(l=="zoom-in"||l=="zoom-out")this.vH(this.Wg,l=="zoom-in")}}else{var x=this.ZV=L.q1(O[0],this.T);
x.x*=L.V();x.y*=L.V()}};da.prototype.bF=function(_){var n=this.Wg;if(_){n=L.q1(_,this.T);n.x*=L.V();
n.y*=L.V()}return this.u.vk(n.x,n.y)};function f5(){b1.call(this);this.DX=null;this.LW=null;this.Fd=null;
this.ms=null;this.a1R="";this.ak=[];this.K3=0;this.Pi=[];this.Ge=0;this.Yw=null;var _=this.m=L.S("div",""),n=this.apB=L.S("div","form");
n.setAttribute("style","line-height:0; margin-bottom:0.5em;");_.appendChild(n);var O=this.G5=L.S("span");
n.appendChild(O);O.setAttribute("style","font-size:1.2em; font-weight:bold; margin-right:3em;");var l=this.agU=new dE([25,2,0]);
l.c(!0);n.appendChild(l.m);l.Z(H.E.A,this.DN,this);var x=this.dd=new dE([25,2,1]);x.c(!0);n.appendChild(x.m);
x.Z(H.E.A,this.DN,this);var t=new an(" ");n.appendChild(t.m);var h=this.YN=new g_([25,1,1]);n.appendChild(h.m);
h.Z(H.E.A,this.DN,this);this.Cz=new jv(14);this.Cz.au6(3);n.appendChild(this.Cz.m);this.Cz.parent=this;
this.Cz.Z(H.E.A,this.awt,this);var V=this.agO=new cw([25,1,2],null,null,!0);n.appendChild(V.m);V.Z("click",this.y1,this);
var y=new cw("?",null,null,!0);n.appendChild(y.m);y.addEventListener("click",function(){alert("All our images come from Pixabay.com and are free to use for commercial purposes.")});
this.a0e=this.acp.bind(this);this.s1=L.S("div","svggallery scrollable");_.appendChild(this.s1);this.s1.addEventListener("scroll",this.akc.bind(this))}f5.prototype=new b1;
f5.prototype.w1=function(_){this.a1G=_};f5.prototype.f=function(){this.G5.textContent=hU.get([25,0]);
this.Cz.f();this.agU.f();this.dd.f();this.YN.f();this.agO.f()};f5.prototype.A$=function(_,n){this.DX=new aW(_,n);
this.apB.setAttribute("style","width:"+_+"px");var O=this.apB.getBoundingClientRect();n-=O.height;this.s1.setAttribute("style","width:"+_+"px; height:"+n+"px");
if(L.PZ(this.m))this.DN()};f5.prototype.c=function(_){this.LW=_;this.DN()};f5.prototype.akc=function(_){var n=this.s1;
if(n.scrollTop+n.clientHeight+10>=n.scrollHeight){this.DN(!0)}};f5.prototype.awt=function(_){this.Fd=null;
this.DN()};f5.prototype.acp=function(_){if(Date.now()-this.Ge<2e3)return;this.Ge=Date.now();this.K3=this.Pi.indexOf(_.currentTarget);
var n=this.EY(this.LW.x,this.LW.y);if(n[1]){var O=n[1].largeImageURL,l=new XMLHttpRequest;l.responseType="arraybuffer";
l.open("GET",O,!0);l.onload=this.a1n.bind(this);l.send();return}this.ahP(n)};f5.prototype.a1n=function(_){var n=_.target.response,O=dx.N_(n),l=dx.Jv(O),x=l.Xd(n),t=this.EY(this.LW.x,this.LW.y,[n,x[0].n5.a,x[0].n5.n]);
this.ahP(t)};f5.prototype.ahP=function(_){var n=_[0],O=dx.N_(n),l=dx.Jv(O),x=new fJ("template.psd");
l.Xd(n,x);var t=new e_("tempready",!0);t.data={cn:x};this.$(t)};f5.prototype.y1=function(_){var n=_.target;
this.ak=[];this.Fd=null;this.DN()};f5.prototype.aiI=function(_){var n=JSON.parse(_.target.response),O=this.ms=n.hits;
for(var m=0;m<O.length;m++)if(O[m].user_id==6314823)O.splice(m,1);this.DN()};f5.prototype.DN=function(_){if(this.LW==null||this.DX==null||this.a1G==null)return;
if(this.DX.x<=0)return;var n=this.LW.x,O=this.LW.y;if(Math.min(n,O)<50)return;if(_!=!0){this.Pi=[];L.I$(this.s1);
this.s1.scrollTop=0}if(this.Pi.length>300)return;var l=Math.min(1,300/Math.max(n,O)),x=this.DX.clone();
x.x-=20;var t=Math.max(1,Math.floor(x.x/(n*l))),h=Math.max(1,Math.ceil(x.y/(O*l)));l=x.x/t/n;var V=t*h;
if(this.Fd==null){var y=this.a1G.y8.MV(),r=[];for(var E in y){var a=y[E],S=a[3];if(!this.Cz.RM(a))continue;
if(a[5]==null||a[5].slice(0,2)=="gf")continue;r.push(a)}if(r.length==0)r.push(y.DejaVuSans);var e=r.length;
for(var m=0;m<e*10;m++){var P=Math.floor(Math.random()*e),b=Math.floor(Math.random()*e),T=r[P];r[P]=r[b];
r[b]=T}r=r.slice(0,10);this.Fd=r}var C=this.dd.b(),Z=this.YN.b().trim();this.YN.Nf(C);if(C&&(this.ms==null||Z!=this.a1R)){var W=new XMLHttpRequest,s="https://pixabay.com/api/?image_type=photo"+(Z==""?"":"&q="+encodeURIComponent(Z))+"&per_page=200&page=1&key=10554583-a5eacb61c2e61105fdfb6eb88&safesearch=true";
if(Z=="")s="plugins/gallery.json";W.open("GET",s,!0);W.onload=this.aiI.bind(this);W.onerror=function(I){console.log(I.target.response)};
W.send();this.a1R=Z;return}l*=(n*l-5)/(n*l);var f=this.Pi.length;for(var m=0;m<V;m++){var q=this.K3=f+m;
if(this.ak[q]==null)this.ak[q]=Math.floor(Math.random()*4294967295);var g=this.EY(Math.round(n*l),Math.round(O*l)),i=g[0];
i=R.hm(new Uint8Array(i));var u=L.S("span");u.innerHTML=i;this.Pi.push(u);this.s1.appendChild(u);u.addEventListener("click",this.a0e,!1)}};
f5.prototype.EY=function(_,n,O){var l=this.dd.b(),x=this.agU.b(),t=l&&this.ms.length!=0?this.ms:null;
if(x&&!l)t=null;if(x&&l&&(this.K3&1)==0)t=null;return aL.tm(_,n,this.ak[this.K3],this.Fd,O?O:t)};function g9(){b1.call(this);
this.m=L.S("div");this.Zd=null;this.aaE=null;this.va=-1;this.xb={JPG:[{hC:new jD([12,52,0],0,100,"%",null,null,!0),KO:70},{hC:new dE("attach metadata"),KO:!1}],TIFF:[{hC:new dE("attach metadata"),KO:!1}],WEBP:[{hC:new jD([12,52,0],0,100,"%",null,null,!0),KO:70}],GIF:[{hC:new jD([12,52,0],0,100,"%",null,null,!0),KO:100},{hC:new dE([12,23,3]),KO:!1}],PNG:[{hC:new jD([12,52,0],0,100,"%",null,null,!0),KO:100},{hC:new dE("don't use palettes"),KO:!1}],PDF:[{hC:new g_([12,52,1]),KO:""},{hC:new jD([12,52,0],0,100,"%",null,null,!0),KO:100},{hC:new dE("reverse pages"),KO:!1},{hC:new dE("rasterize all"),KO:!1},{hC:new dE("vectorize text"),KO:!1},{hC:new jD("Add Margin",0,5,"in",2),KO:0}],EMF:[{hC:new g_([12,52,1]),KO:""},{hC:new jD([12,52,0],0,100,"%",null,null,!0),KO:100},{hC:new dE("reverse pages"),KO:!1},{hC:new dE("rasterize all"),KO:!1},{hC:new dE("vectorize text"),KO:!1},{hC:new jD("Add Margin",0,5,"in",2),KO:0}],SVG:[{hC:new dE("add raster graphics"),KO:!0},{hC:new dE("add hidden layers"),KO:!1},{hC:new dE("vectorize text"),KO:!1},{hC:new dE("rasterize text"),KO:!1},{hC:new dE("minify"),KO:!1}],RAW:[{hC:new im([12,72],["1","3","4"]),KO:2},{hC:new im([12,34],["8 Bits","16 Bits"]),KO:0},{hC:new im("Byte Order",["12-34","34-12"]),KO:0}],DDS:[{hC:new dE("Add Mipmaps"),KO:!0},{hC:new dE("Compression"),KO:!0}],anim:[{hC:new jD("Speed",10,800,"%",null,!0,!0),KO:100},{hC:new bd("Repeat (0 = Forever)",0,10," \xD7",0,!1,!0),KO:0},{hC:new dE("reverse frames"),KO:!1},{hC:new dE("boomerang"),KO:!1}],slcs:[{hC:new dE([8,11,0]),KO:!0}],artb:[{hC:new dE([1,16,1]),KO:!0}],hicc:[{hC:new dE("convert to sRGB"),KO:!0}]};
for(var _ in this.xb){var n=this.xb[_];for(var m=0;m<n.length;m++){n[m].hC.c(n[m].KO);n[m].hC.Z(H.E.A,this.gZ,this)}}}g9.prototype=new b1;
g9.prototype.agz=function(){this.va=-1};g9.prototype.f=function(){for(var _ in this.xb)for(var m=0;m<this.xb[_].length;
m++)this.xb[_][m].hC.f()};g9.prototype.gZ=function(){this.DN();this.$(new e_(H.E.A,!1))};g9.prototype.DN=function(){var _=this.Zd,n=_[0],O=_[1],l=_[2],x=_[3],t=_[4],h=this.xb[n];
if(h==null)h=[];else h=h.slice(0);if(O)h=h.concat(this.xb.anim);if(["GIF","PNG","JPG"].indexOf(n)!=-1&&l)h=h.concat(this.xb.slcs);
else if(["GIF","PNG","JPG"].indexOf(n)!=-1&&x)h=h.concat(this.xb.artb);if(t)h=h.concat(this.xb.hicc);
var V=_.join(",");if(V!=this.va){this.va=V;L.I$(this.m);for(var m=0;m<h.length;m++){if(n=="PDF"&&!x&&(m==0||m==2))continue;
this.m.appendChild(h[m].hC.m);L.z0(this.m)}}var y=this.aaE=[];for(var m=0;m<h.length;m++)y.push(h[m].hC.b())};
g9.prototype.RA=function(_,n,O,l,x){this.Zd=[_,n,O,l,x];this.DN()};g9.prototype.b=function(){return this.aaE.slice(0)};
g9.prototype.c=function(_){var n=this.Zd,O=n[0],l=this.xb[O],x=Math.min(l.length,_.length);for(var m=0;
m<x;m++)l[m].hC.c(_[m]);this.DN();this.gZ()};function e5(){b1.call(this);this.m=L.S("span","fitem");
this.rf=!1;this.CD=new cw("No",!1,"Cancel");this.Q2=new cw("Yes",!1,"Confirm");this.m.appendChild(this.CD.m);
this.m.appendChild(this.Q2.m);this.CD.Z("click",this.l2,this);this.Q2.Z("click",this.l2,this);this.f()}e5.prototype=new b1;
e5.prototype.f=function(){this.CD.KM(L.Gu("cross",null,"autoscale"));this.Q2.KM(L.Gu("checkmark",null,"autoscale"))};
e5.prototype.l2=function(_){this.rf=_.target==this.Q2;this.$(new UIEvent("click"))};e5.prototype.b=function(){return this.rf};
function gd(_){b1.call(this);this.m=L.S("span","fitem");this.e4=new cw("\u25BC",null,"Auto Options",!0);
L.a9(this.e4.m,this.awe.bind(this));this.m.appendChild(this.e4.m);this.dI=new cw("Auto",null,null,!0);
this.dI.Z("click",this.E3,this);this.m.appendChild(this.dI.m);this.fn=new gl("Algorithms",["Enhance Monochromatic Contrast","Enhance Per Channel Contrast","Find Dark & Light Colors","Enhance Brightness And Contrast"],null,null,!0);
this.fn.Z(H.E.A,this.E3,this);this.fn.c([!1,!1,!1,!0]);this.iG=new b1;var n=this.iG.m=L.S("div","floatcont form");
n.setAttribute("style","width: 250px;");this.iG.parent=this;n.appendChild(this.fn.m);this.pD=[];for(var m=0;
m<2;m++){var O=new bd((m==0?"Shadows":"Highlights")+" Clip",0,9.99,"%",2,!1,!0);O.c(.1);O.Z(H.E.A,this.E3,this);
this.pD.push(O);n.appendChild(O.m)}}gd.prototype=new b1;gd.prototype.E3=function(_){this.$(new e_(H.E.A,!1))};
gd.prototype.f=function(){};gd.prototype.b=function(){return[this.fn.b().indexOf(!0),this.pD[0].b(),this.pD[1].b()]};
gd.prototype.awe=function(_){if(L.PZ(this.iG.m))return;_.stopPropagation();var n=this.e4.m.getBoundingClientRect(),O=new e_(H.E.L,!0);
O.data={d:H.t.X3,B_:this.iG,x:n.left,y:n.top+n.height+4};this.$(O)};function cI(){b1.call(this);var _=this.m=L.S("div","fitem");
this.XI=new cB([12,46],[[13,1,8],[13,1,10],[13,1,9],[12,47]]);this.XI.Z(H.E.A,this.CP,this);_.appendChild(this.XI.m);
this.pH=new fS(!1);this.pH.parent=this;this.pH.Is(16777215);this.pH.Z(H.E.A,this.CP,this);_.appendChild(this.pH.m)}cI.prototype=new b1;
cI.prototype.f=function(){this.XI.f();this.pH.f()};cI.prototype.aqM=function(_){var n=[_.artboardBackgroundType.v-1];
if(_.Clr)n.push(_.Clr.v);this.c(n)};cI.prototype.aqg=function(){var _=this.b();return{classID:"artboard",Clr:{t:"Objc",v:_[1]},artboardBackgroundType:{t:"long",v:_[0]+1}}};
cI.prototype.c=function(_){this.XI.c(_[0]);if(_[1])this.pH.c(_[1])};cI.prototype.b=function(){return[this.XI.b(),this.pH.b()]};
cI.prototype.CP=function(_){if(_.target==this.pH)this.XI.c(3);this.$(new e_(H.E.A,!1))};function ju(_){b1.call(this);
this.AS=_;this.xd=0;this.ah4=!1;this.K8=_?new ju.DF:null;this.m=L.S("div","flexrow storageset");this.m.style.background="var(--bg-panel)";
this.Nt=L.S("div");this.m.appendChild(this.Nt);this.QH=L.S("div");this.m.appendChild(this.QH);this.uY=[];
var n=Storage.list.length;if(_)n++;var O=this.lq.bind(this);for(var m=0;m<n;m++){var l=L.S("div");this.uY.push(l);
this.Nt.appendChild(l);l.addEventListener("click",O,!1)}this.lq(null,0)}ju.prototype=new b1;ju.GC=[];
ju.K2=function(_){ju.GC.push(_);_.H1()};ju.qf=function(){var _=ju.GC;_.pop();_[_.length-1].H1()};ju.prototype.H1=function(){console.log(this.xd);
this.lq(null,this.xd)};ju.prototype.w1=function(_,n){if(!_.Wl&&!this.ah4){var O=this.AS?2:1;for(var m=O;
m<this.uY.length;m++)this.Nt.removeChild(this.uY[m]);this.ah4=!0;if(this.AS)this.K8.w1(_,n)}};ju.prototype.f=function(){if(this.AS)this.K8.f();
if(this.nv)this.nv.f()};ju.prototype.lq=function(_,n){var O=this.uY,l;if(n==null)n=O.indexOf(_.currentTarget);
this.xd=n;for(var m=0;m<O.length;m++)L.Gd(O[m],"active");L.NT(O[n],"active");if(this.AS)n--;L.I$(this.QH);
if(n==-1)l=this.K8;else l=Storage.aaw(n);this.nv=l;l.parent=this;this.QH.appendChild(l.m);this.A$(this.Qc,this.bE);
this.f()};ju.prototype.A$=function(_,n){this.Qc=_;this.bE=n;var O=_<850,l=O?50:200,x=Storage.list;if(this.AS)x=[["Home",null,"strg/home"]].concat(x);
for(var m=0;m<x.length;m++){var t=this.uY[m],h="padding: 8px "+(O?13:36)+"px; cursor:pointer;";t.setAttribute("style",h);
t.innerHTML="<img style=\"margin:0 10px -6px 0; width:22px;\" class=\"gsicon\" src=\""+PIMG[x[m][2]]+"\" /> "+(O?"":x[m][0])}this.m.style.width=_+"px";
this.m.style.height=n+"px";this.Nt.style.width=l+"px";this.Nt.style.paddingTop="32px";if(this.nv)this.nv.A$(_-l,n)};
ju.DF=function(){var _=this.m=L.S("div");_.style.background="var(--bg-canvas)";var n=this.J8=L.S("div");
_.appendChild(n);var O=L.S("style");_.appendChild(O);O.textContent=" .bhover       { transition: background 0.2s ease-in-out;  background:rgba(255,255,255,0   );} "+" .bhover:hover { transition: background 0.2s ease-in-out;  background:rgba(255,255,255,0.05);}";
for(var m=0;m<2;m++){var l=L.S("div"),O="filter: drop-shadow(4px 6px 4px rgba(0,0,0,0.25)); ";n.appendChild(l);
if(m==0)O+="padding: 12px 0px";if(m==1)O+="position:absolute;  bottom:0;";l.setAttribute("style",O);
var x=L.S("img");l.appendChild(x);x.setAttribute("src",PIMG[m==0?"l"+"o"+"g"+"o":"b"+"o"+"t"+"t"+"o"+"m"]);
if(m==0)this.Zv=x;else this.a1F=x;if(m==0)this.afD=l;else this.a5C=l}this.uY=[];O="display:inline-block;  font-size:1.25em; border:1px solid #aaa;  border-radius:6px;  margin:20px 0 0 20px;";
var t=this.QM.bind(this);for(var m=0;m<3;m++){var h=L.S("span","bhover");this.uY.push(h);h.setAttribute("style",O+"cursor:pointer; padding:12px;");
h.addEventListener("click",t,!1);n.appendChild(h)}L.z0(n);L.z0(n);var h=L.S("div");h.setAttribute("style",O+"width:min(80%,556px);  padding:60px 0;  text-align:center; opacity:0.3;");
h.textContent="Drop any files here";n.appendChild(h);this.T=L.S("canvas");this.T.setAttribute("style","position:absolute;top:0;pointer-events:none; mix-blend-mode: screen;");
this.Y0=this.T.getContext("2d");this.a0a=Q.Q(4);_.appendChild(this.T);var V=new Date().getDate(),y=new Date().getMonth();
if(y==11&&V>20||y==0&&V<10){var r=Math.random()<.5,E={o:255,J:255,k:255};if(!r){E=Q.ax(Math.random(),Math.random()*.7,1);
E.o*=255;E.J*=255;E.k*=255}this.Ud=[Math.round(1048575*Math.random()),r?.05:.02,Math.round(4+Math.random()*8),1,r?3:15,E,0,!0,r,r?1:.2,3];
this.a7$=r?.1:.2;this.xK=this.K7.bind(this);window.requestAnimationFrame(this.xK)}};ju.DF.prototype=new b1;
ju.DF.prototype.K7=function(){window.requestAnimationFrame(this.xK);if(!L.PZ(this.m))return;var _=this.a0a,n=this.T,O=this.Y0,l=n.width,x=n.height;
this.Ud[6]=Date.now()*.001*this.a7$;Q.FN.fL(_,l,x,this.Ud,!0);O.putImageData(new ImageData(new Uint8ClampedArray(_.buffer),l,x),0,0)};
ju.DF.prototype.QM=function(_){var m=this.uY.indexOf(_.currentTarget),n=new e_(H.E.L,!0);if(m==0)n.data={d:H.t.Rq,EW:"newproject"};
if(m==1)n.data={d:H.t.YI};if(m==2)n.data={d:H.t.Rq,EW:"res0"};this.$(n)};ju.DF.prototype.f=function(){var _=this.uY,n=[[11,7],[1,6],["PSD VAR0",[25,0]]],O=["\u2605","\uD83E\uDC7F","\u25A3"];
for(var m=0;m<_.length;m++)_[m].textContent=O[m]+"\u2000"+hU.get(n[m]);var l="l"+"o"+"g"+"o",x=new Date;
if(x.getMonth()==3&&x.getDate()==1)l="lo"+"go_cuc"+"umber";this.Zv.setAttribute("src",PIMG[l]);this.a1F.setAttribute("src",PIMG["b"+"o"+"t"+"t"+"o"+"m"])};
ju.DF.prototype.A$=function(_,n){var O=Math.min(n*1.5,Math.min(_,600));L.Bw(this.T,_,O*.26);var l=this.T.width,x=this.T.height;
this.a0a=Q.Q(l*x*4);this.m.style.width=_+"px";this.m.style.height=n+"px";this.a5C.style.width=_+"px";
this.J8.style.marginLeft=Math.max(0,Math.round((_+200-600)/2)-200)+"px";this.Zv.style.width=O+"px";this.a1F.style.width=O+"px"};
ju.DF.prototype.w1=function(_,n){if(!_.Wl)this.J8.removeChild(this.uY[2])};function Storage(_){b1.call(this);
var n=this.m=L.S("div","storage");L.vw(n);var O=this.aiq=L.S("style");n.appendChild(O);n.setAttribute("tabindex","0");
n.style.outline="none";n.addEventListener("keydown",this.aq7.bind(this),!1);this.hc=this.afp.bind(this);
var l=L.S("div");n.appendChild(l);var x=this.aha.bind(this);this.xQ=L.S("div","bar");l.appendChild(this.xQ);
this.WE=L.S("div","fls scrollable");l.appendChild(this.WE);this.Ww=L.S("div");l.appendChild(this.Ww);
this.Ww.setAttribute("style","position:absolute; bottom:0;  background-color:white; padding: 2px 8px 0px 8px;");
this.fK=L.S("div","bar");this.fK.textContent="Name: ";var t=this.Av=L.S("input");t.setAttribute("type","text");
this.fK.appendChild(t);var h=this.JL=L.S("div","btn");h.textContent="Save";this.fK.appendChild(h);L.LY(h,x);
L.a9(this.WE,this.hc);this.EC=0;this.z3=_;this.Uy=L.S("div","btn");L.LY(this.Uy,this.vD.bind(this));
this.lD=new dW([{name:[6,20]}]);this.lD.parent=this;this.hB=new dW([{name:[5,4]},{name:[6,37]}]);this.hB.parent=this;
this.lD.Z("select",this.A_,this);this.hB.Z("select",this.A_,this);this.WE.addEventListener("contextmenu",this.hc);
this.axE=L.S("span");this.Cg=L.S("span");this.Cg.setAttribute("style","position:absolute; right:0; top:5px;");
this.ZF=[];this.ku=[];for(var m=0;m<3;m++){var V=L.S("div","btn");this.ZF.push(V);this.axE.appendChild(V);
L.LY(V,x);V.textContent=["\u2B9C","\u2B9E","\uD83E\uDC09"][m]}for(var m=0;m<4;m++){var V=L.S("div","btn");
this.ku.push(V);this.Cg.appendChild(V);L.LY(V,x)}window.addEventListener("message",this.a4r.bind(this),!1);
this.adD=!1;setInterval(this.abz.bind(this),300);this.Ph()}Storage.prototype=new b1;Storage.Qe=!1;Storage.prototype.abz=function(){var _=L.PZ(this.m),n=this.adD;
if(_&&!n){history.pushState(null,null,location.href);window.onpopstate=function(){history.go(1)}}if(!_&&n){window.onpopstate=function(){};
history.go(-1)}this.adD=_};Storage.prototype.Ph=function(){if(this._8)document.body.removeChild(this._8);
this.YF=[[]];this.XR=0;this.a3R={"/":[]};this.Tq="";this.Fp=null;this.ft=[];this.rG=[];var _="code/storages/"+Storage.list[this.z3][1],n=this._8=L.S("iframe");
n.setAttribute("src",_);n.setAttribute("style","display:none");document.body.appendChild(n)};Storage.prototype.l$=function(){return this.a3R[this.qi()]};
Storage.prototype.gl=function(_){this.a3R[this.qi()]=_};Storage.aaw=function(m){var _=Storage.Z$[m];
if(_==null)_=Storage.Z$[m]=new Storage(m);return _};Storage.Z$=[];Storage.g8=0;Storage.a6d="";Storage.jO=function(_,n){Storage.g8=_;
Storage.a6d=n;var O=Storage.Z$;for(var m=0;m<O.length;m++)if(O[m])O[m].H1()};Storage._P=0;Storage.X_=2;
Storage.YK=0;Storage.list=[["This Device","deviceStorage.html","strg/tdevice"],["Google Drive","googledriveStorage.html?mode=0","strg/gdrive"],["Shared Drives","googledriveStorage.html?mode=1","strg/gdrive"],["Private Folder","googledriveStorage.html?mode=3","strg/gdrive"],["OneDrive","onedriveStorage.html","strg/onedrive"],["Dropbox","dropboxStorage.html","strg/dropbox"]];
Storage.ahW=function(_){for(var m=0;m<Storage.Z$.length;m++){if(Storage.Z$[m]&&Storage.Z$[m]._8.contentWindow==_)return!0}return!1};
Storage.prototype.aq7=function(_){if(_.target.tagName=="INPUT")return;var n=bJ;if(n.ZZ(_.code,n.ul)&&this.qi().length!=0)this.anR();
else if(_.ctrlKey){if(n.ZZ(_.code,n.t)){var O=[];this.gl(O);for(var m=0;m<this.Fp.length;m++)O.push(m);
this.kB()}if(n.ZZ(_.code,n.bd)){}if(n.ZZ(_.code,n.Z2)){}}else if(n.ZZ(_.code,n.Vn)){var l=this.l$();
if(l.length!=0)this.a6V(l[0])}else if(n.ZZ(_.code,n.Mx)){this.XR=Math.max(this.XR-1,0);this.vD()}else{var x=0;
for(var m=65;m<=90;m++)if(_.code=="Key"+String.fromCharCode(m))x=m;if(x!=0){var t=String.fromCharCode(x).toLowerCase(),h=[],V=this.Fp,y;
for(var m=0;m<V.length;m++)if(V[m][0][0].toLowerCase()==t)h.push(m);if(h.length==0)return;var l=this.l$();
if(l.length==0)y=h[0];else{var r=h.indexOf(l[0]);if(r==-1){y=h[0];for(var m=0;m<h.length;m++)if(h[m]>l[0]){y=h[m];
break}}else y=h[(r+1)%h.length]}this.gl([y]);this.kB(!0)}}};Storage.prototype.A$=function(_,n){this.Qc=_;
this.bE=n;this.m.style.width=_+"px";this.m.style.height=n+"px";var O=_-30,l=Math.floor(O/230),O=Math.floor(O/l)-70;
this.aiq.textContent=".storage .tile .name {  width:"+O+"px;  }";this.Av.style.width=_-140+"px";this.WE.style.width=this.xQ.style.width=_-20+"px";
this.WE.style.height=n-70-(Storage.g8==0?0:45)+"px"};Storage.prototype.vD=function(){this.VP("show",this.qi())};
Storage.prototype.qi=function(_){var n=this.YF[this.XR],O="/"+n.join("/");if(_&&n.length!=0)O+="/";return O};
Storage.prototype.aha=function(_){var n=_.currentTarget,O=this.XR,l=this.ZF.indexOf(n),x=this.ku.indexOf(n);
if(l>=0&&!this.a2f(l))return;if(l==0){this.XR=Math.max(O-1,0);this.vD()}if(l==1){this.XR=Math.min(O+1,this.YF.length-1);
this.vD()}if(l==2){var t=this.YF[O+1]=this.YF[O].slice(0);t.pop();this.XR++;this.YF=this.YF.slice(0,this.XR+1);
this.vD()}if(x==0){Storage._P=(Storage._P+1)%2;this.H1()}if(x==1){Storage.X_=(Storage.X_+1)%3;this.H1()}if(x==2){Storage.YK=(Storage.YK+1)%3;
this.H1()}if(x==3){this.VP("forget","")}if(n==this.JL){var h=this.Av.value.trim(),V=this.Fp,y=-1;if(!h.toLowerCase().endsWith("psd")){alert("File Name has to end with \".psd\".");
return}for(var m=0;m<V.length;m++)if(V[m][0]==h)y=m;if(y!=-1){this.a4Z("Do you really want to replace \""+h+"\"?",this.agq.bind(this))}else this.agq()}};
Storage.prototype.agq=function(){var _=this.Av.value.trim(),n=[this.z3,this.qi(!0)+_];this.C5({d:H.t.ap5,Qr:n});
this.$(new e_("canclose",!0))};Storage.prototype.A_=function(_){var n=_.target.q3()[0];if(_.target==this.lD){var O=[hU.get([6,20]),-1,0];
this.Fp.push(O);this.H1();var m=this.Fp.indexOf(O),l=this.ft[m].querySelector(".name");console.log(l);
var x=new as._X(l,function(h){this.C5({d:H.t.Oc,kY:hU.get([1,2])+" ..."});var V=this.qi(!0)+h+"/";console.log(V);
this.VP("save",V)}.bind(this),!0)}else{if(n==0)this.anR();else{var m=this.l$()[0],t=this.Fp[m],l=this.ft[m].querySelector(".name");
console.log(l);l.innerHTML=t[0];var x=new as._X(l,function(h){h=h.trim();var V=this.Fp;for(var m=0;m<V.length;
m++)if(V[m][0]==h){alert("Item with such name already exists.");this.H1();return}var y=this.qi(!0)+t[0]+":"+h;
console.log(y);this.VP("rename",y)}.bind(this))}}};Storage.prototype.anR=function(){var _=this.l$();
this.a4Z("Do you really want to delete "+(_.length==1?"\""+this.Fp[_[0]][0]+"\"":"these files")+"?",this.L1.bind(this))};
Storage.prototype.a4Z=function(_,n){var O={d:H.t.Rq,EW:"confirm",h:_,_f:n};this.C5(O)};Storage.prototype.L1=function(){this.C5({d:H.t.Oc,kY:hU.get([5,4])+" ..."});
this.rG=this.at_();this.aef()};Storage.prototype.aef=function(){if(this.rG.length==0){this.C5({d:H.t.T3,kY:hU.get([5,4])+" ..."});
this.gl([]);this.vD()}else this.VP("delete",this.rG.pop()[1])};Storage.prototype.at_=function(){var _=[],n=this.qi(!0),O=this.l$();
for(var m=0;m<O.length;m++){var l=this.Fp[O[m]];_.push([this.z3,n+l[0]])}return _};Storage.prototype.VP=function(_,n){this.Tq=_;
if(Storage.Qe)console.log(Math.floor(Date.now()/1e3),"{\"code\": \""+_+"\", \"prm\": "+JSON.stringify(n)+"  }");
this._8.contentWindow.postMessage("{\"code\": \""+_+"\", \"prm\": "+JSON.stringify(n)+"  }","*")};Storage.prototype.a4r=function(_){if(_.source!=this._8.contentWindow)return;
if(typeof _.data=="string"){if(Storage.Qe)console.log("==",Math.floor(Date.now()/1e3),_.data);var n=JSON.parse(_.data),O=n.code,l=n.prm;
if(O=="ready"){if(l)this.vD();else{L.I$(this.xQ);L.I$(this.WE);this.xQ.appendChild(this.Uy)}}else if(O!="0"){alert(l);
this.H1()}else if(this.Tq=="show"){this.Fp=l;this.H1()}else if(this.Tq=="save"){this.C5({d:H.t.T3,kY:hU.get([1,2])+" ..."});
this.vD()}else if(this.Tq=="delete"){this.aef()}else if(this.Tq=="forget"){this.Ph()}else if(this.Tq=="rename"){this.vD()}else throw O}else{if(Storage.Qe)console.log(Math.floor(Date.now()/1e3,"==","ArrayBuffer[]"));
this.C5({d:H.t.a9U,Qr:this.at_()[0],r0:_.data});this.C5({d:H.t.T3,kY:"Opening ..."})}};Storage.prototype.a2f=function(m){if(m==0)return this.XR>0;
if(m==1)return this.XR<this.YF.length-1;if(m==2)return this.qi()!="/"};Storage.prototype.H1=function(){var _=this.Fp,n=Storage.X_,O=Storage._P,l=Storage.YK;
if(_==null)return;_.sort(function(i,u){var I=i[1]==-1?1:5,Y=u[1]==-1?1:5,U=0;if(Math.min(I,Y)==1&&I!=Y)return I-Y;
else if(I==1||n==0)U=i[0].toLowerCase()<u[0].toLowerCase()?-1:1;else if(n==1)U=i[1]-u[1];else if(n==2)U=i[2]-u[2];
if(O==1)U=-U;return U});var x=this.WE,t=this.xQ,h=this.YF[this.XR];L.I$(x);L.I$(t);this.ft=[];for(var m=0;
m<3;m++)if(this.a2f(m))L.Gd(this.ZF[m],"disabled");else L.NT(this.ZF[m],"disabled");t.appendChild(this.axE);
t.appendChild(this.Cg);var V=L.S("span");V.textContent="/";t.appendChild(V);for(var m=0;m<h.length;m++){var V=L.S("span");
V.textContent=h[m];t.appendChild(V);var V=L.S("span");V.textContent="/";t.appendChild(V)}var y=["tile","icon","litm"][l];
for(var m=0;m<_.length;m++){var r=_[m],E=r[1]==-1,a=E?"":cH.Mi(r[1]),S=L.S("div","cont "+y);x.appendChild(S);
this.ft.push(S);S.setAttribute("title",r[0]+(E?"":"\nSize: "+a+"\nDate Modified: "+new Date(r[2]*1e3).toLocaleString().replaceAll(". ",".")));
var e=L.S("img");e.setAttribute("src",E?Storage.a45:r[3]?r[3]:Storage.Dk);if(!E&&r[3])e.setAttribute("style","box-shadow: 1px 1px 2.5px rgba(0,0,0, .4);");
var P=L.S("span","name"),b=r[0];if(y=="icon"&&b.length>30)b=b.slice(0,24)+".."+b.slice(b.length-5);P.textContent=b;
S.appendChild(e);S.appendChild(P);if(y!="icon"&&!E){if(y=="tile")L.z0(P);var T=L.S("span");T.textContent=a;
T.style.opacity="0.8";(y=="tile"?P:S).appendChild(T)}var C=r[0].split("."),Z=(C.length==1?"":C.pop()).toUpperCase();
if(y!="litm"&&!E&&r[3]==null){var W=L.S("span","ext");W.textContent=Z;var s=Storage.KG[Z];W.style.backgroundColor=s?s:Storage.a1z(Z);
S.appendChild(W)}L.a9(S,this.hc);S.addEventListener("contextmenu",this.hc)}this.kB();var f=this.fK.parentNode!=null,q=Storage.g8,g=this.m;
if(f&&q==0)g.removeChild(this.fK);if(!f&&q==1)g.appendChild(this.fK);this.A$(this.Qc,this.bE);this.f()};
Storage.prototype.kB=function(_){var n=this.ft,O=this.Fp,l=this.l$(),x=!1,t=0;for(var m=0;m<n.length;
m++){var h=O[m],V=h[1]==-1,y=n[m];if(Storage.g8==1&&!V&&!h[0].toLowerCase().endsWith(".psd"))y.style.display="none";
else y.style.display="auto";if(l.indexOf(m)==-1)L.Gd(y,"active");else{if(V)x=!0;else t+=h[1];L.NT(y,"active");
if(_)y.scrollIntoView({block:"center",behavior:"smooth"})}}var r=x?"":cH.Mi(t);this.Ww.textContent=l.length==0?"":l.length+" item"+(l.length==1?"":"s")+" selected\u2001"+r;
this.Av.value=l.length==1&&!x?O[l[0]][0]:Storage.a6d};Storage.prototype.a6V=function(m){var _=this.Fp[m];
if(_[1]==-1){var n=this.YF[this.XR].slice(0);n.push(_[0]);this.XR++;this.YF[this.XR]=n;this.YF=this.YF.slice(0,this.XR+1);
this.gl([]);this.vD()}else if(Storage.g8==0){this.C5({d:H.t.Oc,kY:"Opening ..."});this.$(new e_("canclose",!0));
var O=this.qi(!0)+_[0];this.VP("load",O)}};Storage.prototype.f=function(){var _=Storage.X_,n=Storage._P,O=Storage.YK;
this.ku[0].textContent=["\uD83E\uDC0B","\uD83E\uDC09"][n];this.ku[1].textContent=hU.get([[12,48],[12,14,0],"Date"][_]);
this.ku[2].textContent=hU.get(["Tiles","Icons",[25,3,1]][O]);this.ku[3].textContent="\u2716";this.Uy.textContent=hU.get([[23,6],Storage.list[this.z3][0]])};
Storage.prototype.afp=function(_){this.C5({d:H.t.ci});if(_.button==3||_.button==4){if(Date.now()-this.ahE>50){var n=this.XR;
if(_.button==3)this.XR=Math.max(n-1,0);else this.XR=Math.min(n+1,this.YF.length-1);this.vD()}this.ahE=Date.now();
return}_.stopPropagation();var m=this.ft.indexOf(_.currentTarget);if(_.type=="contextmenu"){if(this.Fp==null)return;
_.preventDefault();var O=m==-1?this.lD:this.hB;O.parent=this;O.f();this.C5({d:H.t.X3,B_:O,x:_.clientX+4,y:_.clientY});
return}var l=this.l$(),x=l.indexOf(m);if(_.button!=0&&x!=-1)return;if(_.target==this.WE)this.gl([]);
else{if(_.ctrlKey){if(x==-1)l.push(m);else l.splice(x,1)}else if(_.shiftKey&&l.length!=0){var t=l[0];
if(t<m){var h=m;m=t;t=h}l=[];this.gl(l);for(var V=m;V<=t;V++)l.push(V)}else{this.gl([m]);if(Date.now()-this.EC<300&&l.length!=0&&l[0]==m){this.a6V(m);
this.EC=0}}}this.EC=Date.now();this.kB()};Storage.prototype.C5=function(_){var n=new e_(H.E.L,!0);n.data=_;
this.$(n)};Storage.prototype.afU=function(_,n){this.C5({d:H.t.Oc,kY:hU.get([1,2])+" ..."});this.VP("save",_);
if(Storage.Qe)console.log(Math.floor(Date.now()/1e3),"ArrayBuffer[]");this._8.contentWindow.postMessage(n,"*")};
Storage.KG={PDF:"#ff2222",PSD:"#005599",PSB:"#005599"};Storage.a1z=function(_){_=_.toLowerCase();var n=0;
for(var m=0;m<_.length;m++)n+=_.charCodeAt(m)*613<<8*m;return"#"+Q.sN(n&16777215)};Storage.a45="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjIiIGJhc2VQcm9maWxlPSJ0aW55LXBzIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0ODggNDEwIiB3aWR0aD0iNDg4IiBoZWlnaHQ9IjQxMCI+PHRpdGxlPmZvbGRlci1zdmc8L3RpdGxlPjxzdHlsZT50c3BhbiB7IHdoaXRlLXNwYWNlOnByZSB9LnNocDAgeyBmaWxsOiAjZGJiMDY1IH0gLnNocDEgeyBmaWxsOiAjOTY3YTQ0IH0gLnNocDIgeyBmaWxsOiAjZjVjZTg1IH0gPC9zdHlsZT48cGF0aCBjbGFzcz0ic2hwMCIgZD0iTTcuMiA0MDMuNEw3LjIgNi42TDEzOC45NSA2LjZMMTc3LjM1IDQ1TDQ4MC44IDQ1TDQ4MC44IDQwMy40TDcuMiA0MDMuNFoiIC8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGFzcz0ic2hwMSIgZD0iTTE0MS42IDAuMkwxODAgMzguNkw0ODcuMiAzOC42TDQ4Ny4yIDQwOS44TDAuOCA0MDkuOEwwLjggMC4yTDE0MS42IDAuMlpNMTMuNiAxM0wxMy42IDM5N0w0NzQuNCAzOTdMNDc0LjQgNTEuNEwxNzQuNyA1MS40TDEzNi4zIDEzTDEzLjYgMTNaIiAvPjxnID48cGF0aCBjbGFzcz0ic2hwMiIgZD0iTTcuMiA0MDMuNEw3LjIgNzAuNkwxNDMuNTMgNzAuNkwxODEuOTMgNDVMNDgwLjggNDVMNDgwLjggNDAzLjRMNy4yIDQwMy40WiIgLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsYXNzPSJzaHAxIiBkPSJNNDg3LjIgMzguNkw0ODcuMiA0MDkuOEwwLjggNDA5LjhMMC44IDY0LjJMMTQxLjYgNjQuMkwxODAgMzguNkw0ODcuMiAzOC42Wk0xODMuODggNTEuNEwxNDUuNDggNzdMMTMuNiA3N0wxMy42IDM5N0w0NzQuNCAzOTdMNDc0LjQgNTEuNEwxODMuODggNTEuNFoiIC8+PC9nPjwvc3ZnPg==";
Storage.Dk="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjIiIGJhc2VQcm9maWxlPSJ0aW55LXBzIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNDggNDI0IiB3aWR0aD0iMzQ4IiBoZWlnaHQ9IjQyNCI+PHRpdGxlPmZpbGUtc3ZnPC90aXRsZT48c3R5bGU+dHNwYW4geyB3aGl0ZS1zcGFjZTpwcmUgfS5zaHAwIHsgZmlsbDogI2ZmZmZmZiB9IC5zaHAxIHsgZmlsbDogI2M3ZDdlMiB9IC5zaHAyIHsgZmlsbDogIzQ1NGI1NCB9IDwvc3R5bGU+PHBhdGggY2xhc3M9InNocDAiIGQ9Ik0yOTYgNDEyTDUyIDQxMkMzMCA0MTIgMTIgMzk0IDEyIDM3MkwxMiA1MkMxMiAzMCAzMCAxMiA1MiAxMkwyOTYgMTJDMzE4IDEyIDMzNiAzMCAzMzYgNTJMMzM2IDM3MkMzMzYgMzk0IDMxOCA0MTIgMjk2IDQxMloiIC8+PHBhdGggY2xhc3M9InNocDEiIGQ9Ik01MiA1MkwyOTYgNTJMMjk2IDExMkw1MiAxMTJMNTIgNTJaTTI3MiAxOTJMNjggMTkyQzYxLjIgMTkyIDU2IDE4Ni44IDU2IDE4MEM1NiAxNzMuMiA2MS4yIDE2OCA2OCAxNjhMMjcyIDE2OEMyNzguOCAxNjggMjg0IDE3My4yIDI4NCAxODBDMjg0IDE4Ni44IDI3OC44IDE5MiAyNzIgMTkyWk0yNzIgMjUyTDY4IDI1MkM2MS4yIDI1MiA1NiAyNDYuOCA1NiAyNDBDNTYgMjMzLjIgNjEuMiAyMjggNjggMjI4TDI3MiAyMjhDMjc4LjggMjI4IDI4NCAyMzMuMiAyODQgMjQwQzI4NCAyNDYuOCAyNzguOCAyNTIgMjcyIDI1MlpNMTc0IDMxMkw2OCAzMTJDNjEuMiAzMTIgNTYgMzA2LjggNTYgMzAwQzU2IDI5My4yIDYxLjIgMjg4IDY4IDI4OEwxNzQgMjg4QzE4MC44IDI4OCAxODYgMjkzLjIgMTg2IDMwMEMxODYgMzA2LjggMTgwLjggMzEyIDE3NCAzMTJaIiAvPjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xhc3M9InNocDIiIGQ9Ik0yOTYgNDI0TDUyIDQyNEMyMy4yIDQyNCAwIDQwMC44IDAgMzcyTDAgNTJDMCAyMy4yIDIzLjIgMCA1MiAwTDI5NiAwQzMyNC44IDAgMzQ4IDIzLjIgMzQ4IDUyTDM0OCAzNzJDMzQ4IDQwMC44IDMyNC44IDQyNCAyOTYgNDI0Wk01MiAyNEMzNi40IDI0IDI0IDM2LjQgMjQgNTJMMjQgMzcyQzI0IDM4Ny42IDM2LjQgNDAwIDUyIDQwMEwyOTYgNDAwQzMxMS42IDQwMCAzMjQgMzg3LjYgMzI0IDM3MkwzMjQgNTJDMzI0IDM2LjQgMzExLjYgMjQgMjk2IDI0TDUyIDI0WiIgLz48L3N2Zz4=";
function h4(_){b1.call(this);var n=this.m=L.S("div","form scrollable padded label12");this.re=_;this.dK=null;
var O=[],l=h4.hE[_];this.QG=[];for(var x in l){var t=parseInt(x.slice(1)),h=t%10==0?"":"\u2800\u2800- ";
O.push(h+l[x]);this.QG.push(t)}this.TK=[new g_("Name",null,30),new g_("Description",null,30,4),_==0?new g_("File"," www.Photopea.com#i...",17):new bk("File",!1,!1),new g_("Thumbnail URL","* Use Imgur.com etc.",17),new cB("Category",O),new dE("Make Public"),new cw("<< Back",null,null,!0),new cw("Save",null,null,!0)];
if(_==0)this.TK.push(new an("Publish your PSD: File - Publish Online - PSD. Use that URL as \"File\"."),new an("Get a Thumbnail URL: File - Publish Online - JPG. At Imgur.com, right-click your image and choose \"Copy Image Address\"."));
if(_==1)this.TK.push(new an("\"File\" - select a .JSON file of a plugin from your computer. The content must be: {\"name\": ..., \"url\":..., \"icon\":... }"));
if(_!=0)this.TK.push(new an("Do not load any file to preserve the old version."));for(var m=0;m<this.TK.length;
m++){var V=this.TK[m];n.appendChild(V.m);V.parent=this;if(m!=4&&m!=6)L.z0(n);if(V instanceof cw)V.Z("click",this.axv,this)}}h4.prototype=new b1;
h4.prototype.axv=function(_){if(_.target==this.TK[6]){this.$(new e_("back"));return}var n=this.TK[3].b().trim(),O=n.startsWith("http")&&(n.endsWith(".jpeg")||n.endsWith(".jpg")||n.endsWith(".png")||n.endsWith(".gif"));
if(!O){alert("Thumbnail URL is incorrect.");return}var l=new XMLHttpRequest,x="mirror.php?url="+encodeURIComponent(n);
l.open("GET",x);l.responseType="arraybuffer";l.onload=this.a0d.bind(this);l.send()};h4.prototype.a0d=function(_){var n=_.target.response,O=n.byteLength;
if(O>2e5&&dx.N_(n)!="gif"){alert("Thumbnail is too large ("+cH.Mi(O)+"). Make it under 200 kB.");return}var l=this.TK[2].b(),x=Object.keys(l);
if(this.re!=0&&x.length!=0){console.log(l);iR.Zd.aiE(l[x[0]].buffer,x[0],this.amr.bind(this),"pp-resources");
return}this.amr()};h4.prototype.amr=function(_){var n=this.re,O="name desc file thmb catg publ".split(" "),l=this.dK;
for(var m=0;m<6;m++){if(n!=0&&m==2)continue;var x=this.TK[m].b();if(m<=3){x=x.trim();if(x.length==0){alert("One of values is empty.");
return}}if(m==2){var t=x.split("#i");if(t.length!=2||t[1].length!=8){alert("File ID is incorrect.");
return}x=t.pop()}if(m==4)x=this.QG[x];l[O[m]]=x}if(n!=0){if(_)l.file=_;else if(l.file==null){alert("Select a file from your computer.");
return}}if(l.utme.length==0)l.utme=""+Math.round(Date.now()/1e3);l.type=n;this.$(new e_("save"))};h4.prototype.f=function(){};
h4.prototype.c=function(_){var n=this.dK=JSON.parse(JSON.stringify(_)),O="name desc file thmb catg publ".split(" ");
for(var m=0;m<6;m++){var l=n[O[m]];if(l!=""&&m==2)l="https://photopea.com#i"+l;if(m==4)l=this.QG.indexOf(l);
if(m==5&&l==null)l=!0;this.TK[m].c(l)}};h4.prototype.b=function(){return JSON.parse(JSON.stringify(this.dK))};
h4.hE=[{c0:"Mockups",c1:"Mobile & Web",c2:"Prints",c3:"Product",c10:"Social Media",c11:"Youtube",c12:"Instagram",c13:"Facebook",c14:"Memes",c15:"Signs",c16:"Animations",c20:"Print",c21:"Cards",c22:"Invitations",c23:"Brochures",c24:"Resumes",c25:"Diploma / Certificate",c30:"Mobile",c40:"Websites",c50:"Presentations",c60:"Other"},{c0:"Resources",c1:"Image Elements",c2:"Fonts",c10:"Effects",c11:"Filters",c12:"Combine Elements",c13:"Text Effects",c20:"Generate Content",c30:"Other Plugins"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"}];
function ez(_){b1.call(this);this.yT=_;this.m=L.S("div","");this.jV=[];this.BA=null;this.axO=[]}ez.prototype=new b1;
ez.prototype.L9=function(_){};ez.prototype.bv=function(){return!1};ez.prototype.A$=function(_,n){};ez.prototype.w1=function(_,n){};
ez.prototype.pz=function(_){};ez.prototype.c=function(_,n,O,l,x,t){var h=[],V=this.jV,y=0,r=ie.rZ["s"+this.yT];
r?r(_,h,t):this.Ea(_,h,t);for(var m=0;m<V.length;m++)if(!(V[m]instanceof an))V[m].c(h[y++]);if(_.RndS)this.BA=_.RndS.v};
ez.prototype.b=function(){var _=ie.gV(this.yT),n=[],O=this.jV,l=0;for(var m=0;m<O.length;m++)if(!(O[m]instanceof an))n[l++]=O[m].b();
var x=ie.rZ["g"+this.yT];x?x(_,n):this.CE(_,n);if(_.RndS)_.RndS.v=this.BA;return _};ez.prototype.op=function(_){};
ez.prototype.M8=function(_){if(_&&_.target instanceof cw){this.BA=Math.floor(Math.random()*4294967295)}var n=this.axO;
for(var m=0;m<n.length;m+=2){var O=this.jV[n[m]],l=this.jV[n[m+1]],x=O.b(),t=l.b();if(_.target==O)l.c(Math.max(x,t));
else O.c(Math.min(x,t))}this.$(new e_(H.E.A))};ez.prototype.f=function(){for(var m=0;m<this.jV.length;
m++)this.jV[m].f();var _=this.aax;if(_)_.f()};ez.prototype.L7=function(_){L.NT(this.m,"form");var n=this.jV;
for(var m=0;m<n.length;m++){var O=n[m];O.parent=this;O.Z(H.E.A,this.M8,this);this.m.appendChild(O.m);
if(O instanceof dE&&n[m+1]instanceof fS)continue;if(_&&_.indexOf(m)!=-1)L.q9(this.m);else L.z0(this.m)}var l=ie.gV(this.yT);
if(l.RndS){var x=this.aax=new cw([25,1,2],null,null,!0);this.m.appendChild(x.m);x.Z("click",this.M8,this)}};
ez.prototype.GH=function(){return!1};ez.prototype.Ta=function(_,n,O,l,x){};ez.prototype.Xg=function(_,n,O,l,x){};
ez.prototype.PF=function(_,n,O,l,x){};ez.prototype.CE=function(_,n){};ez.prototype.Ea=function(_,n){};
ez.prototype.KC=function(_){var n=_.target.b().indexOf(!0)!=-1,O=new e_(H.E.L,!0);O.$o=!0;O.data={d:n?H.t.dw:H.t.I0,G:D.Yf};
this.$(O);O=new e_(H.E.s,!0);O.G=D.Yf;O.$o=!0;O.data={d:"supertool",G:n?this:null};this.$(O)};ez.avt=function(_){_.GH=function(){return!0};
_.Ta=function(n,O,l,x,t){this.I7=!0;this.agd(n,t)};_.Xg=function(n,O,l,x,t){if(!this.I7)return;this.agd(n,t)};
_.PF=function(n,O,l,x,t){this.I7=!1};_.agd=function(n,O){var l=new a8(0,0,n.a,n.n);if(n.P)l=n.P.rect;
var x=n.u.vk(O.x,O.y);x.x-=l.x;x.y-=l.y;function t(h,V){return Math.round(Math.max(0,Math.min(100,100*h/V)))}this.jV[2].c(t(x.x,l.a));
this.jV[3].c(t(x.y,l.n));this.M8()}};ez.Bokh=function(){ez.call(this,"Bokh");this.jV=[new cB("Depth Map",["A","b"]),new jD("Focal Distance",0,255),new dE([4,11]),new cB([12,76,1],["Triangle (3)",["VAR0 (4)",[12,93,3]],"Pentagon (5)","Hexagon (6)","Heptagon (7)","Octagon (8)"]),new jD([12,56],0,100),new jD([12,15],0,360),new jD([12,2],0,100),new jD([4,13],0,255),new jD([24,6],0,100),new im([12,58],[[12,59,0],[12,59,1]]),new dE([12,60])];
this.L7([5,7])};ez.Bokh.prototype=new ez;ez.Bokh.prototype.Ea=function(_,n,O){var l=[[22,5,0],[6,5,3],[6,2]],x=_.BkDi.v.BtDi,t=_.BkDc,h=0;
if(x=="BeIn")h=0;else if(x=="BeIt"&&t.v.BtDc=="BeCt")h=1;else if(x=="BeIt"&&t.v.BtDc=="BeCm")h=2;else h=3+t.v;
for(var m=0;m<O[1].length;m++)l.push(O[1][m].name);this.jV[0].aV(l,[3]);n[0]=h;n[1]=_.BkDp.v;n[2]=_.BkDs.v;
n[3]=parseInt(_.BkIs.v.BtIs.slice(3))-3;n[4]=_.BkIb.v;n[5]=_.BkIr.v;n[6]=_.BkSb.v;n[7]=_.BkSt.v;n[8]=_.BkNa.v;
n[9]=_.BkNt.v.BtNt=="BeNu"?0:1;n[10]=_.BkNm.v};ez.Bokh.prototype.CE=function(_,n){var O;if(n[0]==0){O="BeIn";
delete _.BkDc}else if(n[0]<3){O="BeIt";_.BkDc={t:"enum",v:{BtDc:["BeCt","BeCm"][n[0]-1]}}}else{O="BeIa";
_.BkDc={t:"long",v:n[0]-3}}_.BkDi.v.BtDi=O;_.BkDp.v=n[1];_.BkDs.v=n[2];_.BkIs.v.BtIs="BeS"+(3+n[3]);
_.BkIb.v=n[4];_.BkIr.v=n[5];_.BkSb.v=n[6];_.BkSt.v=n[7];_.BkNa.v=n[8];_.BkNt.v.BtNt=["BeNu","BeNg"][n[9]];
_.BkNm.v=n[10]};ez.oilPaint=function(){ez.call(this,"oilPaint");this.jV=[new jD([12,56],.1,10,"px",!0),new jD("Cleanliness",0,10,"px",!0),new jD([12,38],.1,10,null,!0),new jD("Bristle Detail",0,10,null,!0),new dE("Lighting"),new jD("Shine",0,10,null,!0),new iq([12,15])];
this.L7()};ez.oilPaint.prototype=new ez;ez.oilPaint.prototype.Ea=function(_,n){var O="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var m=0;m<O.length;m++)n[m]=_[O[m]].v;n[6]=[_.LghD.v]};ez.oilPaint.prototype.CE=function(_,n){var O="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var m=0;m<O.length;m++)_[O[m]].v=n[m];_.LghD.v=n[6][0]};ez.TrcC=function(){ez.call(this,"TrcC");
this.jV=[new jD("Level",0,255),new im([12,69],[[19,4,1],[19,4,0]])];this.L7()};ez.TrcC.prototype=new ez;
ez.TrcC.prototype.Ea=function(_,n){n[0]=_.Lvl.v;n[1]=["Lwr","Upr"].indexOf(_.Edg.v.CntE)};ez.TrcC.prototype.CE=function(_,n){_.Lvl.v=n[0];
_.Edg.v.CntE=["Lwr","Upr"][n[1]]};ez["Dfs "]=function(){ez.call(this,"Dfs ");this.jV=[new im([12,36],[[15,10,0],[15,10,6],[15,10,11],"Anisotropic"])];
this.L7()};ez["Dfs "].prototype=new ez;ez["Dfs "].prototype.Ea=function(_,n){n[0]=["Nrml","DrkO","LghO","anisotropic"].indexOf(_.Md.v.DfsM)};
ez["Dfs "].prototype.CE=function(_,n){_.Md.v.DfsM=["Nrml","DrkO","LghO","anisotropic"][n[0]]};ez.Embs=function(){ez.call(this,"Embs");
this.jV=[new iq([12,15]),new jD([12,42],1,100,"px"),new jD([12,57],1,500,"%")];this.L7()};ez.Embs.prototype=new ez;
ez.Embs.prototype.Ea=function(_,n){n[0]=[_.Angl.v];n[1]=_.Hght.v;n[2]=_.Amnt.v};ez.Embs.prototype.CE=function(_,n){_.Angl.v=n[0][0];
_.Hght.v=n[1];_.Amnt.v=n[2]};ez["Wnd "]=function(){ez.call(this,"Wnd ");this.jV=[new im([12,32],["Wind","Blast","Stagger"]),new im([12,33],["From the Right","From the Left"])];
this.L7()};ez["Wnd "].prototype=new ez;ez["Wnd "].prototype.Ea=function(_,n){n[0]=["Wnd","Blst","Stgr"].indexOf(_.WndM.v.WndM);
n[1]=["Left","Rght"].indexOf(_.Drct.v.Drct)};ez["Wnd "].prototype.CE=function(_,n){_.WndM.v.WndM=["Wnd","Blst","Stgr"][n[0]];
_.Drct.v.Drct=["Left","Rght"][n[1]]};ez.denoise=function(){ez.call(this,"denoise");this.jV=[new jD([12,64],0,10),new jD([12,65],0,100,"%")];
this.L7()};ez.denoise.prototype=new ez;ez.denoise.prototype.Ea=function(_,n){var O=_.channelDenoise.v[0].v;
n[0]=O.Amnt.v;n[1]=O.EdgF.v};ez.denoise.prototype.CE=function(_,n){var O=_.channelDenoise.v[0].v;O.Amnt.v=n[0];
O.EdgF.v=n[1]};ez.lightFilterGradient=function(){ez.call(this,"lightFilterGradient");this.jV=[new jD([24,3,1],0,100,"px",1,!0),new jD([12,38],0,200,"%"),new dE([4,11]),new jD("High",0,100,"%"),new jD("Medium",0,100,"%"),new jD("Low",0,100,"%")];
this.L7()};ez.lightFilterGradient.prototype=new ez;ez.lightFilterGradient.prototype.Ea=function(_,n){n[0]=_.blur.v;
n[1]=_.textureScale.v*100;n[2]=_.Scl.v==-1;var O=_.Dtl.v;n[3]=O[0].v*100;n[4]=O[1].v*100;n[5]=O[2].v*100};
ez.lightFilterGradient.prototype.CE=function(_,n){_.blur.v=n[0];_.textureScale.v=n[1]/100;_.Scl.v=n[2]?-1:1;
var O=_.Dtl.v;O[0].v=n[3]/100;O[1].v=n[4]/100;O[2].v=n[5]/100};ez.Fbrs=function(){ez.call(this,"Fbrs");
this.jV=[new jD("Variance",1,64),new jD([12,64],1,64)];this.L7()};ez.Fbrs.prototype=new ez;ez.Fbrs.prototype.Ea=function(_,n){n[0]=_.Vrnc.v;
n[1]=_.Strg.v};ez.Fbrs.prototype.CE=function(_,n){_.Vrnc.v=n[0];_.Strg.v=n[1]};ez.LnsF=function(){ez.call(this,"LnsF");
this.jV=[new jD([12,2],10,300,"%"),new im([12,44],["Lens 1","Lens 2","Lens 3","Lens 4"]),new jD("Position X",0,100,"%"),new jD("Position Y",0,100,"%")];
this.L7()};ez.LnsF.prototype=new ez;ez.LnsF.prototype.Ea=function(_,n){n[0]=_.Brgh.v;n[1]=["Zm","Nkn","Nkn1","PnVs"].indexOf(_.Lns.v.Lns);
var O=_.FlrC.v;n[2]=Math.round(O.Hrzn.v*100);n[3]=Math.round(O.Vrtc.v*100)};ez.LnsF.prototype.CE=function(_,n){_.Brgh.v=n[0];
_.Lns.v.Lns=["Zm","Nkn","Nkn1","PnVs"][n[1]];var O=_.FlrC.v;O.Hrzn.v=n[2]/100;O.Vrtc.v=n[3]/100};ez.avt(ez.LnsF.prototype);
ez.blendOptions=function(){ez.call(this,"blendOptions");this.jV.push(new cB([12,19,0],b3.Fw,!1,b3.UU));
this.jV.push(new jD([12,0],0,100,"%"));this.L7()};ez.blendOptions.prototype=new ez;ez.blendOptions.prototype.Ea=function(_,n){n[0]=b3.AM.indexOf(_.Md.v.BlnM);
n[1]=_.Opct.v.val};ez.blendOptions.prototype.CE=function(_,n){_.Md.v.BlnM=b3.AM[n[0]];_.Opct.v.val=n[1]};
ez.LnCr=function(){ez.call(this,"LnCr");this.jV=[new jD([12,57],-100,100),new jD([12,38],10,150,"%")];
this.L7()};ez.LnCr.prototype=new ez;ez.LnCr.prototype.Ea=function(_,n){n[0]=_.LnIa.v;n[1]=_.LnSi.v};
ez.LnCr.prototype.CE=function(_,n){_.LnIa.v=n[0];_.LnSi.v=n[1]};ez.adaptCorrect=function(){ez.call(this,"adaptCorrect");
var _=bb;this.jV=[new an([19,6,0]),new _([12,57],0,100,"%"),new _("Tone",0,100,"%"),new _([12,56],0,200,"px"),new an([19,6,2]),new _([12,57],0,100,"%"),new _("Tone",0,100,"%"),new _([12,56],0,200,"px"),new an([3]),new _([13,0],-100,100)];
this.L7([3,7])};ez.adaptCorrect.prototype=new ez;ez.adaptCorrect.prototype.Ea=function(_,n){var O=_.sdwM.v;
n[0]=O.Amnt.v.val;n[1]=O.Wdth.v.val;n[2]=O.Rds.v;var O=_.hglM.v;n[3]=O.Amnt.v.val;n[4]=O.Wdth.v.val;
n[5]=O.Rds.v;n[6]=_.ClrC.v};ez.adaptCorrect.prototype.CE=function(_,n){var O=_.sdwM.v;O.Amnt.v.val=n[0];
O.Wdth.v.val=n[1];O.Rds.v=n[2];var O=_.hglM.v;O.Amnt.v.val=n[3];O.Wdth.v.val=n[4];O.Rds.v=n[5];_.ClrC.v=n[6]};
ez.Flam=function(){ez.call(this,"Flam");var _=this.jV=[new cB([12,44],"One Flame Along Path,Multiple Flames Along Path,Multiple Flames One Direction,Multiple Flames Path Directed,Multiple Flames Various Angle,Candle Light".split(",")),new jD([12,80,0],20,1e3,"px"),new dE("Randomize Length"),new jD([12,41],5,600,"px"),new jD([12,15],0,360,"\xB0"),new jD("Interval",10,200,"px"),new dE("Adapt Interval for Loops"),new fS(!1),new cB([12,52,0],["1: Draft","2: Low","3: Medium","4: High","5: Fine"]),new jD("Turbulent",0,100),new jD("Jag",0,100),new jD([12,0],0,100),new jD("Lines",2,30),new jD("Bottom",0,100),new cB([12,22],["Normal","Violent","Flat"]),new cB([12,76,1],["Parallel","To the center","Spread","Oval","Pointing"]),new dE("Randomize Shape"),new jD("Random Seed",0,100)];
this.L7();var n=this.m;L.I$(n);var O=new im(null,["Basic","Advanced"]);O.Z(H.E.A,this.ayy,this);n.appendChild(O.m);
L.q9(n);var l=L.S("div"),x=L.S("div");this.agP=[l,x];n.appendChild(l);for(var m=0;m<_.length;m++){(m<9?l:x).appendChild(_[m].m);
if(m==6)L.z0(l)}_[0].Z(H.E.A,this.a4v,this);this.a4v()};ez.Flam.prototype=new ez;ez.Flam.prototype.a4v=function(_){var n=this.jV,m=n[0].b();
n[1].Nf(m!=0&&m!=5);n[2].Nf(m!=0&&m!=5);n[4].Nf(m!=0&&m!=5&&m!=1);n[5].Nf(m!=0&&m!=5);n[6].Nf(m!=0&&m!=5)};
ez.Flam.prototype.ayy=function(_){var m=_.target.b(),n=this.agP,O=this.m;O.removeChild(n[1-m]);O.appendChild(n[m])};
ez.boxblur=function(){ez.call(this,"boxblur");this.jV=[new jD([12,56],1,200," px")];this.L7()};ez.boxblur.prototype=new ez;
ez.boxblur.prototype.Ea=function(_,n){n[0]=_.Rds.v.val};ez.boxblur.prototype.CE=function(_,n){_.Rds.v.val=n[0]};
ez.GsnB=function(){ez.call(this,"GsnB");this.jV=[new jD([12,56],.1,400,"px",1,!0)];this.L7()};ez.GsnB.prototype=new ez;
ez.Dila=function(){ez.call(this,"Dila");this.jV=[new jD([11,12,1],0,20,"px",0),new jD([12,56],0,400,"px",0,!0)];
this.L7()};ez.Dila.prototype=new ez;ez.MtnB=function(){ez.call(this,"MtnB");this.jV=[new iq([12,15]),new jD([12,28],1,100," px")];
this.L7()};ez.MtnB.prototype=new ez;ez.RdlB=function(){ez.call(this,"RdlB");this.jV=[new jD([12,57],1,100),new im([12,36],["Spin","Zoom"]),new jD("Position X",0,100,"%"),new jD("Position Y",0,100,"%")];
this.L7()};ez.RdlB.prototype=new ez;ez.RdlB.prototype.Ea=function(_,n){n[0]=_.Amnt.v;n[1]=["Spn","Zm"].indexOf(_.BlrM.v.BlrM);
n[2]=_.Cntr.v.Hrzn.v*100;n[3]=_.Cntr.v.Vrtc.v*100};ez.RdlB.prototype.CE=function(_,n){_.Amnt.v=n[0];
_.BlrM.v.BlrM=["Spn","Zm"][n[1]];_.Cntr.v.Hrzn.v=n[2]/100;_.Cntr.v.Vrtc.v=n[3]/100};ez.avt(ez.RdlB.prototype);
ez.Dspl=function(){ez.call(this,"Dspl");this.jV=[new cB([6,36,3],["a","b"]),new jD([22,4,0],-100,100,"px"),new jD([22,4,1],-100,100,"px"),new cB([24,18,0],[[24,18,3],[24,18,2]])];
this.L7()};ez.Dspl.prototype=new ez;ez.Dspl.prototype.Ea=function(_,n,O){this.ajz=[];this.bM=[];var l=-1,x=O?O[0]:null;
if(x==null)x=this.ahf;else this.ahf=x;if(x)for(var m=0;m<x.length;m++){var t=x[m];this.ajz.push(t.L5.trim());
this.bM.push(t.Et);if(t.Et==_.DspF.v.pth)l=m}this.jV[0].aV(this.ajz);n[0]=l==-1?0:l;n[1]=_.HrzS.v;n[2]=_.VrtS.v;
n[3]=["WrpA","RptE"].indexOf(_.UndA.v.UndA)};ez.Dspl.prototype.CE=function(_,n){if(this.bM.length==0)return;
_.DspF.v.pth=this.bM[n[0]];_.HrzS.v=n[1];_.VrtS.v=n[2];_.UndA.v.UndA=["WrpA","RptE"][n[3]]};ez.Pnch=function(){ez.call(this,"Pnch");
this.jV=[new jD([12,57],-100,100,"%")];this.L7()};ez.Pnch.prototype=new ez;ez["Plr "]=function(){ez.call(this,"Plr ");
this.jV=[new im(null,["Rect to Polar","Polar to Rect"])];this.L7()};ez["Plr "].prototype=new ez;ez.Rple=function(){ez.call(this,"Rple");
this.jV=[new jD([12,57],-999,999),new cB([12,14,0],[[19,8,0],[19,8,1],[19,8,2]])];this.L7()};ez.Rple.prototype=new ez;
ez["Shr "]=function(){ez.call(this,"Shr ");this.jV=[new gc(!0,!0),new cB([24,18,0],[[24,18,3],[24,18,2]])];
this.L7()};ez["Shr "].prototype=new ez;ez["Shr "].prototype.Ea=function(_,n){var O=new aY(0,255/127,255/127,0,-2,128),l=JSON.parse(JSON.stringify(_.ShrP.v));
Q.xu.D(l,O);n[0]=l;n[1]=["WrpA","RptE"].indexOf(_.UndA.v.UndA)};ez["Shr "].prototype.CE=function(_,n){var O=new aY(0,255/127,255/127,0,-2,128);
O.sJ();Q.xu.D(n[0],O);_.ShrP.v=n[0];_.ShrE.v=n[0].length-1;_.UndA.v.UndA=["WrpA","RptE"][n[1]]};ez.Sphr=function(){ez.call(this,"Sphr");
this.jV=[new jD([12,57],-100,100),new cB([12,36],[[15,10,0],[22,4,0],[22,4,1]])];this.L7()};ez.Sphr.prototype=new ez;
ez.Sphr.prototype.Ea=function(_,n){n[0]=_.Amnt.v;n[1]=["Nrml","HrzO","VrtO"].indexOf(_.SphM.v.SphM)};
ez.Sphr.prototype.CE=function(_,n){_.Amnt.v=n[0];_.SphM.v.SphM=["Nrml","HrzO","VrtO"][n[1]]};ez.Dthr=function(){ez.call(this,"Dthr");
this.jV=[new cB("Palette",[[4,7],"RGB 2x2x2","RGB 4x4x4","RGB 8x8x4"]),new im("Method",["None","Floyd-Steinberg","Bayer 4x4"])];
this.L7()};ez.Dthr.prototype=new ez;ez.Dthr.prototype.Ea=function(_,n){n[0]=_.Plte.v;n[1]=_.Mthd?_.Mthd.v:1};
ez.Dthr.prototype.CE=function(_,n){_.Plte.v=n[0];_.Mthd.v=n[1]};ez.Part=function(){ez.call(this,"Part");
this.jV=[new jD([15,5,1],0,100,"%"),new jD([12,14,0],1,50,"px"),new jD([12,34],0,100,"%"),new jD([12,2],10,1e3,"%"),new fS(!0),new jD("Time",0,1,null,3),new jD("Turbulence",0,100,"%"),new dE("Blink"),new dE("Fall")];
this.L7([4])};ez.Part.prototype=new ez;ez.Part.prototype.Ea=function(_,n){n[0]=_.Cont.v;n[1]=_.Size.v;
n[2]=_.Dpth.v;n[3]=_.Brgh.v;n[4]=_.Clr.v;n[5]=_.Time.v;n[6]=_.Turb.v;n[7]=_.Blnk.v;n[8]=_.Fall.v};ez.Part.prototype.CE=function(_,n){_.Cont.v=n[0];
_.Size.v=n[1];_.Dpth.v=n[2];_.Brgh.v=n[3];_.Clr.v=n[4];_.Time.v=n[5];_.Turb.v=n[6];_.Blnk.v=n[7];_.Fall.v=n[8]};
ez.Twrl=function(){ez.call(this,"Twrl");this.jV=[new jD([12,15],-999,999)];this.L7()};ez.Twrl.prototype=new ez;
ez.Wave=function(){ez.call(this,"Wave");this.axO=[1,2,3,4];this.jV=[new jD("Number of Generators",1,100),new bb("Min Length",1,999),new bb("Max Length",1,999),new bb("Min Ampl.",1,999),new bb("Max Ampl.",1,999),new bb("Scale X",1,100,"%"),new bb("Scale Y",1,100,"%"),new im([12,44],["Sine","Triangle",[12,93,3]]),new cB([24,18,0],[[24,18,3],[24,18,2]])];
this.L7()};ez.Wave.prototype=new ez;ez.ZgZg=function(){ez.call(this,"ZgZg");this.jV=[new jD([12,57],-100,100),new jD("Ridges",0,20),new cB([12,22],["Around Center","Out From Center","Pond Ripples"])];
this.L7()};ez.ZgZg.prototype=new ez;ez.surfaceBlur=function(){ez.call(this,"surfaceBlur");this.jV=[new jD([12,56],1,200," px"),new jD([4,13],1,255," px")];
this.L7()};ez.surfaceBlur.prototype=new ez;ez.surfaceBlur.prototype.Ea=function(_,n){n[0]=_.Rds.v.val;
n[1]=_.Thsh.v};ez.surfaceBlur.prototype.CE=function(_,n){_.Rds.v.val=n[0];_.Thsh.v=n[1]};ez.AdNs=function(){ez.call(this,"AdNs");
this.jV=[new jD([12,57],0,200," %"),new cB([12,58],[[12,59,1],[12,59,0]]),new dE([12,60])];this.L7()};
ez.AdNs.prototype=new ez;ez.DstS=function(){ez.call(this,"DstS");this.jV=[new jD([12,56],1,200," px"),new jD([4,13],1,255," px")];
this.L7()};ez.DstS.prototype=new ez;ez["Mdn "]=function(){ez.call(this,"Mdn ");this.jV=[new jD([12,56],1,200," px")];
this.L7()};ez["Mdn "].prototype=new ez;ez["Mdn "].prototype.Ea=function(_,n){n[0]=_.Rds.v.val};ez["Mdn "].prototype.CE=function(_,n){_.Rds.v.val=n[0]};
ez.ClrH=function(){ez.call(this,"ClrH");this.jV=[new jD([12,56],4,100," px")];for(var m=1;m<4;m++)this.jV.push(new jD("Angle "+m,0,90," \xB0"));
this.L7()};ez.ClrH.prototype=new ez;ez.ClrH.prototype.Ea=function(_,n){n[0]=_.Rds.v;for(var m=1;m<4;
m++)n[m]=_["Ang"+m].v};ez.ClrH.prototype.CE=function(_,n){_.Rds.v=n[0];for(var m=1;m<4;m++)_["Ang"+m].v=n[m]};
ez.ClrH.prototype.f=function(){var _=this.jV;_[0].f();for(var m=1;m<4;m++)_[m].KM(hU.get([12,15])+" "+m)};
ez.Crst=function(){ez.call(this,"Crst");this.jV=[new jD([12,61],3,100," px")];this.L7()};ez.Crst.prototype=new ez;
ez.Crst.prototype.Ea=function(_,n){n[0]=_.ClSz.v};ez.Crst.prototype.CE=function(_,n){_.ClSz.v=n[0]};
ez.Mztn=function(){ez.call(this,"Mztn");this.jV.push(new cB([12,44],"Fine Dots,Medium Dots,Grainy Dots,Coarse Dots,Short Lines,Medium Lines,Long Lines,Short Strokes,Medium Strokes,Long Strokes".split(","),null,[4,3,3]));
this.bM="FnDt MdmD GrnD CrsD ShrL MdmL LngL ShSt MdmS LngS".split(" ");this.L7()};ez.Mztn.prototype=new ez;
ez.Mztn.prototype.Ea=function(_,n){n[0]=this.bM.indexOf(_.MztT.v.MztT)};ez.Mztn.prototype.CE=function(_,n){_.MztT.v.MztT=this.bM[n[0]]};
ez["Msc "]=function(){ez.call(this,"Msc ");this.jV=[new jD([12,61],2,200," px")];this.L7()};ez["Msc "].prototype=new ez;
ez["Msc "].prototype.Ea=function(_,n){n[0]=_.ClSz.v.val};ez["Msc "].prototype.CE=function(_,n){_.ClSz.v.val=n[0]};
ez.Pntl=function(){ez.call(this,"Pntl");this.jV=[new jD([12,61],3,100," px")];this.L7()};ez.Pntl.prototype=new ez;
ez.Pntl.prototype.Ea=function(_,n){n[0]=_.ClSz.v};ez.Pntl.prototype.CE=function(_,n){_.ClSz.v=n[0]};
ez.smartSharpen=function(){ez.call(this,"smartSharpen");this.jV=[new jD([12,57],1,200,"%"),new jD([12,56],0,200,"px",1,!0)];
this.L7()};ez.smartSharpen.prototype=new ez;ez.smartSharpen.prototype.Ea=function(_,n){n[0]=_.Amnt.v.val;
n[1]=_.Rds.v.val};ez.smartSharpen.prototype.CE=function(_,n){_.Amnt.v.val=n[0];_.Rds.v.val=n[1]};ez.UnsM=function(){ez.call(this,"UnsM");
this.jV=[new jD([12,57],1,200," %"),new jD([12,56],.1,400,"px",1,!0),new jD([4,13],0,255," ")];this.L7()};
ez.UnsM.prototype=new ez;ez.HghP=function(){ez.call(this,"HghP");this.jV=[new jD([12,56],.1,400,"px",1,!0)];
this.L7()};ez.HghP.prototype=new ez;ez.HsbP=function(){ez.call(this,"HsbP");this.jV=[new im("Input",["RGB","HSB","HSL"]),new im("Output",["RGB","HSB","HSL"])];
this.L7()};ez.HsbP.prototype=new ez;ez["Mxm "]=function(){ez.call(this,"Mxm ");this.jV=[new jD([12,56],.1,200," px",1,!0),new cB([12,76,1],[[12,93,3],"Circle"])];
this.L7()};ez["Mxm "].prototype=new ez;ez["Mnm "]=function(){ez.call(this,"Mnm ");this.jV=[new jD([12,56],.1,200," px",1,!0),new cB([12,76,1],[[12,93,3],"Circle"])];
this.L7()};ez["Mnm "].prototype=new ez;ez.Ofst=function(){ez.call(this,"Ofst");this.jV=[new jD([22,4,0],-1024,1024," px"),new jD([22,4,1],-1024,1024," px"),new cB([24,18,0],[[24,18,2],[24,18,1],[24,18,3]])];
this.L7()};ez.Ofst.prototype=new ez;ez.Kale=function(){ez.call(this,"Kale");this.jV=[new bb("Mirrors",2,20),new bb([12,15],0,360,"\xB0")];
this.L7()};ez.Kale.prototype=new ez;ez.Kale.prototype.Ea=function(_,n){n[0]=_.Mirr.v;n[1]=_.MRot.v};
ez.Kale.prototype.CE=function(_,n){_.Mirr.v=n[0];_.MRot.v=n[1]};ez.Rept=function(){ez.call(this,"Rept");
this.jV=[new bb([12,38],1,300," %"),new bb("Row Shift",-50,50," %"),new bb("Space X",-99,200," %"),new bb("Space Y",-99,200," %"),new dE([4,16,2]),new iq([12,15])];
this.L7()};ez.Rept.prototype=new ez;ez.Rept.prototype.Ea=function(_,n){n[0]=_.Scl.v.val;n[1]=_.Rsft.v.val;
n[2]=_.SpcX.v.val;n[3]=_.SpcY.v.val;n[4]=_.SpcC.v;n[5]=[_.Angl.v]};ez.Rept.prototype.CE=function(_,n){_.Scl.v.val=n[0];
_.Rsft.v.val=n[1];_.SpcX.v.val=n[2];_.SpcY.v.val=n[3];_.SpcC.v=n[4];_.Angl.v=n[5][0];return _};ez.Ctoa=function(){ez.call(this,"Ctoa");
this.jV=[new an([13,0]),new fS(!0),new jD(["VAR0 VAR1","Transparency",[4,13]],0,100," %"),new jD(["VAR0 VAR1",[12,0],[4,13]],0,100," %")];
this.L7()};ez.Ctoa.prototype=new ez;ez.Ctoa.prototype.Ea=function(_,n){n[0]=_.Clr.v;n[1]=_.Trsp.v.val;
n[2]=_.Opct.v.val};ez.Ctoa.prototype.CE=function(_,n){_.Clr.v=n[0];_.Trsp.v.val=n[1];_.Opct.v.val=n[2]};
ez.LqFy=function(){ez.call(this,"LqFy");this.$K=!1;this.p1=!1;this.fh=null;this.awR=null;this.G=0;this.Pf=-1;
this.e={sV:[[{G:{id:0,name:[24,1,0,1,0],fV:"liq/smudge"}}],[{G:{id:1,name:[24,1,0,1,1],fV:"liq/reconstruct"}}],[{G:{id:2,name:[24,1,0,1,2],fV:"liq/smooth"}}],[{G:{id:3,name:[24,1,0,1,3],fV:"liq/twirl"}}],[{G:{id:4,name:[24,1,0,1,4],fV:"liq/shrink"}}],[{G:{id:5,name:[24,1,0,1,5],fV:"liq/blow"}}],[{G:{id:6,name:[24,1,0,1,6],fV:"liq/pleft"}}],[{G:{id:7,name:"Hand",fV:"tools/hand"}}],[{G:{id:8,name:"Zoom In",fV:"zoomIn"}}],[{G:{id:9,name:"Zoom Out",fV:"zoomOut"}}]],keys:[]};
this.Lm=new jU(this.e,!1);this.Lm.Rm(0);this.Lm.Z(H.E.L,this.ayJ,this);this.Md=bL.kw();this.Ee=null;
this.b8=[];this.cG=-1;this.qR=null;this.apt=null;this.Id=null;this.n2=null;this.IK=null;var _=L.S("div","flexrow");
this._M=_;this.m.appendChild(_);_.appendChild(this.Lm.m);this.view=new da(!0);this.view.A$(100,100);
this.view.Z("mousedown",this.km,this);this.view.Z("mousemove",this.w$,this);this.view.Z("mouseup",this.sL,this);
this.view.Z("zoom",this.ee,this);_.appendChild(this.view.m);var n=L.S("div","form");_.appendChild(n);
this.kK=n;n.style.width="230px";this.YY=[new jD([12,14,0],0,1e3,null,!1,!0),new jD([12,74],0,100,null,!1,!1),new jD([12,84],0,100,null,!1,!1),new dE([12,46]),new jD([12,0],0,100,null,!1,!1),new dE([24,18,5])];
var O=this.Md.Brsh.v;O.Dmtr.v.val=100;var l=[100,50,100,!1,100,!0];for(var m=0;m<this.YY.length;m++){var x=this.YY[m];
x.c(l[m]);if(m==4)x.E0();x.Z(H.E.A,this.ahw,this);n.appendChild(x.m)}var t=this.aol=new cw([1,12,2],!0,null,!0);
t.Z("click",this.y1,this);n.appendChild(t.m);this.axI=this.G_.bind(this);this.Bk=new b1;this.Bk.m=L.S("div","floatcont");
this.b2=new cw("Menu",!1,null,!0);var h=this.b2.m;h.setAttribute("style","position:absolute; right:13px; top:47px");
L.a9(h,this.ait.bind(this))};ez.LqFy.prototype=new ez;ez.LqFy.prototype.bv=function(){return!0};ez.LqFy.prototype.L9=function(_){this.kK.appendChild(_)};
ez.LqFy.prototype.ait=function(_){if(L.PZ(this.Bk.m))return;_.stopPropagation();var n=this.b2.m.getBoundingClientRect();
this.Bk.m.appendChild(this.kK);var O=new e_(H.E.L,!0);O.data={d:H.t.X3,B_:this.Bk,x:n.right+n.width-290,y:n.top+n.height};
this.$(O)};ez.LqFy.prototype.op=function(_){this.$K=_.l(bJ.Yk);var n=D.Os.TX(this.Md,_);if(n!=null){this.Md=n;
this.ee();this.YY[0].c(n.Brsh.v.Dmtr.v.val)}else if(_.l(bJ.mV)&&_.l(bJ.oo)){var O=this.b8;if(_.l(bJ.fc)){if(this.cG+1<O.length)this.cG++}else if(this.cG>0)this.cG--;
this.Ee.map=O[this.cG].slice(0);this.H1(null)}else if(this.G<=6)this.view.op(_);var l=this.G,x=-1,t=_.l(bJ.Yk);
if(t&&this.Pf==-1){if(l==0)x=1;if(l==4)x=5;if(l==5)x=4;if(x!=-1)this.Pf=l}if(!t&&this.Pf!=-1){x=this.Pf;
this.Pf=-1}if(x!=-1){this.G=x;this.Lm.Rm(this.G)}};ez.LqFy.prototype.ayJ=function(_){if(_.data.d==H.t.dw){var n=this.G=_.data.G;
this.Lm.Rm(this.G);this.view.op(n>6?da.a4C(n-7):new bJ)}};ez.LqFy.prototype.ahw=function(_){var n=_.currentTarget,m=this.YY.indexOf(n),O=this.Md.Brsh.v;
if(m==0){O.Dmtr.v.val=n.b();this.ee()}this.YY[4].Nf(this.YY[3].b());if(m>2)this.H1(null)};ez.LqFy.prototype.Q3=function(){var _=this.b8;
this.cG++;_[this.cG]=this.Ee.map.slice(0);while(_.length>this.cG+1)_.pop();while(_.length>50){_=_.slice(1);
this.cG--}};ez.LqFy.prototype.km=function(_){this.fh=this.view.bF();this.awR=new aW(0,0);this.p1=!0;
window.requestAnimationFrame(this.axI)};ez.LqFy.prototype.w$=function(_){var n=this.view.bF(),O=new aW(n.x-this.fh.x,n.y-this.fh.y);
if(this.G==0||this.G==6)this.arK(O);this.fh=n};ez.LqFy.prototype.sL=function(_){this.Q3();this.p1=!1};
ez.LqFy.prototype.G_=function(_){if(this.G!=0&&this.G!=6)this.arK(new aW(0,0));if(this.p1)window.requestAnimationFrame(this.axI)};
ez.LqFy.prototype.arK=function(_){var n=this.Ee,O=n.Qc/this.qR.a,l=this.fh,x=this.Md.Brsh.v,t=x.Dmtr.v.val,h=Date.now(),V=n.Qc,y=n.bE,r=Math.sqrt(_.x*_.x+_.y*_.y),E=Math.max(1,Math.ceil(r/2)),a=_.x/E,S=_.y/E,e=l.clone(),P=this.G,b=this.YY[1].b()/100,T=this.YY[2].b()/100,C=[.005,.015,0,0,.2,.2,.01,.01,.05,.35,.1,.1,.005,.015],Z=C[P*2],W=C[P*2+1],s=(1-b)*Z+b*W,f=t*O/2;
for(var m=0;m<E;m++){var q=[];e.x+=a;e.y+=S;Q.Nk.alX(n.map,V,y,P,e.x*O,e.y*O,f,b,T,a*O,S*O,q,this.$K);
Q.Nk.am6(V,y,n.map,q,2*s*T)}var g=new a8(0,0,V,y),i=new a8(l.x*O,l.y*O,0,0);i.nQ(t*O*.5,t*O*.5);var u=i.clone();
u.offset(_.x*O,_.y*O);i=i.uG(u);var I=new a8(i.x/O,i.y/O,i.a/O,i.n/O);I=Q.p.tR(I).v6(this.qR);this.YY[5].c(!0);
this.H1(I)};ez.LqFy.prototype.ee=function(){var _=gh.AQ(this.Md,null,this.view.YW().K);this.view.ST(_)};
ez.LqFy.prototype.c=function(_,n,O,l,x){O=O.clone();if(n==null)return;if(!l.yO(O)){var t=O.uG(l),h=Q.Q(t.O()*4);
Q.zw(n,O,h,t);n=h;O=t;var V=Q.Q(t.O()*4);Q.zw(x,l,V,t);x=V}O.x=O.y=0;this.Id=n;this.apt=x;this.IK=n.slice(0);
this.n2=n.slice(0);this.qR=O;this.Ee=ii.GQ(new Uint8Array(_.LqMe.v).buffer);var y=O.a,r=O.n;if(this.Ee.Qc/y<.22){this.Ee={Qc:Math.floor(y/4),bE:Math.floor(r/4)};
this.Ee.map=new Float32Array(this.Ee.Qc*this.Ee.bE*2)}this.b8=[];this.cG=-1;this.Q3();this.H1(null);
this.view.Gx();this.ee()};ez.LqFy.prototype.b=function(){var _=ie.gV("LqFy"),n=new Uint8Array(ii.uF(this.Ee)),O=[];
for(var m=0;m<n.length;m++)O.push(n[m]);_.LqMe.v=O;return _};ez.LqFy.prototype.A$=function(_,n){this.Lm.A$(_,n);
var O=this.b2.m,l=this.kK;this._M.appendChild(l);this._M.appendChild(O);if(_>450&&_-n>200){l.style.marginLeft="1em";
this._M.removeChild(O);this.view.A$(_-238-45,n)}else{l.style.marginLeft="";this._M.removeChild(l);this.view.A$(_-40,n)}};
ez.LqFy.prototype.f=function(){this.Lm.f();this.aol.f();for(var m=0;m<this.YY.length;m++)this.YY[m].f()};
ez.LqFy.prototype.y1=function(){this.Ee.map.fill(0);this.Q3();this.H1(null)};ez.LqFy.prototype.H1=function(_){var n=this.qR,O=this.Id,l=this.IK,x=this.Ee;
if(this.YY[5].b())Q.Nk.kH(O,this.n2,n.a,n.n,_,x.map,x.Qc,x.bE,0);else this.n2.set(O);if(this.YY[3].ua()){Q.zw(this.apt,n,l,n,_?_:n);
Q.q.Zn("norm",this.n2,n,l,n,_?_:n,this.YY[4].b()/100)}else Q.Jt(this.n2,l);this.view.c([{n5:n,data:l.buffer}])};
ez.GEfc=function(){ez.call(this,"GEfc");this.aq=0;this.RU=0;this.Id=null;this.IK=null;this.qR=null;this.Yw=null;
this.dK=null;this.A4=0;var _=L.S("div","flexrow");this._M=_;this.m.appendChild(_);this.view=new da(null);
this.view.A$(100,100);_.appendChild(this.view.m);this.zY="";this.U8=270;var n=this.E_=L.S("div","form scrollable");
_.appendChild(n);n.setAttribute("style","width:"+this.U8+"px;  margin-left:10px");var O=this.Cg=L.S("div","form");
_.appendChild(O);O.setAttribute("style","width:230px;  margin-left:1em");this.hr={};for(var l in cz.names){var x=new ez.GEfc.PT(l);
x.parent=this;this.hr[l]=x;x.Z(H.E.A,this.ac1,this)}this.WD=!0;this.b2=new cw("Menu",null,null,!0);this.b2.Z("click",this.atc,this);
_.appendChild(this.b2.m);this.q2=new cw(">>",null,null,!0);this.q2.Z("click",this.aep,this);O.appendChild(this.q2.m);
this.b$=L.S("div");this.b$.setAttribute("style","margin-bottom:1.5em;  display:inline-block;  width:calc(100% - 40px);");
O.appendChild(this.b$);this.Zu=L.S("div");this.Zu.style.minHeight="14em";this.Zu.style.marginBottom="1em";
O.appendChild(this.Zu);this.HY=L.S("div","lpbody scrollable");this.Hu=L.S("div","lpfoot");O.appendChild(this.HY);
O.appendChild(this.Hu);this.Z("click",this.agc,this);this.Qp=[];at.TA([[5,3],[5,4]],this.Qp,this.Hu,this.qy.bind(this))};
ez.GEfc.prototype=new ez;ez.GEfc.prototype.bv=function(){return!0};ez.GEfc.prototype.L9=function(_){this.b$.appendChild(_)};
ez.GEfc.prototype.w1=function(_,n){this.Yw=_};ez.GEfc.prototype.aep=function(_){var n=this.E_.style.display!="none";
this.E_.style.display=n?"none":"";this.q2.KM(n?"<<":">>");this.A$()};ez.GEfc.prototype.atc=function(_){this.WD=!this.WD;
this.A$()};ez.GEfc.prototype.A$=function(_,n){var O=this.E_.style.display!="none";if(_!=null){this.aq=_;
this.RU=n;if(_<1e3&&O||_>=1e3&&!O){this.aep();O=!O}this.WD=_>600}else{_=this.aq;n=this.RU}var l=this.WD?240+(O?this.U8+10:0):0;
if(L.PZ(this.Cg)&&!this.WD){this._M.removeChild(this.E_);this._M.removeChild(this.Cg)}if(!L.PZ(this.Cg)&&this.WD){this._M.appendChild(this.E_);
this._M.appendChild(this.Cg)}this.E_.style.height=n+"px";this.view.A$(_-l,n);this.HY.style.height=n-this.Zu.getBoundingClientRect().height-96+"px";
this.b2.m.setAttribute("style","position:absolute; top:46px;  right:"+(l+16)+"px")};ez.GEfc.prototype.a7W=function(){var _=dx.nG.get("img/beach",!0)[0],n=_.n5,O=this.E_,l=Math.floor(L.V()*(this.U8-40)/3),x=~~(l*.7),t=new a8(0,0,l,x),h=Q.Q(l*x*4),V=h.slice(0),y=Math.round(10*L.V()),r=new ImageData(new Uint8ClampedArray(V.buffer),l,x);
Q.zw(new Uint8Array(_.data),n,h,new a8(Math.round((n.a-l)/2),Math.round((n.n-x)/2),l,x));var E=L.S("canvas"),a=E.getContext("2d");
E.width=l;E.height=x+Math.round(y*1.5);a.font=y+"px sans-serif";this.zg={};var S=this.ach.bind(this);
for(var m=0;m<cz.hE.length;m++){var e=cz.hE[m],P=L.S("div");O.appendChild(P);P.setAttribute("style","background-color:rgba(0,0,0,0.2); padding:0px 8px; margin-bottom:8px");
P.textContent=hU.get(e);for(var b in cz.names){var T=cz.names[b];if(T[0]!=m)continue;cz.Er(b,{rect:t,buffer:h},cz.gV(b),{o:0,J:0,k:0},{o:255,J:255,k:255},{rect:t,buffer:V},{});
a.fillStyle="black";a.fillRect(0,0,500,500);a.putImageData(r,0,0);var C=hU.get(T[1]);a.fillStyle="white";
a.fillText(C,(l-a.measureText(C).width)/2,x+Math.round(y*1.1));var Z=L.S("div");O.appendChild(Z);Z.setAttribute("style","display:inline-block; cursor:pointer; padding: 5px 5px 0 5px; margin-bottom:5px");
Z.addEventListener("click",S,!1);var P=L.S("img");Z.appendChild(P);P.setAttribute("src",E.toDataURL());
P.setAttribute("style","width:"+l/L.V()+"px; margin-bottom:0px;");this.zg[b]=Z}}};ez.GEfc.prototype.ach=function(_){var n;
for(var O in this.zg)if(this.zg[O]==_.currentTarget)this.zY=O;this.ac1()};ez.GEfc.prototype.qy=function(_){var n=at.vr(this.Qp,_),O=this.dK.GEfs.v,l=O[this.A4].v;
if(n==0){O.push(JSON.parse(JSON.stringify(O[this.A4])));this.A4=O.length-1}else if(O.length>1){O.splice(this.A4,1);
if(this.A4==O.length)this.A4--}this.C$();this.H1()};ez.GEfc.prototype.ac1=function(_){var n=this.zY,O;
if(_==null)O=cz.gV(n);else O=this.hr[n].b();this.dK.GEfs.v[this.A4].v=O;this.C$();this.H1()};ez.GEfc.prototype.c=function(_,n,O,l,x){if(this.zg==null)this.a7W();
_=this.dK=JSON.parse(JSON.stringify(_));if(_.GEfs==null)_=this.dK={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:_}]}};
var t=_.GEfs.v;for(var m=0;m<t.length;m++)if(t[m].v.GELv==null)t[m].v.GELv={t:"bool",v:!0};this.A4=t.length-1;
this.C$();O=O.clone();if(n==null)return;if(!l.yO(O)&&cz.Yc(_).x!=0){var h=O.uG(l),V=Q.Q(h.O()*4);Q.zw(n,O,V,h);
n=V;O=h}O.x=O.y=0;this.Id=n;this.IK=n.slice(0);this.qR=O;this.H1();this.view.Gx()};ez.GEfc.prototype.agc=function(_){var n=_.data,m=n.tE,O=this.dK.GEfs.v;
if(n.A6){O[m].v.GELv.v=!O[m].v.GELv.v;this.H1()}else this.A4=m;this.C$()};ez.GEfc.prototype.C$=function(){var _=this.dK.GEfs.v,n=_[this.A4].v,O=n.GEfk.v.GEft,l=this.Zu;
if(cz.names[O]==null){alert("Unsupported gallery filter");L.I$(l)}else{this.zY=O;for(var x in this.zg)L.Gd(this.zg[x],"selected");
L.NT(this.zg[O],"selected");var t=this.hr[O];t.c(n);if(l.firstChild!=t.m){L.I$(l);l.appendChild(t.m)}}var h=[];
for(var m=0;m<_.length;m++){var V=_[m].v,y=cz.names[V.GEfk.v.GEft],r=new i3(m,!0,!0,null,y?y[1]:"Filter",m==this.A4,V.GELv.v);
r.parent=this;h.push(r.m)}L.I$(this.HY);h.reverse();for(var m=0;m<h.length;m++)this.HY.appendChild(h[m]);
this.A$()};ez.GEfc.prototype.b=function(){return JSON.parse(JSON.stringify(this.dK))};ez.GEfc.prototype.H1=function(_){var n=this.qR,O=this.Id,l=this.IK,x=this.zY,t=this.dK,h=this.Yw;
function V(y){return{o:y>>>16,J:y>>>8&255,k:y&255}}ie.Er("GEfc",{rect:this.qR,buffer:this.Id},t,V(h.KU),V(h.lV),{rect:this.qR,buffer:this.IK},null);
this.view.c([{n5:n,data:l.buffer}])};ez.GEfc.prototype.f=function(){for(var _ in this.hr)this.hr[_].f();
at.xL(this.Qp,["lrs/newlayer","lrs/bin"])};ez.GEfc.PT=function(_){b1.call(this);this.yz=_;this.m=L.S("div");
this.Qw={};var n=cz.gV(_);for(var O in n){var l=null;if(O=="__name"||O=="classID"||O=="GEfk"||O=="GELv"||["FlRs"].indexOf(O)!=-1)continue;
else if(O=="EdgW")l=new jD("Edge Width",1,14);else if(O=="EdgB")l=new jD("Edge Brightness",0,_=="AccE"?50:20);
else if(O=="Smth")l=new jD([19,3,3],1,_=="Stmp"?50:15);else if(O=="ClSz")l=new jD([12,61],3,100);else if(O=="BrdT")l=new jD([7,9],1,20);
else if(O=="HghS")l=new jD([12,64],0,20);else if(O=="HlSz")l=new jD([12,14,0],1,15);else if(O=="Cntr")l=new jD([12,3,0],0,_=="WtrP"?100:50);
else if(O=="Shrp")l=new jD("Sharpness",0,40);else if(O=="SprR")l=new jD("Spray Radius",0,25);else if(O=="LgDr")l=new jD("Light/Dark Balance",0,_=="Stmp"?50:100);
else if(O=="Drkn")l=new jD("Darkness",1,50);else if(O=="Dstr")l=new jD("Distortion",0,20);else if(O=="Scln")l=new jD([12,38],50,200);
else if(O=="Rlf")l=new jD("Relief",0,_=="Ptch"||_=="NtPr"?25:50);else if(O=="ChAm")l=new jD("Thickness",1,7);
else if(O=="Pncl")l=new jD([19,2,5],1,30);else if(O=="StrP")l=new jD("Stroke Pressure",0,15);else if(O=="PprB")l=new jD("Paper Brightness",0,50);
else if(O=="BrsS")l=new jD("Brush Size",0,10);else if(O=="BrsD")l=new jD("Brush Detail",0,10);else if(O=="Txtr")l=new jD([12,67],1,3);
else if(O=="Grn")l=new jD("Grain",0,20);else if(O=="HghA")l=new jD("Highlight Area",0,20);else if(O=="Intn")l=new jD("Intensity",0,10);
else if(O=="Brgh")l=new jD("Glow Brightness",0,_=="WtrP"?100:50);else if(O=="StrS")l=new jD("Stroke Size",1,50);
else if(O=="StDt")l=new jD("Stroke Detail",1,3);else if(O=="Sftn")l=new jD("Softness",0,10);else if(O=="EdgT")l=new jD("Edge Thickness",0,10);
else if(O=="EdgI")l=new jD("Edge Intensity",0,10);else if(O=="Pstr")l=new jD("Posterization",0,6);else if(O=="Dfnt")l=new jD("Definition",0,25);
else if(O=="TxtC")l=new jD("Texture Coverage",0,50);else if(O=="ShdI")l=new jD("Shadow Intensity",0,10);
else if(O=="DrcB")l=new jD("Direction Balance",0,100);else if(O=="Strg")l=new jD([12,64],1,3);else if(O=="Blnc")l=new jD("Balance",0,10);
else if(O=="BlcI")l=new jD("Black Intensity",0,10);else if(O=="WhtI")l=new jD("White Intensity",0,10);
else if(O=="DrkI")l=new jD("Dark Intensity",0,50);else if(O=="LghI")l=new jD("Light Intensity",0,50);
else if(O=="StrW")l=new jD("Stroke Width",3,15);else if(O=="Grns")l=new jD("Graininess",0,_=="NtPr"?20:10);
else if(O=="GlwA")l=new jD("Glow Amount",0,20);else if(O=="ClrA")l=new jD("Clear Amount",0,20);else if(O=="ChrA")l=new jD("Charcoal Area",0,20);
else if(O=="ChlA")l=new jD("Chalk Area",0,20);else if(O=="FrgL")l=new jD("Foreground Level",1,15);else if(O=="BckL")l=new jD("Background Level",1,15);
else if(O=="WhtL")l=new jD("Background Level",0,50);else if(O=="BlcL")l=new jD("Foreground Level",0,50);
else if(O=="ImgB")l=new jD("Image Balance",0,50);else if(O=="Dnst")l=new jD([12,74],0,50);else if(O=="FbrL")l=new jD("Fiber Length",3,50);
else if(O=="CrcS")l=new jD("Crack Sapcing",2,100);else if(O=="CrcD")l=new jD("Crack Depth",0,10);else if(O=="CrcB")l=new jD("Crack Brightness",0,10);
else if(O=="TlSz")l=new jD("Tile Size",2,100);else if(O=="GrtW")l=new jD("Grout Width",1,15);else if(O=="LghG")l=new jD("Lighten Grout",0,10);
else if(O=="SqrS")l=new jD("Square Size",0,10);else if(O=="RplS")l=new jD("Ripple Size",1,15);else if(O=="RplM")l=new jD("Ripple Magnitude",0,20);
else if(O=="NmbL")l=new jD("Number of Levels",2,8);else if(O=="EdgS")l=new jD("Edge Simplicity",0,10);
else if(O=="EdgF")l=new jD("Edge Fidelity",1,3);else if(O=="Sz")l=_=="NGlw"?new jD("Glow Size",-24,24):new jD("Brush Size",1,50);
else if(O=="Dtl")l=_=="Chrc"?new jD("Detail",0,5):new jD("Detail",1,15);else if(O=="StrL")l=_=="InkO"?new jD("Stroke Length",1,50):new jD("Stroke Length",0,20);
else if(O=="TxtT")l=new cB([12,67],"Blocks,Canvas,Frosted,Tiny Lens,Bricks,Burlap,Sandstone".split(","));
else if(O=="BrsT")l=new cB("Brush Type","Simple,Light Rough,Dark Rough,Wide Sharp,Wide Blurry,Sparkle".split(","));
else if(O=="Grnt")l=new cB("Grain Type","Regular Soft Sprinkles Clumped Contrasty Enlarged Stippled Horizontal Vertical Speckle".split(" "));
else if(O=="SDir")l=new cB([12,33],["Right Diagonal","Horizontal","Left Diagonal","Vertical"]);else if(O=="ScrT")l=new cB([12,62],["Circle","Dot",[10,35]]);
else if(O=="LghD"||O=="LghP")l=new cB("Light","Bottom,Bottom Left,Left,Top Left,Top,Top Right,Right,Bottom Right".split(","));
else if(O=="Clr")l=new fS("Glow Color");else if(O=="InvT")l=new dE([4,11]);else console.log(O);l.Z(H.E.A,this.E3,this);
l.parent=this;this.Qw[O]=l;this.m.appendChild(l.m)}};ez.GEfc.PT.prototype=new b1;ez.GEfc.PT.prototype.E3=function(_){this.$(new e_(H.E.A,!1))};
ez.GEfc.awU="Sz Dtl Shrp EdgW EdgB Smth ClSz BrdT HghS HlSz Cntr SprR StrL LgDr Drkn Dstr Scln Rlf ChAm InvT RplS RplM Pncl StrP PprB BrsS BrsD Txtr Grn HghA Intn Brgh Clr StrS StDt Sftn EdgT EdgI Pstr Dfnt TxtC ShdI DrcB Strg Blnc BlcI WhtI DrkI LghI StrW Grns GlwA ClrA ChrA ChlA FrgL BckL WhtL BlcL ImgB Dnst FbrL CrcS CrcD CrcB TlSz GrtW LghG SqrS NmbL EdgS EdgF".split(" ");
ez.GEfc.PT.prototype.c=function(_){for(var n in this.Qw){var O;if(ez.GEfc.awU.indexOf(n)!=-1)O=_[n].v;
else if(n=="TxtT")O=cz.D0.indexOf(_[n].v[n]);else if(n=="BrsT")O=cz.a3g.indexOf(_[n].v[n]);else if(n=="LghD")O=cz.vZ.indexOf(_[n].v[n]);
else if(n=="LghP")O=cz.cj.indexOf(_[n].v[n]);else if(n=="Grnt")O=cz.FP.indexOf(_[n].v[n]);else if(n=="ScrT")O=cz.JJ.indexOf(_[n].v[n]);
else if(n=="SDir")O=cz.ky.indexOf(_[n].v.StrD);this.Qw[n].c(O)}};ez.GEfc.PT.prototype.b=function(){var _=cz.gV(this.yz);
for(var n in this.Qw){var O=this.Qw[n].b();if(ez.GEfc.awU.indexOf(n)!=-1)_[n].v=O;else if(n=="TxtT")_[n].v[n]=cz.D0[O];
else if(n=="BrsT")_[n].v[n]=cz.a3g[O];else if(n=="LghD")_[n].v[n]=cz.vZ[O];else if(n=="LghP")_[n].v[n]=cz.cj[O];
else if(n=="Grnt")_[n].v[n]=cz.FP[O];else if(n=="ScrT")_[n].v[n]=cz.JJ[O];else if(n=="SDir")_[n].v.StrD=cz.ky[O]}return _};
ez.GEfc.PT.prototype.f=function(){for(var _ in this.Qw)this.Qw[_].f()};ez["Adobe Camera Raw Filter"]=function(_){ez.call(this,"Adobe Camera Raw Filter");
var n=this.m;this.axi=_;this.BP=null;this.nH=null;this.Zv=null;L.NT(n,"flexrow");var O=L.S("div"),l=L.S("div","padded");
n.appendChild(O);n.appendChild(l);this.BC=new da;O.appendChild(this.BC.m);this.Ez=new gq(225);this.Ez.jO(4);
l.appendChild(this.Ez.m);this.iD=L.S("div");this.iD.setAttribute("style","width:18em;");l.appendChild(this.iD);
this.aiB=new an("Hi",!0);this.iD.appendChild(this.aiB.m);this.kR=L.S("div","scrollable");this.iD.appendChild(this.kR);
this.Qw=[new jD("Temperature",-100,100),new jD("Tint",-100,100),new jD([4,3],-4,4,null,!0),new jD([12,3,0],-100,100),new jD([4,4],-100,100),new jD([12,9],-100,100)];
this.cC="Temp Tint Ex12 Cr12 Vibr Strt".split(" ");for(var m=0;m<this.Qw.length;m++){var x=this.Qw[m];
x.c(0);x.Z(H.E.A,this.H1,this);this.kR.appendChild(x.m);if(m==1||m==3)this.kR.appendChild(L.S("hr"))}};
ez["Adobe Camera Raw Filter"].prototype=new ez;ez["Adobe Camera Raw Filter"].prototype.bv=function(){return!0};
ez["Adobe Camera Raw Filter"].prototype.L9=function(_){this.iD.appendChild(_)};ez["Adobe Camera Raw Filter"].prototype.w1=function(_,n){this.Ez.Is(js.O6[_.dn]["--text-color"])};
ez["Adobe Camera Raw Filter"].prototype.c=function(_,n,O,l,x){this.dK=_;var t=O.a,h=O.n,V=t*h;this.aiB.c(t+" x "+h+", "+(t*h/1e6).toFixed(1)+" MPx");
this.qR=O;this.nH=new Float32Array(t*h*3);this.Zv=new Uint8Array(t*h*4);this.Zv.fill(255);if(n instanceof Float32Array)this.BP=n;
else{var y=this.BP=new Float32Array(t*h*3);for(var m=0;m<V;m++){var r=m*3,E=m*4;y[r+0]=n[E+0]*(1/255);
y[r+1]=n[E+1]*(1/255);y[r+2]=n[E+2]*(1/255)}}var a=this.cC;for(var m=0;m<a.length;m++){var S=a[m];this.Qw[m].c(_[S]?_[S].v:0)}this.H1(null,!0)};
ez["Adobe Camera Raw Filter"].prototype.b=function(_){if(_)return this.Zv;return JSON.parse(JSON.stringify(this.dK))};
ez["Adobe Camera Raw Filter"].prototype.asZ=function(){this.BP=null;this.nH=null;this.Zv=null};ez["Adobe Camera Raw Filter"].prototype.H1=function(_,n){var O=this.cC;
for(var m=0;m<O.length;m++){var l=O[m];this.dK[l]={t:l=="Ex12"?"doub":"long",v:this.Qw[m].b()}}var x=this.qR,t=x.O();
hQ(this.BP,x.a,x.n,this.nH,this.dK,this.axi);var h=Date.now(),V=this.nH,y=this.Zv;for(var m=0;m<t;m++){var r=m*3,E=m*4;
y[E+0]=~~(.5+V[r+0]*255);y[E+1]=~~(.5+V[r+1]*255);y[E+2]=~~(.5+V[r+2]*255)}console.log(Date.now()-h,"integer conversion");
h=Date.now();var a=Q.CO(y,Math.max(1,Math.floor(t/2e5)));this.Ez.c(a);console.log(Date.now()-h,"histogram done");
h=Date.now();this.BC.c([{n5:x,data:y.buffer}]);if(n)this.BC.Gx()};ez["Adobe Camera Raw Filter"].prototype.A$=function(_,n){this.amp=_-248;
this.arx=n;this.BC.A$(this.amp,this.arx);this.kR.style.height=n-236+"px"};ez["Adobe Camera Raw Filter"].prototype.f=function(){for(var m=0;
m<this.Qw.length;m++)this.Qw[m].f()};ez.blnc=function(){ez.call(this);var _=this.m;this.rf=null;this.u9=new cB([12,12],[[19,6,0],[19,6,1],[19,6,2]]);
this.u9.Z(H.E.A,this.H1,this);_.appendChild(this.u9.m);this.mi=[];for(var m=0;m<3;m++){var n=new jD(["VAR0 - VAR1",a3.aim[m],a3.UD[m]],-100,100);
n.Z(H.E.A,this.M8,this);this.mi.push(n);_.appendChild(n.m)}this.mQ=new dE([13,4]);this.mQ.Z(H.E.A,this.M8,this);
_.appendChild(this.mQ.m)};ez.blnc.prototype=new ez;ez.blnc.prototype.f=function(){this.u9.f();for(var m=0;
m<3;m++)this.mi[m].f();this.mQ.f()};ez.blnc.prototype.c=function(_){this.rf=JSON.parse(JSON.stringify(_));
this.H1()};ez.blnc.prototype.b=function(_){var n=["ShdL","MdtL","HghL"],O=this.rf[n[this.u9.b()]].v;
for(var m=0;m<3;m++)O[m].v=this.mi[m].b();this.rf.PrsL.v=this.mQ.b();return JSON.parse(JSON.stringify(this.rf))};
ez.blnc.prototype.H1=function(_){var n=["ShdL","MdtL","HghL"],O=this.rf[n[this.u9.b()]].v;for(var m=0;
m<3;m++)this.mi[m].c(O[m].v);this.mQ.c(this.rf.PrsL.v)};ez.brit=function(){ez.call(this,"brit");this.jV.push(new jD([12,2],-150,150,""));
this.jV.push(new jD([12,3,0],-100,100,""));this.jV.push(new dE([12,3,1]));this.L7()};ez.brit.prototype=new ez;
ez.curv=function(){ez.call(this);this.value=null;this.CJ=null;this.Yw=null;var _=this.m;this.Ym=new cB("Preset",["basic","advanced"]);
this.Ym.Z(H.E.A,this.ag9,this);_.appendChild(this.Ym.m);L.z0(_);this.l7=new cB([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this.l7.Z(H.E.A,this.t6,this);_.appendChild(this.l7.m);this.Tf=new cB(null,["Spline","Sketch"]);this.Tf.Z(H.E.A,this.ag9,this);
_.appendChild(this.Tf.m);this.dI=new gd;this.dI.parent=this;this.dI.Z(H.E.A,this.yp,this);_.appendChild(this.dI.m);
L.z0(_);this.xn=new gc;this.xn.Z(H.E.A,this.v0,this);_.appendChild(this.xn.m);this.sc=null;this.afr=0;
this.U7=0;L.z0(_);this.OM=new gl("Sample from image",im.a6(["-\u2195","#000000","#888888","#ffffff"]),!0,null,!0);
this.OM.Z(H.E.A,this.KC,this);this.OM.m.style.marginRight="0";_.appendChild(this.OM.m)};ez.curv.prototype=new ez;
ez.curv.prototype.w1=function(_,n){if(n==gp.WB||n==gp.VD){var O=_.ar,l=["Default"];for(var m=0;m<O.length;
m++)l.push(O[m].presetFileName.v);l.push("Custom");this.Ym.aV(l,[1,O.length,1]);this.Yw=_}};ez.curv.prototype.A$=function(_,n){this.xn.A$(_,n)};
ez.curv.prototype.f=function(){this.l7.f();this.xn.f()};ez.curv.prototype.AZ=function(){this.Ym.c(this.Yw.ar.length+1)};
ez.curv.prototype.ag9=function(_){if(_.target==this.Ym){var n=this.Ym.b(),O=this.Yw.ar,l;if(n==0)l=ie.gV("curv");
else if(n-1<O.length)l=JSON.parse(JSON.stringify(O[n-1]));else return;this.c(l);this.M8();return}this.AZ();
var x=a4.SO(this.value,0),t=x.length==256?1:0,h=this.Tf.b();if(t==h)return;var l=ie.gV("curv");if(h==1){var V=[];
for(var m=0;m<256;m++)V.push(m);a4.Ll(l,0,V)}this.c(l);this.M8()};ez.curv.prototype.v0=function(){this.AZ();
a4.Ll(this.value,this.l7.b(),this.xn.b());this.M8()};ez.curv.prototype.t6=function(){var _=this.l7.b(),n=a4.SO(this.value,_),O=n.length==256?1:0;
this.Tf.c(O);if(this.CJ)this.xn.pz(this.CJ[_],this.CJ[4]*[1,.33,.33,.33][_],["#ccc","#fcc","#cfc","#ccf"][_]);
this.xn.c(n)};ez.curv.prototype.GH=function(){return!0};ez.curv.prototype.Ta=function(_,n,O,l,x){var t=this.value;
this.value=ie.gV("curv");this.M8();var h=D.N3.T9(_,x,1),V=this.sc=[h>>>16&255,h>>>8&255,h&255];this.afr=x.y;
var y=this.OM.b().indexOf(!0);if(y==0){var r=(V[0]+V[1]+V[2])/3,E=this.l7.b(),a=a4.SO(t,E),S=E==0?r:V[E-1],e=-1;
for(var m=0;m<a.length;m++)if(a[m].v.Hrzn.v==S)e=m;if(e==-1){var P=JSON.parse(JSON.stringify(a[0]));
P.v.Hrzn.v=S;P.v.Vrtc.v=S;a.push(P);a.sort(function(b,T){return b.v.Hrzn.v-T.v.Hrzn.v});a4.Ll(t,E,a);
this.U7=a.indexOf(P)}else this.U7=e}this.c(t);this.M8()};ez.curv.prototype.Xg=function(_,n,O,l,x){if(this.sc==null)return;
if(this.OM.b().indexOf(!0)==0){var t=this.value,h=this.l7.b(),V=a4.SO(t,h),y=V[this.U7];y.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(y.v.Hrzn.v+(this.afr-x.y))));
a4.Ll(t,h,V);this.c(t);this.M8()}};ez.curv.prototype.PF=function(_,n,O,l,x){var t=this.value,h=this.sc,V=(h[0]+h[1]+h[2])/3,y=this.OM.b().indexOf(!0)-1;
if(y<=-1){}else for(var m=0;m<3;m++){var r=a4.SO(t,1+m);if(y==0)r[0].v.Hrzn.v=h[m];if(y==1){var E=Math.log(h[m]/255)/Math.log(V/255),a=Math.min(999,Math.max(10,Math.round(100*E)));
if(r.length==2)r.splice(1,0,JSON.parse(JSON.stringify(r[0])));r[1].v.Hrzn.v=127-Math.log(a/100)*127;
r[1].v.Vrtc.v=127}if(y==2)r[r.length-1].v.Hrzn.v=h[m];a4.Ll(t,1+m,r)}this.c(t);this.M8();this.AZ();this.sc=null};
ez.curv.prototype.c=function(_){this.value=_;this.t6()};ez.curv.prototype.pz=function(_){this.CJ=_;this.t6()};
ez.curv.prototype.b=function(_){return JSON.parse(JSON.stringify(this.value))};ez.curv.prototype.yp=function(){var _=this.dI.b(),n=this.CJ,O=this.value,l=Q.ji(_,n);
for(var m=0;m<4;m++){var x=l[m][0],t=l[m][1],h=l[m][2],V=[Q.xu.PN(x,0,!0),Q.xu.PN(t,255,!0)];if(h!=null)V.splice(1,0,Q.xu.PN(128,h,!0));
a4.Ll(O,m,V)}this.t6();this.M8()};ez.expA=function(){ez.call(this,"expA");this.jV.push(new jD([12,5],-20,20,null,2,!0));
this.jV.push(new jD([12,6],-.5,.5,null,2));this.jV.push(new jD([12,7],.01,9.99,null,2,!0));this.L7()};
ez.expA.prototype=new ez;ez.expA.prototype.Ea=function(_,n){n[0]=_.Exps.v;n[1]=_.Ofst?_.Ofst.v:0;n[2]=_.gammaCorrection?_.gammaCorrection.v:1};
ez.expA.prototype.CE=function(_,n){_.Exps={t:"doub",v:n[0]};_.Ofst={t:"doub",v:n[1]};_.gammaCorrection={t:"doub",v:n[2]}};
ez.grdm=function(){ez.call(this,"grdm");this.jV.push(new d0(!0,null,!0));this.jV.push(new dE([12,23,0]));
this.L7()};ez.grdm.prototype=new ez;ez.grdm.prototype.Ea=function(_,n){n[0]=_.Grad.v;n[1]=_.Rvrs?_.Rvrs.v:!1};
ez.grdm.prototype.CE=function(_,n){_.Grad.v=n[0];_.Rvrs={t:"bool",v:n[1]}};ez.grdm.prototype.w1=function(_,n){this.jV[0].Db(_.KU,_.lV);
if(n==gp.WB||n==gp.La||n==gp.Eq)this.jV[0].H5(_.QL)};ez.selc=function(){ez.call(this);var _=this.m;this.At=[];
this.Sd=null;this.u9=new cB([12,82],a3.Ys.concat([[13,1,8],[13,1,13],[13,1,10]]));this.u9.Z(H.E.A,this.E3,this);
_.appendChild(this.u9.m);L.z0(_);for(var m=0;m<4;m++){var n=new jD(a3.aim[m],-100,100,"%");n.Z(H.E.A,this.E3,this);
this.At.push(n);_.appendChild(n.m)}this.d9=new dE([13,3]);_.appendChild(this.d9.m);this.d9.Z(H.E.A,this.E3,this)};
ez.selc.prototype=new ez;ez.selc.prototype.f=function(){this.u9.f();this.d9.f();for(var m=0;m<4;m++)this.At[m].f()};
ez.selc.prototype.c=function(_){this.Sd=JSON.parse(JSON.stringify(_));this.H1()};ez.selc.prototype.b=function(_){return JSON.parse(JSON.stringify(this.Sd))};
ez.selc.prototype.E3=function(_){if(_.target!=this.u9){var n=this.Sd,O=[];for(var m=0;m<4;m++)O[m]=this.At[m].b();
iH.Ll(n,this.u9.b(),O);n.Mthd={t:"enum",v:{CrcM:this.d9.b()?"Absl":"Rltv"}}}this.H1();this.M8()};ez.selc.prototype.H1=function(){var _=this.Sd,n=iH.SO(_,this.u9.b());
for(var m=0;m<4;m++)this.At[m].c(n[m]);this.d9.c(_.Mthd?_.Mthd.v.CrcM=="Absl":!1)};ez.blwh=function(){ez.call(this,"blwh");
this.jV.push(new dE([12,11]));this.jV.push(new fS(!0));for(var m=0;m<6;m++)this.jV.push(new jD(a3.Ys[m],-200,300));
this.L7()};ez.blwh.prototype=new ez;ez.blwh.prototype.Ea=function(_,n){n[0]=_.useTint.v;n[1]=_.tintColor.v;
var O="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var m=0;m<6;m++)n[2+m]=_[O[m]].v};ez.blwh.prototype.CE=function(_,n){_.useTint.v=n[0];
_.tintColor.v=n[1];var O="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var m=0;m<6;m++)_[O[m]].v=n[2+m]};
ez.hue2=function(){ez.call(this);this.value=null;this.j2=null;this.a8y=null;this.We=[[0,0,0],[0,50,0]];
var _=this.m;this.OM=new gl(null,["\u2194"],!0,["Click and drag in image to change saturation"],!0);
this.OM.Z(H.E.A,this.a0Z,this);this.OM.Z(H.E.A,this.KC,this);_.appendChild(this.OM.m);var n=this.jV=[new cB([12,12],["Master"].concat(a3.Ys)),new jD([12,8],-180,180),new jD([12,9],-100,100),new jD([12,10],-100,100),new dE([12,11])];
for(var m=0;m<n.length;m++){var O=n[m];O.Z(H.E.A,m==0?this.t6:this.a9E,this);_.appendChild(O.m)}this.u9=n[0];
this.I8=n[1];this.J0=n[2];this.t3=n[3];this.eP=n[4];this.dS=new gl("Sample Hue",["<img src=\""+PIMG["tools/eyedropper"]+"\" class=\"autoscale gsicon\" />","+","-"],!0,null,!0);
this.dS.Z(H.E.A,this.a0Z,this);this.dS.Z(H.E.A,this.KC,this);this.dS.m.style.marginLeft="20px";_.appendChild(this.dS.m);
this.Nl=L.S("div");_.appendChild(this.Nl);this.H8=this.fS.bind(this);this.xo=this.HO.bind(this);this.T=L.S("canvas");
this.Y0=this.T.getContext("2d");this.xY=null;L.H7(this.T);L.Bw(this.T,282,18);_.appendChild(this.T);
L.a9(this.T,this.CC.bind(this))};ez.hue2.prototype=new ez;ez.hue2.prototype.A$=function(_,n){L.Bw(this.T,Math.round(_),18);
if(this.value)this.t6()};ez.hue2.prototype.a0Z=function(_){var n=_.target.b().indexOf(!0);if(n==-1)return;
if(_.target==this.OM)this.dS.c([!1,!1,!1]);else this.OM.c([!1,!1,!1])};ez.hue2.prototype.CC=function(_){if(this.u9.b()==0||this.eP.b())return;
var n=L.q1(_,this.T).x/(this.T.width/L.V()),t=1e6;function O(a,S,e){return a<S&&S<e||e<a&&(a<S||S<e)}var l=this.LH(),x=-1;
for(var m=0;m<4;m++){var h=Math.abs(n-(l[m]+m*1e-5));if(h<t){t=h;x=m}}if(t>.025){x=-1;var V=l[0],y=l[1],r=l[2],E=l[3];
if(O(V,n,y))x=4;if(O(y,n,r))x=5;if(O(r,n,E))x=6}if(x==-1)return;this.xY=x;L.hw(document.body,this.H8);
L.LY(document.body,this.xo)};ez.hue2.prototype.fS=function(_){var n=L.q1(_,this.T).x/(this.T.width/L.V()),O=this.LH(),l=this.xY;
for(var m=1;m<4;m++)if(O[m]<O[m-1]){O[m]+=1}if(l<4){var x=1e6,t=0;for(var m=-20;m<20;m++){var h=Math.abs(O[l]-(n+m));
if(h<x){x=h;t=m}}n+=t;O[l]=n;for(var m=l+1;m<4;m++)if(O[m]<O[m-1]){O[m]=O[m-1]}for(var m=l-1;m>=0;m--)if(O[m]>O[m+1]){O[m]=O[m+1]}}else{var V=n-(O[l-4]+O[l-3])/2;
if(V<-.5)V+=1;if(l==4){O[0]+=V;O[1]+=V;O[2]=Math.max(O[1],O[2]);O[3]=Math.max(O[1],O[3])}if(l==5)for(var m=0;
m<4;m++)O[m]+=V;if(l==6){O[2]+=V;O[3]+=V;O[0]=Math.min(O[0],O[2]);O[1]=Math.min(O[1],O[2])}}for(var m=1;
m<4;m++)if(O[m]<O[m-1])throw"e";this.adS(O);this.t6();this.M8()};ez.hue2.prototype.HO=function(_){L.Xa(document.body,this.H8);
L.l4(document.body,this.xo)};ez.hue2.prototype.f=function(){for(var m=0;m<this.jV.length;m++)this.jV[m].f()};
ez.hue2.prototype.a9E=function(_){var n=this.value.Clrz.v=this.eP.b();if(n)this.u9.c(0);if(_&&_.target==this.eP){var O=n?1:0;
this.We[1-O]=c7.SO(this.value,0);var l=this.We[O];c7.Ll(this.value,0,l);if(this.u9.b()==0){this.I8.c(l[0]);
this.J0.c(l[1]);this.t3.c(l[2])}}var x=this.u9.b(),t=c7.SO(this.value,x),l=x==0?t:t.mi;l[0]=this.I8.b();
var h=this.J0.b();l[1]=n?Math.max(0,h):h;l[2]=this.t3.b();c7.Ll(this.value,x,t);this.t6();this.M8()};
ez.hue2.prototype.t6=function(){var _=this.u9.b(),n=this.value.Clrz?this.value.Clrz.v:!1;this.eP.c(n);
this.u9.Nf(!n);this.dS.Nf(!n&&_!=0);var O=c7.SO(this.value,_),l=_==0?O:O.mi;this.I8.c(l[0]);this.J0.c(l[1]);
this.t3.c(l[2]);var x=this.T.width,t=this.T.height,h=this.Y0;h.clearRect(0,0,x,t);if(n||_==0){this.Nl.innerHTML="";
return}var V=O.kN;this.Nl.innerHTML=V[0]+"\xB0 / "+V[1]+"\xB0<span style=\"float:right\">"+V[2]+"\xB0 \\ "+V[3]+"\xB0</span>";
var y=Q.Q(x*4);aM.ahz(y,1,x,-1,.5);var r=new ImageData(new Uint8ClampedArray(y.buffer),x,1),E=Math.round(t/4);
for(var m=0;m<E;m++)h.putImageData(r,0,m);function a(C,Z,W){h.fillStyle=W;var s=E*2;if(C<=Z)h.fillRect(C*x,s,(Z-C)*x,E);
else{h.fillRect(0,s,Z*x,E);h.fillRect(C*x,s,(1-C)*x,E)}}var S=this.LH();a(S[0],S[1],"#888888");a(S[1],S[2],"#cccccc");
a(S[2],S[3],"#888888");h.fillStyle="#ffffff";h.lineWidth=1;h.beginPath();var e=E+.5,P=4*E+.5;for(var m=0;
m<4;m++){var b=Math.floor(x*S[m])+.5,T=(m<2?-1:1)*E*(m==1||m==2?1:2);h.moveTo(b,e);h.lineTo(b,P);h.lineTo(b+T,P);
h.lineTo(b+T,E+E+.5);h.closePath()}h.fill();h.stroke()};ez.hue2.prototype.LH=function(){var _=this.u9.b(),n=c7.SO(this.value,_).kN;
for(var m=0;m<4;m++)n[m]=(1000.5+n[m]/360)%1;return n};ez.hue2.prototype.adS=function(_){var n=this.u9.b(),O=c7.SO(this.value,n);
for(var m=0;m<4;m++)O.kN[m]=Math.round(36e3+(_[m]-.5)*360)%360;c7.Ll(this.value,n,O)};ez.hue2.prototype.GH=function(){return!0};
ez.hue2.prototype.avr=function(){var _=this.OM.b().indexOf(!0),n=this.dS.b().indexOf(!0);return _!=-1?_:n!=-1?n+1:-1};
ez.hue2.prototype.Ta=function(_,n,O,l,x){var t=this.avr();if(t==-1)return;var h=this.value;this.value=ie.gV("hue2");
this.M8();var V=D.N3.T9(_,x,1);this.c(h);var y=[V>>>16&255,V>>>8&255,V&255],r=Q.lM(y[0]/255,y[1]/255,y[2]/255);
if(t==0){this.u9.c(1+Math.round(r.bE*6)%6)}else{var E=this.LH(),a=.5+r.bE,S=1/12,e=E[1],P=E[2];if(P<e){P++;
if(a<e&&a+1-P<e-a)a++}var b=e<=a&&a<=P;if(t==1){e=a-S/2;P=a+S/2}else if(t==2&&!b){e=Math.min(a,e);P=Math.max(a,P)}else if(t==3&&b){if(a-e<P-a)e=a;
else P=a}E=[e-S,e,P,P+S];this.adS(E)}this.M8();this.j2=x.x;this.a8y=this.J0.b()};ez.hue2.prototype.Xg=function(_,n,O,l,x){var t=this.avr();
if(t==-1)return;if(t==0){if(this.j2!=null){var h=x.x-this.j2;h=Math.max(-100,Math.min(100,this.a8y+.5*h));
this.J0.c(h);this.a9E()}}};ez.hue2.prototype.PF=function(_,n,O,l,x){this.j2=null};ez.hue2.prototype.c=function(_){this.value=JSON.parse(JSON.stringify(_));
var n=this.value.Clrz?this.value.Clrz.v:!1;this.We[n?1:0]=c7.SO(this.value,0);this.t6()};ez.hue2.prototype.b=function(_){return JSON.parse(JSON.stringify(this.value))};
ez.levl=function(){function _(){ez.call(this);this.value=null;this.CJ=null;this.o6=[new aW(0,0),new aW(0,0),new aW(0,0),new aW(0,0),new aW(0,0)];
this.DR=-1;this.H8=this.fS.bind(this);this.xo=this.HO.bind(this);var n=this.m;this.l7=new cB([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this.l7.Z(H.E.A,this.t6,this);n.appendChild(this.l7.m);this.dI=new gd;this.dI.parent=this;this.dI.Z(H.E.A,this.yp,this);
n.appendChild(this.dI.m);var O=L.S("div","");n.appendChild(O);var l=L.S("div","");n.appendChild(l);this.T=L.S("canvas");
O.appendChild(this.T);this.Y0=this.T.getContext("2d");this.NB=new aW(256,120);this.T.setAttribute("style","display:block");
L.H7(this.T);L.a9(this.T,this.CC.bind(this));this.$0=L.S("canvas","");l.appendChild(this.$0);this.Xe=this.$0.getContext("2d");
this.Cb=new aW(this.NB.x,40);this.$0.setAttribute("style","display:block");L.H7(this.$0);L.a9(this.$0,this.apu.bind(this));
var x=this.V6=[];for(var m=0;m<5;m++){var t=new g_(null,null,3);x.push(t);t.Z(H.E.A,this.awa,this);(m<2||m==4?O:l).appendChild(t.m)}O.appendChild(x[1].m);
this.OM=new gl("Sample from image",im.a6(["#000000","#888888","#ffffff"]),!0,null,!0);this.OM.Z(H.E.A,this.KC,this);
n.appendChild(this.OM.m);this.A$(250,100)}_.prototype=new ez;_.prototype.yp=function(){var n=this.dI.b(),O=this.CJ,l=this.value,x=Q.ji(n,O);
for(var m=0;m<4;m++){var t=x[m][0],h=x[m][1],V=x[m][2],y=[Q.xu.PN(t,0,!0),Q.xu.PN(h,255,!0)];if(V!=null)y.splice(1,0,Q.xu.PN(128,V,!0));
var r=[~~t,~~h,0,255,V==null?100:~~(100+.75*100*(V-128)/128)];jb.Ll(l,m,r)}this.t6();this.M8()};_.prototype.A$=function(n,O){n+=6;
this.NB.x=this.Cb.x=n;L.Bw(this.T,n,this.NB.y,this.Y0);L.Bw(this.$0,n,this.Cb.y,this.Xe);var l=this.V6;
l[3].m.setAttribute("style","margin-left: "+(n-104)+"px");l[4].m.setAttribute("style","margin: 0 "+(n/2-74)+"px");
if(this.value)this.t6()};_.prototype.f=function(){this.l7.f()};_.prototype.awa=function(n){var O=[];
for(var m=0;m<5;m++){var l=255,x=1;if(m==4){l=999;x=100}var t=parseFloat(this.V6[m].b());O[m]=Math.max(0,Math.min(l,t*x))}jb.Ll(this.value,this.l7.b(),O);
this.t6();this.M8()};_.prototype.t6=function(n){var O=this.NB.x,l=this.NB.y,x=this.l7.b(),t=this.Y0;
t.clearRect(0,0,O,l);t.fillStyle="#cccccc";t.fillRect(8,8,O-16,l-16-8);if(this.CJ){var h=this.CJ[0].slice(0),P=0;
if(x==0){h.fill(0);var V=JSON.parse(JSON.stringify(this.value));jb.Ll(V,0,[0,255,0,255,100]);var y=a3.ja("levl",V),r=[y.pw,y.Te,y.Qf];
for(var E=0;E<3;E++){var a=this.CJ[1+E],S=r[E];for(var m=0;m<256;m++)h[S[m]]+=a[m]}}var e=x==0?h:this.CJ[x];
for(var m=0;m<e.length;m++)P+=e[m];t.fillStyle="#333333";t.beginPath();t.moveTo(8,l-16);for(var m=0;
m<256;m++){var b=55*e[m]/P;t.lineTo(8+m/256*(O-16),Math.max(8,l-16-l*b))}t.lineTo(O-8,l-16);t.closePath();
t.fill()}var T=jb.SO(this.value,x);for(var m=0;m<5;m++)this.V6[m].c(T[m]/(m==4?100:1));this.o6[0].BX(8+T[0]/255*(O-16),l-14);
this.o6[1].BX(8+T[1]/255*(O-16),l-14);var C=Math.log(T[4]/100)/Math.log(9.99);C=.5-C/2;this.o6[4].BX(this.o6[0].x+C*(this.o6[1].x-this.o6[0].x),l-14);
this.U5(t,this.o6[0],"#000000");this.U5(t,this.o6[1],"#ffffff");this.U5(t,this.o6[4],"#777777");var O=this.Cb.x,l=this.Cb.y;
t=this.Xe;t.clearRect(0,0,O,l);var Z=t.createLinearGradient(0,0,O-16,0);Z.addColorStop(0,"black");Z.addColorStop(1,"white");
t.fillStyle=Z;t.fillRect(8,8,O-16,16);this.o6[2].BX(8+T[2]/255*(O-16),l-14);this.o6[3].BX(8+T[3]/255*(O-16),l-14);
this.U5(t,this.o6[2],"#000000");this.U5(t,this.o6[3],"#ffffff")};_.prototype.U5=function(n,O,l){n.fillStyle=l;
n.fillRect(O.x-5,O.y,10,10)};_.prototype.CC=function(n){var O=L.q1(n,this.T),l=this.ap2([0,1,4],O);if(l!=-1)this.DR=l;
this.axk()};_.prototype.apu=function(n){var O=L.q1(n,this.$0),l=this.ap2([2,3],O);if(l!=-1)this.DR=l;
this.axk()};_.prototype.ap2=function(n,O){var l=-1,x=1e9;for(var m=0;m<n.length;m++){var t=Math.abs(this.o6[n[m]].x-O.x);
if(t<x){x=t;l=n[m]}}return x<16?l:-1};_.prototype.axk=function(n){if(this.DR==-1)return;L.hw(document.body,this.H8);
L.LY(document.body,this.xo)};_.prototype.fS=function(n){var O=jb.SO(this.value,this.l7.b()),l=L.q1(n,this.DR==2&&this.DR==3?this.$0:this.T),x=255*(l.x-8)/(this.NB.x-16);
x=Math.max(0,Math.min(255,x));if(this.DR==0)x=Math.min(x,O[1]-2);if(this.DR==1)x=Math.max(x,O[0]+2);
if(this.DR!=4)O[this.DR]=Math.round(x);else{var t=(x-O[0])/(O[1]-O[0]);t=1-2*t;t=Math.pow(9.99,t);O[4]=Math.min(999,Math.max(10,Math.round(t*100)))}jb.Ll(this.value,this.l7.b(),O);
this.t6();this.M8()};_.prototype.HO=function(n){L.Xa(document.body,this.H8);L.l4(document.body,this.xo);
this.DR=-1};_.prototype.GH=function(){return!0};_.prototype.PF=function(n,O,l,x,t){var h=this.value,V=this.OM.b().indexOf(!0);
if(V==-1)return;this.value=ie.gV("levl");this.M8();var y=D.N3.T9(n,t,1),r=[y>>>16&255,y>>>8&255,y&255];
for(var m=0;m<3;m++){var E=jb.SO(h,1+m);if(V==0)E[0]=r[m];if(V==1){var a=Math.log(r[m]/255)/Math.log((r[0]+r[1]+r[2])*.333/255);
E[4]=Math.min(999,Math.max(10,Math.round(100*a)))}if(V==2)E[1]=r[m];jb.Ll(h,1+m,E)}this.c(h);this.M8()};
_.prototype.c=function(n){this.value=n;this.t6()};_.prototype.pz=function(n){this.CJ=n;this.t6()};_.prototype.b=function(n){return JSON.parse(JSON.stringify(this.value))};
return _}();ez.phfl=function(){ez.call(this,"phfl");this.jV.push(new fS);this.jV.push(new jD([12,74],0,100,"%"));
this.jV.push(new dE([13,4]));this.L7()};ez.phfl.prototype=new ez;ez.phfl.prototype.Ea=function(_,n){n[0]=_.Clr.v;
n[1]=_.Dnst.v;n[2]=_.PrsL.v};ez.phfl.prototype.CE=function(_,n){var O=Q.N.JU(n[0]),l=_.Clr.v,x=Q.KY(O.o,O.J,O.k);
l.Lmnc.v=x.oT;l.A.v=x.EX;l.B.v=x.k;_.Dnst.v=n[1];_.PrsL.v=n[2]};ez.vibA=function(){ez.call(this,"vibA");
this.jV.push(new jD([12,13],-100,100,null));this.jV.push(new jD([12,9],-100,100,null));this.L7()};ez.vibA.prototype=new ez;
ez.vibA.prototype.Ea=function(_,n){n[0]=_.vibrance?_.vibrance.v:0;n[1]=_.Strt?_.Strt.v:0};ez.vibA.prototype.CE=function(_,n){_.vibrance.v=n[0];
_.Strt.v=n[1]};ez.thrs=function(){ez.call(this,"thrs");this.jV.push(new jD([4,13],1,255,null));this.L7()};
ez.thrs.prototype=new ez;ez.thrs.prototype.Ea=function(_,n){n[0]=_.Lvl.v};ez.thrs.prototype.CE=function(_,n){_.Lvl.v=n[0]};
ez.mixr=function(){ez.call(this);var _=this.m;this.At=[];this.Sd=null;this.u9=new cB([12,4],[[13,1,1],[13,1,4],[13,1,5]]);
this.av1=!1;this.u9.Z(H.E.A,this.E3,this);_.appendChild(this.u9.m);L.z0(_);this.nk=new dE([12,60]);_.appendChild(this.nk.m);
this.nk.Z(H.E.A,this.E3,this);for(var m=0;m<4;m++){var n=new jD([[13,1,1],[13,1,4],[13,1,5],[13,2]][m],-200,200,"%");
n.Z(H.E.A,this.E3,this);this.At.push(n);_.appendChild(n.m)}};ez.mixr.prototype=new ez;ez.mixr.prototype.f=function(){this.u9.f();
this.nk.f();for(var m=0;m<4;m++)this.At[m].f()};ez.mixr.prototype.c=function(_){this.Sd=JSON.parse(JSON.stringify(_));
this.H1()};ez.mixr.prototype.b=function(_){return JSON.parse(JSON.stringify(this.Sd))};ez.mixr.prototype.E3=function(_){if(_.target!=this.u9){var n=a3.lt(this.Sd);
if(_.target==this.nk){n.nk=this.nk.b();if(n.nk)n.h=[40,40,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];else n.h=[100,0,0,0,0,0,100,0,0,0,0,0,100,0,0,0,0,0,0,0]}else{var O=(n.nk?0:this.u9.b())*5,m=this.At.indexOf(_.target);
n.h[O+(m<3?m:4)]=_.target.b()}this.Sd=a3.atP(n)}this.H1();this.M8()};ez.mixr.prototype.H1=function(){var _=a3.lt(this.Sd);
if(_.nk!=this.av1)this.u9.aV(_.nk?[[13,1,7]]:a3.UD);this.av1=_.nk;this.nk.c(_.nk);var n=(_.nk?0:this.u9.b())*5;
for(var m=0;m<4;m++)this.At[m].c(_.h[n+(m<3?m:4)])};ez.post=function(){ez.call(this,"post");this.jV.push(new jD([4,1],2,255,null));
this.L7()};ez.post.prototype=new ez;ez.post.prototype.Ea=function(_,n){n[0]=_.Lvls.v};ez.post.prototype.CE=function(_,n){_.Lvls.v=n[0]};
ez.clrL=function(){ez.call(this,"clrL");this.jV.push(new ao("LUTs"));this.L7()};ez.clrL.prototype=new ez;
ez.clrL.prototype.Ea=function(_,n){n[0]=_};ez.clrL.prototype.CE=function(_,n){var O=n[0];for(var l in O)_[l]=O[l]};
ez.clrL.prototype.w1=function(_,n){if(n==gp.WB||n==gp.D4)this.jV[0].H5(_.alm)};ez.rplc=function(){ez.call(this,"rplc");
this.jV.push(new jD([12,92],0,200));this.jV.push(new fS);this.jV.push(new jD([12,8],-180,180));this.jV.push(new jD([12,9],-100,100));
this.jV.push(new jD([12,10],-100,100));this.L7()};ez.rplc.prototype=new ez;ez.rplc.prototype.Ea=function(_,n){n[0]=_.Fzns.v;
n[1]=_.Mxm.v;n[2]=_.H.v;n[3]=_.Strt.v;n[4]=_.Lght.v};ez.rplc.prototype.CE=function(_,n){function O(x,t){t.Lmnc.v=x.oT;
t.A.v=x.EX;t.B.v=x.k}_.Fzns.v=n[0];_.H.v=n[2];_.Strt.v=n[3];_.Lght.v=n[4];var l=Q.N.JU(n[1]),x=Q.KY(l.o,l.J,l.k);
O(x,_.Mnm.v);O(x,_.Mxm.v)};ez.fade=function(){ez.call(this,"fade");this.jV.push(new jD([12,0],0,100,"%"));
this.jV.push(new cB([12,19,0],b3.Fw,!1,b3.UU));this.L7()};ez.fade.prototype=new ez;ez.fade.prototype.Ea=function(_,n){n[0]=_.Opct.v.val;
n[1]=b3.AM.indexOf(_.Md.v.BlnM)};ez.fade.prototype.CE=function(_,n){_.Opct.v.val=n[0];_.Md.v.BlnM=b3.AM[n[1]]};
ez.aply=function(){var _=b3.AM.concat(["Add","Sbtr"]);_.splice(21,1);var n=b3.Fw.concat([[15,10,28],[15,10,21]]);
n.splice(21,1);var O=b3.UU.slice(0);O[4]--;function l(){ez.call(this,"aply");this.jV.push(new cB([0,3],[]));
this.jV.push(new cB([12,4],["RGB"].concat(a3.UD).concat(["Transparency"])));this.jV.push(new dE([4,11]));
this.jV.push(new cB([12,19,0],n,!1,O));this.jV.push(new jD([12,0],0,100,"%"));this.jV.push(new bd([12,38],1,2,null,2));
this.jV.push(new bd([12,6],-255,255));this.jV.push(new dE([13,5]));this.L7([2]);this.O5=null}l.prototype=new ez;
l.prototype.Ea=function(x,t,h){if(h){var V=h[2].B,y=this.O5=[];for(var m=0;m<V.length;m++){var r=V[m].getName();
y.push(r.length<30?r:r.slice(0,27)+"...")}y.reverse();this.jV[0].aV([[5,7]].concat(y),[1,y.length])}else var y=this.O5;
x=x.With.v;var E=x.T.v;t[0]=E[1].t=="name"?1+y.indexOf(E[1].v.val):0;t[1]=["RGB","Rd","Grn","Bl","Trsp"].indexOf(E[0].v.enum);
t[2]=x.Invr.v;var a=x.Clcl.v.Clcn;t[3]=_.indexOf(a);t[4]=x.Opct.v.val;t[5]=x.Scl.v;t[6]=x.Ofst.v;t[7]=x.PrsT.v};
l.prototype.CE=function(x,t){x=x.With.v;var h=x.T.v;if(t[0]==0)h[1]={t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}};
else h[1]={t:"name",v:{classID:"Lyr",val:this.O5[t[0]-1]}};h[0].v.enum=["RGB","Rd","Grn","Bl","Trsp"][t[1]];
x.Invr.v=t[2];var V=x.Clcl.v.Clcn=_[t[3]];x.Opct.v.val=t[4];x.Scl.v=t[5];x.Ofst.v=t[6];x.PrsT.v=t[7];
var y=V=="Add"||V=="Sbtr";this.jV[5].Nf(y);this.jV[6].Nf(y)};return l}();ez.matc=function(){var _,n,O=0;
function l(){ez.call(this,"matc");this.jV.push(new jD("Luminance",1,200));this.jV.push(new jD("Color Intensity",1,200));
this.jV.push(new jD([2,11],0,100,"%"));this.jV.push(new dE("Neutralize"));this.jV.push(new cB([12,70],[]));
this.jV.push(new cB([0,3],[]));this.L7([2])}function x(t,h){t.jV[5].aV([[5,7]].concat(h),[1,h.length])}l.prototype=new ez;
l.prototype.Ea=function(t,h,V){O=0;h[0]=t.Lght.v;h[1]=t.ClrR.v;h[2]=t.Fade.v;h[3]=t.neutralizeColor?t.neutralizeColor.v:!1;
h[4]=h[5]=0;var y=t.Srce;if(y)y=y.v;if(V){_=[];n=[];var r=V[2],E=V[3];for(var m=0;m<E.length;m++){var a=E[m];
_.push(a.name);var S=a.B,e=[];n.push(e);for(var P=0;P<S.length;P++)e.push(S[P].getName());e.reverse()}this.jV[4].aV([[13,1,0]].concat(_),[1,_.length]);
var b=E.indexOf(r);if(y)b=_.indexOf(y[1].v.val);x(this,n[b])}if(y){var T=_.indexOf(y[1].v.val);h[3]=O=1+T;
if(y[0].t=="name")h[4]=1+n[T].indexOf(y[0].v.val)}};l.prototype.CE=function(t,h){t.Lght.v=h[0];t.ClrR.v=h[1];
t.Fade.v=h[2];t.neutralizeColor.v=h[3];if(h[4]==0){t.noReference={t:"bool",v:!0};delete t.Srce}else{if(h[4]!=O){O=h[4];
x(this,n[h[4]-1])}delete t.noReference;var V={t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}},y=n[h[4]-1];
if(h[5]!=0)V={t:"name",v:{classID:"Lyr",val:y[h[5]-1]}};t.Srce={t:"obj ",v:[V,{t:"name",v:{classID:"Dcmn",val:_[h[4]-1]}}]}}};
return l}();function ai(_,n){b1.call(this);if(_==null)return;this.id=n;this.a7=_;this.ya=null;this.m=L.S("div","window "+n);
this.auj=null;this._O=L.S("div","whead");this.aaB=L.S("span","wname");this._O.appendChild(this.aaB);
this.arX=!1;this.m.appendChild(this._O);this.Zw=this.awO.bind(this);this.kL=this.abj.bind(this);this.BN=this.apf.bind(this);
L.H7(this._O);L.a9(this._O,this.Zw);this.att=L.S("span","cross gsicon");this._O.appendChild(this.att);
ai.prototype.f.call(this);L.LY(this.att,this.afX.bind(this));this.body=L.S("div","body");this.m.appendChild(this.body)}ai.prototype=new b1;
ai.prototype.HE=function(){return!1};ai.prototype.GH=function(){return!1};ai.prototype.f=function(){if(this.a7==null)return;
this.aaB.textContent=hU.get(this.a7)};ai.prototype.Ta=function(_,n,O,l,x){};ai.prototype.x_=function(_,n,O,l,x){};
ai.prototype.Xg=function(_,n,O,l,x){};ai.prototype.PF=function(_,n,O,l,x){};ai.prototype.nN=function(_,n,O,l,x){};
ai.prototype.op=function(_,n,O,l){if(l.l(bJ.Vn)&&this.DW)this.DW();if(l.l(bJ.mV)){var x=new e_(H.E.s);
x.$o=!0;D.tM.au0(l,x);if(x.data)n.$(x)}};ai.prototype.$Y=function(_){return!1};ai.prototype.pq=function(_,n){return!0};
ai.prototype.dN=function(_,n,O,l){};ai.prototype.w1=function(_,n){};ai.prototype.Lw=function(_,n){return null};
ai.prototype.a5L=function(_){return this.auj};ai.prototype.A$=function(){};ai.prototype.close=function(){this.$(new e_(H.E.DJ))};
ai.prototype.awO=function(_){this.ya=L.q1(_,this.m);L.hw(window,this.kL);L.LY(window,this.BN)};ai.prototype.abj=function(_){var n=this.m.parentNode,O=L.q1(_,n),l=Math.round(O.x-this.ya.x),x=n.offsetTop+Math.max(0,Math.min(window.innerHeight-36,Math.round(O.y-this.ya.y)));
this.auj=new aW(l,x);this.m.style.left=l+"px";this.m.style.top=x+"px"};ai.prototype.apf=function(_){L.Xa(window,this.kL);
L.l4(window,this.BN)};ai.prototype.afX=function(_){if(this.arX){this.DW();return}this.$(new e_("closebtn"));
this.close()};function jj(){ai.call(this,"About Photopea","aboutpp");var _=L.S("div","flexrow");this.body.appendChild(_);
var n=this.a7F=L.S("img");_.appendChild(n);this.body.setAttribute("style","margin:0; padding:0");var O=this.a9L=L.S("div");
O.innerHTML=jj.J8;_.appendChild(O);var l=this.lp=L.S("span");l.innerHTML="<big style=\"text-shadow: 2px 2px 3px #000000;\">Ivan holding Photopea in Prague</big>";
this.body.appendChild(l)}jj.prototype=new ai;jj.prototype.Lw=function(_,n){return new aW(0,0)};jj.prototype.A$=function(_,n){var O=this.a7F,l=this.a9L,x=this.lp,t=(_+n-42-42)/110;
t=Math.sqrt((_-42)*(n-42))/50;O.setAttribute("style","width:"+_/2+"px; height:"+n+"px; display:block; object-fit:cover;");
l.setAttribute("style","width:"+(_/2-42)+"px; height:"+(n-42)+"px; padding:20px; font-size:"+t+"px;");
x.setAttribute("style","position:absolute;  bottom:10px; right:"+(_/2+10)+"px")};jj.prototype.f=function(){};
jj.prototype.dN=function(_,n,O,l){this.a7F.setAttribute("src","promo/ivan_pp.webp")};jj.J8="\t<h1>Hi There!</h1>\t<p>My name is <b>Ivan Kutskir</b> and I'm the creator of Photopea.</p>\t<p>I'm a 30-year-old computer programmer. I was born in Ukraine, but I live in the Czech Republic most of my life (in <b>Prague</b> since 2009).</p>\t<p>I started developing Photopea back in 2012. I intended to call it <b>Photo Hammer</b>, \tbut I didn't register the .com domain right away, and when I tried to do so six months later, it was already taken.</p>\t\t<p>My friends and my family did not know about Photopea during the first four years of development.\tI was spending a lot of time building it, without making any money or learning new skills. So nothing to be proud of, \tbut the project was fun and I enjoyed working on it.\t</p>\t<p>\tNow, it's heartwarming to know that millions around the world use Photopea as their creative medium. \tTo this day I work on Photopea, driven by the positive impact of my creation.\t</p>\t\t<!--<p>You can not be completely sure if something is a good or a bad idea, until you actually try to do it.</p>-->\t\t<p style=\"text-align:right;\"><i><big>Ivan Kutskir</big><br/>support@photopea.com</i></p>\t";
function f_(){ai.call(this,[0,13,0],"account");this.iD=L.S("div","form scrollable");this.body.appendChild(this.iD);
this.body.style.padding="0";this.td=[new f_.Zl,new f_.ct("::privacy.html"),new f_.ct(f_.anf)];for(var m=0;
m<this.td.length;m++)this.td[m].parent=this;this.Z("showpage",this.a0y,this)}f_.prototype=new ai;f_.prototype.pq=function(_,n){var O=navigator.onLine;
if(!O)alert("Go online first");return O};f_.prototype.A$=function(_,n){this.iD.setAttribute("style","width:"+Math.min(_-40,740)+"px;  height:"+(n-38)+"px;  padding:1.5em;");
this.td[0].A$(_,n)};f_.prototype.Lw=function(_,n){return new aW(Math.max(0,Math.min(150,(_-740)/2)),Math.max(0,Math.min(100,(n-500)/2)))};
f_.prototype.a0y=function(_){L.I$(this.iD);this.iD.scrollTop=0;this.iD.appendChild(this.td[_.data.tE].m)};
f_.prototype.f=function(){ai.prototype.f.call(this);for(var m=0;m<this.td.length;m++)this.td[m].f()};
f_.prototype.dN=function(_,n,O){if(!navigator.onLine)return;L.I$(this.iD);var l=this.td[0];this.iD.appendChild(l.m);
l.dN();this.f()};f_.prototype.w1=function(_,n){this.dN(null,null,null)};f_.Zl=function(){b1.call(this);
this.m=L.S("div");var _=this.m,V,y,E="font-size:1.25em;",a="text-align:center;",e="style=\"list-style-type: none; padding:0;  margin:0; font-size:1.15em;\"",P="style=\"font-weight:bold; color:#00aa00; padding-right:4px;\"",b="style=\"width:50%; vertical-align:top; padding:10px 20px;\"",C=12;
this.by=L.S("div");_.appendChild(this.by);this.wI=new cw([0,11],!1,null,!0);this.wI.m.setAttribute("style","background-color: rgba(200,0,0,1); color:#ffffff; margin:4px 6px 4px 0;");
this.wI.Z("click",this.mh,this);_.appendChild(this.wI.m);this.Sx=new cw([0,13,1],!1,null,!0);this.Sx.Z("click",this.aaY,this);
_.appendChild(this.Sx.m);this.Cp=new cw("Business Terms",!1,null,!0);this.Cp.Z("click",this.aiJ,this);
_.appendChild(this.Cp.m);var n=L.S("div");n.style.margin="20px 0";_.appendChild(n);var O=["Account Types","Go Premium","Team Settings","Distributors"],l=this.Cr=[],x=this.a8_=[],t=this.l_=L.S("div");
_.appendChild(t);for(var m=0;m<O.length;m++){var h=L.S("span");h.textContent=O[m];n.appendChild(h);l.push(h);
h.setAttribute("style","font-weight:bold; display:inline-block;  margin-right:2em; font-size:1.1em; cursor:pointer;");
h.addEventListener("click",this.Gm.bind(this));x.push(L.S("div"))}this.Gm(0);var r=this.atK="background-color: #00aa00;  text-shadow:none; padding:3px 7px; font-size:1.2em; color:#ffffff; cursor:pointer; margin:4px 0; width:100%;";
_=x[0];var y=L.S("table"),S="style=\" "+a+E+" padding-bottom:20px;\"";y.innerHTML="\t\t\t<tr>\t\t\t\t<th>FREE</th><th>PREMIUM</th>\t\t\t</tr>\t\t\t<tr>\t\t\t\t<td "+b+">\t\t\t\t\t<div "+S+">\t\t\t\t\t\t<sup>$</sup><big><big><b>0</b></big></big>/mo\t\t\t\t\t</div>\t\t\t\t\t<div>\t\t\t\t\t\t<ul>\t\t\t\t\t\t\t<li><span "+P+">\u2713</span> All Features</li>\t\t\t\t\t\t</ul>\t\t\t\t\t</div>\t\t\t\t</td>\t\t\t\t<td "+b+">\t\t\t\t\t<div "+S+">\t\t\t\t\t\tFrom <sup>$</sup><big><big><b>3.33</b></big></big>/mo\t\t\t\t\t</div>\t\t\t\t\t<div>\t\t\t\t\t\t<ul>\t\t\t\t\t\t\t<li><span "+P+">\u2713</span> All Features</li>\t\t\t\t\t\t\t<li><span "+P+">\u2713</span> No Ads <a href=\"//www.photopea.com/promo/no_ads.png\" target=\"_blank\">\uD83D\uDC41</a></li>\t\t\t\t\t\t\t<li><span "+P+">\u2713</span> 2\xD7 more steps in history</li> \t\t\t\t\t\t\t<li><span "+P+">\u2713</span> quick <a href=\"mailto:support@photopea.com\">email support</a></li> \t\t\t\t\t\t</ul>\t\t\t\t\t\t<span style=\"margin:10px 0 12px 0; font-size:0.75em;\">* No subscription, just one-time payments</span> \t\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t</td>\t\t\t</tr>\t\t";
_.appendChild(y);var h=new cw("Go Premium");h.m.setAttribute("style",r+"padding:10px 0;");h.Z("click",function(s){this.Gm(1)},this);
y.children[0].children[1].children[1].appendChild(h.m);this.GS=L.S("div");_.appendChild(this.GS);_=x[1];
var T=this.ad_=[[9,30,1],[10,90,1],[40,365,1],[15,30,5],[30,90,5],[120,365,5],[50,30,20],[100,90,20],[400,365,20],[100,30,50],[200,90,50],[800,365,50],[40,30,1e3],[80,90,1e3],[300,365,1e3],[100,30,5e3],[200,90,5e3],[700,365,5e3],[200,30,2e4],[400,90,2e4],[1400,365,2e4]];
this.bx=[];for(var m=0;m<T.length;m++)this.bx.push(new cw("Buy: $"+T[m][0],!1,null,!0));for(var m=0;
m<this.bx.length;m++){this.bx[m].Z("click",this.a9V,this)}this.Ng=new cw("...",!0);this.Ng.m.setAttribute("style",r);
_.appendChild(this.Ng.m);y=this.a8S(4,["Single user",this.bx[0],this.bx[1],this.bx[2],"Team of 5",this.bx[3],this.bx[4],this.bx[5],"Team of 20",this.bx[6],this.bx[7],this.bx[8],"Team of 50",this.bx[9],this.bx[10],this.bx[11]]);
_.appendChild(y);this.adA=new dE("I accept",!0,"");_.appendChild(this.adA.m);this.Yt=new cw([0,13,1],!1,null,!0);
this.Yt.Z("click",this.aaY,this);_.appendChild(this.Yt.m);this.ob=new cw("I have a key",!1,null,!0);
this.ob.m.setAttribute("style",r+" float:right; width:inherit;");this.ob.Z("click",this.a9V,this);_.appendChild(this.ob.m);
_=x[2];this.HH=new fo;this.HH.parent=this;this.HH.Z(H.E.A,this.g1,this);_.appendChild(this.HH.m);_=x[3];
this.SH=new cw("...",!0);this.SH.m.setAttribute("style",r);_.appendChild(this.SH.m);y=this.a8S(3,["1000 views/mo",this.bx[C++],this.bx[C++],this.bx[C++],"5000 views/mo",this.bx[C++],this.bx[C++],this.bx[C++],"20000 views/mo",this.bx[C++],this.bx[C++],this.bx[C++]]);
_.appendChild(y);var Z=L.S("p");Z.innerHTML="Insert Photopea into your webpage, with no ads, under your own brand \t\t... <a href=\"https://www.photopea.com/api/accounts#distributors\" target=\"_blank\" style=\"color:inherit;\">More</a>";
_.appendChild(Z);this.ne=new g_("Domain name (e.g. domain.com)",null,14);_.appendChild(this.ne.m);var W=new cw("Save Domain Settings",!1,null,!0);
W.tV();_.appendChild(W.m);W.Z("click",this.a3l,this)};f_.Zl.prototype=new b1;f_.Zl.prototype.Gm=function(_){var n=typeof _=="number"?_:this.Cr.indexOf(_.target);
for(var m=0;m<4;m++)this.Cr[m].style.opacity=.6;this.Cr[n].style.opacity=1;L.I$(this.l_);this.l_.appendChild(this.a8_[n])};
f_.Zl.prototype.A$=function(_,n){var O=_<600?"d":" days",l=["30 days","90 days","365 days"];if(_<600)l=["30d","90d","365d"];
var x=this.ad_;for(var m=0;m<x.length;m++){this.bx[m].KM("<span>"+l[m%3]+": <sup>$</sup><big><b>"+x[m][0]+"</b></big>"+"</span>");
this.bx[m].m.setAttribute("style",this.atK)}};f_.Zl.prototype.aaY=function(_){var n=new e_("showpage",!0);
n.data={tE:1};this.$(n)};f_.Zl.prototype.aiJ=function(_){var n=new e_("showpage",!0);n.data={tE:2};this.$(n)};
f_.Zl.prototype.f=function(){this.wI.KM(iM.BT()?hU.get([0,11]):hU.get([0,10]));this.Yt.f();this.Sx.f();
this.Cp.f()};f_.Zl.prototype.asS=function(_){var n=new e_(H.E.L,!0);n.data={d:H.t.Fn,link:"https://www.photopea.com/api/accounts#"+(_.target==this.aaF?"teams":"distributors")};
this.$(n)};f_.Zl.prototype.alv=function(_){var n=_.currentTarget==this.a4f;this.a4f.c(n);this.a5P.c(!n)};
f_.Zl.prototype.a4e=function(_){var n=this.a4f.b(),O=this.a0E.b().trim().toLowerCase(),l=this.a1s.value.trim().toLowerCase();
if(O.length>60){alert("Too long email address");return}if(l.length>600){alert("Too many team members");
return}l=l.split(",").join(" ").trim();l=l.replace(/\s+/g," ");if(l=="")l=[];else l=l.split(" ");var x=iM.gM();
if(x==null)x={};if(x.acc==null)x.acc={};x.acc.team={jin:n,ldr:O,mmb:l};iM.kJ(x,this.g1.bind(this));alert("Saved!");
this.dN()};f_.Zl.prototype.a3l=function(_){var n=this.ne.b().trim();if(!iM.BT()){alert("You have to log in first.");
return}if(iM.zJ()==0){alert("Order a distributor account first.");return}var O=iM.gM();if(O==null)O={};
if(O.acc==null)O.acc={};if(n=="")delete O.acc.dname;else O.acc.dname=n;iM.kJ(O,this.g1.bind(this));alert("Saved!");
this.dN()};f_.Zl.prototype.a97=function(_){var n=iM.iq(),m=this.Ki,O=iM.gM();if(O==null)O={};if(O.acc==null)O.acc={};
O.acc.bto=_;iM.kJ(O,function(){});var l=f_.afZ(_.split("\n"),n.pmnts[m]);iR.save(l,"photopea_invoice.pdf")};
f_.Zl.prototype.ah$=function(_){var n=iM.iq(),O=iM.gM(),l=O.acc?O.acc.bto:null;if(l==null)l=n.name+"\n"+n.email;
var m=-1,x=_.target.m.parentNode;while((x=x.previousSibling)!=null)m++;this.Ki=m;var t=new e_(H.E.L,!0);
t.data={d:H.t.Rq,EW:"billto",KB:l,_f:this.a97.bind(this)};this.$(t)};f_.Zl.prototype.dN=function(){this.by.innerHTML="";
L.I$(this.GS);if(iM.BT()){var _=iM.iq(),n=_.pmnts;if(_==null)return;this.by.innerHTML="<span style=\"font-size:1.5em; margin-right:0.7em;\">"+_.name+"</span> "+_.email+" <br/>";
if(n){var O="<h2>Payments</h2>";for(var m=0;m<n.length;m++){var l=n[m],x=new Date(l[0]*1e3);O+="<div style=\"font-size:1.2em\">"+x.getDate()+". "+(x.getMonth()+1)+". "+x.getFullYear()+" - "+f_.a87(l)+"</div>"}this.GS.innerHTML=O;
for(var m=0;m<n.length;m++){var t=new cw("Get Invoice",!1,null,!0);t.m.setAttribute("style","float:right");
t.Z("click",this.ah$,this);this.GS.children[m+1].appendChild(t.m)}}}else{}var h=iM.BT()&&iM.Sg();this.Ng.m.style.display=h?"block":"none";
if(h){var V,y,r=h;if(r[0]==0){V=iM.wb(r[1])-Date.now()*(1/1e3);y=r[1][2]==1?"Single User":"Team Of "+r[1][2]}else{V=r[1][1]-Date.now()*(1/1e3);
y="Member of \""+r[1][0]+"\""}this.Ng.KM("Premium active for "+Math.round(V/(60*60*24))+" more days! ("+y+")")}var E=iM.BT()&&iM.zJ()*1e3>Date.now();
this.SH.m.style.display=E?"block":"none";if(E){var V=iM.zJ()-Date.now()/1e3;this.SH.KM("Distributor active for "+Math.round(V/(60*60*24))+" more days!")}var a=iM.gM();
this.HH.dN();if(a&&a.acc&&a.acc.dname)this.ne.c(a.acc.dname);else this.ne.c("")};f_.Zl.prototype.a8S=function(_,n){var O=L.S("table");
if(!0){var l="<table><tr>";for(var m=0;m<_;m++)l+="<th>"+n[m*4]+"</th>";l+="</tr></table>";O.innerHTML=l;
for(var m=0;m<3;m++){var x=L.S("tr"),t;O.appendChild(x);for(var h=0;h<_;h++){t=L.S("td");t.style.width=Math.round(100/_)+"%";
x.appendChild(t);t.appendChild(n[h*4+1+m].m)}}}return O};f_.Zl.prototype.a9V=function(_){var n=this.bx.indexOf(_.currentTarget),l=30,x=1;
if(!iM.BT()){this.mh();return}if(this.adA.b()==!1&&n<12){alert("You must accept Terms of Service");return}var O=iM.BT()&&iM.Sg();
if(n!=-1){var t=this.ad_[n];l=t[1];x=t[2]}if(O&&x<1e3){alert("You already have premium.");return}console.log(t,l,x);
if(n==-1){var h=prompt("Please enter your key");if(h!=null){iM.aof(h,this.g1.bind(this));this.kP()}return}if(l==30&&x==1){var V=confirm("You can have a 90 days version for $10. Do you still want a 30 days version for $9?");
if(!V)return}iM.order(l,x,this.g1.bind(this));this.kP()};f_.Zl.prototype.g1=function(_){this.dN();this.kP()};
f_.Zl.prototype.mh=function(_){if(iM.BT()){iM.aiW();this.kP();this.dN(null,null,null)}else iM.mh(this.avb.bind(this))};
f_.Zl.prototype.avb=function(){var _=new e_(H.E.L,!0);_.data={d:H.t.avK};this.$(_)};f_.Zl.prototype.kP=function(){var _=new e_(H.E.L,!0);
_.data={d:H.t.a0h};this.$(_)};f_.ct=function(_){b1.call(this);this.m=L.S("div");var n=this.m,O=this.al1=new cw([0,13,2],!1,null,!0),l;
O.Z("click",this.a8j,this);n.appendChild(O.m);if(_.startsWith("::")){l=L.S("iframe");l.setAttribute("style","width:100%;height:1700px; background-color:white;");
l.setAttribute("src",_.slice(2))}else{l=L.S("div");l.innerHTML=_}n.appendChild(l)};f_.ct.prototype=new b1;
f_.ct.prototype.a8j=function(_){var n=new e_("showpage",!0);n.data={tE:0};this.$(n)};f_.ct.prototype.f=function(){this.al1.f()};
f_.anf="\t\t<h1>Contact</h1>\t\t<p>Photopea.com is operated by Ivan Kuckir (I\u010C 04498411, Tax ID CZ9011014309).</p>\t\t<ul>\t\t\t<li><b>Address</b>: H\xE1lkova 483, 517 41 Kostelec nad Orlic\xED, Czech Republic</li>\t\t\t<li><b>E-mail</b>: support@photopea.com, <b>Phone number</b>: +420 604 592 737</li>\t\t</ul>\t\t<h1>Refund Policy</h1>\t\t<p>You can ask for a refund by writing us an email to support@photopea.com and. \t\tWe offer only one kind of service, and if you have been refunded in the past, you can not get another refund.\t\t</p>\t\t<h1>Terms of Delivery</h1>\t\t<p>You can pay with a debit or a credit card. Payments are processed instantly, your Premium account will be activated instantly.</p>\t\t<h1>Payment Provider</h1>\t\t<p>Payments are provided by <a style=\"color:white\" href=\"https://www.comgate.cz/cz/platebni-brana\">ComGate pamyments, a.s</a>.</p>\t\t<ul>\t\t\t<li>ComGate Payments, a.s.</li>\t\t\t<li>Go\u010D\xE1rova t\u0159\xEDda 1754 / 48b, Hradec Kr\xE1lov\xE9</li>\t\t\t<li>E-mail: platby-podpora@comgate.cz, Tel:  +420 228 224 267</li>\t\t</ul>\t\t<img src=\"https://www.comgate.cz/files/platebni-brana-comgate-paticka-e-shopu.png\" />\t";
f_.a87=function(_){return"Photopea "+(_[1]<1e3?"Premium":"Distributor")+" ("+_[1]+" days, "+_[2]+" user"+(_[2]==1?"":"s")+")"};
f_.afZ=function(_,n){_=["Bill To:"].concat(_);var O=new ToPDF,l=595,x=842,t=40,h=18,V=12,y=500,r=100,E=400,b=0;
function a(I,Y,U,F,N){e.font.Tf=N?"Helvetica-Bold":"Helvetica";e.ctm=[1,0,0,1,Y,U];e.font.Tfs=F?F:V;
O.PutText(e,I,0)}function S(I,Y,U,F){for(var m=0;m<I.length;m++){a(I[m],Y,U-m*F,null,m==0)}}var e=UDOC.getState();
O.StartPage(0,0,l,x);a("INVOICE",l-t-140,x-t-30,30,!0);S(["Bill From:","Ivan Kuckir","H\xE1lkova 483, 517 41 Kostelec nad Orlic\xED","Tax ID: CZ9011014309"],t,x-t-40,h);
var P=new Date(n[0]*1e3);S(["Date: "+P.getDate()+". "+(P.getMonth()+1)+". "+P.getFullYear(),"Transaction ID: "+n[4]],l-t-140,x-t-40-h*2,h);
var T=_.join("");for(var m=0;m<T.length;m++)b=Math.max(b,T.charCodeAt(m));if(b>256){var C=4,Z=L.S("canvas"),W=Z.getContext("2d"),s=0;
W.font=V*C+"px sans-serif";for(var m=0;m<_.length;m++)s=Math.max(s,W.measureText(_[m]).width);var f=Math.round(s)+20,q=_.length*C*h+20;
Z.width=f;Z.height=q;W.font=V*C+"px sans-serif";for(var m=0;m<_.length;m++){W.font=(m==0?"bold ":"")+V*C+"px sans-serif";
W.fillText(_[m],10,(m+1)*C*h)}document.body.appendChild(Z);var g=new Uint8Array(W.getImageData(0,0,f,q).data.buffer);
e.ctm=[f/C,0,0,q/C,t-10/C,x-t-40-100-q/C];O.PutImage(e,g,f,q);e.ctm=[1,0,0,1,0,0]}else S(_,t,x-t-40-100,h);
e.colr=[.8,.8,.8];e.pth={cmds:["M","L","L","L","Z"],crds:[t,y,l-t,y,l-t,y-h,t,y-h]};O.Fill(e);e.colr=[0,0,0];
var i=[t,y,l-t,y,t,y-h,l-t,y-h,t,y-r,l-t,y-r,t,y,t,y-r,l-t,y,l-t,y-r,E,y,E,y-r],u=[];for(var m=0;m<i.length;
m+=4)u.push("M","L");e.pth={cmds:u,crds:i};O.Stroke(e);a("Order details",t+4,y-14);a(f_.a87(n),t+4,y-h-14);
a("TOTAL:",t+4,y-r-14,null,!0);a("Price",l-t-50,y-14);a(n[3]+" USD",l-t-60,y-h-14);a(n[3]+" USD",l-t-60,y-r-14,null,!0);
a("www.Photopea.com",t,t);a("support@photopea.com",l-t-130,t);O.ShowPage();O.Done();return O.buffer};
function j$(){ai.call(this,[11,14],"addguides");this.ii;this.Yw={lW:{Go:0}};this.$R=null;var _=L.S("div","form");
this.body.appendChild(_);this.go=[];this.v1=new im(null,["Hi"]);_.appendChild(this.v1.m);L.z0(_);this.v1.Z(H.E.A,this.DN,this);
this.xv=new g_([22,4,0],null,16);this.xv.Z(H.E.A,this.uA,this);this.Zb=new g_([22,4,1],null,16);this.Zb.Z(H.E.A,this.uA,this);
this.zU=new cB(null,Q.k4.sG);this.zU.Z(H.E.A,this.uA,this);_.appendChild(this.xv.m);_.appendChild(this.zU.m);
L.z0(_);_.appendChild(this.Zb.m);this.Q2=L.iu(this,_);this.Z("closebtn",this.fm,this)}j$.prototype=new ai;
j$.prototype.pq=function(_,n){return _!=null};j$.prototype.HE=function(){return!0};j$.prototype.f=function(){ai.prototype.f.call(this);
this.xv.f();this.Zb.f();this.zU.f();this.Q2.f()};j$.prototype.w1=function(_,n){var O=_.lW.Go;this.Yw.lW.Go=O;
this.zU.c(O)};j$.prototype.dN=function(_,n){this.ii=_;this.$R=JSON.stringify(_.tp());this.go=[-1];var O=["Global"],l=_.root.children,x=_.P_();
for(var m=0;m<l.length;m++){var t=l[m].j;if(t.add.artb){O.push(t.getName());this.go.push(l[m].index)}}this.v1.aV(O);
this.v1.c(this.go.indexOf(x));this.DN()};j$.prototype.DN=function(){var _=this.ii,n=_.tp(),O=this.go[this.v1.b()],l=[0,0];
if(O!=-1){var x=_.B[O].DM();l=[x.x,x.y]}var t=function(h,V,_,y,r){var E=h[0],a=[];for(var m=0;m<E.length;
m++)if(h[1][m]==O&&E[m][0]==V)a.push(Q.k4.eI(E[m][1]-l[V],_.pa,y,r));a.sort(function(S,e){return S-e});
return a.join(", ")};this.xv.c(t(n,0,_,this.Yw,_.a));this.Zb.c(t(n,1,_,this.Yw,_.n))};j$.prototype.uA=function(_){if(_&&_.currentTarget==this.zU)this.Yw.lW.Go=this.zU.b();
else{var n=this.a0c(),O=this.ii;O.WX(n);O.Hc=!0}this.DN()};j$.prototype.a0c=function(){var _=this.ii,n=_.tp(),O=this.go[this.v1.b()],l=[0,0];
if(O!=-1){var x=_.B[O].DM();l=[x.x,x.y]}var t=[];for(var h=0;h<2;h++){var V=h==0?this.xv:this.Zb,y=h==0?this.ii.a:this.ii.n,r=V.b().replace(/,/g," ").replace(/  +/g," ").trim(),E=r==""?[]:r.split(" ");
for(var m=0;m<E.length;m++)t.push([h,Q.k4.amw(E[m],this.ii.pa,this.Yw,y)+l[h]])}for(var m=0;m<n[0].length;
m++)if(n[1][m]==O){n[0].splice(m,1);n[1].splice(m,1);m--}for(var m=0;m<t.length;m++){n[0].push(t[m]);
n[1].push(O)}return n};j$.prototype.fm=function(_){var n=this.ii;n.WX(JSON.parse(this.$R));n.Hc=!0;this.ii=null};
j$.prototype.DW=function(_){this.uA(_);var n=new e_(H.E.s,!0);n.G=D.cb;n.data={d:"gids",g0:JSON.parse(this.$R),Ke:this.ii.tp()};
this.ii=null;this.close();this.$(n)};function jM(_){ai.call(this,{pdfpres:"PDF Presentation"}[_],_);
var n=L.S("div","form");this.body.appendChild(n);n.setAttribute("style","width:300px");this.K1=new bk("Source Images",!0,!0);
n.appendChild(this.K1.m);this.ry=new cB([12,14,0],["A4 Portrait","A4 Lanscape",[12,93,3],"Adapt to images"]);
n.appendChild(this.ry.m);this.Ch=new dE("Order images by name");this.Ch.c(!0);n.appendChild(this.Ch.m);
var O=new cw(["VAR0 PDF",[1,8]],!0,null,!0);O.Z("click",this.UZ,this);n.appendChild(O.m)}jM.prototype=new ai;
jM.prototype.UZ=function(_){var n=this.K1.b(),O=[],t=595,h=842,V=40;for(var l in n)O.push(l);if(O.length==0){alert("No images selected");
return}if(this.Ch.b())O.sort();var x=this.ry.b(),y=new ToPDF,r=UDOC.getState();for(var m=0;m<O.length;
m++){var l=O[m],E=n[l],a=E[0]==255,S=dx.N_(E.buffer),e=dx.Jv(S),P;if(S=="psd")P=jI.akp(E.buffer)[0];
else if(e.Yj){alert(S.toUpperCase()+" can not be used.");continue}else P=e.Xd(E.buffer)[0];var b=P.n5,T=new Uint8Array(P.data),C=b.a,Z=b.n,W=[[595,842],[842,595],[595,595],[595,0]][x];
if(x==3)W[1]=Math.round(W[0]*Z/C);var t=W[0],h=W[1],s=Math.min(t/C,h/Z);y.StartPage(0,0,t,h);r.ctm=[C*s,0,0,Z*s,(t-C*s)/2,(h-Z*s)/2];
y.PutImage(r,a?E:T,C,Z);y.ShowPage()}y.Done();iR.save(y.buffer,"file.pdf")};jM.prototype.f=function(){ai.prototype.f.call(this);
this.K1.f();this.ry.f();this.Ch.f()};function ir(_){var n=ie.names[_];if(n==null)n=a3.names[_];if(_=="aply")n=[2,12];
if(_=="fade")n=[2,11];if(_=="matc")n=[4,18];if(_=="blendOptions")n=[14,10];ai.call(this,n,"afw_"+_);
this.D$=_;this.Tv=null;this.qL=null;this.xn=new ez[_];this.xn.Z(H.E.A,this.M8,this);this.xn.parent=this;
this.body.appendChild(this.xn.m);this.l8=new dE([24,18,5]);this.l8.c(!0);this.l8.Z(H.E.A,this.M8,this);
this.j3=new cw([1,12,2],!0,null,!0);this.j3.Z("click",this.y1,this);this.Q2=L.iu(this);if(this.T2())this.xn.L9(this.Q2.m);
else{L.NT(this.xn.m,"form");L.NT(this.body,"flexrow");this.xn.m.setAttribute("style","width:312px");
var O=L.S("div");this.body.appendChild(O);O.setAttribute("style","width:8em; margin-left:1em; line-height:2.3em");
O.appendChild(this.Q2.m);O.appendChild(this.j3.m);O.appendChild(this.l8.m)}this.Z("closebtn",this.Sy,this)}ir.prototype=new ai;
ir.prototype.HE=function(){return!0};ir.prototype.T2=function(){return this.xn!=null&&this.xn.bv()};
ir.prototype.Lw=function(){return this.T2()?new aW(0,0):ai.prototype.Lw()};ir.prototype.GH=function(){return this.xn.GH()};
ir.prototype.Ta=function(_,n,O,l,x){this.xn.Ta(_,n,O,l,x)};ir.prototype.Xg=function(_,n,O,l,x){this.xn.Xg(_,n,O,l,x)};
ir.prototype.PF=function(_,n,O,l,x){this.xn.PF(_,n,O,l,x)};ir.prototype.pq=function(_,n){if(this.D$=="fade")return ir.abp(_);
return!0};ir.prototype.y1=function(_){this.xn.c(ie.gV(this.D$));this.M8()};ir.prototype.M8=function(_){this.IX({d:"edit",As:this.xn.b(),AG:!this.l8.b()})};
ir.prototype.Sy=function(_){this.IX({d:"cancel"})};ir.prototype.DW=function(_){if(!this.l8.b()){this.l8.c(!0);
this.M8()}this.qL=this.xn.b();if(this.T2())this.M8();this.IX({d:"confirm"});this.close()};ir.prototype.f=function(){ai.prototype.f.call(this);
this.l8.f();if(this.xn)this.xn.f();this.Q2.f()};ir.prototype.w1=function(_,n){if(this.xn)this.xn.w1(_,n)};
ir.prototype.op=function(_,n,O,l){if(this.T2())this.xn.op(l);else ai.prototype.op.call(this,_,n,O,l)};
ir.prototype.dN=function(_,n,O,l){this.Tv=n.Tv;var x=_.add.lnk2?_.add.lnk2:[],t,h,V=new a8(0,0,_.a,_.n),y=_.B[_.g[0]],r=null;
t=y.buffer;h=y.rect;if(this.T2())r=_.Cs(_.g[0]-1);var E=ie.gV(this.D$),a=[x,_.U_,_,O];if(n.Tv==null){this.xn.c(E,t,h,V,r,a);
if(a3.names[this.D$]){if(l.l(bJ.Yk)&&this.qL)this.xn.c(this.qL);var S=D.tc.getData(_),e=Q.CO(S[0].r0);
this.xn.pz(e)}}else{var P=!1,y=_.B[this.Tv.j];if(y.lx()){var b=y.vO(_);t=b.buffer;h=b.rect;var T=y.add.SoLd.filterFX.v.filterFXList.v;
if(T[this.Tv.index]){var C=T[this.Tv.index].v;this.xn.c(this.D$=="blendOptions"?C.blendOptions.v:C.Fltr.v,t,h,V,r,a);
this.xn.pz(Q.CO(t));P=!0}}if(!P){this.xn.c(E,t,h,V,r,a);this.xn.pz(Q.CO(t))}}if(!this.T2()){this.M8();
var Z=this.xn;if(Z&&Z.jV&&Z.jV[0]&&Z.jV[0].wl)Z.jV[0].wl()}};ir.prototype.IX=function(_){var n=new e_(H.E.s,!0);
_.D$=this.D$;_.Tv=this.Tv;n.data=_;n.G=ie.names[this.D$]||this.Tv?D.rq:D.wR;n.$o=!0;this.$(n)};ir.prototype.A$=function(_,n){if(!this.xn.bv()){}else{this.body.style.padding="0";
this.xn.A$(_,n)}};ir.abp=function(_){if(_==null)return!1;var n=_.bU();if(n==null||!(n.data instanceof Array)||n.data.length!=_.g.length)return!1;
for(var m=0;m<n.data.length;m++){var O=n.data[m];if(O.j<0&&_.U_[-1-O.j])return!0;if(O.j==null||_.B[O.j]==null||_.B[O.j].LN!=O.Hr)return!1;
if(_.g.indexOf(O.j)==-1)return!1}return!0};function e$(){ai.call(this,[11,0],"camera");this.data=null;
this.Ue=new aW(1,1);this.ar1=[];var _=L.S("div","form hbar");this.body.appendChild(_);this.alZ=new cB(null,[]);
this.QJ=new cB([21,0],[[21,2],[21,1]]);_.appendChild(this.QJ.m);this.xr=new cB(null,[]);this.xr.Z(H.E.A,this.aae,this);
_.appendChild(this.xr.m);this.NL=new cw([11,0],!1,null,!0);this.NL.Z("click",this.amb,this);_.appendChild(this.NL.m);
this.m8=new an("");_.appendChild(this.m8.m);this.stream=null;this.Wy=L.S("video","");this.Wy.setAttribute("autoplay","true");
this.body.appendChild(this.Wy);this.afb=this.a2K.bind(this);this.ayu=this.ao0.bind(this);this.a9h=this.asA.bind(this);
this.Z("closebtn",this.aak,this)}e$.prototype=new ai;e$.prototype.f=function(){ai.prototype.f.call(this);
this.QJ.f();this.NL.f();this.A$(this.Qc,this.bE)};e$.prototype.Cs=function(){var _=this.Wy.videoWidth,n=this.Wy.videoHeight,O=L.S("canvas","");
O.width=_;O.height=n;var l=O.getContext("2d");l.drawImage(this.Wy,0,0,_,n);var x=l.getImageData(0,0,_,n);
return{n5:new a8(0,0,_,n),data:x.data.buffer}};e$.prototype.amb=function(_){if(this.QJ.b()==0)this.alf();
else this.a3W()};e$.prototype.a3W=function(){var _=this.Cs(),n={buffer:new Uint8Array(_.data),rect:_.n5},O=new e_(H.E.s,!0);
O.$o=!0;O.G=D.Ko;O.data={d:v.P$,wL:n};this.$(O);alert(hU.get([21,4]))};e$.prototype.alf=function(){var _=this.Cs(),n=dx.Fv("camera",[_]),O=new e_(H.E.L,!0);
O.data={d:H.t.iQ,cn:n};this.$(O);alert(hU.get([21,5]))};e$.prototype.dN=function(_,n,O){navigator.mediaDevices.enumerateDevices().then(this.ayS.bind(this))};
e$.prototype.ayS=function(_){var n=this.ar1=[],O=[];for(var m=0;m<_.length;m++)if(_[m].kind=="videoinput"){n.push(_[m]);
O.push("Camera "+n.length)}this.xr.aV(O);this.xr.c(0);this.aae()};e$.prototype.aae=function(_){this.aak();
var n={video:{deviceId:this.ar1[this.xr.b()].deviceId,width:{ideal:8e3},height:{ideal:8e3}}};if(navigator.mediaDevices.getUserMedia)navigator.mediaDevices.getUserMedia(n).then(this.afb).catch(this.ayu);
else navigator.webkitGetUserMedia(n,this.afb,this.ayu)};e$.prototype.a2K=function(_){this.stream=_;this.Wy.srcObject=_;
this.Wy.addEventListener("loadedmetadata",this.a9h,!1)};e$.prototype.asA=function(_){this.Wy.play();
this.A$(this.Qc,this.bE)};e$.prototype.Lw=function(_,n){return new aW(0,0)};e$.prototype.A$=function(_,n){var O=this.Wy.videoWidth,l=this.Wy.videoHeight;
this.m8.c(O+" x "+l+" px");this.m8.m.setAttribute("style","position:absolute;  left:14px; bottom:10px; z-index:1;");
this.Ue.BX(O,l);this.Qc=_;this.bE=n;var x=_-28,t=n-28-30,h=this.Ue.x/this.Ue.y;if(x/t>h)x=t*h;else t=x/h;
this.Wy.setAttribute("style","display: block; width: "+Math.round(x)+"px; height:"+Math.round(t)+"px;")};
e$.prototype.ao0=function(_){console.log("error",_);alert(hU.get([21,6]));this.close()};e$.prototype.aak=function(_){if(this.stream!=null){var n=this.stream.getTracks();
for(var m=0;m<n.length;m++)n[m].stop();this.stream=null}};function hS(){ai.call(this,[7,8],"crange");
this.ii=null;this.fI={oT:73,EX:4.45,k:4};this.wi={oT:73,EX:4.45,k:4};this.body.style.width="20em";this.g8=new cB([0,5],["Sampled Colors",[19,6,0],[19,6,1],[19,6,2]]);
this.g8.Z(H.E.A,this.a5v,this);this.body.appendChild(this.g8.m);this.J8=L.S("div","form");this.body.appendChild(this.J8);
var _=this.abW=2,n=this.ft=[new jD([12,92],0,200),new im([12,36],[[18,0],"\uFF0B","-"]),new jD([12,92],0,100,"%"),new bd("Min",0,255),new bd("Max",0,255)];
n[0].c(40);n[_].c(40);for(var m=0;m<n.length;m++){n[m].Z(H.E.A,this.H1,this);n[m].parent=this}this.T=L.S("canvas");
this.body.appendChild(this.T);this.Q2=L.iu(this,this.body)}hS.prototype=new ai;hS.prototype.pq=function(_,n){return _!=null};
hS.prototype.GH=function(){return!0};hS.prototype.HE=function(){return!0};hS.prototype.a5v=function(_){var n=this.g8.b(),O=this.ft,l=this.J8,x=0,t=O.length,h=this.abW;
if(n==0)t=h;else{x=h;O[x+1].c([0,100,190][n-1]);O[x+1].Nf(n!=1);O[x+2].c([60,150,255][n-1]);O[x+2].Nf(n!=3)}L.I$(l);
for(var m=x;m<t;m++){l.appendChild(O[m].m)}this.H1()};hS.prototype.f=function(){ai.prototype.f.call(this);
this.Q2.f();this.g8.f();for(var m=0;m<this.ft.length;m++)this.ft[m].f()};hS.prototype.Ta=function(_,n,O,l,x){var t=_.u.vk(x.x,x.y);
this.amc(t.x,t.y)};hS.prototype.amc=function(_,n){var O=Math.min,l=Math.max,x=this.ii,t=l(0,O(x.a-1,Math.floor(_))),h=l(0,O(x.n-1,Math.floor(n))),V=x.Cs(),y=(h*x.a+t)*4,r=V[y],E=V[y+1],a=V[y+2],S=Q.KY(r,E,a),e=this.ft[1].b(),P=this.fI,b=this.wi;
if(e==0){this.fI=JSON.parse(JSON.stringify(S));this.wi=S}else if(e==1){P.oT=O(P.oT,S.oT);P.EX=O(P.EX,S.EX);
P.k=O(P.k,S.k);b.oT=l(b.oT,S.oT);b.EX=l(b.EX,S.EX);b.k=l(b.k,S.k)}else if(e==2){var T=(P.oT+b.oT)/2,C=(P.EX+b.EX)/2,Z=(P.k+b.k)/2;
if(S.oT<T)P.oT=l(P.oT,S.oT+10);else b.oT=O(b.oT,S.oT-10);if(S.EX<C)P.EX=l(P.EX,S.EX+1);else b.EX=O(b.EX,S.EX-1);
if(S.k<Z)P.k=l(P.k,S.k+1);else b.k=O(b.k,S.k-1)}this.H1()};hS.prototype.DW=function(_){var n=this.g8.b(),O=this.ft,l={__name:"Color Range",classID:"ClrR",colorModel:{t:"long",v:0}};
if(n==0){var x=this.fI,t=this.wi;l.Mnm={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:x.oT},A:{t:"doub",v:x.EX},B:{t:"doub",v:x.k}}};
l.Mxm={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:t.oT},A:{t:"doub",v:t.EX},B:{t:"doub",v:t.k}}};l.Fzns={t:"long",v:O[0].b()}}else{n--;
var h=["shadows","midtones","highlights"][n];l.Clrs={t:"enum",v:{Clrs:["Shdw","Mdtn","Hghl"][n]}};if(0<n)l[h+"LowerLimit"]={t:"long",v:O[3].b()};
if(n<2)l[h+"UpperLimit"]={t:"long",v:O[4].b()};l[h+"Fuzziness"]={t:"long",v:O[2].b()}}this.close();var V=new e_(H.E.yy,!0);
V.data={et:"colorRange",ot:l};this.$(V)};hS.prototype.dN=function(_,n){this.ii=_;this.amc(0,0);this.a5v()};
hS.prototype.H1=function(){var _=this.ii,n=this.g8.b(),O=this.fI,l=this.wi,x=this.ft,t=x[0].b()/200,h=!1;
if(n>0){O=x[3].b();l=x[4].b();if(O>=l)O=l-1;h=!0;t=x[2].b()/100}var V=D.iM.bW(_,O,l,t,h),y=V.rect,r=V.channel,E=this.T,a=E.getContext("2d"),S=Math.floor(230*L.V()),e=Math.floor(S*(y.n/y.a));
E.width=S;E.height=e;L.i8(E,S,e);var P=Q.Q(r.length*4);Q.qs(P,4294967295);for(var m=0;m<3;m++)Q.$c(r,P,m);
var b=D.D6.yn([P,y],new aY(S/y.a,0,0,e/y.n,0,0)),T=b.rect,C=new ImageData(new Uint8ClampedArray(b.buffer.buffer),T.a,T.n);
a.putImageData(C,0,0)};function h9(){ai.call(this,[12,76,1],"createshape");this.O0=null;var _=L.S("div","form");
_.setAttribute("style","width:20em");this.body.appendChild(_);this.xf=new bd([12,41],0,0,null,0,!1,!0);
_.appendChild(this.xf.m);L.z0(_);this.xv=new bd([12,42],0,0,null,0,!1,!0);_.appendChild(this.xv.m);L.z0(_);
this.cY=new dE([19,5,3]);_.appendChild(this.cY.m);this.xf.c(100);this.xv.c(100);this.Q2=L.iu(this,_)}h9.prototype=new ai;
h9.prototype.DW=function(_){this.O0.a5B(this.O0.a3j,this.xf.b(),this.xv.b(),this.cY.b());this.close()};
h9.prototype.f=function(){if(this.O0)this.a7=hU.get([5,3])+": "+hU.get(this.O0.ald);ai.prototype.f.call(this);
this.Q2.f();this.xf.f();this.xv.f();this.cY.f()};h9.prototype.dN=function(_,n){this.O0=n;this.f();this.xf.wl()};
function aj(){ai.call(this,[11,1],"colorpicker");this.pC=null;this.Bl=null;this.jK=null;this.rH=!1;this.XL=!1;
this.aq3=[.9642,1,.8249];var _=L.S("div","flexrow"),h,V;this.body.appendChild(_);this.g9=new aM(256,!0);
this.g9.Z(H.E.A,this.Ze,this);_.appendChild(this.g9.m);var n=L.S("div","form");n.setAttribute("style","width:14.5em; margin-left:1em;");
_.appendChild(n);var O=L.S("div","flexrow");n.appendChild(O);var l=L.S("div");O.appendChild(l);l.style="width:95px; margin-right:14px";
this.aod=L.S("div","full");l.appendChild(this.aod);this.ani=L.S("div","full");l.appendChild(this.ani);
var l=L.S("col");O.appendChild(l);l.style.width="80px";this.Q2=L.iu(this,l);var O=L.S("div","flexrow");
n.appendChild(O);var x=L.S("div"),t=L.S("div");O.appendChild(x);O.appendChild(t);x.style=t.style="margin-left:14px; max-width:80px;";
h=["H","S","B"];V=x;this.Bo=[];for(var m=0;m<3;m++){var y=0,r=360,E="\xB0";if(m!=0){r=100;E="%"}var a=new bd(h[m],y,r,E,0,!1,!0);
this.Bo.push(a);a.Z(H.E.A,this.alW,this);V.appendChild(a.m);if(m==2)a.m.style.marginBottom="8px"}h=["R","G","B"];
V=x;this.rN=[];for(var m=0;m<3;m++){var a=new bd(h[m],0,255,null,0,!1,!0);this.rN.push(a);a.Z(H.E.A,this.ajG,this);
V.appendChild(a.m)}h=["L","a","b"];V=t;this.PK=[];for(var m=0;m<3;m++){var y=[0,-128,-128][m],r=[100,127,127][m],a=new bd(h[m],y,r,null,0,!1,!0);
a.c(0);this.PK.push(a);a.Z(H.E.A,this.a9r,this)}h=["C","M","Y","K"];V=t;this.Vl=[];for(var m=0;m<4;m++){var a=new bd(h[m],0,100,"%",0,!1,!0);
a.c(0);this.Vl.push(a);a.Z(H.E.A,this.a4d,this);V.appendChild(a.m);if(m==3)a.m.style.marginBottom="8px"}this.xv=new g_("#",null,4.5);
this.xv.Z(H.E.A,this.TN,this);t.appendChild(this.xv.m);this.xv.m.style.marginRight="0";this.i3=L.S("input","fitem");
this.i3.setAttribute("type","color");this.i3.setAttribute("style","width:59px;  margin-left:19px;");
this.i3.addEventListener("change",this.TN.bind(this),!1);t.appendChild(this.i3);this.$g=new ch(9);this.$g.Z(H.E.A,this.TN,this);
n.appendChild(this.$g.m);this.Z("closebtn",this.Sy,this);this.Wq=!1}aj.prototype=new ai;aj.prototype.GH=function(){return!0};
aj.prototype.Lw=function(_,n){return new aW(Math.max(0,Math.min(150,(_-484)/2)),Math.max(0,Math.min(150,(n-316)/2)))};
aj.prototype.A$=function(_,n){this.g9.A$(Math.min(256,_-226),n)};aj.prototype.f=function(_,n){ai.prototype.f.call(this);
for(var m=0;m<3;m++){this.rN[m].f();this.Bo[m].f();this.PK[m].f()}for(var m=0;m<4;m++)this.Vl[m].f();
this.Q2.f()};aj.prototype.Ze=function(_){this.Bl=this.g9.b();this.update()};aj.prototype.Ta=function(_,n,O,l,x){this.Wq=!0;
this.aoE(_,x)};aj.prototype.Xg=function(_,n,O,l,x){if(!this.Wq)return;this.aoE(_,x)};aj.prototype.PF=function(_,n,O,l,x){this.Wq=!1};
aj.prototype.aoE=function(_,n){var O=D.N3.T9(_,n,1),l=O&255,x=O>>8&255,t=O>>16&255;this.Bl={o:t/255,J:x/255,k:l/255};
this.update()};aj.prototype.ajG=function(_){var n=this.rN,O=this.MJ(parseInt(n[0].b())),l=this.MJ(parseInt(n[1].b())),x=this.MJ(parseInt(n[2].b()));
this.Bl={o:O/255,J:l/255,k:x/255};this.update()};aj.prototype.alW=function(_){var n=this.Bo,O=this.d3(parseInt(n[0].b())/360),l=this.d3(parseInt(n[1].b())/100),x=this.d3(parseInt(n[2].b())/100);
this.Bl=Q.ax(O,l,x);this.update()};aj.prototype.a4d=function(_){var n=this.Vl,O=[];for(var m=0;m<4;m++){var l=this.auT(parseInt(n[m].b()));
n[m].c(l);O.push(l/100)}var x=aj.amX(O);this.Bl={o:x[0],J:x[1],k:x[2]};this.update(!0)};aj.amX=function(_){var n=[.99,.997,.999,0,.77,.783,.793,0,.57,.584,.597,0,.381,.391,.402,0,.133,.123,.128,0,1,.981,.799,0,.782,.773,.64,0,.578,.576,.479,0,.383,.383,.316,0,.123,.115,.072,0,1,.966,.602,0,.789,.762,.483,0,.581,.566,.358,0,.385,.377,.227,0,.115,.109,.001,0,1,.954,.377,0,.792,.751,.307,0,.583,.558,.22,0,.385,.37,.119,0,.102,.105,0,0,1,.946,0,0,.794,.743,0,0,.584,.552,0,0,.385,.366,0,0,.09,.103,0,0,.969,.796,.876,0,.757,.628,.698,0,.564,.467,.525,0,.379,.305,.349,0,.135,.055,.085,0,.977,.783,.706,0,.765,.621,.566,0,.568,.461,.422,0,.379,.3,.273,0,.128,.051,.023,0,.984,.774,.54,0,.768,.612,.431,0,.569,.453,.316,0,.379,.295,.193,0,.118,.048,0,0,.988,.765,.354,0,.771,.604,.28,0,.57,.447,.195,0,.378,.291,.093,0,.107,.047,0,0,.991,.758,.068,0,.773,.598,.056,0,.57,.442,0,0,.378,.288,0,0,.099,.046,0,0,.949,.603,.759,0,.744,.474,.605,0,.557,.348,.453,0,.376,.215,.297,0,.136,0,.037,0,.955,.595,.616,0,.75,.471,.492,0,.559,.345,.365,0,.375,.213,.229,0,.128,0,.005,0,.959,.589,.477,0,.751,.465,.377,0,.558,.34,.273,0,.373,.211,.157,0,.118,0,.005,0,.962,.583,.322,0,.753,.46,.251,0,.558,.336,.168,0,.372,.209,.062,0,.111,0,.005,0,.963,.578,.122,0,.753,.457,.084,0,.558,.333,.007,0,.372,.207,0,0,.106,0,.005,0,.933,.406,.652,0,.733,.312,.519,0,.55,.217,.387,0,.373,.106,.248,0,.117,0,.009,0,.937,.403,.531,0,.737,.314,.423,0,.55,.219,.31,0,.371,.11,.187,0,.111,0,.008,0,.94,.402,.415,0,.737,.312,.326,0,.549,.219,.23,0,.369,.112,.12,0,.106,0,.008,0,.941,.4,.288,0,.738,.312,.221,0,.549,.219,.141,0,.367,.115,.035,0,.102,0,.008,0,.942,.398,.136,0,.738,.312,.096,0,.548,.22,.013,0,.366,.117,0,0,.1,0,.008,0,.919,.007,.549,0,.724,0,.436,0,.545,0,.322,0,.37,0,.198,0,.08,0,.007,0,.922,.056,.45,0,.726,0,.355,0,.543,0,.255,0,.367,0,.142,0,.081,0,.007,0,.924,.091,.356,0,.725,.037,.276,0,.541,0,.188,0,.365,0,.084,0,.082,0,.007,0,.924,.109,.255,0,.726,.067,.193,0,.541,0,.114,0,.363,0,.012,0,.083,0,.007,0,.924,.12,.145,0,.726,.085,.103,0,.541,.019,.021,0,.362,0,0,0,.083,0,.007,0,.716,.897,.982,0,.565,.711,.782,0,.415,.531,.589,0,.266,.354,.398,0,.042,.102,.133,0,.743,.884,.792,0,.584,.701,.635,0,.428,.524,.476,0,.273,.348,.315,0,.027,.098,.081,0,.761,.871,.609,0,.595,.69,.487,0,.435,.515,.363,0,.277,.342,.232,0,.017,.095,.013,0,.776,.862,.414,0,.604,.681,.329,0,.439,.507,.238,0,.279,.337,.136,0,0,.094,0,0,.787,.856,.172,0,.611,.676,.133,0,.442,.502,.077,0,.28,.333,0,0,0,.093,0,0,.726,.718,.861,0,.576,.574,.69,0,.427,.427,.52,0,.279,.277,.348,0,.06,.026,.095,0,.747,.712,.702,0,.59,.569,.563,0,.435,.422,.42,0,.282,.273,.274,0,.051,.028,.037,0,.758,.704,.546,0,.596,.56,.435,0,.438,.416,.32,0,.283,.269,.198,0,.036,.03,0,0,.768,.697,.381,0,.602,.554,.298,0,.441,.41,.211,0,.284,.266,.11,0,.015,.032,0,0,.777,.693,.188,0,.606,.549,.137,0,.442,.406,.074,0,.284,.263,0,0,.002,.033,0,0,.731,.549,.749,0,.581,.438,.601,0,.433,.32,.452,0,.286,.194,.298,0,.051,0,.051,0,.747,.547,.614,0,.591,.435,.492,0,.438,.318,.365,0,.287,.193,.232,0,.04,0,.006,0,.754,.543,.483,0,.594,.43,.383,0,.439,.315,.278,0,.286,.193,.164,0,.025,0,.005,0,.76,.538,.344,0,.598,.427,.266,0,.44,.312,.183,0,.286,.192,.081,0,.015,0,.005,0,.766,.535,.19,0,.6,.423,.134,0,.44,.309,.065,0,.285,.19,0,0,.009,0,.005,0,.733,.378,.649,0,.583,.295,.519,0,.437,.202,.388,0,.29,.09,.251,0,.01,0,.006,0,.745,.38,.534,0,.59,.296,.426,0,.439,.206,.313,0,.289,.097,.192,0,.001,0,.005,0,.749,.38,.424,0,.591,.296,.334,0,.438,.207,.238,0,.288,.102,.129,0,0,.001,.005,0,.753,.379,.309,0,.593,.296,.235,0,.438,.207,.155,0,.286,.105,.056,0,0,.002,.005,0,.757,.378,.185,0,.595,.295,.128,0,.437,.207,.054,0,.284,.107,0,0,0,.002,.005,0,.734,.111,.554,0,.584,.03,.44,0,.438,0,.325,0,.292,0,.204,0,0,.002,.005,0,.743,.126,.458,0,.588,.065,.363,0,.438,0,.263,0,.29,0,.151,0,0,.002,.005,0,.745,.144,.368,0,.588,.087,.286,0,.436,.006,.199,0,.288,0,.096,0,0,.002,.005,0,.747,.153,.275,0,.589,.102,.205,0,.436,.026,.128,0,.286,0,.025,0,0,.002,.005,0,.75,.157,.179,0,.59,.111,.121,0,.435,.041,.045,0,.283,0,0,0,0,.002,.005,0,.416,.811,.964,0,.33,.645,.769,0,.231,.483,.581,0,.119,.321,.394,0,0,.084,.137,0,.469,.799,.784,0,.368,.638,.629,0,.258,.477,.473,0,.138,.317,.315,0,0,.084,.086,0,.5,.788,.614,0,.389,.628,.491,0,.273,.47,.366,0,.149,.312,.236,0,0,.083,.022,0,.525,.78,.438,0,.407,.62,.347,0,.284,.464,.253,0,.157,.308,.15,0,0,.081,0,0,.545,.776,.251,0,.419,.616,.194,0,.291,.459,.129,0,.162,.305,.035,0,0,.079,0,0,.482,.654,.849,0,.384,.525,.681,0,.278,.39,.514,0,.164,.25,.345,0,0,.008,.1,0,.516,.65,.697,0,.407,.52,.559,0,.293,.387,.419,0,.172,.248,.274,0,0,.01,.046,0,.534,.643,.551,0,.419,.513,.438,0,.3,.382,.324,0,.177,.246,.202,0,0,.008,.004,0,.55,.637,.4,0,.43,.508,.314,0,.307,.377,.224,0,.181,.244,.122,0,0,.007,.004,0,.564,.634,.243,0,.438,.504,.182,0,.31,.374,.115,0,.182,.241,.018,0,0,.006,.004,0,.523,.506,.743,0,.417,.405,.597,0,.306,.294,.449,0,.189,.174,.298,0,0,.003,.057,0,.544,.505,.614,0,.431,.403,.492,0,.314,.294,.366,0,.193,.175,.234,0,0,.002,.005,0,.554,.502,.49,0,.437,.399,.388,0,.318,.292,.284,0,.195,.176,.17,0,0,.002,.005,0,.564,.499,.361,0,.444,.396,.28,0,.32,.29,.196,0,.195,.176,.095,0,0,.002,.005,0,.573,.496,.231,0,.449,.394,.168,0,.322,.288,.1,0,.195,.175,.001,0,0,.002,.005,0,.548,.359,.649,0,.437,.279,.52,0,.323,.189,.39,0,.205,.075,.254,0,0,.002,.01,0,.562,.36,.538,0,.446,.281,.43,0,.327,.193,.317,0,.205,.085,.197,0,0,.002,.005,0,.567,.361,.433,0,.448,.281,.341,0,.328,.195,.245,0,.205,.091,.138,0,0,.002,.005,0,.573,.361,.325,0,.451,.281,.249,0,.328,.196,.168,0,.204,.096,.071,0,0,.002,.005,0,.579,.36,.218,0,.455,.281,.154,0,.329,.197,.084,0,.201,.098,0,0,0,.002,.005,0,.565,.155,.562,0,.451,.082,.448,0,.335,0,.332,0,.212,0,.21,0,0,.002,.005,0,.574,.162,.467,0,.456,.1,.371,0,.336,.01,.27,0,.211,0,.159,0,0,.002,.005,0,.576,.175,.38,0,.455,.115,.296,0,.334,.034,.208,0,.209,0,.105,0,0,.002,.005,0,.579,.182,.291,0,.457,.125,.218,0,.334,.051,.141,0,.206,0,.04,0,0,.002,.005,0,.583,.185,.204,0,.459,.131,.141,0,.334,.061,.068,0,.202,0,.002,0,0,.002,.005,0,0,.738,.949,0,0,.589,.758,0,0,.442,.574,0,0,.293,.391,0,0,.065,.14,0,0,.728,.777,0,0,.583,.623,0,0,.438,.47,0,0,.29,.314,0,0,.059,.09,0,0,.718,.615,0,0,.574,.493,0,0,.432,.369,0,0,.287,.239,0,0,.054,.03,0,.149,.71,.453,0,.091,.568,.361,0,0,.427,.265,0,0,.284,.159,0,0,.051,0,0,.21,.706,.292,0,.142,.565,.232,0,.025,.424,.161,0,0,.282,.068,0,0,.049,0,0,.069,.601,.84,0,.057,.482,.673,0,0,.358,.509,0,0,.227,.343,0,0,.005,.103,0,.2,.597,.693,0,.151,.479,.556,0,.069,.356,.417,0,0,.227,.275,0,0,.003,.05,0,.251,.591,.553,0,.187,.473,.441,0,.104,.352,.327,0,0,.225,.206,0,0,.002,.005,0,.286,.585,.413,0,.214,.468,.326,0,.126,.348,.235,0,0,.224,.132,0,0,.002,.005,0,.311,.583,.276,0,.232,.465,.212,0,.139,.346,.142,0,.009,.223,.047,0,0,.002,.005,0,.275,.471,.738,0,.215,.375,.593,0,.142,.271,.447,0,.043,.154,.298,0,0,.003,.063,0,.31,.47,.613,0,.242,.374,.491,0,.16,.271,.366,0,.058,.157,.236,0,0,.002,.005,0,.331,.467,.494,0,.255,.371,.391,0,.17,.271,.288,0,.066,.159,.174,0,0,.002,.005,0,.349,.464,.373,0,.268,.369,.291,0,.178,.269,.205,0,.073,.16,.105,0,0,.002,.005,0,.362,.462,.257,0,.278,.367,.192,0,.184,.268,.122,0,.075,.16,.023,0,0,.002,.005,0,.349,.342,.65,0,.275,.264,.521,0,.194,.176,.391,0,.097,.064,.256,0,0,.002,.018,0,.367,.344,.542,0,.288,.267,.433,0,.201,.181,.32,0,.101,.076,.2,0,0,.002,.005,0,.376,.345,.44,0,.293,.268,.347,0,.204,.184,.251,0,.103,.083,.143,0,0,.002,.005,0,.385,.345,.337,0,.299,.268,.259,0,.207,.185,.178,0,.105,.088,.081,0,0,.002,.005,0,.393,.344,.238,0,.306,.268,.173,0,.209,.187,.104,0,.105,.091,.01,0,0,.002,.005,0,.393,.177,.568,0,.312,.111,.456,0,.225,.01,.34,0,.12,0,.217,0,0,.002,.005,0,.403,.185,.476,0,.318,.122,.378,0,.227,.035,.277,0,.124,0,.166,0,0,.002,.005,0,.405,.194,.39,0,.318,.132,.305,0,.226,.054,.216,0,.125,0,.113,0,0,.002,.005,0,.409,.199,.302,0,.321,.138,.229,0,.226,.065,.152,0,.124,0,.054,0,0,.002,.005,0,.413,.202,.218,0,.324,.142,.155,0,.227,.072,.084,0,.12,0,.01,0,0,.002,.005,0,0,.679,.937,0,0,.544,.75,0,0,.409,.568,0,0,.27,.388,0,0,.023,.142,0,0,.67,.771,0,0,.538,.619,0,0,.405,.467,0,0,.268,.314,0,0,.022,.094,0,0,.661,.616,0,0,.531,.494,0,0,.4,.37,0,0,.266,.241,0,0,.021,.036,0,0,.653,.462,0,0,.526,.371,0,0,.397,.274,0,0,.264,.167,0,0,.021,.002,0,0,.648,.318,0,0,.523,.258,0,0,.395,.183,0,0,.264,.088,0,0,.021,.002,0,0,.56,.833,0,0,.447,.668,0,0,.331,.505,0,0,.207,.341,0,0,.005,.105,0,0,.554,.689,0,0,.444,.553,0,0,.33,.416,0,0,.208,.275,0,0,.003,.052,0,0,.548,.554,0,0,.439,.443,0,0,.327,.33,0,0,.207,.209,0,0,.002,.005,0,0,.543,.421,0,0,.435,.335,0,0,.324,.243,0,0,.206,.14,0,0,.002,.005,0,0,.54,.298,0,0,.433,.232,0,0,.322,.16,0,0,.205,.066,0,0,.002,.005,0,0,.445,.736,0,0,.351,.59,0,0,.251,.445,0,0,.138,.297,0,0,.003,.066,0,0,.442,.613,0,0,.35,.491,0,0,.252,.366,0,0,.141,.237,0,0,.002,.007,0,0,.439,.497,0,0,.347,.395,0,0,.252,.291,0,0,.143,.178,0,0,.002,.005,0,0,.436,.381,0,0,.346,.299,0,0,.251,.213,0,0,.145,.112,0,0,.002,.005,0,0,.434,.274,0,0,.344,.208,0,0,.25,.137,0,0,.145,.042,0,0,.002,.005,0,0,.33,.651,0,0,.253,.523,0,0,.167,.393,0,0,.055,.258,0,0,.002,.024,0,0,.331,.545,0,0,.255,.435,0,0,.171,.323,0,0,.067,.203,0,0,.002,.005,0,.058,.332,.445,0,.019,.256,.351,0,0,.174,.255,0,0,.075,.147,0,0,.002,.005,0,.1,.331,.344,0,.058,.255,.267,0,0,.175,.185,0,0,.08,.088,0,0,.002,.005,0,.124,.331,.25,0,.083,.255,.186,0,0,.176,.116,0,0,.079,.02,0,0,.002,.005,0,.172,.191,.574,0,.129,.129,.463,0,.069,.035,.346,0,0,0,.221,0,0,.002,.005,0,.189,.198,.482,0,.142,.135,.384,0,.076,.052,.281,0,0,0,.169,0,0,.002,.005,0,.197,.205,.397,0,.146,.142,.31,0,.077,.066,.221,0,0,0,.116,0,0,.002,.005,0,.203,.21,.309,0,.153,.146,.236,0,.081,.074,.158,0,0,.003,.059,0,0,.002,.005,0,.208,.212,.226,0,.159,.148,.164,0,.088,.078,.094,0,.002,.005,.013,0,0,.002,.005,0],O=Math.round(Math.pow(n.length/4,1/4)),l=[0,0,0,0];
ICC.U.applyLUT4Float(n,O,_,l);return l};aj.auB=function(_){var n=[.5,.5,.5,.5],O=1e9,l=null;for(var x=0;
x<16;x++){var t=x&3,h=1;for(var m=0;m<100;m++){var V=n.slice(0);V[t]=Math.max(0,Math.min(1,V[t]+h*(-.5+Math.random())));
var y=aj.amX(V),r=y[0]-_[0],E=y[1]-_[1],a=y[2]-_[2],S=r*r+E*E+a*a;if(S<O){O=S;n=V;l=y}if(m%10==0)h*=.5}}return n};
aj.prototype.a9r=function(_){var n=this.PK,O=parseInt(n[0].b()),l=parseInt(n[1].b()),x=parseInt(n[2].b()),t=Q.da(O,l,x);
this.Bl={o:t.o/255,J:t.J/255,k:t.k/255};this.update()};aj.prototype.TN=function(_){var n;if(_.currentTarget==this.$g)n=this.$g.b();
else{n=_.currentTarget==this.xv?this.xv.b():this.i3.value;if(n.charAt(0)=="#")n=n.slice(1);if(n.length==3)n=n[0]+n[0]+n[1]+n[1]+n[2]+n[2];
n=Q.LQ(n)}this.Bl={o:(n>>16&255)/255,J:(n>>8&255)/255,k:(n&255)/255};this.update()};aj.prototype.B5=function(_){var n=_.o,O=_.J,l=_.k;
return Math.round(n*255)<<16|Math.round(O*255)<<8|Math.round(l*255)};aj.prototype.DW=function(_){this.aqO();
var n=this.B5(this.Bl);this.jK(n);this.close();this.XL=!1;this.Bl=null};aj.prototype.Sy=function(_){this.aqO();
if(this.rH)this.jK(this.B5(this.pC));this.XL=!1;this.Bl=null};aj.prototype.aqO=function(_){var n=new e_(H.E.L,!0);
n.data={d:H.t.alu};this.$(n)};aj.prototype.w1=function(_,n){var O=dr.fl(_,n);if(O!=null)this.$g.c(O);
if(n!=gp.La)return;if(this.Bl!=null){this.Bl={o:(O>>16&255)/255,J:(O>>8&255)/255,k:(O>>0&255)/255};this.update()}};
aj.prototype.dN=function(_,n){var O=n.r1,l={o:(O>>16&255)/255,J:(O>>8&255)/255,k:(O>>0&255)/255};if(this.Bl==null){var x=new e_(H.E.L,!0);
x.data={d:H.t.JK,vG:"crosshair",push:!0};this.$(x);this.Wq=!1;this.jK=n.gF;this.rH=!1;this.XL=n.tK;this.pC=JSON.parse(JSON.stringify(l));
this.ani.setAttribute("style","height:2.3em;background-color:#"+Q.sN(O)+";")}this.Bl=l;this.update()};
aj.prototype.update=function(_){var n=this.Bl,O=this.B5(n);this.xv.c(Q.sN(O));this.i3.value="#"+Q.sN(O);
this.aod.setAttribute("style","height:2.3em;background-color:#"+Q.sN(O)+";");var l=this.rN;l[0].c(Math.round(n.o*255));
l[1].c(Math.round(n.J*255));l[2].c(Math.round(n.k*255));var x=Q.lM(n.o,n.J,n.k);l=this.Bo;l[0].c(Math.round(x.bE*360));
l[1].c(Math.round(x.yj*100));l[2].c(Math.round(x.As*100));var t=Q.KY(n.o*255,n.J*255,n.k*255,this.aq3);
l=this.PK;l[0].c(Math.round(t.oT));l[1].c(Math.round(t.EX));l[2].c(Math.round(t.k));if(_==null){var h=aj.auB([n.o,n.J,n.k]);
l=this.Vl;l[0].c(Math.round(h[0]*100));l[1].c(Math.round(h[1]*100));l[2].c(Math.round(h[2]*100));l[3].c(Math.round(h[3]*100))}this.g9.c(n);
if(this.XL){this.jK(this.B5(this.Bl));this.rH=!0}};aj.prototype.auT=function(_){return Math.max(0,Math.min(100,_))};
aj.prototype.MJ=function(_){return Math.max(0,Math.min(255,_))};aj.prototype.d3=function(_){return Math.max(0,Math.min(1,_))};
function f6(){ai.call(this,[11,2],"contoureditor");this.auW=null;this.rc=null;this.response=null;this.YA=L.S("div","cell");
this.body.appendChild(this.YA);this.Fu=L.S("div","cell padded");this.body.appendChild(this.Fu);var _=L.S("div","bordered padded vmargin");
this.YA.appendChild(_);this.xn=new gc(null,null,!0);this.xn.Z(H.E.A,this.v0,this);_.appendChild(this.xn.m);
this.Q2=L.iu(this,this.Fu);this.Z("closebtn",this.bO,this)}f6.prototype=new ai;f6.prototype.DW=function(){this.close()};
f6.prototype.f=function(){ai.prototype.f.call(this);this.Q2.f();this.xn.f()};f6.prototype.v0=function(_){this.rc.Crv.v=this.xn.b();
this.response(this.rc)};f6.prototype.bO=function(_){this.response(this.auW)};f6.prototype.dN=function(_,n){this.auW=JSON.parse(JSON.stringify(n.l_));
this.rc=n.l_;this.response=n.response;this.xn.c(this.rc.Crv.v)};function g8(){ai.call(this,[11,3],"csize");
this.mu=0;this.iD=L.S("div","form");this.iD.setAttribute("style","width:22em; margin-bottom:1em;");this.body.appendChild(this.iD);
this.Q5=new gE(!0,!0,!0,!0,!0);this.Q5.aen(!1);this.iD.appendChild(this.Q5.m);this.Ru=new im("Align with",[[8,7],[12,6]]);
this.Ru.Z(H.E.A,this.a3h,this);this.Hp=new eI([12,23,2],41);this.iD.appendChild(this.Hp.m);this.Hp.c(4);
this.wh=new e6(!1);this.wh.a0r(new aW(0,0));this.Q2=L.iu(this,this.body)}g8.prototype=new ai;g8.prototype.pq=function(_,n){return _!=null};
g8.prototype.HE=function(){return!0};g8.prototype.$Y=function(_){return[bJ.Ti,bJ.WP,bJ.Ev,bJ.kc].indexOf(_)!=-1};
g8.prototype.op=function(_,n,O,l){if(l.l(bJ.Vn))this.DW();this.Hp.ajg(l.yi())};g8.prototype.a3h=function(){var _=[this.Hp.m,this.wh.m];
this.iD.removeChild(_[this.mu]);this.mu=this.Ru.b();this.iD.appendChild(_[this.mu])};g8.prototype.f=function(){ai.prototype.f.call(this);
this.Q5.f();this.Ru.f();this.Hp.f();this.wh.f();this.Q2.f()};g8.prototype.DW=function(_){var n=this.Q5.b(),O=n.x,l=n.y,x=new e_(H.E.yy,!0);
x.data=D.e_.aaj(O,l,this.Hp.b());this.close();this.$(x)};g8.prototype.dN=function(_,n){this.Q5.c(new aW(_.a,_.n),_.pa);
this.Q5.wl()};function bg(){ai.call(this,[11,4],"duplinto");this.xN=null;this.Bs=null;this.ED=null;var _=L.S("div","form");
_.setAttribute("style","max-width:26em");this.body.appendChild(_);this.dZ=new cB([12,43],["abc","def"]);
this.dZ.Z(H.E.A,this.E3,this);_.appendChild(this.dZ.m);L.z0(_);this.r7=new cB([1,16,0],["abc","def"]);
this.r7.Z(H.E.A,this.E3,this);_.appendChild(this.r7.m);L.z0(_);this.vT=new g_([12,48],null,14);_.appendChild(this.vT.m);
this.Q2=L.iu(this,_)}bg.prototype=new ai;bg.prototype.HE=function(){return!0};bg.prototype.f=function(){ai.prototype.f.call(this);
this.Q2.f();this.dZ.f();this.vT.f()};bg.prototype.E3=function(_){if(_&&_.target==this.r7)return;var n=this.dZ.b(),O=this.Bs[n],l=this.xN,x=O!=null&&O.add.artd!=null;
for(var m=0;m<l.g.length;m++)if(l.B[l.g[m]].add.artb)x=!1;this.vT.Nf(n==this.Bs.length);this.r7.Nf(x);
if(x){var t=O.root.children,h=[],V=this.ED=[];for(var m=0;m<t.length;m++){var y=t[m].j;if(y.add.artb)h.push(y.getName());
V.push(t[m].index)}this.r7.aV(h);this.r7.c(0)}else this.ED=null};bg.prototype.dN=function(_,n,O){this.xN=_;
this.Bs=O;this.vT.c(_.g.length==0?"Layer":_.B[_.g[0]].getName());var l=[];for(var m=0;m<O.length;m++){var x=O[m].name;
l.push(x.length<30?x:x.slice(0,27)+"...")}l.push([11,7]);this.dZ.aV(l);this.dZ.c(O.indexOf(_));this.E3(null)};
bg.prototype.DW=function(_){var n=this.dZ.b();if(n==this.Bs.length){var O=new fJ(this.vT.b()+".psd"),l=this.xN.a,x=this.xN.n,t=this.xN.P_();
if(t!=-1){var h=this.xN.B[t].DM();l=h.a;x=h.n}O.a=l;O.n=x;O.buffer=Q.Q(O.a*O.n*4);var V=O.Ni();V.iA("Background");
O.T0([V]);var y=new e_(H.E.L,!0);y.$o=!0;y.data={d:H.t.iQ,cn:O};this.$(y)}var r=this.xN.NS(null,this.xN!=this.Bs[n]),y=new e_(H.E.s,!0);
y.data={d:v.L3,B:r,Hk:this.xN,Zr:this.Bs[n]};if(this.ED)y.data.fG=this.ED[this.r7.b()];y.G=D.Ko;y.$o=!0;
this.$(y);this.close()};function hN(){ai.call(this,[1,9],"eassets");this.Yw=null;this.Hf=null;var _=this.body;
L.NT(_,"form");_.style.width="32em";this.g8=new im(null,["Layers","Combinations"]);this.g8.Z(H.E.A,this.DN,this);
_.appendChild(this.g8.m);L.q9(_);this.kY=L.S("span");_.appendChild(this.kY);this.DB=L.S("div");_.appendChild(this.DB);
var n=L.S("div"),O=L.S("div","flexrow");this.aza=[n,O];this.Tj=[new dE("Only layers / folders, whose name starts with \"-e-\""),new dE("Remove parts outside the canvas"),new dE("Trim transparent parts")];
for(var m=0;m<3;m++){var l=this.Tj[m];l.c(!0);l.Z(H.E.A,this.DN,this);n.appendChild(l.m);L.z0(n)}this.Rc=new gl([12,14,0],["1x","2x","3x","4x"]);
this.Rc.c([!0,!1,!1,!1]);n.appendChild(this.Rc.m);var x=L.S("div");O.appendChild(x);var t=L.S("img");
t.setAttribute("src","img/nft.png");t.style.width="150px";O.appendChild(t);var h=L.S("span");h.textContent="File Names:";
x.appendChild(h);this.an=new gl(null,["1-0-1.XYZ","head1-eyes0-mouth1.XYZ","red-green-brown.XYZ"],!1,null,!0);
x.appendChild(this.an.m);this.an.c([!0,!1,!1]);L.q9(_);this.E6=["PNG","JPG","SVG","TIFF","TGA"];this.dY=new cB([12,50],this.E6);
this.dY.Z(H.E.A,this.a41,this);_.appendChild(this.dY.m);this.rp=new g9;_.appendChild(this.rp.m);this.Q2=new cw([1,9],!0,null,!0);
this.Q2.Z("click",this.DW,this);_.appendChild(this.Q2.m);this.Z("closebtn",this.nX,this)}hN.prototype=new ai;
hN.prototype.a41=function(_){this.rp.RA(this.E6[this.dY.b()],!1,!1,!1,this.Hf.BZ()!=null)};hN.prototype.nX=function(_){this.Hf=null};
hN.prototype.f=function(){ai.prototype.f.call(this);this.dY.f();this.Rc.f();this.Q2.f();this.rp.f()};
hN.prototype.dN=function(_,n,O){this.Hf=_;this.DN()};hN.prototype.DN=function(_){var n=this.g8.b(),O;
L.I$(this.DB);this.DB.appendChild(this.aza[n]);if(n==0){var l=this.ao5();O=l.length+" exportable layers"}else{var l=this.a74();
O=l[1]+" combinations ("+l[0].join(" \xD7 ")+")"}this.kY.textContent="- - - "+O;this.a41(null)};hN.prototype.ao5=function(){var _=this.Tj[0].b(),n=[],O=this.Hf;
for(var m=0;m<O.B.length;m++){var l=O.B[m],x=l.getName();if(!_&&!l.kx()&&!l.rect.wk()||x.startsWith("-e"))n.push(m)}return n};
hN.prototype.a74=function(){var _=this.Hf,n=_.root.children,O=[],l=1,x=[];for(var m=0;m<n.length;m++){var t=n[m],h=t.j;
if(h.kx()){var V=t.children.length;O.push(V);l*=V;x.push(t.index)}h}return[O,l,x]};hN.prototype.w1=function(_,n){this.Yw=_};
hN.prototype.DW=function(_){var n=this.Hf,O=this.g8.b(),l=[this.E6[this.dY.b()]],x=[this.rp.b()],t={};
if(O==0){var h=this.Rc.b(),V={},y=this.ao5();if(y.length==0){alert("No layers to export.");return}var r=[this.Tj[1].b(),this.Tj[2].b()];
for(var m=0;m<y.length;m++){var E=y[m],a=n.B[E],S=a.getName();if(V[S]!=null){V[S]++;S+=" "+V[S]}else V[S]=1;
var P=a.Pn();a.ND(!0);for(var b=0;b<h.length;b++){if(!h[b])continue;var T=b+1,C=D.dV.af5(n,l,T,this.Yw,E,x,r);
for(var Z=0;Z<l.length;Z++){var W=l[Z],s=S.slice(S.startsWith("-e-")?3:0)+(T==1?"":"@"+T+"x")+"."+W.toLowerCase();
if(C[Z])t[s]=new Uint8Array(C[Z])}}a.ND(P)}}else{var P=[];for(var m=0;m<n.B.length;m++)P.push(n.B[m].Pn());
var f=this.a74(),q=f[0],y=f[2],g=[];function i(c,E,p,d){if(E==c.length){d.push(p.slice(0));return}var k=c[E];
for(var m=0;m<k;m++){p.push(m);i(c,E+1,p,d);p.pop(m)}}i(q,0,[],g);var u=this.an.b().indexOf(!0);for(var I=0;
I<g.length;I++){var Y=g[I],U=[];for(var m=0;m<Y.length;m++){var F=n.root.yJ(y[m]);for(var b=0;b<F.children.length;
b++)F.children[b].j.ND(!1);var N=F.children[Y[m]].j;U.push(u==2?N.getName():F.j.getName()+Y[m]);N.ND(!0)}n.U();
n.jN();var o=(u==0?Y:U).join("-")+"."+l[0].toLowerCase();t[o]=new Uint8Array(dx.bt(n,l[0],n.a,n.n,x[0],this.Yw))}for(var m=0;
m<n.B.length;m++)n.B[m].ND(P[m]);n.U()}var X=UZIP.encode(t),J=new e_(H.E.L,!0);J.data={d:H.t.Jg,data:X,name:"assets.zip"};
this.$(J)};function de(){ai.call(this,"Export Color Lookup Tables","exlut");this.Yw=null;this.Hf=null;
var _=L.S("div","form");_.setAttribute("style","width:20em");this.body.appendChild(_);this.Tj=[new bd("Grid Points",1,256),new im([12,50],[".CUBE"])];
var n=[16,0];for(var m=0;m<this.Tj.length;m++){var O=this.Tj[m];O.c(n[m]);O.parent=this;O.Z(H.E.A,this.DN,this);
_.appendChild(O.m);L.z0(_)}this.Q2=L.iu(this,_);this.Z("closebtn",this.nX,this)}de.prototype=new ai;
de.prototype.pq=function(_,n){if(Math.min(_.a,_.n)<16){alert("The document must be at least 16 x 16 pixels.",3200);
return!1}if(_.B.length<2){alert("There must be a background layer and some adjustment layers.",3200);
return!1}return!0};de.prototype.nX=function(_){this.Hf=null};de.prototype.w1=function(_,n){this.Yw=_};
de.prototype.dN=function(_,n,O){this.Hf=_};de.prototype.DW=function(){var _=this.Hf,n=this.Tj[0].b(),O=[],l=new a8(0,0,_.a,_.n),x=Q.Q(n*n*4),t=x.slice(0),h=new a8(_.a-n>>>1,_.n-n>>>1,n,n),V=_.B[0],y=V.buffer,r=V.rect;
V.rect=h;V.buffer=x;for(var E=0;E<n;E++){this.awm(n,E,x);V.U(h);_.U(h);var a=_.Cs();Q.zw(a,l,t,h);for(var S=0;
S<n;S++)for(var e=0;e<n;e++){var P=S*n+e<<2;O.push(t[P]/255,t[P+1]/255,t[P+2]/255)}}var b=i9.apj(O,n,_.name);
iR.save(b,_.name.split(".")[0]+".CUBE");V.buffer=y;V.rect=r;V.U();_.U()};de.prototype.awm=function(_,n,O){var l=255/(_-1),x=Math.round(n*l);
for(var t=0;t<_;t++)for(var h=0;h<_;h++){var V=t*_+h<<2;O[V]=Math.round(h*l);O[V+1]=Math.round(t*l);
O[V+2]=x;O[V+3]=255}};de.prototype.f=function(){ai.prototype.f.call(this);for(var m=0;m<this.Tj.length;
m++)this.Tj[m].f();this.Q2.f()};function fn(){ai.call(this,[1,14],"finfo");this.Hy=null;this.Ee=null;
this.xs=null;this.iD=L.S("div","form scrollable label12");this.iD.setAttribute("style","width:35em;  height:38em;  margin-bottom:8px");
this.body.appendChild(this.iD);var _=L.S("div","form");this.body.appendChild(_);this.IA=new cB(null,["Hello"]);
_.appendChild(this.IA.m);this.ais=new cw("Add Parameter",!1,null,!0);_.appendChild(this.ais.m);this.ais.Z("click",this.XI,this);
this.JL=new cw("=== S A V E ===",!1,null,!0);_.appendChild(this.JL.m);this.JL.Z("click",this.gE,this);
this.auR=""}fn.prototype=new ai;fn.prototype.Lw=function(_,n){return _<450||n<450?new aW(0,0):new aW(150,100)};
fn.prototype.XI=function(_){if(this.xs.length==0)return;var n=this.xs[this.IA.b()],O=this.od();O[n]=cr.eH[n][0];
this.f4(O);this.Ee[n].m.scrollIntoView();this.Ee[n].wl()};fn.prototype.Li=function(_){var n=this.od();
delete n[_.currentTarget.aez];this.f4(n)};fn.prototype.gE=function(_){var n=this.od(),O=this.Hy,l=!0;
for(var x in O)if(JSON.stringify(O[x])!=JSON.stringify(n[x]))l=!1;for(var x in n)if(JSON.stringify(O[x])!=JSON.stringify(n[x]))l=!1;
if(l)return;var t=new e_(H.E.s,!0);t.G=D.Ko;t.data={d:v.WO,WW:n};this.$(t);this.Hy=n;this.f4(n)};fn.ac_=function(_){function n(x){var t=x.toLowerCase();
return x==t}var O=_.split(":").pop();for(var l=1;l<O.length-1;l++){if(O[l]==O[l].toUpperCase()&&(n(O[l+1])||n(O[l-1]))){O=O.slice(0,l)+" "+O.slice(l);
l++}}return O};fn.prototype.dN=function(_,n){this.Hy=_.I6;this.f4(_.I6)};fn.prototype.f4=function(_){var n=this.iD,x=0;
L.I$(n);var O=this.Ee={},l=["tiff","exif","exif:GPS"],t=this.xs=[],h=[];for(var V in cr.eH){var y=fn.ac_(V),r=0,E=15,a=null;
if(_[V]==null){if(cr.eH[V].length!=1||V=="photoshop:Credit"||V=="photoshop:Source"){t.push(V);h.push(y)}continue}for(var m=0;
m<l.length;m++)if(V.startsWith(l[m]))r=m;if(r!=x){L.q9(n);x=r}if(V=="tiff:ImageDescription"||V=="dc:Keywords"){E=18.5;
a=3}var S=new g_(y,null,E,a);O[V]=S;var e=_[V];if(e instanceof Array)e=e[1]==0?"---":e[0]+"/"+e[1];var P=new cw("\u2716",null,hU.get([5,4]));
n.appendChild(P.m);P.Z("click",this.Li,this);P.aez=V;S.c(e);n.appendChild(S.m);L.z0(n);if(V=="exif:GPSLongitude"&&_["exif:GPSLatitude"]){this.auR=fn.atn(_["exif:GPSLatitude"])+","+fn.atn(_["exif:GPSLongitude"]);
var b=new cw("Show on map",!1,null,!0);n.appendChild(b.m);L.z0(n);b.Z("click",this.aud,this)}}this.IA.aV(h);
this.IA.c(0)};fn.prototype.od=function(){var _=this.Ee,n=cr.eH,O={};for(var l in n){var x=n[l][0],t=typeof x;
if(x==null||_[l]==null)continue;var h=_[l].b(),V="The value of \""+fn.ac_(l)+"\" must ";if(t=="number"){h=parseFloat(h);
if(isNaN(h)){alert(V+"be a number.");h=x}}else if(x instanceof Array&&x.length==2){if(h.indexOf("/")==-1){alert(V+"be a fraction.");
h=x.slice(0)}else{h=h.split("/").map(parseFloat);if(isNaN(h[0])||isNaN(h[1])){h=x.slice(0)}}}O[l]=h}return O};
fn.atn=function(_){var n=_.length,O=_.slice(0,n-1).split(",").map(parseFloat),l=_.slice(n-1),x=O[0]+O[1]/60+O[2]/3600;
if(l!="N"&&l!="E")x=-x;return x};fn.prototype.aud=function(_){window.open("https://maps.google.com?q="+this.auR,"Map")};
function fh(){ai.call(this,[11,5],"gradienteditor");this.pC=null;this.Bl=null;this.IN=null;this.jK=null;
this.rH=!1;this.XL=!1;this.Ce=null;this.pV=null;this.B4=-1;this.bY=-1;this.ZD=0;this.H8=this.fS.bind(this);
this.xo=this.HO.bind(this);this.T=L.S("canvas");this.Y0=this.T.getContext("2d");this.T.setAttribute("style","display:block");
this.tw=null;L.H7(this.T);L.a9(this.T,this.CC.bind(this));this.V0=L.S("div","form");this.BK=L.S("div");
this.ZG=L.S("div","form");this.SS=L.S("div");this.re=new cB([12,44],[[15,10,0],[24,6]]);this.re.Z(H.E.A,this.Eh,this);
this.body.appendChild(this.re.m);L.q9(this.body);var _=this.V0;this.qQ=new bd([19,3,3],0,100,"%");this.qQ.Z(H.E.A,this.Eh,this);
this.qQ.parent=this;_.appendChild(this.qQ.m);L.z0(_);this.rJ=new an([12,0]);_.appendChild(this.rJ.m);
this.Jh=L.S("div","bordered padded noalign");_.appendChild(this.Jh);this.kX=new bd([12,0],0,100,"%");
this.kX.parent=this;this.kX.Z(H.E.A,this.Eh,this);this.Jh.appendChild(this.kX.m);this.jh=new bd([12,40],0,100,"%");
this.jh.parent=this;this.jh.Z(H.E.A,this.Eh,this);this.Jh.appendChild(this.jh.m);this.Cx=new cw([5,4],!1,null,!0);
this.Cx.Z("click",this.awl,this);this.Jh.appendChild(this.Cx.m);_.appendChild(this.BK);this.a9F=new an([13,0]);
_.appendChild(this.a9F.m);this._S=L.S("div","bordered padded noalign");_.appendChild(this._S);this.Rx=new cB([12,44],[[12,45],[12,46],[12,47]]);
this.Rx.Z(H.E.A,this.Eh,this);this._S.appendChild(this.Rx.m);this.bq=new fS(!0);this.bq.parent=this;
this.bq.Z(H.E.A,this.Eh,this);this._S.appendChild(this.bq.m);this.Dn=new bd([12,40],0,100,"%");this.Dn.parent=this;
this.Dn.Z(H.E.A,this.Eh,this);this._S.appendChild(this.Dn.m);this.IG=new cw([5,4],!1,null,!0);this.IG.Z("click",this.apm,this);
this._S.appendChild(this.IG.m);var _=this.ZG;this.QO=new bd("Roughness",0,100,"%");this.QO.Z(H.E.A,this.Eh,this);
this.QO.parent=this;_.appendChild(this.QO.m);_.appendChild(this.SS);this.Zh=new cw([25,1,2],!1,null,!0);
this.Zh.Z("click",this.Eh,this);_.appendChild(this.Zh.m);this.Q2=L.iu(this);this.Z("closebtn",this.Sy,this)}fh.prototype=new ai;
fh.prototype.Sy=function(_){if(this.rH)this.jK(this.pC)};fh.prototype.f=function(){ai.prototype.f.call(this);
this.Q2.f();this.qQ.f();this.rJ.f();this.a9F.f();this.Cx.f();this.IG.f();this.kX.f();this.jh.f();this.Rx.f();
this.Dn.f();this.Zh.f()};fh.prototype.w1=function(_,n){this.IN=_};fh.prototype.dN=function(_,n){this.Bl=JSON.parse(JSON.stringify(n.N));
this.pC=JSON.parse(JSON.stringify(n.N));this.Ce=this.pV=null;this.jK=n.gF;this.rH=!1;this.XL=n.tK;this.t6();
this.BW()};fh.prototype.DW=function(_){var n=this.Bl;this.jK(n);this.close()};fh.prototype.$Y=function(_){return _==bJ.ul||_==bJ.Mx};
fh.prototype.op=function(_,n,O,l){if(l.l(bJ.ul)||l.l(bJ.Mx)){if(this.pV)this.awl();if(this.Ce)this.apm()}};
fh.prototype.awl=function(_){var n=this.Bl.Trns.v;if(this.pV==null||n.length==1)return;n.splice(n.indexOf(this.pV),1);
this.pV=null;this.t6();this.BW()};fh.prototype.apm=function(_){var n=this.Bl.Clrs.v;if(this.Ce==null||n.length==1)return;
n.splice(n.indexOf(this.Ce),1);this.Ce=null;this.t6();this.BW()};fh.prototype.t6=function(){var _=this.T,n=this.Y0,O=L.V();
_.width=Math.floor(410*O);_.height=Math.floor(70*O);L.i8(_,_.width,_.height);_.style.marginTop="8px";
this.tw=new a8(0,0,Math.floor(380*O),Math.floor(32*O));this.tw.x=Math.floor((_.width-this.tw.a)/2);this.tw.y=Math.floor((_.height-this.tw.n)/2);
var l=this.tw,x=l.a,t=l.n,h=l.x,V=l.y,y=new a8(0,0,x,t),r=n.getImageData(0,0,x,t),E=new Uint8Array(r.data.buffer);
Q.tZ(E,x,t,8);var a=Q.Q(x*t*4);Q.N._o(this.Bl,a,y,[1/x,0,0,1/t],x/2,t/2,!1,0,this.IN.KU,this.IN.lV);
Q.q.Zn("norm",a,l,E,l,l,1);n.clearRect(0,0,_.width,_.height);n.putImageData(r,h,V);var S=this.Bl;if(S.Clrs){var e=S.Trns.v,P=S.Clrs.v,b=Q.N.cl(S,this.IN.KU,this.IN.lV),T=Math.round(6*L.V()),C=Math.round(14*L.V()),Z=this.pV?this.pV.v:null,W=this.Ce?this.Ce.v:null;
for(var m=0;m<e.length;m++){var s=e[m].v,f=Math.round(255-255*s.Opct.v.val/100);if((s==Z||e[m-1]&&e[m-1].v==Z||m==this.bY)&&m!=0){n.fillStyle="#000000";
n.fillRect(h-3+x*(e[m-1].v.Lctn.v+(s.Lctn.v-e[m-1].v.Lctn.v)*s.Mdpn.v/100)/4096,V-6-2,6,6)}if(s==Z){n.fillStyle="#ffffff";
n.fillRect(h-T+x*(s.Lctn.v/4096)-2,V-2-C-2,2*T+4,C+4)}n.fillStyle="rgb("+f+","+f+","+f+")";n.fillRect(h-T+x*(s.Lctn.v/4096),V-2-C,2*T,C)}for(var m=0;
m<P.length;m++){var q=P[m].v,g=b[0][m][0];if((q==W||P[m-1]&&P[m-1].v==W||m==this.B4)&&m!=0){n.fillStyle="#000000";
n.fillRect(h-3+x*(P[m-1].v.Lctn.v+(q.Lctn.v-P[m-1].v.Lctn.v)*q.Mdpn.v/100)/4096,V+t+2,6,6)}if(q==W){n.fillStyle="#ffffff";
n.fillRect(h-T+x*(q.Lctn.v/4096)-2,V+t+2-2,2*T+4,C+4)}n.fillStyle="rgb("+Math.round(g.o)+", "+Math.round(g.J)+","+Math.round(g.k)+")";
n.fillRect(h-T+x*(q.Lctn.v/4096),V+t+2,2*T,C)}}if(this.XL){this.jK(this.Bl);this.rH=!0}};fh.prototype.BW=function(){var _=this.Bl,n=_.Clrs?0:1;
this.re.c(n);if(L.PZ(this.V0))this.body.removeChild(this.V0);if(L.PZ(this.ZG))this.body.removeChild(this.ZG);
(n==0?this.BK:this.SS).appendChild(this.T);if(n==0){this.body.appendChild(this.V0);this.qQ.c(Math.round(100*_.Intr.v/4096));
var O=_.Trns.v,l=_.Clrs.v,x=this.pV!=null,t=this.bY!=-1;this.kX.Nf(x);this.jh.Nf(x||t);this.Cx.Nf(x);
if(x){this.Jh.setAttribute("style","");var h=this.pV.v;this.jh.c(Math.round(100*h.Lctn.v/4096));this.kX.c(h.Opct.v.val)}if(t)this.jh.c(O[this.bY].v.Mdpn.v);
var x=this.Ce!=null,t=this.B4!=-1;this.Rx.Nf(x);this.bq.Nf(x);this.Dn.Nf(x||t);this.IG.Nf(x);if(x){this._S.setAttribute("style","");
var V=this.Ce.v;this.Dn.c(Math.round(100*V.Lctn.v/4096));var y=V.Type.v.Clry;this.Rx.c(["FrgC","BckC","UsrS"].indexOf(y));
if(y=="FrgC")this.bq.Is(this.IN.KU);if(y=="BckC")this.bq.Is(this.IN.lV);if(y=="UsrS")this.bq.c(V.Clr.v)}if(t)this.Dn.c(l[this.B4].v.Mdpn.v)}else{this.body.appendChild(this.ZG);
this.QO.c(Math.round(100*_.Smth.v/4096))}this.body.appendChild(this.Q2.m)};fh.prototype.Eh=function(_){var n=this.Bl,O=n.Clrs?0:1;
if(_.target==this.re){var l=O==0?JSON.parse(aF.p2.aou).v:ie.gV("grdm").Grad.v;this.Bl=l;this.BW();this.t6();
return}if(O==0){n.Intr.v=Math.round(4096*this.qQ.b()/100);var x=n.Trns.v,t=n.Clrs.v;if(this.pV!=null){var h=this.pV.v;
h.Lctn.v=Math.round(4096*(this.jh.b()/100));h.Opct.v.val=this.kX.b()}if(this.Ce!=null){var V=this.Ce.v;
V.Lctn.v=Math.round(4096*(this.Dn.b()/100));if(_.target==this.bq)this.Rx.c(2);var y=this.Rx.b();V.Type.v.Clry=["FrgC","BckC","UsrS"][y];
if(y==2)V.Clr={t:"Objc",v:this.bq.b()};else if(V.Clr)delete V.Clr}if(this.bY!=-1)x[this.bY].v.Mdpn.v=this.jh.b();
if(this.B4!=-1)t[this.B4].v.Mdpn.v=this.Dn.b()}else{n.Smth.v=Math.round(4096*this.QO.b()/100);if(_.target==this.Zh)n.RndS.v=Math.floor(Math.random()*4294967295)}this.t6()};
fh.prototype.CC=function(_){var n=L.q1(_,this.T),O=this.tw,l=(n.x*L.V()-O.x)/O.a,x=(n.y*L.V()-O.y)/O.n,t=this.Bl.Trns.v,h=this.Bl.Clrs.v,V=null,y=null,r=-1,E=-1;
if(x<1)for(var m=0;m<t.length;m++){var a=t[m].v;if(Math.abs(a.Lctn.v/4096-l)<.02)V=t[m];if(m>0)if(Math.abs((t[m-1].v.Lctn.v+(a.Lctn.v-t[m-1].v.Lctn.v)*a.Mdpn.v/100)/4096-l)<.01)r=m}if(x>0)for(var m=0;
m<h.length;m++){var S=h[m].v;if(Math.abs(S.Lctn.v/4096-l)<.02)y=h[m];if(m>0)if(Math.abs((h[m-1].v.Lctn.v+(S.Lctn.v-h[m-1].v.Lctn.v)*S.Mdpn.v/100)/4096-l)<.01)E=m}if(y==null&&V==null&&r==-1&&E==-1){if(x<0){var a={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
a.v.Lctn.v=Math.round(l*4096);t.push(a);t.sort(this.sF);V=a}if(x>1){var h=this.Bl.Clrs.v,e=Q.N.cl(this.Bl,this.IN.KU,this.IN.lV),P=Q.N.YE(this.Bl,e,l),S={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:Q.N.YS({o:P&255,J:P>>8&255,k:P>>16&255})},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
S.v.Lctn.v=Math.round(l*4096);h.push(S);h.sort(this.sF);y=S}}if(y!=null)E=-1;if(V!=null)r=-1;if(y!=null||V!=null||r>-1||E>-1){this.pV=V;
this.Ce=y;this.bY=r;this.B4=E;this.BW();this.t6();L.hw(window,this.H8);L.LY(window,this.xo)}};fh.prototype.fS=function(_){var n=L.q1(_,this.T),O=this.tw,l=(n.x*L.V()-O.x)/O.a,x=(n.y*L.V()-O.y)/O.n;
l=Math.max(0,Math.min(1,l));var t=this.Bl.Trns.v,h=this.Bl.Clrs.v;if(this.pV!=null){var V=this.pV.v;
V.Lctn.v=Math.round(4096*l);var y=t.indexOf(this.pV);if(y!=-1&&x<-1&&t.length>1)t.splice(y,1);if(y==-1&&x>-1)t.push(this.pV);
t.sort(this.sF)}if(this.Ce!=null){var r=this.Ce.v;r.Lctn.v=Math.round(4096*l);var E=h.indexOf(this.Ce);
if(E!=-1&&x>2&&h.length>1)h.splice(E,1);if(E==-1&&x<2)h.push(this.Ce);h.sort(this.sF)}if(this.bY>-1){var V=t[this.bY].v;
V.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(l*4096-t[this.bY-1].v.Lctn.v)/(V.Lctn.v-t[this.bY-1].v.Lctn.v))))}if(this.B4>-1){var r=h[this.B4].v;
r.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(l*4096-h[this.B4-1].v.Lctn.v)/(r.Lctn.v-h[this.B4-1].v.Lctn.v))))}if(this.pV!=null||this.Ce!=null||this.bY>-1||this.B4>-1){this.BW();
this.t6()}};fh.prototype.HO=function(_){L.Xa(window,this.H8);L.l4(window,this.xo);if(Date.now()-this.ZD<300){if(this.B4!=-1||this.bY!=-1){var n=(this.B4!=-1?this.Bl.Clrs.v[this.B4]:this.Bl.Trns.v[this.bY]).v;
n.Mdpn.v=50;this.BW();this.t6()}else if(this.Ce!=null)this.bq.hI()}this.ZD=Date.now()};fh.prototype.sF=function(_,n){return _.v.Lctn.v-n.v.Lctn.v};
function i8(){ai.call(this,[11,10],"isize");this.iD=L.S("div","form");this.iD.setAttribute("style","width:20em");
this.body.appendChild(this.iD);this.Q5=new gE(!0,!0,null,null,!0);this.iD.appendChild(this.Q5.m);this.bV=new dE([12,25,3]);
this.bV.c(!0);this.iD.appendChild(this.bV.m);this.bV.Z(H.E.A,this.a8$,this);this.Tf=new cB([12,14,1],[[12,14,2],[12,14,3],[12,14,4]]);
this.Tf.c(1);this.iD.appendChild(this.Tf.m);this.Q2=L.iu(this,this.body)}i8.prototype=new ai;i8.prototype.pq=function(_,n){return _!=null};
i8.prototype.HE=function(){return!0};i8.prototype.a8$=function(_){var n=this.bV.b(),O=this.Q5,l=this.Tf;
if(n)l.M5();else l.E0();O.a0o(n)};i8.prototype.f=function(){ai.prototype.f.call(this);this.bV.f();this.Q2.f();
this.Tf.f();this.Q5.f()};i8.prototype.DW=function(_){this.close();var n=this.Q5.b(),O=n.x,l=n.y,x=this.Tf.b();
if(!this.bV.b())x=null;var t=new e_(H.E.yy,!0);t.data=D.e_.axB(O,l,this.Q5.fw(),x);this.$(t)};i8.prototype.dN=function(_,n){this.Q5.c(new aW(_.a,_.n),_.pa);
this.Q5.wl()};function hb(){ai.call(this,"Import RAW","importraw");var _=L.S("div","flexrow"),n=L.S("div");
n.setAttribute("style","margin-bottom: 1em");this.body.appendChild(_);this.body.appendChild(n);var O=L.S("div","form");
O.setAttribute("style","width:18em");_.appendChild(O);var l=L.S("div","form");l.setAttribute("style","width:15em");
_.appendChild(l);this.O0=null;this.Av=null;this.ve=null;this.al=null;this.am1=[];var x=[];for(var m=0;
m<hb.yW.length;m++)x.push(hb.yW[m]+" Bits");var t=this.Tm=[new gE(!0,null,null,!0),new bd([12,72],1,8),new dE("Last one is Transparency"),new im([12,34],x),new im("Byte Order",["12-34","34-12"]),new cB("Guesses",[])];
for(var m=0;m<t.length;m++){var h=t[m];h.parent=this;h.Z(H.E.A,m==5?this.a7r:this.E3,this);var V=m==0?O:m==5?n:l;
V.appendChild(h.m)}this.T=L.S("canvas");this.Y0=this.T.getContext("2d");this.body.appendChild(this.T);
this.Q2=L.iu(this,this.body)}hb.prototype=new ai;hb.prototype.f=function(){ai.prototype.f.call(this);
var _=this.Tm;this.Q2.f();for(var m=0;m<_.length;m++)_[m].f()};hb.prototype.DW=function(_){this.close();
var n=this.Tm[0].b(),O=dx.Fv(this.Av,[{data:this.ve,n5:new a8(0,0,n.x,n.y)}]);if(this.al)O.U_=this.al;
var l=new e_(H.E.L,!0);l.data={d:!0?H.t.iQ:H.t.Yx,cn:O};this.$(l)};hb.yW=[8,16];hb.prototype.dN=function(_,n){this.O0=new Uint8Array(n.Vd);
this.Av=n.L5;var O=this.O0.length,l=[1,3,4],x=0,t=0,h=1,V=1,y=this.am1=[];for(var r=0;r<3;r++){for(var E=0;
E<2;E++){var a=hb.yW[E],S=l[r],e=S*a,P=Math.round(O*8/e);if(P!=O*8/e)continue;for(var b=0;b<=4e3;b++)for(var T=0;
T<=4e3;T++)if(b*T==P){var C=0;if(b==T)C+=64;if(Math.round(b/100)==b/100&&Math.round(T/100)==T/100)C+=32;
if(Math.round(b/10)==b/10&&Math.round(T/10)==T/10)C+=16;if(Math.round(b/2)==b/2&&Math.round(T/2)==T/2)C+=8;
y.push([b,T,S,a,C])}}}var Z=function(q,g){if(g[4]!=q[4])return g[4]-q[4];var i=Math.max(q[0],q[1])/Math.min(q[0],q[1]),u=Math.max(g[0],g[1])/Math.min(g[0],g[1]);
if(i!=u)return i-u;return g[0]-q[0]};y.sort(Z);var W=this.Tm,s=[];for(var m=0;m<y.length;m++){var f=y[m];
s.push(f[0]+" x "+f[1]+", "+f[2]+"ch, "+f[3]+"-bit")}W[5].aV(s);W[5].c(0);this.a7r(null)};hb.prototype.a7r=function(_){var n=this.Tm,O=this.am1[this.Tm[5].b()];
n[0].c(new aW(O[0],O[1]),72);n[1].c(O[2]);n[3].c(hb.yW.indexOf(O[3]));this.E3()};hb.prototype.E3=function(_){var n=this.Tm,O=n[0].b(),l=O.x,x=O.y,t=hb.yW[n[3].b()],h=this.O0;
if(t==16&&n[4].b()==1){h=h.slice(0);for(var m=0;m<h.length;m+=2){var V=h[m];h[m]=h[m+1];h[m+1]=V}}var y=this.ve=this.Xd(h,l,x,n[1].b(),t,n[2].b()),r=this.T,E=this.Y0,a=[y,new a8(0,0,l,x)];
Q.iL(a);for(var m=0;m<a.length;m+=2)if(a[m+1].n<300){y=a[m];l=a[m+1].a;x=a[m+1].n;break}r.width=l;r.height=x;
L.i8(r,l,x);var S=new ImageData(new Uint8ClampedArray(y.buffer),l,x);E.putImageData(S,0,0)};hb.prototype.Xd=function(_,n,O,l,x,t){this.al=null;
var h=[],V=n*O;for(var y=0;y<l;y++){var r=Q.Q(V);h.push(r);if(x==8)for(var m=0;m<V;m++)r[m]=_[m*l+y];
else if(x==16)for(var m=0;m<V;m++)r[m]=Math.round((_[(m*l+y)*2]<<8|_[(m*l+y)*2+1])*(255/65535))}var E=Q.Q(V*4);
new Uint32Array(E.buffer).fill(4278190080);if(t){Q.$c(h.pop(),E,3);l--}if(l==0){}else if(l==1)Q.X$(h[0],E);
else{Q.$c(h[0],E,0);Q.$c(h[1],E,1);if(l>2){Q.$c(h[2],E,2);if(l>3){this.al=[];for(var m=3;m<l;m++){var a=new v.Pt;
a.name="Alpha "+(m-2);a.rect=new a8(0,0,n,O);a.channel=h[m];this.al.push(a)}}}}return E};function iP(_,n,O){b1.call(this);
this.m=L.S("div","");this.AM=_;this.Gj=null;this.Xk=n==null?!1:n;this.yY=null;this.Lf=O;this.Y_=[];this.XP=[];
this.K6=[];this.wt=[];this.BU=0;this.Gj=this.aad(iP.wt[_]);this.L7();this.oQ=null;this.ahH;this.a3k}iP.prototype=new b1;
iP.prototype.Ta=function(_,n,O,l,x){this.oQ=x;this.ahH=JSON.parse(JSON.stringify(this.yY));if(this.Gj.lagl)this.a3k=this.Gj.lagl.b()[0]};
iP.prototype.Xg=function(_,n,O,l,x){var t=this.oQ,h=this.AM,V=this.ahH;if(t==null)return;var y=(x.x-t.x)/_.u.K,r=(x.y-t.y)/_.u.K;
if(h=="GrFl"){var E=JSON.parse(JSON.stringify(V.Ofst.v));E.Hrzn.v.val+=y*.5;E.Vrtc.v.val+=r*.5;this.Gj.Ofst.c(E,!0)}if(h=="patternFill"){var E=JSON.parse(JSON.stringify(V.phase.v));
E.Hrzn.v+=y;E.Vrtc.v+=r;this.Gj.phase.c(E,!0)}if(h=="DrSh"||h=="IrSh"||h=="ChFX"){var a=V.Dstn.v.val,S=this.a3k*Math.PI/180,e=-Math.cos(S)*a+y,P=Math.sin(S)*a+r;
this.Gj.Dstn.c(Math.sqrt(e*e+P*P),!0);this.Gj.lagl.c([Math.atan2(P,-e)*180/Math.PI],!0)}};iP.prototype.PF=function(_,n,O,l,x){this.oQ=null};
iP.prototype.az4=function(){for(var m=0;m<this.wt.length;m++){L.Gd(this.wt[m],"selected");if(this.K6[m]instanceof dE)this.K6[m].c(!1)}};
iP.prototype.acL=function(_){var n=this.a6c.bind(this);for(var m=0;m<this.K6.length;m++){var O=L.S("div","listitem");
this.wt.push(O);if(m>0)O.textContent="\u2003";O.appendChild(this.K6[m].m);if(aF.aih.indexOf(this.AM)!=-1){var l=new cw("+");
l.tV();l.m.style.float="right";O.appendChild(l.m);var x=new cw("\u2B0D");x.tV();x.m.style.float="right";
x.m.style["margin-right"]="2px";O.appendChild(x.m)}O.addEventListener("click",n,!1);_.appendChild(O)}};
iP.Rg=function(_,n){var O=n.getBoundingClientRect();return(_.clientY-O.top)/O.height};iP.prototype.a6c=function(_){var n=_.target.tagName.toLowerCase();
if(n=="input"){return}if(n=="button"){var O=new e_(H.E.s,!0),l=_.target.textContent=="+",x=l?0:iP.Rg(_,_.target)<.5?-1:1;
if(l)O.data={d:"st_dupsingle",j:this.parent.data.j,Ky:this.Lf};else O.data={d:"st_movsingle",j:this.parent.data.j,Ky:this.Lf,a4j:x};
O.G=D.rV;O.$o=!0;this.$(O);O=new e_("redrawall",!0);O.data={a4j:x};this.$(O);return}L.bO(_);this.IV();
this.BU=this.wt.indexOf(_.currentTarget);this.$(new e_("showme"))};iP.prototype.IV=function(){if(this.Gj.enab&&this.Gj.enab.b()==!1)this.IX({YM:"enab",h:!0})};
iP.prototype.ab1=function(){var _=this.wt[this.BU];if(_)L.NT(_,"selected");return this.XP[this.BU]};
iP.prototype.aad=function(_){var n={};for(var m=0;m<_.length;m++){var O=_[m],l=null;if(O=="----")l={m:L.S("hr")};
if(O=="\n")l={m:L.S("br")};if(O=="blOptions")l=new an([14,10]);if(O=="brst")l=new gl([12,72],["R","G","B"]);
if(O=="knko")l=new cB("Knockout",[[13,1,0],"Shallow","Deep"]);if(O=="enab")l=new dE(aF.names[aF.order.indexOf(this.AM)]);
if(O=="lrMd"||O=="Md")l=new cB([12,19,0],b3.Fw,!1,b3.UU);if(O=="Opct")l=new bb([12,0],0,100,"%");if(O=="iOpa")l=new bb([12,26],0,100,"%");
if(O=="blIf")l=new eO;if(O=="ShdN")l=new bb([12,68],0,100,"%");if(O=="lagl"||O=="Angl")l=new iq([12,15],this.AM=="ebbl");
if(O=="uglg")l=new dE([12,27]);if(O=="Dstn")l=new bb([12,28],0,200,"px");if(O=="Ckmt")l=new bb([12,29],0,100,"%");
if(O=="blur")l=new bb([12,14,0],0,200,"px");if(O=="TrnS"||O=="MpgS")l=new eR([12,21]);if(O=="Nose")l=new bb([12,30],0,100,"%");
if(O=="layerConceals")l=new dE([12,31]);if(O=="AntA"||O=="antialiasGloss")l=new dE([12,25,1]);if(O=="GlwT")l=new cB([12,32],aF.cB.names);
if(O=="glwS")l=new cB([12,70],aF.cB.a8L);if(O=="Inpr")l=new bb([12,12],1,100,"%");if(O=="bvlS")l=new cB([12,22],aF.yR.style);
if(O=="bvlT")l=new cB([12,32],aF.yR.ax9);if(O=="bvlD")l=new cB(null,aF.yR.dir);if(O=="srgR")l=new bb([12,34],0,1e3,"%");
if(O=="Sftn")l=new bb([12,35],0,20,"px");if(O=="Lald")l=n.lagl;if(O=="hglM"||O=="sdwM")l=new cB([12,36],b3.Fw,!1,b3.UU);
if(O=="hglC"||O=="sdwC")l=new fS;if(O=="hglO"||O=="sdwO")l=new bb([12,0],0,100,"%");if(O=="Invr"||O=="InvT")l=new dE([4,11]);
if(O=="Sz")l=new bb([12,14,0],1,200,"px");if(O=="Styl")l=new cB([12,40],aF.stroke.names);if(O=="PntT")l=new cB([12,66],aF.stroke.anN);
if(O=="Clr")l=new fS(!0);if(O=="Grad"){l=new d0(!0,[12,37],!0);l.c(JSON.parse(aF.p2.a6y).v)}if(O=="Rvrs")l=new dE([12,23,0]);
if(O=="Dthr")l=new dE([12,23,3]);if(O=="Type")l=new cB([12,22],aF.N.names.slice(0,this.AM=="FrFX"?6:5));
if(O=="Ptrn")l=new hI([12,62]);if(O=="Scl")l=new bb([12,38],5,500,"%",0,!0);if(O=="Algn")l=new dE([12,39]);
if(O=="Ofst")l=new e6(!0);if(O=="phase")l=new e6(!1);if(O=="useShape")l=new dE([12,21]);if(O=="useTexture")l=new dE([12,67]);
if(O=="textureDepth")l=new bb([12,34],-300,300,"%");var x=O=="----"||O=="\n"?O+m:O;if(l!=null)n[x]=l}return n};
iP.prototype.a3M=function(_){var n=this.XP[this.BU];for(var m=0;m<_.length;m++){var O=this.Gj[_[m]];
if(O&&n.contains(O.m))n.removeChild(O.m)}};iP.prototype.aba=function(_){var n=this.XP[this.BU];for(var m=0;
m<_.length;m++){var O=this.Gj[_[m]];if(O&&!n.contains(O.m))n.appendChild(O.m)}};iP.prototype.w1=function(_,n){if(this.Gj==null)return;
var O=n==gp.WB;if(this.Gj.Grad){this.Gj.Grad.Db(_.KU,_.lV);if(O||n==gp.La||n==gp.Eq)this.Gj.Grad.H5(_.QL)}if(this.Gj.Ptrn){if(O||n==gp.nL)this.Gj.Ptrn.H5(_.LK)}if(this.Gj.TrnS){if(O||n==gp.Ij)this.Gj.TrnS.H5(_.ZR)}if(this.Gj.MpgS){if(O||n==gp.Ij)this.Gj.MpgS.H5(_.ZR)}};
iP.prototype.f=function(){for(var m=0;m<this.Y_.length;m++)this.Y_[m].f();for(var _ in this.Gj)if(this.Gj[_]instanceof b1)this.Gj[_].f()};
iP.prototype.L7=function(){for(var _ in this.Gj){var n=this.Gj[_];n.parent=this;if(n instanceof b1)n.Z(H.E.A,this.am4,this);
if(this.XP.length==0||_=="useShape"||_=="useTexture"){var O=new an(n.axp()),l=L.S("div","bordered padded");
if(this.Xk==!1){l.appendChild(O.m);l.appendChild(L.S("hr",""))}this.Y_.push(O);this.XP.push(l);this.K6.push(n)}else this.XP[this.XP.length-1].appendChild(n.m)}};
iP.prototype.update=function(_,n){if(this.Gj==null)return;this.yY=JSON.parse(JSON.stringify(n));for(var O in n){if("Opct iOpa hglO sdwO Dstn Ckmt blur Nose Scl Sz Inpr srgR Sftn textureDepth ShdN".split(" ").indexOf(O)!=-1)this.Gj[O].c(n[O].v.val);
if("enab brst knko Clr hglC sdwC uglg Grad TrnS MpgS Rvrs Dthr Algn Invr InvT Ptrn layerConceals useShape useTexture Ofst phase blIf".split(" ").indexOf(O)!=-1){this.Gj[O].c(n[O].v,_)}if(["Md","hglM","sdwM"].indexOf(O)!=-1)this.Gj[O].c(b3.AM.indexOf(n[O].v.BlnM));
if(O=="lrMd"){var l=(n.kx?[[15,10,27]]:[]).concat(b3.Fw),x=(n.kx?[1]:[]).concat(b3.UU);this.Gj[O].aV(l,x);
this.Gj[O].c(n[O].v)}if(O=="Angl")this.Gj[O].c([n[O].v.val]);if(O=="lagl"){var t=n.uglg&&n.uglg.v?_.tk():n.lagl.v.val;
this.Gj[O].c([t])}if(O=="Lald"){var t=n.uglg&&n.uglg.v?_.a$():n.Lald.v.val;this.Gj[O].c([null,t])}if(O=="Type")this.Gj[O].c(aF.N.types.indexOf(n.Type.v.GrdT));
if(O=="Styl")this.Gj[O].c(aF.stroke.types.indexOf(n.Styl.v.FStl));if(O=="PntT"){var h=aF.stroke.eG.indexOf(n.PntT.v.FrFl);
this.Gj[O].c(h);if(!this.Xk){this.a3M(aF.M4.concat(aF.Em.concat(aF.Vy)));this.aba([aF.M4,aF.Em,aF.Vy][h])}}if(O=="GlwT")this.Gj[O].c(aF.cB.types.indexOf(n.GlwT.v.BETE));
if(O=="glwS")this.Gj[O].c(aF.cB.ajH.indexOf(n.glwS.v.IGSr));if(O=="bvlS")this.Gj[O].c(aF.yR.types.indexOf(n.bvlS.v.BESl));
if(O=="bvlT")this.Gj[O].c(aF.yR.a8J.indexOf(n.bvlT.v.bvlT));if(O=="bvlD")this.Gj[O].c(["In","Out"].indexOf(n.bvlD.v.BESs))}};
iP.prototype.am4=function(_){for(var n in this.Gj){if(this.Gj[n]!=_.target)continue;var O=null,l=!1;
if("Opct iOpa hglO Nose Scl sdwO Inpr srgR textureDepth ShdN".split(" ").indexOf(n)!=-1)O={type:"#Prc",val:_.target.b()};
if(["Dstn","Ckmt","blur","Sz","Sftn"].indexOf(n)!=-1)O={type:"#Pxl",val:_.target.b()};if(["Angl","lagl"].indexOf(n)!=-1)O={type:"#Ang",val:_.target.b()[0]};
if("enab brst knko Clr hglC sdwC Grad TrnS MpgS Rvrs Dthr Algn Invr InvT Ptrn layerConceals lrMd useShape useTexture AntA antialiasGloss Ofst phase blIf".split(" ").indexOf(n)!=-1)O=_.target.b();
if(["Md","hglM","sdwM"].indexOf(n)!=-1)O={BlnM:b3.AM[_.target.b()]};if(n=="uglg"){O=_.target.b();l=!0}if(n=="PntT"){O={FrFl:aF.stroke.eG[_.target.b()]};
l=!0}if(n=="Lald")O={type:"#Ang",val:_.target.b()[1]};if(n=="Type")O={GrdT:aF.N.types[_.target.b()]};
if(n=="Styl")O={FStl:aF.stroke.types[_.target.b()]};if(n=="GlwT")O={BETE:aF.cB.types[_.target.b()]};
if(n=="glwS")O={IGSr:aF.cB.ajH[_.target.b()]};if(n=="bvlS")O={BESl:aF.yR.types[_.target.b()]};if(n=="bvlT")O={bvlT:aF.yR.a8J[_.target.b()]};
if(n=="bvlD")O={BESs:["In","Out"][_.target.b()]};this.IX({YM:n,h:O});if(l){if(this.Xk)this.update(null,this.yY);
else{var x=this.parent,t=x.cn,h=this.Lf,V=t.B[x.data.j].add.lmfx[aF.Ck[h[0]]].v[h[1]].v;this.update(t,V)}}}};
iP.prototype.IX=function(_){if(this.yY&&this.yY[_.YM])this.yY[_.YM].v=_.h;if(this.Xk){this.$(new e_(H.E.A))}else{_.d="changeprop";
_.j=this.parent.data.j;_.tE=this.Lf;var n=new e_(H.E.s,!0);n.data=_;n.G=D.rV;n.$o=!0;this.$(n);this.$(new e_("afterchange",!0))}};
iP.prototype.b=function(){return JSON.parse(JSON.stringify(this.yY))};iP.wt={bops:"blOptions lrMd Opct ---- iOpa brst ---- blIf".split(" "),DrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose layerConceals".split(" "),IrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose".split(" "),OrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","Ckmt","blur","TrnS","Inpr","ShdN"],IrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","glwS","Ckmt","blur","TrnS","Inpr","ShdN"],ebbl:["enab","bvlS","bvlT","bvlD","srgR","blur","Sftn","----","lagl","Lald","uglg","TrnS","\n","hglM","hglC","hglO","sdwM","sdwC","sdwO","useShape","MpgS","Inpr","useTexture","Ptrn","Scl","textureDepth","InvT","Algn","phase"],SoFi:["enab","Md","Opct"].concat(aF.M4),GrFl:["enab","Md","Opct"].concat(aF.Em),patternFill:["enab","Md","Opct"].concat(aF.Vy),ChFX:"enab Md Clr Opct lagl Dstn blur MpgS Invr".split(" "),FrFX:["enab","Sz","Styl","\n","Md","Opct","PntT","\n"].concat(aF.M4.concat(aF.Em.concat(aF.Vy)))};
function a5(){ai.call(this,[11,6],"layerstyle");this.aaS=-1;this.data={};this.cn=null;this.Yw=null;this.uE=[];
this.ov=[];L.NT(this.body,"flexrow");this.YA=L.S("div","bordered");this.YA.setAttribute("style","min-width:13em;");
this.body.appendChild(this.YA);this.To=L.S("div","");this.To.setAttribute("style","width:25em; padding-left: 1em;");
this.body.appendChild(this.To);this.Fu=L.S("div","form");this.Fu.setAttribute("style","padding-left: 1em; width:7em;");
this.body.appendChild(this.Fu);this.Q2=L.iu(this,this.Fu);this.fO=new cw([12,87],!0,null,!0);this.fO.Z("click",this.ajU,this);
this.Fu.appendChild(this.fO.m);this.q_=new h0;this.q_.parent=this;this.q_.Z(H.E.A,this.aem,this);this.Fu.appendChild(this.q_.m);
this.Z("closebtn",this.Sy,this);this.Z("redrawall",this.arz,this)}a5.prototype=new ai;a5.prototype.HE=function(){return!0};
a5.prototype.GH=function(){return!0};a5.prototype.Ta=function(_,n,O,l,x){var t=this.rO();if(t)t.Ta(_,n,O,l,x)};
a5.prototype.Xg=function(_,n,O,l,x){var t=this.rO();if(t)t.Xg(_,n,O,l,x)};a5.prototype.PF=function(_,n,O,l,x){var t=this.rO();
if(t)t.PF(_,n,O,l,x)};a5.prototype.rO=function(_){if(_==null)_=this.data.index;return _==null?null:_==0?this.uE[0]:this.ov[_[0]][_[1]]};
a5.prototype.aem=function(_){var n=this.q_.b();this.IX({d:"setstl",h:n.Zg});this.arz(null)};a5.prototype.ajU=function(_){var n=this.cn,O=this.data.j;
if(O==null)O=n.g[0];var l=this.cn.B[O],x=fW.asv(l),t=new e_(H.E.L,!0);t.data={d:H.t.Gf,E5:"add",nZ:gp.co,a4:[JSON.parse(JSON.stringify(x))]};
this.$(t)};a5.prototype.atE=function(_){this.data.index=_.currentTarget.Lf;this.IM(_.currentTarget.Lf)};
a5.prototype.arz=function(_){this.dN(this.cn,this.data)};a5.prototype.IM=function(_,n){L.I$(this.To);
for(var m=0;m<this.uE.length;m++)this.uE[m].az4();var O=this.rO(_);this.To.appendChild(O.ab1());if(n)O.IV();
var l=this.cn;if(l){var x=l.B[this.data.j];this.uE[0].update(l,D.r$.nO(l,x));var t=x.add.lmfx;if(t==null)return;
for(var m=0;m<aF.order.length;m++){var h=t[aF.Ck[m]].v;for(var V=0;V<h.length;V++)this.ov[m][V].update(l,h[V].v)}}if(n)O.IV()};
a5.prototype.f=function(){ai.prototype.f.call(this);this.fO.f();this.q_.f();this.Q2.f();for(var m=0;
m<this.uE.length;m++)this.uE[m].f()};a5.prototype.dN=function(_,n){var O=n.j==null;this.data.j=n.j;this.data.index=n.index;
n=this.data;this.cn=_;if(O)n.j=_.g.length==0?_.B.length-1:_.g[0];L.I$(this.YA);var l=_.B[n.j].add.lmfx;
this.NA();this.uE=[new iP("bops",!1,0)];this.ov=[];for(var m=0;m<aF.order.length;m++){this.ov.push([]);
var x=l==null?[]:l[aF.Ck[m]].v;for(var t=0;t<x.length;t++){var h=new iP(aF.order[m],!1,[m,t]);this.uE.push(h);
this.ov[m].push(h)}if(x.length==0){var h=new iP(aF.order[m],!1,[m,0]);this.uE.push(h);this.ov[m].push(h)}}this.f();
this.axP(this.Yw,gp.WB);for(var m=0;m<this.uE.length;m++){this.uE[m].parent=this;this.uE[m].acL(this.YA);
this.uE[m].Z("showme",this.atE,this)}if(n.index==null||n.index==0||!O&&l[aF.Ck[n.index[0]]].v.length==0){this.IM(0)}else this.IM(n.index,O);
this.Z("afterchange",this.NA,this)};a5.prototype.NA=function(_){var n=this.cn,O=this.data.j;if(O==null)O=n.g[0];
var l=this.cn.B[O],x=fW.asv(l);this.q_.c(x,n.add.Patt?n.add.Patt:[],n.tk(),n.a$())};a5.prototype.w1=function(_,n){this.Yw=_;
this.axP(_,n);if(n==gp.co||n==gp.WB){this.q_.H5([_.xB,_.LK])}if(n==gp.$h){}};a5.prototype.axP=function(_,n){for(var m=0;
m<this.uE.length;m++)this.uE[m].w1(_,n)};a5.prototype.Sy=function(_){this.IX({d:"cancel"})};a5.prototype.DW=function(_){this.IX({d:"confirm"});
this.close()};a5.prototype.IX=function(_){_.j=this.data.j;var n=new e_(H.E.s,!0);n.data=_;n.G=D.rV;n.$o=!0;
this.$(n);this.NA()};a5.UI=function(_){var n=[{name:[14,10],Qn:!0}];for(var m=0;m<aF.names.length;m++)n.push({name:aF.names[m]});
if(_){n[n.length-1].Qn=!0;n.push({name:"Scale Effects",w:function(O){return{w:O!=null&&O.g.length!=0&&O.B[O.g[0]].XE()}}});
n.push({name:["VAR0 VAR1",[12,49],[9,1]],w:function(O){return{w:O!=null&&O.g.length!=0&&O.B[O.g[0]].add.lmfx!=null}}})}return n};
a5.si=function(_){var n=[{Y:H.E.L,W:{d:H.t.Rq,EW:"layerstyle"}}];for(var m=0;m<aF.names.length;m++)n.push({Y:H.E.L,W:{d:H.t.Rq,EW:"layerstyle",index:[m,0]}});
if(_){n.push({Y:H.E.L,W:{d:H.t.Rq,EW:"scaleeffects",KB:100,O7:{Y:H.E.s,G:D.rV,W:{d:"scaleeffects"}}}});
var O={classID:"Mk",null:g3.g5("Lyr"),Usng:{t:"obj ",v:[{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]}};
n.push({Y:H.E.yy,W:{et:"make",ot:O}})}return n};a5.awv=function(_){var n=[];if(_)n.push({name:[6,48,0,0],r8:!0},{name:[6,48,0,1],r8:!0},{name:[6,48,0,2],r8:!0,Qn:!0});
for(var O in a3.names)n.push({name:a3.names[O],Qn:a3.az3.indexOf(O)!=-1,r8:ez[O]!=null});return n};a5.AY=function(_){var n=[];
if(_){n.push({Y:H.E.s,G:D.bb,W:{d:"newfill",TO:0}});for(var m=1;m<3;m++)n.push({Y:H.E.yy,W:D.fx.qY(m)})}for(var O in a3.names){var l=ie.gV(O);
if(l==null)l={};for(var x in a3.By)if(a3.By[x]==O)l.classID=x;var t={et:"make",ot:{classID:"Mk",null:g3.g5("AdjL"),Usng:{t:"Objc",v:{classID:"AdjL",Type:{t:"Objc",v:l}}}}};
n.push({Y:H.E.yy,W:t})}return n};function en(){ai.call(this,"Merge Channels","mergechannels");this.ac=null;
var _=L.S("div","form");this.body.appendChild(_);this.Tm=[];for(var m=0;m<3;m++){var n=new cB(a3.UD[m],[]);
this.Tm.push(n);_.appendChild(n.m);L.z0(_)}this.Q2=L.iu(this,_)}en.prototype=new ai;en.prototype.f=function(){ai.prototype.f.call(this);
this.Q2.f();for(var m=0;m<3;m++)this.Tm[m].f()};en.prototype.dN=function(_,n,O,l){this.ac=O;var x=[];
for(var m=0;m<O.length;m++)x.push(O[m].name);for(var m=0;m<3;m++){var t=this.Tm[m];t.aV(x);t.c(Math.min(m,O.length-1))}};
en.prototype.DW=function(_){var n=this.ac,O=n[0],l=new e_(H.E.yy,!0);l.data=fJ.PM(O.a,O.n,O.pa,"Merged Document","Wht",!1);
this.$(l);var x=[];for(var m=0;m<3;m++)x.push(n[this.Tm[m].b()].Cs());var O=n[n.length-1],t=O.B[0],h=t.buffer;
for(var m=0;m<h.length;m+=4){h[m]=x[0][m];h[m+1]=x[1][m];h[m+2]=x[2][m]}t.U();O.U();this.close()};function fH(){ai.call(this,[1,10],"script");
var _=L.S("div","form");_.setAttribute("style","width:44em");this.body.appendChild(_);this.Yw=null;this.uY=[];
this.aA=[];this.anC;var n=this.JL=new cw([1,2],!1,null,!0);n.Z("click",this.gE,this);_.appendChild(n.m);
var O=new cw("JS Reference",!1,null,!0);O.Z("click",this.akg,this);_.appendChild(O.m);_.appendChild(new an("Demos:").m);
this.a3Y=[];var l=fH.q8;for(var m=0;m<l.length;m++){var x=new cw(l[m].GK,!1,null,!0);this.a3Y.push(x);
_.appendChild(x.m);x.Z("click",this.aw4,this)}this.pf=L.S("textarea");L.vw(this.pf);this.pf.setAttribute("rows",16);
this.pf.setAttribute("style","display:block;tab-size:4; font-family:monospace;width:100%;");_.appendChild(this.pf);
var t=new cw("Run",!0,null,!0);t.Z("click",this.DW,this);_.appendChild(t.m);this.jD=L.S("div");_.appendChild(this.jD)}fH.prototype=new ai;
fH.prototype.f=function(){this.JL.f()};fH.prototype.gE=function(){var _=this.anC;if(_==null)_="script.jsx";
var n=new e_(H.E.L,!0);n.data={d:H.t.Rq,EW:"namewindow",KB:_.slice(0,_.length-4),_f:this.ahs.bind(this)};
this.$(n)};fH.prototype.ahs=function(_){var n=this.pf.value,O=R.WZ(n),l=new e_(H.E.L,!0);l.data={d:H.t.M9,Vd:O.buffer,zK:_+".jsx",afl:!0};
this.$(l)};fH.prototype.a2E=function(_){var m=this.uY.indexOf(_.target),n=this.anC=this.aA[m],O=this.Yw.mM.Au[n],l=new Uint8Array(O),x=R.hm(l,0,l.length);
this.pf.value=x};fH.prototype.dN=function(_,n,O){this.pf.value=fH.q8[0].un;this.acM()};fH.prototype.acM=function(){var _=this.Yw.mM,n=this.jD;
L.I$(n);this.uY=[];this.aA=[];n.textContent="Saved scripts: ";for(var O in _.Au){if(O.endsWith(".jsx")){var l=new cw(O,!1,null,!0);
this.uY.push(l);this.aA.push(O);l.Z("click",this.a2E,this);n.appendChild(l.m)}}};fH.prototype.w1=function(_,n){this.Yw=_;
if(n==gp.vU)this.acM()};fH.prototype.akg=function(_){var n=new e_(H.E.L,!0);n.data={d:H.t.Fn,link:"https://github.com/Adobe-CEP/CEP-Resources/blob/master/Documentation/Product%20specific%20Documentation/Photoshop%20Scripting/photoshop-javascript-ref-2020.pdf"};
this.$(n)};fH.prototype.DW=function(_){var n=new e_(H.E.L,!0);n.data={d:H.t.n$,TF:this.pf.value};this.$(n)};
fH.prototype.aw4=function(_){var n=this.a3Y.indexOf(_.currentTarget);this.pf.value=fH.q8[n].un};fH.q8=[{GK:"Hello",un:"\nalert(\"Hello Photopea!\");\n"},{GK:"Process Layers",un:"\nvar lays = app.activeDocument.layers;\n\nfor(var i=0; i<lays.length; i++)\n{\n"+"\t//lays[i].visible = false;\n"+"\t//lays[i].opacity = 50;\n"+"\tlays[i].name = \"My Layer \"+i;\n}"},{GK:"Clone Layers",un:"\nvar orig = app.activeDocument.activeLayer;\n"+"var cnt = 12;\n"+"var angle = Math.floor(360 / cnt);\n"+"\n"+"for(var i=1; i<cnt; i++)\n"+"{\n"+"\tvar nlay = orig.duplicate();\n"+"\t//nlay.translate(30*i, 20*i);\n"+"\tnlay.rotate(angle * i, AnchorPosition.BOTTOMCENTER);\n"+"}"}];
function bE(){ai.call(this,[11,7],"newproject");this.data=null;this.ac=null;this.jF=0;var _=L.S("div","flexrow");
this.J8=_;this.body.appendChild(_);var n=L.S("div","form");this.iD=n;_.appendChild(n);this.vT=new g_([12,48],null,10);
n.appendChild(this.vT.m);L.z0(n);this.Q5=new gE(!0,null,null,null,!0);this.Q5.c(new aW(1280,720),72);
this.Q5.a0o(!0,!0);this.Q5.Z(H.E.A,this.G6,this);n.appendChild(this.Q5.m);this.xD=new cI;this.xD.parent=this;
n.appendChild(this.xD.m);this.gu=new cw("\u02C5",null,[0,14],!0);this.gu.Z("click",this.QU,this);n.appendChild(this.gu.m);
var O=this.a6W=L.S("span");n.appendChild(O);O.style.display="none";this.akr=new cB([13,6],["sRGB","Adobe RGB","ProPhoto RGB","Display P3"]);
O.appendChild(this.akr.m);this.kz=new dE([1,16,1]);O.appendChild(this.kz.m);this.Q2=new cw([12,49],!0,null,!0);
this.Q2.Z("click",this.DW,this);n.appendChild(this.Q2.m);var l=bE.O0,x=[];for(var m=0;m<l.length;m++)x.push(l[m].name);
this.X2=new im(null,x);this.X2.Z(H.E.A,this.acR,this);n.appendChild(this.X2.m);this.X2.m.style["margin-top"]="1em";
this.A5=new d9(!0);this.A5.Z(H.E.A,this.awI,this);n.appendChild(this.A5.m);this.acR();this.Uq=new f5;
this.Uq.parent=this;this.Uq.m.setAttribute("style","margin-left:1em");this.Uq.Z("tempready",this.ai2,this)}bE.prototype=new ai;
bE.prototype.QU=function(_){var n=this.a6W,O=n.style.display!="none";n.style.display=O?"none":"";this.gu.KM(O?"\u02C5":"\u02C4");
this.A$(this.Qc,this.bE)};bE.prototype.w1=function(_,n){this.Uq.w1(_)};bE.prototype.Lw=function(_,n){return new aW(Math.max(0,Math.min(70,(_-690)/2)),_>n?Math.max(0,Math.min(50,(n-400)/2)):0)};
bE.prototype.A$=function(_,n){this.Qc=_;this.bE=n;this.iD.setAttribute("style","width:"+Math.min(_-24,338)+"px");
this.A5.m.style.height=n-248-(this.a6W.style.display=="none"?0:28)+"px";var O=this.Uq.m,l=O.parentNode;
if(_<500){if(l!=null)this.J8.removeChild(O)}else{if(l==null)this.J8.appendChild(O);this.Uq.A$(_-378,n-28)}};
bE.prototype.G6=function(){this.Uq.c(this.Q5.b())};bE.prototype.awI=function(_){var n=this.A5.b()[0],O=bE.O0[this.X2.b()].mi[n],l=O[4];
if(l==0)l=72;var x=O[1],t=O[2],h=["px","%","mm","in"].indexOf(O[3]),V=[1,1,25.4/l,1/l][h];x/=V;t/=V;
this.Q5.c(new aW(Math.round(x),Math.round(t)),l);this.Q5.ak1(h);this.G6();if(Date.now()-this.jF<300)this.DW();
this.jF=Date.now()};bE.prototype.acR=function(_){var n=bE.O0[this.X2.b()].mi,O=[],l=[],x=Math.round(106*L.V()),t=Math.round(106*L.V()),h=0;
for(var m=0;m<n.length;m++)h=Math.max(h,n[m][1],n[m][2]);for(var m=0;m<n.length;m++){var V=n[m],y=V[1]+" x "+V[2]+" "+V[3];
if(V[3]=="in")y=(V[1]*25.4).toFixed(0)+" x "+(V[2]*25.4).toFixed(0)+" mm";if(V[3]=="mm")y=(V[1]/25.4).toFixed(1)+" x "+(V[2]/25.4).toFixed(1)+" in";
if(V[4])y=y+" @ "+V[4]+" ppi";l.push(y);O.push(bE.XW(V,x,t,h))}this.A5.d$(O,l,x,t)};bE.XW=function(_,n,O,l){var x=L.S("canvas",""),t=x.getContext("2d");
x.width=n;x.height=O;var h=Math.round(n/8),V=Math.floor(11*L.V()),y=_[1],r=_[2];t.fillStyle="#000000";
t.font=Math.round(V*.9)+"px \"Open Sans\", Sans-Serif";var E=y+" x "+r+" "+_[3],a=t.measureText(E);t.fillText(E,Math.round((n-a.width)/2),O-Math.round(h/2));
if(_[0]!=null){t.font="bold "+V+"px \"Open Sans\", Sans-Serif";var E=_[0],a=t.measureText(E);t.fillText(E,Math.round((n-a.width)/2),O-Math.round(h/2)-Math.round(V*1.3))}O-=Math.round(2.5*V);
var S=Math.min((n-h)/y,(O-h)/r);S*=.5+.5*(Math.max(y,r)/l);var e=(n-y*S)/2,P=(O-r*S)/2;t.strokeRect(Math.round(e)+.5,Math.round(P)+.5,Math.round(y*S),Math.round(r*S));
return x.toDataURL()};bE.prototype.f=function(){ai.prototype.f.call(this);this.Q5.f();this.vT.f();this.xD.f();
this.Q2.f();this.vT.c(hU.get([11,7]));this.X2.f();this.kz.f();this.gu.f();this.Uq.f()};bE.prototype.DW=function(_){var n=this.Q5.b(),O=n.x,l=n.y;
this.close();var x=this.xD.b(),t=["sRGB IEC61966-2.1","Adobe RGB (1998)","ProPhoto RGB","image P3"][this.akr.b()],h=new e_(H.E.yy,!0);
h.data=fJ.PM(O,l,this.Q5.fw(),this.vT.b(),["Wht","Blck","Trns","Clr"][x[0]],this.kz.b(),x[1],t);this.$(h);
this.ag7()};bE.prototype.ai2=function(_){var n=_.data.cn;n.pa=this.Q5.fw();var O=new e_(H.E.L,!0);O.data={d:H.t.iQ,cn:n};
this.$(O);this.close();this.ag7()};bE.prototype.ag7=function(){var _=this.ac[this.ac.length-1],n=this.data.arY;
if(n)dT.Op(function(){var O=new XMLHttpRequest,l="https://www.googleapis.com/drive/v3/files?"+dT.Qd();
O.open("POST",l,!0);O.setRequestHeader("Content-Type","application/json");O.addEventListener("load",function(x){var t=JSON.parse(x.target.response);
_.bm={file:t,gH:"psd"};alert(_.name+" created in Google Drive")});O.send(JSON.stringify({name:_.name,ah1:[n]}))})};
bE.prototype.dN=function(_,n,O,l){this.ac=O;if(_!=null&&_.P!=null){var x=new a8(0,0,_.a,_.n).v6(_.P.rect);
this.Q5.c(new aW(x.a,x.n))}this.data=n;this.G6();if(L.Hb())iR.af$(this.ap7.bind(this))};bE.prototype.ap7=function(_){if(_=="granted")iR.tQ(this,this.auA.bind(this))};
bE.prototype.auA=function(_,n){this.Q5.c(new aW(n.a,n.n))};bE.O0=[{name:"Social",mi:[["FB Page Cover",1640,664,"px",0],["FB Shared Image",1200,630,"px",0],["FB Event Image",1920,1080,"px",0],["FB Group Header",1640,856,"px",0],["Instagram",1080,1080,"px",0],["Insta Story",1080,1920,"px",0],["Youtube Profile",800,800,"px",0],["Youtube Cover",2560,1440,"px",0],["Twitter Profile",400,400,"px",0],["Twitter Header",1500,500,"px",0]]},{name:[12,88,4],mi:[["A3",297,420,"mm",300],["A4",210,297,"mm",300],["A5",148,210,"mm",300],["B3",353,500,"mm",300],["B4",250,353,"mm",300],["B5",176,250,"mm",300],["Letter",8.5,11,"in",300],["Ledger",11,17,"in",300],["Business Card",3.5,2,"in",300]]},{name:[12,88,0],mi:[["Wallet",2,3,"in",300],["Enprint",3.5,5,"in",300],[null,5,7,"in",300],[null,8,12,"in",300],[null,12,18,"in",300],[null,16,24,"in",300],[null,20,30,"in",300],[null,24,36,"in",300]]},{name:[12,88,1],mi:[["VGA",640,480,"px",0],["XGA",1024,768,"px",0],["HD",1280,720,"px",0],[null,1366,768,"px",0],[null,1600,900,"px",0],["Full HD",1920,1080,"px",0],["2K",2048,1080,"px",0],["UHD",3840,2160,"px",0],["4K",4096,2160,"px",0]]},{name:[12,88,2],mi:[["iPhone 4",640,900,"px",326],["iPhone 5",640,1136,"px",326],["iPhone 6 7 8",750,1334,"px",326],["iPhone 6+ 7+ 8+",1080,1920,"px",401],["iPhone X",1125,2436,"px",458],["Samsung A5",720,1280,"px",0],["Samsung S5",1080,1920,"px",0],["Samsung S6",1440,2560,"px",0],["Samsung S8+",1440,2560,"px",0],["Google Pixel",1080,1920,"px",0],["iPad Mini 4",1536,2048,"px",0],["iPad Air 2",1536,2048,"px",0],["iPad Pro 9.7\"",1536,2048,"px",0],["iPad Pro 10.5\"",1668,2224,"px",0],["iPad Pro 12.9\"",2048,2732,"px",0]]},{name:[12,88,3],mi:[["Small Square",200,200,"px",0],["Square",250,250,"px",0],["Medium Rect",300,250,"px",0],["Large Rect",336,280,"px",0],["Mobile Leaderboard",320,50,"px",0],["Large Mobile",320,100,"px",0],["Banner",468,60,"px",0],["Leaderboard",728,90,"px",0],["Large Leaderboard",970,90,"px",0],["Billboard",970,250,"px",0],["Vertical Rect",240,400,"px",0],["Skyscraper",120,600,"px",0],["Wide Skyscraper",160,600,"px",0],["Half Page",300,600,"px",0],["Portrait",300,1050,"px",0]]},{name:"2\u1D3A",mi:[[null,16,16,"px",0],[null,32,32,"px",0],[null,64,64,"px",0],[null,128,128,"px",0],[null,256,256,"px",0],[null,512,512,"px",0],[null,1024,1024,"px",0],[null,2048,2048,"px",0],[null,4096,4096,"px",0]]}];
function cD(_,n,O){ai.call(this,n,"sel_"+_);this.d=_;var l=L.S("div","form");this.body.appendChild(l);
this.vT=new bd(n,0,255,null,0,!1,!0);l.appendChild(this.vT.m);this.vT.c(1);var x=L.S("span");x.textContent=O;
l.appendChild(x);L.z0(l);this.aa3=new dE("Apply at canvas bounds");if(_!="border")l.appendChild(this.aa3.m);
this.Q2=L.iu(this,l)}cD.prototype=new ai;cD.prototype.pq=function(_,n){if(_==null)return;if(_.P==null)alert("No selection!");
return _.P!=null};cD.prototype.DW=function(_){var n=new e_(H.E.yy,!0);n.data=D.iM.anG(this.d,this.vT.b(),this.aa3.b());
n.$o=!0;this.$(n);this.close()};cD.prototype.f=function(){ai.prototype.f.call(this);this.Q2.f();if(this.vT)this.vT.f()};
cD.prototype.dN=function(_,n){};function hq(_,n,O,l,x,t){ai.call(this,O,n);this.aaG=t;this.XL=x;this.O0=null;
this.iD=L.S("div","form");this.body.appendChild(this.iD);this.vT=_==0?new g_(O,null,10):_==1?new bb(O,0,500,l,1):new g_(O,null,24,5);
this.vT.Z(H.E.A,this.gZ,this);this.iD.appendChild(this.vT.m);this.Q2=L.iu(this,this.iD);this.Z("closebtn",this.Sy,this)}hq.prototype=new ai;
hq.prototype.Lw=function(_,n){return new aW(Math.max(0,Math.min(150,(_-250)/2)),Math.max(0,Math.min(150,(n-120)/2)))};
hq.prototype.HE=function(){return this.aaG};hq.prototype.gZ=function(_){var n=this.vT.b();if(this.XL)this.Lu(n)};
hq.prototype.Sy=function(_){if(this.XL)this.Lu("cancel")};hq.prototype.DW=function(_){if(this.XL)this.Lu("confirm");
else this.Lu(this.vT.b());this.close()};hq.prototype.Lu=function(_){if(this.O0._f)this.O0._f(_);else if(this.O0.O7){var n=this.O0.O7,O=new e_(n.Y,!0);
O.G=n.G;O.data=n.W;O.data.h=_;O.$o=!0;this.$(O)}};hq.prototype.f=function(){ai.prototype.f.call(this);
this.Q2.f();if(this.vT)this.vT.f()};hq.prototype.dN=function(_,n){this.O0=n;this.vT.c(n.KB);this.vT.wl();
this.gZ(null)};function ah(){ai.call(this,[1,5],"open_from_url");this.Ki=null;var _=L.S("div","form");
this.body.appendChild(_);this.$m=new g_("URL",null,22);_.appendChild(this.$m.m);L.z0(_);this.JI=new im([21,0],[[21,2],[21,1]]);
_.appendChild(this.JI.m);this.Q2=L.iu(this,_)}ah.prototype=new ai;ah.prototype.f=function(){ai.prototype.f.call(this);
this.Q2.f();this.JI.f()};ah.prototype.dN=function(_,n,O){this.$m.wl();this.Ki=null;if(_&&O.indexOf(_)!=-1)this.Ki=O.indexOf(_)};
ah.prototype.DW=function(_){var n=new e_(H.E.L,!0),O=this.$m.b();n.data={d:H.t.wE,nZ:{url:O,Ye:!0,Ki:this.JI.b()==1?this.Ki:null}};
this.$(n);this.close()};function c8(){ai.call(this,[12,79],"preferences");this.Yw=null;var _=L.S("div","form");
this.body.appendChild(_);this.wt=[new dE([8,2]),new dE([8,4]),new cB([12,80,3],[[12,93,3],[12,80,4]]),new bb([12,80,5],.02,100,null,2),new cB(null,Q.k4.sG),new cB([12,80,6],Q.k4.sG),new dE("Remind me to save")];
for(var m=0;m<this.wt.length;m++){var n=this.wt[m];_.appendChild(n.m);if(m!=3)L.z0(_);n.Z(H.E.A,this.uA,this)}}c8.prototype=new ai;
c8.prototype.f=function(){ai.prototype.f.call(this);for(var m=0;m<this.wt.length;m++)this.wt[m].f()};
c8.prototype.dN=function(_,n,O){};c8.prototype.w1=function(_,n){this.Yw=_;var O=_.lW;this.wt[0].c(O.P9);
this.wt[1].c(O.TP);this.wt[2].c(O.EO);this.wt[3].c(O.Y$);this.wt[4].c(O.dt);this.wt[5].c(O.Go);this.wt[6].c(_.sW==1)};
c8.prototype.uA=function(_){var n=this.wt;if(_.target==n[6])this.Yw.sW=1-this.Yw.sW;var O=JSON.parse(JSON.stringify(this.Yw.lW));
O.P9=n[0].b();O.TP=n[1].b();O.EO=n[2].b();O.Y$=n[3].b();O.dt=n[4].b();O.Go=n[5].b();var l=new e_(H.E.L,!0);
l.data={d:H.t.Gf,nZ:gp.vE,t2:O};this.$(l)};function cH(){ai.call(this,[11,8],"saveforweb");this.av4="";
this.Z("closebtn",function(){this.Fa.ZW()},this);this.cn=null;this.kD=null;this.a1b=null;this.Yw=null;
L.NT(this.body,"flexrow");this.body.style.padding="0";var _=L.S("div"),n=L.S("div");this.body.appendChild(_);
this.body.appendChild(n);this._S=L.S("div","imgcont");_.appendChild(this._S);this.Fa=new da;this.Fa.A$(512,512);
this.EH=L.S("div");this.EH.setAttribute("style","display:inline-box; padding: 3px 0 5px 8px; height:20px;");
_.appendChild(this.EH);var O=this.iD=L.S("div","form cell");O.setAttribute("style","width:195px; padding:9px 13px;");
n.appendChild(O);this.yq=new cB([12,50],dx.DE());O.appendChild(this.yq.m);this.yq.Z(H.E.A,this.DN,this);
L.z0(O);this.an=new g_([12,48],".www",7.7);O.appendChild(this.an.m);L.z0(O);this.Q5=new gE(!0,!0,!1,!0);
this.Q5.Z(H.E.A,this.DN,this);O.appendChild(this.Q5.m);this.rp=new g9;this.rp.Z(H.E.A,this.DN,this);
O.appendChild(this.rp.m);this.UG=new cw([1,2],!0,null,!0);this.UG.Z("click",this.DW,this);O.appendChild(this.UG.m)}cH.prototype=new ai;
cH.prototype.pq=function(_,n){return _!=null};cH.prototype.f=function(){ai.prototype.f.call(this);this.Q5.f();
this.an.f();this.yq.f();this.rp.f();this.UG.f()};cH.prototype.DW=function(_){var n=this.an.b().trim(),O=dx.DE()[this.yq.b()],l=O=="JPG"||O=="PNG"||O=="GIF",x=dx.Jv(O),t="."+O.toLowerCase(),h=this.kD,V=n+t,y=this.cn,r=y.Ks,E=this.rp.b();
if(y.BZ())E.pop();if(r.length!=0&&l&&E.pop()){var a="<!DOCTYPE html>\n<html>\n<style>div {position:absolute;}</style>\n<head></head>\n<body>\n",S=[],e={},P=new a8(0,0,y.a,y.n),b=y.Cs();
for(var m=0;m<r.length;m++)S.push(D.aR.$P(r,m));S.reverse();var T=Q.rect.sj([0,0,y.a,y.n],S);for(var m=0;
m<T.length;m++){var C=T[m],Z=new a8(C[0],C[1],C[2]-C[0],C[3]-C[1]),W=C.length==5?r[C[4]].v:null,s=Q.Q(Z.O()*4);
Q.zw(b,P,s,Z);var f="img/img"+(m+1)+t;e[f]=new Uint8Array(x.QI([[s.buffer,0]],Z.a,Z.n,E));a+="<div style=\"background-image:url('"+f+"'); left:"+Z.x+"px; top:"+Z.y+"px; width:"+Z.a+"px; height:"+Z.n+"px\">";
if(W&&W.url.v!="")a+="\n\t<a href=\""+W.url.v+"\" target=\""+W.null.v+"\" style=\"display:block;width:100%;height:100%;\"></a>\n";
a+="</div>\n"}a+="</body>\n</html>\n";var q=Q.Q(Math.round(a.length*1.5)),g=R.ho(a,q,0);e["index.html"]=q.slice(0,g);
h=UZIP.encode(e);V=n+".zip"}else if(y.add.artd&&y.add.artd.Cnt.v>1&&l&&E.pop()){var e={},P=new a8(0,0,y.a,y.n),b=y.Cs(),i=y.root.children;
for(var m=0;m<i.length;m++){var u=i[m].j;if(u.add.artb==null||!u.Pn())continue;var I=u.DM(),Y=Q.Q(I.O()*4);
Q.zw(b,P,Y,I);e[u.getName()+t]=new Uint8Array(x.QI([[Y.buffer,0]],I.a,I.n,E))}h=UZIP.encode(e);V=n+".zip"}if(y.Xs)iR.lQ("act=1&id="+y.Xs);
this.Fa.ZW();this.close();var U=function(){var N=new e_(H.E.L,!0);N.data={d:H.t.Jg,data:h,name:V};this.$(N)}.bind(this);
if(!this.Yw.Wl||iM.Sg()){U();return}var F=jm.k1()!=0;U();var N=new e_(H.E.L,!0),o=aJ.Jm("3UMe\\ORYBB@EVG9* 08{\"\",-913-yXs^]Y\\Mm^UHKR3.8F6&+*.y1oo{%qm{m^Xo_SNLU]NA97N-7*B32*'##\"*WlprjhZS.k9XHSPYXt41:=36@;y*2$tn&womykcpZPIWP^IHH8]");
if(F)o=aJ.Jm("0^Ne\\ORYLG:<2G&0>\\|W~~otku?|J_ce][MFaVKNB7O;9;C&6$+)1wq(jxdnreaUlNPH`UC9IQH;>E'/J9f un}l0!u\\lXZn[^XbAAMd");
N.data={d:H.t.Rq,EW:aJ.rI,h:o,_f:function(){}};if(Math.random()<.1||F)this.$(N)};cH.prototype.dN=function(_,n){if(n.Ol!=null)this.yq.c(n.Ol);
this.cn=_;var O=this.cn.name,l=O.lastIndexOf("."),O=l==-1?O:O.slice(0,l);this.an.c(O);var x=_.a+","+_.n;
if(x!=this.av4){this.av4=x;this.Q5.c(new aW(_.a,_.n),_.pa)}this.rp.agz();if(n.aos){this.Q5.ak1(3);this.rp.xb.PDF[2].hC.c(!0)}this.DN(null,!0)};
cH.prototype.aiV=function(_,n){return _<n&&_<660};cH.prototype.Lw=function(_,n){return this.aiV(_,n)?new aW(0,0):new aW(Math.max(0,Math.min(150,(_-770)/2)),Math.max(0,Math.min(150,(n-590)/2)))};
cH.prototype.A$=function(_,n,O){this.Qc=_;this.bE=n;if(this.cn==null)return;var l=this.UG.m,x=this.aiV(_,n),t,h,a="<span style=\"width:",S="display:inline-block; text-align:right;\">";
if(x){var V=this.iD.getBoundingClientRect().height;t=_;h=n-V-27;L.Gd(this.body,"flexrow");L.Gd(l,"spread")}else{t=Math.min(512,_-195-2*13);
h=Math.min(512,n-24);L.NT(this.body,"flexrow");L.NT(l,"spread")}this.iD.style.width=(x?_:195)+"px";var y=dx.DE()[this.yq.b()],r=dx.Jv(y);
if(r.Yj||r.AG)this._S.firstChild.setAttribute("style","display:block; width:"+t+"px; height:"+h+"px;");
else this.Fa.A$(t,h);var E=this.kD.byteLength,e=y+":"+a+64+"px;"+S+cH.Mi(E)+"</span>";if(t>200)e+=a+90+"px; opacity:"+.5+";"+S+E.toLocaleString()+" B</span>";
this.EH.innerHTML=e;l.style.float=x?"right":"";l.style.marginRight=x?"13px":"";if(x)this.EH.appendChild(l);
else this.iD.appendChild(l);if(O)setTimeout(function(){this.A$(this.Qc,this.bE)}.bind(this),20)};cH.Mi=function(_){var n=_.toString(2),O=0;
while(O+10<n.length)O+=10;var l=(_/Math.pow(2,O)).toFixed(1);if(l.endsWith(".0"))l=l.slice(0,-2);var x="B KB MB GB TB PB".split(" ")[Math.floor(O/10)];
return l+" "+x};cH.prototype.w1=function(_,n){this.Yw=_};cH.prototype.DN=function(_,n){var O=this.cn,l=this.Q5.b(),x=l.x,t=l.y,h=this.yq.b(),V=dx.DE()[h],C="";
this.an.av$("."+V.toLowerCase());var y=dx.z6(O)[0].length,r=["GIF","PNG","WEBP"].indexOf(V)!=-1&&y>1;
if(r&&n&&(y>4&&x*t>1024*1024||x*t*y>800*800*50)){var E=1;while(Math.max(x>>>E,t>>>E)>800)E++;var a=window.confirm("Your animation is large ("+x+" x "+t+" px). Press \"OK\" to scale it to "+(100>>>E)+"%. Press \"Cancel\" to keep the size.");
if(a){this.Q5.c(new aW(x>>>E,t>>>E),null,!0);x=x>>>E;t=t>>>E}}var S=O.add.artd,e=S!=null&&S.Cnt.v>1,P=O.BZ();
this.rp.RA(V,r,O.Ks.length!=0,e,P!=null);var b=localStorage.getItem("sfwPrms");if(b==null)b={};else b=JSON.parse(b);
var T=this.rp.b();if(_&&_.target==this.rp){b[V]=T;localStorage.setItem("sfwPrms",JSON.stringify(b))}else if(b[V]){this.rp.c(b[V]);
T=this.rp.b()}this.kD=dx.bt(O,V,x,t,T,this.Yw);if(this.kD==null){this.cn=null;return}L.I$(this._S);this.Fa.ZW();
var Z=dx.Jv(V);if(Z.AG){this._S.innerHTML="<div></div>";C+="width:0px"}else if(Z.Yj){var W=x,s=t,f;if(V=="PDF"){f=URL.createObjectURL(new Blob([this.kD],{type:"application/pdf"}))}else{f=URL.createObjectURL(new Blob([this.kD],{type:"image/svg+xml"}))}this._S.innerHTML="<iframe src=\""+f+"\"></iframe>"}else{var q=this.a1b=Z.Xd(this.kD),g=q[0],i=g.n5,W=i.a,s=i.n;
if(g.NH){var u=ICC.R(g.NH.buffer),I=17,Y=ICC.U.sampleLUT(u,I);for(var m=0;m<q.length;m++){var U=new Uint8Array(q[m].data);
ICC.U.applyLUT(Y,I,U,U)}}this.Fa.c(q,q.length>1?T[T.length-3]:0);this._S.appendChild(this.Fa.m);C="background: rgba(0,0,0,0);"}this._S.setAttribute("style","display:block; background-size:"+16/L.V()+"px;"+C);
this.A$(this.Qc,this.bE,n)};function ic(){ai.call(this,[11,13],"shortcuts");var _=this.J8=L.S("div","scrollable");
_.setAttribute("style","min-width:700px; max-height:500px; padding:1.5em");this.body.appendChild(_);
this.auK()}ic.prototype=new ai;ic.prototype.f=function(){ai.prototype.f.call(this);this.auK()};ic.prototype.auK=function(){var _="<div style=\"line-height:1.4em; column-count:3; column-gap:3em; column-rule-width:1px;\" class=\"\">",n="",O=bJ,l=O.mV,x=O.fc,t=O.Yk;
n+="<h2 style=\"margin-top:0;\">Main Menu</h2>";n+=_;n+=this.Wf([[0,0],"---",[1,0],[l,O.ZM],[1,2],[l,O.Mh],[1,3],[x,l,O.Mh],[1,8],[t,x,l,O.Mh],[0,1],"---",[2,0],[x,l,O.oo],[2,1],[l,O.oo],[5,0],[l,O.gi],[5,1],[l,O.bd],[5,2],[l,O.Z2],[2,2],"Delete",[2,3],[t,O.Mx],[10,16],[t,l,O.Fy],[12,79],[l,O.Ai],[3],"---",[4,1],[l,O.oT],[4,2],[l,O.sY],[4,5],[l,O.D3],[4,11],[l,O.dq],[0,3],"---",[6,13],[x,l,O.nq],[6,49,0],[l,O.Vk],[6,6,0],[t,l,O.d0],[6,9],[l,O.d0],[6,10],[l,O.E],[0,5],"---",[7,0],[l,O.t],[7,1],[l,O.ap],[7,2],[x,l,O.dq],[0,7],"---",[8,0],[l,O.qE],[8,1],[l,O.PW],[8,3],[l,O.n0],[8,2],[l,O.AC],[8,4],[l,O.oD],[11,13],"?"]);
n+="</div>";n+="<h2 style=\"margin-top:1.5em;\">Navigation</h2>";n+=_;n+=this.Wf(["Vertical scroll","Wheel","Horizontal scroll",[l,"Wheel"],"Zooming",[t,"Wheel"]]);
n+="</div>";n+="<h2 style=\"margin-top:1.5em;\">Quick tools (press to enable, release to disable)</h2>";
n+=_;n+=this.Wf([[10,11],[l],[10,7],"Space",[10,17],[l,O.pN]]);n+="</div>";n+="<h2 style=\"margin-top:1.5em;\">Tools</h2>";
n+=_;var h=ic.e,V=[];for(var m=0;m<h.length;m+=3)if(h[m+1])V.push(h[m],h[m+1]);V=V.concat([[24,16],"---",[22,7,1],"D",[22,7,0],"X",[6,6,1],"Q","Decrease Brush Size","[","Increase Brush Size","]","Decrease Hardness","{","Increase Hardness","}",[12,86],[l,O.AR]]);
n+=this.Wf(V);n+="</div>";this.J8.innerHTML=n};ic.prototype.Wf=function(_){var n="",O=!0;for(var m=0;
m<_.length;m+=2){var l=_[m],x=bJ.Ku(_[m+1]);if(x==null){O=!1;continue}var t=L.RI(hU.get(l));if(x=="---"){if(!O)n+="<br/>";
n+="<div style=\"font-weight:bold; border-bottom: 1px solid;\">"+t+"</div>"}else n+="<div>"+t+" <span style=\"float:right; font-weight:bold;\">"+x+"</span> </div>";
O=!1}return n};ic.e=[[10,11],"V",0,[10,50],"V",70,[10,15],"M",1,[10,4],"M",2,[10,9],"L",5,[10,14],"L",6,[10,10],"L",7,[10,44],"W",3,[10,37],"W",8,[10,12],"W",9,[10,2],"C",10,[10,39],"C",11,[10,40],"C",12,[10,41],"C",13,[10,5],"I",14,[10,36],"I",16,[10,24],"J",18,[10,25],"J",19,[10,26],"J",20,[10,43],"J",22,[10,0],"B",23,[10,38],"B",24,[10,42],"B",25,[10,1],"S",27,[10,3],"E",31,[10,45],"E",32,[10,6],"G",34,[10,13],"G",35,[10,18],null,36,[10,19],null,37,[10,20],null,38,[10,21],"O",39,[10,22],"O",40,[10,23],"O",41,[10,8],"T",47,[10,29],"P",42,[10,30],"P",43,[10,27],"A",51,[10,28],"A",52,[10,32],"U",54,[10,33],"U",55,[10,35],"U",57,[10,34],"U",56,[10,31],"U",58,[10,7],"H",59,[10,17],"Z",61];
function hG(){ai.call(this,[8,11,1],"soptions");this.dK=null;var _=L.S("div","form");_.style.width="20em";
this.body.appendChild(_);this.EK={Nm:[12,48],url:"URL",null:[12,71]};this.wt={};for(var n in this.EK){var O=new g_(this.EK[n],null,15);
this.wt[n]=O;_.appendChild(O.m)}this.Q2=L.iu(this,_)}hG.prototype=new ai;hG.prototype.dN=function(_,n,O){var l=n.h;
this.dK=JSON.stringify(l);for(var x in this.EK){if(l[x])this.wt[x].c(l[x].v)}};hG.prototype.DW=function(_){var n=JSON.parse(this.dK);
for(var O in this.EK){var l=this.wt[O].b();n[O]={t:"TEXT",v:l}}var x=new e_(H.E.s,!0);x.G=D.yK;x.data=n;
x.$o=!0;this.$(x);this.close()};hG.prototype.f=function(){ai.prototype.f.call(this);this.Q2.f()};function df(){ai.call(this,[2,3],"fill");
this.Yw=null;this.ii=null;var _=L.S("div","form padded");_.style.width="22em";this.body.appendChild(_);
this.Eu="FrgC BckC Clr Blck Gry Wht contentAware Ptrn".split(" ");this.NK=new cB([2,3],[[12,45],[12,46],[12,47],[13,1,10],[13,1,7],[13,1,8],[6,48,0,3],[12,62]],null,[3,3,2]);
this.NK.Z(H.E.A,this.ak6,this);_.appendChild(this.NK.m);this._S=L.S("span");_.appendChild(this._S);this.zs=new fS;
this.zs.parent=this;this.zs.Is(0);this.gg=new hI;this.gg.parent=this;this.cr=new cB([12,19,0],b3.Fw,!1,b3.UU);
_.appendChild(this.cr.m);this.pU=new bb([12,0],0,100,"%",0,!1);this.pU.c(100);_.appendChild(this.pU.m);
this.DV=new dE([13,5]);this.DV.c(!1);_.appendChild(this.DV.m);this.Q2=L.iu(this,this.body)}df.prototype=new ai;
df.prototype.pq=function(_,n){return _!=null};df.prototype.HE=function(){return!0};df.prototype.ak6=function(){var _=this.NK.b(),n=this.zs.m,O=this.gg.m,l=this._S;
if(_==2)l.appendChild(n);else if(l.contains(n))l.removeChild(n);if(_==7)l.appendChild(O);else if(l.contains(O))l.removeChild(O)};
df.prototype.f=function(){ai.prototype.f.call(this);this.NK.f();this.cr.f();this.pU.f();this.DV.f();
this.Q2.f()};df.prototype.DW=function(_){if(!this.ii.eE())return;var n=new e_(H.E.yy,!0),O=this.NK.b();
n.data=D.Os.qY(this.Eu[O],b3.qX[this.cr.b()],this.pU.b()/100,this.zs.b(),this.DV.b(),this.gg.b());this.close();
this.$(n)};df.prototype.dN=function(_,n){this.ii=_};df.prototype.w1=function(_,n){this.Yw=_;if(n==gp.WB||n==gp.nL){this.gg.H5(_.LK);
this.gg.c({classID:"Ptrn",Nm:{v:"orangeslices",t:"TEXT"},Idnt:{v:"c7acb22a-47a6-11de-919a-bf574370eaaf",t:"TEXT"}})}};
function bV(){ai.call(this,[14,9],"stroke");this.Yw=null;this.iD=L.S("div","form");this.iD.setAttribute("style","width:24em");
this.body.appendChild(this.iD);this.Ry=new iP("FrFX",!0);this.Ry.parent=this;var _=["Sz","Styl","Md","Opct"].concat(aF.M4);
for(var m=0;m<_.length;m++){var n=this.Ry.Gj[_[m]].m;this.iD.appendChild(n)}this.Ft=!1;this.Q2=L.iu(this,this.body)}bV.prototype=new ai;
bV.prototype.pq=function(_,n){return _!=null};bV.prototype.HE=function(){return!0};bV.prototype.f=function(){ai.prototype.f.call(this);
this.Q2.f();this.Ry.f()};bV.prototype.DW=function(_){var n=new e_(H.E.s,!0);n.G=D.$j;n.data={d:"stroke",agR:this.Ry.b()};
this.close();this.$(n)};bV.prototype.dN=function(_,n){if(!this.Ft){var O=aF._v[aF.order.indexOf("FrFX")];
O=JSON.parse(O);this.Ry.update(_,O);this.Ft=!0}var O=this.Ry.b(),l=this.Yw.KU;O.Clr.v=Q.N.YS({o:l>>16&255,J:l>>8&255,k:l&255});
this.Ry.update(_,O)};bV.prototype.w1=function(_,n){this.Yw=_};function jT(){ai.call(this,[11,9],"textwarp");
this.wt=new iJ;this.wt.Z(H.E.A,this.M8,this);this.wt.parent=this;this.iD=L.S("div","form");this.iD.setAttribute("style","width:20em");
this.body.appendChild(this.iD);this.iD.appendChild(this.wt.m5.m);this.iD.appendChild(this.wt.yL.m);this.iD.appendChild(this.wt.q7.m);
this.iD.appendChild(this.wt.Sc.m);this.iD.appendChild(this.wt.bw.m);this.Q2=L.iu(this,this.iD);this.Z("closebtn",this.Sy,this)}jT.prototype=new ai;
jT.prototype.HE=function(){return!0};jT.prototype.f=function(){ai.prototype.f.call(this);this.Q2.f();
this.wt.f()};jT.prototype.M8=function(_){var n=this.wt.b();this.Lu({d:"warp",Q6:n})};jT.prototype.Lu=function(_){var n=new e_(H.E.s,!0);
n.G=D.K9;n.data=_;n.$o=!0;this.$(n)};jT.prototype.Sy=function(_){this.Lu({d:"warpCancel"})};jT.prototype.DW=function(_){this.Lu({d:"warpConfirm"});
this.close()};jT.prototype.dN=function(_,n){var O=_.B[_.g[0]];this.wt.c(O.add.TySh.ZA)};function fj(){ai.call(this,[11,12,0],"trim");
var _=this.iD=L.S("div","form");this.iD.setAttribute("style","width:22em");this.body.appendChild(this.iD);
var n=new an("Color To Trim:");_.appendChild(n.m);this.g8=new gl(null,["Top Left Pixel Color","Bottom Right Pixel Color",[13,1,9]],null,null,!0);
this.g8.c([!0]);this.iD.appendChild(this.g8.m);var n=new an("Sides:");_.appendChild(n.m);this.J5=new gl(null,["Top","Left","Bottom","Right"]);
this.J5.c([!0,!0,!0,!0]);this.iD.appendChild(this.J5.m);this.Q2=L.iu(this,this.body)}fj.prototype=new ai;
fj.prototype.pq=function(_,n){return _!=null};fj.prototype.HE=function(){return!0};fj.prototype.f=function(){ai.prototype.f.call(this);
this.g8.f();this.J5.f();this.Q2.f()};fj.prototype.DW=function(_){var n=this.g8.b().indexOf(!0),O=this.J5.b(),l=new e_(H.E.yy,!0);
l.data=D.e_.Al(n,O);this.close();this.$(l)};function jr(){ai.call(this,"Raw Photopea","rawpea");this.ve=null;
this.W3=null;this.body.style.padding="0";var _=this.Rw=new ez["Adobe Camera Raw Filter"](!0),O="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
this.body.appendChild(_.m);this.Q2=new cw([1,0],!0,null,!0);this.Q2.Z("click",this.DW,this);this.E$=new cw(O+" JPG",!0,null,!0);
this.E$.Z("click",this.aqk,this);this.E$.m.style.marginTop="6px";_.L9(this.Q2.m);_.L9(this.E$.m)}jr.prototype=new ai;
jr.prototype.Lw=function(){return new aW(0,0)};jr.prototype.A$=function(_,n){this.Rw.A$(_,n)};jr.prototype.f=function(){ai.prototype.f.call(this);
this.Rw.f()};jr.prototype.aqk=function(_){var n=this.ve,O=this.W3,l=dx.Jv("JPG").QI([[this.Rw.b(!0).buffer]],O.w5,O.UJ,[85]),x=new e_(H.E.L,!0);
x.data={d:H.t.Jg,data:l,name:"photo.jpg"};this.$(x)};jr.prototype.DW=function(_){var n=this.ve,O=this.W3,l=cr.yD(n),n={n5:new a8(0,0,O.w5,O.UJ),data:this.Rw.b(!0).buffer,I6:l},x=dx.Fv("Raw Photo",[n]),t=new e_(H.E.L,!0);
t.data={d:H.t.iQ,cn:x};this.$(t);this.ic();this.close()};jr.prototype.ic=function(){this.ve=null;this.W3=null;
this.Rw.asZ()};jr.prototype.dN=function(_,n,O,l){this.ve=n.G7;var x=this.W3=Q.raw.a9P(this.ve),t=Q.raw.a2N(n.G7),h=bI.fe(t);
Q.raw.Wp(x.sw,x.sw,n.G7,[h.rU,h.DY]);var V=ie.gV("Adobe Camera Raw Filter");this.Rw.c(V,x.sw,new a8(0,0,x.w5,x.UJ))};
function ag(_){ai.call(this,_?[11,11,0]:[11,11,1],_?"vbitmap":"rcolors");this.O0=null;this.b_=null;this.GU=null;
this.n9=null;this.fj=null;this.agZ=null;this.Hf=null;this.Tm="";this.PX=_;this.Rb=this.t6.bind(this);
this.MX=!1;this.body.style.padding="0";this.iD=L.S("div","form hbar padded");this.body.appendChild(this.iD);
var n=this.iW={cnum:new bd([12,82],2,50,null),nois:new dE([12,81]),mode:new cB(null,["Cartoon","Photo"]),segm:new dE("Segmentize"),poly:new dE("Polygon"),merg:new dE("Merge colors"),polE:new bd("Roughness",2,30,null),dthr:new dE([12,23,3]),ok:L.iu(this,null,!1)},t=16;
for(var O in n){var l=n[O];l.parent=this;if(O!="ok")l.Z(H.E.A,this.t6,this)}var x=this.R1=L.S("div","flexrow");
this.body.appendChild(x);x.setAttribute("style","background-color:var(--bg-canvas)");this.Gr=new da;
this.Gr.Z("viewchange",this.T6,this);this.E9=new da;this.T=L.S("canvas");this.T.setAttribute("style","margin:0 0 0 1px; padding:0; cursor:grab;");
this.Y0=this.T.getContext("2d");var h=Q.Q(16*16*4);Q.tZ(h,t,t,8);this.k2=Q.scale.Iv(h,t,t);this.Gr.aks(this.T);
this.Gr.e3(this.E9);this.E9.e3(this.Gr);x.appendChild(this.Gr.m);if(_)x.appendChild(this.T);else x.appendChild(this.E9.m)}ag.prototype=new ai;
ag.prototype.Lw=function(){return new aW(0,0)};ag.prototype.HE=function(){return!0};ag.prototype.A$=function(_,n){this.Qc=_;
this.bE=n;n=n-44;if(_<600)n-=29;if(this.O0==null)return;var O=this.O0.n5,l=iV.a4A(_,n,O.a,O.n);if(l==1)n-=3;
if(l==0){_=Math.floor(_/2);L.NT(this.R1,"flexrow")}else{n=Math.floor(n/2);L.Gd(this.R1,"flexrow")}L.Bw(this.T,_,n);
this.Gr.A$(_,n);if(this.PX)this.T6();else this.E9.A$(_,n)};ag.prototype.op=function(_,n,O,l){this.Gr.op(l)};
ag.prototype.f=function(){ai.prototype.f.call(this);for(var _ in this.iW)this.iW[_].f()};ag.prototype.dN=function(_,n){this.Hf=_;
this.fj=null;var O=_.B[_.g[0]],l=Q.j8.U3(O.buffer.buffer,O.rect.a,O.rect.n).al8,x=l/((O.rect.a-2)*(O.rect.n-2)),t=this.iW;
t.cnum.c(20);t.nois.c(x<.75);t.mode.c(x<.75?1:0);t.segm.c(!1);t.poly.c(!1);t.merg.c(!0);t.polE.c(1);
t.dthr.c(!1);var h=O.rect.clone();h.x=h.y=0;this.O0={n5:h,data:O.buffer.buffer.slice(0)};this.b_=null;
this.A$(this.Qc,this.bE);this.Gr.c([this.O0]);this.Gr.Gx();this.MX=!0;setTimeout(this.Rb,20)};ag.prototype.t6=function(){var _=!0,n=Date.now(),O=this.O0,l=this.iW,x=l.cnum.b(),t=l.nois.b(),h=l.mode.b(),V=l.segm.b(),y=l.poly.b(),r=l.merg.b(),E=l.polE.b(),u=null;
if(h==0)V=y=!1;var a=l.dthr.b(),S=["cnum","nois","mode"];if(h==1){S.push("segm");if(this.PX){S.push("poly");
if(y)S.push("polE")}}if(this.PX)S.push("merg");else S.push("dthr");S.push("ok");L.I$(this.iD);for(var m=0;
m<S.length;m++)this.iD.appendChild(l[S[m]].m);if(_)console.log("---------------------------------------");
var e=t||V,P=t+","+V;if(e&&(this.b_==null||this.Tm!=P)){this.Tm=P;var b=new Uint8Array(O.data),T=O.n5.a,C=O.n5.n;
if(t){if(this.fj==null){this.fj=b.slice(0);Q.ke.a2(this.fj,this.fj,T,C,15,Q.ke.zL,[35]);if(_){console.log("denoise",Date.now()-n);
n=Date.now()}}b=this.fj.slice(0)}else b=b.slice(0);if(V){var Z=Q.j8.Ln(b,T,C,40,10),W=Z.Ai,s=new Uint8Array(W*4);
for(var m=0;m<W;m++){var f=m*4,q=m*6,g=1/Z.qr[q+5];s[f]=Z.qr[q]*g;s[f+1]=Z.qr[q+1]*g;s[f+2]=Z.qr[q+2]*g}for(var m=0;
m<b.length;m+=4){var i=Z.ye[m>>>2]*4;b[m]=s[i];b[m+1]=s[i+1];b[m+2]=s[i+2]}if(_){console.log("segm",Date.now()-n);
n=Date.now()}}this.b_={n5:O.n5.clone(),data:b.buffer}}if(e)O=this.b_;var b=new Uint8Array(O.data),T=O.n5.a,C=O.n5.n;
for(var m=0;m<b.length;m+=4){if(b[m+3]<10)b[m]=b[m+1]=b[m+2]=b[m+3]=0}if(h==0){u=Q.j8.aeU(b,T,C,x,e?.1:2e-4);
if(_){console.log("quantize",Date.now()-n);n=Date.now()}}if(h!=0||u&&u.IR.length<2){u=cz.a8T(b.buffer,x,T,C)}if(this.PX){var I=u.ye.slice(0);
for(var m=0;m<I.length;m++)I[m]++;var Y=new Uint8Array((T+2)*(C+2));Q.pc(I,new a8(1,1,T,C),Y,new a8(0,0,T+2,C+2));
if(!y){var U=Math.round((T+2)*(C+2)/1e4),F=a2.uL(Y.slice(0),T+2,C+2,Math.min(12,U)),N=a2.cx(F);if(_){console.log("trace smooth",Date.now()-n);
n=Date.now()}}else{var N=Q.p.e0(Y,T+2,C+2,E,_)}var o=N.length,X=new aY(1,0,0,1,-1,-1);for(var m=0;m<o;
m++)Q.p.D(N[m].path.C,X,N[m].path.C);this.n9=N;this.GU=u;for(var m=0;m<o;m++){var J=N[m];for(var c=m+1;
c<o;c++){var p=N[c];if(p.parent==m&&u.IR[p.color-1].est.q[3]<.05){var d=p.path.F.slice(1);d.reverse();
d=["M"].concat(d);var k=[],F=p.path.C.length;for(var A=0;A<F;A+=2){k[A]=p.path.C[F-2-A];k[A+1]=p.path.C[F-2-A+1]}Q.p.concat(J.path,{C:k,F:d})}}}if(_){console.log("finding holes",Date.now()-n);
n=Date.now()}for(var m=0;m<N.length;m++){var $=N[m];if($.parent!=-1){var K=N[$.parent];$.parent=K;if(K.vL==null)K.vL=[];
K.vL.push($)}$.depth=$.parent==-1?0:$.parent.depth+1}if(r){function G(jK,hl){var f7={},hW=0,km=0;for(var m=0;
m<jK.length;m++){var w=jK[m].color,A="c"+w;if(w==hl)throw w;if(f7[A]==null)f7[A]=0;f7[A]++;if(f7[A]>hW){hW=f7[A];
km=w}}return km}var z=[],M=[],hl=-1,j=!0;for(var m=0;m<N.length;m++)if(N[m].parent==-1)M.push(N[m]);
while(M.length!=0){var w=G(M,hl);hl=w;for(var m=0;m<M.length;m++)if(M[m].color==w){var B=M[m];z.push(B);
M.splice(m,1);m--;if(B.vL)for(var c=0;c<B.vL.length;c++){M.push(B.vL[c]);if(B.vL[c].color!=w)j=!1}}}if(j)N=z;
else{var bB=[];for(var bG=0;bG<500;bG++){var eb=[],F=bB[bG-1];bB.push(eb);for(var m=0;m<N.length;m++){var $=N[m],K=$.parent;
if(bG==0&&K==-1||bG!=0&&F.indexOf(K)!=-1){eb.push($);N.splice(m,1);m--}}eb.sort(function(jK,f7){return jK.color-f7.color});
if(N.length==0)break}for(var m=0;m<bB.length;m++)N=N.concat(bB[m])}}else{var z=[],fe=[];while(N.length!=0){fe.push(N.shift());
while(fe.length!=0){var gB=fe.pop();z.push(gB);if(gB.vL)for(var m=0;m<gB.vL.length;m++){var $=gB.vL[m];
N.splice(N.indexOf($),1);fe.push($)}}}N=z}this.n9=N;for(var m=0;m<N.length;m++){var J=N[m],hp=u.IR[J.color-1].est.q;
if(hp[3]<=.05){N.splice(m,1);m--;continue}}for(var m=1;m<N.length;m++){var g6=N[m-1],J=N[m];if(g6.color==J.color&&(r||g6.parent==J.parent&&g6.depth>=2)){Q.p.concat(g6.path,J.path);
N.splice(m,1);m--;continue}}if(_){console.log("reordering layers",Date.now()-n,o,N.length);n=Date.now()}this.T6()}else{var by=new Uint32Array(T*C),e7=T*C;
if(a){var aN=[];for(var m=0;m<u.IR.length;m++)aN.push(u.IR[m].est.rgba);var i=Q.Q(T*C);UPNG.encode.dither(new Uint8Array(O.data),T,C,aN,new Uint8Array(by.buffer),i)}else{for(var m=0;
m<e7;m++){var w=u.IR[u.ye[m]];by[m]=w.est.rgba}}this.agZ=new Uint8Array(by.buffer);this.E9.c([{n5:O.n5,data:by.buffer}]);
if(this.MX){this.E9.Gx();this.MX=!1}}};ag.prototype.T6=function(_){if(this.n9==null)return;var n=this.O0.n5.a,O=this.O0.n5.n,l=this.n9,x=this.GU.IR,t=this.T,h=this.Y0,V=this.Gr.YW();
h.setTransform(1,0,0,1,0,0);h.clearRect(0,0,t.width,t.height);h.translate(t.width/2,t.height/2);h.scale(V.K,V.K);
h.translate(V.R.x/V.K-n/2,V.R.y/V.K-O/2);h.scale(1/V.K,1/V.K);h.fillStyle=this.k2;h.fillRect(0,0,n*V.K,O*V.K);
h.scale(V.K,V.K);var y=[];for(var m=0;m<x.length;m++){var r=x[m].est.q;y.push({o:Math.round(255*r[0]),J:Math.round(255*r[1]),k:Math.round(255*r[2]),EX:Math.round(255*r[3])})}for(var m=0;
m<l.length;m++){var E=l[m],r=y[E.color-1];if(r.EX==0)continue;h.fillStyle="rgba("+r.o+","+r.J+","+r.k+","+r.EX/255+")";
h.beginPath();Typr.U.pathToContext({crds:E.path.C,cmds:E.path.F},h);h.fill()}};ag.prototype.DW=function(_){var n=this.Hf,O=n.g[0],l=n.B[O],x=new e_(H.E.s,!0);
x.$o=!0;x.G=D.Ko;if(this.PX){var t=this.n9,h=t.length==1,V=n.B.slice(0,O);if(!h)V.push(n.y9());for(var m=0;
m<t.length;m++){var y=t[m],r=this.GU.IR[y.color-1].est.q;Q.p.D(y.path.C,new aY(1,0,0,1,l.rect.x,l.rect.y),y.path.C);
var E=n.Ni();E.iA("Path "+m);V.push(E);E.opacity=Math.round(r[3]*255);E.FQ|=16;E.add.SoCo={classID:"null",Clr:{t:"Objc",v:Q.N.YS({o:255*r[0],J:255*r[1],k:255*r[2]})}};
E.add.vmsk=new v.ez;E.add.vstk=JSON.parse(JSON.stringify(aF.eo.default));E.add.vmsk.i=Q.p.mg(y.path,!1);
E.add.vogk=[];E.W0();E.bf(n)}var a=V[V.length-1];if(!h){var E=n.Ni();E.iA(l.getName());E.add.lsct=bN.GV;
E.to="pass";E.FQ=24;V.push(E);a=E}var S=l.add.lmfx;if(S)a.add.lmfx=JSON.parse(JSON.stringify(S));for(var m=O+1;
m<n.B.length;m++)V.push(n.B[m]);x.data={d:v.Ob,Q7:V,Ss:[O+t.length+(h?-1:1)],hM:[11,11,0]}}else{var V=n.B.slice(0),E=n.Ni();
E.iA(l.getName());V.splice(n.g[0]+1,0,E);E.rect=l.rect.clone();E.buffer=this.agZ;E.U();x.data={d:v.Ob,Q7:V,Ss:[n.g[0]+1],hM:[11,11,1]}}this.$(x);
this.close()};function iV(_){ai.call(this,[[7,11],[7,13]][_],["redge","magiccut"][_]);this.g8=_;this.O0={};
this.Qj=null;this.TG=null;this.Hf=null;this.ZL=null;this.R9=null;this.body.style.padding="0";this.b8=[];
this.cG=-1;this.iD=L.S("div","form hbar padded");this.body.appendChild(this.iD);this.v1=new k8;this.v1.parent=this;
this.v1.Z(H.E.A,this.ee,this);this.iD.appendChild(this.v1.m);var n=_==0?["#ffffff","#888888","#000000"]:["#00dd00","#888888","#ff0000"];
n=n.concat("tools/hand","zoomIn","zoomOut");var O=_==0?[[12,45],"Unknown",[12,46]]:[[12,45],"Erase",[12,46]];
this.ps=new ks(null,n,O,28);this.ps.Z(H.E.A,this.op,this);this.iD.appendChild(this.ps.m);this.j9=new bd([7,9],0,50,null);
this.j9.parent=this;this.j9.Z(H.E.A,[this.axe,this.t6][_],this);this.iD.appendChild(this.j9.m);var l=this.a5N=new cw([2,2],!1,null,!0);
l.Z("click",this.ic,this);this.iD.appendChild(l.m);var x=this.QH=L.S("span","form");this.iD.appendChild(x);
var t=this.aeq=new cw([12,90],!1,null,!0);t.Z("click",function(y){alert(_==0?hU.get([15,7,1]):"Mark the object with Green, background with Red. Two colors should never touch.",5e3)},this);
x.appendChild(t.m);var h=new cw("Tutorial",!1,null,!0);h.Z("click",this.aaD,this);x.appendChild(h.m);
this.Dl=new ks([12,46],["checker","#ffffff","#000000"]);this.Dl.Z(H.E.A,this.a6r,this);x.appendChild(this.Dl.m);
this.GF=new cB(null,[[6,13],[6,2],[17,2]]);x.appendChild(this.GF.m);this.Q2=L.iu(this,x,!1);var V=this.R1=L.S("div","flexrow");
this.body.appendChild(V);this.Yy=new da(!0);this.b6=new da;this.Yy.e3(this.b6);this.b6.e3(this.Yy);this.Yy.Z("mousedown",this.km,this);
this.Yy.Z("mousemove",this.w$,this);this.Yy.Z("mouseup",this.sL,this);this.Yy.Z("zoom",this.ee,this);
this.b6.Z("zoom",this.ee,this);V.appendChild(this.Yy.m);V.appendChild(this.b6.m)}iV.prototype=new ai;
iV.prototype.pq=function(_,n){var O=_!=null&&!_.B[_.g[0]].rect.wk();if(!O)alert("The layer is empty.");
return O};iV.prototype.Lw=function(){return new aW(0,0)};iV.prototype.HE=function(){return!0};iV.prototype.A$=function(_,n){this.Qc=_;
this.bE=n;n=n-12-33;if(_<900){this.QH.setAttribute("style","display:block;  text-align:right;");n-=29}else{this.QH.setAttribute("style","position:absolute;  right:0px")}this.Dl.KM(_<440?null:[12,46]);
this.j9.KM(_<470?null:[7,9]);var O=this.O0.rect;if(O){var l=iV.a4A(_,n,O.a,O.n);if(l==0){_=Math.floor(_/2);
L.NT(this.R1,"flexrow")}else{n=Math.floor(n/2);L.Gd(this.R1,"flexrow")}this.Yy.A$(_,n);this.b6.A$(_,n)}};
iV.a4A=function(_,n,O,l){var x=_/2,t=n/2,h=Math.min(x/O,n/l),V=Math.min(_/O,t/l);return h>V?0:1};iV.prototype.f=function(){ai.prototype.f.call(this);
this.v1.f();this.j9.f();this.Q2.f();this.Dl.f();this.GF.f();this.a5N.f();this.aeq.f()};iV.prototype.aaD=function(_){window.open("//www.photopea.com/"+["learn/refine-edge","tuts/magic-cut-remove-image-background-online"][this.g8],"_blank")};
iV.prototype.w1=function(_,n){this.TG=_;if(n==gp.fQ||n==gp.WB){this.v1.H5(_.V5);this.v1.c(bL.kw(),_.V5.y7,_.V5.gg)}};
iV.prototype.op=function(_,n,O,l){var x=this.ps.b();if(l==null){this.Yy.op(da.a4C(x-3));return}this.ZL=l;
var t=D.Os.TX(this.v1.b(),l);if(t!=null){this.v1.c(t);this.ee()}else if(l.l(bJ.mV)&&l.l(bJ.oo)){var h=this.b8,V=0;
if(l.l(bJ.fc)){if(this.cG+1<h.length)V=1}else if(this.cG>0)V=-1;if(V!=0){this.cG+=V;var y=this.cG,r=this.O0;
if(V==1)Q.zw(h[y][2],h[y][0],r.EG,r.rect);else Q.zw(h[y+1][1],h[y+1][0],r.EG,r.rect);r.Fs=r.rect;this.t6()}}else if(x<3)this.Yy.op(l)};
iV.prototype.Q3=function(_){var n=this.O0,O=this.b8,l=Q.Q(_.O()*4);Q.zw(n.b1,n.rect,l,_);n.b1=null;var x=Q.Q(_.O()*4);
Q.zw(n.EG,n.rect,x,_);this.cG++;O[this.cG]=[_.clone(),l,x];while(O.length>this.cG+1)O.pop();while(O.length>50){O=O.slice(1);
this.cG--}};iV.prototype.ee=function(){var _=this.TG,n=gh.AQ(this.v1.b(),_.V5.y7,this.Yy.YW().K);this.Yy.ST(n)};
iV.prototype.km=function(_){var n=this.TG,O=this.O0,l=this.ZL,x=this.v1.b(),t=this.Yy.bF(),h=[16777215,8421504,0][this.ps.b()];
this.Qj=new gh(x,n.V5.y7,n.V5.gg,{kX:1,VY:!0},h,n.lV,O.rect);O.b1=O.EG.slice(0);if(l!=null&&l.l(bJ.fc)&&this.R9){this.Qj.moveTo(this.R9.x,this.R9.y);
this.Qj.lineTo(t.x,t.y)}else this.Qj.moveTo(t.x,t.y);this.av8()};iV.prototype.w$=function(_){var n=this.O0,O=this.Yy.bF();
this.Qj.lineTo(O.x,O.y);this.av8()};iV.prototype.sL=function(_){this.R9=this.Yy.bF();this.Q3(this.Qj.Hd());
this.t6()};iV.prototype.av8=function(){var _=this.O0,n=this.Qj,O=n.Rz();if(O.wk())return;_.Fs=O;Q.q.Zn("norm",n.eN(),n.kf(),_.EG,_.rect,O,1);
this.au7()};iV.prototype.ic=function(_){var n=this.O0;n.b1=n.EG.slice(0);n.Fs=n.rect;Q.qs(n.EG,[4278190080,4292730333][this.g8]);
this.Q3(n.rect);this.t6()};iV.prototype.dN=function(_,n){this.Hf=_;var O=_.B[_.g[0]],l=O.rect.clone(),x=l.a,t=l.n;
this.j9.c(this.g8==0?3:x*t<3e6?3:0);this.ps.c(_.P==null?0:1);this.j9.E0();if(this.g8==0&&_.P!=null||this.g8==1)this.j9.M5();
var h=this.g8,V=Q.Q(l.O()),y=new Float32Array(l.O());if(h==0&&_.P){Q.pc(_.P.channel,_.P.rect,V,l);var r=Q.Q(l.O());
for(var E=0;E<t;E++)for(var a=0;a<x;a++){var m=E*x+a,S=V[m];if(a>0&&V[m-1]!=S||a<x-1&&V[m+1]!=S||E>0&&V[m-x]!=S||E<t-1&&V[m+x]!=S)r[m]=255}Q.style.qx(r,y,x,t)}else y.fill(1e9);
l.x=l.y=0;this.O0={rect:l,sw:O.buffer,IW:V,Kq:y,Xm:Q.Q(l.O()*4),Th:Q.Q(l.O()*4),EG:Q.Q(l.O()*4),b1:null,fr:null,Fs:l,ajA:{}};
if(h==0)this.axe();else{this.O0.ajA=D.Om.a5D(_);var e=this.O0.EG;Q.qs(e,4287137928);var P=Q.rA.getSelection(O.buffer,x,t),b=Math.round(x/60),T=Math.round(.7*t);
for(var E=0;E<t;E++)for(var a=0;a<x;a++){var C=(E*x+a)*4,Z=P[C>>>2];Z=Z>128?255:128;if(E<b||E<T&&(a<b||a>x-1-b))Z=0;
e[C]=e[C+1]=e[C+2]=Z}this.t6()}this.b8=[1];this.cG=0;var W=this.v1.b();W.Brsh.v.Dmtr.v.val=Math.round(l.a/(h==0?10:20));
this.v1.c(W);this.ee();this.A$(this.Qc,this.bE);this.Yy.Gx()};iV.prototype.axe=function(){var _=this.O0,n=_.rect.O(),O=this.j9.b(),l=_.IW.slice(0);
for(var m=0;m<n;m++)if(_.Kq[m]<O)l[m]=128;Q.qs(_.EG,4294967295);Q.$c(l,_.EG,0);Q.$c(l,_.EG,1);Q.$c(l,_.EG,2);
_.Fs=_.rect;this.t6()};iV.prototype.t6=function(){var _=this.O0,x,V,y=0,r=0,E=0;this.au7();var n=_.rect,O=n.a,l=n.n,t=Q.Q(n.O()),h=_.sw;
Q.nV(_.EG,t,0);for(var m=0;m<t.length;m++){if(h[(m<<2)+3]!=255)continue;var a=t[m];if(a==0)y++;else if(a==255)r++;
else E++}if(y*r*E!=0){if(this.g8==0)V=Q.Ip.Ip(n,h,t);else{var S=this.ps.b();for(var e=1;e<l;e++)for(var P=1;
P<O;P++){var m=e*O+P,b=t[m],T=t[m-1];if(b==0&&T==255||b==255&&T==0){x="The Red and Green should never touch! Erase it with Grey.";
break}}var C=Date.now(),Z=this.O0.ajA;Q.Jt(t,Z.X9);D.Om.ZQ(Z,!0);var W=Math.ceil(this.j9.b()/2);if(W==0){V=h.slice(0);
Q.$c(Z.P,V,3)}else{var s=Z.P.slice(0),f=Z.P.slice(0);for(var q=0;q<W;q++){for(var e=1;e<l-1;e++)for(var P=1;
P<O-1;P++){var m=e*n.a+P,g=s[m];if(s[m-O]!=g||s[m-1]!=g||s[m+1]!=g||s[m+O]!=g)f[m]=128;else f[m]=g}var i=s;
s=f;f=i}V=Q.Ip.Ip(n,h,s,20,!1)}}}else{V=h.slice(0);Q.$c(t,V,3)}for(var m=3;m<V.length;m+=4)if(V[m]>h[m])V[m]=h[m];
if(n.yO(_.rect))_.fr=V;else Q.zw(V,n,_.fr,_.rect);this.a6r();if(x)alert(x,4e3)};iV.prototype.au7=function(_){var n=this.O0,O=n.Fs;
Q.zw(n.sw,n.rect,n.Xm,n.rect,O,!0);var l=n.EG;if(this.g8==1){var x=new Uint32Array(256);x[0]=4278190335;
x[255]=4278255360;var t=n.rect.O();l=l.slice(0);var h=new Uint32Array(l.buffer);for(var m=0;m<t;m+=2){h[m]=x[h[m]&255];
h[m+1]=x[h[m+1]&255]}}Q.q.Zn("norm",l,n.rect,n.Xm,n.rect,O,.3);this.Yy.c([{n5:n.rect,data:n.Xm.buffer}])};
iV.prototype.a6r=function(_){var n=this.O0;Q.qs(n.Th,[0,4294967295,4278190080][this.Dl.b()]);Q.q.Zn("norm",n.fr,n.rect,n.Th,n.rect,n.rect,1);
this.b6.c([{n5:n.rect,data:n.Th.buffer}])};iV.prototype.DW=function(_){var n=this.Hf,O=this.O0,l=this.GF.b(),x=n.B[n.g[0]],t=new e_(H.E.s,!0);
t.$o=!0;var h=x.rect.clone();if(l==0&&x.Pn()||l!=0&&!x.Pn()){t.G=D.Ko;t.data={d:v.VW,j:n.g[0]};this.$(t)}if(n.P!=null){t.G=D.vQ;
t.data={d:"fromAction",Jp:D.iM.qv()};this.$(t)}if(l==0){var V=n.B.slice(0),y=n.Ni();y.iA(x.getName());
V.splice(n.g[0]+1,0,y);y.rect=h;y.buffer=O.fr;y.U();t.G=D.Ko;t.data={d:v.Ob,Q7:V,Ss:[n.g[0]+1],hM:[7,11]};
this.$(t)}if(l==1){var r=x.Ek();t.G=D.Ko;t.data={d:v.sb,avI:!0};this.$(t);var E=x.Ek();E.channel=Q.Q(h.O());
E.rect=h;E.color=0;E.na=!0;Q.nV(O.fr,E.channel,3);if(r){var a=E.kU(r);E.rect=a.rect;E.channel=a.channel;
E.color=a.color}E.AO();x.bf()}if(l==2){var S={rect:h,channel:Q.Q(h.O())};Q.nV(O.fr,S.channel,3);t.G=D.vQ;
t.data={d:"setsel",P:S,hM:this.a7};this.$(t)}this.close()};function h_(){ai.call(this,[1,13],"locstor");
this.Yw=null;this.gx=[];var _=this.body,n=L.S("p");n.textContent="These files are loaded every time you start Photopea.";
_.appendChild(n);this.a6s=0;this.X0=L.S("span");_.appendChild(this.X0);this.X0.setAttribute("style","display:inline-block;  width:12em;  font-weight:bold;");
var O=L.S("span","form");_.appendChild(O);this.Li=new cw([5,4],!1,null,!0);this.Li.Z("click",this.L1,this);
O.appendChild(this.Li.m);this.SJ=new cw("Get all as ZIP",!1,null,!0);this.SJ.Z("click",this.gE,this);
O.appendChild(this.SJ.m);this.gW=new d9(!0);this.gW.parent=this;this.gW.jO(1);_.appendChild(this.gW.m);
this.gW.m.setAttribute("style","width: 40em; height: 25em")}h_.prototype=new ai;h_.prototype.f=function(){ai.prototype.f.call(this);
this.X0.textContent=hU.get([13,2])+": "+cH.Mi(this.a6s);this.Li.f()};h_.prototype.w1=function(_,n){this.Yw=_;
if(n==gp.vU)this.dN()};h_.prototype.dN=function(_,n){var O=this.Yw.mM.Au,y=0;this.gx=[];for(var l in O)this.gx.push(l);
this.gx.sort(function(E,a){E=E.split(".");a=a.split(".");return E[1]==a[1]?E[0]<a[0]?-1:1:E[1]<a[1]?-1:1});
var x=Math.floor(100*L.V()),t=Math.floor(16*L.V()),h=[],V=[];for(var m=0;m<this.gx.length;m++){var l=this.gx[m],r=h_.XW(l,O[l],x,t);
h.push(r);V.push(l);y+=O[l].byteLength}this.gW.d$(h,V,x,t);this.a6s=y;this.f()};h_.prototype.L1=function(_){var n=this.gW.b();
if(n.length==0){alert("Select a file first.");return}this.gW.c([]);var O=this.Yw.mM.Au;for(var m=0;m<n.length;
m++)delete O[this.gx[n[m]]];var l=new e_(H.E.L,!0);l.data={d:H.t.Gf,nZ:gp.vU};this.$(l)};h_.prototype.gE=function(_){var n=this.Yw.mM.Au,O={};
for(var l in n)O[l]=new Uint8Array(n[l]);var x=UZIP.encode(O);iR.save(x,"resources.zip")};h_.XW=function(_,n,O,l){var x=L.S("canvas"),V=0;
x.width=O;x.height=l;var t=x.getContext("2d"),h=_.split(".").pop().toLowerCase();for(var m=0;m<h.length;
m++)V+=h.charCodeAt(m)*613<<8*m;t.fillStyle="#"+Q.sN(V&16777215);t.fillRect(0,0,20,l);var y=Math.floor(14*L.V());
t.fillStyle="#000000";t.font="bold "+y+"px sans-serif";var r=(l-y)/2,E=cH.Mi(n.byteLength),a=t.measureText(E);
t.fillText(E,O-12-a.width,l-r);return x.toDataURL()};function iu(){ai.call(this,[1,15],"pmanager");this.Yw=null;
this.L8=new cB([12,44],[[9,3],[12,37],[12,62],[11,6],[12,77],[12,21]]);this.L8.Z(H.E.A,this.dN,this);
this.body.appendChild(this.L8.m);var _=L.S("div","flexrow");this.body.appendChild(_);var n=this.adX=L.S("div");
_.appendChild(n);var O=L.S("div","form");_.appendChild(O);O.setAttribute("style","width:140px; margin-left:12px");
this.agD=[gp.fQ,gp.Eq,gp.nL,gp.co,gp.$h,gp.Ij];this.uY=[new k8,new d0,new hI,new h0,new d$,new eR];for(var m=0;
m<this.uY.length;m++)this.uY[m].parent=this;this.Nt=[];for(var m=0;m<4;m++){var l=new cw("Hello",!0,null,!0);
l.Z("click",this.qV,this);this.Nt.push(l);O.appendChild(l.m)}this.dN()}iu.prototype=new ai;iu.prototype.$Y=function(_){return _==bJ.ul||_==bJ.Mx};
iu.prototype.qV=function(_){var m=this.Nt.indexOf(_.target);this.uY[this.L8.b()].cZ(m)};iu.prototype.f=function(){ai.prototype.f.call(this);
this.L8.f();for(var m=0;m<this.uY.length;m++)this.uY[m].f();var _=this.Nt,n=this.L8.b(),O=gp.qZ[this.agD[n]],l=O[0].toUpperCase();
_[0].KM([[23,6],"."+l]);_[1].KM(["VAR0 ."+l,[1,8]]);_[2].KM([6,37]);_[3].KM([5,4])};iu.prototype.w1=function(_,n){this.Yw=_;
this.dN()};iu.prototype.dN=function(_,n){if(!L.PZ(this.m))return;this.f();L.I$(this.adX);this.adX.appendChild(this.uY[this.L8.b()].FG);
var O=this.uY,l=this.Yw;if(l==null)return;O[0].H5(l.V5);O[1].Db(l.KU,l.lV);O[1].H5(l.QL);O[2].H5(l.LK);
O[3].H5([l.xB,l.LK]);O[4].H5(l.zn);O[5].H5(l.ZR)};function jp(_,n,O){ai.call(this,n,"cwindow");this.aqU=new aW(O[0],O[1]-33);
this.iD=L.S("div","form");this.iD.setAttribute("style","width:"+(O[2]-O[0])+"px; height:"+(O[3]-O[1])+"px");
this.body.appendChild(this.iD)}jp.prototype=new ai;jp.prototype.Lw=function(_,n){return this.aqU.clone()};
function d3(_){var n=d3.a9R(_);ai.call(this,n,"res"+_);var O=this.a6$.bind(this);window.addEventListener("message",function(x){if(typeof x.data=="string"&&x.data.startsWith("--et ")){console.log(x.data);
var t=this.a60=x.data.slice(5).split(",");t[0]=parseFloat(t[0]);iM.Mt(t[0],t[1],O)}}.bind(this));this.an=n;
this.re=_;this.a3D=null;this.s1=null;this.Bd=0;this.Kp=null;this.AB=null;this.a60=null;this.Yw=null;
this.body.setAttribute("style","padding:0");this.Xx=new cw("",null,null,!0);this.body.appendChild(this.Xx.m);
this.Xx.Z("click",this.wB,this);this.Xx.m.setAttribute("style","position:absolute; margin-top: -28px;  margin-left:150px");
this.Ej=L.S("span","form");this.body.appendChild(this.Ej);this.Ej.setAttribute("style","position:absolute; margin-top: -31px;  margin-left:270px");
this.Nt=[];for(var m=0;m<9;m++){var l=new cw(d3.a9R(m));this.Nt.push(l);if(m==_)l.c(!0);this.Ej.appendChild(l.m);
l.Z("click",this.a5t,this)}this.G$=new cw([5,3],null,null,!0);this.G$.Z("click",this.a8f,this);this.avo=new cw("Upload Current Document as a Template",null,null,!0);
this.avo.Z("click",this.afu,this);this.nj=new g_("Creator / Brand name");this.UG=new cw([1,2],null,null,!0);
this.UG.Z("click",this.gE,this);this.G9=L.S("iframe","scrollable");this.G9.setAttribute("style","border:none; margin:0; padding:0;");
this.ks=L.S("div","form scrollable padded");this.xn=new h4(_);this.xn.Z("back",this.ic,this);this.xn.Z("save",this.aqS,this);
this.body.appendChild(this.G9)}d3.prototype=new ai;d3.a9R=function(_){var n;if(_==0)n=[25,0];else if(_==1)n="Plugins";
else for(var O in gp.qZ)if(gp.qZ[O][4]==_)n=gp.qZ[O][3];return n};d3.prototype.a5t=function(_){var m=this.Nt.indexOf(_.target);
if(m==this.re)return;this.close();var n=new e_(H.E.L,!0);n.data={d:H.t.Rq,EW:"res"+m};this.$(n)};d3.prototype.a6$=function(_){this.wB();
this.AB=JSON.parse(_.target.response);this.ht()};d3.prototype.Lw=function(_,n){return new aW(0,0)};d3.prototype.A$=function(_,n){this.Qc=_;
this.bE=n;this.ii=null;n=n-4;_=_;var O=this.ks;O.style.width=_-12+"px";O.style.height=n-12+"px";var O=this.xn.m;
O.style.width=_-12+"px";O.style.height=n-12+"px";var O=this.G9;O.style.width=_+"px";O.style.height=n+"px";
this.S9()};d3.prototype.w1=function(_,n){this.Yw=_};d3.prototype.f=function(){ai.prototype.f.call(this);
for(var m=0;m<this.Nt.length;m++)this.Nt[m].f();this.G$.f()};d3.prototype.dN=function(_,n,O,l){this.ii=_;
this.wB(null,!1)};d3.prototype.wB=function(_,n){var O=n!=null?n:L.PZ(this.G9);if(O){if(!iM.BT()){alert("You need to log in first!");
return}var l=iM.gM();this.s1=l.tpl?l.tpl.list:[];this.nj.c(l.tpl&&l.tpl.brnd?l.tpl.brnd:"");this.S9()}else{this.G9.setAttribute("src","");
this.G9.setAttribute("src","templates/?type="+this.re+"&rsrc="+this.Yw.a4.join(","))}this.body.removeChild(this.body.children[this.body.children.length-1]);
this.body.appendChild(O?this.ks:this.G9);var x=hU.get(this.an);this.Xx.KM(O?"All "+x:"Add "+x)};d3.prototype.S9=function(){var _=hU.get(this.an),n=this.s1,O=this.re,V=450;
if(n==null)return;var l=this.ks;L.I$(l);var x=L.S("h1");l.appendChild(x);x.textContent="Share your "+_+" with the world!";
var t=L.S("ul");l.appendChild(t);var h=L.S("li");t.appendChild(h);h.textContent="By publishing your "+_+", you agree to let others use them for all kinds of purposes, even commercially.";
l.appendChild(this.G$.m);if(O==0)l.appendChild(this.avo.m);L.z0(l);l.appendChild(this.nj.m);l.appendChild(this.UG.m);
L.z0(l);V=(this.Qc-20)/Math.max(1,Math.floor(this.Qc/V))-42;var y="display:inline-block; width:"+V+"px; height:140px;  overflow:hidden; background-color:rgba(255,255,255,0.2);  margin:10px 20px 0px 0; line-height:1.5em; padding:10px;";
for(var m=n.length-1;m>=0;m--){var r=n[m];if(r.type==null)r.type=0;if(r.type!=O)continue;var E=L.S("div");
l.appendChild(E);E.setAttribute("style",y);var a=L.S("img");E.appendChild(a);a.setAttribute("src",r.thmb);
a.setAttribute("style","float:left; height:10em; width:10em;  object-fit: contain; margin-right: 1em; margin-bottom:1em;");
var S=L.S("h3");E.appendChild(S);S.textContent=r.name;S.setAttribute("style","margin:0 0 10px 0");var e=L.S("p");
E.appendChild(e);e.textContent=r.desc;e.setAttribute("style","height:76px;  overflow:hidden; margin-bottom: 6px;");
for(var P=0;P<2;P++){var b=new cw(P==0?"Edit":"Delete",null,null,!0);b.ad5=m;b.ht=P==0;b.Z("click",this.avB,this);
E.appendChild(b.m)}}};d3.prototype.afu=function(_){if(this.ii==null){alert("No document opened.");return}var n=confirm("Your document will be uploaded to Photopea.com and a preview to Imgur.com. Proceed?");
if(!n)return;var O=new e_(H.E.L,!0);O.data={d:H.t.lH,Ol:"psd",dD:this.a9f.bind(this)};this.$(O)};d3.prototype.a9f=function(_){this.a51=_;
var n=new e_(H.E.L,!0);n.data={d:H.t.lH,Ol:"jpg",dD:this.a2Y.bind(this),ak8:1400};this.$(n)};d3.prototype.a2Y=function(_){this.Kp={type:0,catg:0,desc:"",file:this.a51,name:this.ii.name.split(".")[0],thmb:_,publ:!0,utme:""};
this.ht()};d3.prototype.a8f=function(_){this.Kp={type:0,catg:0,desc:"",file:"",name:"",thmb:"",publ:!0,utme:""};
this.ht()};d3.prototype.avB=function(_){this.Bd=_.target.ad5;if(!_.target.ht){if(!window.confirm("Are you sure you want to delete your template?"))return;
this.s1.splice(this.Bd,1);this.gE();this.S9();return}this.ht()};d3.prototype.ht=function(){if(L.PZ(this.ks))this.body.removeChild(this.ks);
this.body.appendChild(this.xn.m);var _=this.Kp?this.Kp:this.AB?this.AB:this.s1[this.Bd];if(_.type==null)_.type=0;
this.xn.c(_)};d3.prototype.aqS=function(_){var n=this.xn.b();if(this.Kp)this.s1.push(n);else if(this.AB){var O=this.a60;
iM.Mt(O[0],O[1],this.ic.bind(this),JSON.stringify(n));return}else this.s1[this.Bd]=n;this.gE();this.ic()};
d3.prototype.ic=function(){var _=this.AB;this.Kp=null;this.AB=null;this.body.removeChild(this.xn.m);
this.body.appendChild(this.ks);this.S9();if(_)this.wB()};d3.prototype.gE=function(){var _=iM.gM();if(this.s1.length==0)delete _.tpl;
else{_.tpl={list:JSON.parse(JSON.stringify(this.s1))};var n=this.nj.b().trim();if(n!="")_.tpl.brnd=n}iM.kJ(_,function(){alert("Saved.")})};
function ac(){ai.call(this,"Make Selection","makesel");this.Yw=null;var _=L.S("div","form");this.body.appendChild(_);
this.Lq=new dE([12,25,1]);this.Lq.c(!0);_.appendChild(this.Lq.m);L.z0(_);this.dj=new gF(!0);_.appendChild(this.dj.m);
this.Q2=L.iu(this,this.body)}ac.prototype=new ai;ac.prototype.f=function(){ai.prototype.f.call(this);
this.dj.f();this.Lq.f();this.Q2.f()};ac.prototype.DW=function(_){var n=new e_(H.E.s,!0);n.G=D.vQ;n.data={d:"frompath",xV:[null,0,this.dj.b(),this.Lq.b()]};
this.close();this.$(n)};function g5(){ai.call(this,["VAR0 PSD/PSB",[1,2]],"savepsb");this.ii=null;this.p2=null;
this.xC=null;var _=this.a1t=L.S("div","form");_.setAttribute("style","width:20em");this.body.appendChild(_);
this.Yr=new im([12,50],["PSD","PSB"]);this.Yr.Z(H.E.A,this.DN,this);_.appendChild(this.Yr.m);L.q9(_);
var n=new an("Minify the file");_.appendChild(n.m);L.z0(_);var O=["Blank preview image","ZIP for pixel data","Remove Smart Object pixels","Put the file into ZIP"];
this.jm=[];for(var m=0;m<O.length;m++){var l=new dE(O[m]);this.jm.push(l);_.appendChild(l.m);l.Z(H.E.A,this.DN,this)}L.q9(_);
this.Cn=new an("aa.psd");this.oP=new an("10 kB");_.appendChild(this.oP.m);this.apV=new an("1000 B");
_.appendChild(this.apV.m);this.Q2=new cw([1,2],!0,null,!0);this.Q2.Z("click",this.DW,this);_.appendChild(this.Q2.m);
this.Gv=new cw(["VAR0 (Google Drive)",[1,2]],!0,null,!0);this.Gv.Z("click",this.DW,this);_.appendChild(this.Gv.m);
this.Z("closebtn",this.Sy,this)}g5.prototype=new ai;g5.prototype.dN=function(_,n,O,l){var x=L.PZ(this.Gv.m),t=_.bm!=null&&_.bm.gH=="psd";
if(t&&!x)this.a1t.appendChild(this.Gv.m);if(!t&&x)this.a1t.removeChild(this.Gv.m);for(var m=0;m<this.jm.length;
m++)this.jm[m].c(!1);this.ii=_;this.DN()};g5.prototype.DW=function(_){if(_.target==this.Q2)iR.save(this.p2,this.xC);
else{if(this.jm[3].b()){alert("You should not save a ZIP as a PSD to Google Drive.");return}cx.aiX(this.ii,this.p2)}};
g5.prototype.Sy=function(){this.ii=null;this.p2=null};g5.prototype.DN=function(){var _=this.ii,n=[!1,!1,!1,!1];
for(var m=0;m<3;m++)n[m]=this.jm[m].b();var O=this.jm[3].b(),l=n[3]=this.Yr.b()==1,x=_.name.slice(0,_.name.length-3),t=this.p2=dx.Jv("PSD").QI(_,0,0,n),ab=this.xC=x+"ps"+(l?"b":"d");
if(O){var h={};h[ab]=new Uint8Array(t);t=this.p2=UZIP.encode(h);ab=this.xC=x+"zip"}this.Cn.c(ab);this.oP.c(cH.Mi(t.byteLength));
this.oP.m.style["font-size"]="2em";this.apV.c(" \u2001 "+t.byteLength+" B");this.Q2.KM(hU.get([1,2])+" \""+ab+"\"")};
g5.prototype.f=function(){ai.prototype.f.call(this);this.Yr.f();this.Q2.f();this.Gv.f()};function b5(){ai.call(this,"Confirm","confirm");
this._f=null;var _=L.S("div");_.setAttribute("style","margin-bottom:1em");this.body.appendChild(_);this.vT=L.S("div");
this.vT.textContent="Hello";_.appendChild(this.vT);this.Q2=L.iu(this,this.body)}b5.prototype=new ai;
b5.prototype.DW=function(_){console.log("okconfirm");this.close();this._f()};b5.prototype.dN=function(_,n){if(n.a34)this.vT.innerHTML=n.h;
else this.vT.textContent=n.h;this._f=n._f;this.Q2.m.focus();if(n.a34!=null)this.m.style.top=Math.random()*(window.innerHeight-150)+"px";
this.arX=n.a34!=null};b5.prototype.Lw=function(_,n){return new aW(Math.max(0,(_-500)/2),Math.max(0,Math.min(60,(n-100)/2)))};
b5.prototype.A$=function(_,n){this.vT.style.width=_-30+"px"};function hg(){ai.call(this,[1,16,2],"newartb");
this.g8=0;this.OT=null;var _=L.S("div","form");_.style.width="260px";this.body.appendChild(_);this.gW=new gE;
_.appendChild(this.gW.m);this.Q2=L.iu(this,_)}hg.prototype=new ai;hg.prototype.pq=function(_,n){return _!=null};
hg.prototype.DW=function(_){var n=this.gW.b();this.OT.a=n.x;this.OT.n=n.y;var O=new e_(H.E.s,!0);O.G=D.KV;
O.data={a1a:this.OT,or:this.g8};this.$(O);this.close()};hg.prototype.f=function(){ai.prototype.f.call(this);
this.gW.f();this.Q2.f()};hg.prototype.dN=function(_,n){this.g8=n.or;var O=new a8(0,0,_.a,_.n);if(_.g.length!=0){var l=_.B[_.g[0]];
if(l.add.artb){O=l.DM();O.x+=O.a+100}if(n.or==1)O=D.D6.kf(_)}this.OT=O;this.gW.c(new aW(O.a,O.n))};function iG(){ai.call(this,"Storage","storwindow");
this.body.setAttribute("style","padding:0");this.IT=null;this.Z("closebtn",this.fm,this);this.Z("canclose",this.fm,this)}iG.prototype=new ai;
iG.prototype.w1=function(_,n){if(this.IT)this.IT.w1(_,n)};iG.prototype.Lw=function(_,n){return new aW(Math.max(0,Math.min(150,(_-980)/2)),Math.max(0,Math.min(150,(n-590)/2)))};
iG.prototype.A$=function(_,n){this.Qc=_;this.bE=n;_=Math.min(_,980);n=Math.min(n,590);if(this.IT)this.IT.A$(_,n)};
iG.prototype.f=function(){ai.prototype.f.call(this);if(this.IT)this.IT.f()};iG.prototype.dN=function(_,n,O,l){this.a7=n.or==0?"Open from Storage":"Save to Storage";
this.f();if(this.IT==null){this.IT=new ju;this.IT.parent=this;this.body.appendChild(this.IT.m);this.f();
this.A$(this.Qc,this.bE)}Storage.jO(n.or,_?_.name:"");ju.K2(this.IT)};iG.prototype.fm=function(_){Storage.jO(0);
ju.qf();if(_.type=="canclose")this.close()};function jH(){ai.call(this,"Variables","varsdats");var _=this.iD=L.S("div","form");
_.setAttribute("style","width:300px");this.body.appendChild(_);this.ii=null;this.KJ=0;this.Yw=null;this.R6=new im(null,["Variables","Data Sets",[1,8]]);
this.R6.Z(H.E.A,this.aci,this);this.ni=new jH.J4;this.xJ=new jH.xi;this.Si=new jH.sB;this.xJ.Z("activate",this.XO,this);
this.Si.Z("export",this.UZ,this);this.Q2=L.iu(this)}jH.prototype=new ai;jH.prototype.aci=function(_){var n=this.R6.b(),O=this.iD;
L.I$(O);O.appendChild(this.R6.m);L.q9(O);O.appendChild([this.ni,this.xJ,this.Si][n].m);O.appendChild(this.Q2.m)};
jH.prototype.DW=function(_){var n=new e_(H.E.s,!0);n.G=D.Ko;n.data={d:v.US,h:JSON.stringify([this.ni.b(),this.xJ.b()])};
this.$(n);this.close()};jH.prototype.f=function(){ai.prototype.f.call(this);this.Q2.f();this.Si.f()};
jH.prototype.dN=function(_,n){this.ii=_;if(_==null)return;this.ni.dN(_,n);this.xJ.dN(_,n);this.R6.c(0);
this.aci();this.KJ=0};jH.prototype.w1=function(_,n){this.Yw=_};jH.prototype.UZ=function(_){var n=this.ni.b(),O=this.xJ.b(),l=this.Si.b();
if(n.length==0){alert("There are no variables.");return}if(O.length==0){alert("There are no data sets.");
return}var x=dx.aiM(this.ii,n,O,this.xJ.aqf(),l[0],l[1],this.Yw,this);if(x!=null)iR.save(x,"images.zip")};
jH.prototype.XO=function(_){var n=this.xJ.g,O=this.ni.b(),l=this.xJ.b();if(O.length==0){alert("There are no variables.");
return}if(l.length==0){alert("There are no data sets.");return}this.xy();this.KJ+=dx.q5(this.ii,this,O,l,this.xJ.aqf(),n)};
jH.prototype.xy=function(){var _=new e_(H.E.s,!0);_.G=D.kF;_.data={d:"h_stepbck"};while(this.KJ>0){this.$(_);
this.KJ--}};jH.sB=function(){b1.call(this);var _=this.m=L.S("div");this.dY=["JPG","PNG","PDF"];this.Yr=new im([12,50],this.dY);
this.Yr.Z(H.E.A,this.a72,this);_.appendChild(this.Yr.m);this.rp=new g9;_.appendChild(this.rp.m);this.a72();
this.SJ=new cw("Export all items",!0,null,!0);this.SJ.Z("click",this.UZ,this);_.appendChild(this.SJ.m)};
jH.sB.prototype=new b1;jH.sB.prototype.f=function(_){this.Yr.f();this.SJ.f();this.rp.f()};jH.sB.prototype.a72=function(_){var n=this.dY[this.Yr.b()];
this.rp.RA(n)};jH.sB.prototype.UZ=function(_){this.$(new e_("export"))};jH.sB.prototype.b=function(){var _=this.dY[this.Yr.b()];
return[_,this.rp.b()]};jH.xi=function(){b1.call(this);this.iO=null;this.aJ=[];this.g=0;var _=this.m=L.S("div","form");
this.xT=new bk("Import a CSV file");_.appendChild(this.xT.m);this.xT.Z(H.E.A,this.auG,this);this.jD=L.S("div","scrollable");
this.jD.setAttribute("style","overflow:scroll;  height:234px;");_.appendChild(this.jD);this.aps=new bk("Source Images",!0);
_.appendChild(this.aps.m)};jH.xi.prototype=new b1;jH.xi.prototype.auG=function(_){var n=this.xT.b();
for(var O in n){n=n[O];break}this.iO=eX.GQ(R.hm(n));this.H1()};jH.xi.prototype.aqf=function(){return this.aps.b()};
jH.xi.prototype.dN=function(_,n){var O=this.iO=JSON.parse(JSON.stringify(_.dm));this.H1()};jH.xi.prototype.b=function(){return this.iO};
jH.xi.prototype.H1=function(){var _=this.Ny.bind(this),n=this.iO,l="max-width: 100px; overflow:hidden; white-space: nowrap; border: 1px solid; padding:0px 5px;";
this.aJ=[];var O=L.S("table");O.setAttribute("style","border-collapse: collapse;");for(var m=0;m<n.length;
m++){var x=L.S("tr"),t=n[m],h=m==0?"th":"td";O.appendChild(x);var V=L.S(h);x.appendChild(V);V.setAttribute("style",l+"cursor:pointer;");
if(m!=0)V.textContent="\u2713";this.aJ.push(V);V.addEventListener("click",_,!1);for(var y=0;y<t.length;
y++){var V=L.S(h);V.textContent=t[y];x.appendChild(V);V.setAttribute("style",l);V.setAttribute("title",t[y])}}L.I$(this.jD);
this.jD.appendChild(O)};jH.xi.prototype.Ny=function(_){this.g=this.aJ.indexOf(_.currentTarget);this.$(new e_("activate"))};
jH.J4=function(){b1.call(this);var _=this.m=L.S("div","form marged");this.oF=null;this.hV=[];this.aA=[];
this.VL=null;this.n3=new cB([0,3],[]);this.n3.Z(H.E.A,this.aqt,this);_.appendChild(this.n3.m);this._y=[];
var n=["Visibility","Text Content","Pixel Content"];for(var m=0;m<n.length;m++){L.q9(_);var O=new dE(n[m]);
O.Z(H.E.A,this.E3,this);_.appendChild(O.m);L.z0(_);var l=new g_("Variable Name");l.Z(H.E.A,this.E3,this);
_.appendChild(l.m);this._y.push(O,l)}};jH.J4.prototype=new b1;jH.J4.prototype.E3=function(_){var n=this.n3.b(),O=this.VL[n],l=this.hV[n],x=this.oF["l"+O],t=this._y;
if(x==null)this.oF["l"+O]=x=[];while(x.length!=0)x.pop();for(var m=0;m<3;m++){var h=t[2*m+1].b();if(!t[2*m].b())continue;
var V={varName:h,trait:["visibility","textcontent","fileref"][m]};x.push(V);if(m==2){V.align="center";
V.clip="false";V.placementMethod="fit";V.valign="middle"}}if(x.length==0)delete this.oF["l"+O];this.dN()};
jH.J4.prototype.aqt=function(_){var n=this.n3.b(),O=this.VL[n],l=this.hV[n],x=this.oF["l"+O],t=this._y;
if(x==null)x=[];for(var m=0;m<3;m++){var h=m==0||m==1&&l==0||m==2&&l==1;t[2*m].Nf(h);t[2*m].c(!1);t[2*m+1].Nf(h);
t[2*m+1].c("")}for(var m=0;m<x.length;m++){var V=x[m],y=V.trait,r=["visibility","textcontent","fileref"].indexOf(y);
t[r*2].c(!0);t[r*2+1].c(V.varName)}};jH.J4.prototype.dN=function(_,n){if(_){var O=JSON.parse(JSON.stringify(_.Pp)),l=this.oF={};
for(var m=0;m<O.length;m++){var x=O[m],t=x.docRef;t="l"+t.slice(4,t.length-2);if(l[t]==null)l[t]=[];
l[t].push(x)}this.VL=[];this.hV=[];this.aA=[];for(var m=_.B.length-1;m>=0;m--){var h=_.B[m],t=h.add.lyid;
if(h.getName()=="</Layer group>")continue;this.VL.push(t);this.hV.push(h.add.TySh?0:1);this.aA.push(h.getName())}}var V=[],y=this.aA;
for(var m=0;m<y.length;m++){V.push(y[m]+(this.oF["l"+this.VL[m]]?" *":""))}var r=this.n3.b();this.n3.aV(V);
this.n3.c(r);this.aqt()};jH.J4.prototype.b=function(){var _=this.oF,n=[];for(var O in _){var l=_[O];
for(var x=0;x<l.length;x++){l[x].docRef="id('"+O.slice(1)+"')";n.push(l[x])}}return n};function hv(){ai.call(this,["VAR0 VAR1",[15,10,22],[8,11,0]],"divslice");
this.kS=!1;var _=this.ZO=[],n=L.S("div","form");n.setAttribute("style","width:20em");this.body.appendChild(n);
for(var m=0;m<2;m++){var O=new dE([22,4,2+m]);n.appendChild(O.m);L.z0(n);var l=new im(null,[["N equal parts"],["N pixels per part"]]);
n.appendChild(l.m);L.z0(n);var x=new bd("N",0,1e3);x.c(4);x.parent=this;n.appendChild(x.m);L.z0(n);if(m==0)L.q9(n);
_.push(O,l,x)}for(var m=0;m<_.length;m++)_[m].Z(H.E.A,this.CP,this);_.push(L.iu(this,n));this.Z("closebtn",this.xy,this)}hv.prototype=new ai;
hv.prototype.xy=function(){if(this.kS){var _=new e_(H.E.s,!0);_.G=D.kF;_.data={d:"h_stepbck"};this.$(_)}};
hv.prototype.CP=function(_){this.xy();this.kS=!0;var n=[];for(var m=0;m<6;m++)n.push(this.ZO[m].b());
var O={__name:"Divide",classID:"divide",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"slice",typeID:"Ordn",enum:"Trgt"}}]}};
for(var l=0;l<2;l++){if(!n[l*3])continue;var x=n[l*3+1],t=n[l*3+2];O[["slices","pixels"][x]+["Across","Down"][l]]={t:"long",v:t}}var h=new e_(H.E.yy,!0);
h.data={et:"divide",ot:O};this.$(h)};hv.prototype.DW=function(_){this.close()};hv.prototype.f=function(){ai.prototype.f.call(this);
var _=this.ZO;for(var m=0;m<_.length;m++)_[m].f()};hv.prototype.dN=function(_,n){this.kS=!1};function as(_,n,O,l){b1.call(this);
this.name=_;this.anH=O;this.hx=l;this.He=L.S("div","");this.He.setAttribute("draggable","true");this.$i=L.S("div","pbody");
this.yU=new cw("",!1,"");this.yU.parent=this;this.ahu=L.S("span","cross gsicon");this.Cv=L.S("span","label");
var x=this.ag2.bind(this);this.He.addEventListener("mousedown",this.afG.bind(this),!1);this.He.addEventListener("contextmenu",x,!1);
this.yU.m.addEventListener("contextmenu",x,!1);this.ahu.addEventListener("mousedown",this.nX.bind(this),!1);
this.He.appendChild(this.Cv);if(n)this.He.appendChild(this.ahu);this.$C=!1;this.Cv.textContent=_}as.prototype=new b1;
as.prototype.Ji=function(){return null};as.prototype.f=function(){var _=hU.get(this.name),n=!1,O=this.Qc==0?22:Math.round(2+this.Qc/50);
if(_.endsWith(" *")){n=!0;_=_.slice(0,_.length-2);O-=2}var l=_.length>O;this.Cv.textContent=l?_.slice(0,O-2):_;
if(l)for(var x=0;x<2;x++){var t=L.S("span");t.textContent=_.charAt(O-2+x);t.setAttribute("style","opacity:"+(.6-x*.4));
this.Cv.appendChild(t)}if(n){var t=L.S("span");t.textContent=" *";this.Cv.appendChild(t)}var h=_.split(" "),V=h.length==2?h[0].substring(0,2)+h[1][0]:_.substring(0,3);
if(V.charCodeAt(0)>=11776)V=V.substring(0,1);var y=this.anH;if(y==null)this.yU.KM(V,_);else{var r;if(y.startsWith("---"))r="<img src=\""+PIMG[y.slice(3)]+"\" class=\"autoscale gsicon\" style=\"margin:2px 4px;\"/>";
else if(y.startsWith("==="))r="<img src=\""+y.slice(3)+"\" class=\"autoscale gsicon\" style=\"margin:2px 4px;\"/>";
else if(y.indexOf("\"")==-1)r="<img src=\""+y+"\" alt=\""+L.RI(_).replace(/"/g,"&quot;")+"\" height=\"18\" width=\"18\" loading=\"lazy\" style=\"margin:1px 3px;\" />";
this.yU.KM(r,_)}};as.prototype.enable=function(){this.$i.className="pbody"};as.prototype.disable=function(){this.$i.className="pbody disabled"};
as.prototype.w1=function(_,n){};as.prototype.dN=function(_,n,O){};as.prototype.m3=function(_){};as.prototype.A$=function(_,n){};
as.prototype.T7=function(_){this.name=_;this.f()};as.prototype.lY=function(){};as.prototype.afG=function(_){if(_.button==0)this.$(new e_("select",!1))};
as.prototype.ag2=function(_){L.bO(_);if(this.hx!=null&&isNaN(this.hx))return;var n=L.q1(_,document.body),O=this.ny;
if(O==null){O=this.ny=new dW([{name:[1,12,0]}]);this.ny.Z("select",this.nX,this)}O.update(null);O.f();
O.parent=this;var l=new e_(H.E.L,!0);l.data={d:H.t.X3,B_:O,x:n.x+1,y:n.y+1};this.$(l)};as.prototype.kZ=function(){this.nX({})};
as.prototype.nX=function(_){if(_.stopPropagation)_.stopPropagation();if(this.hx!=null&&!isNaN(this.hx)){var n=new e_(H.E.L,!0);
n.data={d:H.t.sa,B_:this.ny};this.$(n);n.data={d:H.t.Gf,nZ:gp.fZ,h:parseFloat(this.hx),E5:"del"};this.$(n)}else if(this.a8o())this.$(new e_(H.E.DJ,!1))};
as.prototype.a8o=function(_){return!0};as.prototype.Ta=function(_,n,O,l,x){};as.prototype.Xg=function(_,n,O,l,x){};
as.prototype.PF=function(_,n,O,l,x){};as._X=function(_,n,O){if(_.childElementCount!=0)return;var l=_.textContent;
this.sh=this.adH.bind(this);this.a49=this.aq1.bind(this);this.V8=n;this.aa_=O;this.KA=_;this.agK=l;var x=L.S("input","");
x.setAttribute("type","text");x.setAttribute("size","10");x.setAttribute("value",l);L.I$(_);_.appendChild(x);
x.select();x.focus();L.vw(_);_.addEventListener("keyup",this.sh,!1);document.body.addEventListener("mousedown",this.a49,!1)};
as._X.prototype.adH=function(_){var n=bJ.ZZ,O=n(_.code,bJ.Vn);if(n(_.code,bJ.rF)||O)this.an$(O)};as._X.prototype.aq1=function(_){var n=_.target;
if(n.tagName&&n.tagName.toLowerCase()=="input")return;this.an$(!0)};as._X.prototype.an$=function(_){var n=this.KA,O=n.firstChild.value;
n.removeEventListener("keyup",this.sh);document.body.removeEventListener("mousedown",this.a49);if(this.aa_||_&&O!=""&&O!=this.agK){this.V8(O)}else{L.I$(n);
n.textContent=this.agK}};as.n0={kF:"0",a5f:"1",Ko:"2",ak7:"3",abe:"4",RG:"5",CSS:"6",fQ:"7",auU:"8",amh:"9",a2F:"10",a37:"11",a2Z:"12",La:"13",oy:"14",a3C:"15",amu:"16",mr:"17",akk:"18",agy:"19",aeH:"20",co:"21",agx:"22"};
function aT(){as.call(this,[9,9],!1,"---panels/actions",as.n0.a37);this.Yw=null;this.qU=[0,0]}aT.prototype=new as("");
aT.prototype.Ph=function(){if(!L.PZ(this.$i)||this.Zd)return;this.Zd=L.S("div","padded scrollable");
this.Zd.setAttribute("style","width:260px;  height:260px");this.$i.appendChild(this.Zd);this.Z(H.E.A,this.gZ,this);
this.Hu=L.S("div","lpfoot");this.$i.appendChild(this.Hu);this.uY=[];var _="<svg  class=\"miniscale gsicon\" viewBox=\"0 0 15 15\" width=\"15\" height=\"15\" fill=\"black\">",n="</svg>",O=_+"<path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" />"+n,l=_+"<path d=\"M0,0 L15,7.5 L0,15 Z\" />"+n;
this.aaC=_+"<circle cx=\"7.5\" cy=\"7.5\" r=\"7.5\" />"+n;this.a1d=_+"<path d=\"M1,1 L14,1 L14,14 L1,14 Z\" />"+n;
var x=[this.aaC,l,"lrs/folder","lrs/newlayer","lrs/bin",O],t=[[15,8,0],[5,8],[15,8,1],[15,8,2],[5,4],[1,2]];
for(var m=0;m<x.length;m++){var h=x[m];if(1<m&&m!=x.length-1)h="<img src=\""+PIMG[x[m]]+"\" class=\"miniscale gsicon\" />";
var V=new cw(h,!1,t[m]);V.Z("click",this.axL,this);this.Hu.appendChild(V.m);this.uY.push(V)}this.H1()};
aT.prototype.f=function(){as.prototype.f.call(this);if(this.Zd==null)return;for(var m=0;m<this.uY.length;
m++)this.uY[m].f()};aT.prototype.axL=function(_){var m=this.uY.indexOf(_.currentTarget),n=this.qU,O=this.Yw,l=O.mN;
if(m==0){var x,t=O.j7;if(l.length==0){alert("Create an Action Set first.");return}if(n.length<2){alert("Select a target action first.");
return}if(t==null){x=this.a1d;t=this.qU}else{x=this.aaC;t=null}this.uY[0].KM(x);O.j7=t}else if(m==1)this.afE();
else if(m==2||m==3){var h={hM:"Action Set "+l.length,l_:[],exp:!0};if(m==2||l.length==0){n=[l.length];
l.push(h)}if(m==3){var V=l[n[0]].l_;n=[n[0],V.length];V.push({hM:"Action "+V.length,color:0,l_:[],a8H:!1,shift:!1,exp:!0,tE:V.length})}this.qU=n;
this.H1()}else if(m==4){var y;if(n.length==1)y=l;else if(n.length==2)y=l[n[0]].l_;else y=l[n[0]].l_[n[1]].l_;
var r=n.length-1;y.splice(n[r],1);if(y.length==0)n.pop();else while(n[r]>=y.length)n[r]--;if(n.length==0)n.push(0);
this.H1()}else if(m==5){if(l.length==0){alert("No Actions Present.");return}var E=new e_(H.E.L,!0);E.data={d:H.t.mB,asT:gp.s,Ky:n[0]};
this.$(E)}};aT.prototype.gZ=function(_){var n=this.Yw.mN,O=_.data.d,l=_.data.Ua;if(O=="sel")this.qU=l;
if(O=="fold"){if(l.length==1)n[l[0]].exp=!n[l[0]].exp;else n[l[0]].l_[l[1]].exp=!n[l[0]].l_[l[1]].exp}if(O=="enab"){var x=n[l[0]].l_[l[1]].l_[l[2]];
x.w=!x.w}if(O=="nchange"){if(l.length==1)n[l[0]].hM=_.data.Cq;else n[l[0]].l_[l[1]].hM=_.data.Cq}this.H1()};
aT.prototype.dN=aT.prototype.lY=function(){this.Ph()};aT.prototype.w1=function(_,n){this.Yw=_;if(this.Zd==null)return;
if(n==gp.s||n==gp.WB)this.H1()};aT.prototype.H1=function(){if(this.Yw==null)return;L.I$(this.Zd);var _=this.Yw.mN;
if(_.length==0)return;var n=JSON.stringify(this.qU);for(var m=0;m<_.length;m++){var O=_[m],l=new aT.gB([m],n,O.exp,O.hM.split("=").pop());
l.parent=this;this.Zd.appendChild(l.m);if(!O.exp)continue;for(var x=0;x<O.l_.length;x++){var t=O.l_[x],l=new aT.gB([m,x],n,t.exp,t.hM.split("=").pop());
l.parent=this;this.Zd.appendChild(l.m);if(!t.exp)continue;for(var h=0;h<t.l_.length;h++){var V=t.l_[h],l=new aT.gB([m,x,h],n,null,hU.get(g3.afi(V)),V.w);
l.parent=this;this.Zd.appendChild(l.m)}}}};aT.prototype.afE=function(){var _=this.Yw.mN,n=this.qU;if(_.length==0){alert("No Actions Present");
return}if(n.length==1){alert("Select an Action first");return}if(this.Yw.j7!=null){alert("You can not apply actions while recording actions");
return}if(n.length==1)n.push(0);var O=_[n[0]],l=O.l_[n[1]],x=new e_(H.E.L,!0);x.data={d:H.t.kW,xV:[l.hM,O.hM]};
this.$(x)};aT.gB=function(_,n,O,l,x){b1.call(this);this.Ua=_;var t=this.Ua.length-1;this.m=L.S("div","layeritem"+(JSON.stringify(_)==n?" selected":""));
this._O=L.S("div","head");this.m.appendChild(this._O);this._O.setAttribute("style","height:24px");this.N7=L.S("div","headL");
this._O.appendChild(this.N7);if(t!=0){var h=L.S("div");h.style.width=t*20+"px";this.N7.appendChild(h)}if(O!=null){var V=this.aru=L.S("div",O?"open":"closed");
this.N7.appendChild(V)}else{var y=this.aux=L.S("div","cmark");y.setAttribute("style","background-size:12px 12px; opacity:"+(x?1:.3));
this.N7.appendChild(y)}if(t==0){var r=L.S("div","folder");this.N7.appendChild(r)}var E=this.Cv=L.S("div","label");
E.textContent=l;this.N7.appendChild(E);this.m.addEventListener("mouseup",this.XO.bind(this),!1)};aT.gB.prototype=new b1;
aT.gB.prototype.XO=function(_){if(_.detail==1&&_.target.tagName.toLowerCase()!="input"){var n="sel";
if(_.target==this.aru)n="fold";if(_.target==this.aux)n="enab";var O=new e_(H.E.A,!0);O.data={d:n,Ua:this.Ua};
this.$(O)}else if(this.Ua.length<3)var l=new as._X(this.Cv,this.V8.bind(this))};aT.gB.prototype.V8=function(_){var n=new e_(H.E.A,!0);
n.data={d:"nchange",Cq:_,Ua:this.Ua};this.$(n)};function cg(){as.call(this,[3],!1,"---lrs/adj",as.n0.akk)}cg.prototype=new as("");
cg.prototype.Ph=function(){if(!L.PZ(this.$i)||this.uY)return;this.$i.setAttribute("style","text-align:center;  padding:6px; min-width:220px");
this.uY=[];var m=0;for(var _ in a3.names){var n=new cw("<img src=\""+PIMG["adj/"+_]+"\" class=\"autoscale gsicon\" style=\"margin:4px 4px;\"/>",!1,a3.names[_]);
n.Z("click",this.air,this);this.uY.push(n);this.$i.appendChild(n.m);if(m==4||m==10)L.z0(this.$i);m++}this.f()};
cg.prototype.dN=function(){this.Ph()};cg.prototype.lY=function(){this.Ph()};cg.prototype.f=function(){as.prototype.f.call(this);
if(this.uY==null)return;for(var m=0;m<this.uY.length;m++)this.uY[m].f()};cg.prototype.air=function(_){var n=this.uY.indexOf(_.target),O=a5.AY()[n],l=new e_(O.Y,!0);
l.data=O.W;this.$(l)};function g7(){as.call(this,[12,22],!1,null,as.n0.co);this.Zd=L.S("div","padded");
this.Yw=null;this.$i.appendChild(this.Zd);this.q_=new h0(null,17.7,10);this.q_.parent=this;this.q_.Z(H.E.A,this.CP,this);
this.Zd.appendChild(this.q_.FG)}g7.prototype=new as("");g7.prototype.CP=function(_){var n=this.q_.b(),O=new e_(H.E.s,!0);
O.data={d:"setstl",h:n.Zg};O.G=D.rV;this.$(O);O.data={d:"confirm"};this.$(O)};g7.prototype.w1=function(_,n){this.Yw=_;
this.H1()};g7.prototype.H1=function(){var _=this.Yw,n=_.xB;this.q_.H5([n,_.LK])};g7.prototype.dN=function(){this.H1()};
g7.prototype.lY=function(){this.H1()};var kp=function(){function _(){as.call(this,[9,3],!1,"---panels/brush",as.n0.fQ);
this.Ov=null;this.Yw=null}_.prototype=new as("");_.prototype.Ph=function(){var x=L.S("div","");this.$i.appendChild(x);
this.YA=L.S("div","bordered cell");this.YA.setAttribute("style","width:10em; height:28.5em;");x.appendChild(this.YA);
this.wt=[];this.Ap=null;this.NG=[];var t=this.aeJ.bind(this);this.uE=[new O("basic"),new O("useTipDynamics"),new O("useScatter"),new O("useColorDynamics"),new O("usePaintDynamics")];
for(var m=0;m<this.uE.length;m++){var h=L.S("div","listitem"),V=this.uE[m],r=null;V.parent=this;V.Z("brushchange",this.as0,this);
var y=V.sp;if(m==0){this.Ap=new an(y);h.appendChild(this.Ap.m)}else{r=new dE(y,!1);r.Z(H.E.A,this.auN,this);
h.appendChild(r.m)}this.NG.push(r);this.YA.appendChild(h);this.wt.push(h);h.addEventListener("click",t,!1)}this.To=L.S("div","cell padded");
x.appendChild(this.To);this.setItem(0);this.T=L.S("canvas");this.T.height=10;x.appendChild(this.T);this.Y0=this.T.getContext("2d");
this.t6()};_.prototype.A$=function(x,t){if(this.Qc==x)return;this.Qc=x;this.bE=t;this.t6()};_.prototype.lY=function(){if(!L.PZ(this.$i))return;
if(this.YA){this.t6();return}this.Ph();this.f();this.w1(this.Yw,gp.WB)};_.prototype.f=function(){as.prototype.f.call(this);
if(this.YA==null)return;this.Ap.f();for(var m=1;m<this.NG.length;m++)this.NG[m].f();for(var m=0;m<this.uE.length;
m++)this.uE[m].f()};_.prototype.as0=function(x){var t=this.uE.indexOf(x.currentTarget),h=JSON.parse(JSON.stringify(this.uE[t].Ov)),V=new e_(H.E.L,!0);
V.data={d:H.t.Gf,nZ:gp.D7,Ov:h};this.$(V)};_.prototype.auN=function(x){this.a0B(this.NG.indexOf(x.currentTarget),x.currentTarget.ua())};
_.prototype.aeJ=function(x){var m=this.wt.indexOf(x.currentTarget);if(x.target.tagName.toLowerCase()=="input")return;
if(this.NG[m]&&!this.NG[m].ua()){this.NG[m].tV();this.a0B(m,!0)}this.setItem(m)};_.prototype.a0B=function(x,t){this.uE[x].aiA(t)};
_.prototype.setItem=function(x){for(var m=0;m<this.uE.length;m++)this.wt[m].className="listitem";if(this.To.firstChild)this.To.removeChild(this.To.firstChild);
this.wt[x].className="listitem selected";this.To.appendChild(this.uE[x].m)};_.prototype.w1=function(x,t){this.Yw=x;
if(this.YA==null)return;for(var m=0;m<this.uE.length;m++)this.uE[m].w1(x,t);if(t==gp.D7||t==gp.WB){this.Ov=x.V5.W5;
this.t6()}if(t==gp.La)this.t6()};_.prototype.t6=function(){if(this.Ov)this.enable();else{this.disable();
return}if(!L.PZ(this.$i))return;var x=this.Yw;for(var m=0;m<this.uE.length;m++){this.uE[m].c(this.Ov);
if(this.NG[m])this.NG[m].c(this.uE[m].ua())}var t=JSON.parse(JSON.stringify(this.Ov));t.Brsh.v.Dmtr.v.val=Math.min(t.Brsh.v.Dmtr.v.val,50);
L.Bw(this.T,this.Qc,80);var h=new a8(0,0,this.T.width,this.T.height),V=this.Yw.V5,y=new gh(t,V?V.y7:null,V?V.gg:null,{kX:1},x.KU,x.lV,h,null,0),r=h.n/2,E=h.a-r*2;
y.moveTo(r,r);for(var m=0;m<=E;m+=10)y.lineTo(r+m,r+20*Math.sin(2*Math.PI*m/E));y.finish();var a=this.Y0.createImageData(h.a,h.n);
Q.zw(y.eN(),y.kf(),a.data,h);this.Y0.putImageData(a,0,0)};function n(x){b1.call(this);x=x.split(".")[0];
this.dF=x;var t=this.m=L.S("span"),h=["Off","Fade"];h.push(x=="angleDynamics"?"Direction":"Pen Pressure");
var V=this.L8=new cB("Control",h);V.Z(H.E.A,this.E3,this);t.appendChild(V.m);var y=this.ab$=new bd(null,0,100,null,null,null,!0);
y.c(50);y.Z(H.E.A,this.E3,this)}n.prototype=new b1;n.prototype.c=function(x){x=x<2?x:2;this.L8.c(x);
this.H1()};n.prototype.b=function(){var x=this.L8.b(),t=this.dF;x=x<=1?x:t=="angleDynamics"?6:2;return x};
n.prototype.E3=function(x){this.H1();x.target=x.currentTarget=this;this.$(x)};n.prototype.H1=function(x){this.ab$.Nf(this.L8.b()==1)};
function O(x){b1.call(this);this.m=L.S("div");this.Ov=null;var t=["basic","useTipDynamics","useScatter","useColorDynamics","usePaintDynamics"].indexOf(x);
this.sp=[[15,0],[15,1],[15,2],[15,3],"Transfer"][t];this.g8=x;this.Gj={};this.aag=null;var h=["--br Brsh.Dmtr Brsh.Angl Brsh.Rndn Brsh.Hrdn Brsh.Spcn".split(" "),"szVr.jitter szVr.bVTy szVr.fStp minimumDiameter angleDynamics.jitter angleDynamics.bVTy angleDynamics.fStp roundnessDynamics.jitter minimumRoundness".split(" "),["scatterDynamics.jitter","Cnt","countDynamics.jitter"],["clVr.jitter","H","Strt","Brgh"],"opVr.jitter opVr.bVTy opVr.fStp prVr.jitter prVr.bVTy prVr.fStp".split(" ")][t];
for(var m=0;m<h.length;m++){var V=h[m],y;if(V=="--br"){y=new k8;this.m.appendChild(y.FG.firstChild)}else if(V=="Brsh.Dmtr")y=new jD([12,14,0],1,1e3," px",0,!0);
else if(V=="Brsh.Angl")y=new jD([12,15],0,359," \xB0");else if(V=="Brsh.Rndn")y=new jD([12,16],0,100," %");
else if(V=="Brsh.Hrdn")y=new jD([12,17],0,100," %");else if(V=="Brsh.Spcn")y=new jD([12,18],1,300," %");
else if(V=="szVr.jitter")y=new jD([15,4,0],0,100,"%");else if(V=="minimumDiameter")y=new jD([15,4,1],0,100,"%");
else if(V=="angleDynamics.jitter")y=new jD([15,4,2],0,100,"%");else if(V.endsWith("bVTy"))y=new n(V);
else if(V.endsWith("fStp"))y=new bd(null,0,100,null,null,null,!0);else if(V=="roundnessDynamics.jitter")y=new jD([15,4,3],0,100,"%");
else if(V=="minimumRoundness")y=new jD([15,4,4],1,100,"%");else if(V=="scatterDynamics.jitter")y=new jD([15,5,0],0,1e3," %");
else if(V=="Cnt")y=new jD([15,5,1],1,20);else if(V=="countDynamics.jitter")y=new jD([15,5,2],0,100," %");
else if(V=="clVr.jitter")y=new jD([15,6,0],0,100," %");else if(V=="H")y=new jD([15,6,1],0,100," %");
else if(V=="Strt")y=new jD([15,6,2],0,100," %");else if(V=="Brgh")y=new jD([15,6,3],0,100," %");else if(V=="opVr.jitter")y=new jD("Opacity Jitter",0,100," %");
else if(V=="prVr.jitter")y=new jD("Flow Jitter",0,100," %");else throw V;this.Gj[V]=y;y.parent=this;
y.Z(H.E.A,this.E3,this)}}O.prototype=new b1;O.prototype.ayk=function(){this.$(new e_("brushchange"))};
O.prototype.c=function(x){this.Ov=JSON.parse(JSON.stringify(x));this.m.className=this.ua()?"":"disabled";
this.t6()};O.prototype.f=function(){for(var x in this.Gj)this.Gj[x].f()};O.prototype.ua=function(){return!0};
O.prototype.w1=function(x,t){if(t==gp.fQ||t==gp.WB){var h=this.Gj["--br"];if(h)h.H5(x.V5)}};O.prototype.E3=function(x){var t=x.target,h=this.Gj,V;
for(var y in h)if(h[y]==t)V=y;if(V=="--br"){var E=new e_(H.E.L,!0);E.data={d:H.t.Gf,nZ:gp.D7,Ov:t.b()};
this.$(E)}else{var a=l(this.Ov,V),S=t.b();if(a){if(V.endsWith("bVTy")||V.endsWith("fStp")||V=="Cnt")a.v=S;
else a.v.val=S;this.ayk()}}};O.prototype.t6=function(){var x=this.Ov,t=x.Brsh.v.classID,h=this.Gj,V=t!=this.aag;
this.aag=t;if(V){L.I$(this.m);for(var y in h){if(t!="computedBrush"&&t!="sampledBrush"&&y=="Brsh.Rndn")continue;
if(t!="computedBrush"&&y=="Brsh.Hrdn")continue;var r=h[y],E=r.m;if(y=="--br"){E=r.JQ.m;E.style.width="auto"}this.m.appendChild(E)}}for(var y in h){if(y=="--br")continue;
var a=l(x,y),S;if(a){if(y.endsWith("bVTy")||y.endsWith("fStp")||y=="Cnt")S=a.v;else S=a.v.val;h[y].c(S);
if(y.endsWith("fStp"))h[y].Nf(l(x,y.split(".")[0]+".bVTy").v==1)}}};O.prototype.ua=function(){var x=this.g8;
return x=="basic"?!0:this.Ov[x].v};O.prototype.aiA=function(x){var t=this.g8;if(t=="basic")return;this.Ov[t].v=x;
bL.MJ.ah_(this.Ov);this.ayk()};function l(x,t){var h=t.split(".");x=x[h[0]];for(var m=1;m<h.length;m++){if(x==null)return x;
x=x.v[h[m]]}return x}return _}();function fc(){as.call(this,[9,0],!1,"---panels/history",as.n0.kF);this.$i.setAttribute("style","min-width:200px;");
this._M=L.S("div","hpbody scrollable");this._M.style.height="160px";this.$i.appendChild(this._M);this.alT=-1;
this.jP=[];this.c9="";this.Lj=new dW([{name:"Clear History"}],[{Y:H.E.s,G:D.kF,W:{d:"h_clear"}}])}fc.prototype=new as("");
fc.prototype.Ji=function(){return this.Lj};fc.prototype.A$=function(_,n){this.lY()};fc.prototype.dN=function(_){if(_==null){L.I$(this._M);
this.c9="";return}L.I$(this._M);var n=0;for(var m=0;m<_.history.length;m++)if(m<=_.Uh&&!_.history[m].v$)n=m;
for(var m=0;m<_.history.length;m++){var O=_.history[m];if(O.v$)continue;var l=new fB(O,m,n);l.parent=this;
this._M.appendChild(l.m);this.jP.push(l)}if(_.Uh==_.history.length-1)this.lY()};fc.prototype.lY=function(){this._M.scrollTop=this._M.scrollHeight};
fc.prototype.f=function(){as.prototype.f.call(this);for(var m=0;m<this.jP.length;m++)this.jP[m].f()};
function fB(_,m,n){b1.call(this);this.index=m;this.m=L.S("div",m==n?"listitem selected":"listitem");
this.an=_.name;this.f();if(m>n)this.m.style.opacity=.4;this.m.addEventListener("click",this.Ta.bind(this),!1)}fB.prototype=new b1;
fB.prototype.f=function(){this.m.textContent=hU.get(this.an)};fB.prototype.Ta=function(_){if(this.index==this.parent.alT)return;
this.IX({d:"h_itemchange",index:this.index})};fB.prototype.IX=function(_){var n=new e_(H.E.s,!0);n.data=_;
n.G=D.kF;this.$(n)};function iE(){as.call(this,[9,10],!1,"---panels/histogram",as.n0.abe);var _=L.S("div","padded");
this.$i.appendChild(_);this.Ez=new gq(256,!0);_.appendChild(this.Ez.m);this.ii=null}iE.prototype=new as("");
iE.prototype.dN=function(_){this.ii=_;this.H1()};iE.prototype.H1=function(){var _=this.ii;if(!L.PZ(this.$i))return;
if(_==null||_.g.length==0){this.Ez.c(Q.CO(Q.Q(4)));return}var n=_.Cs(),O=new a8(0,0,_.a,_.n),l=O.O();
if(_.P){var x=_.P.rect,t=Q.Q(x.O()*4);Q.zw(n,O,t,x);Q.iB(_.P.channel,t);n=t;O=x;var h=_.P.channel;l=0;
for(var m=0;m<h.length;m++)l+=h[m];l=Math.round(l/255)}var V=Q.CO(n);V[0][255]+=3*(l-V[5]);for(var m=1;
m<4;m++)V[m][255]+=l-V[5];this.Ez.c(V,l)};iE.prototype.w1=function(_,n){this.Ez.Is(js.O6[_.dn]["--text-color"])};
iE.prototype.f=function(){as.prototype.f.call(this);this.Ez.f()};iE.prototype.lY=function(){this.H1()};
function dr(){as.call(this,[9,8],!1,"---adj/clrL",as.n0.a5f);this.Zd=L.S("div","padded");this.$i.appendChild(this.Zd);
this.Wb=new ch(10);this.Zd.appendChild(this.Wb.m);this.aM=new fX;this.aM.parent=this;this.Zd.appendChild(this.aM.FG);
this.aM.FG.style.marginTop="6px";this.Wb.Z(H.E.A,this.a2U,this);this.aM.Z(H.E.A,this.a2U,this)}dr.prototype=new as("");
dr.prototype.a2U=function(_){var n;if(_.target==this.Wb)n=this.Wb.b();else{var O=this.aM.b();n=Math.round(O.o)<<16|Math.round(O.J)<<8|Math.round(O.k)}var l=new e_(H.E.L,!0);
l.data={d:H.t.Gf,nZ:gp.La,nz:0,h:n};this.$(l)};dr.fl=function(_,n){var O=n==gp.WB,l=_.k$,x=_.P3,t=x.strokeStyleContent.v,h=null;
if((n==gp.qP||O)&&l.xP==1){h=Q.N.JU(l.cK.Clr.v);h=h.o<<16|h.J<<8|h.k}if((n==gp.gf||O)&&x.strokeEnabled.v&&t.classID=="solidColorLayer"){h=Q.N.JU(t.Clr.v);
h=h.o<<16|h.J<<8|h.k}if(n==gp.La||O)h=_.KU;return h};dr.prototype.w1=function(_,n){var O=_.KU,l=n==gp.WB,x=dr.fl(_,n);
if(x!=null){this.Wb.c(x);this.aM.c({o:x>>>16&255,J:x>>>8&255,k:x>>>0&255,cR:"Color #"+Q.sN(x)})}if(n==gp.BB||l){var t=_.apK;
this.aM.H5(t)}};function at(){as.call(this,[12,72],!1,"---adj/mixr",as.n0.amu);this.jb=null;this._9=null;
this._M=L.S("div","lpbody scrollable");this._M.style.marginTop="4px";this.Hu=L.S("div","lpfoot");this.$i.appendChild(this._M);
this.$i.appendChild(this.Hu);this.m7=[];this.Z("click",this.yZ,this);this.Qp=[];at.TA([[17,2],"Save Selection as Channel",[5,3],[5,4]],this.Qp,this.Hu,this.qy.bind(this),this.ay.bind(this));
this.Lj=new dW([{name:"Merge Channels",r8:!0}],[{Y:H.E.L,W:{d:H.t.Rq,EW:"mergechannels"}}])}at.prototype=new as("");
at.prototype.Ji=function(){return this.Lj};at.TA=function(_,n,O,l,x){for(var m=0;m<_.length;m++){var t=new cw("W",!1,_[m]);
n.push(t);L.a9(t.m,l);O.appendChild(t.m);var h=t.m;h.addEventListener("drop",x,!1);h.addEventListener("dragover",function(V){V.preventDefault()},!1);
h.addEventListener("dragenter",L.bO,!1)}};at.vr=function(_,n){for(var m=0;m<_.length;m++)if(_[m].m==n.currentTarget)return m};
at.prototype.qy=function(_){var n=at.vr(this.Qp,_);if(n==0)this.$(i3.k5(!0,null,_));else{n--;var O=new e_(H.E.yy,!0),l={classID:"null"};
if(n==0)l.null={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]};else if(n==1)l.Nw={t:"Objc",v:{classID:"Chnl",ClrI:{t:"enum",v:{MskI:"SlcA"}},Opct:{t:"long",v:50}}};
else l.null=g3.g5("Chnl",!0);O.data={et:["duplicate","make","delete"][n],ot:l};this.$(O)}};at.prototype.ay=function(_){var n=at.vr(this.Qp,_);
if(n==2){var O=new e_(H.E.yy,!0),l={classID:"null"};l.null=g3.g5("Chnl",!0);O.data={et:"duplicate",ot:l};
this.$(O)}else this.qy(_)};at.prototype.AE=function(m){var _=this.m7,n=_[m];if(n==null){var O=L.S("canvas");
n=O.getContext("2d");_.push(n)}return n};at.prototype.yZ=function(_){var n=this.jb.slice(0),O=_.data.tE,l=n[0]+n[1]+n[2],x=this._9;
if(-5<O&&O<0){var t=-O-1;if(_.data.A6){if(t==0)n=l==3?[0,0,0]:[1,1,1];else{if(n[t-1]==0)n[t-1]=1;else if(!0)n[t-1]=0}}else{if(t==0)n=[1,1,1];
else{n=[0,0,0];n[t-1]=1}x.oO=[]}var h=new e_(H.E.s,!0);h.G=D.fY;h.data={d:"setcls",CN:n};this.$(h);return}if(-1<O){var V=x.B[O],y=V.LN==1?V.Ek():V.vO(x).z;
if(_.data.A6)y.K_=!y.K_;else{for(var m=0;m<x.U_.length;m++)x.U_[m].K_=!1;x.oO=[]}}else{var r=-O-5,y=x.U_[r];
if(_.data.A6)y.K_=!y.K_;else{for(var m=0;m<x.U_.length;m++)x.U_[m].K_=!1;y.K_=!0;x.oO=[r]}}x.Hc=x.i1=!0};
at.prototype.lY=function(){this.DN()};at.prototype.dN=function(_){this._9=_;this.DN()};at.prototype.DN=function(){var _=this._9,n=this._M,e=4;
L.I$(n);if(_==null||!L.PZ(n))return;var O=_.a,l=_.n,x=new a8(0,0,O,l),t=this.jb=_.u.CN.slice(0),h=t[0]+t[1]+t[2],V=Math.round(34*L.V()),y=V;
if(O>l)y=Math.round(y*l/O);else V=Math.round(V*O/l);var r=["RGB"].concat(a3.UD);for(var m=0;m<4;m++){var E=this.AE(m);
Q.Rf.lg(E,V,y,x,_.Cs(),x,!1,m==0?null:m-1);var a=m==0?h==3:t[m-1]==1,S=new i3(-1-m,!0,!0,E,r[m],a,a);
S.parent=this;n.appendChild(S.m);L.Oe(E.canvas)}for(var m=0;m<_.g.length;m++){var P=_.B[_.g[m]],b=P.LN;
if(b!=1&&b!=3)continue;var T=b==1?P.Ek():P.vO(_).z,E=this.AE(e+m);e++;Q.Rf.i2(E,V,y,x,T);var S=new i3(_.g[m],!0,!0,E,P.getName()+(b==1?"":" Filter")+" Mask",!0,T.K_);
S.parent=this;n.appendChild(S.m);L.Oe(E.canvas)}for(var m=0;m<_.U_.length;m++){var T=_.U_[m],E=this.AE(e+m);
Q.Rf.i2(E,V,y,x,T);var S=new i3(-5-m,!0,T.name=="Quick Mask",E,T.name,_.oO.indexOf(m)!=-1,T.K_,D.Ko,{d:v.E2,nz:"rnm",tE:m});
S.parent=this;n.appendChild(S.m);L.Oe(E.canvas)}};at.prototype.A$=function(_,n){this._M.style.height=n-30-4+"px";
this._M.style.width=_+"px"};at.prototype.f=function(){as.prototype.f.call(this);this.DN();at.xL(this.Qp,["lrs/makesel","lrs/mask","lrs/newlayer","lrs/bin"])};
at.xL=function(_,n){var n=im.a6(n,null,"miniscale");for(var m=0;m<_.length;m++)_[m].KM(n[m])};function i3(_,n,O,l,x,t,h,V,y){b1.call(this);
this.m=L.S("div","layeritem");this.aqe=_;this.azi=n;this.Y0=l;this.a5l=V;this.atC=y;this._O=L.S("div",t?"head selected":"head");
this._O.setAttribute("style","height: "+40+"px");var r=L.S("div","headL"),E=L.S("div","headR"),a=15;
this.m.appendChild(this._O);this._O.appendChild(r);this._O.appendChild(E);this.eV=L.S("div","eye");if(1<L.V()&&L.V()<1.5)a=a/L.V();
this.eV.setAttribute("style","background-size: "+a+"px "+a+"px;");this.eV.style.opacity=h?1:.2;if(n)r.appendChild(this.eV);
this.MK=L.S("div","thumb");if(l)this.MK.appendChild(l.canvas);r.appendChild(this.MK);this.yS=L.S("div","label");
if(O)this.yS.style.fontStyle="italic";this.yS.textContent=hU.get(x);r.appendChild(this.yS);var S=this._O;
S.setAttribute("draggable","true");S.addEventListener("dragstart",function(e){e.dataTransfer.setData("Text","")},!1);
L.a9(this._O,this.a1x.bind(this));if(!O)this._O.addEventListener("mouseup",this.al3.bind(this),!1)}i3.prototype=new b1;
i3.prototype.V8=function(_){var n=new e_(H.E.s,!0);n.G=this.a5l;n.data=this.atC;n.data.name=_;this.$(n)};
i3.prototype.a1x=function(_){var n=_.ctrlKey||_.metaKey,O=this.aqe;if(n&&_.target==this.Y0.canvas){this.$(i3.k5(this.azi,O,_))}else{var l=new e_("click",!0);
l.data={tE:O,A6:_.target==this.eV,ZS:n};this.$(l)}};i3.prototype.al3=function(_){if(_.detail==2&&_.target==this.yS){var n=new as._X(this.yS,this.V8.bind(this))}};
i3.k5=function(_,n,O){var l=0;if(O.shiftKey)l++;if(O.altKey)l+=2;var x=new e_(H.E.s,!0);x.G=D.vQ;if(_){if(-5<n&&n<0){x=new e_(H.E.yy,!0);
x.data=D.iM.agh(l,["RGB","Rd","Grn","Bl"][-1-n])}else x.data={d:"fromchannel",xV:[n,0,l]}}else x.data={d:"frompath",xV:[n,0,l]};
return x};function gC(){as.call(this,[8,9],!1,"---panels/paths",as.n0.mr);this.jb=null;this._9=null;
this._M=L.S("div","lpbody scrollable");this._M.style.marginTop="4px";this.Hu=L.S("div","lpfoot");this.$i.appendChild(this._M);
this.$i.appendChild(this.Hu);this.$i.addEventListener("click",this.alq.bind(this),!1);this.m7=[];this.Z("click",this.yZ,this);
this.Qp=[];at.TA(["Fill Path","Stroke Path with Brush",[17,2],"Selection to Path",[5,3],[5,4]],this.Qp,this.Hu,this.qy.bind(this),this.ay.bind(this))}gC.prototype=new as("");
gC.prototype.qy=function(_,n){var O=at.vr(this.Qp,_),l;if(O<2){l=new e_(H.E.yy,!0);l.data=D.Jr.It(O)}else if(O==2)l=i3.k5(!1,null,_);
else if(O==3){l=new e_(H.E.yy,!0);l.data={et:"make",ot:{classID:"null",null:{t:"obj ",v:[{t:"Clss",v:{classID:"Path"}}]},From:{t:"obj ",v:[{t:"prop",v:{classID:"csel",keyID:"fsel"}}]},Tlrn:{t:"UntF",v:{type:"#Pxl",val:2}}}}}else if(O>3){var l=new e_(H.E.s,!0);
l.G=D.i$;l.data={d:"pathedit",nz:["new","del"][O-4],al9:n}}this.$(l)};gC.prototype.ay=function(_){this.qy(_,!0)};
gC.prototype.AE=function(m){var _=this.m7,n=_[m];if(n==null){var O=L.S("canvas");n=O.getContext("2d");
_.push(n)}return n};gC.prototype.alq=function(_){if(_.target==this._M){var n=this._9;n.WJ=[];n.tF=[];
n.i1=!0;n.Hc=!0}};gC.prototype.yZ=function(_){var n=_.data.tE,O=this._9,l=_.data.ZS,x=0,t,h;if(n<0){x=-1-n;
t=O.WJ;h=O.tF}else{var V=O.cx()[0];for(var m=0;m<V.length;m++){var y=V[m].tE;if(y==n)break;if(y>=0)x++}t=O.tF;
h=O.WJ}if(l){var r=t.indexOf(x);if(r==-1)t.push(x);else t.splice(r,1)}else{while(t.length!=0)t.pop();
while(h.length!=0)h.pop();t.push(x)}O.i1=!0;O.Hc=!0};gC.prototype.lY=function(){this.DN()};gC.prototype.dN=function(_){this._9=_;
this.DN()};gC.prototype.DN=function(){var _=this._9,n=this._M;L.I$(n);if(_==null||!L.PZ(n))return;var O=_.a,l=_.n,x=new a8(0,0,O,l),t=this.jb=_.u.CN.slice(0),h=t[0]+t[1]+t[2],V=Math.round(34*L.V()),y=V;
if(O>l)y=Math.round(y*l/O);else V=Math.round(V*O/l);var r=_.cx(),E=r[0];for(var m=0;m<E.length;m++){var a=E[m],S=this.AE(m);
Q.Rf.als(S,V,y,x,a.add.vmsk);var e=new i3(a.tE,!1,a.tE>=0,S,a.name,r[1].indexOf(m)!=-1,!1,D.i$,{d:"pathedit",nz:"rnm",tE:a.tE});
e.parent=this;n.appendChild(e.m);L.Oe(S.canvas)}};gC.prototype.A$=function(_,n){this._M.style.height=n-30-4+"px";
this._M.style.width=_+"px"};gC.prototype.f=function(){as.prototype.f.call(this);this.DN();at.xL(this.Qp,"-\u2B24 -\u25EF lrs/makesel lrs/makepath lrs/newlayer lrs/bin".split(" "))};
function bj(_){as.call(this,[9,_?4:5],!1,"---panels/"+(_?"character":"paragraph"),_?as.n0.amh:as.n0.a2F);
this.$i.setAttribute("style","min-width:240px;");this.a9_=_;this.EF=null;this.Yw=null}bj.prototype=new as("");
bj.prototype.Ph=function(){this.EF=new gK;var _=this.EF,n=this.$i;_.parent=this;if(this.a9_){var O=L.S("div","marged");
n.appendChild(O);O.appendChild(_.Kj.m);n.appendChild(L.S("hr"));var l=L.S("div","marged");n.appendChild(l);
l.appendChild(_.OO.m);l.appendChild(_.Sw.m);var x=L.S("div","marged");n.appendChild(x);x.appendChild(_.$l.m);
x.appendChild(_.Po.m);n.appendChild(L.S("hr"));var t=L.S("div","marged");n.appendChild(t);t.appendChild(_.e1.m);
t.appendChild(_.vt.m);var h=L.S("div","marged");n.appendChild(h);h.appendChild(_.iJ.m);h.appendChild(_.Ak.m);
h.appendChild(_.o3.m);n.appendChild(L.S("hr"));var V=L.S("div","marged");n.appendChild(V);V.appendChild(_.MO.m);
V.appendChild(_.mw.m);V.appendChild(_.$v.m);V.appendChild(_.JE.m);V.appendChild(_.nu.m);V.appendChild(_.Nh.m);
V.appendChild(_.CX.m);V.appendChild(_.$M.m)}else{var O=L.S("div","marged");n.appendChild(O);O.appendChild(_.WY.m);
O.appendChild(_.Gt.m);O.appendChild(_.Of.m);O.appendChild(_.atA.m);O.appendChild(_.a7m.m);O.appendChild(_.ahj.m);
O.appendChild(_.a4p.m);n.appendChild(L.S("hr"));var l=L.S("div","marged");n.appendChild(l);l.appendChild(_.vK.m);
l.appendChild(_.m6.m);l.appendChild(_.wJ.m);n.appendChild(L.S("hr"));var x=L.S("div","marged");n.appendChild(x);
x.appendChild(_.zM.m);x.appendChild(_.CS.m);x.appendChild(_.UN.m);x.appendChild(_.T$.m)}};bj.prototype.lY=function(){if(!L.PZ(this.$i))return;
if(this.EF==null){this.Ph();var _=this.Yw;if(_)this.EF.c(_.Kw,_.y8,_.eZ);this.EF.f()}};bj.prototype.f=function(){as.prototype.f.call(this);
if(this.EF)this.EF.f()};bj.prototype.w1=function(_,n){this.Yw=_;if(n!=gp.WB&&n!=gp.j$&&n!=gp.V1&&n!=gp.cO)return;
if(this.EF)this.EF.c(_.Kw,_.y8,_.eZ)};function kf(){as.call(this,[9,13],!1,"---panels/glyphs",as.n0.agy);
this.Yw=null}kf.prototype=new as("");kf.prototype.Ph=function(){this.EF=new gK;this.EF.parent=this;this.a58=null;
this.ay5=null;this.e5=null;this.asJ=null;this.Kt=Math.round(290*L.V());this.nw=45;this.a1K=4;this.arq=this.H1.bind(this);
this.a1L=0;this.zF=new cB(null,["Hi","Hello"]);this.zF.Z(H.E.A,this.H1,this);var _=this.dM=new cw("-",null,null,!0);
_.Z("click",this.a4g,this);var n=this.ajc=new cw("+",null,null,!0);n.Z("click",this.a4g,this);this.JQ=new d9(!1);
this.JQ.Z(H.E.A,this.sd,this);this.JQ.m.style.height=250+"px";var O=this.JW=L.S("div","form padded");
this.$i.appendChild(O);O.appendChild(this.EF.Kj.m);L.z0(O);O.appendChild(this.zF.m);O.appendChild(_.m);
O.appendChild(n.m);this.$i.appendChild(this.JQ.m)};kf.prototype.A$=function(_,n){if(this.Qc==_||this.EF==null)return;
this.Qc=_;this.Kt=Math.floor((_-13)*L.V());this.JW.setAttribute("style","width:"+this.Kt/L.V()+"px;");
this.JQ.m.style.height=n-73+"px";this.H1()};kf.prototype.sd=function(_){var n=this.a8C(),O=Math.round(this.Kt/n);
n/=L.V();var l=this.JQ.b()[0]*O*this.a1K,x=this.JQ.atf();l+=Math.floor(x.y/n)*O;l+=Math.floor(x.x/n);
var t=this.e5[this.zF.b()];if(l>=t.length)return;var h=t[l],V=this.asJ[h],y=new e_(H.E.s,!0);y.G=D.K9;
if(V.hv.length==0)y.data={d:"insertGlyph",h:l+1};else y.data={d:"insertText",h:String.fromCodePoint(V.hv[0])};
this.$(y)};kf.prototype.a4g=function(_){var n=1.2;if(_.target==this.dM){if(this.nw>20)this.nw/=n}else{if(this.nw<100)this.nw*=n}this.H1()};
kf.prototype.lY=function(){this.w1(this.Yw)};kf.prototype.w1=function(_,n){this.Yw=_;if(!L.PZ(this.$i))return;
if(this.EF==null)this.Ph();this.EF.c(_.Kw,_.y8,_.eZ);var O=_.Kw,l=O.oM.Font,y=0;if(l==null)return;var x=O.ZP[l].Name;
if(this.a58==x)return;var l=_.y8.aT(x);if(l==null)return;var t=l.maxp.numGlyphs,h=this.asJ=new Array(t);
for(var m=0;m<t;m++)h[m]={hv:[]};var V=Date.now(),r=new Uint8Array(1048575);for(var m=0;m<1048575;m++){var E=Typr.U.codeToGlyph(l,m);
if(E!=0&&E<t){r[m]=1;if(h[E].hv.length==0)y++;h[E].hv.push(m)}}var a=kf.hE,S=[];for(var m=0;m<a.length;
m++)S.push([]);for(var E=1;E<t;E++){S[0].push(E);var e=h[E].hv[0];if(e==null){continue}for(var P=1;P<a.length;
P++){var b=a[P].wo;for(var m=0;m<b.length;m+=2)if(b[m]<=e&&e<=b[m+1]){S[P].push(E);break}}}this.e5=S;
var T=[];for(var m=0;m<a.length;m++)T.push(a[m].GK+" ("+S[m].length+")");var C=this.zF.b();this.zF.aV(T);
this.zF.c(C);this.a58=x;this.ay5=l;this.H1()};kf.prototype.a8C=function(_){var n=Math.floor(this.Kt/this.nw);
return Math.floor(this.Kt/n)};kf.prototype.H1=function(_){if(!L.PZ(this.$i)||this.e5==null)return;var n=this.e5[this.zF.b()],O=n.length,l=this.ay5,x=Typr.U,t=this.a8C(),h=t,V=h*.8,y=h*.8/l.head.unitsPerEm,r=[],E=Math.floor(this.Kt/t),a=Math.ceil(O/E),S=this.a1K,e=Date.now();
for(var P=0;P<a;P+=S){var b=L.S("canvas"),T=b.getContext("2d");b.width=t*E;b.height=h*S;T.strokeStyle="rgba(0,0,0,0.3)";
T.fillStyle="white";T.fillRect(0,0,E*t,h*S);for(var C=0;C<S;C++){for(var Z=0;Z<E;Z++){var m=n[(P+C)*E+Z];
if(m==null)break;var W=x.glyphToPath(l,m),s=Q.p.Vx(W.crds);if(!s.wk()){T.fillStyle="#252525";T.beginPath();
var f=Z*t+(t-s.a*y)*.5-s.x*y,q=C*h+V;T.translate(f,q);T.scale(y,-y);x.pathToContext(W,T);T.scale(1/y,-1/y);
T.translate(-f,-q);T.fill()}}}T.beginPath();for(var Z=0;Z<E;Z++){var g=Z*t+t+.5;T.moveTo(g,0);T.lineTo(g,h*S)}for(var C=0;
C<S;C++){var i=C*h+h+.5;T.moveTo(0,i);T.lineTo(E*t,i)}T.stroke();r.push(b)}this.JQ.d$(r,null,t*E,h*S)};
kf.hE=[{GK:"All Glyphs"},{GK:"Basic Latin, Latin 1",wo:[0,127,128,143]},{GK:"Latin Extended-A",wo:[256,383]},{GK:"Latin Extended-B",wo:[384,591]},{GK:"Punctuations",wo:[33,35,37,39,42,42,44,44,46,47,58,59,63,63,64,64,92,92,161,161,167,167,182,183,191,191,894,894,903,903,1370,1375,1417,1417,8192,8303,11776,11903]},{GK:"Greek",wo:[880,1023]},{GK:"Cyrillic",wo:[1024,1279]},{GK:"Hebrew",wo:[1424,1535]},{GK:"Arabic",wo:[1536,1791]},{GK:"Emoji",wo:[9728,10095,127744,129535]}];
function kg(){as.call(this,[13,0],!1,null,as.n0.La);this.au=0;this.a9N=0;this.Yw=null}kg.prototype=new as("");
kg.prototype.Ph=function(){if(!L.PZ(this.$i)||this.sP)return;var _=L.S("div","flexrow padded");this.$i.appendChild(_);
var n=L.S("div");_.appendChild(n);this.sP=[];for(var m=0;m<2;m++){var O=new fS;this.sP.push(O);O.Z("click",this.ana,this);
n.appendChild(O.m)}this.g9=new aM(192);console.log("hsb picker");this.g9.Z(H.E.A,this.Ze,this);this.Ah=new gZ;
this.Ah.parent=this;_.appendChild(this.g9.m);this.w1(this.Yw,gp.WB)};kg.prototype.ana=function(_){var n=_.currentTarget,O=this.sP.indexOf(n);
if(O==this.au){this.Ah.hI(O)}else{this.au=O;this.H1()}};kg.prototype.Ze=function(_){var n=this.g9.b();
this.g9.c(n);var O=Math.round(n.o*255)<<16|Math.round(n.J*255)<<8|Math.round(n.k*255),l=new e_(H.E.L,!0);
l.data={d:H.t.Gf,nZ:gp.La,nz:this.au,h:O};this.$(l);this.a9N=Date.now()};kg.prototype.H1=function(){if(this.Ah==null)return;
var _=this.Yw,n=this.au,O=[_.KU,_.lV];for(var m=0;m<2;m++){var l=this.sP[m],x=l.m.style;l.Is(O[m]);if(m==n)x.filter="drop-shadow(0 0 1px #000000)"}var t=O[n];
if(Date.now()-this.a9N>100)this.g9.c({o:(t>>>16)/255,J:(t>>>8&255)/255,k:(t&255)/255})};kg.prototype.w1=function(_,n){this.Yw=_;
if(this.Ah==null)return;if(n==gp.WB||n==gp.La){this.Ah.arU(_.KU,_.lV);this.H1()}};kg.prototype.dN=function(){this.Ph()};
kg.prototype.lY=function(){this.Ph();this.H1()};function hm(){as.call(this,"CSS",!1,"---panels/css",as.n0.CSS);
this.ii=null;var _=L.S("div","padded");this.$i.appendChild(_);this.pf=L.S("textarea");L.vw(this.pf);
_.appendChild(this.pf)}hm.prototype=new as("");hm.prototype.A$=function(_,n){if(this.Qc==_)return;this.Qc=_;
this.pf.setAttribute("style","display:block;tab-size:4;  margin:0; font-family:monospace; width:"+(_-10)+"px; height:"+(n-10)+"px")};
hm.prototype.dN=function(_){this.ii=_;this.H1()};hm.prototype.w1=function(_,n){if(n==gp.V1)this.H1()};
hm.prototype.H1=function(){var _=this.ii;if(_==null||_.g.length==0)return;if(!L.PZ(this.$i))return;var n=_.B[_.g[0]],O=CSS.a6P(n,_);
if(O.length!=0)this.pf.value=O.join(";\n")+";";else this.pf.value=""};hm.prototype.lY=function(){this.H1()};
function f4(){as.call(this,[9,6],!1,"---panels/info",as.n0.ak7);this.$i.setAttribute("style","min-width:240px;");
this.ii=null;this.Yw=null;var _=this.YY=[];for(var n=0;n<3;n++){var O=L.S("div","marged row");this.$i.appendChild(O);
var l=L.S("div","cell");l.setAttribute("style","width:10em");O.appendChild(l);var x=L.S("div","cell");
x.setAttribute("style","width:10em");O.appendChild(x);for(var m=0;m<(n==2?3:4);m++){var t=new an("");
_.push(t);t.c(0);t.m.style.padding="0";var h=n!=1||m<2?l:x;h.appendChild(t.m);L.z0(h)}if(n<2)L.q9(this.$i)}this.Dr=_[4];
this.oA=_[5];this.xf=_[6];this.xv=_[7]}f4.prototype=new as("");f4.prototype.Xg=function(_,n,O,l,x){if(!L.PZ(this.$i)||_==null)return;
var t=_.u.vk(x.x,x.y),h=new aW(Math.floor(t.x),Math.floor(t.y));if(!x.Ju){var V=0,y=0,r=0,E=0,a=this.YY;
if(!x.Ju&&!_.a9g()&&new a8(0,0,_.a-1,_.n-1).b5(h)){var S=_.Cs(),m=_.a*h.y+h.x<<2;V=S[m+0];y=S[m+1];r=S[m+2];
E=S[m+3]}a[0].c("R: "+V);a[1].c("G: "+y);a[2].c("B: "+r);a[3].c("A: "+E);var e=Q.oi(V,y,r);a[8].c("H: "+Math.round(e.bE*360)+"\xB0");
a[9].c("S: "+Math.round(e.yj*100)+"%");a[10].c("B: "+Math.round(e.k*100/255)+"%")}var P=_.u.K>1?new aW(t.x,t.y):h;
this.Dr.c("X: "+Q.k4.eI(P.x,_.pa,O,_.a));this.oA.c("Y: "+Q.k4.eI(P.y,_.pa,O,_.n));this.gm()};f4.prototype.gm=function(){var _=this.ii,n=this.Yw,O=0,l=0;
if(_&&n){if(_.u.t9){O=_.u.t9.a;l=_.u.t9.n}else if(_.P){O=_.P.rect.a;l=_.P.rect.n}O=Q.k4.eI(Math.abs(O),_.pa,n,_.a);
l=Q.k4.eI(Math.abs(l),_.pa,n,_.n)}this.xf.c(hU.get([12,41]).charAt(0)+": "+O);this.xv.c(hU.get([12,42]).charAt(0)+": "+l)};
f4.prototype.f=function(){as.prototype.f.call(this);this.gm()};f4.prototype.dN=function(_,n,O){this.ii=_;
this.Yw=O;this.gm()};function cp(){as.call(this,[9,1],!1,"---panels/layers",as.n0.Ko);this.wj=null;this.vi=[];
this.cn=null;this.Bs=null;this._O=L.S("div","lphead");this._M=L.S("div","lpbody scrollable");this._M.addEventListener("scroll",this.a12.bind(this),!1);
this.Hu=L.S("div","lpfoot");var _=this.afw=L.S("span");_.setAttribute("style","display:inline-block; height:26px");
this._O.appendChild(_);this.jY=new cB(null,b3.Fw,!1,b3.UU);this.jY.Z(H.E.A,this.a93,this);this._O.appendChild(this.jY.m);
this.s8=new bd([12,0],0,100,"%",0);this.s8.Z(H.E.A,this.aoT,this);this.s8.parent=this;this._O.appendChild(this.s8.m);
this.BS=new gl([6,57,2],["<img src=\""+PIMG.trsp3+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["tools/brush"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.pos+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["lrs/lock"]+"\" class=\"miniscale gsicon\" />"],!0,["Transparency",[12,76,2],[12,40],[7,0]]);
this.BS.Z(H.E.A,this.ate,this);this._O.appendChild(this.BS.m);this.dp=new bd([12,26],0,100,"%",0);this.dp.Z(H.E.A,this.alc,this);
this.dp.parent=this;this._O.appendChild(this.dp.m);this.Qp=[];this.TA();this.$i.appendChild(this._O);
this.$i.appendChild(this._M);this._M.addEventListener("dragover",function(x){x.preventDefault()},!1);
this._M.addEventListener("dragenter",L.bO,!1);this._M.addEventListener("drop",this.ajR.bind(this),!1);
this.$i.appendChild(this.Hu);this.$i.addEventListener("contextmenu",L.bO,!1);this.Z("rclick",this.avG,this);
var n=function(x,t,m){return{fs:this.RV[m]==1}}.bind(this);this.aer=new dW([{name:[0,6],w:n},{name:[14,10],w:n},{name:[6,57,2],w:n,Qn:!0},{name:"Long-tap as a right click",w:n,Qn:!0},{name:"\u2796 Thumbnail Size"},{name:"\u2795 Thumbnail Size"},{name:"Thumbnails by Layer",w:function(){return{fs:jW.uX==0,w:!0}}},{name:"Thumbnails by Document",w:function(){return{fs:jW.uX==1,w:!0}}}]);
this.aer.Z("select",this.arQ,this);this.RV=[0,1,1,0];var O=window.localStorage;if(O){var l=O.getItem("lpOpt");
if(l){l=JSON.parse(l);this.RV=l[0];jW.fC=l[1];jW.uX=l[2]}}this.arQ()}cp.prototype=new as("");cp.prototype.ZE=function(){if(this.a9s)return;
var _=a5.UI(!0),n=a5.si(!0);this.a9s=new dW(_,n);var _=[{name:[14,10]},{name:[14,11],Qn:!0},{name:[6,0]},{name:[11,4]},{name:[5,4],Qn:!0},{name:[6,7,0]},{name:"New Smart Obj. via Copy",w:function(O){return{w:O.B[O.g[0]].add.SoLd!=null}},Qn:!0},{name:[6,8],w:cp.ay6},{name:[6,34],w:function(O){var l=O.B[O.g[0]];
return{w:l.add.lmfx!=null&&!l.kx()}}},{name:[6,40],Qn:!0,w:function(O){var l=O.B[O.g[0]];return{w:l.add.TySh!=null}}},{name:"",Qn:!0,w:function(O){var l=O.B[O.g[0]],x=l.add.TySh,t=x?x.m1:null;
return{w:x!=null&&t.Curve==null,Bj:hU.get(x&&b$.LR(t)==0?[16,3,1]:[16,3,0])}}},cp.ap4(!1),{name:[11,6],Qn:!0,sub:[{name:[5,1],w:function(O){var l=O.B[O.g[0]];
return{w:l.add.lmfx!=null}}},{name:[5,2]},{name:[2,2],w:function(O){var l=O.B[O.g[0]];return{w:l.add.lmfx!=null}}}]},{name:[6,12,0],w:function(O){var l=O==null?0:O.g.length;
return{w:l!=0&&(l!=1||O.g[0]!=0),Bj:hU.get(l>1||l==1&&O.B[O.g[0]].kx()?[6,12,0]:[6,10])}}},{name:[6,12,1],Qn:!0},{name:[13,0],sub:function(){var O=[];
for(var m=0;m<hD.o4.length;m++)O.push({name:[13,1,m],Rf:"#"+Q.sN(hD.o4[m])});return O}()}],n=[{Y:H.E.L,W:{d:H.t.Rq,EW:"layerstyle"}},{Y:H.E.s,G:D.vQ,W:{d:"fromlayer",xV:[null,0,0]}},{Y:H.E.s,G:D.Ko,W:{d:v.Sq}},{Y:H.E.L,W:{d:H.t.Rq,EW:"duplinto"}},{Y:H.E.s,G:D.Ko,W:{d:v.nB}},{Y:H.E.yy,W:{et:"newPlacedLayer"}},{Y:H.E.s,G:D.Ko,W:{d:v.bS}},{Y:H.E.yy,W:{et:"rasterizeLayer",ot:{classID:"rasterizeLayer",null:g3.g5("Lyr",!0)}}},{Y:H.E.s,G:D.Ko,W:{d:v.i5}},{Y:H.E.s,G:D.Ko,W:{d:v.aws}},{Y:H.E.s,G:D.K9,W:{d:"switchPntPrgr"}},{Y:H.E.s,G:D.Ko,W:{d:v.rL}},{sub:[{Y:H.E.s,G:D.rV,W:{d:"st_copy"}},{Y:H.E.s,G:D.rV,W:{d:"st_paste"}},{Y:H.E.s,G:D.rV,W:{d:"st_clear"}}]},{Y:H.E.yy,W:{et:"mergeLayersNew",ot:{__name:"Merge Layers",classID:"Mrg2"}}},{Y:H.E.yy,W:{et:"flattenImage"}},{sub:function(){var O=[];
for(var m=0;m<8;m++)O.push({Y:H.E.s,G:D.Ko,W:{d:v.zj,anj:m}});return O}()}];this.To=new dW(_,n);var _=[{name:[6,45],w:function(O){var l=O.B[O.g[0]];
return{w:l.vO(O).z==null}}},{name:[6,47]}],n=[{Y:H.E.s,G:D.Ko,W:{d:v.cL}},{Y:H.E.s,G:D.Ko,W:{d:v.rY}}];
this.asC=new dW(_,n);var _=[{name:"enab/disab",w:function(O){return{Bj:hU.get(O.B[O.g[0]].Ek().isEnabled?[6,15]:[6,14])}}},{name:[6,22]},{name:[5,8],w:function(O){return{w:O.eE(!1,!0)}}}],n=[{Y:H.E.s,G:D.Ko,W:{d:v.TZ}},{Y:H.E.s,G:D.Ko,W:{d:v.H6}},{Y:H.E.s,G:D.Ko,W:{d:v.X5}}];
this.asu=new dW(_,n);var _=[{name:"enab/disab",w:function(O){return{Bj:hU.get(O.B[O.g[0]].vO(O).z.isEnabled?[6,42]:[6,41])}}},{name:[6,46]}],n=[{Y:H.E.s,G:D.Ko,W:{d:v.WR}},{Y:H.E.s,G:D.Ko,W:{d:v.vv}}];
this.a5H=new dW(_,n);var _=[{name:"enab/disab",w:function(O){return{Bj:hU.get(O.B[O.g[0]].add.vmsk.isEnabled?[6,17]:[6,16])}}},{name:[6,24]},{name:[6,8]}],n=[{Y:H.E.s,G:D.Ko,W:{d:v.lr}},{Y:H.E.s,G:D.Ko,W:{d:v.ZY}},{Y:H.E.s,G:D.Ko,W:{d:v.g7}}];
this.avL=new dW(_,n);this.aj_=new dW(a5.awv(!0),a5.AY(!0));this.akb=new dW(a5.UI(),a5.si())};cp.prototype.a12=function(_){var n=this._M.scrollTop-600;
for(var m=0;m<this.vi.length;m++){var O=this.vi[m],l=O.Cd;if(n<O.Cd)O.ayd();if(O.Cd>n+this.bE+600)break}};
cp.prototype.Ji=function(){return this.aer};cp.prototype.arQ=function(_){var n=this.RV;if(_){var O=_.target.q3(),m=O[0];
if(m<4)n[m]=1-n[m];else if(m<6){if(m==4&&jW.fC-10>=10)jW.fC-=10;if(m==5&&jW.fC+10<=200)jW.fC+=10;if(this.cn)this.cn.XS=!0}else{if(m==6)jW.uX=0;
if(m==7)jW.uX=1;if(this.cn)this.cn.XS=!0}var l=window.localStorage;if(l)l.setItem("lpOpt",JSON.stringify([n,jW.fC,jW.uX]))}if(n[0]==1)this.ajE();
var x=[[{m:this.afw}],[this.jY,this.s8],[this.BS,this.dp]];for(var m=0;m<3;m++)for(var t=0;t<x[m].length;
t++)x[m][t].m.style.display=n[m]==1?"inline-block":"none";this.A$(this.Qc,this.bE)};cp.prototype.at4=function(){var _=this.rM;
if(_==null)return!1;if(_.b()){var n=this.uo.b(),O=this.yF[n].b();if(n==0)return O.indexOf(!0)!=-1;if(n==1)return O!=""}return!1};
cp.ap4=function(_){var n=function(l){var x=l!=null&&l.g.length!=0&&l.B[l.g[0]]._t;return{fs:x,w:l!=null&&l.Uk(l.g[0]),W:{Y:H.E.yy,W:{et:x?"ungroup":"groupEvent",ot:{classID:x?"Ungr":"GrpL",null:g3.g5("Lyr",!0)}}}}},O={name:[6,6,0],Qn:!0,w:n};
if(_)O.mU=[bJ.Yk,bJ.mV,bJ.d0];return O};cp.ay6=function(_,n){if(_)for(var m=0;m<_.g.length;m++){var O=_.B[_.g[m]];
if(O.add.TySh||O.add.SoLd||O.add.SoCo||O.add.GdFl||O.add.PtFl)return{w:!0}}return{w:!1}};cp.prototype.ajR=function(_){L.bO(_);
var n=_.dataTransfer.getData("Text"),O=1,l=0;if(n==""){L._6(_,this,this.Bs.indexOf(this.cn),l+(O>.5?0:1))}else if(n!="--panel"){var n=JSON.parse(n),x=n.TO;
if(x=="l")this.IX({d:v.Xc,source:n.Ky,target:l,pY:O})}};cp.prototype.avG=function(_){var n=this.cn,O=_.data,x;
if(n.g.indexOf(O.j)==-1){var l={d:v.IB,j:_.target.KA.index,_$:O.LN};this.IX(l)}if(n.g.indexOf(O.j)==-1)return;
this.ZE();if(O.LN==1){x=this.asu}else if(O.LN==2){x=this.avL}else if(O.LN==3){x=this.a5H}else if(O.LN==4){x=this.asC}else if(O.LN==5){x=this.a9s}else{x=this.To}x.f();
x.update(n);x.parent=this;var t=new e_(H.E.L,!0);t.data={d:H.t.X3,B_:x,x:O.sX.x+1,y:O.sX.y+1};this.$(t)};
cp.prototype.f=function(){as.prototype.f.call(this);this.jY.f();this.s8.f();this.BS.f();this.dp.f();
if(this.rM){this.rM.f();this.yF[0].f()}if(this.cn)this.dN(this.cn);var _="lrs/link lrs/fx lrs/adj lrs/mask lrs/folder lrs/newlayer lrs/bin".split(" ");
for(var m=0;m<this.Qp.length;m++){var n=this.Qp[m];n.KM(L.Gu(_[m],null,"miniscale"));if(m==1||m==2){n.m.style.position="relative";
var O=L.S("img","gsicon");O.setAttribute("src",PIMG["tools/corner"]);O.setAttribute("style","position:absolute; right:0;  bottom:0; width:100%;  height:100%;");
n.m.appendChild(O)}}};cp.prototype.dN=function(_,n){if(_&&!_.XS)return;if(_==null)L.NT(this.$i,"disabled");
else L.Gd(this.$i,"disabled");this.cn=_;this.Bs=n;if(this.wj!=null){L.I$(this._M);this.wj=null;this.vi=[]}if(_==null)return;
var O=!1;for(var m=0;m<_.U_.length;m++)if(_.U_[m].K_)O=!0;this.wj=new hD(_.root,this,_,{r1:0,lm:!1},{ao$:O,acr:this.at4()},this.vi,0,new a8(0,0,_.a,_.n));
if(_.g.length==0||_.B[_.g[0]]==null)L.NT(this._O,"disabled");else{L.Gd(this._O,"disabled");if(_.g.length==1&&_.HT){var l=_.g[0];
for(var m=0;m<this.vi.length;m++){var x=this.vi[m];if(x.KA.index==l&&x._O.scrollIntoView)x._O.scrollIntoView({block:"nearest"})}}var t=_.B[_.g[0]];
if(t.kx()){this.jY.aV([[15,10,27]].concat(b3.Fw),[1].concat(b3.UU));var h=b3.qX.indexOf(t.to);this.jY.c(h+1)}else{this.jY.aV(b3.Fw,b3.UU);
var h=b3.qX.indexOf(t.to);this.jY.c(h)}this.s8.c(Math.round(100*t.opacity/255));this.BS.c([t.bj(0),t.bj(1),t.bj(2),t.bj(31)]);
var V=_.x$();this.jY.Nf(!V);this.dp.Nf(!V);this.s8.Nf(!V);this.BS.Nf(!(V&&!t.bj(31)));this.dp.c(Math.round(100*(t.add.iOpa!=null?t.add.iOpa/255:1)))}this.a12(null)};
cp.prototype.A$=function(_,n){this.Qc=_;this.bE=n;var O=this._O.getBoundingClientRect().height;if(55<O&&O<56)O=60.2;
var l=this.Hu.getBoundingClientRect().height,x=n-(O+l+3);this._M.style.height=x+"px";this._M.style.width=_+"px"};
cp.prototype.a93=function(_){this.IX({d:v.N$,t2:this.jY.b()})};cp.prototype.aoT=function(_){this.IX({d:v.jU,t2:Math.round(255*this.s8.b()/100)})};
cp.prototype.ate=function(_){this.IX({d:v.zX,t2:[this.BS.b(),[0,1,2,31]]})};cp.prototype.alc=function(_){this.IX({d:v.hn,t2:Math.round(255*this.dp.b()/100)})};
cp.prototype.CU=function(_){if(_.target==this.uo)this.ajE();var n=this.rM.b();if(n)L.Gd(this.NP,"disabled");
else L.NT(this.NP,"disabled");this.f();this.cn.XS=!0;this.dN(this.cn);this.cn.XS=!1};cp.prototype.ajE=function(){var _=this.NP;
if(_==null){var n=this.afw,O=this.rM=new dE([0,6]);O.Z(H.E.A,this.CU,this);n.appendChild(O.m);_=this.NP=L.S("span","disabled");
n.appendChild(_);this.uo=new cB(null,["Kind",[12,48]],!1,[]);this.uo.Z(H.E.A,this.CU,this);var l=this.yF=[new gl(null,["<img src=\""+PIMG.pix_layer+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["lrs/adj"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["tools/htype"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.shape_layer+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.so_layer+"\" class=\"miniscale gsicon\" />"],!0,[[12,76,2],[3,0],[12,44],[12,77],[6,7,1]]),new g_(null,null,8)];
l[0].Z(H.E.A,this.CU,this);l[1].Z("input",this.CU,this)}L.I$(_);_.appendChild(this.uo.m);_.appendChild(this.yF[this.uo.b()].m)};
cp.prototype.alo=function(_){this.ZE();this.a6f(_,this.aj_)};cp.prototype.aiU=function(_){this.ZE();
this.a6f(_,this.akb)};cp.prototype.a6f=function(_,n){var O=_.currentTarget;if(L.PZ(n.m))return;_.stopPropagation();
var l=O.getBoundingClientRect();n.f();n.update(this.cn);n.parent=this;var x=new e_(H.E.L,!0);x.data={d:H.t.X3,B_:n,x:l.left,y:l.top,al$:!0};
this.$(x)};cp.prototype.ayN=function(_){this.IX({d:v.aan})};cp.prototype.asf=function(_){this.IX({d:this.cn.g.length>1?v._b:v._Z})};
cp.prototype.agE=function(_){this.IX({d:v.eU})};cp.prototype.acQ=function(_){var n=this.cn;if(n.g.length==0)return;
var O=n.B[n.g[0]],l=O.LN;this.IX({d:l<=0?O.MZ?v.ZY:v.nB:l==3?v.vv:v.H6})};cp.prototype.afm=function(_){this.IX({d:v.e6})};
cp.prototype.IX=function(_){var n=new e_(H.E.s,!0);n.data=_;n.G=D.Ko;this.$(n)};cp.prototype.TA=function(){var _=[[6,54,0],[11,6],[6,1],[6,21],[6,20],[6,13],[5,4]],n=[this.afm,this.aiU,this.alo,this.ayN,this.asf,this.agE,this.acQ],O=this.aqE.bind(this);
for(var m=0;m<_.length;m++){var l=new cw("W",!1,_[m]);this.Qp.push(l);L.a9(l.m,n[m].bind(this));this.Hu.appendChild(l.m);
if(m>=_.length-3){var x=l.m;x.addEventListener("drop",O,!1);x.addEventListener("dragover",function(t){t.preventDefault()},!1);
x.addEventListener("dragenter",L.bO,!1)}}};cp.prototype.aqE=function(_){L.bO(_);var n=0,O=this.Qp;while(O[n].m!=_.currentTarget)n++;
O[n].Xy();var l=_.dataTransfer.getData("Text");if(l=="")return;var l=JSON.parse(l);if(l.TO=="l"){var x={d:[v._b,v.Sq,v.nB][n-4]};
if(this.cn.g.indexOf(l.Ky)==-1)x.j=l.Ky;this.IX(x)}if(n!=6)return;if(l.TO=="sm"||l.TO=="s"){var t=new e_(H.E.s,!0);
t.G=D.rV;t.data={d:l.TO=="sm"?"st_clear":"st_delsingle",j:l.Ky,Ky:l.R2};this.$(t)}if(l.TO=="fm"||l.TO=="f"){this.IX({d:l.TO=="fm"?v.rY:v.Pc,src:l.Ky,R2:l.R2})}if(l.TO=="m"||l.TO=="vm"){this.IX({d:l.TO=="m"?v.H6:v.ZY,j:l.Ky})}};
function hD(_,n,O,l,x,t,h,V){b1.call(this);this.parent=n;this.Cd=h;this.KA=_;t.push(this);this.Hf=O;
this.jW=l;var y=n._M,r=_.j,E=O.g.indexOf(_.index)!=-1,P=null;this._O=L.S("div",E?"head selected":"head");
if(r.add.artb!=null){L.NT(this._O,"artb");V=r.DM()}var a=this.acn=Math.floor(10+r.a9q/L.V()),S="height: "+a+"px;";
if(E&&x.ao$)S+="background-color:rgba(255,50,50,0.4);";this._O.setAttribute("style",S);this.BC=V;var e=this.anr=this.axC.bind(this),b=x.acr&&!this.a4u();
if(!b){if(_.depth!=0){y.appendChild(this._O);h+=a}if(r.XE()||r.lx())if(r.wN()){P=this.an7=L.S("div","lpineck");
y.appendChild(P);if(r.XE()){P.addEventListener("contextmenu",e,!1);var T=new cp.N9(hU.get([12,1]),"sm","layerstyle",_.depth,0,null);
h+=21;T.parent=this;P.appendChild(T.m);var C=r.add.lmfx,Z=C.masterFXSwitch.v;T.ND(Z);for(var m=0;m<aF.order.length;
m++){var W=C[aF.Ck[m]].v;if(W.length==0)continue;for(var s=0;s<W.length;s++){var T=new cp.N9(hU.get(aF.names[m]),"s","layerstyle",_.depth,1,[m,s]);
h+=21;T.ND(Z&&W[s].v.enab.v);T.parent=this;P.appendChild(T.m)}}}if(r.lx()){var f=r.vO(O).z;if(f)this.q$=L.S("div","thumb");
var T=new cp.N9(hU.get([12,55]),"fm",null,_.depth,0,-1,f?this.q$:null);h+=f?a:21;T.parent=this;P.appendChild(T.m);
this.a6U=T.m;this.a6U.addEventListener("contextmenu",e,!1);var C=r.add.SoLd.filterFX.v,q=C.filterFXList.v,Z=C.enab.v;
T.ND(Z);for(var m=q.length-1;m>=0;m--){var g=q[m].v,i=ie.CH(g);if(a3.Js[i])i=a3.Js[i];var u=g.Nm.v;if(ie.names[i])u=hU.get(ie.names[i]);
if(a3.names[i])u=hU.get(a3.names[i]);var I="afw_"+i,T=new cp.N9(u,"f",I,_.depth,1,m);h+=21;T.ND(Z&&g.enab.v);
T.parent=this;P.appendChild(T.m)}}}}var Y=r.add.lclr;if(Y==null)Y=0;Y=Y==0?l.r1:hD.o4[Y];this.ajW=Y;
if(r.kx()&&(r.add.lsct==bN.GV||x.acr)){var U={r1:Y,lm:l.lm||r.bj(31)};for(var m=_.children.length-1;
m>=0;m--){var F=new hD(_.children[m],n,O,U,x,t,h,V);h=F.aki}}this.aki=h}hD.prototype=new b1;hD.o4=[16777215,16711680,16748544,16763904,4513024,22015,11141375,7829367];
hD.prototype.ayd=function(){if(this.XB)return;var _=this.KA,n=_.j,O=this.Hf,l=this.jW,a=!0,U=!1;_.XW(O,this.BC,!0);
var x=L.S("div","headL"),t=L.S("div","headR");this._O.appendChild(x);this._O.appendChild(t);var h=this._O;
h.setAttribute("draggable","true");h.addEventListener("dragstart",this.$a.bind(this),!1);h.addEventListener("drop",this.RD.bind(this),!1);
h.addEventListener("dragover",this.$k.bind(this),!1);h.addEventListener("dragenter",L.bO,!1);h.addEventListener("dragleave",this.eQ.bind(this),!1);
var V=[],y=[null,null,null,null],r=n.Pn(),E=_;while(E.parent){E=E.parent;r=r&&E.j.Pn()}if(n._t){for(var m=_.index-1;
m>=0;m--){var S=O.B[m];if(!S._t){a=S.Pn();break}}}var e=n.Pn()?r&&a?2:1:0;this.XB=L.S("div");var P=L.S("div",e==0?"sqr":"eye");
this.XB.appendChild(P);P.style.opacity=[.12,.33,1][e];var b=L.S("div","space");this.yS=L.S("div","label");
this.yS.setAttribute("style","max-width:calc(100% - "+(96+_.depth*20)+"px); margin-top:"+(this.acn-19)/2+"px;");
this.yS.textContent=n.getName();this.Yp=L.S("div","lock");this.arG=L.S("div","lrfx");this.tu=L.S("div","arfx");
var T=this.anr,C=this.asQ.bind(this);this._O.addEventListener("click",C,!1);this._O.addEventListener("contextmenu",T,!1);
var Z=this.ajW,W=[Z>>16,Z>>8&255,Z&255];for(var m=0;m<3;m++){W[m]=Math.round(.5*W[m]+.5*220)}this.XB.setAttribute("style","background-color:rgba("+W.join(",")+","+(Z==0?0:1)+");");
var s=this.aus.bind(this);this.XB.addEventListener("mousedown",s,!1);this.XB.addEventListener("mouseover",s,!1);
this.tu.addEventListener("click",this.aaO.bind(this),!1);V[0]=this.XB;V[1]=b;V[10]=this.yS;if(n.kx()){var f=L.S("div","arrow"),q=L.S("div","folder");
this.pG(q);f.addEventListener("click",this.a1P.bind(this),!1);V[2]=f;V[3]=q;f.className=n.add.lsct==bN.GV?"open":"closed"}else{this.MK=L.S("div","thumb");
V[5]=this.MK;hD.sR(this.MK,n.oJ);this.pG(this.MK);if(a3.get(n.add))L.NT(n.oJ.canvas,"gsicon")}var g=n.Ek();
if(g){this.x7=L.S("div","chain");this.DK=L.S("div","thumb");hD.sR(this.DK,n.OR,!0);this.x7.style.opacity=g.Cu?1:0;
this.x7.addEventListener("click",this.ac$.bind(this),!1)}var i=n.uq()&&n.add.vmsk;if(n.add.vmsk&&!i){this.ym=L.S("div","chain");
this.Sp=L.S("div","thumb");hD.sR(this.Sp,n.Dd,!0);this.ym.style.opacity=n.add.vmsk.Cu?1:0;this.ym.addEventListener("click",this.aqq.bind(this),!1)}if(n.lx()&&n.wN()&&n.vO(O).z){hD.sR(this.q$,n.L4,!1);
this.pG(this.q$);this.q$.addEventListener("click",C,!1);this.q$.addEventListener("contextmenu",T,!1)}if(_.index==O.g[0]){var u=n.LN,I;
if(u<=0)I=this.MK;else if(u==1)I=this.DK;else if(u==3)I=this.q$;if(I)I.className="thumb active";if(n.MZ&&this.Sp)this.Sp.className="thumb active"}b.setAttribute("style","width:"+Math.max(0,_.depth-1)*18+"px");
var Y=n.add.lspf!=null&&n.add.lspf!=0||l.lm;this.Yp.style.opacity=n.bj(31)?1:.5;V[4]=n._t?L.S("div","clipp"):null;
V[6]=g?this.x7:null;V[7]=g?this.DK:null;V[8]=n.add.vmsk&&!i?this.ym:null;V[9]=n.add.vmsk&&!i?this.Sp:null;
var F=n.Ac,N=O.g;if(F!=0)for(var m=0;m<N.length;m++)if(O.B[N[m]].Ac==F){U=!0;break}if(U){y[0]=L.S("div",n.DZ?"link":"linkX");
y[0].addEventListener("click",this.adV.bind(this),!1)}y[1]=Y?this.Yp:null;y[2]=n.XE()?this.arG:null;
y[3]=n.XE()||n.lx()?this.tu:null;this.tu.className=n.wN()?"arfx open  gsicon":"arfx closed  gsicon";
var o=V;for(var m=0;m<o.length;m++)if(o[m])x.appendChild(o[m]);o=y;for(var m=0;m<o.length;m++)if(o[m])t.appendChild(o[m])};
hD.sR=function(_,n,O){var l=n.canvas;L.Oe(l);if(O)_.setAttribute("draggable","true");_.appendChild(l);
l.setAttribute("style",l.getAttribute("style")+"; pointer-events:none")};hD.prototype.pG=function(_){L.a9(_,function(n){if(this.parent.RV[3]==0)return;
L.C9(n);L.LY(document.body,function(){clearTimeout(this.apQ)}.bind(this));this.apQ=setTimeout(function(){var O=new e_("rclick",!0);
O.data={j:this.KA.index,LN:this.LN(n),sX:L.q1(n,document.body)};this.$(O)}.bind(this),600)}.bind(this))};
hD.Rg=function(_,n){var O=n.getBoundingClientRect();return(_.clientY-O.top)/O.height};hD.prototype.$a=function(_){_.stopPropagation();
var n=_.target==this.DK?"m":_.target==this.Sp?"vm":"l";_.dataTransfer.setData("Text",JSON.stringify({TO:n,Ky:this.KA.index}))};
hD.prototype.eQ=function(_){L.bO(_);this.Vv()};hD.prototype.RD=function(_){L.bO(_);this.Vv();var n=_.dataTransfer.getData("Text"),O=this.parent.cn,l=hD.Rg(_,this._O),x=this.KA.index;
if(l>.8){var t=!0,h=O.root.yJ(x);while(h.parent!=null){var V=h.parent,y=V.children;if(y.indexOf(h)!=0)t=!1;
h=h.parent}if(t){x=0;l=1}}if(n==""){L._6(_,this,this.parent.Bs.indexOf(O),x+(l>.5?0:1))}else if(n!="--panel"){var n=JSON.parse(n),r=n.TO;
if(r=="l")this.IX({d:v.Xc,source:n.Ky,target:x,pY:l});else if(r=="m"||r=="vm")this.IX({d:r=="m"?v.a21:v.bN,src:n.Ky,GA:x});
else hD.a4J(_,n,this)}};hD.a4J=function(_,n,O,l){var x=n.TO,t=O.KA.index,h=n.Ky;if(x=="s"||x=="sm")O.IX({d:v.Qo,src:h,GA:t,R2:n.R2});
if(x=="f"||x=="fm")O.IX({d:v.auy,src:h,GA:t,R2:n.R2,_L:l==null?0:l})};hD.prototype.$k=function(_){L.bO(_);
var n=hD.Rg(_,this._O),O=this.KA.j.kx()&&.5<n&&n<.8;this.Vv();var l="inset 0 "+(O?0:n>.5?-3:3)+"px "+(O?"5px black":"0 rgba(0,0,0,0.5)");
this._O.style.boxShadow=l};hD.prototype.Vv=function(_){this._O.style.boxShadow=""};hD.af7=-1;hD.gy=!1;
hD.aaV=function(_){hD.gy=!1;document.body.removeEventListener("mouseup",hD.aaV)};hD.prototype.aus=function(_){if(_.button!=0)return;
if(_.type=="mousedown"){hD.gy=!0;document.body.addEventListener("mouseup",hD.aaV,!1)}if(_.type=="mouseover"&&(!hD.gy||hD.af7==this.KA.index))return;
L.bO(_);this.IX({d:v.VW,j:this.KA.index});hD.af7=this.KA.index};hD.prototype.a1P=function(_){L.bO(_);
this.IX({d:v.aip,j:this.KA.index})};hD.prototype.ac$=function(_){this.IX({d:v.pB,j:this.KA.index})};
hD.prototype.aqq=function(_){this.IX({d:v.gT,j:this.KA.index})};hD.Ge=0;hD.prototype.V8=function(_){this.IX({d:v.pE,j:this.KA.index,name:_})};
hD.prototype.aaO=function(_){this.IX({d:v.arp,j:this.KA.index})};hD.prototype.adV=function(_){this.IX({d:v.ml,j:this.KA.index})};
hD.prototype.axC=function(_){if(_.button!=2&&!L.a00(_))return;var n=this.LN(_);if(n!=3&&_.currentTarget==this.a6U)n=4;
if(_.target==this.arG||_.currentTarget==this.an7)n=5;var O=new e_("rclick",!0);O.data={j:this.KA.index,LN:n,sX:L.q1(_,document.body)};
this.$(O)};hD.prototype.LN=function(_){var n=_.target,O=n;return O==this.Sp?2:O==this.DK?1:O==this.MK?0:O==this.q$?3:-1};
hD.prototype.asQ=function(_){var n=_.target,e;if(n==this.XB.firstChild||n==this.tu||n==this.x7||n==this.ym||n.tagName&&n.tagName.toLowerCase()=="input")return;
var O=this.LN(_),l=this.parent.cn,x=this.KA.index,t=l.B[x];if(n==this.Yp){this.IX({d:v.zX,j:x,t2:[[!1,!1,!1,!1,!1],[0,1,2,3,31]]});
return}var h=hD.Ge,V=Date.now()-h<300;hD.Ge=Date.now();if(n==this.yS){if(V){this._O.setAttribute("draggable","false");
var y=new as._X(this.yS,this.V8.bind(this))}else this.IX({d:v.IB,j:x,_$:O,SA:!0});return}if(_.button==0&&V){if(n==this.yS)return;
var r=new e_(H.E.s,!0),E=new e_(H.E.L,!0),a=new e_(H.E.yy,!0);if(O==0&&t.add.SoCo){var S=Q.N.JU(t.add.SoCo.Clr.v);
E.data={d:H.t.Rq,EW:"colorpicker",r1:S.o<<16|S.J<<8|S.k,gF:function(T){var C=Q.N.YS({k:T&255,J:T>>>8&255,o:T>>16&255});
C={classID:"null",Clr:{t:"Objc",v:C}};var Z=new e_(H.E.s,!0);Z.G=D.Ko;Z.data={d:v.wF,sT:[x],Dg:!0,h:{xP:1,cK:C}};
this.$(Z)}.bind(this),tK:!0}}else if(O==0&&(a3.get(t.add)||t.add.SoCo||t.add.GdFl||t.add.PtFl))E.data={d:H.t.$p,EW:as.n0.RG};
else if(O!=0&&O!=-1)E.data={d:H.t.$p,EW:as.n0.RG};else if(O==0&&t.add.SoLd)a.data={et:"placedLayerEditContents",ot:{classID:"placedLayerEditContents"}};
else if(O==0&&t.add.TySh){r.G=D.K9;r.data={d:"editCurr",GP:x}}else E.data={d:H.t.Rq,EW:"layerstyle",j:x};
this.$(a.data?a:E.data?E:r);return}if(_.button!=0)return;if(O==1||O==3){var P=O==3?t.vO(l).z:t.Ek();
e=P.K_?l.u.CN.join("")=="111"?1:2:0}var b={d:v.IB,j:x,_$:O,a7x:e,SA:!0};this.IX(b)};hD.prototype.IX=function(_){var n=new e_(H.E.s,!0);
n.data=_;n.G=D.Ko;this.$(n)};hD.prototype.a4u=function(){var _=this.KA.j,n=_.add,O=this.parent.uo.b(),l=this.parent.yF[O].b();
if(O==0){if(l[0]&&n.SoLd==null&&n.TySh==null&&_.Jq())return!0;if(l[1]&&a3.get(n)!=null)return!0;if(l[2]&&n.TySh!=null)return!0;
if(l[3]&&n.vstk!=null)return!0;if(l[4]&&n.SoLd!=null)return!0;return!1}if(O==1)return _.getName().toLowerCase().indexOf(l.toLowerCase())!=-1};
cp.N9=function(_,n,O,l,x,t,h){b1.call(this);this.agm=n;this.tU=O;this.index=t;this.m=L.S("div","styleitem");
this._O=L.S("div","head");this.aqr=null;if(n=="f"){var V=this.aqr=L.S("div","headR");V.textContent="\u2699";
this._O.appendChild(V)}this.XB=L.S("div","eye gsicon");this.yS=L.S("div","label");this.m.appendChild(this._O);
this._O.appendChild(this.XB);if(h){this.DK=h;this._O.appendChild(h);this._O.setAttribute("style","height: "+(26/L.V()+10)+"px")}this.yS.innerHTML=_;
this.m.setAttribute("style","margin-left: "+(24+l*16+x*22)+"px");this._O.appendChild(this.yS);this.XB.addEventListener("click",this.a0V.bind(this),!1);
var y=this.m;y.setAttribute("draggable","true");y.addEventListener("dragstart",this.$a.bind(this),!1);
if(!0){y.addEventListener("drop",this.RD.bind(this),!1);y.addEventListener("dragover",this.$k.bind(this),!1);
y.addEventListener("dragenter",L.bO,!1);y.addEventListener("dragleave",this.eQ.bind(this),!1)}this.m.addEventListener("click",this.PF.bind(this),!1)};
cp.N9.prototype=new b1;cp.N9.prototype.$a=function(_){_.stopPropagation();_.dataTransfer.setData("Text",JSON.stringify({TO:this.agm,Ky:this.parent.KA.index,R2:this.index}))};
cp.N9.prototype.eQ=function(_){L.bO(_);this.Vv()};cp.N9.prototype.RD=function(_){L.bO(_);this.Vv();var n=_.dataTransfer.getData("Text");
if(n=="")return;var n=JSON.parse(n);hD.a4J(_,n,this.parent,this.index+(hD.Rg(_,this._O)>.5?0:1))};cp.N9.prototype.$k=function(_){L.bO(_);
var n=hD.Rg(_,this._O)>.5;this.Vv();var O="border-"+(n?"bottom":"top");this._O.style[O]="0.2em solid rgba(0,0,0,0.5)"};
cp.N9.prototype.Vv=function(_){this._O.style.border="none"};cp.N9.prototype.ND=function(_){this.XB.style.opacity=_?1:.2};
cp.N9.prototype.PF=function(_){var n=hD.Ge,O=Date.now()-n<300;hD.Ge=Date.now();if(_.target==this.XB)return;
var l=this.parent.KA.index;if(O&&this.tU!=null){var l=this.parent.KA.index,x=new e_(H.E.L,!0);if(this.tU.indexOf("afw_")==0){var t=this.tU.slice(4),h=ez[t]||ie.e[t],V=_.target==this.aqr;
if(!V&&!h)return;x.data=D._H.aaT(V?"blendOptions":t,{j:l,index:this.index})}else x.data={d:H.t.Rq,EW:this.tU,j:l,index:this.index};
this.$(x)}else{if(_.target.className!="thumb")this.parent.IX({d:v.IB,j:l,_$:0})}};cp.N9.prototype.a0V=function(_){var n={fm:v.ri,f:v.aS,sm:v.Wh,s:v.NX}[this.agm];
this.parent.IX({d:n,j:this.parent.KA.index,index:this.index})};function cy(){as.call(this,"Guide Guy",!1,"---panels/guideguy",as.n0.a3C);
this.ii=null;this.L8=new cB(null,Q.k4.sG)}cy.prototype=new as("");cy.prototype.Ph=function(){this.YY=[];
var _=L.S("div","form padded");this.$i.appendChild(_);_.setAttribute("style","width:200px");this.$i.appendChild(_);
var n=L.S("canvas"),O=n.getContext("2d");n.width=n.height=160;var l=[32,0,16,160,0,32,160,16,0,112,160,16],x="Margin Left,Margin Top,Margin Right,Margin Bottom,Column Count,Row Count,Column Width,Row Height,Column Gap,Row Gap".split(","),t=[0,0,0,0,0,0,0,0,0,0];
_.appendChild(this.L8.m);for(var m=0;m<10;m++){O.clearRect(0,0,160,160);O.setTransform(1,0,0,1,80,80);
O.rotate((m&3)*Math.PI/2);O.translate(-80,-80);O.fillStyle="rgba(0,0,0,0.3)";if(m<4){for(var h=0;h<12;
h+=4){O.fillStyle=h==0?"#000000":"rgba(0,0,0,0.3)";O.fillRect(l[h],l[h+1],l[h+2],l[h+3])}}else if(m<6){var V=8*6;
O.fillRect(0,0,V,160);O.fillRect(8*7,0,V,160);O.fillStyle="#000000";O.fillRect(8*14,0,V,160)}else if(m<8){O.fillRect(0,0,16,160);
O.fillRect(160-16,0,16,160);O.fillRect(32,0,160-64,160);O.fillStyle="#000000";O.fillRect(32,80-8,160-64,8*1)}else{O.fillRect(0,0,8*7,160);
O.fillRect(8*13,0,160,160);O.fillStyle="#000000";O.fillRect(8*7,80-8,8*6,8*1)}var y="<img src=\""+n.toDataURL()+"\" class=\"autoscale gsicon\" /> ",r=new bd(y,0,200,null,m==4||m==5?0:2,null,null,4,x[m]);
r.parent=this;r.Z(H.E.A,this.a7Q,this);r.c(t[m]);r.f();this.YY.push(r);_.appendChild(r.m)}var E=[[11,14],[11,15,0]];
this.uY=[];for(var m=0;m<E.length;m++){var a=new cw(E[m],!0,null,!0);this.uY.push(a);a.Z("click",this.qV,this);
_.appendChild(a.m)}for(var m=0;m<6;m++){O.setTransform(1,0,0,1,80,80);O.rotate(Math.floor(m/3)*Math.PI/2);
O.translate(-80,-80);O.clearRect(0,0,160,160);O.fillStyle="rgba(0,0,0,0.3)";O.fillRect(0,0,160,160);
O.clearRect(16,16,128,128);O.fillStyle="#000000";var S=m%3;O.fillRect([0,9,18][S]*8,0,16,160);var y="<img src=\""+n.toDataURL()+"\" class=\"autoscale gsicon\" /> ",a=new cw(y,!1,null,!1);
this.uY.push(a);a.Z("click",this.qV,this);_.appendChild(a.m)}};cy.prototype.f=function(){as.prototype.f.call(this);
this.L8.f();if(this.YY==null)return;for(var m=0;m<this.uY.length;m++)this.uY[m].f()};cy.prototype.a7Q=function(_){var n=this.YY,O=n.indexOf(_.target),l=Math.floor(O/2),x=O&1,t=[];
for(var m=0;m<4;m++)t.push(n[2*m+x].b());var h=-1;if(l==2&&t[2]!=0&&t[3]!=0&&t[4]!=0)h=4;if(l==3&&t[3]!=0&&t[2]!=0&&t[4]!=0)h=4;
if(l==4&&t[4]!=0&&t[2]!=0&&t[3]!=0)h=3;if(h!=-1)n[2*h+x].c(0)};cy.prototype.qV=function(_){var n=this.ii,O=this.uY.indexOf(_.target),l=[[],[]];
if(n==null)return;var x=n.P?n.P.rect:new a8(0,0,n.a,n.n),t=x.a,h=x.n;if(O==0){var V=[[],[]],y=this.L8.b();
for(var m=0;m<this.YY.length;m++){var r=this.YY[m].b();r=Q.k4.dJ(r,n.pa,n.a,y);V[m&1].push(r)}var E=[cy.a5y(V[0],x.x,x.x+t),cy.a5y(V[1],x.y,x.y+h)];
l=cy.DG(E);D.dV.zb(l,n.tp())}else if(O==1){}else{O-=2;var a=Math.floor(O/3),E=[[],[]];E[a].push([x.x,x.x+t/2,x.x+t,x.y,x.y+h/2,x.y+h][O]);
l=cy.DG(E);D.dV.zb(l,n.tp())}this.amm(l)};cy.DG=function(_){var n=[],O=[];for(var l=0;l<2;l++)for(var m=0;
m<_[l].length;m++){n.push([l,_[l][m]]);O.push(-1)}return[n,O]};cy.prototype.abH=function(_){var n=this.aai.indexOf(_.target)};
cy.prototype.amm=function(_){var n=new e_(H.E.s,!0);n.G=D.cb;n.data={d:"gids",Ke:_};this.$(n)};cy.a5y=function(_,n,O){var l=[],x=_[2],t=_[3],h=_[4],V=0;
if(x==0)V++;if(t==0)V++;if(h==0)V++;if(V>1&&x==0&&t==0){if(_[0]!=0)l.push(n+_[0]);if(_[1]!=0)l.push(O-_[1]);
return l}var y=O-n-_[0]-_[1];if(x==0){if(h==0){x=Math.floor(y/t);h=(y-x*t)/(x-1)}else{x=1;while(t*x+h*(x-1)+t+h<=y)x++}}else if(x!=0&&t!=0){if(x*t>y)x=Math.floor(y/t);
h=(y-x*t)/(x-1)}l.push(n+_[0],O-_[1]);var t=(y-h*(x-1))/x;for(var m=1;m<x;m++){if(h==0)l.push(n+_[0]+m*t);
else l.push(n+_[0]+m*t+(m-1)*h,n+_[0]+m*t+m*h)}return l};cy.prototype.dN=function(_,n,O){this.ii=_};
cy.prototype.lY=function(){if(L.PZ(this.$i)&&this.YY==null)this.Ph();this.f()};cy.prototype.w1=function(_){this.L8.c(_.lW.Go)};
function bW(){as.call(this,[9,2],!1,"---panels/properties",as.n0.RG);this.a4M=null;this.Hf=null;this.Yw=null;
this.at1=-1;this.Zd=null}bW.prototype=new as("");bW.prototype.A$=function(_,n){this.Qc=_;this.bE=n;_=_-16;
n=n-12;var O=this.Zd;if(O){O.style.width=_+"px";O.style.height=n+"px";for(var m=0;m<3;m++)this.Tg[m].A$(_-12,n)}};
bW.prototype.Ph=function(){this.Zd=L.S("div","padded scrollable");this.$i.appendChild(this.Zd);var _=L.S("span");
this.Zd.appendChild(_);this.gK=[new cw([0,3]),new cw([12,73]),new cw([12,91,0])];for(var m=0;m<this.gK.length;
m++){var n=this.gK[m];n.Z("click",this.awf,this);_.appendChild(n.m);if(m==2)n.m.style.marginRight="0"}this.Zd.appendChild(L.S("hr"));
this.tY=new bW.f6;this.tY.parent=this;this.m$=new bW.Iw;this.m$.parent=this;this.eF=new bW.gv;this.eF.parent=this;
this.Tg=[this.tY,this.m$,this.eF];this.Zd.appendChild(this.tY.m);this.A$(this.Qc,this.bE)};bW.prototype.awf=function(_){var m=this.gK.indexOf(_.currentTarget);
this.HB(m);this.arP(m==1?this.m$.bI:-1)};bW.prototype.HB=function(_){for(var m=0;m<3;m++){this.gK[m].Xy();
var n=this.Tg[m].m;if(n.parentNode==this.Zd&&m!=_)this.Zd.removeChild(n);if(n.parentNode!=this.Zd&&m==_)this.Zd.appendChild(n)}this.gK[_].tV()};
bW.prototype.arP=function(_){var n=this.Hf.g[0],O=this.Hf.B[n],l=_+1;if(_==1&&O.MZ)return;var x=new e_(H.E.s,!0);
x.G=D.Ko;if(_!=1&&O.MZ){x.data={d:v.IB,j:n,_$:2};this.$(x)}x.data={d:v.IB,j:n,_$:l};this.$(x)};bW.prototype.f=function(){as.prototype.f.call(this);
if(this.Zd==null)return;this.dN(this.Hf);for(var m=0;m<3;m++){this.gK[m].f();this.Tg[m].f()}};bW.prototype.lY=function(){if(!L.PZ(this.$i))return;
if(this.Zd==null){this.Ph();this.w1(this.Yw,gp.WB);this.dN(this.a4M);this.f()}};bW.prototype.dN=function(_){this.a4M=_;
if(this.Zd==null)return;this.tY.dN(_);this.m$.dN(_);this.eF.dN(_);if(_==null||_.g.length==0||_.B[_.g[0]]==null){L.NT(this.$i,"disabled");
this.Hf=null;return}else L.Gd(this.$i,"disabled");var n=_.g[0],O=_.B[n],l=_.cx(),x=l[0],t=l[1];if(t.length!=0){var h=x[t[0]],V=h.add.vogk,y=!1;
if(V)for(var m=0;m<V.length;m++){var r=V[m].v;if(!Q.X.YQ(r))continue;y=!0;n=h.tE}}n+=","+y;if(_!=this.Hf||this.at1!=n){this.Hf=_;
this.at1=n;if(y)this.HB(2);else if(O.LN<1&&!O.MZ||a3.get(O.add))this.HB(0);else this.HB(1)}this.gK[1].Nf(this.m$.bI!=-1);
this.gK[2].Nf(y)};bW.prototype.w1=function(_,n){this.Yw=_;if(this.tY)this.tY.w1(_,n);if(this.eF)this.eF.w1(_,n)};
bW.f6=function(){b1.call(this);this.m=L.S("div","form");this.atl=new an("Hello");this.j3=new cw([1,12,2],null,null,!0);
this.j3.m.style.atL="right";this.j3.Z("click",this.y1,this);this.m.appendChild(this.atl.m);this.m.appendChild(this.j3.m);
this.pQ=null;this.UW=null;this.Hf=null;this.Yw=null;this.aro=-1;this.a04=null;this.$r=null;this.v1=new k5(0,!0,!0);
this.v1.parent=this;this.v1.Z(H.E.A,this.ars,this);this.m.appendChild(this.v1.m);this.P2=new fS(!0);
this.P2.parent=this;this.P2.Z(H.E.A,this.aaI,this);this.Wx=L.S("div","marged hiline");this.Wx.appendChild(this.P2.m);
this.Tl=new iP("GrFl",!0);this.Tl.parent=this;this.Tl.Z(H.E.A,this.aek,this);this.aj=L.S("div","marged hiline");
var _="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");for(var m=0;m<_.length;m++){var n=this.Tl.Gj[_[m]].m;
this.aj.appendChild(n)}this.mS=new iP("patternFill",!0);this.mS.parent=this;this.mS.Z(H.E.A,this.awQ,this);
this.il=L.S("div","marged hiline");var _=["Ptrn","Angl","Scl","Algn","phase"];for(var m=0;m<_.length;
m++){var n=this.mS.Gj[_[m]].m;this.il.appendChild(n)}this.QY={};for(var O in a3.names){if(ez[O]==null)continue;
this.QY[O]=new ez[O];this.QY[O].Z(H.E.A,this.a2W,this);this.QY[O].parent=this}var l=this.axw=L.S("div","marged hiline");
this.qn=new k5(0,!0);l.appendChild(this.qn.m);this.qn.Z(H.E.A,this.Ri,this);this.akJ=null;this.pH=new cI;
this.pH.parent=this;this.pH.Z(H.E.A,this.Ri,this);l.appendChild(this.pH.m)};bW.f6.prototype=new b1;bW.f6.prototype.ars=function(_){var n=this.v1.b(),O=this.$r,l=new a8(n[0],n[1],n[2],n[3]);
if(l.yO(O))return;this.$r=l;var x=new e_(H.E.s,!0);if(O.a==l.a&&O.n==l.n){x.G=D.cb;x.data={d:"trsl",M2:l.x-O.x,uu:l.y-O.y}}else{x.G=D.rd;
x.data={d:"scl",hM:[2,4],h:new aW(l.a/O.a,l.n/O.n),eX:0}}this.$(x)};bW.f6.prototype.A$=function(_,n){var O=this.QY;
for(var l in O)O[l].A$(_,n)};bW.f6.prototype.y1=function(_){var n=this.Hf,O=n.B[n.g[0]],l=a3.get(O.add);
this.UW.c(ie.gV(l));this.a2W()};bW.f6.prototype.f=function(){for(var _ in this.QY)this.QY[_].f();this.Tl.f();
this.mS.f();this.pH.f();this.qn.f();this.j3.f();this.v1.f()};bW.f6.prototype.Ri=function(_){var n=new e_(H.E.s,!0),O=this.qn.b(),l=this.akJ;
if(_.target==this.qn&&O[2]==l[2]&&O[3]==l[3]){n.G=D.cb;n.data={d:"trsl",M2:O[0]-l[0],uu:O[1]-l[1]}}else{var x=v.XY(new a8(O[0],O[1],O[2],O[3])),t=this.pH.aqg();
t.artboardRect={t:"Objc",v:x};n.G=D.Ko;n.data={d:v.XG,Y4:t}}this.$(n)};bW.f6.prototype.aaI=function(_){var n=this.Hf,O=n.g[0];
if(n.B[O].add.SoCo==null)return;var l=JSON.parse(JSON.stringify(n.B[O].add.SoCo));l.Clr.v=this.P2.b();
this.so({xP:1,cK:l})};bW.f6.prototype.aek=function(_){var n=this.Hf,O=n.g[0];if(n.B[O].add.GdFl==null)return;
this.so({xP:2,cK:this.Tl.b()})};bW.f6.prototype.awQ=function(_){this.so({xP:3,cK:this.mS.b()})};bW.f6.prototype.so=function(_){this.aeN(D.Ko,{d:v.wF,sT:[this.Hf.g[0]],Dg:!0,h:_})};
bW.f6.prototype.a2W=function(_){this.aeN(D.wR,{d:"edit_layer",h:this.UW.b()})};bW.f6.prototype.aeN=function(_,n){var O=new e_(H.E.s,!0);
O.G=_;O.data=n;this.$(O)};bW.f6.prototype.dN=function(_,n){var O=hU.get([0,3]),l=!1,x=!1,t=null;this.Hf=_;
if(_&&_.B.length>0&&_.g.length!=0&&_.B[_.g[0]]){var h=_.B[_.g[0]],V=a3.get(h.add);if(V!=null&&this.QY[V]!=null){t=this.QY[V].m;
this.UW=this.QY[V];this.QY[V].c(JSON.parse(JSON.stringify(h.add[V])));if(_.g[0]!=this.aro){var y=_.Cs(_.g[0]-1);
this.a04=Q.CO(y)}this.QY[V].pz(this.a04);O=hU.get(a3.names[V]);l=!0}if(V==null&&h.add.artb==null){var r=this.$r=Q.p.tR(D.D6.kf(_));
x=!r.wk();this.v1.c([r.x,r.y,r.a,r.n],[_.pa,_.a,this.Yw.lW.Go])}if(h.add.SoCo){t=this.Wx;this.P2.c(h.add.SoCo.Clr.v);
O=hU.get([6,48,0,0])}if(h.add.GdFl){t=this.aj;this.Tl.update(_,h.add.GdFl);O=hU.get([6,48,0,1])}if(h.add.PtFl){t=this.il;
this.mS.update(_,h.add.PtFl);O=hU.get([6,48,0,2])}if(h.add.artb){var E=h.add.artb,a=h.DM();t=this.axw;
this.pH.aqM(E);var S=this.akJ=[a.x,a.y,a.a,a.n];this.qn.c(S,[_.pa,_.a,this.Yw.lW.Go]);O=hU.get([1,16,0])}this.aro=_.g[0]}if(t!=this.pQ){if(this.pQ)this.m.removeChild(this.pQ);
if(t!=null)this.m.appendChild(t);this.pQ=t}this.atl.c(O);this.j3.m.style.display=l?"":"none";this.v1.m.style.display=x?"":"none"};
bW.f6.prototype.w1=function(_,n){this.Yw=_;this.Tl.w1(_,n);this.mS.w1(_,n);if(n==gp.vE)this.dN(this.Hf,_);
for(var O in this.QY)this.QY[O].w1(_,n)};bW.Iw=function(){b1.call(this);this.m=L.S("div","form");this.Hf=null;
this.bI=0;var _=L.S("span","fitem");this.m.appendChild(_);this.gK=[new cw([6,2]),new cw([6,3]),new cw([6,50])];
for(var m=0;m<this.gK.length;m++){var n=this.gK[m];n.Z("click",this.afd,this);_.appendChild(n.m)}this.ww=new jD([12,74],0,255);
this.ww.Z(H.E.A,this.E3,this);this.m.appendChild(this.ww.m);this.g$=new jD([7,6],0,500,"px",2,!0);this.g$.Z(H.E.A,this.E3,this);
this.m.appendChild(this.g$.m);this.Ut=new cw([4,11],null,null,!0);this.Ut.Z("click",this.awP,this)};
bW.Iw.prototype=new b1;bW.Iw.prototype.awP=function(){var _=new e_(H.E.s,!0);_.G=D.wR;_.data={d:"start",v3:"nvrt"};
this.$(_)};bW.Iw.prototype.E3=function(_){var n=this.ww.b(),O=this.g$.b(),l=new e_(H.E.s,!0);l.G=D.Ko;
l.data={d:v.er,FO:this.Hf.g[0],dK:{z_:this.bI,ww:n,g$:O}};this.$(l)};bW.Iw.prototype.f=function(){for(var m=0;
m<this.gK.length;m++)this.gK[m].f();this.ww.f();this.g$.f();this.Ut.f()};bW.Iw.prototype.dN=function(_){this.Hf=_;
this.DN()};bW.Iw.prototype.afd=function(_){this.DN(this.gK.indexOf(_.currentTarget));this.parent.arP(this.bI)};
bW.Iw.prototype.DN=function(_){var n=this.Hf,O=this.gK;for(var m=0;m<3;m++){var l=O[m];l.Xy();l.E0()}if(n==null||n.B.length==0||n.g.length==0||n.B[n.g[0]]==null)return;
var x=-1,t=n.B[n.g[0]];if(t.lx()&&t.vO(n).z!=null){O[2].M5();x=2}if(t.add.vmsk){O[1].M5();x=1}if(t.Ek()){O[0].M5();
x=0}if(_!=null)x=_;else if(t.MZ)x=1;else if(t.LN==3)x=2;else if(t.LN==1)x=0;this.bI=x;if(x==-1){this.ww.E0();
this.g$.E0();return}var h=t.mq(x);this.ww.M5();this.g$.M5();this.ww.c(h.ww);this.g$.c(h.g$);O[x].tV();
var V=this.Ut.m;if(x==0)this.m.appendChild(V);else if(V.parentNode==this.m)this.m.removeChild(V)};bW.gv=function(){b1.call(this);
this.m=L.S("div","form");this.ii=null;this.Yw=null;this.Wb=-1;this.v1=new k5(0,!1);this.zq=new jD([12,15],-180,180,"\xB0",2);
this.o0=new k5(1,!0);this.vm=new jD([12,94,0],0,100,null,2);this.hl=new jD([12,78],3,30);this.xe=new cw(["\u279C  ",[12,76,0]],null,null,!0);
this.v1.Z(H.E.A,this.x9,this);this.zq.Z(H.E.A,this.x9,this);this.o0.Z(H.E.A,this.x9,this);this.vm.Z(H.E.A,this.x9,this);
this.hl.Z(H.E.A,this.x9,this);this.xe.Z("click",this.x9,this)};bW.gv.prototype=new b1;bW.gv.prototype.f=function(){this.v1.f();
this.zq.f();this.o0.f();this.vm.f();this.hl.f()};bW.gv.prototype.x9=function(_){var n=this.ii,O=Q.X.pI(n),l=_.target.b(),x=[this.v1,this.zq,this.o0,this.vm,this.hl,this.xe].indexOf(_.target);
if(x==0){var t=[];t[0]=l[0];t[1]=l[1];t[2]=t[0]+l[2];t[3]=t[1]+l[3];l=t}if(x==1)l=l*Math.PI/180;var h={0:1,1:2,2:3,3:3,4:4}[x];
O[h]=l;var V=new e_(H.E.s,!0);V.G=D.Ko;V.data={d:v.bB,h:O,a4O:x==5};this.$(V)};bW.gv.prototype.dN=function(_){var n=this.m;
this.ii=_;if(_==null)return;var O=this.Yw,l=[_.pa,_.a,O.lW.Go],x=Q.X.pI(_),t=x[0],h=x[1];if(h==null)return;
var V=t!=this.Wb;this.Wb=t;if(V)L.I$(n);if(V)n.appendChild(this.v1.m);if(V)n.appendChild(this.zq.m);
this.v1.c([h[0],h[1],h[2]-h[0],h[3]-h[1]],l);this.zq.c(x[2]*180/Math.PI);if(t==2){if(V)n.appendChild(this.o0.m);
var y=x[3];this.o0.c(y,l)}if(t==7||t==8){if(V)n.appendChild(this.vm.m);this.vm.c(x[3])}if(t==8){if(V)n.appendChild(this.hl.m);
this.hl.c(x[4])}n.appendChild(this.xe.m)};bW.gv.prototype.w1=function(_,n){this.Yw=_;this.dN(this.ii)};
function eP(_){as.call(this,_.name,!0);this.cn=_;this.TG=null;this.i7=new a6(this.$i);this.i7.parent=this}eP.prototype=new as;
eP.Ts=function(){var _=document.createElement("canvas"),n=document.createElement("canvas"),O=16,l=Q.Q(16*16*4);
Q.tZ(l,O,O,8);var x=Q.scale.Iv(l,O,O);return{aP:_,wd:n,l_:_.getContext("2d"),B6:n.getContext("2d"),k2:x}}();
eP.prototype.a8o=function(){if(this.cn.t0())return window.confirm(hU.get([22,6,3])+" "+this.cn.name+". "+hU.get([22,6,4]));
return!0};eP.prototype.w1=function(_,n){this.TG=_};eP.prototype.dN=function(_){this.lY();this.H1()};
eP.prototype.A$=function(_,n){if(_<=0||n<=0)return;this.Qc=_;this.bE=n;var O=this.cn,l=eP.Ts,x=L.V();
O.u.l_.a=Math.floor(_*x);O.u.l_.n=Math.floor(n*x);L.Bw(l.aP,_,n);L.Bw(l.wd,_,n);L.Bw(ex.jk(),_,n);if(O.u.K==0)O.u.K=D.tM.aoS(O.a,O.n,_*x,n*x);
this.H1()};eP.prototype.lY=function(){var _=this.$i.firstChild,n=eP.Ts,O=ex.kj&&this.cn.add.fvec==null;
if(!O&&_==ex.jk()||O&&_==n.aP)this.$i.removeChild(_);var l=O?ex.jk():n.aP;if(!L.PZ(l))this.$i.appendChild(l)};
eP.prototype.H1=function(){if(this.TG==null)return;var _=this.cn,n=ex.kj&&this.cn.add.fvec==null;if(n)this.a6g();
else this.Rb()};eP.prototype.a6g=function(){if(ex.kj&&eP.le==null){var _=eP.le=[],n=[0,2,8,32,128];for(var m=0;
m<5;m++)_[m]=[new eP.fM(!1,n[m],!1),new eP.fM(!0,n[m],!1)];_.push([new eP.fM(!1,0,!0),new eP.fM(!0,0,!0)])}var O=this.cn,l=eP.Ts,a,P=0,f,q;
if(O._V==null)return;var x=O.u,t=x.l_.a,h=x.l_.n,V=ex.Y0;l.l_.clearRect(0,0,t,h);var y=this.auf(O);if(x.gY==null||x.gY.a!=t||x.gY.n!=h)x.gY=new ex.eO(t,h);
if(y){var r=new Uint8Array(l.l_.getImageData(0,0,t,h).data.buffer);x.gY.set(r)}else{ex.QC(x.gY);ex.d1(1)}var E=x.KS(0,0);
if(eP.agl==null)eP.agl=new Float32Array(4*1024);var S=[0,0,0,0],e=eP.agl;if(O.add.artd){e.fill(0);S=eP.XN(O);
var b=O.a,T=O.n,s=0;for(var m=0;m<O.B.length;m++){var C=O.B[m],Z=C.add.artb;if(Z==null||!C.Pn())continue;
var W=C.DM();e[P]=W.x/b;e[P+1]=W.y/T;e[P+2]=W.a/b;e[P+3]=W.n/T;P+=4;if(P==e.length)break}if(P>2*4)s++;
if(P>8*4)s++;if(P>32*4)s++;a=eP.le[s+1];e=new Float32Array(e.buffer,0,[2,8,32,128][s]*4)}else a=eP.le[O.VZ?5:0];
var g=O.IF();if(g==null)a=a[0];else{a=a[1];q=g[O.add.fcmy==1?6:4];f=g[2]}ex.tG(t,h);ex.d1(0);ex.tG(t,h);
a.SX();var i=new aY;i.scale(t,h);i.concat(x.A9(!0));i.scale(1/O.a,1/O.n);var u=[i.EX,i.k,0,i.av,i.c5,0,i.Wk,i.d7,1];
a.PR(x.gY.P8,O._V.P8,new Float32Array(u),new Float32Array([t/8,h/8,E.x/t,E.y/h]),O.a,O.n,1/O.u.K,t,h,new Float32Array(S),e,new Float32Array(Q.fN.Z4(Q.fN.WN(x.CN))),q,f);
V.drawArrays(V.TRIANGLES,0,6)};eP.XN=function(_){return[0,0,0,0]};eP.a7V=function(_){var n=Q.N.JU(_.v),O=[n.o/255,n.J/255,n.k/255,1];
for(var m=0;m<4;m++)O[m]=Math.min(1,O[m]);return O};eP.Z7=function(_,n){var O=_[2]*255;if(ex.kj)O=n?0:Math.max(1,O);
return"rgba("+_[0]*255+","+_[1]*255+","+O+","+_[3]+")"};eP.Kv=function(_){if(ex.kj)for(var m=0;m<_.length;
m+=4){if(_[m+2]==0)_[m+2]=3}};eP.prototype.Rb=function(){var _=this.cn,n=eP.Ts;if(_.buffer==null)return;
var O=_.u,l=O.l_,x=l.a,t=l.n,h=new a8(0,0,_.a,_.n);n.B6.clearRect(0,0,x,t);n.l_.clearRect(0,0,x,t);var V=O.A9(!0),y=V.clone();
y.sJ();if(_.add.artd==null){n.l_.save();var r=y.uz(new aW(0,0));y.translate(-r.x,-r.y);n.l_.translate(Math.round(r.x),Math.round(r.y));
n.l_.fillStyle=n.k2;if(_.VZ)n.l_.fillRect(-5e3,-5e3,2e4,2e4);else{this.Zs(Q.p.ta(h),y,n.l_);n.l_.fill()}n.l_.restore()}else{n.l_.fillStyle=eP.Z7(eP.XN(_));
n.l_.fillRect(0,0,x,t);n.l_.save();n.l_.setTransform(y.EX,y.k,y.av,y.c5,y.Wk,y.d7);var E=_.root.children;
for(var m=0;m<E.length;m++){var a=E[m].j;if(a.add.artb==null||!a.Pn())continue;var S=a.DM(),e=a.pn();
if(e!=0)continue;n.l_.fillStyle=n.k2;n.l_.save();n.l_.scale(1/O.K,1/O.K);n.l_.fillRect(O.K*S.x,O.K*S.y,S.a*O.K,S.n*O.K);
n.l_.restore()}n.l_.restore()}if(O.JX.length!=l.O()){O.JX=Q.Q(l.O());O.cD=Q.Q(l.O()*4)}O.cD.fill(0);
if(_.add.fvec){var y=O.A9(!0);y.sJ();n.l_.save();var P=Q.p.ta(O.l_);Q.p.D(P.C,O.A9(!0),P.C);var b=Q.p.f0(P.C);
n.l_.setTransform(y.EX,y.k,y.av,y.c5,y.Wk,y.d7);this.Zs(Q.p.ta(new a8(0,0,_.a,_.n)),null,n.l_);n.l_.clip();
_.root.a0M(_,n.l_,this.TG,b);n.l_.restore()}else{Q.scale.N1(_.buffer,h,V,O.cD,l,_.VZ);var T=_.IF();if(T)ICC.U.applyLUT(T[_.add.fcmy==1?5:3],T[2],O.cD,O.cD);
if(O.CN[0]+O.CN[1]+O.CN[2]!=3)Q.fN.s2(O.cD,O.cD,Q.fN.WN(O.CN));n.B6.putImageData(new ImageData(new Uint8ClampedArray(O.cD.buffer),l.a,l.n),0,0);
n.l_.drawImage(n.wd,0,0);n.l_.getImageData(0,0,1,1)}this.auf(_)};eP.prototype.auf=function(_){var n=_.u,O=n.CN[0]+n.CN[1]+n.CN[2],l=eP.Ts,x=!1,t=[];
for(var m=0;m<_.g.length;m++){var h=_.B[_.g[m]];if(h==null)continue;var V=h.LN;if(V!=1&&V!=3)continue;
var y=V==1?h.Ek():h.vO(_).z;if(y.K_)t.push(y)}for(var m=0;m<_.U_.length;m++)if(_.U_[m].K_)t.push(_.U_[m]);
for(var m=0;m<t.length;m++){var y=t[m];this.a4k(y,n,t.length==1&&O==0?2:1,y.color,y.r1);x=!0}var r=this.TG;
x=this.a4E(_,l.l_,n,t.length!=0)||x;if(_.P&&r.qq&&r.lW.M0){this.a4k(_.P,n,0,0,null);x=!0}return x};eP.prototype.a4k=function(_,n,O,l,x){var t=0;
if(x)t=Math.round(x.k)<<16|Math.round(x.J)<<8|Math.round(x.o);var h=n.A9(!0),V=n.l_,y=new a8(0,0,n.cn.a,n.cn.n),r=eP.Ts;
if(n.JX.length!=V.O()){n.JX=Q.Q(V.O());n.cD=Q.Q(V.O()*4)}n.JX.fill(l);n.cD.fill(0);var E=_.channel,a=_.rect;
Q.scale.D(E,a,h,n.JX,V);if(O==0){var S=new Uint32Array([4278190080,4294967295]);eP.Kv(new Uint8Array(S.buffer));
Q.P.aq8(n.JX,n.cD,V,S,L.V()>1.9)}else{Q.P.ari(n.JX,n.cD,V,O,t);eP.Kv(n.cD)}var e=new ImageData(new Uint8ClampedArray(n.cD.buffer),V.a,V.n);
r.B6.putImageData(e,0,0);r.l_.save();if(O!=0){var P=new a8(0,0,y.a,y.n),b=h.clone();b.sJ();this.Zs(Q.p.ta(P),b,r.l_);
r.l_.clip()}r.l_.drawImage(r.wd,0,0);r.l_.restore()};eP.prototype.a4E=function(_,n,O,l){var x=_.I.c_!=null||_.I.qb!=null||_.I.LV!=null||_.I.Og.length!=0||_.I.Wn.length!=0,t=this.TG,h=t.lW,V=js.O6[t.dn],y=Math.round(12*L.V()),r=y/_.u.K,E=O.A9(!0);
E.sJ();n.save();n.setTransform(E.EX,E.k,E.av,E.c5,E.Wk,E.d7);if(_.add.artd){var a=eP.XN(_)[0];a=a<.5?a+.5:a-.5;
a=""+Math.round(a*255).toString(16);while(a.length<2)a="0"+a;n.fillStyle="#"+a+a+a;n.font=r+"px sans-serif";
for(var m=0;m<_.B.length;m++){var S=_.B[m];if(S.add.artb==null||!S.Pn())continue;var P=S.DM();n.fillText(S.getName(),P.x+2,P.y-r*.7);
x=!0}}function b(kl){return kl==1||kl==2||kl==4||kl==5}var T=eP.Z7([.1,.5,1,1]),C=eP.Z7([1,1,1,1]);if(t.qq&&h.VE){n.fillStyle=n.strokeStyle=T;
n.lineWidth=1.5/O.K;var Z=_.cx(),W=Z[0],s=Z[1];for(var f=0;f<s.length;f++){var S=W[s[f]],q=S.add.vmsk,g=q.i,i=Q.p.cX(g);
this.Zs(i,null,n);n.stroke();x=!0;var u=3*L.V()/O.K,I=g.length-3;for(var m=0;m<q.wP.length;m++){var Y=Q.M.Or(g,q.wP[m]);
if(Y==null)continue;var U=Y.x,F=Y.y;n.beginPath();var N=m==0;if(q.oL)N=!N;if(N){n.moveTo(U-u,F-u);n.lineTo(U+u,F+u);
n.moveTo(U-u,F+u);n.lineTo(U+u,F-u);n.stroke()}else{n.arc(U,F,u*1,0,2*Math.PI);n.fill()}x=!0}if(_.g.length!=1)continue;
var o=-1;for(var m=0;m<g.length;m++){if(g[m].type>5)continue;if(g[m].type==0||g[m].type==3){if(g[m].wM!=-1)o++;
continue}if(q.g.indexOf(o)!=-1){var U=g[m].H.x,F=g[m].H.y;n.fillRect(U-u*.8,F-u*.8,2*u*.8,2*u*.8)}if(q.dW.indexOf(m)!=-1){var X=g[m],J=[X.H];
n.beginPath();n.moveTo(X.lz.x,X.lz.y);n.lineTo(X.H.x,X.H.y);n.lineTo(X.l6.x,X.l6.y);var c=g[m-1],p=g[m+1];
if(c&&b(c.type)&&q.dW.indexOf(m-1)==-1){n.moveTo(c.H.x,c.H.y);n.lineTo(c.l6.x,c.l6.y);J.push(c.l6)}if(p&&b(p.type)&&q.dW.indexOf(m+1)==-1){n.moveTo(p.H.x,p.H.y);
n.lineTo(p.lz.x,p.lz.y);J.push(p.lz)}n.stroke();if(!X.H.yO(X.lz))J.push(X.lz);if(!X.H.yO(X.l6))J.push(X.l6);
for(var d=0;d<J.length;d++){var Y=J[d],U=Y.x,F=Y.y;if(d==0&&(X.type==2||X.type==5))n.fillRect(U-1.2*u,F-1.2*u,2.4*u,2.4*u);
else{n.beginPath();n.arc(U,F,u*1.2,0,2*Math.PI);n.fill();if(d!=0)n.fillStyle=C;n.beginPath();n.arc(U,F,u*.8,0,2*Math.PI);
n.fill();n.fillStyle=T}}}x=!0}}}n.lineWidth=1/O.K;if(_.I.W4){n.fillStyle=n.strokeStyle=T;var p={C:[],F:[]},k=eP.aym;
if(k==null){k=eP.aym={C:[1,0],F:["M"]};for(var m=1;m<30;m++){var A=Math.PI*2*m/30;k.C.push(Math.cos(A),Math.sin(A));
k.F.push("L")}k.F.push("Z","M","L","M","L");k.C.push(-.5,0,.5,0,0,-.5,0,.5)}for(var m=0;m<_.I.W4.length;
m++){var c=D.LE.a29(_.I.W4[m],O),$=new aY(c[0],0,0,c[0],c[1],c[2]);Q.p.concat(p,k,$)}this.Zs(p,null,n);
n.stroke();x=!0}var K=new aY(1,0,0,1,.5/O.K,.5/O.K);if(_.VZ){n.fillStyle=n.strokeStyle=T;var p={C:[0,0,_.a,0,_.a,_.n,0,_.n],F:["M","L","L","L","Z"]};
this.Zs(p,K,n);n.stroke();x=!0}if(_.I.jn){n.fillStyle=n.strokeStyle=eP.Z7([0,0,0,.5]);this.Zs(_.I.jn,null,n,!0);
n.fill("evenodd")}n.fillStyle=n.strokeStyle=eP.Z7([0,0,0,ex.kj&&_.add.fvec==null?1:.5],!0);if(_.I.c_){this.Zs(_.I.c_,null,n);
n.fill()}if(_.I.qb){this.Zs(_.I.qb,K,n);n.stroke()}for(var G in _.I.Hg)if(_.I.Hg[G].qb){this.Zs(_.I.Hg[G].qb,null,n);
n.stroke();x=!0}var z=eP.aqR(_.I._x,n,O);n.stroke();x=x||z;var M=_.I.W_;n.fillStyle=eP.Z7([1,1,1,1]);
n.beginPath();var u=6*L.V()/O.K;for(var m=0;m<M.length;m+=2){x=!0;var U=M[m],F=M[m+1];n.moveTo(U+u,F);
n.arc(U,F,u,0,2*Math.PI)}n.fill();var u=4*L.V()/O.K;for(var m=0;m<M.length;m+=2){x=!0;var U=M[m],F=M[m+1];
n.fillStyle=eP.Z7(_.I.HP.indexOf(m>>>1)!=-1?[0,.6,1,1]:[.7,.7,.7,1]);n.beginPath();n.moveTo(U+u,F);n.arc(U,F,u,0,2*Math.PI);
n.fill()}if(_.I.Og.length!=0){for(var m=0;m<_.I.Og.length;m++){var hl=_.I.Og[m],j=hl[1],w;if(l){w=n.getImageData(j.x,j.y,j.a,j.n);
Q.q.Zn("norm",hl[0],j,new Uint8Array(w.data.buffer),j,j,1)}else w=new ImageData(new Uint8ClampedArray(hl[0].buffer),j.a,j.n);
n.putImageData(w,j.x,j.y)}}var B=.5/O.K;n.lineWidth=1/O.K;if(_.I.Kq){x=!0;var bB=_.I.Kq,bG=bB.zO,i={F:[],C:[]};
for(var m=0;m<bB.gc.length;m++)Q.p.concat(i,Q.p.ta(bB.gc[m]));i.C=i.C.concat(bG);for(var m=0;m<bG.length;
m+=4){i.F.push("M","L")}for(var m=0;m<i.C.length;m++){i.C[m]+=B}n.strokeStyle=eP.Z7([.9,.2,.2,1]);this.Zs(i,null,n);
n.stroke();var eb=L.V(),fe=2/O.K;n.font=r*.9+"px sans-serif";for(var m=0;m<bG.length;m+=4){var U=bG[m],F=bG[m+1],gB=bG[m+2],hp=bG[m+3],g6=Math.sqrt((hp-F)*(hp-F)+(gB-U)*(gB-U));
g6=Q.k4.eI(g6,_.pa,t,F==hp?_.a:_.n);var by=new aW((U+gB)/2,(F+hp)/2);n.fillStyle=eP.Z7([.9,.2,.2,1]);
var e7=n.measureText(g6).width;n.fillRect(by.x-e7/2-fe*eb,by.y-3.5*fe*eb,e7+2*fe*eb,7*fe*eb);n.fillStyle=eP.Z7([1,1,1,1]);
n.save();n.translate(by.x-e7/2,by.y+2*fe*eb);n.scale(.1,.1);n.font=r*9+"px sans-serif";n.fillText(g6,0,0);
n.restore()}}if(t.qq){if(h.TP){var aN=Q.k4.dJ(h.Y$,_.pa,_.a,h.dt),jK=aN;if(h.dt==4)jK*=_.n/_.a;this.tZ(_,n,aN,jK,1,h.EO);
x=!0}if(h.f2&&_.u.K>7&&_.add.fvec==null){this.tZ(_,n,1,1,.5,h.EO);x=!0}if(h.P9){var f7=_.tp(),hW=_.P_(),km=Math.max(_.u.l_.a,_.u.l_.n)/_.u.K;
km=Math.max(Math.max(_.a,_.n)*2,km);for(var m=0;m<f7[0].length;m++){var ca=f7[0][m],aU=f7[1][m];if(aU!=-1&&aU!=hW)continue;
var eJ=O.KS(ca[1],ca[1]),am=O.vk(Math.floor(eJ.x)+.5,Math.floor(eJ.y)+.5);n.beginPath();n.strokeStyle=eP.Z7([0,aU==-1?1:.5,1,1]);
if(ca[0]==0){var eA=am.x;n.moveTo(eA,-km);n.lineTo(eA,km)}else{var dj=am.x;n.moveTo(-km,dj);n.lineTo(km,dj)}n.stroke();
x=!0}}var cM=_.Ks;if(h.Ks&&cM.length!=0){n.font=r*.8+"px sans-serif";var b2=[],cm=[];for(var m=0;m<cM.length;
m++){var az=D.aR.$P(cM,m);b2.push(az);if(_.qo.indexOf(m)!=-1)cm.push(az)}b2.reverse();var j_=Date.now();
b2=Q.rect.sj([0,0,_.a,_.n],b2);for(var d=0;d<2;d++)for(var m=0;m<b2.length;m++){var hh=b2[m],o=hh[4],gs=o!=null?cM[o]:null;
if(gs&&d==0||gs==null&&d==1)continue;var U=Math.round(hh[0]),F=Math.round(hh[1]),gB=Math.round(hh[2]),hp=Math.round(hh[3]);
n.strokeStyle=n.fillStyle=eP.Z7(gs?[0,.7,.7,1]:[.8,.8,.8,1]);n.strokeRect(U+B,F+B,gB-U,hp-F);var fI=m+1,c0=n.measureText(fI),e7=c0.width;
n.fillRect(U,F,e7+r/2,r);n.fillStyle=eP.Z7([1,1,1,1]);n.fillText(fI,U+r/4,F+r*.8)}var fe=2/_.u.K,ay=2*fe;
for(var m=0;m<cm.length;m++){var hh=cm[m],U=Math.round(hh[0]),F=Math.round(hh[1]),gB=Math.round(hh[2]),hp=Math.round(hh[3]);
n.strokeStyle=n.fillStyle=eP.Z7([1,.6,0,1]);n.strokeRect(U+B,F+B,gB-U,hp-F);var fC=[U,F,gB,F,gB,hp,U,hp];
for(var jQ=0;jQ<fC.length;jQ+=2){var eA=fC[jQ],dj=fC[jQ+1],fw=fC[jQ+2&7],aG=fC[jQ+3&7];n.fillRect(eA-fe,dj-fe,ay,ay);
n.fillRect(Math.round((eA+fw)/2)-fe,Math.round((dj+aG)/2)-fe,ay,ay)}}x=!0}var a_=_.add.Anno;if(a_&&a_.length!=0)for(var m=0;
m<a_.length;m++){var el=a_[m],dD=el[2],eA=el[0]-B,dj=el[1]-B,ay=30/O.XC,ip=.4*ay,jn=.6*ay;n.beginPath();
n.moveTo(eA,dj+jn);n.lineTo(eA,dj);n.lineTo(eA+ay,dj);n.lineTo(eA+ay,dj+ay);n.lineTo(eA+ip,dj+ay);n.closePath();
n.lineTo(eA+ip,dj+jn);n.lineTo(eA+ip,dj+ay);if(m==_.u.ej){n.lineWidth*=5;n.strokeStyle=eP.Z7([0,0,0,.5]);
n.stroke();n.lineWidth/=5}n.fillStyle=eP.Z7([dD.o/255,dD.J/255,dD.k/255,1]);n.fill();n.strokeStyle=eP.Z7([0,0,0,1]);
n.stroke()}}n.strokeStyle=eP.Z7([1,0,0,1]);if(_.I.LV){this.Zs(_.I.LV,K,n);n.stroke()}n.restore();if(t.PS){if(_.u.fd==null||_.u.fd.width!=_.u.l_.a||_.u.px.height!=_.u.l_.n){_.u.fd=n.createImageData(_.u.l_.a,Q.k4.BV);
_.u.px=n.createImageData(Q.k4.BV,_.u.l_.n)}var V=js.O6[t.dn],af=0,iU=0,hV=_.a,gn=_.n;if(_.P_()!=-1){var P=_.B[_.P_()].DM();
af=P.x;iU=P.y;hV=P.a;gn=P.n}af*=O.K;iU*=O.K;var O=_.u,fY=[1,_.pa,_.pa/2.54,_.pa/25.4,hV/100][h.Go],e1=O.K*_.a/2,d6=O.K*_.n/2,fO=[O.K*fY,new aW(O.R.x+(af+e1*fY-e1),O.R.y+(iU+d6*fY-d6))];
if(h.Go==4)fY*=gn/hV;var i$=[O.K*fY,new aW(O.R.x+(af+e1*fY-e1),O.R.y+(iU+d6*fY-d6))],gy=this.i7.fh;Q.k4.app(O,V["--text-color"],V["--bg-input"],Math.floor(gy.x),Math.floor(gy.y),fO,i$);
var fT=da.ayE(O.K,eP.Z7([1,1,1,1]),_.a,_.n);eP.Kv(_.u.px.data);eP.Kv(_.u.fd.data);n.putImageData(_.u.px,0,0);
n.putImageData(_.u.fd,0,0);n.putImageData(fT,0,_.u.l_.n-fT.height)}if(_.I.Wn.length!=0){for(var m=0;
m<_.I.Wn.length;m++){var hl=_.I.Wn[m],j=hl[1];n.putImageData(new ImageData(new Uint8ClampedArray(hl[0].buffer),j.a,j.n),j.x,j.y)}}return x||t.PS};
eP.prototype.tZ=function(_,n,O,l,x,t){while(O*_.u.K<4){O*=2;l*=2}var h=_.a,V=_.n,y=.5/_.u.K;n.strokeStyle=eP.Z7([.5,.5,.5,x],!0);
n.save();n.rect(0,0,h,V);n.clip();n.beginPath();for(var r=0;r<=h;r+=O){n.moveTo(r+y,0);n.lineTo(r+y,V)}if(t==0){for(var E=0;
E<=V;E+=l){n.moveTo(0,E+y);n.lineTo(h,E+y)}}else{l*=Math.sqrt(4/3);var a=l*Math.floor(h/l),S=h*(l/(2*O));
for(var E=-a;E<=V+a;E+=l){n.moveTo(0,E);n.lineTo(h,E-S);n.moveTo(0,E);n.lineTo(h,E+S)}}n.stroke();n.restore()};
eP.aqR=function(_,n,O,l){n.beginPath();var x=(l?l:1)*(4*L.V()+.5)/O.K,t=!1;for(var m=0;m<_.length;m+=2){t=!0;
var h=_[m],V=_[m+1];n.rect(h-x,V-x,2*x,2*x)}return t};eP.nK=function(_,n,O,l){O.beginPath();if(l)O.rect(-1e5,-1e5,1e6,1e6);
var x=_;if(n){x=Q.p.clone(_);Q.p.D(x.C,n,x.C)}Typr.U.pathToContext({cmds:x.F,crds:x.C},O)};eP.prototype.Zs=eP.nK;
eP.fM=function(_,n,O){ex.Y8.call(this);var l=n!=0,x=O?"true":"in01(sCoord)",t="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\t"+(_?"uniform sampler2D lut;  uniform float N;  "+ex.HR.rW:"")+"\t\t\tuniform vec3 contSizeZoom;\t\t\tuniform vec2 cnvSize;\t\t\tuniform mat4 ctrn; \t\t\t"+(l?"uniform vec4 bgClr;  uniform vec4 ars["+n+"]; ":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\t/* This approximates the error function, needed for the gaussian integral */ \t\t\tvec4 erf(vec4 x) { \t\t\t  vec4 s = sign(x), a = abs(x);\t\t\t  x = 1.0 + (0.278393 + (0.230389 + 0.078108 * (a * a)) * a) * a;\t\t\t  x *= x;  \t\t\t  return s - s / (x * x); \t\t\t} \t\t\t/* Return the mask for the shadow of a box from lower to upper */  \t\t\tfloat boxShadow(vec2 lower, vec2 upper, vec2 point, float sigma) { \t\t\t  vec4 query = vec4(point - lower, point-upper); \t\t\t  vec4 integral = 0.5 + 0.5 * erf(query * (sqrt(0.5) / sigma)); \t\t\t  return (integral.z - integral.x) * (integral.w - integral.y); \t\t\t} \t\t\t\t\t\tvec4 simpleBlend(vec4 src, vec4 tgt) {\t\t\t\tfloat na = src.w + tgt.w*(1.0-src.w);\t\t\t\t/* avoid division by zero */ \t\t\t\treturn na==0.0 ? vec4(0,0,0,0) : vec4( (src.xyz*src.w + tgt.w*tgt.xyz*(1.0-src.w))*(1.0/na), na);\t\t\t} \t\t\t\t\t\t"+ex.HR.cm+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, tCoord); \t\t\t\tvec4 tgt = texture2D(target, sCoord"+(O?"-floor(sCoord)":"")+"); \t\t\t\t"+(_?"tgt.rgb = mapLut(tgt, lut, N).rgb; ":"")+"\t\t\t\ttgt = ctrn * tgt; "+(l?"\t\t\t\t\tbool inr = false; vec4 BG = bgClr; \t\t\t\t\tfor(int i=0; i<"+n+"; i++) { \t\t\t\t\t\tvec4 ar = ars[i]; \t\t\t\t\t\tvec2 nsc = sCoord - ar.xy; \t\t\t\t\t\tif( ar.z!=0.0 && in01(nsc/ar.zw) ){\t\t\t\t\t\tinr=true; BG=mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1); }\t\t\t\t\t}\t\t\t\t":"\t\t\t\t\tfloat shdw = 0.3*boxShadow(vec2(0,0),contSizeZoom.xy, sCoord*contSizeZoom.xy+vec2(0.0,-6.0*contSizeZoom.z) , 10.0*contSizeZoom.z);\t\t\t\t\tvec4 grid = mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1);\t\t\t\t\tvec4 BG = "+x+" ? grid : vec4(0.0,0.0,0.0,shdw); \t\t\t\t")+"\t\t\t\tvec4 outc = "+x+" ?  simpleBlend(tgt,BG) :  BG ;  \t\t\t\tif(src.b == 0.0 && src.a >0.5) gl_FragColor = mix(outc, vec4(vec3(1,1,1)-outc.rgb,1.0), src.w); \t\t\t\telse             gl_FragColor = simpleBlend(src,outc); \t\t\t\t\t\t\t}",h="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\tuniform mat3 tmat;\t\t\tuniform vec4 gsize;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (tmat*vec3(verPos,1.0)).xy;\t\t\t\tgCoord = (verPos-gsize.zw) * gsize.xy ; \t\t\t\tgl_Position = vec4(vec2(-1.0, 1.0) + 2.0*vec2(verPos.x,-verPos.y), 0.0, 1.0);\t\t\t}";
this.L7(t,h)};eP.fM.prototype=new ex.Y8;eP.fM.prototype.PR=function(_,n,O,l,x,t,h,V,y,r,E,a,S,e){this.UC("tmat gsize source target lut N contSizeZoom cnvSize bgClr ars ctrn".split(" "));
var P=ex.Y0,b=this.D3;P.uniformMatrix3fv(b.tmat,!1,O);P.uniform4fv(b.gsize,l);P.uniform3f(b.contSizeZoom,x,t,h);
P.uniform2f(b.cnvSize,V,y);P.uniformMatrix4fv(b.ctrn,!1,a);if(this.asq){P.uniform4fv(b.ars,E);P.uniform4fv(b.bgClr,r)}P.uniform1i(b.source,0);
P.uniform1i(b.target,1);P.activeTexture(P.TEXTURE0);P.bindTexture(P.TEXTURE_2D,_);P.activeTexture(P.TEXTURE1);
P.bindTexture(P.TEXTURE_2D,n);if(S){P.uniform1f(b.N,e);P.uniform1i(b.lut,2);P.activeTexture(P.TEXTURE2);
P.bindTexture(P.TEXTURE_2D,S.P8);var T=P.LINEAR;P.texParameteri(P.TEXTURE_2D,P.TEXTURE_MIN_FILTER,T);
P.texParameteri(P.TEXTURE_2D,P.TEXTURE_MAG_FILTER,T)}P.activeTexture(P.TEXTURE0)};function hK(){as.call(this,[9,7],!1,"---panels/layercomps",as.n0.auU);
this.$i.setAttribute("style","min-width:240px;");this.Hf=null;this.cI=-1;this.vi=[];this._M=L.S("div","scrollable");
this._M.style.height="160px";this.$i.appendChild(this._M);this.Hu=L.S("div","lpfoot");this.$i.appendChild(this.Hu);
this.uY=[];var _=["<svg  class=\"miniscale gsicon\" viewBox=\"0 0 15 15\" width=\"15\" height=\"15\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>","reload","lrs/newlayer","lrs/bin"],n=["Layer Comps to Files",[5,10],[5,3],[5,4]];
for(var m=0;m<_.length;m++){var O=_[m];if(m>0)O="<img src=\""+PIMG[_[m]]+"\" class=\"miniscale gsicon\" />";
var l=new cw(O,!1,n[m]);l.Z("click",this.ai_,this);this.Hu.appendChild(l.m);this.uY.push(l)}}hK.prototype=new as("");
hK.prototype.A$=function(_,n){this.$i.setAttribute("style","width:"+(_-2)+"px;");this._M.style.height=n-28+"px"};
hK.prototype.IX=function(_){var n=new e_(H.E.s,!0);n.data=_;n.G=D.lI;this.$(n)};hK.a0j="var opts = new ExportOptionsSaveForWeb(); opts.format = SaveDocumentType.PNG; opts.PNG8 = false; opts.quality = 100; var doc = app.activeDocument;var lc = doc.layerComps;  if(lc.length==0) alert(\"No layer comps.\"); else { \tvar stat = doc.historyStates.length - 1;\t\tfor(var i=0; i<lc.length; i++) {\t\tlc[i].apply();\t\tpngFile = new File(lc[i].name+\".png\");\t\tapp.activeDocument.exportDocument(pngFile, ExportType.SAVEFORWEB, opts);\t}\t\tdoc.activeHistoryState = doc.historyStates[stat];}";
hK.prototype.ai_=function(_){var m=this.uY.indexOf(_.currentTarget)-1;if(m==-1){var n=new e_(H.E.L,!0);
n.data={d:H.t.n$,TF:hK.a0j};this.$(n);return}if(m!=1)if(this.cI==-1)return;this.IX({d:["updLC","addLC","delLC"][m],tE:this.cI});
if(m==2)this.cI=-1};hK.prototype.f=function(){as.prototype.f.call(this);for(var m=0;m<this.uY.length;
m++)this.uY[m].f()};hK.prototype.dN=function(_){if(_==null)L.NT(this.$i,"disabled");else L.Gd(this.$i,"disabled");
this.Hf=_;L.I$(this._M);if(_==null)return;var n=_.OQ.lastAppliedComp?_.OQ.lastAppliedComp.v:0,O=_.OQ.list.v.slice(0);
O.unshift({v:{Nm:{v:"Last Document State"},compID:{v:0},capturedInfo:{v:0}}});for(var m=0;m<O.length;
m++){var l=O[m].v,x=new eN(l.Nm.v,l.compID.v,l.capturedInfo.v,n,this.cI);x.Z("activate",this.XO,this);
x.parent=this;this._M.appendChild(x.m);this.vi.push(x)}};hK.prototype.XO=function(_){this.cI=_.currentTarget.tE;
this.dN(this.Hf)};function eN(_,m,n,O,l){b1.call(this);this.tE=m;this.m=L.S("div","head listitem"+(m==l?" selected":""));
var x=m==O,t=new cw(x?"\u2713":"\u2014");if(x)t.tV();this.m.appendChild(t.m);t.Z("click",this.$N,this);
var h=this.Cv=L.S("span");h.textContent=_;this.m.appendChild(h);this.uY=[];if(m!=0){this.m.addEventListener("mouseup",this.XO.bind(this),!1);
this.a7G=L.S("span","headR");this.m.appendChild(this.a7G);var V=["lrs/eye","pos","lrs/fx"],y=["Visibility","Position","Appearance"];
for(var r=0;r<V.length;r++){var E=new cw("<img src=\""+PIMG[V[r]]+"\" class=\"autoscale gsicon\" />",!1,y[r]);
if((n>>r&1)==0)E.m.setAttribute("style","opacity:0.3");E.Z("click",this.apW,this);this.a7G.appendChild(E.m);
this.uY.push(E)}}}eN.prototype=new b1;eN.prototype.XO=function(_){if(_.target!=this.Cv&&_.target!=this.m)return;
if(_.detail==1)this.$(new e_("activate",!1));else{var n=new as._X(this.Cv,this.V8.bind(this))}};eN.prototype.apW=function(_){var m=this.uY.indexOf(_.currentTarget);
this.IX({d:"editLC",apA:m,tE:this.tE})};eN.prototype.V8=function(_){this.IX({d:"editLC",Cq:_,tE:this.tE})};
eN.prototype.$N=function(_){this.IX({d:"setLC",tE:this.tE})};eN.prototype.IX=function(_){var n=new e_(H.E.s,!0);
n.data=_;n.G=D.lI;this.$(n)};function gG(){as.call(this,[9,11],!1,"---panels/navigator",as.n0.a2Z);var _=L.S("div","padded");
_.setAttribute("style","min-width:15em");this.$i.appendChild(_);var n=L.S("div");_.appendChild(n);n.setAttribute("style","cursor:grab;");
this.T=L.S("canvas");this.T.width=100;n.appendChild(this.T);L.H7(this.T);L.a9(this.T,this.Zw.bind(this));
this.Tz=new bb(null,2,6400,"%",null,!0);this.Tz.Z(H.E.A,this.ag5,this);_.appendChild(this.Tz.m);this.a7U=this.kL.bind(this);
this.alp=this.BN.bind(this);this.ii=null;this.Vs=null;this.I7=!1}gG.prototype=new as("");gG.prototype.A$=function(_,n){this.H1()};
gG.prototype.ag5=function(_){var n=this.Tz.b(),O=this.ii,l=n/100;if(.8<l&&l<1.2)l=1;else if(1.8<l)l=Math.round(l);
var x=new e_(H.E.s,!0);x.G=D.iz;x.data={d:"zoom",K:l};this.$(x)};gG.prototype.Zw=function(_){var n=this.ii;
if(n==null)return;this.I7=!0;L.hw(window,this.a7U);L.LY(window,this.alp)};gG.prototype.kL=function(_){var n=L.q1(_,this.T),O=this.ii,l=this.T.width,x=this.T.height,t=(n.x*L.V()-l/2)/l,h=(n.y*L.V()-x/2)/x,V=L.V()*O.u.K,y=Math.round(-O.u.K*O.a*t),r=Math.round(-O.u.K*O.n*h);
D.qJ.Uz(O,y,r)};gG.prototype.BN=function(_){L.Xa(window,this.a7U);L.l4(window,this.alp);this.I7=!1};
gG.prototype.dN=function(_){if(_==null&&this.ii!=null)this.T.width=100;this.ii=_;this.H1()};gG.prototype.adT=function(){var _=300*L.V(),n=0,O=this.ii,l=[O.Cs(),new a8(0,0,O.a,O.n)];
Q.iL(l);while(Math.max(l[n+1].a,l[n+1].n)>_){n+=2}this.Vs=l.slice(n)};gG.prototype.H1=function(){var _=this.ii;
if(_==null||_.u.K==0)return;var n=_.u;if(!L.PZ(this.$i))return;this.Tz.c(n.K*100);if(!this.I7)this.adT();
var O=this.Vs[0],l=this.Vs[1],x=l.a,t=l.n,h=this.T;h.width=x;h.height=t;L.i8(h,x,t);var V=h.getContext("2d"),y=V.createImageData(x,t);
Q.Jt(O,y.data);V.putImageData(y,0,0);var r=n.l_,E=n.vk(r.x,r.y),a=n.vk(r.x+r.a,r.y+r.n),S=x/_.a;V.scale(S,S);
V.lineWidth=4/S;V.strokeStyle="#ff0000";V.strokeRect(E.x,E.y,a.x-E.x,a.y-E.y)};gG.prototype.w1=function(_,n){};
gG.prototype.lY=function(){this.H1()};function ev(_,n){as.call(this,_.name,!1,_.icon,n);this.ah9=_}ev.prototype=new as("");
ev.prototype.Ph=function(){var _=this.$i,n=this.ah9;if(!L.PZ(_)||this.O$)return;var O=this.O$=L.S("iframe");
O.setAttribute("src",n.url);this.$i.appendChild(O)};ev.prototype.lY=ev.prototype.dN=function(){this.Ph()};
ev.prototype.m3=function(_){if(L.PZ(this.O$))this.O$.contentWindow.postMessage(_,"*")};ev.prototype.A$=function(_,n){if(this.O$==null)return;
this.O$.setAttribute("style","width:"+_+"px; height:"+n+"px")};function i_(){as.call(this,[9,12],!1,"---panels/tpreset",as.n0.oy);
this.Yw=null;this.GT=new gL(D.fQ);this.GT.parent=this;var _=L.S("div","padded");_.setAttribute("style","width:20em");
this.$i.appendChild(_);_.appendChild(this.GT.FG)}i_.prototype=new as("");i_.prototype.lY=function(){this.GT.H5(this.Yw.ep)};
i_.prototype.w1=function(_,n){this.Yw=_;if(n==gp.WB||n==gp.oy)this.GT.H5(_.ep)};i_.prototype.A$=function(_,n){this.GT.ax4(this.Yw.kp)};
i_.prototype.f=function(){as.prototype.f.call(this);this.GT.f()};var jN=function(){var _=[],n=null,O=null,l=null,x=[[100,180,255],[100,255,100],[255,200,100],[200,100,255],[255,100,200]];
function t(){as.call(this,"Memory",!1,null,as.n0.aeH);var S=L.S("div","padded");this.$i.appendChild(S);
O=new cw(["<< VAR0",[0,13,2]],!1,null,!0);O.addEventListener("click",function(e){_.pop();V()});S.appendChild(O.m);
n=L.S("div","scrollable");n.setAttribute("style","width:20em;  height:26em; margin-top:8px;");S.appendChild(n)}t.prototype=new as("");
t.prototype.dN=function(S,e,P){l=e;this.lY()};t.prototype.lY=function(){O.Nf(!1);if(!L.PZ(n))return;
var S={zK:"Total:",Im:[]};for(var m=0;m<l.length;m++)S.Im.push(r(l[m]));a(S);_=[S];V()};t.prototype.f=function(){as.prototype.f.call(this);
O.f()};function h(S){var e=S.currentTarget,m=0;while((e=e.previousSibling)!=null)m++;_.push(_[_.length-1].Im[m-1]);
V()}function V(){O.Nf(_.length>1);var S=_[_.length-1];L.I$(n);y(S,n,0);S.Im.sort(function(e,P){return P.WG[0]-e.WG[0]});
for(var m=0;m<S.Im.length;m++)y(S.Im[m],n,1)}function y(S,e,P){var b=cH.Mi,T=P!=0&&S.Im,C="margin-left:"+P*10+"px; margin-bottom:8px; padding:3px 5px;";
if(T)C+="cursor:pointer;";if(S.TO!=null)C+="background-color:rgba("+x[S.TO].join(",")+",0.2);";var Z=L.S("div");
e.appendChild(Z);Z.setAttribute("style",C);Z.innerHTML=L.RI(S.zK)+"<br />"+"RAM: <b>"+b(S.WG[0])+"</b>\u2001GPU: <b>"+b(S.WG[1])+"</b>";
if(T)Z.addEventListener("click",h,!1)}function r(S){var e={zK:S.name,Im:[],TO:0},P=ex.kj?1:0,b=1-P,T={zK:"Final Image",WG:[S.a*S.n*4,P*S.a*S.n*4],TO:2};
e.Im.push(T);for(var m=0;m<S.B.length;m++){var C=E(S.B[m]);if(C.Im.length!=0)e.Im.push(C)}var Z=S.add.lnk2;
if(Z)for(var m=0;m<Z.length;m++){var C=Z[m],W={zK:C.L5,Im:[],TO:4},s=0;W.Im.push({zK:"Raw file",WG:[C.raw.length,0]});
if(C.lf)for(var f=0;f<C.lf.length;f+=2)s+=C.lf[f].length;if(s!=0)W.Im.push({zK:"Decoded pixels",WG:[s,0]});
a(W);e.Im.push(W)}a(e);return e}function E(S){var e={zK:S.getName(),Im:[],TO:1},P=ex.kj?1:0,b=1-P,T=S.rect.O();
if(T!=0)e.Im.push({zK:"Layer pixels",WG:[T*4,P*T*4]});if(S.add.lmfx&&S.Fy.xB.type){var C=S.Fy.xB.type,f=0;
for(var Z in C){var W=0;for(var s=0;s<C[Z].length;s++)if(Z=="ebbl"){if(C[Z][s].iR)W+=C[Z][s].iR.NV.O();
if(C[Z][s].u$)W+=C[Z][s].u$.NV.O();if(C[Z][s].OF)W+=C[Z][s].OF.NV.O();if(C[Z][s].J6)W+=C[Z][s].J6.NV.O()}else W+=C[Z][s].NV.O();
if(W!=0)e.Im.push({zK:hU.get(aF.names[aF.order.indexOf(Z)]),WG:[b*W*4,P*W*4],TO:3})}if(S.Fy.Xm)f+=T;
if(S.Fy.Th)f+=T;if(S.Fy.tW)f+=T;if(S.Fy.tW)f+=T;if(S.Fy.Pa)f+=T;if(S.Fy.g6)f+=T;var q=S.Fy.MI?S.Fy.MI.length:0;
if(f+q!=0)e.Im.push({zK:"Additional Blending Data",WG:[b*f*4+q,P*f*4]})}var g=S.Ek(),i=g?g.rect.O():0;
if(i!=0){e.Im.push({zK:"Raster Mask",WG:[i,0]})}var g=S.add.vmsk,i=g&&g.VI?g.VI.rect.O():0;if(i!=0){e.Im.push({zK:"Vector Mask",WG:[i,0]})}a(e);
return e}function a(S){S.WG=[0,0];for(var m=0;m<S.Im.length;m++){S.WG[0]+=S.Im[m].WG[0];S.WG[1]+=S.Im[m].WG[1]}}return t}();
function gv(){as.call(this,[9,14],!1,"---panels/notes",as.n0.agx);this.$i.setAttribute("style","min-width:240px;");
var _=L.S("div","padded");this.$i.appendChild(_);this.lA=new g_("Author");_.appendChild(this.lA.m);this.pf=L.S("textarea");
L.vw(this.pf);_.appendChild(this.pf);var n=new cw("<<",null,null,!0);_.appendChild(n.m);this.az5=n;var O=new cw(">>",null,null,!0);
_.appendChild(O.m);n.Z("click",this.T8,this);O.Z("click",this.T8,this);var l=this.aqs=new an("");_.appendChild(l.m)}gv.prototype=new as("");
gv.prototype.T8=function(_){var n=_.target==this.az5?-1:1,O=this.ii,l=O.add.Anno;if(l==null)return;var x=l.length,t=O.u.ej;
O.u.ej=(t+n+x)%x;O.i1=!0;this.H1()};gv.prototype.H1=function(){var _=this.ii;if(_==null)return;var n=_.add.Anno;
if(n==null||n.length==0)return;var O=_.u.ej,l=n[O];this.pf.value=l[4];this.aqs.c(O+1+" / "+n.length);
this.lA.c(l[3])};gv.prototype.A$=function(_,n){if(this.Qc==_)return;this.Qc=_;n=Math.min(n,200);this.pf.setAttribute("style","display:block;tab-size:4;  margin:0; font-family:monospace; width:"+(_-10)+"px; height:"+(n-66)+"px")};
gv.prototype.dN=function(_,n,O){this.ii=_;this.H1()};function eD(){b1.call(this);this.G=0;this.fV=null;
this.m=L.S("div","toolconf");this.GT=null;this.iP=null;this.body=new L.S("div","body")}eD.prototype=new b1;
eD.prototype.a6H=function(_,n){this.G=_;this.fV=n;if(D.Zf[_]){var O=this.GT=new gL(_);this.m.appendChild(O.m);
O.parent=this}else{this.iP=L.S("div");this.m.appendChild(this.iP)}this.m.appendChild(this.body);this.f()};
eD.prototype.amK=function(_,n){};eD.prototype.apw=function(_){};eD.prototype.w1=function(_,n){if(n==gp.WB||n==gp.oy)if(this.GT)this.GT.H5(_.ep)};
eD.prototype.MM=function(_){};eD.prototype.f=function(){if(this.GT)this.GT.f();else this.iP.innerHTML=L.Gu(this.fV,null,"toolicon");
this.UE()};eD.prototype.UE=function(){};function ha(){eD.call(this);this.pH=new cI;this.pH.Z(H.E.A,this.Ri,this);
this.body.appendChild(this.pH.m)}ha.prototype=new eD;ha.prototype.UE=function(){this.pH.f()};ha.prototype.Ri=function(_){var n=new e_(H.E.L,!0);
n.data={d:H.t.XH,G:this.G,nZ:this.pH.aqg()};this.$(n)};ha.prototype.MM=function(_){this.pH.aqM(_.l5)};
function aR(_){eD.call(this);if(_==null)return;this.Yw=null;this.YY={};if(_.indexOf("brush")!=-1&&_.indexOf("prsr")==-1)_.push("prsr");
for(var m=0;m<_.length;m++){var n=_[m],O=null;if(n=="brush"){O=new k8}if(n=="bmode"){O=new cB([12,19,0],b3.Fw,!1,b3.UU)}if(n=="bmode0"){O=new cB([12,19,0],b3.Fw.slice(23),!1)}if(n=="emode"){O=new cB([12,36],[[9,3],[10,38]])}if(n=="opacity"){O=new bd([12,0],0,100,"%");
O.c(100)}if(n=="flow"){O=new bd([12,63],0,100,"%");O.c(100)}if(n=="smth"){O=new bd([19,3,0],0,100,"%");
O.c(0)}if(n=="samp"){O=new cB([12,36],[[12,25,4],[12,25,5],[12,46]])}if(n=="wconf"){O=new hJ;O.c([40,!0,!0])}if(n=="sall"){O=new dE([12,25,2])}if(n=="strn"){O=new bd([12,64],1,100,"%");
O.c(50)}if(n=="smode"){O=new cB([12,36],[[19,7,0],[19,7,1]]);O.c(1)}if(n=="pdetail"){O=new dE([12,65]);
O.tV()}if(n=="rng"){O=new cB([12,12],[[19,6,0],[19,6,1],[19,6,2]]);O.c(1)}if(n=="expo"){O=new bd([12,5],0,100,"%");
O.c(50)}if(n=="algnd"){O=new dE([12,75]);O.c(!1)}if(n=="sfrom"){O=new cB([12,70],[[17,1],[17,3],[17,0]])}if(n=="alt"){O=new gl(null,["Alt"],!0,["Select Source"])}if(n=="qsmode"){O=new im([12,36],["<img src=\""+PIMG["set/front"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"],[[5,3],[18,1],[18,2]])}if(n=="redge"){O=new cw([7,11],!1,null,!0)}if(n=="setop"){O=new gF}if(n=="patch"){O=new im(null,[[12,70],[12,71]])}if(n=="prsr"){O=this.YY.brush.VR}this.body.appendChild(O.m);
if(n=="prsr")continue;O.parent=this;this.YY[n]=O;if(n=="brush")O.Z(H.E.A,this.asp,this);else if(n=="redge")O.Z("click",this.jH,this);
else O.Z(H.E.A,this.aC,this)}}aR.prototype=new eD;aR.prototype.amK=function(_,n){_=_[1];var O=this.YY;
if(_.Md)O.bmode.c(b3.AM.indexOf(_.Md.v.BlnM));if(_.Opct)O.opacity.c(_.Opct.v);if(_.flow)O.flow.c(_.flow.v);
if(_.Brsh)O.brush.c(_,n.V5.y7,n.V5.gg);if(_.FrgC){var l=Q.N.JU(_.FrgC.v),x=new e_(H.E.L,!0);x.data={d:H.t.Gf,nZ:gp.La,nz:0,h:l.o<<16|l.J<<8|l.k};
this.$(x)}this.asp();this.aC()};aR.prototype.apw=function(){if(D.Zf[this.G]==null)return null;var _=this.YY,n=JSON.parse(JSON.stringify(_.brush.b()));
n.classID=D.Zf[this.G][1][0];if(_.bmode)n.Md={t:"enum",v:{BlnM:b3.AM[_.bmode.b()]}};if(_.opacity)n.Opct={t:"long",v:_.opacity.b()};
if(_.flow)n.flow={t:"long",v:_.flow.b()};var O=this.Yw.KU;O={o:O>>>16,J:O>>>8&255,k:O&255};n.FrgC={t:"Objc",v:Q.N.YS(O)};
return["Brush Preset "+n.Brsh.v.Dmtr.v.val,n]};aR.prototype.jH=function(){var _=new e_(H.E.L,!0);_.data={d:H.t.Rq,EW:"redge"};
this.$(_)};aR.prototype.UE=function(){for(var _ in this.YY)this.YY[_].f()};aR.prototype.MM=function(_){if(_.akw=="showBrushOpts"){this.YY.brush.a8U(_.sX.x,_.sX.y)}for(var n in _.vP){var O=_.vP[n];
if(n!="qsmode")O*=100;if(this.YY[n])this.YY[n].c(O)}};aR.prototype.w1=function(_,n){eD.prototype.w1.call(this,_,n);
this.Yw=_;var O=this.YY.brush;if(O==null)return;if(n==gp.WB||n==gp.fQ)O.H5(_.V5);if(n==gp.D7){O.c(_.V5.W5,_.V5.y7,_.V5.gg)}};
aR.prototype.asp=function(){var _=new e_(H.E.L,!0);_.data={d:H.t.Gf,nZ:gp.D7,Ov:this.YY.brush.b()};this.$(_)};
aR.prototype.aC=function(){var _=new e_(H.E.L,!0);_.data={d:H.t.XH,G:this.G};for(var n in this.YY){if(n=="brush"||n=="redge")continue;
var O=this.YY[n].b();if(["opacity","flow","smth","strn","expo"].indexOf(n)!=-1)_.data[n]=O/100;else if(n=="bmode")_.data.bmode=b3.qX[O];
else if(n=="bmode0")_.data.bmode=b3.qX[23+O];else _.data[n]=O}this.$(_)};function hH(_,n){eD.call(this);
if(_)return;this.YY={};for(var m=0;m<n.length;m++){var O=n[m],l=null;if(O=="binop")l=new gF;if(O=="feat"){l=new bd([7,6],0,100,"px");
l.c(0)}if(O=="redge")l=new cw([7,11],!1,null,!0);if(O=="wconf")l=new hJ;if(O=="cstr")l=new iZ;if(O=="anta"){l=new dE([12,25,1]);
l.c(!0)}if(O=="sall")l=new dE([12,25,2]);if(O=="redge")l.Z("click",this.jH,this);else l.Z(H.E.A,this.aC,this);
l.parent=this;this.body.appendChild(l.m);this.YY[O]=l}}hH.prototype=new eD;hH.prototype.MM=function(_){if(_.zN!=null)this.YY.binop.c(_.zN);
else if(_._Q){for(var n in _._Q)if(this.YY[n])this.YY[n].c(_._Q[n])}else{var O=hH.Hm;if(O==null){var l=bR.aw7(!0);
O=hH.Hm=new dW(l.items,l.nh)}O.f();O.parent=this;O.update(_.JP,_.TG);var x=new e_(H.E.L,!0);x.data={d:H.t.X3,B_:O,x:_.Mu.B7+2,y:_.Mu.E8+1};
this.$(x)}};hH.prototype.UE=function(){for(var _ in this.YY)this.YY[_].f()};hH.prototype.jH=function(){var _=new e_(H.E.L,!0);
_.data={d:H.t.Rq,EW:"redge"};this.$(_)};hH.prototype.aC=function(){var _=new e_(H.E.L,!0);_.data={d:H.t.XH,G:this.G,_Q:{}};
for(var n in this.YY)_.data._Q[n]=this.YY[n].b();this.$(_)};function dI(){aR.call(this,["brush","strn"])}dI.prototype=new aR;
function bs(){aR.call(this,"brush bmode opacity flow smth prsr".split(" "))}bs.prototype=new aR;function eY(){aR.call(this,["brush","bmode0","samp","wconf"])}eY.prototype=new aR;
function dm(){aR.call(this,["brush"])}dm.prototype=new aR;function id(){aR.call(this,["brush","bmode","opacity","smth","prsr"])}id.prototype=new aR;
function du(){aR.call(this,["brush","rng","expo"])}du.prototype=new aR;function ae(){aR.call(this,"brush bmode opacity algnd sfrom alt".split(" "))}ae.prototype=new aR;
function hj(_){eD.call(this);if(_==null)return;var n=L.S("span","fitem");this.body.appendChild(n);var O=[[17,0],[17,1],[11,12,0],[17,2]];
this.gK=[];for(var m=0;m<O.length;m++){var l=new cw(O[m],!1,null,!0);this.gK.push(l);l.Z("click",this.a3E,this);
if(!_||m==1)n.appendChild(l.m)}this.Oo=new iZ;this.Oo.Z(H.E.A,this.aaW,this);if(!_)this.body.appendChild(this.Oo.m);
this.hh=new cw([15,7,6],!1,null,!0);this.hh.Z("click",this.a3E,this);if(!_)this.body.appendChild(this.hh.m);
this.s5=new dE([15,7,10]);this.s5.Z(H.E.A,this.aaW,this);if(!_)this.body.appendChild(this.s5.m);this.rh=new e5;
this.rh.Z("click",this.l2,this)}hj.prototype=new eD;hj.prototype.UE=function(){this.rh.f();for(var m=0;
m<this.gK.length;m++)this.gK[m].f();this.Oo.f();this.s5.f();this.hh.f()};hj.prototype.MM=function(_){var n=this.rh.m;
if(_.Py)this.body.appendChild(n);else if(this.body.contains(n))this.body.removeChild(n);if(_.Oo)this.Oo.c(_.Oo)};
hj.prototype.l2=function(_){var n={d:H.t.XH,G:this.G,Zq:this.rh.b()?"commit":"cancel"},O=new e_(H.E.L,!0);
O.data=n;this.$(O)};hj.prototype.a3E=function(_){_.target.m.blur();var n={d:H.t.XH,G:this.G,Zq:"cropby",agB:this.gK.indexOf(_.target)};
if(_.target==this.hh)n.Zq="straighten";var O=new e_(H.E.L,!0);O.data=n;this.$(O)};hj.prototype.aaW=function(_){var n={d:H.t.XH,G:this.G,Zq:"config",jL:{MP:this.Oo.b(),TQ:this.s5.b()},a3m:_.target==this.Oo},O=new e_(H.E.L,!0);
O.data=n;this.$(O)};function ku(){hj.call(this,!1)}ku.prototype=new hj;function it(){hj.call(this,!0)}it.prototype=new hj;
function d8(){aR.call(this,["brush","rng","expo"])}d8.prototype=new aR;function bp(){aR.call(this,"brush emode opacity flow smth prsr".split(" "))}bp.prototype=new aR;
function fz(){aR.call(this,["brush","samp","wconf"])}fz.prototype=new aR;function dw(){hH.call(this,!1,["binop","feat","anta","redge","cstr"])}dw.prototype=new hH(!0);
function k7(){eD.call(this);var _=this.YY=[new cB([12,20,0],["1x1","3x3","5x5","11x11","31x31"]),new cB([12,70],[[17,1],[17,3],[17,0]]),new dE([12,20,1]),new dE([8,0])];
_[1].c(2);_[2].c(!0);for(var m=0;m<_.length;m++){var n=_[m];n.Z(H.E.A,this.aC,this);this.body.appendChild(n.m)}}k7.prototype=new eD;
k7.prototype.aC=function(_){var n=this.YY,O=[];for(var m=0;m<n.length;m++)O[m]=n[m].b();var l=new e_(H.E.L,!0);
l.data={d:H.t.XH,G:this.G,_Q:O};this.$(l)};k7.prototype.UE=function(){for(var m=0;m<this.YY.length;m++)this.YY[m].f()};
function jq(){eD.call(this);this.no=new d0(!1);this.no.parent=this;this.no.Z(H.E.A,this.E3,this);this.body.appendChild(this.no.m);
this.no.c(JSON.parse(aF.p2.au2).v);this.E4=new cB(null,aF.N.names.slice(0,5));this.E4.Z(H.E.A,this.E3,this);
this.body.appendChild(this.E4.m);this.f3=new cB([12,19,0],b3.Fw,null,b3.UU);this.f3.Z(H.E.A,this.E3,this);
this.body.appendChild(this.f3.m);this.rJ=new bd([12,0],0,100,"%");this.rJ.parent=this;this.rJ.Z(H.E.A,this.E3,this);
this.body.appendChild(this.rJ.m);this.rJ.c(100);this.QV=new dE([12,23,0]);this.QV.Z(H.E.A,this.E3,this);
this.body.appendChild(this.QV.m);this.wx=new dE([12,23,3]);this.wx.Z(H.E.A,this.E3,this);this.body.appendChild(this.wx.m)}jq.prototype=new eD;
jq.prototype.UE=function(){this.E4.f();this.f3.f();this.rJ.f();this.QV.f();this.wx.f()};jq.prototype.w1=function(_,n){eD.prototype.w1.call(this,_,n);
var O=n==gp.La;this.no.Db(_.KU,_.lV);if(O||n==gp.Eq||n==gp.WB)this.no.H5(_.QL)};jq.prototype.E3=function(){var _=new e_(H.E.L,!0);
_.data={d:H.t.XH,G:this.G};_.data.nZ={N:this.no.b(),Zg:aF.N.types[this.E4.b()],oL:this.QV.ua(),a2e:this.wx.ua(),aaz:b3.qX[this.f3.b()],kX:this.rJ.b()/100};
this.$(_)};function fp(){eD.call(this);this._E=new dE("All Documents");this.body.appendChild(this._E.m);
this._E.Z(H.E.A,this.aC,this)}fp.prototype=new eD;fp.prototype.aC=function(){var _={d:H.t.XH,G:this.G,CL:this._E.b()},n=new e_(H.E.L,!0);
n.data=_;this.$(n)};function ap(){eD.call(this);var _=L.S("span","fitem");this.body.appendChild(_);this.qO=[new bd([12,15],-180,180,"\xB0"),new cw([1,12,2],null,null,!0)];
for(var m=0;m<this.qO.length;m++){var n=this.qO[m];n.parent=this;_.appendChild(n.m);n.Z(m==1?"click":H.E.A,this.gZ,this)}}ap.prototype=new eD;
ap.prototype.UE=function(){for(var m=0;m<this.qO.length;m++)this.qO[m].f()};ap.prototype.MM=function(_){this.qO[0].c(_.Yd*180/Math.PI)};
ap.prototype.gZ=function(_){var n=this.qO.indexOf(_.target),O=new e_(H.E.L,!0);O.data={d:H.t.XH,G:this.G,Yd:n==1?0:_.target.b()*Math.PI/180};
this.$(O)};function bz(){aR.call(this,["brush","algnd","sfrom","alt"])}bz.prototype=new aR;function bP(){eD.call(this);
this.uv=new gK;this.uv.parent=this;this.body.appendChild(this.uv.Kj.m);this.body.appendChild(this.uv.OO.m);
this.body.appendChild(this.uv.Ak.m);this.body.appendChild(this.uv.o3.m);var _=L.S("span","fitem");this.body.appendChild(_);
_.appendChild(this.uv.WY.m);_.appendChild(this.uv.Gt.m);_.appendChild(this.uv.Of.m);this.rB=new cB("Aa",[[22,5,0],[12,95,0],[12,95,1],[12,95,2],[12,95,3]]);
this.rB.Z(H.E.A,this.l2,this);this.body.appendChild(this.rB.m);this.zW=new cw([11,9],!1,null,!0);this.zW.Z("click",this.akO,this);
this.body.appendChild(this.zW.m);this.rh=new e5;this.rh.Z("click",this.l2,this)}bP.prototype=new eD;
bP.prototype.UE=function(){this.rh.f();this.uv.f();this.zW.f()};bP.prototype.akO=function(_){var n={d:H.t.XH,G:this.G,Zq:"showwarp"},O=new e_(H.E.L,!0);
O.data=n;this.$(O)};bP.prototype.MM=function(_){if(_.Zq=="showactive")this.body.appendChild(this.rh.m);
if(_.Zq=="hideactive")this.body.removeChild(this.rh.m);if(_.Zq=="changeAA")this.rB.c(_.t2)};bP.prototype.w1=function(_,n){eD.prototype.w1.call(this,_,n);
if(n!=gp.WB&&n!=gp.j$&&n!=gp.V1&&n!=gp.cO)return;this.uv.c(_.Kw,_.y8,_.eZ)};bP.prototype.l2=function(_){var n={d:H.t.XH,G:this.G,Zq:this.rh.b()?"commit":"cancel"};
if(_.target==this.rB){n.Zq="changeAA";n.t2=this.rB.b()}var O=new e_(H.E.L,!0);O.data=n;this.$(O)};function fM(){hH.call(this,!1,["binop","feat","anta","redge"])}fM.prototype=new hH(!0);
function b6(){eD.call(this);var _=[],O="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
this.Dq=new dE([12,85]);this.Dq.Z(H.E.A,this.aC,this);_.push(this.Dq.m);this.Af=new dE([20,1]);this.Af.Z(H.E.A,this.aC,this);
_.push(this.Af.m);this.$I=new dE([12,83]);this.$I.Z(H.E.A,this.aC,this);_.push(this.$I.m);var n=L.S("span","fitem");
_.push(n);this.ac8=new cB("Scale for exported files",["1x","2x","3x","4x"],!0);n.appendChild(this.ac8.m);
this.hL=new cw(O+" PNG",!1,"Save selected layers as PNG",!0);n.appendChild(this.hL.m);this.hL.Z("click",this.rv,this);
this.as5=new cw(O+" SVG",!1,"Save selected layers as SVG",!0);n.appendChild(this.as5.m);this.as5.Z("click",this.rv,this);
var l=L.S("span","fitem");_.push(l);var x=L.S("span","fitem");_.push(x);this.uY=[];for(var m=0;m<8;m++){var t=m==3||m==7?[20,4,6]:[20,4,m<3?m:m-1],h=new cw("Hi",!1,t);
(m<4?l:x).appendChild(h.m);h.Z("click",this.rv,this);this.uY.push(h)}for(var m=0;m<_.length;m++)this.body.appendChild(_[m]);
this.avx=_}b6.prototype=new eD;b6.prototype.MM=function(_){var n=_.l5,O=_.aqc;this.Dq.c(n.Vb);this.Af.c(n.Rr);
this.$I.c(n.Kq);if(O){L.I$(this.body);for(var m=0;m<O.length;m++)if(O[m]==1&&this.avx[m])this.body.appendChild(this.avx[m])}};
b6.prototype.rv=function(_){var n=this.uY.indexOf(_.target),O;if(n==-1){O=new e_(H.E.L,!0);O.data={d:H.t.XH,G:this.G,nz:_.target==this.hL?"getPNG":"getSVG",mt:this.ac8.b()+1}}else{O=new e_(H.E.s,!0);
O.G=D.cb;O.data={d:"algn",h:n}}this.$(O)};b6.prototype.aC=function(_){var n=new e_(H.E.L,!0);n.data={d:H.t.XH,G:this.G,nz:"prms",Vb:this.Dq.ua(),Rr:this.Af.ua(),Kq:this.$I.ua()};
this.$(n)};b6.prototype.UE=function(){this.Dq.f();this.Af.f();this.$I.f();var _="h0 h1 h2 hG v0 v1 v2 vG".split(" ");
for(var m=0;m<8;m++){this.uY[m].KM(L.Gu("align/"+_[m],null,"autoscale"))}};function i4(){hH.call(this,!1,["binop","feat","redge","wconf","sall"])}i4.prototype=new hH(!0);
function eq(){aR.call(this,["setop","patch"])}eq.prototype=new aR;function jf(){aR.call(this,["setop"])}jf.prototype=new aR;
function i2(){aR.call(this,["bmode","opacity","wconf","sall"])}i2.prototype=new aR;function dS(){hH.call(this,!1,["binop","feat","anta","redge"])}dS.prototype=new hH(!0);
function ek(){hH.call(this,!1,["binop","feat","anta","redge"])}ek.prototype=new hH(!0);function gS(){hH.call(this,!1,["binop","feat","redge","cstr"])}gS.prototype=new hH(!0);
function ht(){eD.call(this);this.Yw=null;this.jW=null;this.Ns=[new g_("X",null,3.2,null,!0),new g_("Y",null,3.2,null,!0),new g_("W",null,3.2,null,!0),new g_("H",null,3.2,null,!0),new g_([12,15],"\xB0",3.7,null,!0),new g_(["VAR0 1",[12,80,0]],null,3.5,null,!0),new g_(["VAR0 2",[12,80,0]],null,3.5,null,!0),new cw([15,7,6],!1,null,!0),new cw([2,2],!1,null,!0)];
for(var m=0;m<this.Ns.length;m++){var _=this.Ns[m];this.body.appendChild(_.m);if(m>6)_.Z("click",this.x5,this)}this.IQ=0}ht.prototype=new eD;
ht.prototype.x5=function(_){var n=this.Ns.indexOf(_.target)==7,O=new e_(H.E.s,!0);if(n){if(this.IQ==0)return;
O.G=D.rd;O.data={d:"rot",hM:[2,5],h:-this.IQ}}else{O.G=D.Tw;for(var m=0;m<6;m++)this.Ns[m].c(null)}this.$(O)};
ht.prototype.MM=function(_){function n(V,y,r){var E=Math.sqrt(Math.pow(y.x-V.x,2)+Math.pow(y.y-V.y,2)),a=Math.sqrt(Math.pow(y.x-r.x,2)+Math.pow(y.y-r.y,2)),S=Math.sqrt(Math.pow(r.x-V.x,2)+Math.pow(r.y-V.y,2));
return Math.acos((a*a+E*E-S*S)/(2*a*E))}if(_==null)return;this.jW=_;var O=_.akY,l=_.UB,x=l.x-O.x,t=l.y-O.y;
this.IQ=-Math.atan2(t,x);if(_.I3)this.IQ=n(l,O,_.I3);var h=this.Ns;h[0].c(this.Uw(_,O.x));h[1].c(this.Uw(_,O.y));
h[2].c(this.Uw(_,x));h[3].c(this.Uw(_,t));h[4].c((this.IQ*180/Math.PI).toFixed(2));h[5].c(this.Uw(_,aW.nT(O,l)));
if(_.I3){h[6].c(this.Uw(_,aW.nT(O,_.I3)))}else h[6].c("")};ht.prototype.Uw=function(_,n){var O=Q.k4.eI(n,_.pa,this.Yw,_.atx,!1);
return parseFloat(O).toFixed(2)};ht.prototype.w1=function(_,n){this.Yw=_;this.MM(this.jW)};ht.prototype.UE=function(){var _=this.Ns;
for(var m=0;m<_.length;m++)_[m].f();L.Nb(_[2],_[3])};function dv(){aR.call(this,["brush","strn","pdetail"])}dv.prototype=new aR;
function hY(){aR.call(this,["brush","sfrom"]);this.akT=[];var _=[[7,12]];for(var m=0;m<_.length;m++){var n=new cw(_[m],!1,null,!0);
this.akT.push(n);n.parent=this;this.body.appendChild(n.m);n.Z("click",this.ayA,this)}}hY.prototype=new aR;
hY.prototype.ayA=function(_){var n=this.akT.indexOf(_.currentTarget),O=new e_(H.E.yy,!0);O.data=D.Os.qY("contentAware");
this.$(O)};function ad(){aR.call(this,["brush","strn"])}ad.prototype=new aR;function fP(){aR.call(this,["brush","flow","smode"])}fP.prototype=new aR;
function aI(){eD.call(this);this.sJ=!1;var _=L.S("span","fitem");this.body.appendChild(_);this.yf=new im(null,["<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"]);
_.appendChild(this.yf.m);this.yf.Z(H.E.A,this.aC,this);this.jR=new cw([20,2]);this.body.appendChild(this.jR.m);
this.jR.Z("click",this.amy,this);this.e9=new cw([20,3]);this.body.appendChild(this.e9.m);this.e9.Z("click",this.amy,this);
this._E=new dE("All Documents");this.body.appendChild(this._E.m);this._E.Z(H.E.A,this.aC,this)}aI.prototype=new eD;
aI.prototype.UE=function(){this.jR.f();this.e9.f()};aI.prototype.aC=function(){var _={d:H.t.XH,G:this.G,fv:this.yf.b()==0,CL:this._E.b()},n=new e_(H.E.L,!0);
n.data=_;this.$(n)};aI.prototype.MM=function(_){if(this.sJ!=_.sJ)this.yf.c(1-this.yf.b());this.sJ=_.sJ};
aI.prototype.amy=function(_){var n=new e_(H.E.s,!0);n.G=D.iz;n.data={d:"adapt",h:_.target==this.jR?"pixel":"fitscr"};
this.$(n)};function g2(_,n){eD.call(this);if(_==null)return;this.Tm=_;this.iW={};this.aic=n;for(var m=0;
m<_.length;m++){var O=_[m],l=null;if(O=="tmode"){l=new cB(null,[[12,76,1],[12,76,0],[12,76,2]]);l.c(0);
if(n)l.a9S(2)}if(O=="make"){l=new im("Make",[[17,2],[12,76,1]],null,!0)}if(O=="anta"){l=new dE([12,25,1]);
l.c(!0)}if(O=="binop"){l=new cB(null,[[6,13],[18,1],[18,2],[18,3],[18,4]])}if(O=="pshape")l=new cB(null,[[12,93,0],[12,93,1],[12,93,4],[12,93,2]]);
if(O=="shape")l=new d$([12,76,1]);if(O=="crad"){l=new bd([12,94,0],0,50,"px");l.c(0)}if(O=="cstr"){l=new iZ}if(O=="irad"){l=new bd([12,94,1],0,100,"%");
l.c(40)}if(O=="length"){l=new bd([12,80,0],4,40);l.c(4)}if(O=="sides"){l=new bd([12,78],3,30);l.c(5)}if(O=="width"){l=new bd([12,41],1,100,"px");
l.c(5)}if(O=="tolr"){l=new bd([12,24],0,100);l.c(5)}if(O=="fstyle"){l=new fN([12,26])}if(O=="sstyle"){l=new fx}if(O=="psnap"){l=new dE([8,10])}if(O=="crnr"){l=new cw("\u2312",!1,[12,94,0],!0)}if(O=="aopts"){l=new d1;
l.c([!1,!1,50,60,0])}l.parent=this;this.body.appendChild(l.m);this.iW[O]=l;l.Z(O=="crnr"?"click":H.E.A,this.aC,this)}}g2.prototype=new eD;
g2.prototype.MM=function(_){if(_.zN!=null)this.iW.binop.c(_.zN);else if(_.nz=="vals")for(var n in _.amj)this.iW[n].c(_.amj[n]);
else{var O=g2.Hm;if(O==null)O=g2.Hm=new dW([{name:"Remove Anchor Point",w:function(x){var t=x?x.cx():null;
return{w:x&&t[1].length!=0&&t[0][t[1][0]].add.vmsk.dW.length!=0}}},{name:"Remove Path",w:function(x){var t=x?x.cx():null;
return{w:x&&t[1].length!=0&&t[0][t[1][0]].add.vmsk.g.length!=0}},Qn:!0},{name:"Make Selection"},{name:[2,3]},{name:[14,9]}],[{Y:H.E.s,G:D.y_,W:{d:"remove",h$:!0}},{Y:H.E.s,G:D.i$,W:{d:"remove"}},{Y:H.E.L,W:{d:H.t.Rq,EW:"makesel"}},{Y:H.E.yy,W:D.Jr.It(0)},{Y:H.E.yy,W:D.Jr.It(1)}]);
O.parent=this;O.update(_.JP,_.TG);var l=new e_(H.E.L,!0);l.data={d:H.t.X3,B_:O,x:_.Mu.B7+2,y:_.Mu.E8+1};
this.$(l)}};g2.prototype.ahS=function(m){return null};g2.prototype.UE=function(){for(var _ in this.iW){this.iW[_].f()}};
g2.prototype.aC=function(_){var n=new e_(H.E.L,!0),O=this.iW;if(_.target==O.crnr){n=new e_(H.E.s,!0);
n.G=D.y_;n.data={d:"crnr"}}else if(_.target==O.make){var m=_.target.b();console.log(m);if(m==0)n.data={d:H.t.Rq,EW:"makesel"};
else{n=new e_(H.E.s,!0);n.G=D.bb;n.data={d:"newfill",TO:0}}}else if(_.target==O.fstyle){n.data={d:H.t.Gf,nZ:gp.qP,h:O.fstyle.b()}}else if(_.target==O.sstyle){n.data={d:H.t.Gf,nZ:gp.gf,h:O.sstyle.b()}}else if(_.target==O.tmode){n.data={d:H.t.Gf,nZ:gp.UX,h:O.tmode.b()}}else{if(O.pshape)this.JY();
n.data={d:H.t.XH,G:this.G};for(var l in O)n.data[l]=O[l].b()}this.$(n)};g2.prototype.JY=function(){var _=this.iW,n=_.tmode.b(),O=_.pshape?this.ahS(_.pshape.b()):this.Tm,l;
if(n==0)l=["anta","make"];if(n==1)l=["anta","fstyle","sstyle"];if(n==2)l=["make","binop","fstyle","sstyle"];
var x=_.binop;if(x){var t=x.b();if(n==0){x.ale(0)}else{x.a9S(0);if(t==0){x.c(1);this.aC({target:x})}}}L.I$(this.body);
for(var m=0;m<O.length;m++){var h=O[m];if(l.indexOf(h)!=-1)continue;this.body.appendChild(_[h].m)}};
g2.prototype.w1=function(_,n){eD.prototype.w1.call(this,_,n);var O=this.iW.fstyle,l=this.iW.sstyle,x=this.iW.tmode;
if(O)O.w1(_,n);if(l)l.w1(_,n);if(n==gp.WB||n==gp.$h)if(_.zn.length!=0&&this.iW.shape){this.iW.shape.H5(_.zn)}if(n==gp.WB||n==gp.qP)if(O)O.c(null,_.k$,_.adP);
if(n==gp.WB||n==gp.gf)if(l)l.c(null,_.P3,_.auH);if(n==gp.WB||n==gp.UX){var t=_.Lr;if(this.aic&&t==2)t=0;
if(x){x.c(t);this.JY()}}};function gf(){g2.call(this,["tmode","make","fstyle","sstyle","binop"],!0)}gf.prototype=new g2;
function ho(){g2.call(this,"tmode make anta fstyle sstyle binop".split(" "))}ho.prototype=new g2;function iw(){g2.call(this,["fstyle","sstyle"]);
this.apD=null;this.amo=null;this.alI=null;this.wQ=new cB([12,76,0],[[18,1],[18,2],[18,3],[18,4],[18,5]],!1,[4]);
this.I7=new cw("\u25BC");this.I7.tV();this.Se=new cw("\u25B2");this.Se.tV();this.Cl=[this.wQ,this.I7,this.Se];
for(var m=0;m<this.Cl.length;m++){var _=this.Cl[m];this.body.appendChild(_.m);_.parent=this;_.Z(m==0?H.E.A:"click",this.CP,this)}}iw.prototype=new g2;
iw.prototype.MM=function(_){if(_.Zq=="main"){var n=this.Cl,O=_.W1;if(O){this.amo=O.clone();this.alI=JSON.stringify(_.X);
var l=O.g.slice(0),x=l.length;for(var m=0;m<l.length;m++)l[m]++;l.sort(function(y,r){return y-r});n[0].M5();
n[1].Nf(x!=0);n[2].Nf(x!=0);n[0].KM(x==0?"No Paths":x==1?"Path "+l[0]:"Paths "+l.slice(0,3).join(",")+(x>3?"..":""));
if(x!=0){var t=O.g[0],h=Q.M.TH(O.i,t),V=O.i[h];this.wQ.c([3,0,1,2][V.wM])}}else for(var m=0;m<n.length;
m++)n[m].E0()}else g2.prototype.MM.call(this,_)};iw.prototype.UE=function(){g2.prototype.UE.call(this);
this.wQ.f()};iw.prototype.CP=function(_){if(_.target==this.wQ||_.target==this.I7||_.target==this.Se){var n={},O=this.amo,l=O.i,x=O.g,t=Q.M.Cw(l),h=JSON.parse(this.alI);
x.sort(function(Z,s){return Z-s});if(_.target==this.wQ){var V=this.wQ.b();if(V<4)for(var m=0;m<x.length;
m++)l[Q.M.TH(l,x[m])].wM=[1,2,3,0][V];else{if(t<=1)return;O.i=Q.M.$q(l);O.g=O.i.length==2?[]:[0];O.dW=[];
h=[Q.X.A2()]}}else{var y=_.target==this.I7?-1:1,r=[];for(var m=0;m<t;m++){var E=Q.M.TH(l,m),a=E+1+l[E].length;
r.push(l.slice(E,a))}var S=x.slice(0);for(var m=0;m<x.length;m++)S[m]=Math.max(m,Math.min(t-1-(x.length-1-m),S[m]+y));
if(x.join(",")==S.join(","))return;var e=JSON.parse(JSON.stringify(h));for(var m=0;m<x.length;m++){var P=y==-1?m:x.length-1-m,E=x[P],a=S[P];
if(E!=a){var b=r[E];r[E]=r[a];r[a]=b;b=e[E];e[E]=e[a];e[a]=b}}var T=l.slice(0,2);for(var m=0;m<r.length;
m++)T=T.concat(r[m]);O.i=T;O.g=S;h=e}n.W1=O;n.X=h;var C=new e_(H.E.L,!0);C.data={d:H.t.XH,G:this.G,xV:n};
this.$(C)}};function iv(){g2.call(this,["fstyle","sstyle","crnr","psnap"])}iv.prototype=new g2;function cv(){g2.call(this,"tmode make anta fstyle sstyle binop cstr crad".split(" "))}cv.prototype=new g2;
function cS(){g2.call(this,"tmode make anta fstyle sstyle binop cstr".split(" "))}cS.prototype=new g2;
function bU(){g2.call(this,"tmode make anta fstyle sstyle binop pshape sides irad crad width aopts length".split(" "));
this.iW.aopts.c([!1,!0,50,60,0])}bU.prototype=new g2;bU.prototype.ahS=function(m){var _=[["sides","crad"],["sides","irad","crad"],["width","aopts"],["length"]];
return"tmode make fstyle sstyle binop pshape".split(" ").concat(_[m])};function dU(){g2.call(this,"tmode make anta fstyle sstyle binop width aopts".split(" "))}dU.prototype=new g2;
function hT(){g2.call(this,"tmode make anta fstyle sstyle binop cstr shape".split(" "))}hT.prototype=new g2;
function iN(){hH.call(this,!1,["binop","feat","redge"])}iN.prototype=new hH(!0);function f0(){aR.call(this,["brush","qsmode","redge"])}f0.prototype=new aR;
function hR(){eD.call(this);this.ft=[];for(var m=0;m<2;m++){var _=new cw(m==0?[8,11,3]:["VAR0...",[15,10,22]],null,null,!0);
this.ft.push(_);_.Z("click",this.CP,this);this.body.appendChild(_.m)}}hR.prototype=new eD;hR.prototype.CP=function(_){var n;
if(this.ft.indexOf(_.target)==0){n=new e_(H.E.yy,!0);n.data={et:"make",ot:{__name:"Make",classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"slice"}}]},Usng:{t:"type",v:{classID:"Gd"}}}}}else{n=new e_(H.E.L,!0);
n.data={d:H.t.Rq,EW:"divslice"}}this.$(n)};hR.prototype.UE=function(_){for(var m=0;m<this.ft.length;
m++)this.ft[m].f()};function iL(){eD.call(this);var _=this.ZO=[new cw("\u25BC",null,null,!0),new cw("\u25B2",null,null,!0),new cw([5,4],null,null,!0),new cw(["VAR0...",[15,10,22]],null,null,!0)];
for(var m=0;m<4;m++){var n=_[m];this.body.appendChild(n.m);n.Z("click",this.CP,this)}}iL.prototype=new eD;
iL.prototype.CP=function(_){var n=this.ZO.indexOf(_.target),O;if(n==3){O=new e_(H.E.L,!0);O.data={d:H.t.Rq,EW:"divslice"}}else{O=new e_(H.E.s,!0);
O.G=D.yK;O.data={d:n==2?"delete":"reorder",dir:n==0?-1:1}}this.$(O)};iL.prototype.f=function(){eD.prototype.f.call(this);
for(var m=0;m<4;m++)this.ZO[m].f()};function bS(_,n){eD.call(this);if(window.Typr==null||_)return;this.ao2=n;
this.mn=null;this.awX=L.S("span","");this.afN=L.S("span","");var O=1;this.x3={eX:new eI(null,24),Dr:new bd("X",0,0,"px",0,!1,!0,4),oA:new bd("Y",0,0,"px",0,!1,!0,4),xf:new bd("W",0,0,["%","px"],2,!1,!0,5),mo:new cw("<img src=\""+PIMG["lrs/link"]+"\" class=\"autoscale gsicon\" />",null,[12,51],null),xv:new bd("H",0,0,["%","px"],2,!1,!0,5),ajo:new bd("\u2221",0,0,"\xB0",O,!1,!0),ayw:new bd("\u25B1 H",-85,85,"\xB0",O,!1,!0),a8e:new bd("\u25B1 V",-85,85,"\xB0",O,!1,!0),Tf:new cB(null,[[12,14,2],[12,14,3],"Bicubic Sharper"])};
this.x3.Tf.c(1);this.x3.mo.c(!0);for(var l in this.x3){var x=this.x3[l];if(n&&(x==this.x3.ajo||x==this.x3.ayw||x==this.x3.a8e||x==this.x3.Tf)){}else this.awX.appendChild(x.m);
var t=x==this.x3.mo?"click":H.E.A;x.Z(t,this.aw1,this)}this.s4=new iJ(!0,!0,!0);this.s4.Z(H.E.A,this.ap1,this);
this.s4.parent=this;var h=this.afN,V=this.s4;h.appendChild(V.m5.m);h.appendChild(V.yL.m);h.appendChild(V.q7.m);
h.appendChild(V.Sc.m);h.appendChild(V.bw.m);this.zW=new cw([11,9]);this.zW.Z("click",this.asr,this);
this.rh=new e5;this.rh.Z("click",this.l2,this)}bS.prototype=new eD;bS.prototype.MM=function(_){if(_.Mu){var n=bS,O=this.Hm;
if(O==null)O=this.Hm=new dW(n.aiQ(),n.a9b(this.G));O.f();O.parent=this;O.update(_.JP,_.TG);var l=new e_(H.E.L,!0);
l.data={d:H.t.X3,B_:O,x:_.Mu.B7+2,y:_.Mu.E8+1};this.$(l);return}L.I$(this.body);this.mn=_;if(_.x3){var x=_.x3.Sm,t=_.x3.ha.clone(),h=Math.atan2(-t.k,t.EX),V=new aY;
V.rotate(-h);t.concat(V);var y=this.x3;y.eX.c(_.x3.dQ);y.Dr.c(_.x3.gp.x);y.oA.c(_.x3.gp.y);y.xf.c(t.EX*(y.xf.KI()=="%"?100:x.a));
y.xv.c(t.c5*(y.xv.KI()=="%"?100:x.n));y.ajo.c(-h*180/Math.PI);y.ayw.c(Math.atan(t.av)*180/Math.PI);y.a8e.c(0*180/Math.PI);
this.body.appendChild(this.awX);this.zW.Xy();if(_.x3.uj!=null)y.mo.c(_.x3.uj)}if(_.qj){this.s4.c(_.qj);
this.body.appendChild(this.afN);this.zW.tV()}this.body.appendChild(this.rh.m);if(_.av_&&!this.ao2)this.body.appendChild(this.zW.m)};
bS.prototype.aw1=function(_){var n=this.x3,O=this.mn.x3.Sm;if(_.target==n.mo)n.mo.c(!n.mo.b());else if(n.mo.ua()){var l=n.xv,x=n.xf,t=O.n,h=O.a;
if(_.target==n.xf){l=n.xf;x=n.xv;t=O.a;h=O.n}var V=l.b()/(l.KI()=="%"?100:t);V*=x.KI()=="%"?100:h;x.c(V)}var y=[];
for(var r in n)if(n[r]!=n.mo&&n[r]!=n.eX){var V=n[r].b();if((n[r]==n.xf||n[r]==n.xv)&&V==0){V=.1;n[r].c(V)}if(n[r]==n.xf&&n[r].KI()=="px")V/=O.a/100;
if(n[r]==n.xv&&n[r].KI()=="px")V/=O.n/100;y.push(V)}var E=new aW(y[0],y[1]);if(_.target==n.eX){this.cP({Zq:"ctyp",dQ:n.eX.b()})}else if(_.target==n.Dr||_.target==n.oA){this.cP({Zq:"cen",gp:E})}else{var a=this.mn.x3.ha.clone(),S=a.clone(),e=Math.atan2(-a.k,a.EX);
S.translate(-E.x,-E.y);S.rotate(-e);var P=new aY(S.EX,S.k,S.av,S.c5,0,0);P.sJ();S.concat(P);S.concat(new aY(y[2]/100,Math.tan(y[6]*Math.PI/180),Math.tan(y[5]*Math.PI/180),y[3]/100,0,0));
S.rotate(-y[4]*Math.PI/180);S.translate(E.x,E.y);this.mn.x3.ha=S;this.cP({Zq:"trn",x3:S,SM:this.x3.Tf.b(),uj:n.mo.b()})}};
bS.prototype.ap1=function(_){this.cP({Zq:"wrp",qj:this.s4.b()})};bS.prototype.asr=function(_){this.cP({Zq:"switchWarp"})};
bS.prototype.l2=function(_){this.cP({Zq:this.rh.b()?"commit":"cancel"})};bS.prototype.cP=function(_){_.d=H.t.XH;
_.G=this.G;var n=new e_(H.E.L,!0);n.data=_;this.$(n)};bS.prototype.UE=function(){var _=this.x3;for(var n in _)_[n].f();
L.Nb(_.xf,_.xv);this.rh.f();this.s4.f();this.zW.f()};bS.aiQ=function(){var _=function(n){var O=!0;if(n==null||n.g.length==0)O=!1;
else{var l=n.g;for(var m=0;m<l.length;m++){if(n.B[l[m]].add.TySh)O=!1}}return{w:O}};return[{name:[5,9],mU:"Shift+Alt+Ctrl + T",Qn:!0},{name:[12,38]},{name:[2,5]},{name:[24,4],w:_},{name:[2,9],w:_},{name:[11,9],w:function(n){if(n==null||n.g.length!=1)return{w:!1};
var O=n.B[n.g[0]];return{w:O.add.TySh==null&&!O.kx()}},Qn:!0},{name:["VAR0 90\xB0 \u21BB",[2,5]]},{name:["VAR0 90\xB0 \u21BA",[2,5]]},{name:["VAR0 180\xB0",[2,5]]},{name:[[2,6],[22,4,2]]},{name:[[2,6],[22,4,3]]}]};
bS.a9b=function(_){if(_==null)_=D.rd;return[{Y:H.E.s,G:_,W:{d:"again"}},{Y:H.E.L,W:{d:H.t.dw,G:_,l5:{or:3}}},{Y:H.E.L,W:{d:H.t.dw,G:_,l5:{or:4}}},{Y:H.E.L,W:{d:H.t.dw,G:_,l5:{or:2}}},{Y:H.E.L,W:{d:H.t.dw,G:_,l5:{or:1}}},{Y:H.E.L,W:{d:H.t.dw,G:_,l5:{or:-1}}},{Y:H.E.s,G:_,W:{d:"rot",hM:[2,5],h:-Math.PI/2}},{Y:H.E.s,G:_,W:{d:"rot",hM:[2,5],h:-3*Math.PI/2}},{Y:H.E.s,G:_,W:{d:"rot",hM:[2,5],h:Math.PI}},{Y:H.E.s,G:_,W:{d:"scl",hM:[[2,6],[22,4,2]],h:new aW(-1,1)}},{Y:H.E.s,G:_,W:{d:"scl",hM:[[2,6],[22,4,3]],h:new aW(1,-1)}}]};
function eW(){bS.call(this)}eW.prototype=new bS(!0);function em(){bS.call(this)}em.prototype=new bS(!0);
function jo(){bS.call(this,!1,!0)}jo.prototype=new bS(!0);function dP(){eD.call(this);var _=this.Tm=[new cB([12,36],["Rigid",[15,10,0],[24,4]]),new cB([12,74],[[19,8,0],[19,8,1],[19,8,2]]),new bd([7,4],0,100,"px"),new dE("Show Mesh"),new cw("\u25BC",null,null,!0),new cw("\u25B2",null,null,!0)];
for(var m=0;m<_.length;m++){var n=_[m];n.parent=this;this.body.appendChild(n.m);n.Z(m<4?H.E.A:"click",this.a2T,this)}this.rh=new e5;
this.rh.Z("click",this.l2,this);this.body.appendChild(this.rh.m)}dP.prototype=new eD;dP.prototype.UE=function(){var _=this.Tm;
for(var m=0;m<4;m++)_[m].f();this.rh.f()};dP.prototype.MM=function(_){var _=_.nZ;for(var m=0;m<4;m++)this.Tm[m].c(_[m])};
dP.prototype.a2T=function(_){var n=[];for(var m=0;m<4;m++)n[m]=this.Tm[m].b();var O=this.Tm.indexOf(_.target);
if(O<4)this.cP({Zq:"prm",nZ:n});else this.cP({Zq:"moveDepth",apU:O==5})};dP.prototype.l2=function(_){this.cP({Zq:this.rh.b()?"commit":"cancel"})};
dP.prototype.cP=function(_){_.d=H.t.XH;_.G=this.G;var n=new e_(H.E.L,!0);n.data=_;this.$(n)};function k9(){b1.call(this);
this.m=L.S("div","cmanager");window.alert=function(l,x){this.akM(l,x);console.log("Alert: "+l)}.bind(this);
window.onblur=function(l){var x=this;x.SR()}.bind(this);this.Qc=0;this.bE=0;this.mR=[];this.lh={};this.we=L.S("div","alertcont");
this.m.appendChild(this.we);this.aqD=L.S("div","alertcont");this.m.appendChild(this.aqD);this.fy=L.S("div","alertcont");
this.asz=0;this.Fo=-1;this.a9K=null;this.ft=null;var _=this.ajq=L.S("div","alertpanel");_.setAttribute("style","padding:0.7em 1em 0.1em 1em;");
this.fy.appendChild(_);var n=this.JO=L.S("input");n.setAttribute("type","text");L.vw(n);n.setAttribute("style","background-color:white; color:black; font-size:1.2em; width:100%;  margin:0;");
n.addEventListener("input",this.ap_.bind(this),!1);n.addEventListener("keydown",this.adr.bind(this),!1);
_.appendChild(n);var O=this.a67=L.S("div","contextpanel scrollable");O.setAttribute("style","text-align:left; box-shadow:none; margin:0.5em 0 1em 0;color:#888;");
O.addEventListener("click",this.atG.bind(this),!1);_.appendChild(O);L.a9(document.body,this.a68.bind(this))}k9.prototype=new b1;
k9.prototype.$X=function(){if(L.PZ(this.fy))this.m.removeChild(this.fy)};k9.prototype.alV=function(_,n){var O=this.a9K=[],l=n.ayc;
for(var m=0;m<bR.data.length;m++){var x=bR.data[m],t=[hU.get(x.name)],h=[m];k9.anF(x.items,t,h,O,_,n,l==null?null:l[m]==null?0:l[m])}var V=ic.e;
for(var m=0;m<V.length;m+=3){if(n.Yv&&n.Yv.indexOf(V[m+2])==-1)continue;O.push([["Tools",hU.get(V[m])],[-1,V[m+2]],V[m+1]])}this.m.appendChild(this.fy);
var y=this.JO;y.focus();y.select();this.H1()};k9.prototype.ap_=function(_){this.Fo=-1;this.H1()};k9.prototype.H1=function(){var _=this.JO.value.toLowerCase().trim().replace(/  +/g," "),n=this.a9K,O=[],l=[],x=_.split(" ");
if(_!="")for(var m=0;m<n.length;m++){var t=n[m][0],h=[],V=0;for(var y=0;y<t.length;y++)h[y]=-1;for(var r=0;
r<x.length;r++)for(var y=0;y<t.length;y++){var E=t[y].toLowerCase().indexOf(x[r]);if(E!=-1){h[y]=[E,E+x[r].length];
V++;break}}if(V==x.length){O.push(n[m]);l.push(h)}}var a=[],S=this.a67;L.I$(S);for(var m=0;m<O.length;
m++){var e=O[m],P=e[0],E=l[m],b="enab",C="";if(m==this.Fo)b+=" active";var T=L.S("div",b);a.push(T);
S.appendChild(T);for(var y=0;y<P.length;y++){var Z=E[y],W=x[y],s=P[y];if(Z!=-1)s=s.slice(0,Z[0])+"<span style=\"color:black\">"+s.slice(Z[0],Z[1])+"</span>"+s.slice(Z[1]);
C+=s;if(y<P.length-1)C+=" \uFE65 "}if(e[2]&&(typeof e[2]!="string"||e[2].length==1))C+=" <span style=\"border:1px solid; margin-left:16px; padding:1px 5px; border-radius:5px; background-color:#f4f4f4;\">"+bJ.Ku(e[2])+"</span>";
T.innerHTML=C}this.ft=[O,a]};k9.prototype.adr=function(_){var n=bJ.ZZ,O=_.code;if(n(O,bJ.rF))this.$X();
var l=n(O,bJ.Ev),x=n(O,bJ.kc),t=n(O,bJ.Vn);if(l||x){this.Fo=Math.max(0,Math.min(this.ft[0].length-1,this.Fo+(l?-1:1)));
this.H1()}if(t&&this.Fo!=-1)this.ajP(this.Fo)};k9.anF=function(_,n,O,l,x,t,h){if(typeof h=="number"){if(h==0)return;
if(h==1)h=null}for(var m=0;m<_.length;m++){if(h!=null&&(h[m]==0||h[m]==null))continue;var V=_[m],y=n.slice(0),r=O.slice(0),E=hU.get(V.name);
if(V.w){var a=V.w(x,t,m);if(a.Bj)E=a.Bj;if(a.w==!1)continue}y.push(E);r.push(m);if(V.sub)k9.anF(V.sub,y,r,l,x,t,h?h[m]:null);
else l.push([y,r,V.mU])}};k9.prototype.atG=function(_){var n=_.target;if(n.tagName.toLowerCase()=="span")n=n.parentNode;
var O=this.ft[1].indexOf(n);if(O!=-1)this.ajP(O)};k9.prototype.ajP=function(_){var n=this.ft[0][_][1];
if(n[0]==-1){var O=new e_(H.E.L,!0);O.data={d:H.t.dw,G:n[1]};this.$(O)}else{var l=bR.data[n[0]].nh[n[1]];
for(var m=2;m<n.length;m++)l=l.sub[n[m]];var x=new e_(l.Y,!0);x.G=l.G;x.data=l.W;this.$(x)}this.$X()};
k9.prototype.A$=function(_,n){this.Qc=_;this.bE=n;this.a67.style["max-height"]=n-120+"px"};k9.prototype.aeG=function(_){var n=L.S("div","alertpanel");
n.textContent=hU.get(_);this.we.appendChild(n);this.lh[JSON.stringify(_)]=n};k9.prototype.aom=function(_){var n=this.lh[JSON.stringify(_)];
this.we.removeChild(n);delete this.lh[JSON.stringify(_)]};k9.prototype.akM=function(_,n){var O=this.aqD;
for(var m=0;m<O.children.length;m++)if(O.children[m].textContent==_)return;var l=L.S("div","alertpanel tpanel");
l.textContent=_;l.setAttribute("style","opacity:0.5; transform:scale(0.9)\t");O.appendChild(l);if(n==null)n=1500;
var x=n,t=Math.max(Date.now()+x,this.asz+x);setTimeout(function(){l.setAttribute("style","transform:scale(1); opacity:1;")},10);
setTimeout(function(){O.setAttribute("style","margin-top: -3.6em; transform: translateY(3.6em);")},t-Date.now()-30);
setTimeout(function(){O.removeChild(O.firstChild);O.setAttribute("style","transition: transform 0.7s;  margin-top: 1em;  transform: translateY(0em);")},t-Date.now());
this.asz=t};k9.prototype.a68=function(_){var n=this.mR;for(var m=n.length-1;m>=0;m--){var O=n[m],l=_.target;
while(l!=null){if(l==O.m){this.SR(O);return}l=l.parentNode}}this.SR();var x=_.target;while(x!=this.fy&&x!=document.body)x=x.parentNode;
if(x!=this.fy)this.$X()};k9.prototype.SR=function(_){var n=this.mR;for(var m=0;m<n.length;m++){if(_&&_.agV(n[m]))continue;
var O=n[m].m;if(!(n[m]instanceof dW))L.FU(n[m],this.m);else this.m.removeChild(O);O.style.height="auto";
L.Gd(O,"scrollable");n.splice(m,1);m--}};k9.prototype.aiN=function(_){this.SR(_.B_);var n=_.B_,O=n.m;
if(this.mR.indexOf(n)!=-1)return;this.mR.push(n);this.m.appendChild(O);var l=this.Qc,x=this.bE,t=_.x,h=_.y,V=this.m.getBoundingClientRect(),y=n instanceof dW,r=-1,E=x-2;
if(y||_.Fc){var a=n.Y1(),S=n.ai$();if(y)a=Math.min(a,200);var e=l-a-2,P=x-S-2;if(h<P)r=2;else if(t<e)r=1;
else if(0<h-S-2)r=0;else r=3;if(_.al$)r=0;if(_.a9X)r=2;if(r==2){t=Math.min(t,e)}else if(r==1){h=Math.min(h,P)}else if(r==0){h=h-S-2;
t=Math.min(t,e);E=_.y}else if(r==3){t=t-a-2;h=Math.min(h,P)}}h=Math.max(2,h);var top=Math.round(h-V.y+this.m.offsetTop);
O.style.position="absolute";O.style["z-index"]=10;if(h+n.ai$()>E){O.style.height=E-h+"px";L.NT(O,"scrollable");
if(r==3)t-=10}O.style.left=Math.round(t)+"px";O.style.top=top+"px";if(!(n instanceof dW))L.Z6(n)};k9.prototype.a5k=function(_){var n=_.B_,O=this.mR.indexOf(n);
if(O==-1)return;this.mR.splice(O,1);var l=n.m;if(!(n instanceof dW))L.FU(n,this.m);else this.m.removeChild(n.m)};
k9.prototype.Ja=function(){var _=this.mR;return _.length==0?null:_[_.length-1]};k9.prototype.ayF=function(){this.a5k({B_:this.Ja()})};
function cC(){b1.call(this);this.m=L.S("div","confbar")}cC.prototype=new b1;cC.prototype.ajT=function(_){_.parent=this;
L.I$(this.m);this.m.appendChild(_.m)};function iR(_){b1.call(this);iR.Zd=this;iR.Lc=_;this.Yw=null;this.oa=L.S("input","");
this.oa.setAttribute("type","file");this.oa.setAttribute("multiple","");this.oa.addEventListener("change",function(n){this._N(n.target.files,null,this.hQ,null);
this.hQ=null}.bind(this),!1);document.body.appendChild(this.oa);this.oa.setAttribute("style","display:none");
this.adp=[];this.ZX=!1;this.aqI=[];this.CT=!1;this.axs={};this.hQ=null}iR.prototype=new b1;iR.Lc=null;
iR.KR=function(_){try{var n={};n[_.type]=_;navigator.clipboard.write([new ClipboardItem(n)])}catch(hU){console.error(hU,hU.message)}};
iR.tQ=function(_,n){navigator.clipboard.read().then(function(O){for(var m=0;m<O.length;m++){try{var l=O[m],x={},t=0,h=0;
for(var V=0;V<l.types.length;V++){var y=l.types[V];t++;l.getType(y).then(function(r){var E=y;new Response(r).arrayBuffer().then(function(a){x[this.TO]=a;
h++;if(h==t)iR.axA(x,_,n)}.bind({TO:this.TO}))}.bind({TO:y}))}}catch(hU){console.error(hU,hU.message)}}}).catch(function(O){})};
iR.af$=function(_){navigator.permissions.query({name:"clipboard-read"}).then(function(n){_(n.state)})};
iR.axA=function(_,n,O){var l=["text/plain","image/png","text/html","text/plain"];for(var x in _)console.log(x,x.startsWith("text")?R.hm(new Uint8Array(_[x])).slice(0,100)+"...":_[x]);
for(var t=0;t<l.length;t++){var h=l[t],V=_[h];if(V==null)continue;if(h=="image/png"){iR.Lc({name:"image.png"},V,n,O);
return}if(h=="text/plain"){var y=R.hm(new Uint8Array(V));if(t==0)if(!y.startsWith("<!--")&&!y.startsWith("<svg"))continue;
var r=new e_(H.E.L,!0);r.data={d:H.t.a2A,h:y};n.$(r);return}if(h=="text/html"){var y=R.hm(new Uint8Array(V)),E=y.indexOf("src=\"");
if(E!=-1&&y.slice(E+5,E+9)!="http"){var a=E+10;while(y[a]!="\"")a++;var S=y.slice(E+5,a);iR.Lc({name:"chart.png"},dx.Pj(S).buffer,n,O);
return}}}};iR.prototype.MS=function(_){if(_==null)_=[23,5];var n=JSON.stringify(_),O=this.axs;if(O[n]==null)O[n]=0;
if(O[n]==0){var l=new e_(H.E.L,!0);l.data={d:H.t.Oc,kY:_};this.$(l)}O[n]++};iR.prototype.lB=function(_){if(_==null)_=[23,5];
var n=JSON.stringify(_),O=this.axs;if(O[n]==null)O[n]=0;O[n]--;if(O[n]==0){var l=new e_(H.E.L,!0);l.data={d:H.t.T3,kY:_};
this.$(l)}};iR.prototype.atX=function(_,n){this.hQ=_;var O=window.showOpenFilePicker;if(O&&window.self==window.top){var l=this;
O({multiple:!0}).then(function(h){var V=[];function y(r){V.push(r);if(V.length==h.length){l._N(V,null,l.hQ,null,h);
l.hQ=null}else h[V.length].getFile().then(y)}h[V.length].getFile().then(y)});return}var x=this.oa;if(n)x.setAttribute("accept",n);
else x.removeAttribute("accept");var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,document.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null);
x.dispatchEvent(t)};iR.prototype.Y6=function(_){if(_.url.indexOf("photopea.com#i")!=-1||_.url.indexOf("photopea.com/#i")!=-1){this.Q1(_.url.split("#i").pop());
return}this.adp.push(_);this.akR()};iR.prototype.akR=function(){var _=this.adp;if(_.length==0||this.ZX)return;
this.ZX=!0;var n=_.shift();this.MS();if(n.E5==null)n.E5={};var O=new XMLHttpRequest;O.Dk=n;var l=n.url;
if(n.Ye&&!l.startsWith("data:image"))l="mirror.php?url="+encodeURIComponent(l);O.open("GET",l);if(n.yb)for(var x in n.yb)O.setRequestHeader(x,n.yb[x]);
O.responseType="arraybuffer";O.onload=this.au8.bind(this);O.send()};iR.prototype._N=function(_,n,O,l,x){for(var m=0;
m<_.length;m++){this.MS();var t=_[m],h=new FileReader;h.Dk=t;h.Dk.Ki=O;h.Dk.vq=l;h.a8B=n;if(x)h.Dk.RF=x[m];
h.onload=this.au8.bind(this);h.onerror=function(V){this.lB()}.bind(this);this.aqI.push([h,t])}this.oa.value=null;
this.agn()};iR.prototype.agn=function(){var _=this.aqI;if(_.length==0||this.CT)return;this.CT=!0;var n=_.shift();
n[0].readAsArrayBuffer(n[1])};iR.prototype.adv=function(_,n,O){this.MS("Saving ...");this.Yw=n;setTimeout(O.bind({xN:_,caller:this}),50)};
iR.sx=function(_){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",O=new Uint8Array(_),l=O.length,x=l%3,t=l-x,h=[],V=0,y=0,r=0;
for(var m=0;m<t;m+=3){V=O[m];y=O[m+1];r=O[m+2];h.push(n[V>>2]+n[(V&3)<<4|y>>4]+n[(y&15)<<2|r>>6]+n[r&63])}if(x==1){V=O[t];
h.push(n[V>>2]+n[(V&3)<<4]+"==")}if(x==2){V=O[t];y=O[t+1];h.push(n[V>>2]+n[(V&3)<<4|y>>4]+n[(y&15)<<2]+"=")}var E=h.join("");
return E};iR.awd=function(_,n){var O="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=new Uint8Array(64),V=0,y=0,r=0,a=0;
for(var m=0;m<64;m++)l[m]=O.charCodeAt(m);var x=new Uint8Array(_),t=n%3,h=n-t,E=new Uint8Array(Math.floor(n/3)*4+(t==0?0:4));
for(var m=0;m<h;m+=3){V=x[m];y=x[m+1];r=x[m+2];E[a]=l[V>>>2];E[a+1]=l[(V&3)<<4|y>>>4];E[a+2]=l[(y&15)<<2|r>>>6];
E[a+3]=l[r&63];a+=4}if(t==1){V=x[h];E[a]=l[V>>2];E[a+1]=l[(V&3)<<4];E[a+2]=61;E[a+3]=61}if(t==2){V=x[h];
y=x[h+1];E[a]=l[V>>2];E[a+1]=l[(V&3)<<4|y>>4];E[a+2]=l[(y&15)<<2];E[a+3]=61}return E};iR.prototype.au8=function(_){var n,O=_.target.Dk;
if(_.target instanceof XMLHttpRequest)n=_.target.response;else n=_.target.result;iR.Lc(O,n,this,_.target.a8B);
this.lB();if(_.target instanceof XMLHttpRequest){this.ZX=!1;this.akR()}else{this.CT=!1;this.agn()}};
iR.a1k=function(_,n){var O=new XMLHttpRequest;O.open("POST","https://api.imgur.com/3/image",!0);O.dD=n;
O.setRequestHeader("Authorization","Client-ID 3ad80d2d9969219");O.setRequestHeader("Content-type","application/x-www-form-urlencoded");
O.setRequestHeader("Accept","application/json");O.addEventListener("load",iR.a9Q);O.send("type=base64&image="+encodeURIComponent(iR.sx(_)));
alert("Saving to Imgur ...",4e3)};iR.a9Q=function(_){var n=JSON.parse(_.target.response);if(n.success){if(_.target.dD)_.target.dD(n.data.link);
else window.open(n.data.link,"Imgur")}};iR.prototype.Q1=function(_,n,O){this.MS();var l=new XMLHttpRequest;
l.responseType="arraybuffer";l.open("GET","https://f000.backblazeb2.com/file/"+(O?"pp-resources":"psdshared")+"/"+_);
l.onload=this.a3H.bind(this);l.send();l.jW=[Date.now(),_,n?_:null,O]};iR.prototype.a3H=function(_){var n=_.target.jW,O=new Uint8Array(_.target.response);
console.log(O.length+" B,",Date.now()-n[0]+" ms");for(var m=0;m<O.length;m++)O[m]=255-O[m];O=pako.inflateRaw(O);
var l=JSON.parse(R.hm(O,0,2e3));iR.Lc({name:l.name,Xs:n[2]},O.slice(2e3).buffer,this);this.lB();if(!n[3])iR.lQ("act=0&id="+n[1])};
iR.prototype.aiE=function(_,n,O,l){if(!(_ instanceof ArrayBuffer))throw"e";_=new Uint8Array(_);var x=new Uint8Array(_.length+2e3),S="";
for(var m=0;m<2e3;m++)x[m]=32;R.ho(JSON.stringify({name:n}),x,0);x.set(_,2e3);_=x;_=pako.deflateRaw(_);
for(var m=0;m<_.length;m++)_[m]=255-_[m];_=_.buffer;var t=_.byteLength,h=cH.Mi(t),V=~~(609e5/2),y=~~(209e5/2);
if(t>V){confirm("Your file is "+h+". Our limit is "+cH.Mi(V)+". Delete some layers and try again.");
return}if(t>y){var r=confirm("Your file is quite large ("+h+"). Opening it will take a lot of time. Do you still want to proceed?");
if(!r)return}var E=sha1(_),a=[];for(var m=0;m<20;m++){var e=parseInt(E.slice(m*2,m*2+2),16);a.push(e);
S+=String.fromCharCode(e)}var P=btoa(S).replace(/\+/g,"-").replace(/\//g,"_").slice(0,8);if(iR.atw(P,l)){console.log("file already exists");
if(O)O(P);else window.open("https://www.photopea.com#i"+P);return}this.MS("Publishing ...");var b=new XMLHttpRequest;
b.jW=[_,E,P,O,l];b.open("GET","/papi/img/publish.php?rnd="+Math.random()+"&id="+P+"&size="+t+"&bname="+l);
b.onload=this.acI.bind(this);b.send()};iR.atw=function(_,n){try{var O=new XMLHttpRequest;O.open("HEAD","https://f000.backblazeb2.com/file/"+n+"/"+_,!1);
O.send();if(O.status==200)return!0}catch(hU){return!1}return!1};iR.prototype.acI=function(_){console.log(_.target.response);
var n=JSON.parse(_.target.response),O=_.target.jW,l=new XMLHttpRequest;l.open("POST",n.uploadUrl);l.setRequestHeader("Authorization",n.authorizationToken);
l.setRequestHeader("X-Bz-File-Name",O[2]);l.setRequestHeader("Content-Type","b2/x-auto");l.setRequestHeader("X-Bz-Content-Sha1",O[1]);
l.send(new Blob([O[0]]));l.onload=this.aeQ.bind({Ve:this,jW:O})};iR.prototype.aeQ=function(_){this.Ve.lB("Publishing ...");
if(this.jW[3])this.jW[3](this.jW[2]);else window.open("https://www.photopea.com#i"+this.jW[2]);if(this.jW[4]=="psdshared")iR.lQ("act=2&id="+this.jW[2]+"&fileId="+JSON.parse(_.target.response).fileId)};
iR.lQ=function(_){var n=new XMLHttpRequest;n.open("GET","/papi/img/update.php?"+_+"&rnd="+Math.random());
n.send()};iR.save=function(_,n){var O=new Uint8Array(_),l=document.createElement("a");if(typeof l.download=="string"){var x=new Blob([O]),t=window.URL.createObjectURL(x);
l.href=t;l.download=n;document.body.appendChild(l);l.click();document.body.removeChild(l)}else{var h="data:application/octet-stream;base64,"+iR.sx(_);
window.open(h)}};function bc(){this.size=16;this.data=Q.Q(16)}bc.prototype.hp=function(_,n){if(_+n<=this.size)return;
var O=this.size;while(_+n>this.size)this.size*=2;var l=Q.Q(this.size);for(var m=0;m<O;m++)l[m]=this.data[m];
this.data=l};var cx={};cx.K$=function(_,n,O){var l=n.split(":"),x=l[0],t=null;if(l.length==2){if(x=="jpg")t=[Math.round(100*parseFloat(l[1]))];
if(x=="webp")t=[Math.round(100*parseFloat(l[1])),100,0,!1,!1];if(x=="psd")t=[!0,!0];if(x=="svg")t=l[1].split(",").map(function(V){return V=="true"})}var h=dx.bt(_,x.toUpperCase(),null,null,t,O);
return h};cx.ayI=function(_,n,O){var l=_.Cs(),x=n[0];return cx.K$(_,x,O)};cx.akf=function(){var _=this.xN,n=this.caller,O=_.E5.if,l=O.formats,x,t;
_.Cs();var h=Date.now();if(O.version==1){var V=[],y=0,E=0;for(var m=0;m<l.length;m++){var r=cx.K$(_,l[m],n.Yw);
V.push(r);y+=r.byteLength}x=new Uint8Array(2e3+y);var a="{ \"source\": "+JSON.stringify(_.dT)+", \"versions\": [\n";
for(var m=0;m<l.length;m++){var S=new Uint8Array(V[m]);a+="\t{\"format\": \""+l[m].split(":")[0]+"\", \"start\": "+E+", \"size\": "+S.length+" }"+(m+1<l.length?", ":"")+"\n";
x.set(S,2e3+E);E+=V[m].byteLength}a+="] }";var e=R.ho(a,x,0);for(var m=e;m<2e3;m++)x[m]=32;t="application/octet-stream"}else{var P=new bc,b=0,T="",C=encodeURIComponent;
T="p="+C("{ \"source\": "+JSON.stringify(_.dT)+", \"versions\": [");R.eB(P,b,T);b+=T.length;for(var m=0;
m<l.length;m++){T=C(" {\"format\": \""+l[m].split(":")[0]+"\", \"data\": \"");R.eB(P,b,T);b+=T.length;
var r=cx.K$(_,l[m],n.Yw),Z=iR.awd(r,r.byteLength),e=Z.length;P.hp(b,e);for(var W=0;W<e;W++){P.hp(b,3);
var s=Z[W];if(s==43){P.data[b]=37;P.data[b+1]=50;P.data[b+2]=66;b+=3}else if(s==47){P.data[b]=37;P.data[b+1]=50;
P.data[b+2]=70;b+=3}else if(s==61){P.data[b]=37;P.data[b+1]=51;P.data[b+2]=68;b+=3}else{P.data[b]=s;
b++}}T=C("\" }"+(m+1<l.length?", ":""));R.eB(P,b,T);b+=T.length}T=C("] }");R.eB(P,b,T);b+=T.length;x=P.data.slice(0,b);
t="application/x-www-form-urlencoded"}var f=new XMLHttpRequest;f.open("POST",O.url,!0);if(t)f.setRequestHeader("Content-Type",t);
f.addEventListener("load",cx.aff.bind(this));f.send(new Blob([x.buffer]))};cx.aff=function(_){this.caller.lB("Saving ...");
var n=_.target.response;if(n.charAt(0)=="{"){n=JSON.parse(n);if(n.newSource)this.xN.dT=n.newSource;if(n.message)alert(n.message,2e3);
if(n.script){var O=new e_(H.E.L,!0);O.data={d:H.t.n$,TF:n.script};this.caller.$(O)}}else alert("Saved. Response: "+n,1500)};
cx.a8V=function(_){var n=_.Qr,O=n[1].split(".").pop(),l=cx.K$(_,O),x=Storage.aaw(n[0]);x.afU(n[1],l)};
cx.aiX=function(_,n){var O=_.bm.gH;if(n==null)n=cx.K$(_,O);dT.Op(function(){var l=new XMLHttpRequest,x="https://www.googleapis.com/upload/drive/v3/files/"+_.bm.file.id+"?uploadType=media"+"&"+dT.Qd();
l.open("PATCH",x,!0);l.addEventListener("load",function(t){var h=JSON.parse(t.target.response);alert(h.name+" updated")});
l.send(n);alert("Saving \""+_.bm.file.name+"\" to Google Drive ...")})};cx.Lc=function(_,n,O,l){if(window.location.href.indexOf("photopea.com")==-1||window.top!=window.self)cx.a0f(_,n,O,l);
else{try{cx.a0f(_,n,O,l)}catch(hU){if(hU=="low_ram"){}else{var x="Error. Please, send your file to support@photopea.com and we will solve it.";
if(dx.N_(n)=="eps")x="We support only basic EPS files. Convert your file into PDF (with an online converter) and open the PDF in Photopea.";
alert(x,1e4)}}}};cx.a0f=function(_,n,O,l){var x;if(_.name){var t=_.name.lastIndexOf(".");x=t==-1?t:_.name.slice(0,t)}else{if(_.url.substring(0,5)=="data:"||_.url.indexOf("googleapis")!=-1)x="image";
else x=_.url.substring(_.url.lastIndexOf("/")+1).split(".")[0];x=x.slice(0,50)}var h=_.name?_.name:_.url,V=new Uint8Array(n),y=dx.N_(n),r=window.gtag;
if(Math.random()<.25&&r&&y!=null&&dx.Jv(y))r("event",y,{event_category:"Formats"});if(y==null)y=R.c$(V,0,4);
if(h&&h.toLowerCase().endsWith(".raw")){var E=new e_(H.E.L,!0);E.data={d:H.t.Rq,EW:"importraw",Vd:n,L5:h.split("/").pop()};
O.$(E);return}else if(y=="json"){var a="";for(var m=0;m<V.length;m++)a+=String.fromCharCode(V[m]);a=decodeURIComponent(escape(a));
var S=JSON.parse(a);if(S.name&&S.url){var E=new e_(H.E.L,!0);E.data={d:H.t.ajm,h:S};O.$(E)}else{alert("Unknown JSON file opened. See the content in the console.",5e3);
console.log(S)}return}if(y=="html"){var a=R.hm(V,0,V.length),e=new DOMParser,P=e.parseFromString(a,"text/html"),b=P.getElementsByTagName("meta");
for(var m=0;m<b.length;m++){var T=b[m],C=T.getAttribute("property"),Z=T.getAttribute("content"),s=null;
if(C=="og:image")s=Z;if(C==null&&Z&&Z.startsWith("0;url=/imgres?")){var f=Z.slice(14).split("&");for(var q=0;
q<f.length;q++)if(f[q].startsWith("imgurl"))s=decodeURIComponent(f[q].slice(7))}if(s==null)continue;
var E=new e_(H.E.L,!0);E.data={d:H.t.wE,nZ:{url:s,Ye:!0,Ki:_.Ki}};O.$(E)}return}if(dx.Jv(y)){var g,i,u=dx.Jv(y);
if(_.Ki!=null&&"jpg png gif pdf svg ai psd".split(" ").indexOf(y)!=-1){var E=new e_(H.E.L,!0);if(0<=_.Ki)E.data={d:H.t.Yx,target:_.Ki,GP:_.vq,cn:n,sp:x};
else{E=new e_(H.E.s,!0);E.data={d:v.p$,data:new Uint8Array(n),L5:x+"."+y};E.G=D.Ko}O.$(E);return}var I=[x,u,y,_,O,l,n];
if(u.Yj){g=new fJ(x+(y=="psd"?"":"-"+y)+".psd");u.Xd(n,g,cx.G8,I)}else{i=u.Xd(n,null,cx.G8,I,O)}if(u.dR!=!0)cx.G8(g,i,I);
else O.MS();return}var Y=new e_(H.E.L,!0);Y.data={d:H.t.M9,Vd:n,zK:_.name};var U=_ instanceof File&&_.a7g!=!0,E=new e_(H.E.L,!0);
E.data={d:H.t.Gf,E5:"add",nZ:null,a4:null,apR:_.a7g};if(y=="zip"){var F=Date.now(),N=UZIP.parse(n),o="xml rels plist iwa db ds_store txt rtf".split(" ");
for(var X in N){var J=!1;for(var m=0;m<o.length;m++)if(X.toLowerCase().endsWith("."+o[m]))J=!0;if(X.startsWith("__MACOSX/")||N[X].length==0)J=!0;
if(J)continue;var c=X.split("/").pop();cx.Lc({name:c},N[X].buffer,O,l)}}else if(y=="jsx"||h&&h.toLowerCase().endsWith(".jsx")){var a=R.hm(new Uint8Array(n));
E.data={d:H.t.n$,TF:a};O.$(E)}else if(y=="otf"){if(U)O.$(Y);var p=Typr.parse(n);E.data.nZ=gp.V1;for(var m=0;
m<p.length;m++){E.data.a4=p[m];O.$(E)}}else if(y=="asl"){if(U)O.$(Y);var p=h5.GQ(n);E.data.nZ=gp.nL;
E.data.a4=p.vV;O.$(E);E.data.nZ=gp.co;E.data.a4=p.ie;O.$(E)}else if(y=="tpl"){if(U)O.$(Y);var p=di.GQ(n);
E.data.nZ=gp.fQ;E.data.a4={y7:p.y7,gg:p.gg,list:[]};O.$(E);if(p.acC.length!=0){E.data.nZ=gp.$h;E.data.a4=p.acC;
O.$(E)}if(p.ie.length!=0){E.data.nZ=gp.co;E.data.a4=p.ie;O.$(E)}E.data.nZ=gp.oy;E.data.a4=p.list;O.$(E)}else{var d="";
for(var k in gp.qZ)if(gp.qZ[k][0]==y)d=k;if(d!=""){if(U)O.$(Y);E.data.a4=gp.qZ[d][2].GQ(n,h);E.data.nZ=d;
O.$(E)}else alert("Unknown file format: "+JSON.stringify(y))}};cx.G8=function(_,n,O){var l=O[0],x=O[1],t=O[2],h=O[3],V=O[4],y=O[5],r=O[6];
if(x.dR)V.lB();if(!x.Yj){if(n.length==0)return;if(n[0].t33421||n[0].t50706){Q.raw.normalize(n[0],r);
console.log(n[0]);var E=new e_(H.E.L,!0);E.data={d:H.t.Rq,EW:"rawpea",G7:n[0]};V.$(E);return}if(y){y(new Uint8Array(n[0].data),n[0].n5);
return}_=dx.Fv(l,n)}_.Xs=h.Xs;_.fA=t;_.E5=h.E5;_.dT=h.url;_.dG=h.dG;_.bm=h.bm;_.RF=h.RF;_.Qr=h.Qr;if(_.bm)_.bm.gH=t;
if(_.B.length!=0){var E=new e_(H.E.L,!0);E.data={d:h.Ki==null?H.t.iQ:H.t.Yx,target:h.Ki,GP:h.vq,cn:_};
V.$(E)}};function eB(_){b1.call(this);this._h=eB._h++;this.xX=_;this.acD=this.awE.bind(this);this.aoG=this.aqj.bind(this);
this.ayX=this.Bk.bind(this);this.a5w=this.adN.bind(this);this.a6p=this.agp.bind(this);this.aoX=this.ahT.bind(this);
this.tA=0;this.aiS=0;this.ato=0;this.m=L.S("div","panelblock");this.t1=L.S("div","block");this.$W=L.S("div","collapsed");
this.m.appendChild(this.t1);this.$C=-1;this.GY=!0;this.m2=L.S("div","panelhead");this.t1.appendChild(this.m2);
this.ID(this.m2);this.sC=new cw("\u2261");this.sC.m.setAttribute("style","position:absolute; right:0;");
this.sC.Z("click",this.am8,this);this._M=L.S("div","body");this.t1.appendChild(this._M);this.wt=[];this.Yl=null;
this.PE=null}eB._h=0;eB.prototype=new b1;eB.X8=26.1;eB.prototype.am8=function(_){var n=this.wt[this.$C].Ji(),O=_.currentTarget.m.getBoundingClientRect();
n.f();n.update();n.parent=this;var l=new e_(H.E.L,!0);l.data={d:H.t.X3,B_:n,x:O.left,y:O.top+O.height+2};
this.$(l)};eB.prototype.zB=function(_){var n=this.t1,O=this.m2,l=this._M;if(L.PZ(O))n.removeChild(O);
if(L.PZ(l))n.removeChild(l);if(_==0)n.appendChild(O);n.appendChild(l);this.ato=_};eB.bO=function(_){_.stopPropagation();
_.preventDefault()};eB.prototype.awE=function(_){var n=_.dataTransfer.types;if(n[1]!=null&&n[1]!=this._h+"")return;
eB.bO(_);var ab=_.currentTarget;if(_.target==ab)L.NT(ab,"highlight")};eB.prototype.aqj=function(_){eB.bO(_);
var ab=_.currentTarget;if(_.target==ab)L.Gd(ab,"highlight")};eB.prototype.ID=function(_){_.addEventListener("dragenter",this.acD,!1);
_.addEventListener("dragleave",this.aoG,!1);_.addEventListener("dragover",eB.bO,!1);_.addEventListener("drop",this.ayX,!1);
_.addEventListener("dragstart",function(n){n.dataTransfer.setData("Text","--panel");n.dataTransfer.setData(this._h+"","")}.bind(this),!1)};
eB.prototype.Bk=function(_){this.aoG(_);var n=null,ab=_.currentTarget,O=this.afk(ab);if(ab==this._M&&this.$C!=-1)n=this.$C;
else if(ab==this.m2)n=null;else if(O!=-1)n=O;var l=_.dataTransfer.getData("Text");if(l==""||l.startsWith("http"))L._6(_,this,n);
else if(l=="--panel"){var x=L.q1(_,ab),t=this.wt,h=t.slice(0),m=this.$C,V=O==-1?t.length:x.x<ab.getBoundingClientRect().width/2?O:O+1;
if(m==V||m+1==V||ab==this._M)return;var y=m<V?V-1:V,r=t[m];t.splice(m,1);t.splice(y,0,r);L.I$(this.m2);
for(var E=0;E<t.length;E++)this.m2.appendChild(t[E].He);this.ea(y);var a=[];for(var m=0;m<t.length;m++)a[m]=h.indexOf(t[m]);
var S=new e_("shuffleItems",!1);S.data={a5F:a};this.$(S)}else if(n!=null&&this instanceof i5){var S=new e_(H.E.L,!0);
S.data={d:H.t.as3,arf:n};this.$(S)}};eB.prototype.HI=function(){return null};eB.prototype.aet=function(){if(this.HI()){this.m2.style.padding="0px";
this.PE=this.HI();this._M.appendChild(this.PE);this.N0.Nf(!1);var _=new e_(H.E.L,!0);_.data={d:H.t.r4,h:1};
this.$(_)}};eB.prototype.at2=function(){if(this.PE){this.m2.style.padding="";this._M.removeChild(this.PE);
this.PE=null;this.N0.Nf(!0);var _=new e_(H.E.L,!0);_.data={d:H.t.r4,h:0};this.$(_)}};eB.prototype.afk=function(_){var n=this.wt;
for(var m=0;m<n.length;m++)if(n[m].He==_)return m;return-1};eB.prototype._G=function(){for(var m=0;m<this.wt.length;
m++)this.wt[m].yU.Xy()};eB.prototype.I_=function(){return this.$C};eB.prototype.nx=function(){if(this.GY)return;
this.GY=!0;this.m.removeChild(this.$W);this.m.appendChild(this.t1)};eB.prototype.collapse=function(){if(!this.GY)return;
this.GY=!1;this.m.appendChild(this.$W);this.m.removeChild(this.t1)};eB.prototype.X8=function(){var _=0;
if(this.ato==0){_=this.m2.getBoundingClientRect().height+1;_=Math.max(_,eB.X8)}return _};eB.prototype.a4y=function(){return this.X8()+this._M.getBoundingClientRect().height};
eB.prototype.A$=function(_,n){this.m2.style.maxWidth=_+"px";var O=this.X8();if(this.$C!=-1)this.wt[this.$C].A$(_,n-O);
return n-O};eB.prototype.w1=function(_,n){if(this.$C!=-1)this.wt[this.$C].w1(_,n)};eB.prototype.dN=function(_,n,O){this.wt[this.$C].dN(_,n,O)};
eB.prototype.rR=function(_){this.at2();if(this.wt.indexOf(_)!=-1){this.ea(this.wt.indexOf(_));return}_.parent=this;
this.wt.push(_);this.m2.appendChild(_.He);_.He.addEventListener("mouseover",this.a5w,!1);this.ID(_.He);
this.$W.appendChild(_.yU.m);_.yU.Z("click",this.apa,this);_.Z("select",this.alH,this);_.Z(H.E.DJ,this.a77,this);
this.ea(this.wt.length-1)};eB.prototype.adN=function(_){if(_.buttons==0)return;var n=_.currentTarget,O=n,m=0;
while((O=O.previousSibling)!=null)m++;this.aiS=m;n.addEventListener("mouseout",this.a6p,!1);this.tA=setTimeout(this.aoX,700)};
eB.prototype.agp=function(_){var n=_.currentTarget,O=n,m=0;while((O=O.previousSibling)!=null)m++;n.removeEventListener("mouseout",this.a6p);
clearTimeout(this.tA)};eB.prototype.ahT=function(_){this.$(new e_(H.E.aka,!1))};eB.prototype.a2O=function(_){return this.aiS};
eB.prototype.Xt=function(m){var _=new e_(H.E.DJ,!1);_.data={oN:m};this.$(_);var n=this.wt[m];this.wt.splice(m,1);
this.m2.removeChild(n.He);this.$W.removeChild(n.yU.m);n.He.className="";n.yU.removeEventListener("click",this.apa,this);
n.yU.Xy();n.removeEventListener("activate",this.alH);n.removeEventListener(H.E.DJ,this.a77);var O=this.$C;
if(m<O)O--;else if(m==O&&m==this.wt.length)O--;this.ea(O);if(this.wt.length==0)this.aet()};eB.prototype.a3i=function(){return this.wt.length};
eB.prototype.kZ=function(){if(this.wt.length!=0)this.wt[this.$C].kZ()};eB.prototype.ea=function(_,n){if(n==null)n=!0;
for(var m=0;m<this.wt.length;m++)this.wt[m].He.className="";if(this.Yl)this._M.removeChild(this.Yl);
this.Yl=null;this.$C=_;if(_==-1)return;var O=this.wt[this.$C];this.Yl=O.$i;this._M.appendChild(O.$i);
O.He.className="active";if(!this.GY){this.$(new e_("showFloat"));this.wt[_].yU.tV()}if(n)this.$(new e_(H.E.A,!1));
O.lY();var l=this.sC.m;if(l.parentNode)this.m2.removeChild(l);if(O.Ji())this.m2.appendChild(l);var x=new e_(H.E.L,!0);
x.data={d:H.t.$S};this.$(x)};eB.prototype.alH=function(_){if(this.xX&&!this.xX.a7z())return;var m=this.wt.indexOf(_.currentTarget);
this.ea(m)};eB.prototype.a77=function(_){if(this.xX&&!this.xX.a7z())return;var m=this.wt.indexOf(_.currentTarget);
this.Xt(m)};eB.prototype.apa=function(_){var n=this.wt.indexOf(_.currentTarget.parent);if(this.wt[n].yU.ua())this.$(new e_("hideFloat"));
else this.ea(n)};eB.prototype.adB=function(_){this.$(_)};function i5(_){eB.call(this,_);this.Qc=0;this.bE=0;
L.LY(this.m2,this.ant.bind(this));this.nc=0;this.ae5=this.ace.bind(this);this.ID(this._M);this.nI=["default;"];
this.N0=new L.DO(this._M);this.Mo=new ju(!0);this.Mo.parent=this;this.Ty=this.Mo.m;ju.K2(this.Mo)}i5.prototype=new eB;
i5.prototype.ant=function(_){if(_.target!=this.m2)return;var n=this.nc;this.nc=Date.now();if(Date.now()-n>300)return;
var O=new e_(H.E.L,!0);O.data={d:H.t.Rq,EW:"newproject"};this.$(O)};i5.prototype.ST=function(_,n){if(n)this.nI.push(_);
else{var O=this.nI.length-1;if(this.nI[O]==_)return;this.nI[O]=_}this.Re()};i5.prototype.a2q=function(){this.nI.pop();
this.Re()};i5.prototype.Re=function(){var _=this.nI[this.nI.length-1];this.N0.dN(_,this.f$)};i5.prototype.w1=function(_,n){eB.prototype.w1.call(this,_,n);
this.Mo.w1(_,n);if(!_.Wl){}};i5.prototype.f=function(){eB.prototype.f.call(this);this.Mo.f()};i5.prototype.dN=function(_,n){for(var m=0;
m<n.length;m++){var O=n[m];this.wt[m].T7(O.name+(O.t0()?" *":""))}eB.prototype.dN.call(this,_,n)};i5.prototype.HI=function(){return this.Ty};
i5.prototype.A$=function(_,n){if(this.wt.length==0)n+=eB.X8-1;this.Qc=_;this.bE=n;n=eB.prototype.A$.call(this,_,n);
this.f$="height:"+n+"px; width:"+_+"px; overflow:hidden; position:relative;";this.Re();this.Mo.A$(_,n)};
i5.prototype.rR=function(_){eB.prototype.rR.call(this,_);_.He.addEventListener("click",this.ae5,!1)};
i5.prototype.Xt=function(m){var _=this.wt[m];L.l4(_.He,this.ae5);eB.prototype.Xt.call(this,m)};i5.prototype.ace=function(_){var n=this.nc;
this.nc=Date.now();if(Date.now()-n>300)return;var O=this.afk(_.currentTarget),l=this.wt[O].cn.name,x=new e_(H.E.L,!0),t={Y:H.E.s,G:D.Ko,W:{d:v.KX}};
x.data={d:H.t.Rq,EW:"namewindow",KB:l.slice(0,l.length-4),O7:t};this.$(x)};function hz(_){b1.call(this);
if(_)return;js.adZ(1);this.m=L.S("div","flexrow app");this.hF=L.S("div");this.m.appendChild(this.hF);
setTimeout(function(){var O=window.hideCap;if(O)O()},25e3);this.RO=new bJ;window.addEventListener("blur",function(O){this.RO.reset()}.bind(this),!1);
window.addEventListener("resize",this.zc.bind(this),!1);var n=this.hF;this.Kl=new dZ;this.Kl.parent=this;
n.appendChild(this.Kl.m);this.Xf=new k9;this.Xf.parent=this;n.appendChild(this.Xf.m);this.di=new dQ(!0);
this.di.parent=this;n.appendChild(this.di.m);this.Z(H.E.L,this.GZ,this);this.xK=this.K7.bind(this);window.requestAnimationFrame(this.xK)}hz.prototype=new b1;
hz.prototype.K7=function(_){this.G_();window.requestAnimationFrame(this.xK)};hz.prototype.f=function(){};
hz.prototype.zc=function(_){var n=window.innerWidth,O=window.innerHeight;this.A$(n,O)};hz.prototype.A$=function(_,n){this.Xf.A$(_,n);
this.Kl.A$(_,n)};hz.prototype.GZ=function(_){var n=_.data.d;if(n==H.t.X3)this.Xf.aiN(_.data);if(n==H.t.sa)this.Xf.a5k(_.data);
if(n==H.t.Oc)this.Xf.aeG(_.data.kY);if(n==H.t.T3)this.Xf.aom(_.data.kY);if(n==H.t.ci)this.Xf.SR()};function fd(){hz.call(this);
this.fh={x:0,y:0,Ju:!1};this.Pq=!1;this.RB=!1;this.uh=null;this.arn=0;this.amD=!1;this.jF=0;window.onmessage=function(T){if(Storage.ahW(T.source))return;
if(T.data instanceof ArrayBuffer){var C=dx.N_(T.data),Z=dx.Jv(C);iR.Lc({url:"file"},T.data,this);if(Z==null)this.wD()}else if(T.data instanceof Object||T.data.startsWith("{")||T.data.startsWith("amp-")||T.data.startsWith("0=goog")||T.data.startsWith("3PCoo")){}else if(T.data.startsWith("--ur ")){var W=T.data.split(" ").pop(),u=null;
W=W.length==0?[]:W.split(",");console.log(W);var s=this.PD.a4,f=new e_(H.E.L,!0);f.data={d:H.t.Gf,nZ:gp.EP,t2:W};
this.$(f);var q=W,g=s;if(g.length>q.length){var i=g;g=q;q=i}for(var m=0;m<q.length;m++)if(g.indexOf(q[m])==-1)u=q[m];
iR.lQ("act=3&id="+u+"&dif="+(q==W?1:-1));alert((q==W?"Resource added.":"Resource removed.")+" "+u)}else if(T.data.startsWith("--ot ")){this.Kl.Ja().close();
this.MH.Q1(T.data.split(" ").pop(),!0)}else if(T.data.startsWith("--et ")){}else{var f=new e_(H.E.L,!0);
f.data={d:H.t.n$,TF:T.data};this.$(f);this.wD()}}.bind(this);window.onbeforeunload=function(T){for(var m=0;
m<this.A0.length;m++)if(this.A0[m].t0())return this.A0[m].name}.bind(this);window.setInterval(function(){var T=this.Ux();
if(T==null)return;var C=(Date.now()-T.Ef)/6e4;if(this.PD.sW==1&&T.Uh!=T.Yo&&C>60){var Z="You haven't saved your work ("+T.name+") for "+Math.round(C)+" minutes. Would you like to save it now? "+"You can disable this message in Edit > Preferences.",W=new e_(H.E.L);
W.data={d:H.t.Rq,EW:"confirm"};W.data.h=Z;W.data._f=function(){var W=new e_(H.E.L);W.data={d:H.t.dE};
this.$(W)}.bind(this);this.$(W)}}.bind(this),30*60*1e3);var _=this,V="",y="";if(window.indexedDB&&(!jm.YG()||document.hasStorageAccess==null)){var n={hp:window.indexedDB.open("pp",1)};
n.hp.onupgradeneeded=function(T){var C=T.target.result,Z=C.createObjectStore("rsrc",{keyPath:"k"})};
n.hp.onsuccess=function(T){var C=_.PD.mM.CR=T.target.result,Z=C.transaction(["rsrc"],"readwrite").objectStore("rsrc"),W=Z.get("fs0");
W.onsuccess=function(T){if(T.target.result){var s=_.PD.mM.Au=T.target.result.fset;for(var f in s){if(!f.endsWith(".jsx"))iR.Lc({url:f,a7g:!0},s[f],_)}}}}}var O=["rwx~#.-(;.]6EF","rx'|#1,6><@87f?NO"],l=L.k0[aJ.Nz][aJ.Ma];
for(var m=0;m<O.length;m++){var x=L.gX(O[m]);if(l.indexOf(x)!=-1){var t=L.k0[aJ.Nz][aJ._M],h=L.gX("M|H:15=3/iQ6EEKQ{\\PTbV/Y[`kjxx\"}vOz( %0b1=?HcMFZH zy#Wby9Sti'~uu3{}&428H-Cm7Ji{X[^w=Xbjhldc3kz{MC K[");
L.I$(t);t[aJ.ah2]=h;return}}this.e={a5r:[{G:D.iz,Fm:!1,mU:[bJ.alA,bJ.pN]},{G:D.fY,Fm:!1,mU:[bJ.pN]},{G:D.yK,Fm:!0,mU:[bJ.mV],yu:[D.OU]},{G:D.OU,Fm:!0,mU:[bJ.mV],yu:[D.yK]},{G:D.y_,Fm:!0,mU:[bJ.mV],yu:[D.i$,D.Nn,D.IP]},{G:D.i$,Fm:!0,mU:[bJ.mV],yu:[D.y_,D.bb,D.hD,D.LU,D.Rj,D.PG]},{G:D.cb,Fm:!0,mU:[bJ.mV]}],sV:[[{G:new D.dV,aD:b6},{G:new D.LE,aD:ha}],[{G:new D.Q$,aD:gS},{G:new D.Fb,aD:dw}],[{G:new D.bK,aD:fM},{G:new D.Qx,aD:dS},{G:new D.sk,aD:ek}],[{G:new D.rr,aD:i4},{G:new D.Om,aD:f0},{G:new D.q6,aD:iN}],[{G:new D.acU,aD:ku},{G:new D.alQ,aD:it},{G:new D.aR,aD:hR},{G:new D.KW,aD:iL}],[{G:new D.N3,aD:k7},{G:new D.Kn,aD:ht}],[{G:new D.IZ,aD:hY},{G:new D.cf,aD:bz},{G:new D.oE,aD:eq},{G:new D.an1,aD:jf},{G:new D.$J,aD:dm}],[{G:new D.eb,aD:bs},{G:new D.ds,aD:id},{G:new D.ub,aD:eY}],[{G:new D.Wz,aD:ae}],[{G:new D.gw,aD:bp},{G:new D.BH,aD:fz}],[{G:new D.de,aD:jq},{G:new D.oV,aD:i2}],[{G:new D.Bh,aD:dI},{G:new D.Pv,aD:dv},{G:new D.sl,aD:ad}],[{G:new D.m0,aD:d8},{G:new D.uH,aD:du},{G:new D._m,aD:fP}],[{G:new D.uk,aD:bP},{G:new D.axX,aD:bP}],[{G:new D.sE(0),aD:gf},{G:new D.a_,aD:ho},{G:new D.sE(1),aD:gf}],[{G:new D.kQ,aD:iw},{G:new D.tX,aD:iv}],[{G:new D.Rect,aD:cv},{G:new D.p6,aD:cS},{G:new D.Mk,aD:dU},{G:new D.FL,aD:bU},{G:new D.Yb,aD:hT}],[{G:new D.qJ,aD:fp},{G:new D.R0,aD:ap}],[{G:new D.tM,aD:aI}]],H_:[],keys:[bJ.Z2,bJ.sY,bJ.oT,bJ.b3,bJ.bd,bJ.dq,bJ.Vk,bJ.ly,bJ.Mh,bJ.E,bJ.d0,null,bJ.ZM,bJ.Fy,bJ.Ou,bJ.t,bJ.D3,bJ.yH,bJ.oo],TJ:[{G:new D.a1C,aD:eW},{G:new D.afT,aD:em},{G:new D.a0v,aD:jo},{G:new D.N3(!0),aD:k7},{G:new D.Xu,aD:dP}],Pu:[{G:new D.Z0},{G:new D.History},{G:new D.jC},{G:new D.r$},{G:new D.tc},{G:new D._H}],map:{},Gi:null,yE:null,Kc:null};
for(var m=0;m<this.e.sV.length;m++){var r=this.e.sV[m];if(r=="---")continue;var E=this.e.keys[m];for(var a=0;
a<r.length;a++){this.e.map[r[a].G.id]=r[a];r[a].zC=m;r[a].awT=a;var S=hU.get(r[a].G.name);y+="<li>"+r[a].G.id+": "+S+"</li>";
V+="\t"+JSON.stringify(r[a].G.name)+", "+(E?"\""+E.GK+"\"":"null")+", "+r[a].G.id+", // "+S+"\n"}this.e.H_[m]=0}for(var m=0;
m<this.e.TJ.length;m++)this.e.map[this.e.TJ[m].G.id]=this.e.TJ[m];for(var m=0;m<this.e.Pu.length;m++)this.e.map[this.e.Pu[m].G.id]=this.e.Pu[m];
this.PD={avq:!1,kp:null,HX:0,V5:{gg:[],y7:[],list:[],W5:null},ep:[],alm:[],QL:[],ZR:[],ar:[],LK:[],apK:[],aev:[],ar:[],zn:[fu.gV()],xB:[],mN:[],j7:null,Lr:0,k$:{xP:1,cK:JSON.parse(JSON.stringify(aF.iS[0]))},P3:JSON.parse(JSON.stringify(aF.eo.default)),adP:[null].concat(aF.iS),auH:[null].concat(aF.iS),y8:new g0(function(T){var C=new e_(H.E.L,!0);
C.data={d:H.t.wE,nZ:{url:"rsrc/fonts/"+T}};this.$(C)}.bind(this)),Kw:{ZP:[],oM:null,G1:null},font:null,eZ:[],a4:[],anD:{},KU:16711680,lV:0,PS:!1,qq:!0,lW:{P9:!0,TP:!1,M0:!0,VE:!0,f2:!0,Ks:!0,Y$:20,dt:0,EO:0,Go:0},Ay:!0,hK:[!0,!0,!1,!0,!0],uE:[0,1,2,3,5,6,7,9,10,16,17,100],dn:1,cV:!0,wz:{},Wl:!0,a55:!1,compact:!1,sW:1,Ty:!0,SW:null,mM:{au1:!1,axq:!1,Au:{},CR:null},aeY:0,ad1:null,wL:null,al0:null,sg:null};
this.a4I={Sm:new a8,zx:new aW};this.PD.Kw=b$.aoF();this._5=new bR;this.s_=new cC;this.Lm=new jU(this.e,!0);
this.Vg=new cb;this.iE=new i5(this);this.FH=L.S("div");this.Hz=!1;this.jq=this.ax2.bind(this);L.NT(this.iE.m,"mainblock");
this.di.parent=this._5.parent=this.s_.parent=this.Lm.parent=this.Vg.parent=this.iE.parent=this;this.iE.Z(H.E.A,this.qa,this);
this.iE.Z(H.E.DJ,this.ak2,this);this.iE.Z("shuffleItems",this.arD,this);this.iE.Z(H.E.aka,this.aeW,this);
this.Z("mouse",this.atZ,this);this.Z(H.E.s,this.cZ,this);this.Z(H.E.yy,this.a2D,this);document.body.addEventListener("keydown",this.IO.bind(this),!1);
window.addEventListener("keyup",this.sh.bind(this),!1);window.addEventListener("paste",this.a8I.bind(this),!1);
window.addEventListener("copy",this.a5z.bind(this),!1);window.addEventListener("wheel",function(T){if(T.ctrlKey)T.preventDefault()},{passive:!1});
window.addEventListener("beforeinstallprompt",function(T){if(window.innerWidth>400)T.preventDefault();
this.PD.SW=T}.bind(this));if(window.location.href.indexOf("photopea.com")!=-1&&"serviceWorker"in navigator){navigator.serviceWorker.register("sw.js",{scope:"./"}).then(function(T){if(T.aj8){console.log("Service worker installing")}else if(T.abm){console.log("Service worker installed")}else if(T.active){console.log("Service worker active")}}).catch(function(T){console.log("Registration failed with "+T)})}this.Sv=0;
this.A0=[];this.MH=new iR(cx.Lc);this.MH.parent=this;var e=this.hF,P=this.by=L.S("div");P.appendChild(this._5.m);
P.appendChild(this.s_.m);this.di.arR(P);var b=this.aaf=L.S("div","flexrow");e.appendChild(b);b.appendChild(this.Lm.m);
b.appendChild(this.iE.m);b.appendChild(this.Vg.m);this.MH.Y6({url:"rsrc/basic/basic.zip"});this.Rm(D.cb);
iM.L7(this.a3v.bind(this))}fd.prototype=new hz(!0);fd.prototype.wD=function(_){var n=new e_(H.E.L);n.data={d:H.t.LD,nZ:_?_:"done"};
this.$(n)};fd.prototype.a3v=function(){L.k0[aJ.a1](this.a4t.bind(this),Math.pow(Math.PI,8)+L.k0[aJ.a47][aJ.a32]()*1e4);
var _=iM.gM();if(_!=null&&_.globals!=null)this.Mm(_.globals);else{this.amD=!0;var n=navigator.languages;
if(n&&n.length!=0){var O=n[0];hU.Gk(O,this.jq)}}if(!this.f7()){var l=L.a33();if(l==0)this.a55=!0;if(l==2)this.PD.Wl=!1;
if(l!=1&&Math.random()<.002)L.adw()}if(!jm.YG()||!this.PD.Wl){this.ab5();this.uO()}else{var x=L.zD(L.k0[aJ.V4]);
x[aJ.OV](aJ.Us,this.a76.bind(this));x[aJ.GM](L.Jm("61="),L.Jm("_MYOqDLGJa;A:6"));x[aJ.VP]()}this.Pq=!0;
this.wD()};fd.prototype.a76=function(_){var n=JSON.parse(_.target[aJ.jK]),O=L.k0[aJ.mW][aJ.anw]()/1e3,l=L.k0[aJ.Nz][aJ.Ma],x=!1;
for(var t in n)if(t.indexOf(".")!=-1&&l.indexOf(t)!=-1&&parseInt(n[t])>O)x=!0;if(x)this.PD.Wl=!1;this.ab5();
this.uO()};fd.prototype.uO=function(_){this.RB=!0;if(!this.PD.Ty)this.iE.Ty=null;else if(this.A0.length==0)this.iE.aet();
this.V7(gp.WB);this.f();this.zc();this.Vg.dN(this.Ux(),this.A0,this.PD)};fd.prototype.Mm=function(_){var n=this.PD;
if(_.fcolor!=null)n.KU=_.fcolor;if(_.bcolor!=null)n.lV=_.bcolor;if(_.rulers!=null)n.PS=_.rulers;if(_.extras!=null)n.qq=_.extras;
if(_.favFam!=null)n.eZ=_.favFam;if(_.rsrc!=null)n.a4=_.rsrc;if(_.font!=null)n.Kw.ZP[0].Name=_.font;if(_.panels!=null)n.uE=_.panels;
if(_.as!=null)n.sW=_.as;if(_.eparams){var O=_.eparams,l=n.lW;if(O.guides!=null)l.P9=O.guides;if(O.grid!=null)l.TP=O.grid;
if(O.gsize!=null)l.Y$=O.gsize;if(O.gunits!=null)l.dt=O.gunits;if(O.gtype!=null)l.EO=O.gtype;if(O.runits!=null)l.Go=O.runits;
if(O.sels!=null)l.M0=O.sels;if(O.paths!=null)l.VE=O.paths;if(O.pgrid!=null)l.f2=O.pgrid;if(O.slices!=null)l.Ks=O.slices}if(_.lang!=null)hU.Gk(_.lang,this.jq);
if(_.theme!=null)n.dn=_.theme;if(_.topt||n.Q4){var x=_.topt?_.topt:{},t=n.Q4?n.Q4:{};for(var h in this.e.map){if(h>=103)continue;
var V="t"+h;if(x[V]||t[V])this.e.map[h].G.Az(x[V],t[V],this)}}};fd.prototype.ab5=function(){if(this.PD.avq)return;
this.PD.avq=!0;var _=null,n=window.location.href,O=n.indexOf("="),l=n.indexOf("#");if(O!=-1)_=n.substring(n.indexOf("?")+1,O);
if(l!=-1&&l!=n.length-1){_="p";O=l}if(l!=-1&&n[l+1]=="i"){this.MH.Q1(n.slice(l+2))}else if(l!=-1&&n[l+1]=="t"){this.MH.Q1(n.slice(l+2).split("").reverse().join(""),!0)}else if(_=="p"||_=="state"){var x=n.substring(O+1,n.length);
x=JSON.parse(decodeURI(x));if(_=="p"){if(x.script=="alert(73)")this.PD.Wl=!1;if(x.script)hf.arS(this);
if(x.server)this.uh=x.server;if(x.resources)for(var m=0;m<x.resources.length;m++)this.MH.Y6({url:x.resources[m]});
if(x.files)for(var m=0;m<x.files.length;m++)this.MH.Y6({url:x.files[m],E5:{if:x.server,atB:x.script}});
var t=x.environment;if(t==null)t={};if(t.plugins!=null)this.Vg.amt(t.plugins);if(t.localsave!=null)this.PD.cV=t.localsave;
if(t.customIO!=null)this.PD.wz=t.customIO;if(t.vmode!=null){var h=t.vmode;if(h==1)this.PD.compact=!0;
if(h==2)this.zB(1)}if(t.intro!=null)this.PD.Ty=t.intro;if(t.menus!=null)this.PD.ayc=t.menus;if(t.tmnu!=null)this.PD.Q4=t.tmnu;
if(t.panels!=null)this.PD.uE=t.panels;if(t.showtools!=null){var V=t.showtools,y=V.indexOf(this.PD.kp);
this.PD.Yv=V;if(y==-1)this.Rm(V[0])}if(t.phrases!=null)hU.a9v(t.phrases);if(t.autosave!=null){this.PD.sW=0;
window.setInterval(function(){var a=new e_(H.E.L);a.data={d:H.t.dE};this.$(a)}.bind(this),t.autosave*1e3)}if(t.icons!=null){for(var r in t.icons)if(t.icons[r].indexOf("\"")==-1){if((r==aJ.ayl||r==aJ.aww)&&this.PD.Wl)continue;
PIMG[r]=t.icons[r];PIMG["__"+r]=!0}}this.Mm(t);if(x.files==null&&x.script){ak.gq(x.script,this);this.wD()}}else if(_=="state"){var E=this.MH;
if(x.action=="create"){var a=new e_(H.E.L);a.data={d:H.t.Rq,EW:"newproject",arY:x.folderId};this.$(a)}if(x.action=="open"){for(var m=0;
m<x.ids.length;m++)dT.Op(function(){var e="https://www.googleapis.com/drive/v3/files/"+this.ax5,P=new XMLHttpRequest;
P.open("GET",e);P.setRequestHeader("Authorization",dT.VV());P.send();P.onload=function(b){var T=JSON.parse(b.target.response);
E.Y6({url:e+"?alt=media",name:T.name,bm:{file:T,gH:""},yb:{Authorization:dT.VV()}})}}.bind({ax5:x.ids[m]}));
alert("Loading files from Google Drive ...")}}}else{var S=window.launchQueue;if(S){var E=this.MH;S.setConsumer(function(e){var P=e.files;
console.log(P);for(var m=0;m<P.length;m++){var b=P[m];b.getFile().then(function(T){E._N([T],null,null,null,[b])})}})}}};
fd.prototype.f=function(){var _=document.getElementById("cap");if(_){var n=!1,O=_.getElementsByTagName("h1")[0],t=0,V=0,y=0;
O.textContent=n?"Photopea":hU.get([0,17,0]);var l=_.getElementsByTagName("p"),x=L.RI(hU.get([0,17,1])),h=["PSD","XCF","Sketch","XD","CDR"];
for(var m=0;m<h.length;m++)x=x.replace(h[m],"<b>"+h[m]+"</b>");if(!n)x+=" (<b>Adobe Photoshop</b>, <b>GIMP</b>, <b>Sketch App</b>,  <b>Adobe XD</b>, <b>CorelDRAW</b>).";
l[0].innerHTML=x;x=hU.get([0,17,2])+" "+hU.get([0,17,3]);for(var m=0;m<x.length;m++){var r=x[m];if(r=="<")V++;
if(r==">")y++}if(!n&&V*y==9){var E=["//github.com/photopea/photopea/issues","//www.facebook.com/photopea/","//blog.photopea.com/introduction.html"];
for(var m=0;m<3;m++){var a=x.indexOf("<",t),S=x.indexOf(">",t),e=x.slice(0,a)+"<a href=\""+E[m]+"\" target=\"_blank\">"+x.slice(a+1,S)+"</a>";
t=e.length;x=e+x.slice(S+1)}l[1].innerHTML=x}else l[1].innerHTML=hU.get([0,17,2])}var P=document.getElementById("sponsors");
if(P)P.textContent=hU.get([0,17,4]);this.di.f();this._5.f();this.Vg.f();this.Lm.f();this.Kl.f();this.iE.f();
for(var b in this.e.map)if(this.e.map[b].IN)this.e.map[b].IN.f()};fd.prototype.f7=function(){return 4<L.k0[aJ._u][aJ.Rk][aJ.ahk](aJ.Jm("'$!|"))};
fd.prototype.A$=function(_,n){_=Math.floor(_);n=Math.floor(n);var O=L.Jm("WUMK&AM"),l=aJ.AM,x=L.k0[aJ.Nz],t=Math.max(_,window.screen.width),h=Math.max(n,window.screen.height),a=0;
if(this.g_==null)this.g_=Math.min(t,h)<500||t<750?0:t<1600?1:2;var V=this.g_,y=!this.RB||this.f7()||!this.PD.Wl||iM.Sg()||V==0;
if(!y&&jm.YG()){if(this.and==null)this.and=Math.random()<.5;y=this.and}if(y){if(V!=0&&L.k0[O]&&this.RB)L.k0[O]()}else{if(V==0)n-=60;
else _-=V==1?180:320}hz.prototype.A$.call(this,_,n);if(y&&this.Hz){this.m[aJ.hX](this.FH);L.I$(this.FH);
this.Hz=!1}if(!y&&!this.Hz){var r=function(P){if(Math.random()<.002){iM.event(jm.k1()?"gota_0":"gota_1")}this.aie(_,n);
var b=V==0?x[aJ._M]:this.m;b.appendChild(this.FH);this.FH[aJ.EV](l,L.Jm("_MMJLNDfKCAg")+(V==0?10:10)+L.Jm("_d$ebOS?I:==Ba-+# }$M"));
this.FH[l][L.Jm("_MMJLND&<:E")]=(V==0?0:19)+L.Jm("_d");this.FH[l][L.Jm("i5WJHX")]=V==0?0:1}.bind(this);
function E(){jm.aiv(r)}setTimeout(E,2300);this.Hz=!0}if(L.PZ(this._5.m))a+=31;if(L.PZ(this.s_.m))a+=32;
this.di.aow=this.PD.Wl&&this.RB;this.di.A$(_,a);var S=n-a,e=L.Jm("_d");this.FH[l][aJ.avW]=(V==0?100>>>1:n-11)+e;
this.FH[l][aJ.vR]=(V==0?_:6*Math.pow(10,2))+e;if(L.PZ(this.Lm.m))this.Lm.A$(_,S);this.Vg.A$(_,S);this.iE.A$(_-this.Lm.Y1()-this.Vg.Y1(),S)};
fd.prototype.aie=function(_,n){var O=function(){var l=new e_(H.E.L);l.data={d:H.t.Rq,EW:"account"};this.$(l)}.bind(this);
jm.aeO(_,n,this.FH,O,this.g_)};fd.prototype.a5z=function(_){console.log("systemCopy")};fd.prototype.a8I=function(_){if(L.Hb())return;
console.log("systemPaste");if(!_.clipboardData)return;var n=_.target.tagName.toLowerCase(),O=_.clipboardData.items;
if(O==null)return;var l=this.adI.bind(this);for(var m=0;m<O.length;m++){var x=O[m],t=x.getAsFile();if(x.type.indexOf("text")!=-1){x.getAsString(this.atH.bind(this))}if(x.type.indexOf("image")!=-1){if(t.size==this.PD.aeY)return;
this.PD.aeY=t.size;if(t){t.name="image.png";this.MH._N([t],l)}}}};fd.prototype.atH=function(_){if(_.startsWith("http")){if(_==this.PD.avA)return;
this.PD.avA=_;var n=new e_(H.E.L,!0);n.data={d:H.t.wE,nZ:{url:_,Ye:!0}};this.$(n)}};fd.prototype.adI=function(_,n){var O={buffer:_,rect:n},l=this.PD;
if(L.Hb()){var x=this.a4I,t=x.Sm;if(t.a==n.a&&t.n==n.n){O.rect=t;O.zx=x.zx}}else{if(l.wL){var h=new e_(H.E.s,!0);
h.G=D.kF;h.data={d:"h_stepbck"};this.$(h)}}l.wL=O;var h=new e_(H.E.L,!0);h.data={d:H.t.d_,a6j:!0};this.$(h)};
fd.prototype.axj=function(){if(this.Kl.Ja()!=null)alert(hU.get([15,7,8]));else alert("Escape or Confirm the current action (in the top menu).")};
fd.prototype.cZ=function(_){var n=this.Ux();if(n==null){alert(hU.get([15,7,7]));return}var O=_.G==D.fY||_.G==D.iz;
if(this.Kl.HE()&&_.$o!=!0&&!O){this.axj();return}var l=this.e,x=this.PD.kp,t=_.G;if(t==D.K9&&x==D.An)t=D.An;
if(x!=t&&l.map[x].G.HE()&&!O&&!(x==D.lG&&t==D.rq)){console.log("disabling",x);l.map[x].G.disable(n,this,this.PD,this.RO)}var h=this.e.map[t].G;
h.cZ(_.data,this,n,this.RO,this.PD)};fd.prototype.a2D=function(_){var n=this.PD;if(_.data.zS!=!0)g3.auo({et:_.data.et,ot:_.data.ot},this,n,this.Ux());
var O=n.j7,l=n.mN;if(O==null)return;var x={a7M:!1,qm:"Step",acT:0,w:!0,exp:!1,et:_.data.et};if(O[2]==null)O[2]=l[O[0]].l_[O[1]].l_.length-1;
if(_.data.ot)x.ot=_.data.ot;l[O[0]].l_[O[1]].l_.splice(O[2]+1,0,x);O[2]++;this.V7(gp.s)};fd.prototype.GZ=function(_){if(this.a55){_.data=0;
return _.type}hz.prototype.GZ.call(this,_);var n=_.data.d;if(n==H.t.kW)g3.aaX(this.Ux(),this.PD.mN,_.data.xV[0],_.data.xV[1],this);
if(n==H.t.as3){this.a6B(_.data.arf)}if(n==H.t.a0h){this.f();this.zc()}if(n==H.t.$S)this.zc();if(n==H.t.aob)if(this.PD.SW){this.PD.SW.prompt();
this.PD.SW=null}if(n==H.t.JK)this.iE.ST(_.data.vG,_.data.push);if(n==H.t.alu)this.iE.a2q();if(n==H.t.ax6)this.qa(null,_.data.dir);
if(n==H.t.ki)this.iE.Xt(this.A0.indexOf(_.data.xN));if(n==H.t.r4){if(_.data.S0&&document.fullscreenEnabled){if(document.fullscreenElement)document.exitFullscreen();
else document.body.requestFullscreen()}else if(_.data.S0)document.body.webkitRequestFullScreen();if(_.data.h!=null)this.zB(_.data.h)}if(n==H.t.a2u){if(_.data.Ju)this.RO.$u(_.data.aq$);
else this.RO.El(_.data.aq$);this.op(_.data.Ju?"down":"up")}if(n==H.t.ajm){var O=_.data.h;this.Vg.amt([O]);
this.f()}if(n==H.t.bZ){var l=this.Ux(),x=l.Cs().slice(0),t=l.B[l.g[0]],h=new a8(0,0,l.a,l.n),V=fJ.DA()+"-d71c-11e5-b1ae-a548a96e5f9f",y=new e_(H.E.L,!0);
if(_.data.nZ==0){var r={name:l.name.split(".")[0],id:V,vA:[x,h]};y.data={d:H.t.Gf,E5:"add",nZ:gp.nL,a4:[r]};
this.$(y)}if(_.data.nZ==1){var E=Q.Q(h.O()*4);Q.qs(E,4294967295);Q.q.Zn("norm",x,h,E,h,h,1);var a=Q.Q(h.O());
Q.mx(E,a);Q.sJ(a);var S=Q.pF(a,h);if(S.wk())S=h;var e=Q.Q(S.O());Q.pc(a,h,e,S);S.x=S.y=0;var P={Sm:S,id:V,vA:[e,S]},b=bL.kw(V),T=b.Brsh.v;
T.Dmtr.v.val=Math.max(S.a,S.n);T.Spcn.v.val=10;y.data={d:H.t.Gf,E5:"add",nZ:gp.fQ,a4:{list:[{t:"Objc",v:b}],y7:[P],gg:[]}};
this.$(y);y.data={d:H.t.Gf,nZ:gp.D7,Ov:b};this.$(y)}if(_.data.nZ==2){var C=l.cx(),Z=C[0][C[1][0]],s={oS:t.getName(),jQ:V,i:Z.add.vmsk.clone().i},f=Q.M.OY(s.i),q=new aY(f.a,0,0,f.n,f.x,f.y);
q.sJ();Q.M.qp(s.i,q);f.x=f.y=0;s.hT=f.clone();y.data={d:H.t.Gf,E5:"add",nZ:gp.$h,a4:[s]};this.$(y)}}if(n==H.t.wE)this.MH.Y6(_.data.nZ);
if(n==H.t.YI){var g=_.data.a8u,i=_.data.dB;if(g!=!0&&i!=!0&&this.yV("open"))return;var u=this.iE.I_();
if(i)u=-1-u;this.MH.atX(g||i?u:null,_.data.ad6)}if(n==H.t.mB){var I=_.data.asT,Y=_.data.ye,U=this.oU(I);
if(Y){var F=I==gp.fQ,N=[];for(var m=0;m<Y.length;m++)N.push((F?U.list:U)[Y[m]]);U=F?{gg:U.gg,y7:U.y7,list:N}:N}if(I==gp.co){var h=new fJ;
for(var m=0;m<U.length;m++){var o=U[m].Zg.Lefx;if(o)fW.a0_(o,h,this.PD.LK)}U={vV:h.add.Patt?h.add.Patt:[],ie:U}}if(I==gp.oy){var X=this.PD.V5;
U={y7:[],gg:[],list:U};console.log(U)}if(I==gp.s)U=U[_.data.Ky];var J=gp.qZ[I],x=J[2].QR(U);iR.save(x,J[1]+"."+J[0])}if(n==H.t.M9){var c=this.PD.mM,p=_.data.afl;
if(c.CR&&!c.au1&&!p){c.axq=window.confirm("Load \""+_.data.zK+"\" also next time you use the editor?\nManage it in Edit - Local Storage.");
c.au1=!0}if((c.axq||p)&&c.CR){c.Au[_.data.zK]=_.data.Vd;var y=new e_(H.E.L);y.data={d:H.t.Gf,nZ:gp.vU};
this.$(y)}}if(n==H.t.aqP){var l=this.Ux(),A="<!DOCTYPE HTML>";if(l==null)return;var d=dx.Qt(l.Cs().buffer,l.a,l.n),k=window.open();
A+="<head><script>setTimeout(function() {window.print();}, 10);</script></head>";A+="<body><img src=\""+d+"\" /></body>";
A+="</html>";k.document.write(A)}if(n==H.t.lH){if(this.yV("publishOnline"))return;var $=_.data.Ol!="psd",l=this.Ux();
if(l==null)return;if(!$&&l.Xs)return;var K="Your picture will be published at "+($?"Imgur":"Photopea")+".com under a public URL (known only to you). Proceed?";
if(!$)K+=" We guarantee 6 months of storage (or more, if your file is opened often).";var G=_.data.dD?!0:confirm(K);
if(G){if(!$){var y=new e_(H.E.s,!0);y.G=D.Ko;y.data={d:v.v7};this.$(y);var z=new a8(0,0,l.a,l.n);for(var m=0;
m<l.B.length;m++){var t=l.B[m];if(t.rect.wk()||t.kx()||t.Ek()||t.yG()||t.uq()||t.add.TySh||t.add.vmsk||t.add.SoLd)continue;
var M=z.v6(t.rect);if(!M.yO(t.rect)&&!M.wk()){var hl=Q.Q(M.O()*4);Q.zw(t.buffer,t.rect,hl,M);t.buffer=hl;
t.rect=M}if(!Q.aL(t.buffer,t.rect.a,t.rect.n))continue;var j=t.Pn(),w=t.opacity,B=t.to,bB=t._t;t.ND(!0);
t.opacity=255;t.to="norm";l.g=[m];y.data={d:v.HN,Ol:"jpg"};this.$(y);var bG=l.B[m];t.ND(j);bG.ND(j);
t.opacity=bG.opacity=w;t.to=bG.to=B,t._t=bG._t=bB}}if(l.Ie){l.jN()}var eb=l.a,fe=l.n,gB=_.data.ak8,hp;
if(gB)while(Math.max(eb,fe)>gB){eb=eb>>>1;fe=fe>>>1}console.log(eb,fe);if(_.data.Ol=="psd")hp=dx.bt(l,"psd",0,0,[!0,!0,!0]);
else if(_.data.Ol=="png")hp=dx.bt(l,"png",eb,fe);else{var g6=dx.bt(l,"png",eb,fe),by=dx.bt(l,"jpg",eb,fe);
hp=g6.byteLength<by.byteLength?g6:by}if($)iR.a1k(hp,_.data.dD);else this.MH.aiE(hp,l.name,_.data.dD,"psdshared")}}if(n==H.t.dE){var l=this.Ux(),e7=!1;
if(l==null)return;if(l.Ie){l.jN()}if(_.data.aG){if(!this.FZ(l,_.data.aG))return;var x=cx.ayI(l,_.data.aG,this.PD);
this.wD(x);e7=!0}else if(l.dG){if(this.A0.indexOf(l.dG.Hk)!=-1){var x=new Uint8Array(dx.Jv("PSD").QI(l,null,null,[!0,!1])),y=new e_(H.E.s,!0);
y.data={d:v.p$,cn:l.dG.Hk,data:x,id:l.dG.aqv,L5:l.name};y.G=D.Ko;this.$(y);alert("Smart Object updated")}e7=!0}else if(this.yV("save")){e7=!0}else if(l.bm){cx.aiX(l);
e7=!0}else if(l.Qr){cx.a8V(l);e7=!0}else if(l.E5&&l.E5.if){if(!this.FZ(l,l.E5.if.formats))return;this.MH.adv(l,this.PD,cx.akf);
e7=!0}else if(l.RF&&"psd jpg png gif webp svg bmp".split(" ").indexOf(l.fA)!=-1){this.avu();return}if(e7){l.Yo=l.Uh;
l.Ef=Date.now();l.Hc=!0}else{var y=new e_(H.E.L,!0);y.data={d:H.t.w4};this.$(y)}}if(n==H.t.w4){if(!this.PD.cV){alert("function is disabled");
return}if(this.yV("saveAsPSD"))return;var l=this.Ux();if(l==null)return;if(!this.FZ(l))return;var y=new e_(H.E.s,!0);
y.data={d:v.v7};y.G=D.Ko;this.$(y);if(l.B.length>8e3&&!confirm("Your document has "+l.B.length+" layers."+" Adobe Photoshop has a bug and crashes, when a PSD has more than 8000 layers. Do you want to proceed?"))return;
var aN={As:[]};l.root.ac9([],aN);var jK=aN.As;if(jK.length>11&&!confirm("One layer is nested "+(jK.length-1)+" times."+" Adobe Photoshop crashes, when a layer in a PSD is nested more than 10 times. Do you want to proceed?\n\nLongest nesting: "+jK.join(" \uD83E\uDC1A ")+"."))return;
var f7=window.showSaveFilePicker;if(window.parent!=window)f7=null;if(f7&&!_.data.apb){var hW={suggestedName:l.name,types:[{description:"PSD Files",accept:{"image/psd":[".psd"]}}]};
f7(hW).then(function(_){l.RF=_;l.name=_.name;l.i1=!0;l.fA="psd";this.avu()}.bind(this));return}var km=window.gtag;
if(l.wH()&&km)km("event",l.fA+":"+L.gX(iM.Sg()?"\"'|('61":"w'| "),{event_category:"Formats"});if(l.Ie){l.jN()}if(_.data.apb){var x=l.fA=="psd"?dx.Jv("PSD").QI(l):cx.K$(l,l.fA,this.PD);
this.a8R(x,l,this)}else{var x=dx.Jv("PSD").QI(l);iR.save(x,l.name);l.Yo=l.Uh;l.Ef=Date.now();l.Hc=!0}}if(n==H.t.Fn)window.open(_.data.link,"_blank");
if(n==H.t.a89){if(this.Kl.HE()){this.axj();return}var l=this.Ux(),t=l.B[l.g[0]],O=l.EL(t.add.SoLd.Idnt.v);
for(var m=0;m<this.A0.length;m++){var ca=this.A0[m].dG;if(ca!=null&&ca.aqv==O.Et&&ca.Hk==l){this.iE.ea(m);
return}}iR.Lc({name:O.L5,dG:{aqv:t.add.SoLd.Idnt.v,Hk:l}},O.raw.buffer,this)}if(n==H.t.apd){var l=this.Ux(),t=l.B[l.g[0]],O=l.EL(t.add.SoLd.Idnt.v);
iR.save(O.raw.buffer,O.L5)}if(n==H.t.a9U){console.log(_.data);iR.Lc({name:_.data.Qr[1].split("/").pop(),Qr:_.data.Qr},_.data.r0,this)}if(n==H.t.ap5){var l=this.Ux();
l.Qr=_.data.Qr;l.name=l.Qr[1].split("/").pop();var y=new e_(H.E.L);y.data={d:H.t.dE};this.$(y)}if(n==H.t.ux){this.a9B()}if(n==H.t.cF){this.ar4(_.data.IS,_.data.GL,_.data.fP)}if(n==H.t.d_){this.a7H(_.data.a6j,_.data.YR,_.data.fP)}if(n==H.t.a2A){var aU=_.data.h;
if(this.PD.kp==D.K9&&this.WK().HE()){var y=new e_(H.E.s,!0);y.G=D.K9;y.data={d:"insertText",h:aU};this.$(y);
return}if(aU.startsWith("vcb;")){var eJ=JSON.parse(aU.slice(4));eJ[0]=fu.XF(eJ[0]);var y=new e_(H.E.s,!0);
y.G=D.i$;y.data={d:"append",hM:"Paste Paths",ai5:eJ};this.$(y)}else if(aU.startsWith("lrs;")){var am=aU.split(";"),eA=this.A0[parseInt(am[1])];
if(eA==null)return;var dj=this.Ux(),cM=eA.g;eA.g=JSON.parse(am[2]);var b2=eA.NS(null,eA!=dj),y=new e_(H.E.s,!0);
y.data={d:v.L3,B:b2,Hk:eA,Zr:dj};y.G=D.Ko;this.$(y);eA.g=cM}else if(aU.startsWith("<!--")||aU.startsWith("<svg")){var cm=R.WZ(aU),az=dx.Jv("svg"),h=new fJ("image.psd");
az.Xd(cm.buffer,h);if(this.A0.length!=0){var j_=h.B;if(j_.length==3&&j_[0].getName()=="</Layer group>"&&j_[2].kx())j_=[j_[1]];
var y=new e_(H.E.s,!0);y.G=D.Ko;y.data={d:v.L3,B:j_,Hk:h,Zr:this.Ux()};this.$(y)}else this.abJ(h)}}if(n==H.t.n$){ak.gq(_.data.TF,this)}if(n==H.t.LD){if(window.parent!=window)window.parent.postMessage(_.data.nZ,"*");
this.Vg.m3(_.data.nZ)}if(n==H.t.$p){var hh=parseFloat(_.data.EW);if(this.PD.uE.indexOf(hh)==-1){var y=new e_(H.E.L,!0);
y.data={d:H.t.Gf,nZ:gp.fZ,h:hh,E5:"add"};this.$(y)}this.Vg.ajr(_.data.EW)}if(n==H.t.Wt){this.Xf.alV(this.Ux(),this.PD)}if(n==H.t.Rq){var gs="open_from_url openFromURL camera takePic templates showTemplates newproject new eassets exportLayers".split(" ");
for(var m=0;m<gs.length;m+=2)if(_.data.EW==gs[m]&&this.yV(gs[m+1]))return;if(!this.PD.cV&&_.data.window=="saveforweb"){alert("function is disabled");
return}this.Kl.aeA(_.data.EW,this.Ux(),_.data,this.A0,this.RO)}if(n==H.t.Jg)iR.save(_.data.data,_.data.name);
if(n==H.t.iQ){if(!this.Kl.HE()||_.$o)this.abJ(_.data.cn)}if(n==H.t.Yx){this.iE.ea(_.data.target);var y=new e_(H.E.s,!0);
y.data={d:v.amq,cn:_.data.cn,sp:_.data.sp,GP:_.data.GP};y.G=D.Ko;this.$(y);this.Rm(D.rd)}if(n==H.t.aeE){ex.kj=!ex.kj;
if(this.A0.length>0)this.Ux().U()}if(n==H.t.avK){var fI=iM.gM();if(fI!=null&&fI.globals!=null)this.Mm(fI.globals);
this.uO()}if(n==H.t.eC){this.MH._N(_.data.data,null,_.data.Ki,_.data.vq,_.data.atj)}if(n==H.t.dw){var c0=this.WK();
if(!this.Kl.Ja()!=null)this.Rm(_.data.G,_.data.l5);var ay=this.WK();if(ay!=c0&&_.data.a9l)ay.Ta(this.Ux(),this,this.PD,this.RO,this.fh)}if(n==H.t.I0){if(this.e.Gi)this.Rm(this.e.Gi)}if(n==H.t.XH){var fC=this.e.map[_.data.G].G,l=this.Ux();
fC.OZ(_.data,this,l,this.RO,this.PD);if(l)l.XS=!0;this.a8M()}if(n==H.t.F0){var jQ=this.e.map[_.data.G];
this.axl(jQ);jQ.IN.MM(_.data)}if(n==H.t.Gf){var l=this.Ux(),fw=_.data.nZ,aG=_.data.a4,a_=this.PD;if(_.data.E5=="set"){var ay=D.akN(aG);
if(a_.kp!=ay)this.Rm(ay);this.e.map[ay].IN.amK(aG,a_)}if(_.data.E5=="add"){var J=gp.qZ[fw];if(fw==gp.fZ){a_.uE.push(_.data.h);
a_.uE.sort(function(bt,jL){return bt-jL})}else if(J==null){if(aG)a_.y8.aaH(aG,_.data.apR);if(l)l.Hc=!0}else{var el=this.oU(fw);
if(fw==gp.fQ){el.y7=el.y7.concat(aG.y7);el.gg=el.gg.concat(aG.gg);el=el.list;aG=aG.list}if(fw==gp.co&&l){for(var m=0;
m<aG.length;m++){var o=aG[m].Zg.Lefx;if(o)fW.a1u(o,l,a_.LK)}}if(fw==gp.oy&&aG==null){var h=this.e.map[a_.kp].IN.apw();
if(h==null)return;aG=[h]}for(var m=0;m<aG.length;m++)el.push(aG[m]);if(fw==gp.$h){var dD={};for(var m=0;
m<el.length;m++){var jn=el[m].oS;while(dD[jn]!=null)jn=el[m].oS=jn+"X";dD[jn]=!0}}if(_.data.apR!=!0)if(el.length!=aG.length||fw==gp.BB||fw==gp.co||fw==gp.VD||fw==gp.s)alert(hU.get(J[3])+" "+hU.get([23,1])+".")}}if(_.data.E5=="del"){if(fw==gp.fZ){a_.uE.splice(a_.uE.indexOf(_.data.h),1)}else{var J=gp.qZ[fw],Y=_.data.ye,el=this.oU(fw);
if(fw==gp.fQ)el=el.list;for(var m=0;m<Y.length;m++)el[Y[m]]=null;for(var m=0;m<el.length;m++)if(el[m]==null){el.splice(m,1);
m--}alert(hU.get(J[3])+" deleted.")}}if(_.data.E5=="rnm"){var J=gp.qZ[fw],el=this.oU(fw);if(fw==gp.fQ)el=el.list;
if(el[_.data.ye[0]]==null)return;J[2].T7(el[_.data.ye[0]],_.data.h)}if(fw==gp.qP){var af=_.data.h;a_.k$=af;
a_.adP[af.xP]=af.cK}if(fw==gp.gf){var af=_.data.h;a_.P3=JSON.parse(JSON.stringify(af));var iU=af.strokeEnabled.v,hV=af.strokeStyleContent.v,gn=iU?{xP:1+aF.eo.yz.indexOf(hV.classID),cK:hV}:{xP:0};
a_.auH[gn.xP]=gn.cK}if(fw==gp.UX){a_.Lr=_.data.h}if(fw==gp.j$){a_.Kw=_.data.Kw}if(fw==gp.D7){var hl=JSON.parse(JSON.stringify(_.data.Ov)),fY=hl.useBrushSize;
if(fY&&fY.v){hl.Brsh.v.Dmtr.v.val=a_.V5.W5.Brsh.v.Dmtr.v.val;fY.v=!1}a_.V5.W5=hl}if(fw==gp.cO){a_.eZ=_.data.t2}if(fw==gp.EP){a_.a4=_.data.t2}if(fw==gp.La){var e1,d6="Clrs";
if(_.data.nz<2){var fO=_.data.h,i$=_.data.nz==0,gy=Q.N.YS({o:fO>>>16,J:fO>>>8&255,k:fO&255});if(i$)a_.KU=fO;
else a_.lV=fO;d6=i$?"FrgC":"BckC";e1={et:"set",ot:{__name:"Set",classID:"setd",T:{t:"Objc",v:gy}}}}if(_.data.nz==2){var fT=a_.KU;
a_.KU=a_.lV;a_.lV=fT;e1={et:"exchange",ot:{__name:"Exchange",classID:"Exch"}}}if(_.data.nz==3){a_.KU=0;
a_.lV=16777215;if(l!=null&&l.g.length!=0&&l.B[l.g[0]].LN==1){var fT=a_.KU;a_.KU=a_.lV;a_.lV=fT}e1={et:"reset",ot:{__name:"Reset",classID:"Rset"}}}if(e1){e1.ot.null={t:"obj ",v:[{t:"prop",v:{classID:"Clr",keyID:d6}}]};
var jQ=this.WK();jQ.Ve=this;jQ.track(e1)}}if(fw==gp.rQ){a_.PS=!a_.PS;this.zc()}if(fw==gp.Hl){a_.qq=!a_.qq;
this.zc()}var kl=a_.lW;if(fw==gp.Bx){kl.M0=!kl.M0;this.zc()}if(fw==gp.mr){kl.VE=!kl.VE;this.zc()}if(fw==gp.En){kl.P9=!kl.P9;
this.zc()}if(fw==gp.oq){kl.TP=!kl.TP;this.zc()}if(fw==gp.uI){kl.f2=!kl.f2;this.zc()}if(fw==gp.bR){kl.Ks=!kl.Ks;
this.zc()}if(fw==gp.vE){a_.lW=_.data.t2;this.zc()}if(fw==gp.ayj){a_.Ay=!a_.Ay;this.zc()}if(fw==gp.lX){a_.hK[_.data.Gs]=!a_.hK[_.data.Gs];
this.zc()}if(fw==gp.Zy){hU.fT(_.data.lang,this.jq)}if(fw==gp.k_){a_.dn=_.data.dn;this.f()}if(fw==gp.vU&&a_.mM.CR){var fy=a_.mM.CR.transaction(["rsrc"],"readwrite").objectStore("rsrc"),g$=fy.put({k:"fs0",fset:a_.mM.Au});
g$.onerror=function(_){console.log(_);alert("Storing failed. Browser says: "+_.target.error.message,7e3)}}this.V7(fw)}};
fd.prototype.avu=function(){var _=new e_(H.E.L,!0);_.data={d:H.t.Oc,kY:"Saving ..."};this.$(_);setTimeout(function(){var _=new e_(H.E.L,!0);
_.data={d:H.t.w4,apb:!0};this.$(_)}.bind(this),20)};fd.prototype.a8R=function(_,n){n.RF.createWritable().then(function(O){O.write(_);
return O}).then(function(O){return O.close()}).then(function(O){n.Yo=n.Uh;n.Ef=Date.now();n.Hc=!0;var l=new e_(H.E.L,!0);
l.data={d:H.t.T3,kY:"Saving ..."};this.$(l)}.bind(this)).catch(function(O){var l=new e_(H.E.L,!0);l.data={d:H.t.T3,kY:"Saving ..."};
this.$(l)}.bind(this))};fd.prototype.ad9=function(){var _=this.PD,n=_.a4,O=_.anD;for(var m=0;m<n.length;
m++){var l=n[m];if(O[l])continue;O[l]=!0;this.MH.Q1(l,!1,!0)}};fd.prototype.ax2=function(){this.f();
this.zc()};fd.prototype.yV=function(_){var n=this.PD.wz[_];if(n){var O=new e_(H.E.L,!0);O.data={d:H.t.n$,TF:n};
this.$(O)}return n!=null};fd.prototype.FZ=function(_,n){var O=!0,h=15;if(n){O=!1;for(var m=0;m<n.length;
m++)if(n[m].startsWith(L.Jm("__M")))O=!0}var l=_.wH()||_.dG&&_.dG.Hk.wH();if(this.f7())l=!1;var x=new L.k0[aJ.mW],t=(x[L.gX("xy,b-66:")]()&1)*60+x[L.Jm("VQ]3LNRN<G")]();
if(l&&!iM.Sg()&&t>h&&O){var V=L.k0[L.gX("}$z{2*35")][L.gX("y'|!")],y=L.Jm("C[hMHT\\GFB6GJ.44>+.(2sq koomg\\beyj;PGS?Ad+sL>6Cpp^7w!|\"mwuhkguVQ[iII`SN=9Q>:5?B$2, \"w-~oi!ddjhfn|}ePIKOK9DM0>*48;--\"/tx{us+");
y+="\n\n"+L.Jm("6Q]eD_-L<A:C8G&%\"+.$'/4ouu qb\\sf\\WQRKSA=U430/:7II:''1&lqy\"")+(-t+120)+L.Jm("nYRTXTBMd");
if(V.indexOf(L.gX("\"|'/-1)(W0?@"))==-1)y=hU.get([0,11+6,3+2]);L.k0._cwY(y);return!1}return!0};fd.prototype.oU=function(_){var n=this.PD,O=[gp.fQ,gp.Eq,gp.Ij,gp.VD,gp.nL,gp.$h,gp.co,gp.BB,gp.s,gp.oy,gp.D4],l=[n.V5,n.QL,n.ZR,n.ar,n.LK,n.zn,n.xB,n.apK,n.mN,n.ep,n.alm];
return l[O.indexOf(_)]};fd.prototype.a9B=function(){var _=this.ar4(),n=this.Ux();if(n==null||n.g.length==0)return;
var O=n.B[n.g[0]],l=new e_(H.E.s);if(_==1){l.G=D.i$;l.data={d:"remove",hM:"Cut Paths"}}else{l=new e_(H.E.yy);
l.data={et:"delete"}}this.$(l)};fd.prototype.ar4=function(_,n,O){if(_==null)_=!1;var l=this.PD;console.log("doCopy",_,n);
var x=this.Ux();if(l.kp==D.K9&&this.WK().HE()){var t=new e_(H.E.s,!0);t.G=D.K9;t.data={d:"copyText"};
this.$(t);return}if(x==null||x.g.length==0)return;var h=x.B[n==null?x.g[0]:n],V=x.cx(),y=V[0],r=V[1],E=y[r[0]];
if(!_&&E!=null&&E.add.vmsk.g.length!=0){var a=D.Jr.K4(E.add.vmsk,E.add.vogk);if(L.Hb()){a[0]=fu.acS(a[0]);
var S="vcb;"+JSON.stringify(a);iR.KR(new Blob([S],{type:"text/plain"}))}else l.sg=a;return 1}else if(x.P==null){if(L.Hb()){var S="lrs;"+this.A0.indexOf(x)+";"+JSON.stringify(x.g);
iR.KR(new Blob([S],{type:"text/plain"}))}}else{var e,P;if(_){var b=new a8(0,0,x.a,x.n);P=b.v6(x.P.rect);
e=Q.Q(P.O()*4);Q.zw(x.Cs(),b,e,P);Q.Eg(x.P.channel,x.P.rect,e,P)}else if(x.oO.length!=0){P=x.P.rect.clone();
e=Q.Q(P.O()*4);var T=x.U_[x.oO[0]],C=T.H9(P);Q.X$(C,e);Q.$c(x.P.channel,e,3)}else{var Z=h.cH(x,x.P);
if(Z==null){alert("Copied area is empty");return}e=Z.r0;P=Z.rect}var s=x.u.CN,f=s[0]+s[1]+s[2];if(f==1){var q=s.indexOf(1);
for(var m=0;m<e.length;m+=4)e[m]=e[m+1]=e[m+2]=e[m+q]}var g=new aW(x.a,x.n);if(L.Hb()&&O!=!0){var i=dx.Jv("PNG").awj(e.buffer,P.a,P.n);
iR.KR(new Blob([new Uint8Array(i)],{type:"image/png"}));this.a4I={Sm:P,zx:g}}else l.wL={buffer:e,rect:P,zx:g};
l.ad1=P.clone();l.sg=null}};fd.prototype.a7H=function(_,n,O){if(n)this.acJ=!0;console.log("doPaste");
var l=this.PD,x=l.wL,y;if(this.A0.length==0){if(!_&&L.Hb()){iR.tQ(this,null);return}if(x){var t=dx.Fv("image.psd",[{data:x.buffer.buffer,n5:x.rect}]),h=new e_(H.E.L);
h.data={d:H.t.iQ,cn:t};this.$(h)}return}var t=this.Ux();if(l.kp==D.K9&&this.WK().HE()){iR.tQ(this,null);
return}var V=t.B[t.g.length==0?t.B.length-1:t.g[0]];if(l.sg){var r=t.cx(!0),E=r[0],a=r[1];y=E[a[0]]}var h=new e_(H.E.s,!0);
if(l.sg!=null&&y!=null){h.G=D.i$;h.data={d:"append",hM:"Paste Paths",ai5:l.sg}}else if(!_&&L.Hb()&&O!=!0){iR.tQ(this,this.adI.bind(this));
return}else{if(x==null)return;if(t.eE(!1)&&(t.u.CN.join("")!="111"||t.oO.length!=0||V.LN>0||V.rect.wk())){h.G=D.fQ;
h.data={d:"draw",apJ:!0,hM:[5,2]}}else{h.G=D.Ko;h.data={d:v.P$,YR:this.acJ};this.acJ=!1}h.data.wL=x}this.$(h)};
fd.prototype.au5=function(){var _=this.PD.y8;if(_.atD())return;for(var m=0;m<this.A0.length;m++){var n=this.A0[m];
if(!a$.a5d(n,_,this))continue;if(n.Gl)a$.anb(n,_,this);var O=n.add.lnk2;if(O)for(var l=0;l<O.length;
l++){var x=O[l];if(x.Gl)D.Z0.OW(n,x.Et,x.lf[1],x.lf[1],_)}if(n.abP)continue;n.abP=!0;if(n.E5&&n.E5.atB)ak.gq(n.E5.atB,this);
this.wD();var t=new e_(H.E.s);t.G=D.Ko;t.data={d:v.kn};var h=new e_(H.E.L);h.data={d:H.t.$p,EW:as.n0.fQ};
h.data={d:H.t.Rq,EW:"saveforweb",Ol:4};h.data={d:H.t.Rq,EW:"colorpicker",r1:6566431}}};fd.prototype.V7=function(_){this.ad9();
var n=this.PD,O=n.kp,h=!1;if(_==gp.D7){if(this.e.map[O].IN)this.e.map[O].IN.w1(n,_)}else for(var l in this.e.map)if(this.e.map[l].IN)this.e.map[l].IN.w1(n,_);
if(_==gp.V1){if(O!=D.K9)this.e.map[D.K9].G.w1(n,_);this.au5()}this.iE.w1(n,_);this.Lm.w1(n,_);this.Kl.w1(n,_);
this.WK().w1(n,_);this.Vg.w1(n,_);this._5.w1(n,_);if(_==gp.k_||_==gp.WB){js.adZ(n.dn);this.update(!0)}var x=n.Kw,t=x.oM.Font;
if(_==gp.j$&&t!=null&&x.ZP[t].Name!=n.font){n.font=x.ZP[t].Name;h=!0}if([gp.fZ,gp.cO,gp.EP,gp.La,gp.rQ,gp.Hl,gp.vE,gp.En,gp.oq,gp.Bx,gp.mr,gp.uI,gp.bR,gp.Zy,gp.k_].indexOf(_)!=-1||h)this.a8M()};
fd.prototype.a8M=function(){if(!this.Pq)return;var _={},n=this.e.map;for(var O in n){var l=n[O].G;if(l.MN&&l.MN()!=null)_["t"+O]=l.MN()}var x=this.PD,t=x.lW,h={fcolor:x.KU,bcolor:x.lV,rulers:x.PS,extras:x.qq,favFam:x.eZ,rsrc:x.a4,panels:x.uE,eparams:{guides:t.P9,grid:t.TP,sels:t.M0,paths:t.VE,pgrid:t.f2,slices:t.Ks,gsize:parseFloat(t.Y$.toFixed(2)),gunits:t.dt,gtype:t.EO,runits:t.Go},lang:hU.nP(),theme:x.dn,as:x.sW,topt:_};
if(x.font!=null)h.font=x.font;var V=iM.gM();if(V==null)V={};V.globals=h;iM.kJ(V)};fd.prototype.oY=function(_){var n=this.RO,O=this.fh,l=this.PD.kp,x=this.e.map[l].G,t=null,h=!1;
for(var m=0;m<this.e.a5r.length;m++){var V=this.e.a5r[m],y=!0;for(var r=0;r<V.mU.length;r++){var E=V.mU[r];
if(!n.l(E))y=!1}if(y&&(!V.Fm||!x.HE())&&(V.yu==null||V.yu.indexOf(l)!=-1)){t=V.G;h=V.Fm;break}}if((!O.Ju||l==D.Za||_)&&this.e.yE!=t&&(t!=l||!h)){var a=this.Ux();
if(this.e.yE!=null&&t==null)this.WK().disable(a,this,this.PD,n,!0);this.e.yE=t;this.WK().enable(a,this,this.PD,n,t!=null&&t!=l)}};
fd.prototype.iw=function(_){var n=this.PD.kp,O=this.Ux();if(n!=null){this.e.map[n].G.disable(O,this,this.PD,this.RO)}};
fd.prototype.axl=function(_){if(_.IN==null){_.IN=new _.aD;_.IN.a6H(_.G.id,_.G.fV);_.IN.w1(this.PD,gp.WB);
_.IN.f()}};fd.prototype.Rm=function(_,n){if(_==D.rd&&this.Kl.Ja())return;var O=this.Ux(),l=this.PD;if(this.e.map[_].G.XT(O,l)){this.iw();
if(_!=l.kp)this.e.Gi=l.kp?l.kp:D.cb;l.kp=_;this.Lm.Rm(l.kp);var x=this.e.map[_];this.e.H_[x.zC]=x.awT;
this.axl(x);this.s_.ajT(x.IN);var t=x.G;t.enable(O,this,this.PD,this.RO,!1,n);if(O)O.XS=!0;this.zc();
this.di.a4w()}};fd.prototype.WK=function(_){var n=this.e,O=n.Kc,l=n.yE,x=this.PD.kp;if(O)x=O;else if(l&&_==null)x=l;
return n.map[x].G};fd.prototype.abJ=function(_){var n=this.PD,O=this.A0.indexOf(_);if(O!=-1){this.iE.ea(O);
return}if(this.uh&&(_.E5==null||_.E5.if==null)){_.E5={if:this.uh}}if(_.dT==null){_.dT="local,"+this.arn+","+_.name;
this.arn++}_.Ef=Date.now();if(jm.k1()!=0&&!this.amD&&L.k0[L.gX("t$&!'31")].toString().indexOf(L.gX(" u,$4&"))==-1){alert(L.gX("j$--=#66A@5EU`KQaFVjSih\\hpirt2,x&5&+#++A4<8SFOO_FUMQ|"));
return}for(var m=0;m<_.B.length;m++){var l=_.B[m];if(l.add.SoLd!=null){var x=Date.now()}}var t=_.B.length,h=aJ.Ok(),V=Math.PI*(5465<<14)+(L.os(31)?20:10)*7e7;
if(h>V){var t=_.B.length;_.B=[];return t}if(ex.kj){ex.O8(Math.max(_.a,_.n));for(var m=0;m<_.B.length;
m++){var l=_.B[m];if(l.Jq())ex.O8(Math.max(l.rect.a,l.rect.n))}}_.dP();_.Mq();if(_.a7P)_.abO();else _.U();
_.a7P=!1;this.A0.push(_);this.iE.rR(new eP(_));_.XS=!0;_.Hc=!0;this.au5();var y=new e_(H.E.s);y.G=D.wR;
y.data={d:"auto",eM:2}};fd.prototype.Ux=function(){return this.A0[this.Sv]};fd.prototype.a7z=function(){return this.Kl.Ja()==null};
fd.prototype.qa=function(_,n){this.iw();var O=this.A0.length;if(n!=null)this.iE.ea((this.iE.I_()+n+O)%O);
this.Sv=this.iE.I_();var l=this.Ux();this._5.a0W(l,this.PD);this.Vg.dN(l,this.A0,this.PD);this.zc();
if(l)l.XS=!0};fd.prototype.ak2=function(_){this.iw();var n=this.A0[_.data.oN];this.A0.splice(_.data.oN,1);
if(this.A0.length==0){this.qa(_);var O=ex.jk(),l=eP.Ts.aP;if(O.parentNode)O.parentNode.removeChild(O);
if(l.parentNode)l.parentNode.removeChild(l)}};fd.prototype.arD=function(_){var n=[],O=_.data.a5F;for(var m=0;
m<O.length;m++)n[m]=this.A0[O[m]];this.A0=n;this.Sv=this.iE.I_()};fd.prototype.aeW=function(_){var n=this.iE,O=n.a2O(),l=this.WK(),x=this.Ux();
if(O==n.I_()||!l.anI())return;this.a6B(O,l)};fd.prototype.a6B=function(_,n){console.log("dup2doc");var O=this.PD,l=this.iE,x=this.Ux(),t=this.A0[_],h,V=new e_(H.E.s,!0);
V.G=D.Ko;if(x.P==null){V.data={d:v.L3,B:x.NS(null,!0),Hk:x,Zr:t};this.$(V)}else h=x.B[x.g[0]].cH(x,x.P);
var y=this.fh,r=O.PS;O.PS=!1;y=x.u.vk(y.x,y.y);if(n)n.Ib(x,this,O,this.RO);l.ea(_);if(x.P){V.data={d:v.P$,wL:{buffer:h.r0,rect:h.rect}};
this.$(V)}y=t.u.KS(y.x,y.y);y.x+=49;y.y+=112;if(n)n.Ta(t,this,O,this.RO,y);O.PS=r};fd.prototype.atZ=function(_){var n=this.Ux(),O=this.RO,l=this.PD,x=_.KT;
if(x)this.fh=x;if(this.a8==null)this.a8=0;if(_.action=="multidown"){this.DB=_.aQ.length;this.a8=Date.now()}if(_.action=="up"&&Date.now()-this.a8<100){var t=new e_(H.E.s);
t.G=D.kF;t.data={d:this.DB==2?"h_stepbck":"h_stepfwd"};this.$(t)}if(_.action.startsWith("multi")){var h=new e_(H.E.s,!0);
h.data={d:_.action,aQ:_.aQ};h.G=D.iz;this.$(h);return}var V=this.e.map[D.cb].G;if((_.action=="down"||_.action=="rdown")&&l.kp!=D.cb&&this.e.yE!=D.cb&&V.a62(n,this,l,O,x)){this.e.Kc=D.cb;
V.enable(n,this,l,O,!0)}if(_.action=="idown"){O.$u("Space");this.oY(!0);_.action="down"}var y=this.Kl.Ja(),r=y!=null&&y.GH()&&this.e.yE==null?y:this.WK();
if(_.action=="scroll"){var E=!O.l(bJ.mV)&&_.ZS,h=new e_(H.E.s,!0);h.data={d:"scroll",Su:_.Su.clone(),KT:x,a9c:E};
h.G=O.l(bJ.Yk)||E?D.iz:D.fY;this.$(h)}if(y!=null&&r!=y&&this.Kl.HE()&&r.id!=D.fY&&r.id!=D.iz)return;
if(_.action=="down")r.Ta(n,this,l,O,x);if(_.action=="rdown")r.x_(n,this,l,O,x);if(_.action=="move")r.Xg(n,this,l,O,x);
if(_.action=="up"||_.action=="iup"||_.action=="cancellast")r.PF(n,this,l,O,x,_.action=="cancellast");
if(_.action=="rup")r.nN(n,this,l,O,x);if(_.action=="iup"){O.El("Space");this.oY(!0)}if(_.action=="cancellast"){if(n&&n.history.length!=0&&Date.now()-n.history[n.history.length-1].a1I<200){var t=new e_(H.E.s);
t.G=D.kF;t.data={d:"h_stepbck"};this.$(t)}}var a=this.Vg;if(_.action=="down")a.Ta(n,this,l,O,x);if(_.action=="move")a.Xg(n,this,l,O,x);
if(_.action=="up")a.PF(n,this,l,O,x);if(_.action=="down"||_.action=="up"){this.oY()}if(_.action=="down"||_.action=="up"||_.action=="ctx"){n.XS=!0}if((_.action=="up"||_.action=="rup")&&this.e.Kc){this.e.Kc=null;
V.disable(n,this,l,O)}};fd.prototype.G_=function(_){var n=this.Ux(),O=this.fh;if(n&&this.WK().P0(O,this.RO)){var l=n.u,x=l.l_.a,t=l.l_.n,h=0,V=0,y=16;
if(O.x<y)h=y-O.x;if(O.x>x-y)h=O.x-(x-y);if(O.y<y)V=y-O.y;if(O.y>t-y)V=O.y-(t-y);var r=this.RO.l(bJ.fc)?8:1;
if((h!=0||V!=0)&&(n.a*l.K>x||n.n*l.K>t)){h=Math.min(5,h*.5)*r;V=Math.min(5,V*.5)*r;if(!(O.x<y||O.y<y)){h=-h;
V=-V}l.R.x+=h;l.R.y+=V;this.atZ({KT:this.fh,action:"move"});n.i1=!0}}this.update()};fd.prototype.update=function(_){var n=this.Ux();
if(n==null)return;if(n.XS){var O=this.e.map;for(var l in O){if(O[l].G.$s)O[l].G.$s(n,this,this.PD,this.RO)}}if(n.Ie)if(ex.kj)ex.O8(Math.max(n.a,n.n));
if(n.Ie){n.jN()}var x=n.u,t=this.jF,h=this.jF=Date.now();if(n.Ie||n.bo||n.Hc||n.i1||_||x.XC!=x.K||!x.iF.yO(x.R)){var V=x.XC;
if(x.XC!=x.K){var y=D.tM.abb(x.K,x.XC>x.K),r=.12;if(x.XC<x.K&&x.XC<y)x.XC=y;if(x.XC>x.K&&x.XC>y)x.XC=y;
var E=Math.abs(x.K-y)*(h-t)*.001/r;if(x.XC<x.K)x.XC=Math.min(x.K,x.XC+E);else x.XC=Math.max(x.K,x.XC-E)}var a=V==x.K?0:(x.XC-x.K)/(V-x.K);
x.iF.x=x.R.x+a*(x.iF.x-x.R.x);x.iF.y=x.R.y+a*(x.iF.y-x.R.y);this.iE.w1(this.PD,null);this.iE.dN(n,this.A0)}if((n.Ie||n.i1||n.XS)&&(!this.fh.Ju||n.TU)){if(n.XS)n.Mq();
this.Vg.dN(n,this.A0,this.PD);this.Lm.a9a(n,this.RO);n.HT=!1}n.TU=!1;n.XS=!1;n.Ie=null;n.bo=n.Hc=n.i1=!1};
fd.prototype.IO=function(_){var n=_.target.tagName.toLowerCase(),O=_.target.getAttribute("type"),l=bJ,x=l.ZZ(_.code,l.Vn);
if(!((n=="input"||n=="select"||n=="button")&&l.ZZ(_.code,l.Dc))){if(l.$x(_)){_.preventDefault()}this.RO.$u(l.uB(_));
this.op("down")}};fd.prototype.sh=function(_){if(_.key==" ")this.RO.bg();if(bJ.ZZ(_.code,bJ.S5))this.RO.reset();
this.RO.El(bJ.uB(_));var n=_.target.tagName.toLowerCase();if(bJ.$x(_)){_.preventDefault()}this.op("up")};
fd.prototype.op=function(_){var n=this.RO,O=this.Ux(),l=O!=null&&O.g.length!=0;if(this.Xf.Ja()!=null){if(n.l(bJ.rF)){this.Xf.ayF()}return}this.oY();
var x=this.pW(bJ.mV),t=n.l(bJ.Yk),h=n.l(bJ.fc);if(x&&n.l(bJ.oo)&&_=="down"){var V=new e_(H.E.s),y=new e_(H.E.L);
V.G=D.kF;if(h){V.data={d:"h_stepfwd"}}else{V.data={d:"h_stepbck"}}if(this.Kl.Ja()!=null&&this.Kl.Ja().HE()){}else this.$(V)}if(x){var V=new e_(H.E.s),r=new e_(H.E.yy),y=new e_(H.E.L);
if(n.l(bJ.dq)&&n.l(bJ.D3)){y.data={d:H.t.Rq,EW:"storwindow"};this.$(y)}if(!t&&_=="down")for(var E in a3.keys){var a=a3.keys[E],S=!0;
for(var m=0;m<a.length;m++)if(!n.l(a[m]))S=!1;if(S){V.G=D.wR;if(E=="hue2"&&h&&O.B[O.g[0]].add.SoLd==null)V.data={d:"auto",eM:3};
else V.data={d:"start",v3:E}}}if(n.l(bJ.t)){r.data=D.iM.qv(!0)}if(n.l(bJ.bd)){if(t)y.data={d:H.t.Rq,EW:"csize"};
else if(O)y.data={d:H.t.cF,IS:h}}if(n.l(bJ.ap)){r.data=D.iM.qv()}if(n.l(bJ.E)&&_=="down"){if(h)r.data={et:"mergeVisible"};
else r.data={et:"mergeLayersNew",ot:{__name:"Merge Layers",classID:"Mrg2"}}}if(n.l(bJ.AR)){if(h&&this.PD.kp!=D.rd)y.data={d:H.t.Rq,EW:"afw_fade"};
else if(t){V.G=D.rq;V.data={d:"applylast"}}else y.data={d:H.t.Wt}}if(n.l(bJ.d0)){if(t&&O&&O.Uk(O.g[0])){V.G=D.Ko;
V.data={d:v.rL}}else{V.G=D.Ko;V.data={d:v._b,CB:h}}}if(n.l(bJ.yH)){y.data={d:H.t.Gf,nZ:gp.Hl}}if(n.l(bJ.dq)){if(h){V.data=null;
if(t)y.data={d:H.t.Rq,EW:"finfo"};else r.data={et:"inverse"}}else if(t)y.data={d:H.t.Rq,EW:"isize"}}if(n.l(bJ.Vk)){r.data={et:(h?"cut":"copy")+"ToLayer"}}if(n.l(bJ.Ai)){y.data={d:H.t.Rq,EW:"preferences"}}if(n.l(bJ.nq)){if(h){V.G=D.Ko;
V.data={d:v.eU}}else if(_=="down")y.data={d:H.t.Rq,EW:"newproject"}}if(n.l(bJ.ZM)){if(t)y.data={d:H.t.Rq,EW:"storwindow",or:0};
else{y.data={d:H.t.YI};n.reset()}}if(n.l(bJ.Ou)){y.data={d:H.t.aqP};n.reset()}if(n.l(bJ.n0)){y.data={d:H.t.Gf,nZ:gp.rQ}}if(n.l(bJ.Mh)&&_=="down"){if(h){if(t)y.data={d:H.t.Rq,EW:"saveforweb"};
else y.data={d:H.t.w4}}else y.data={d:H.t.dE}}if(n.l(bJ.Fy)){if(h){V.G=D.rd;V.data={d:"again"}}else y.data={d:H.t.dw,G:D.rd}}if(n.l(bJ.Z2)){y.data={d:H.t.d_}}if(n.l(bJ.b3)){this.iE.kZ()}if(n.l(bJ.gi)&&O&&O.pJ()){y.data={d:H.t.ux}}if(n.l(bJ.u6)||n.l(bJ.vW)){V.G=D.Ko;
V.data={d:v.aU,nz:0};if(n.l(bJ.u6))V.data.nz=h?3:2;else V.data.nz=h?0:1}if(n.l(bJ.Qv)&&O){V.G=D.Ko;V.data={d:v.VW}}if(n.l(bJ.Vn)&&O){var e=0;
if(h)e++;if(t)e+=2;V.G=D.vQ;V.data={d:"frompath",xV:[null,0,e]}}if(n.l(bJ.mE)){r.data=D.e_.Al(0)}if(n.l(bJ.Dc)){var P=this.A0.length,b=n.l(bJ.fc)?-1:1;
if(P>1)this.iE.ea((this.iE.I_()+P+b)%P)}if(n.l(bJ.AC)){y.data={d:H.t.Gf,nZ:gp.En}}if(n.l(bJ.oD)){y.data={d:H.t.Gf,nZ:gp.oq}}D.tM.au0(n,V);
if(this.Kl.Ja()!=null&&this.Kl.Ja().HE()){}else{if(V.data)this.$(V);if(r.data)this.$(r);if(y.data)this.$(y)}}if(!x&&t){var T;
if(n.l(bJ.u6))T="Bckw";if(n.l(bJ.vW))T="Frwr";if(n.l(bJ.Qv))T="Back";if(n.l(bJ.mE))T="Frnt";if(T){var r=new e_(H.E.yy);
r.data={et:"select",ot:{__name:"Select",classID:"slct",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:T}}]},MkVs:{t:"bool",v:!1}}};
this.$(r)}}if(O&&O.g.length!=0){var C=O.B[O.g[0]],Z=C.LN;if(Z==1||Z==3||x){var V=new e_(H.E.s),W=Z==3?C.vO(O).z:C.Ek();
if(W){var s=W.K_?O.u.CN.join("")=="111"?1:2:0;V.G=D.iz;if(W&&n.l(bJ.rF)&&s!=0){V.data={d:"mskView",h:0}}if(W&&n.l(bJ.asR)){V.data={d:"mskView",h:s==1?0:1}}if(W&&n.l(bJ.akx)){V.data={d:"mskView",h:s==2?0:2}}if(V.data)this.$(V)}}}var f=n.ig();
if(O&&x&&2<=f&&f<=5){var q=[1,1,1];if(f>2){q=[0,0,0];q[f-3]=1}var g=new e_(H.E.s,!0);g.G=D.fY;g.data={d:"setcls",CN:q};
this.$(g)}if(!n.l(bJ.mV)&&!t&&_=="down"){var V=new e_(H.E.s),y=new e_(H.E.L),i=this.e.map[this.PD.kp],u=-1;
for(var m=0;m<this.e.keys.length;m++)if(this.e.keys[m]&&this.pW(this.e.keys[m]))u=m;if(u!=-1){var I=null;
if(i.zC!=u)I=this.e.H_[u];if(i.zC==u&&h)I=(i.awT+1)%this.e.sV[u].length;if(I!=null){var Y=this.e.sV[u][I].G.id,U=this.PD.Yv;
if((U==null||U.indexOf(parseInt(Y))!=-1)&&!this.fh.Ju)y.data={d:H.t.dw,G:Y}}}if(n.l(bJ.yH))y.data={d:H.t.dw,G:D.fY};
if(n.l(bJ.n0))y.data={d:H.t.dw,G:D.fB};if(n.l(bJ.gi))y.data={d:H.t.Gf,nZ:gp.La,nz:2};if(n.l(bJ.ap))y.data={d:H.t.Gf,nZ:gp.La,nz:3};
if(y.data)this.$(y);if(n.l(bJ.arC)&&O&&O.g.length==1){var C=O.B[O.g[0]];V.G=D.Ko;var F=C.bj(0)||C.bj(1)||C.bj(2)||C.bj(31);
V.data={d:v.zX,t2:F?[[!1,!1,!1,!1],[0,1,2,31]]:[[!0],[31]]};this.$(V)}var f=n.ig();if(l&&f!=-1&&this.pW(bJ.uZ[f])){var N=O.g[0],C=O.B[N],o=bJ.TT(Math.round(100*C.opacity/255),f);
V.G=D.Ko;V.data={d:v.jU,t2:Math.round(255*o/100)};this.$(V)}var X=this.PD.HX;if(n.l(bJ.Dc)){y.data={d:H.t.r4,h:X==0?1:0};
this.$(y)}if(n.l(bJ.AR)||n.l(bJ.rF)&&X==2){var J=document.fullscreenElement!=null==(X==2);y.data={d:H.t.r4,h:X==0?2:0,S0:J};
this.$(y)}if(n.l(bJ.FC)&&!this.fh.Ju){V.G=D.vQ;V.data={d:"qmask"};this.$(V)}}if(!n.l(bJ.mV)&&!t&&h){var V=new e_(H.E.s),y=new e_(H.E.L);
if(n.l(bJ.Qv))y.data={d:H.t.Rq,EW:"shortcuts"};if(n.l(bJ.MA))y.data={d:H.t.Rq,EW:"fill"};if(n.l(bJ.a8k))y.data={d:H.t.Rq,EW:"sel_feather"};
if(l&&(n.l(bJ.qE)||n.l(bJ.PW))){var N=O.g[0],C=O.B[N],c=b3.qX,p=c.length,d=c.indexOf(C.to);V.G=D.Ko;
V.data={d:v.N$,t2:(d+p+(n.l(bJ.qE)?1:-1))%p};this.$(V)}if(y.data)this.$(y)}var V=new e_(H.E.s),k=_=="down"&&(this.pW(bJ.ul)||this.pW(bJ.Mx));
if((x||t)&&k){V=new e_(H.E.yy);V.data=D.Os.qY(x?"BckC":"FrgC");this.$(V)}else if(O&&k&&!this.fh.Ju){if(O.P!=null){V=new e_(H.E.yy);
V.data={et:"delete"}}else if(O.g.length!=0){var C=O.B[O.g[0]];if(C.LN==1)V.data={d:v.H6};else if(C.LN==3)V.data={d:v.vv};
else V.data={d:v.nB};V.G=D.Ko}this.$(V)}if(this.Kl.Ja()!=null){if(n.l(bJ.rF)){this.Kl.Ja().afX()}else{this.Kl.Ja().op(O,this,this.PD,n)}}if(this.PD.kp==null)return;
var i=this.WK();if(this.Kl.Ja()==null||this.e.yE)i.op(O,this,this.PD,n)};fd.prototype.pW=function(_){var n=this.RO,O=this.e.map[this.PD.kp].G,top=this.Kl.Ja(),l=this.Ux();
return n.l(_)&&!O.$Y(_,l)&&(top==null||!top.$Y(_,l))};fd.prototype.zB=function(_){var n=this.aaf,O=this.hF;
this.PD.HX=_;var l=L.PZ,x=this._5.m;if(l(x))this.by.removeChild(x);var t=this.s_.m;if(l(t))this.by.removeChild(t);
var h=this.Lm.m;if(l(h))n.removeChild(h);var V=this.iE.m;if(l(V))n.removeChild(V);var y=this.Vg.m;if(l(y))n.removeChild(y);
if(_==0){this.by.appendChild(x);this.by.appendChild(t);O.appendChild(n);n.appendChild(h);n.appendChild(V);
n.appendChild(y)}if(_==1){this.by.appendChild(x);n.appendChild(V)}if(_==2){n.appendChild(V)}this.iE.zB(_==2?1:0);
this.zc()};fd.prototype.a4t=function(_){if(this.f7())return 1;if(L.a33()==0){this.PD={};this.A$=function(n,O){return Math.sqrt(n*O)}}return-1};
function eL(_){b1.call(this);if(_==null)return;this.Qc=null;this.bE=null;this.m=L.S("div","sbar"+" "+_);
this.kM=new L.S("div","top");this.kM.innerHTML="> <";this.m.appendChild(this.kM);this.Bq=1;this.kM.addEventListener("click",this.azg.bind(this),!1)}eL.prototype=new b1;
eL.prototype.azg=function(_){if(this.Qc!=null&&this.Qc<500&&this.Bq==0)return;if(this.Bq==0)this.nx(!0);
else this.collapse(!0)};eL.prototype.auC=function(_){this.Bq=_;this.kM.innerHTML=this.Bq==0?"< >":"> <"};
eL.prototype.ayh=function(){var _=new e_(H.E.L,!0);_.data={d:H.t.$S};this.$(_)};eL.prototype.nx=function(_){this.auC(1);
if(_)this.ayh()};eL.prototype.collapse=function(_){this.auC(0);if(_)this.ayh()};eL.prototype.QE=function(){return this.Bq==1};
function hM(_,n){eL.call(this,"vcolumn");this.np=_;this.a5p=n;this.Ey();this.J8=L.S("div");this.J8.setAttribute("style","cursor:default;");
this.ard=this.afH.bind(this);this.a0z=this.aup.bind(this);this.anO=this.aiu.bind(this);L.a9(this.m,this.ard);
this.m.appendChild(this.J8);this.r_=L.S("div");this.J8.appendChild(this.r_);this.wO=-1;this.avO=L.S("div","float");
var O=this.Cj=L.S("canvas","gsicon"),l=Math.round(12*L.V());O.width=O.height=l;var x=O.getContext("2d");
x.moveTo(2,2);x.lineTo(l-2,l-2);x.moveTo(2,7);x.lineTo(l-7,l-2);x.stroke();this.Cj.setAttribute("style","position:absolute; bottom:0;  left:0;  cursor:nesw-resize;");
L.H7(this.Cj);L.a9(this.Cj,this.ard);L.Oe(O);this.pX=[];this.Z3=[];this.a4X=null;this.e$=null;this.aqm=0}hM.prototype=new eL;
hM.prototype.afH=function(_){var n=_.target==this.Cj;if(!n){if(_.target!=this.m)return;if(!this.QE())return}else{var O=this.pX[this.wO].t1;
O.style.pointerEvents="none";var l=O.getBoundingClientRect();this.a4X=[l.width,l.height];this.Z3[this.wO]=[l.width,l.height]}_.stopPropagation();
this.e$=L.q1(_,document.body);this.aqm=this.np;L.hw(document,this.a0z);L.LY(document,this.anO)};hM.prototype.aup=function(_){var n=L.q1(_,document.body);
if(this.QE()){this.np=this.aqm+this.e$.x-n.x;this.Ey()}else{var O=this.Z3[this.wO],l=this.a4X;O[0]=l[0]+this.e$.x-n.x;
O[1]=l[1]+n.y-this.e$.y}var x=new e_(H.E.L,!0);x.data={d:H.t.$S};this.$(x)};hM.prototype.aiu=function(_){if(!this.QE()){var n=this.pX[this.wO].t1;
n.style.pointerEvents="auto"}L.Xa(document,this.a0z);L.l4(document,this.anO)};hM.prototype.aly=function(_){_.Z("showFloat",this.axS,this);
_.Z("hideFloat",this.zm,this);this.pX.push(_);_.parent=this;this.J8.appendChild(_.m)};hM.prototype.a9A=function(m){var _=this.pX[m];
_.removeEventListener("showFloat",this.axS,this);_.removeEventListener("hideFloat",this.zm,this);this.pX.splice(m,1);
_.parent=null;this.J8.removeChild(_.m)};hM.prototype.a7e=function(){return this.pX.length};hM.prototype._G=function(){for(var m=0;
m<this.pX.length;m++)this.pX[m]._G()};hM.prototype.axS=function(_){this._G();var n=this.avO;this.r_.appendChild(n);
this.wO=this.pX.indexOf(_.currentTarget);var O=this.pX[this.wO].t1;L.I$(n);n.appendChild(O);n.appendChild(this.Cj);
this.A$(this.Qc,this.bE)};hM.prototype.zm=function(_){this._G();if(this.wO!=-1){this.r_.removeChild(this.avO);
this.wO=-1}};hM.prototype.Ey=function(){function _(n){return Math.round(n*L.V())/L.V()}this.m.setAttribute("style","width: "+this.np+"px; border-left-width:"+_(4)+"px; cursor:ew-resize;")};
hM.prototype.nx=function(_){this.Ey();this.zm();for(var m=0;m<this.pX.length;m++)this.pX[m].nx();eL.prototype.nx.call(this,_)};
hM.prototype.collapse=function(_){this.m.removeAttribute("style");for(var m=0;m<this.pX.length;m++)this.pX[m].collapse();
eL.prototype.collapse.call(this,_)};hM.ay7=11;hM.prototype.A$=function(_,n){this.Qc=_;this.bE=n;n-=hM.ay7;
var O=this.pX.length;if(O==0)return;if(!this.QE()){var l=n<400?n:400+(n-400)*.5;for(var m=0;m<O;m++){var x=this.pX[m],t=this.Z3[m];
x.A$(t?t[0]:this.np,t?t[1]:l)}}else{var h=n;for(var m=0;m<O;m++){var x=this.pX[m],V=x.a4y();if(m==O-1){V=h;
x.m.style.borderBottom="none"}x.A$(this.np,V);h-=V+4}}};function dQ(_){b1.call(this);this.m=L.S("div");
this.J8=null;this.aq=0;this.RU=0;this.a28=_;this.ahb=this.km.bind(this);this.aw9=this.w$.bind(this);
this.al4=this.sL.bind(this);this.wv=null;this.Q9=null;this.DU=null;L.a9(this.m,this.ahb);var n=this.m,l="<svg class=\"gsicon\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">";
n.addEventListener("touchmove",L.C9,!1);this.aow=!0;this.uY=[];var O=this.a7w=L.S("div");O.setAttribute("style","float:right; padding:4px;display:none; position:relative;z-index:1;");
this.m.appendChild(O);var x=[[0,13,3],[0,13,4],[0,13,5],"Blog","API",l+"<path d=\"m21.325 9.308c-.758 0-1.425.319-1.916.816-1.805-1.268-4.239-2.084-6.936-2.171l1.401-6.406 4.461 1.016c0 1.108.89 2.013 1.982 2.013 1.113 0 2.008-.929 2.008-2.038s-.889-2.038-2.007-2.038c-.779 0-1.451.477-1.786 1.129l-4.927-1.108c-.248-.067-.491.113-.557.365l-1.538 7.062c-2.676.113-5.084.928-6.895 2.197-.491-.518-1.184-.837-1.942-.837-2.812 0-3.733 3.829-1.158 5.138-.091.405-.132.837-.132 1.268 0 4.301 4.775 7.786 10.638 7.786 5.888 0 10.663-3.485 10.663-7.786 0-.431-.045-.883-.156-1.289 2.523-1.314 1.594-5.115-1.203-5.117zm-15.724 5.41c0-1.129.89-2.038 2.008-2.038 1.092 0 1.983.903 1.983 2.038 0 1.109-.89 2.013-1.983 2.013-1.113.005-2.008-.904-2.008-2.013zm10.839 4.798c-1.841 1.868-7.036 1.868-8.878 0-.203-.18-.203-.498 0-.703.177-.18.491-.18.668 0 1.406 1.463 6.07 1.488 7.537 0 .177-.18.491-.18.668 0 .207.206.207.524.005.703zm-.041-2.781c-1.092 0-1.982-.903-1.982-2.011 0-1.129.89-2.038 1.982-2.038 1.113 0 2.008.903 2.008 2.038-.005 1.103-.895 2.011-2.008 2.011z\"/>",l+"<path d=\"M23.954 4.569c-.885.389-1.83.654-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.951.555-2.005.959-3.127 1.184-.896-.959-2.173-1.559-3.591-1.559-2.717 0-4.92 2.203-4.92 4.917 0 .39.045.765.127 1.124C7.691 8.094 4.066 6.13 1.64 3.161c-.427.722-.666 1.561-.666 2.475 0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.228-.616v.061c0 2.385 1.693 4.374 3.946 4.827-.413.111-.849.171-1.296.171-.314 0-.615-.03-.916-.086.631 1.953 2.445 3.377 4.604 3.417-1.68 1.319-3.809 2.105-6.102 2.105-.39 0-.779-.023-1.17-.067 2.189 1.394 4.768 2.209 7.557 2.209 9.054 0 13.999-7.496 13.999-13.986 0-.209 0-.42-.015-.63.961-.689 1.8-1.56 2.46-2.548l-.047-.02z\"/></svg>",l+"<path d=\"M23.9981 11.9991C23.9981 5.37216 18.626 0 11.9991 0C5.37216 0 0 5.37216 0 11.9991C0 17.9882 4.38789 22.9522 10.1242 23.8524V15.4676H7.07758V11.9991H10.1242V9.35553C10.1242 6.34826 11.9156 4.68714 14.6564 4.68714C15.9692 4.68714 17.3424 4.92149 17.3424 4.92149V7.87439H15.8294C14.3388 7.87439 13.8739 8.79933 13.8739 9.74824V11.9991H17.2018L16.6698 15.4676H13.8739V23.8524C19.6103 22.9522 23.9981 17.9882 23.9981 11.9991Z\"/></svg>"];
for(var m=0;m<x.length;m++){var t=new cw(x[m]);this.uY.push(t);t.m.setAttribute("style","margin-left:"+(m<7?4:0)+"px;cursor:pointer;");
t.Z("click",this.qV,this)}}dQ.prototype=new b1;dQ.prototype.f=function(){var _=this.a7w;L.I$(_);for(var m=0;
m<this.uY.length;m++){var n=this.uY[m];if(m<5)n.f();_.appendChild(n.m)}};dQ.prototype.qV=function(_){var m=this.uY.indexOf(_.currentTarget);
if(m==0){if(window.showCap)window.showCap();return}var n=" issues learn blog api twitter facebook".split(" "),O=" //github.com/photopea/photopea/issues //www.photopea.com/learn //blog.photopea.com //www.photopea.com/api //www.reddit.com/r/photopea //www.twitter.com/photopeacom //www.facebook.com/photopea".split(" "),l=window.ga;
if(l)l("send","event","Links",n[m]);var x=new e_(H.E.L,!0);x.data={d:H.t.Fn,link:O[m]};this.$(x)};dQ.prototype.km=function(_){if(_.aix){_.preventDefault();
_.stopPropagation()}var n=window;L.hw(n,this.aw9);L.LY(n,this.al4);n=this.J8;this.wv=new aW(parseInt(n.style.left),parseInt(n.style.top));
this.Q9=L.q1(_,this.m);this.DU=n.getBoundingClientRect()};dQ.prototype.w$=function(_){var n=L.q1(_,this.m),O=this.wv.x+n.x-this.Q9.x,l=this.wv.y+n.y-this.Q9.y,x=this.aq-this.DU.width,t=this.RU-this.DU.height;
if(this.a28)this.J8.style.left=Math.min(0,Math.max(x,O))+"px";else this.J8.style.top=Math.min(0,Math.max(t,l))+"px";
if(O-10>0){this.Q9.x=n.x-10;this.wv.x=0}if(O+10<x){this.Q9.x=n.x+10;this.wv.x=x}};dQ.prototype.sL=function(_){var n=window;
L.Xa(n,this.aw9);L.l4(n,this.al4)};dQ.prototype.arR=function(_){if(this.J8){this.m.removeChild(this.J8)}this.J8=_;
this.m.appendChild(_);_.style.position="absolute";if(this.a28)_.style.left=0;else _.style.top=0};dQ.prototype.A$=function(_,n){this.aq=_;
this.RU=n;this.m.setAttribute("style","position:relative; width: "+_+"px; height: "+n+"px; overflow:hidden; white-space: nowrap; ");
var O=this.J8.firstChild,l=this.a7w,x=O?O.firstChild.getBoundingClientRect().width+80:1e9,t=170,h=this.aow&&_>x+t;
l[aJ.AM][aJ.avQ]=h?"":aJ.S1;var V=this.uY;for(var m=0;m<V.length;m++){var y=m>4||_-x>500?"":aJ.S1,r=V[m];
r.m.style.display=y}};dQ.prototype.a4w=function(){this.J8.style.left="0";this.J8.style.top="0"};function cb(){b1.call(this);
this.Yw=null;this.kv=cb.Ou;this.a1v="";this.m=L.S("div","rightbar");this.mZ=[new hM(300),new hM(268,!0)];
this.pX=[new eB,new eB,new eB,new eB,new eB,new eB,new eB];this.a1E=[]}cb.prototype=new b1;cb.prototype.f=function(){var _=this.kv;
for(var m=0;m<_.length;m++)_[m].B_.f()};cb.Ou=[{B_:new aT,OJ:3},{B_:new cg,OJ:1},{B_:new kp,OJ:4},{B_:new at,OJ:2},{B_:new bj(!0),OJ:5},{B_:new kg,OJ:0},{B_:new kf,OJ:5},{B_:new iE,OJ:3},{B_:new fc,OJ:0},{B_:new f4,OJ:3},{B_:new cp,OJ:2},{B_:new hK,OJ:4},{B_:new gG,OJ:3},{B_:new gv,OJ:5},{B_:new bj(!1),OJ:5},{B_:new gC,OJ:2},{B_:new bW,OJ:3},{B_:new g7,OJ:1},{B_:new dr,OJ:0},{B_:new i_,OJ:5},{B_:new hm,OJ:6,og:!0},{B_:new cy,OJ:6,og:!0},{B_:new jN,OJ:6,og:!0}];
(function(){var _=[{id:as.n0.a18,name:"Gallery",url:"plugins/gallery.html",icon:"===data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAACgBAMAAAB54XoeAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAB5QTFRFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAtyhvagAAAAp0Uk5TAP+mc4pfC+rILiKk3cQAAALjSURBVHic7dq/bxMxFAdwKy1HM16up4QtDCDYkv8gTIgtZWGNWMpIJKhgLAtriyrx71Lnh8/2e76c3/tOxW9olUb56Fvf3bPPOWNKlSpVqtSxPv6uIfXj1d77hOFs/bTeGc6r68UjuESCjTHPkF5dr801FrwxV1iwNS+x4MRs7a+3iNP5j5Vmxv5sEN7+fJnuwDkGHFlrB95hwLEDNxiwciDGM+Zpgw9v6vrXBxg4fr+/Lr6F54cYrNz1OtlAQK/Hf0eAI78bzPVgdRu0l40avAgblhdRCEYddKIFySS0VoJkErpRgmTO6P5nETiOPa+disBzCq5U4HMKflWB9xR8oQLfUfBSBTILA3eYReAtBWcqkHrd5ws4rOAHBX7aMCe2Ww2KwHsK6i49eHOAty94g4VPAfhJSjGNngUj7ko+0e/OYXoPMwrB+WDwcIIs4r9XQcSMxdJy/4kTEb2AJ0B3p08iChecy+NnLslboiWxtxWxIm9KFu1em6IRBbcVwcDTiHz1gUEfHXo/3QNGTYoe6FwwavQDI6bB6OryG4AMJD2v1YFMmx8UMQkyU+WgiCmQjGAU8Tx14FMgu9nkRUz0ySTIBvQipvpkEkzshrmIhxFmIvJgIqCL2NMneTC5XXeItIxenwKTAQ8RvT5JIrJgz35iGwRkInJgT0BacUQOzNrwjCMyYFZAEpEBM3dk21NgZsC4CVEwe8u47QeZPpgVkYCCPe2mD8weQVuLHlC06d6kQcEIRhEjUPitQJsCP8s8P2IIMvetuREDUHSIo4gBqPhepeVARcAuogdW4hG01VDwi8ZzETtQF9CtwjtQGfAYsQPVX501ISi+SLpaB6ByBG21AYioNRps0aA90FiwQYOPEcFggwbrBRps0GBdwAIW8AmBW6w3la8z+Zrhn7e5woIt/pkl4d1JqlbqpWFYs40xf5GgfdZtvMV50zvVLRSt1/ul8QPqccF4X7tUqVKl/uf6BxTPzN+MDvNvAAAAAElFTkSuQmCC"}];
for(var m=0;m<_.length;m++)cb.Ou.push({B_:new ev(_[m],100+m),OJ:6,og:!0})}());cb.prototype.amt=function(_){for(var m=0;
m<_.length;m++){var n=_[m],O=new ev(n,"plg_"+n.name);this.kv.push({B_:O,OJ:6});this.a1E.push(O.hx)}this.H1()};
cb.prototype.w1=function(_,n){this.Yw=_;var O=this.kv;for(var m=0;m<O.length;m++)O[m].B_.w1(_,n);if(n==gp.fZ||n==gp.WB)this.H1()};
cb.prototype.m3=function(_){var n=this.kv;for(var m=0;m<n.length;m++)n[m].B_.m3(_)};cb.prototype.A$=function(_,n){this.Qc=_;
this.bE=n;this.H1();this.mZ[0].A$(_,n);this.mZ[1].A$(_,n)};cb.prototype.H1=function(){var _=this.Yw,n=this.Qc,O=this.bE;
if(_==null||n==0)return;var l=_.uE.concat(this.a1E),x=n<500||n<700&&n<O,t=JSON.stringify(l)+","+x;if(t!=this.a1v){this.a1v=t;
L.I$(this.m);var h=[];for(var m=0;m<this.mZ.length;m++){var V=this.mZ[m];h[m]=V.QE();while(V.a7e()!=0)V.a9A(0);
V.nx()}var y=[];for(var m=0;m<this.pX.length;m++){var r=this.pX[m];r.nx();while(r.a3i()!=0)r.Xt(0);y.push(0)}for(var m=0;
m<l.length;m++){var E=this.a7L(l[m].toString());if(E==null)continue;this.pX[E.OJ].rR(E.B_);this.pX[E.OJ].ea(0);
y[E.OJ]++}var a=[];for(var m=0;m<y.length;m++){if(y[m]==0)continue;var S=m<3||x?1:0,V=this.mZ[S];V.parent=this;
V.aly(this.pX[m]);a[S]=!0}for(var m=0;m<this.mZ.length;m++)if(a[m])this.m.appendChild(this.mZ[m].m);
this.mZ[0].collapse();if(n<700||this.Yw.compact||!h[1]){this.mZ[1].collapse()}var e=new e_(H.E.L,!0);
e.data={d:H.t.$S};this.$(e)}};cb.prototype.a7L=function(_){for(var m=0;m<this.kv.length;m++)if(this.kv[m].B_.hx==_)return this.kv[m]};
cb.prototype.ajr=function(_){var n=this.a7L(_);this.pX[n.OJ].rR(n.B_)};cb.prototype.dN=function(_,n,O){var l=this.kv;
for(var m=0;m<l.length;m++)l[m].B_.dN(_,n,O)};cb.prototype.Ta=function(_,n,O,l,x){var t=this.kv;for(var m=0;
m<t.length;m++)t[m].B_.Ta(_,n,O,l,x)};cb.prototype.Xg=function(_,n,O,l,x){var t=this.kv;for(var m=0;
m<t.length;m++)t[m].B_.Xg(_,n,O,l,x)};cb.prototype.PF=function(_,n,O,l,x){var t=this.kv;for(var m=0;
m<t.length;m++)t[m].B_.PF(_,n,O,l,x)};function jU(_,n){eL.call(this,"toolbar");this.m.removeChild(this.kM);
this.df=L.S("div","tools");this.m.appendChild(this.df);this.Yv=null;this.kp=null;this.a1X=n;this.ZL=null;
this.a9n=-1;this.apT={};this.adU=_;this.e=null;this.wt=null;this.C8=null;this.VM=null;this.Lj=new gZ;
this.Lj.m.style.marginTop="5px";this.Lj.m.style.marginBottom="3px";this.Lj.parent=this;this.t5=new cw(L.Gu("lrs/mask"),!1,[6,6,1]);
this.t5.Z("click",function(t){var h=new e_(H.E.s,!0);h.G=D.vQ;h.data={d:"qmask"};this.$(h)},this);var O=new gl(null,["Ctrl","Alt","Shift","No Touch"],!0,null,null,!0);
O.Z(H.E.A,this.a9C,this);var l=L.S("span","rangecontFloat form padded");l.appendChild(O.m);l.setAttribute("style","position:absolute; width:119px; z-index:2;  padding-right:0px; ");
var x=document.body;this.anX=[!1,!1,!1,!1];this.cz=new cw(L.Gu("kb"),!1,"Virtual Keys");this.cz.Z("click",function(t){var h=this.cz.m.getBoundingClientRect();
l.style.top=h.top-40+"px";l.style.left=h.left+h.width+8+"px";if(L.PZ(l)){L.FU({m:l},x)}else{x.appendChild(l);
L.Z6({m:l})}},this)}jU.prototype=new eL;jU.prototype.a9C=function(_){var n=_.target.b();this.cz.c(n[0]||n[1]||n[2]||n[3]);
var O=new e_(H.E.L,!0);for(var m=0;m<4;m++){if(n[m]!=this.anX[m]){O.data={d:H.t.a2u,Ju:n[m],aq$:["ControlLeft","AltLeft","ShiftLeft","NoTouch"][m]};
this.$(O)}}this.anX=n.slice(0)};jU.prototype.a9a=function(_,n){this.ZL=n;if(_==null||_.g.length==0||_.B[_.g[0]]==null)return;
var O=_.t5()!=null,l=_.u.CN,x=_.B[_.g[0]].LN,t=x==1||x==3||O||l[0]+l[1]+l[2]==1;this.Lj.aov(t);this.t5.c(O)};
jU.prototype.a6t=function(_,n){var O=_.length,l=[];for(var m=0;m<O;m++)l[m]=_[m].slice(0);_=l;var x=[1,2,4,5,7,8,7,9,11,12,14,15,14,16,10,11,1,3,17,18,7,6,13,14],t=Math.min(x.length/2,O-n);
for(var m=0;m<t;m++){var h=x[2*m],V=x[2*m+1];_[h]=_[h].concat(_[V]);_[V]=null}for(var m=0;m<_.length;
m++)if(_[m]==null){_.splice(m,1);m--}return _};jU.prototype.abd=function(_,n){for(var m=0;m<n.length;
m++)for(var O=0;O<n[m].length;O++)if(n[m][O].G.id==_)return m};jU.prototype.a2i=function(_){var n=this.adU;
this.wt=[];this.C8=[];this.VM=[];this.e=[];var O=n.sV;if(_!=null&&this.a1X)O=this.a6t(O,_);var l=this.Yv;
if(l){var x=[];for(var m=0;m<O.length;m++){var t=[];for(var h=0;h<O[m].length;h++){var V=O[m][h];if(l==null||l.indexOf(parseInt(V.G.id))!=-1)t.push(V)}if(t.length>0)x.push(t)}O=x}for(var m=0;
m<O.length;m++){var y=[],r=this.wt.length,E=null,a=-1;for(var h=0;h<O[m].length;h++){var V=O[m][h].G,S=this.abd(V.id,n.sV),e=n.keys[S];
if(e==bJ.yH&&h==1)e=bJ.n0;this.e.push(V);var P=new gz(V.name,e,V.fV,this.wt.length,m,O[m].length>1);
this.wt.push(P);var b=this.apT[V.id];if(b==null)b=0;if(b>a){a=b;E=P}P.Z(H.E.A,this.uN,this);P.Z("mover",this.H0,this);
y.push({name:V.name,Rf:V.fV,mU:e?e.GK:""})}this.C8.push(E);this.VM.push(y.length==1?null:[y,r])}};jU.prototype.A$=function(_,n){var O=this.bE=n,l=32;
if(1<L.V()&&L.V()<1.5)l=18+14*(1/L.V());var x=39+23,t=Math.floor((O-x)/l);if(t!=this.a9n){this.a9n=t;
this.a2i(t);this.Rm()}var h=this.C8.length*l+x,V=Math.min(1,O/h);if(.75<=V){this.df.setAttribute("style","width:34px; transform-origin: top left; transform: scale("+V+","+V+");");
this.m.setAttribute("style","height:"+(n-2)+"px; overflow:hidden;")}else{O-=4;this.df.setAttribute("style","height: "+O+"px;  width:"+Math.ceil(h/O)*34+"px");
this.m.setAttribute("style","")}};jU.prototype.f=function(){if(this.e==null)return;for(var m=0;m<this.wt.length;
m++)this.wt[m].f()};jU.prototype.uN=function(_){var n=new e_(H.E.L,!0);n.data={d:H.t.dw,G:this.e[_.id].id};
this.$(n)};jU.prototype.axd=function(_){var n=_.target.awb+_.target.q3()[0];this.wt[n].sL(null,!0)};
jU.prototype.H0=function(_){var n=this.ZL,O=new e_(H.E.L,!0);O.data={d:H.t.ci};this.$(O);var l=_.target,x=this.VM[l.zC];
if(x==null)return;var t=new dW(x[0],null,!0);t.awb=x[1];t.zC=l.zC;t.Z("select",this.axd,this);t.parent=this;
t.f();var h=l.m.getBoundingClientRect(),O=new e_(H.E.L,!0);O.data={d:H.t.X3,B_:t,x:h.left+h.width+8,y:h.top};
if(n==null||!(n.l(bJ.pN)||n.l(bJ.mV)))this.$(O)};jU.prototype.Rm=function(_){if(_==null)_=this.kp;this.kp=_;
if(this.e==null)return;this.apT[_]=Date.now();var n=-1;for(var m=0;m<this.e.length;m++)if(this.e[m].id==_)n=m;
for(var m=0;m<this.wt.length;m++){var O=this.wt[m];O.arT(n==m)}if(n==-1)return;this.C8[this.wt[n].zC]=this.wt[n];
L.I$(this.df);var l=this.C8;for(var m=0;m<l.length;m++){this.df.appendChild(l[m].m)}if(!this.a1X)return;
this.df.appendChild(this.Lj.m);if(this.bE>640)this.df.appendChild(this.t5.m);this.df.appendChild(this.cz.m)};
jU.prototype.w1=function(_,n){if(n==gp.WB&&_.Yv){this.Yv=_.Yv;this.a2i();this.Rm()}this.Lj.arU(_.KU,_.lV)};
function gz(_,n,O,l,x,t){b1.call(this);this.tA=0;this.i7=this.atV.bind(this);this.zC=x;this.Ua=l;this.an=_;
this.dF=n;this.axm=t;this.fV=O;this.m=L.S("button","");this.m.innerHTML=L.Gu(this.fV);if(this.axm){var h=L.S("img","gsicon");
h.setAttribute("src",PIMG["tools/corner"]);h.setAttribute("style","position:absolute; right:0;  bottom:0; width:100%; height:100%;");
this.m.appendChild(h)}this.m.addEventListener("touchstart",L.C9,!1);this.f();L.a9(this.m,this.km.bind(this));
L.LY(this.m,this.sL.bind(this));this.m.addEventListener("contextmenu",this.i7,!1);this.m.addEventListener("contextmenu",gz.bO,!1)}gz.prototype=new b1;
gz.bO=function(_){_.stopPropagation();_.preventDefault();return!1};gz.prototype.f=function(){var _=this.dF?" ("+this.dF.GK+")":"";
this.m.setAttribute("title",hU.get(this.an)+_)};gz.prototype.km=function(_){gz.Wb=this.Ua;this.tA=setTimeout(this.i7,160)};
gz.prototype.sL=function(_,n){if(n==null&&gz.Wb!=this.Ua)return;clearTimeout(this.tA);var O=new e_(H.E.A,!1);
O.target=this;O.id=this.Ua;this.$(O)};gz.prototype.atV=function(_){var n=new e_("mover",!1);n.target=this;
n.id=this.Ua;this.$(n)};gz.prototype.arT=function(_){this.m.className=_?"toolbtn active":"toolbtn"};
function bR(){b1.call(this);this.m=L.S("div","topbar");this.L2=L.S("span","");this.a2x=0;this.m.appendChild(this.L2);
this._9=null;this.e2=null;this.Cr=[];this.uE=[];var _=this.km.bind(this);for(var m=0;m<bR.data.length;
m++){var n=L.S("button");this.Cr.push(n);this.L2.appendChild(n);n.addEventListener("mouseover",_,!1);
L.a9(n,_)}this.aw=new cw([0,13,0],!1,null,!0);this.aw.Z("click",this.gn,this);this.m.appendChild(this.aw.m);
this.zA=new cw(L.Gu("tools/zoom",null,"autoscale"),!1,[12,86]);this.zA.Z("click",this.gn,this);this.m.appendChild(this.zA.m);
this.Un=new cw("<svg class=\"gsicon\" version=\"1.1\"  width=\"20\" height=\"20\" viewBox=\"8 8 20 20\"><path d=\"m 10,16 2,0 0,-4 4,0 0,-2 L 10,10 l 0,6 0,0 z\"></path><path d=\"m 20,10 0,2 4,0 0,4 2,0 L 26,10 l -6,0 0,0 z\"></path><path d=\"m 24,24 -4,0 0,2 L 26,26 l 0,-6 -2,0 0,4 0,0 z\"></path><path d=\"M 12,20 10,20 10,26 l 6,0 0,-2 -4,0 0,-4 0,0 z\"></path></svg>",!1,"Fullscreen");
this.Un.Z("click",this.gn,this);this.m.appendChild(this.Un.m)}bR.prototype=new b1;bR.prototype.alN=function(){if(this.uE.length!=0)return;
for(var m=0;m<bR.data.length;m++){var _=bR.data[m],n=new dW(_.items,_.nh);n.parent=this;this.uE.push(n)}this.f()};
bR.prototype.f=function(){this.aw.f();this.zA.f();this.Un.f();for(var m=0;m<this.Cr.length;m++)this.Cr[m].textContent=hU.get(bR.data[m].name);
this.a1H();for(var m=0;m<this.uE.length;m++)this.uE[m].f()};bR.prototype.gn=function(_){var n=new e_(H.E.L,!0);
if(_.target==this.aw)n.data={d:H.t.Rq,EW:"account"};else if(_.target==this.zA)n.data={d:H.t.Wt};else n.data={d:H.t.r4,S0:!0};
this.$(n)};bR.prototype.a0W=function(_,n){this._9=_;this.e2=n};bR.prototype.w1=function(_,n){this.e2=_;
if(n==gp.WB){var O=_.ayc;L.I$(this.L2);for(var m=0;m<this.Cr.length;m++){if(O==null||O[m]==1||O[m]instanceof Array)this.L2.appendChild(this.Cr[m]);
if(O!=null&&O[m]instanceof Array){this.alN();this.uE[m].asb(O[m])}}this.m.removeChild(this.aw.m);this.m.removeChild(this.zA.m);
this.m.removeChild(this.Un.m);if(_.Wl)this.m.appendChild(this.aw.m);this.m.appendChild(this.zA.m);this.m.appendChild(this.Un.m)}this.a1H()};
bR.prototype.a1H=function(_,n){var O=this.aw,l=12255232;if(iM.iq())l=iM.Sg()?43520:16755200;O.m.setAttribute("style","color:#ffffff; background-color:#"+Q.sN(l))};
bR.prototype.km=function(_){this.alN();var m=this.Cr.indexOf(_.currentTarget),n=this.uE[m];if(_.type=="mouseover"&&!L.PZ(this.uE[this.a2x].m))return;
if(L.PZ(n.m))return;_.aix=!0;this.a2x=m;for(var m=0;m<bR.data.length;m++)this.uE[m].update(this._9,this.e2);
var O=_.target.getBoundingClientRect(),l=new e_(H.E.L,!0);l.data={d:H.t.X3,B_:n,x:O.left,y:O.top+O.height+2,a9X:!0};
this.$(l)};bR.aw7=function(_){var n=bJ,O=n.mV,l=n.fc,x=n.Yk,t=function(r){return{w:r!=null}},h=function(r){return{w:r!=null&&r.P!=null}},V={name:[0,5],items:[{name:[7,0],w:t,mU:[O,n.t]},{name:[7,1],mU:[O,n.ap],w:h},{name:[7,2],mU:[l,O,n.dq],w:h,Qn:!0},{name:[7,8],w:t,r8:!0},{name:[7,13],r8:!0,w:function(r){return{w:r!=null&&r.g.length!=0&&!r.B[r.g[0]].rect.wk()}},Qn:!0},{name:[7,11],r8:!0,w:function(r){return{w:r!=null&&r.g.length!=0&&!r.B[r.g[0]].rect.wk()}}},{name:[7,3],w:t,Qn:!0,sub:[{name:[7,9],r8:!0,w:h},{name:[19,3,0],r8:!0,w:h},{name:[7,4],r8:!0,w:h},{name:[7,5],r8:!0,w:h},{name:[7,6],r8:!0,w:h,mU:"Shift+F6"}]},{name:[7,10],w:h,Qn:!0},{name:[6,6,1],w:function(r){return{w:r!=null,fs:r!=null&&r.t5()!=null}},mU:[n.FC],Qn:!0},{name:["VAR0 VAR1",[1,2],[17,2]],w:h}],nh:[{Y:H.E.yy,W:D.iM.qv(!0)},{Y:H.E.yy,W:D.iM.qv()},{Y:H.E.yy,W:{et:"inverse"}},{Y:H.E.L,W:{d:H.t.Rq,EW:"crange"}},{Y:H.E.L,W:{d:H.t.Rq,EW:"magiccut"}},{Y:H.E.L,W:{d:H.t.Rq,EW:"redge"}},{sub:[{Y:H.E.L,W:{d:H.t.Rq,EW:"sel_border"}},{Y:H.E.L,W:{d:H.t.Rq,EW:"sel_smoothness"}},{Y:H.E.L,W:{d:H.t.Rq,EW:"sel_expand"}},{Y:H.E.L,W:{d:H.t.Rq,EW:"sel_contract"}},{Y:H.E.L,W:{d:H.t.Rq,EW:"sel_feather"}}]},{Y:H.E.L,W:{d:H.t.dw,G:D.E7}},{Y:H.E.s,G:D.vQ,W:{d:"qmask"}},{Y:H.E.yy,W:{et:"duplicate",ot:{classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}}}]};
if(_){var y=V.items.length-1;V.items.splice(y-2,0,{name:[6,49],mU:[O,n.Vk],Qn:!0});V.nh.splice(y-2,0,{Y:H.E.yy,W:{et:"copyToLayer"}});
V.items.splice(y-1,0,{name:[10,16],mU:[x,O,n.Fy]});V.nh.splice(y-1,0,{Y:H.E.L,W:{d:H.t.dw,G:D.rd}})}return V};
bR.data=function(){var _=bJ,n=_.mV,O=_.fc,l=_.Yk,x=function(S){return{w:S!=null&&S.g.length!=0}},t=function(S){return{w:S!=null&&S.g.length!=0&&S.B[S.g[0]].add.SoLd!=null}},h=function(S){return{w:S!=null}},V=function(S){return{w:S!=null&&S.eE(!1)}},y=[],r=[],E="none maxx avrg medn minn rang stdv summ vari".split(" "),a=[[22,5,0],[24,17,2],[24,3,0],[24,7,3],[24,17,3],[12,12],"Standard Deviation","Summation","Variance"];
for(var m=0;m<E.length;m++){y.push({name:a[m],w:function(S,e){if(S==null||S.g.length!=1)return{w:!1};
var P=S.B[S.g[0]].add.SoLd;if(P==null)return{w:!1};return{w:!0,fs:P.Impr.v.classID==this.asj}}.bind({asj:E[m]})});
r.push({Y:H.E.s,G:D.Ko,W:{d:v.w_,t2:E[m]}})}return[{name:[0,0],items:[{name:[5,3],mU:[l,n,_.nq],title:[11,7],r8:!0},{name:[1,0],mU:[n,_.ZM],r8:!0},{name:[1,11],r8:!0,w:h},{name:["VAR0 VAR1",[1,0],[0,14]],Qn:!0,sub:[{name:"Storage",r8:!0,mU:[l,n,_.ZM]},{name:[1,5],r8:!0},{name:[11,0],r8:!0},{name:["PSD VAR0",[25,0]],r8:!0}]},{name:[1,1],Qn:!0,w:h,sub:[{name:"PNG",mU:"Imgur.com",w:function(S,e){return{w:S!=null&&e.cV}}},{name:"JPG",mU:"Imgur.com",w:function(S,e){return{w:S!=null&&e.cV}}},{name:"PSD",mU:"Photopea.com",w:function(S,e){return{w:S!=null&&e.cV&&!S.Xs}}}]},{name:"Save ...",mU:[n,_.Mh],w:function(S,e){var P=hU.get([1,2]),b=!0;
if(S){if(S.dG)P+=" ("+hU.get([6,7,1])+")";if(S.bm)P+=" (Google Drive)";if(S.Qr)P+=" ("+Storage.list[S.Qr[0]][0]+")";
b="psd jpg png gif webp svg bmp".split(" ").indexOf(S.fA)!=-1}return{w:S!=null&&(S.Qr!=null||S.RF!=null&&b||S.dG!=null||S.E5!=null&&S.E5.if!=null||S.bm!=null||e.wz.save!=null),Bj:P}}},{name:[1,3],w:function(S,e){return{w:S!=null&&e.cV}}},{name:["VAR0 VAR1",[1,2],[0,14]],w:h,sub:[{name:"PSD to Storage",w:function(S,e){return{w:S!=null&&e.cV}}},{name:["VAR0 PSD/PSB",[1,2]],r8:!0,w:function(S,e){return{w:S!=null&&e.cV}}}]},{name:[1,8],w:h,sub:function(){var S=dx.DE(0),e=[];
for(var m=0;m<S.length;m++)e.push({name:S[m],mU:"."+S[m].toLowerCase()});e.push({name:[0,14],sub:function(){var S=dx.DE(1),e=[];
for(var m=0;m<S.length;m++)e.push({name:S[m],mU:"."+S[m].toLowerCase()});return e}()});return e}()},{name:[1,4],r8:!0,w:h,Qn:!0},{name:[1,9],r8:!0,w:h},{name:"Export Color Lookup",r8:!0,w:h,Qn:!0},{name:[1,14],r8:!0,w:h,Qn:!0},{name:"Automate",sub:[{name:"PDF Presentation",r8:!0}]},{name:[1,10]}],nh:[{Y:H.E.L,W:{d:H.t.Rq,EW:"newproject"}},{Y:H.E.L,W:{d:H.t.YI}},{Y:H.E.L,W:{d:H.t.YI,a8u:!0}},{sub:[{Y:H.E.L,W:{d:H.t.Rq,EW:"storwindow",or:0}},{Y:H.E.L,W:{d:H.t.Rq,EW:"open_from_url"}},{Y:H.E.L,W:{d:H.t.Rq,EW:"camera"}},{Y:H.E.L,W:{d:H.t.Rq,EW:"res0"}}]},{sub:[{Y:H.E.L,W:{d:H.t.lH,Ol:"png"}},{Y:H.E.L,W:{d:H.t.lH,Ol:"jpg"}},{Y:H.E.L,W:{d:H.t.lH,Ol:"psd"}}]},{Y:H.E.L,W:{d:H.t.dE}},{Y:H.E.L,W:{d:H.t.w4}},{sub:[{Y:H.E.L,W:{d:H.t.Rq,EW:"storwindow",or:1}},{Y:H.E.L,W:{d:H.t.Rq,EW:"savepsb"}}]},{sub:function(){var S=dx.DE(0),e=[];
for(var m=0;m<S.length;m++)e.push({Y:H.E.L,W:{d:H.t.Rq,EW:"saveforweb",Ol:m}});e.push({sub:function(){var P=dx.DE(0).length,S=dx.DE(1),e=[];
for(var m=0;m<S.length;m++)e.push({Y:H.E.L,W:{d:H.t.Rq,EW:"saveforweb",Ol:P+m}});return e}()});return e}()},{Y:H.E.L,W:{d:H.t.Rq,EW:"saveforweb",Ol:4,aos:!0}},{Y:H.E.L,W:{d:H.t.Rq,EW:"eassets"}},{Y:H.E.L,W:{d:H.t.Rq,EW:"exlut"}},{Y:H.E.L,W:{d:H.t.Rq,EW:"finfo"}},{sub:[{Y:H.E.L,W:{d:H.t.Rq,EW:"pdfpres"}}]},{Y:H.E.L,W:{d:H.t.Rq,EW:"script"}}]},{name:[0,1],items:[{name:[2,8],w:h},{name:[2,0],w:h,mU:[O,n,_.oo]},{name:[2,1],w:h,mU:[n,_.oo],Qn:!0},{name:[2,11],mU:[O,n,_.AR],Qn:!0,r8:!0,w:function(S,e){return{w:ir.abp(S)&&e.kp!=D.rd}}},{name:[5,0],mU:[n,_.gi],w:function(S){return{w:S!=null&&S.pJ()}}},{name:[5,1],mU:[n,_.bd],w:h},{name:[5,7],mU:[O,n,_.bd],w:function(S){return{w:S!=null&&S.pJ()}}},{name:[5,2],mU:[n,_.Z2],w:function(S,e){return{w:L.Hb()||e.wL!=null||e.sg!=null||e.avA!=null}}},{name:[2,2],w:function(S){return{w:S!=null&&S.P!=null}},mU:"Delete",Qn:!0},{name:[2,3],w:h,r8:!0,mU:[O,_.MA]},{name:[14,9],w:h,r8:!0,Qn:!0},{name:[10,48],w:V},{name:[10,46],w:function(S){return{w:D.Xu.a9p(S)}}},{name:[10,16],w:h,mU:[l,n,_.Fy]},{name:[2,4],w:h,sub:bS.aiQ()},{name:[2,10,1],w:h},{name:[2,10,0],w:h,Qn:!0},{name:[12,87],w:h,sub:[{name:[12,62],w:h},{name:[9,3],w:h},{name:[10,31],w:function(S){return{w:S!=null&&S.cx()[1].length!=0}}}]},{name:[1,15],r8:!0},{name:[12,79],r8:!0,mU:[n,_.Ai]},{name:[1,13],r8:!0}],nh:[{Y:H.E.s,G:D.kF,W:{d:"h_undoredo"}},{Y:H.E.s,G:D.kF,W:{d:"h_stepfwd"}},{Y:H.E.s,G:D.kF,W:{d:"h_stepbck"}},{Y:H.E.L,W:{d:H.t.Rq,EW:"afw_fade"}},{Y:H.E.L,W:{d:H.t.ux}},{Y:H.E.L,W:{d:H.t.cF}},{Y:H.E.L,W:{d:H.t.cF,IS:!0}},{Y:H.E.L,W:{d:H.t.d_}},{Y:H.E.yy,W:{et:"delete"}},{Y:H.E.L,W:{d:H.t.Rq,EW:"fill"}},{Y:H.E.L,W:{d:H.t.Rq,EW:"stroke"}},{Y:H.E.L,W:{d:H.t.dw,G:D.St}},{Y:H.E.s,G:D.rq,W:{d:"start",D$:"rigidTransform"}},{Y:H.E.L,W:{d:H.t.dw,G:D.rd}},{sub:bS.a9b()},{Y:H.E.yy,W:{et:"align",ot:{classID:"null",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},Usng:{t:"enum",v:{ADSt:"ADSContent"}},alignToCanvas:{t:"bool",v:!1},Aply:{t:"enum",v:{projection:"Auto"}},vignette:{t:"bool",v:!1},radialDistort:{t:"bool",v:!1}}}},{Y:H.E.s,G:D.Ko,W:{d:v.kn}},{sub:[{Y:H.E.L,W:{d:H.t.bZ,nZ:0}},{Y:H.E.L,W:{d:H.t.bZ,nZ:1}},{Y:H.E.L,W:{d:H.t.bZ,nZ:2}}]},{Y:H.E.L,W:{d:H.t.Rq,EW:"pmanager"}},{Y:H.E.L,W:{d:H.t.Rq,EW:"preferences"}},{Y:H.E.L,W:{d:H.t.Rq,EW:"locstor"}}]},{name:[0,2],items:[{name:[12,36],w:h,Qn:!0,sub:[{name:"RGB",w:function(S){if(S==null)return{w:!1};
return{fs:S.add.fcmy==null,w:!0}}},{name:"CMYK",w:function(S){if(S==null)return{w:!1};return{fs:S.add.fcmy!=null,w:!0}},Qn:!0},{name:"Raster",w:function(S){if(S==null)return{w:!1};
return{fs:S.add.fvec==null,w:!0}}},{name:"Vector (Beta)",w:function(S){if(S==null)return{w:!1};return{fs:S.add.fvec!=null,w:!0}}}]},{name:[3],w:h,Qn:!0,sub:function(){var S=[];
for(var e in a3.names){S.push({name:a3.names[e],r8:ez[e]!=null,mU:a3.keys[e],Qn:a3.az3.indexOf(e)!=-1});
if(e=="selc"){S.push({name:["VAR0/VAR1",[19,6,0],[19,6,2]],r8:!0,Qn:!0});S.push({name:[19,7,0],mU:[n,O,_.D3],w:V});
S.push({name:[4,18],r8:!0,w:V})}}return S}()},{name:[4,16,0],w:V},{name:[4,16,1],w:V},{name:[4,16,2],w:V,Qn:!0},{name:[11,11,1],w:V},{name:[11,11,0],w:V,Qn:!0},{name:[11,3],w:h,r8:!0,mU:[l,n,_.bd]},{name:[11,10],w:h,r8:!0,mU:[l,n,_.dq]},{name:[2,4],w:h,sub:[{name:["VAR0 90\xB0 \u21BB",[2,5]]},{name:["VAR0 90\xB0 \u21BA",[2,5]]},{name:["VAR0 180\xB0",[2,5]]},{name:[[2,6],[22,4,2]]},{name:[[2,6],[22,4,3]]}]},{name:[11,12,1],w:function(S){return{w:S!=null&&S.P!=null}}},{name:[11,12,0],w:h,mU:[n,_.mE],r8:!0},{name:[11,12,2],w:h,Qn:!0},{name:[2,12],w:V,r8:!0,Qn:!0},{name:"Variables",w:h,r8:!0}],nh:[{sub:[{Y:H.E.s,G:D.cb,W:{d:"fcmy",h:0}},{Y:H.E.s,G:D.cb,W:{d:"fcmy",h:1}},{Y:H.E.s,G:D.cb,W:{d:"fvec",h:0}},{Y:H.E.s,G:D.cb,W:{d:"fvec",h:1}}]},{sub:function(){var S=[];
for(var e in a3.names){S.push({Y:H.E.s,G:D.wR,W:{d:"start",v3:e}});if(e=="selc"){S.push({Y:H.E.s,G:D.rq,W:{d:"start",D$:"adaptCorrect"}});
S.push({Y:H.E.yy,W:{et:"desaturate"}});S.push({Y:H.E.s,G:D.wR,W:{d:"start",v3:"matc"}})}}return S}()},{Y:H.E.yy,W:{et:"levels",ot:{classID:"Lvls",Auto:{t:"bool",v:!0}}}},{Y:H.E.yy,W:{et:"levels",ot:{classID:"Lvls",AuCo:{t:"bool",v:!0}}}},{Y:H.E.yy,W:{et:"levels",ot:{classID:"Lvls",autoBlackWhite:{t:"bool",v:!0},autoNeutrals:{t:"bool",v:!0}}}},{Y:H.E.L,W:{d:H.t.Rq,EW:"rcolors"}},{Y:H.E.L,W:{d:H.t.Rq,EW:"vbitmap"}},{Y:H.E.L,W:{d:H.t.Rq,EW:"csize"}},{Y:H.E.L,W:{d:H.t.Rq,EW:"isize"}},{sub:[{Y:H.E.yy,W:D.D6.bL(!0,90)},{Y:H.E.yy,W:D.D6.bL(!0,-90)},{Y:H.E.yy,W:D.D6.bL(!0,-180)},{Y:H.E.yy,W:D.D6.bL(!1,"Hrzn")},{Y:H.E.yy,W:D.D6.bL(!1,"Vrtc")}]},{Y:H.E.s,G:D.T4,W:{d:"cropbysel",aoK:0}},{Y:H.E.L,W:{d:H.t.Rq,EW:"trim"}},{Y:H.E.yy,W:{et:"revealAll",ot:{classID:"RvlA"}}},{Y:H.E.s,G:D.wR,W:{d:"start",v3:"aply"}},{Y:H.E.L,W:{d:H.t.Rq,EW:"varsdats"}}]},{name:[0,3],items:[{name:[5,3],w:h,sub:[{name:[0,3],mU:[O,n,_.nq]},{name:[0,4]},{name:[1,16,0],r8:!0},{name:[1,16,3],r8:!0,Qn:!0},{name:[6,49,0],mU:[n,_.Vk]},{name:[6,49,1],mU:[O,n,_.Vk],w:function(S){return{w:S!=null&&S.P!=null&&S.eE(!1)}}}]},{name:[6,0],w:x,mU:[n,_.Vk]},{name:[11,4],w:x},{name:[5,4],w:x,Qn:!0},{name:[11,6],w:x,Qn:!0,sub:a5.UI(!0)},{name:[6,48,1],w:h,sub:[{name:[6,48,0,0]},{name:[6,48,0,1]},{name:[6,48,0,2]}]},{name:[6,1],w:h,Qn:!0,sub:a5.awv()},{name:[6,2],w:h,sub:[{name:[6,4],w:function(S){return{w:S!=null&&S.g.length!=0&&S.B[S.g[0]].Ek()==null}}},{name:[6,5,0],w:function(S){return{w:S!=null&&S.g.length!=0&&S.B[S.g[0]].Ek()==null}}},{name:[6,5,1],w:function(S){return{w:S!=null&&S.g.length!=0&&S.B[S.g[0]].Ek()==null&&S.P!=null}}},{name:[6,5,2],w:function(S){return{w:S!=null&&S.g.length!=0&&S.B[S.g[0]].Ek()==null&&S.P!=null}}},{name:[6,5,3],w:function(S){return{w:S!=null&&S.g.length!=0&&S.B[S.g[0]].Ek()==null}},Qn:!0},{name:[5,4],w:function(S){return{w:S!=null&&S.g.length!=0&&S.B[S.g[0]].Ek()!=null}}},{name:[5,8],w:function(S){return{w:S!=null&&S.g.length!=0&&S.B[S.g[0]].Ek()!=null&&S.eE(!1,!0)}}},{name:["VAR0/VAR1",[5,5],[5,6]],w:function(S){return{w:S!=null&&S.g.length!=0&&S.B[S.g[0]].Ek()!=null}}}]},{name:[6,3],w:h,sub:[{name:[6,4],w:function(S){return{w:S!=null&&S.g.length!=0&&S.B[S.g[0]].add.vmsk==null}}},{name:[6,5,0],w:function(S){return{w:S!=null&&S.g.length!=0&&S.B[S.g[0]].add.vmsk==null}}},{name:"Current Path",w:function(S){return{w:S!=null&&S.g.length!=0&&S.B[S.g[0]].add.vmsk==null}},Qn:!0},{name:[5,4],w:function(S){return{w:S!=null&&S.g.length!=0&&S.B[S.g[0]].add.vmsk!=null}}},{name:["VAR0/VAR1",[5,5],[5,6]],w:function(S){return{w:S!=null&&S.g.length!=0&&S.B[S.g[0]].add.vmsk!=null}}}]},cp.ap4(!0),{name:[6,7,1],w:h,Qn:!0,sub:[{name:[6,7,0],Qn:!0},{name:"Open (Edit Contents)",w:t,r8:!0},{name:"Replace Contents",w:t,r8:!0},{name:"Export Contents",w:t,r8:!0,Qn:!0},{name:[6,36,4],w:t,sub:y},{name:"Turn into JPG",w:t}]},{name:[6,8],w:cp.ay6},{name:[6,34],Qn:!0,w:function(S){if(S==null||S.g.length==0)return{w:!1};
var e=S.B[S.g[0]];return{w:e.add.lmfx!=null&&!e.kx()}}},{name:[6,9],w:h,Qn:!0,mU:[n,_.d0]},{name:[6,55],w:h,Qn:!0,sub:[{name:[6,56,0],mU:[O,n,_.vW]},{name:[6,56,1],mU:[n,_.vW]},{name:[6,56,2],mU:[n,_.u6]},{name:[6,56,3],mU:[O,n,_.u6]}]},{name:[6,58],w:h,Qn:!0,sub:[{name:["Make Frames"]},{name:["Unmake Frames"]},{name:[18,5]}]},{name:[6,12,0],mU:[n,_.E],w:function(S){var e=S==null?0:S.g.length;
return{w:e!=0&&(e!=1||S.g[0]!=0),Bj:hU.get(e>1||e==1&&S.B[S.g[0]].kx()?[6,12,0]:[6,10])}}},{name:[6,12,1],w:h},{name:"Defringe",w:h}],nh:[{sub:[{Y:H.E.s,G:D.Ko,W:{d:v.eU}},{Y:H.E.s,G:D.Ko,W:{d:v._Z}},{Y:H.E.L,W:{d:H.t.Rq,EW:"newartb",or:0}},{Y:H.E.L,W:{d:H.t.Rq,EW:"newartb",or:1}},{Y:H.E.yy,W:{et:"copyToLayer"}},{Y:H.E.yy,W:{et:"cutToLayer"}}]},{Y:H.E.s,G:D.Ko,W:{d:v.Sq}},{Y:H.E.L,W:{d:H.t.Rq,EW:"duplinto"}},{Y:H.E.s,G:D.Ko,W:{d:v.nB}},{sub:a5.si(!0)},{sub:[{Y:H.E.s,G:D.bb,W:{d:"newfill",TO:0}},{Y:H.E.yy,W:D.fx.qY(1)},{Y:H.E.yy,W:D.fx.qY(2)}]},{sub:a5.AY()},{sub:[{Y:H.E.s,G:D.Ko,W:{d:v.sb,or:"RvlA"}},{Y:H.E.s,G:D.Ko,W:{d:v.sb,or:"HdAl"}},{Y:H.E.s,G:D.Ko,W:{d:v.sb,or:"RvlS"}},{Y:H.E.s,G:D.Ko,W:{d:v.sb,or:"HdSl"}},{Y:H.E.s,G:D.Ko,W:{d:v.sb,or:"Trns"}},{Y:H.E.s,G:D.Ko,W:{d:v.H6}},{Y:H.E.s,G:D.Ko,W:{d:v.X5}},{Y:H.E.s,G:D.Ko,W:{d:v.TZ}}]},{sub:[{Y:H.E.s,G:D.Ko,W:{d:v.UY,aej:!1}},{Y:H.E.s,G:D.Ko,W:{d:v.UY,aej:!0}},{Y:H.E.s,G:D.Ko,W:{d:v.UY,amA:!0}},{Y:H.E.s,G:D.Ko,W:{d:v.ZY}},{Y:H.E.s,G:D.Ko,W:{d:v.lr}}]},{Y:H.E.s,G:D.Ko,W:{d:v.rL}},{sub:[{Y:H.E.yy,W:{et:"newPlacedLayer"}},{Y:H.E.yy,W:{et:"placedLayerEditContents",ot:{classID:"placedLayerEditContents"}}},{Y:H.E.yy,W:{et:"placedLayerReplaceContents",ot:{classID:"placedLayerReplaceContents"}}},{Y:H.E.yy,W:{et:"placedLayerExportContents",ot:{classID:"placedLayerExportContents"}}},{sub:r},{Y:H.E.s,G:D.Ko,W:{d:v.abL}}]},{Y:H.E.yy,W:{et:"rasterizeLayer",ot:{classID:"rasterizeLayer",null:g3.g5("Lyr",!0)}}},{Y:H.E.s,G:D.Ko,W:{d:v.i5}},{Y:H.E.s,G:D.Ko,W:{d:v._b}},{sub:[{Y:H.E.s,G:D.Ko,W:{d:v.aU,nz:0}},{Y:H.E.s,G:D.Ko,W:{d:v.aU,nz:1}},{Y:H.E.s,G:D.Ko,W:{d:v.aU,nz:2}},{Y:H.E.s,G:D.Ko,W:{d:v.aU,nz:3}}]},{sub:[{Y:H.E.s,G:D.Ko,W:{d:v.Z_,nz:"makeframes"}},{Y:H.E.s,G:D.Ko,W:{d:v.Z_,nz:"unmakeframes"}},{Y:H.E.s,G:D.Ko,W:{d:v.Z_,nz:"merge"}}]},{Y:H.E.yy,W:{et:"mergeLayersNew",ot:{__name:"Merge Layers",classID:"Mrg2"}}},{Y:H.E.yy,W:{et:"flattenImage"}},{Y:H.E.s,G:D.rq,W:{d:"start",D$:"defr"}}]},bR.aw7(!1),function(){var S={name:[0,6],items:[{name:[24,18,4],mU:[l,n,_.AR],w:h,Qn:!0}],nh:[{Y:H.E.s,G:D.rq,W:{d:"applylast"}}]};
for(var m=0;m<ie.hE.length;m++){var e=ie.hE[m];if(e.cK!=null){S.items.push({name:ie.names[e.cK],r8:!0,Qn:e.Qn,w:h});
S.nh.push({Y:H.E.s,G:D.rq,W:{d:"start",D$:e.cK}});continue}var P={name:e.cR,sub:[],w:h};S.items.push(P);
var b={sub:[]};S.nh.push(b);for(var T=0;T<e.dX.length;T++){var C={name:ie.names[e.dX[T]],r8:ie.gV(e.dX[T])!=null};
P.sub.push(C);var Z={Y:H.E.s,G:D.rq,W:{d:"start",D$:e.dX[T]}};b.sub.push(Z)}}return S}(),{name:[0,7],items:[{name:[8,0],w:h,mU:[n,_.qE]},{name:[8,1],w:h,mU:[n,_.PW]},{name:[20,3],w:h,mU:[n,_.Vf]},{name:[20,2],w:h,mU:[n,_.R7]},{name:"Pattern Preview",w:function(S,e){return{w:S!=null,fs:S!=null&&S.VZ}},Qn:!0},{name:"Screen Mode",Qn:!0,sub:[{name:"Fullscreen",w:function(S,e){return{fs:document.fullscreenElement!=null}},Qn:!0},{name:"Standard",w:function(S,e){return{fs:e.HX==0}}},{name:"Menu Bar and Canvas",w:function(S,e){return{fs:e.HX==1}}}]},{name:[8,13],mU:[n,_.yH],w:function(S,e){return{fs:e.qq}}},{name:[8,12],Qn:!0,sub:[{name:[17,2],w:function(S,e){return{w:e.qq,fs:e.lW.M0}}},{name:[8,9],w:function(S,e){return{w:e.qq,fs:e.lW.VE}}},{name:[8,2],w:function(S,e){return{w:e.qq,fs:e.lW.P9}},mU:[n,_.AC]},{name:[8,4],w:function(S,e){return{w:e.qq,fs:e.lW.TP}},mU:[n,_.oD]},{name:[8,8],w:function(S,e){return{w:e.qq,fs:e.lW.f2}}},{name:[8,11,0],w:function(S,e){return{w:e.qq,fs:e.lW.Ks}}}]},{name:[8,3],w:function(S,e){return{fs:e.PS}},mU:[n,_.n0],Qn:!0},{name:[8,5],w:function(S,e){return{fs:e.Ay}}},{name:[8,6],Qn:!0,sub:[{name:[8,2],w:function(S,e){return{fs:e.hK[0]}}},{name:[8,4],w:function(S,e){return{fs:e.hK[1]}}},{name:[9,1],w:function(S,e){return{fs:e.hK[2]}}},{name:[8,11,0],w:function(S,e){return{fs:e.hK[3]}}},{name:[8,7],w:function(S,e){return{fs:e.hK[4]}}}]},{name:[11,15,2],w:function(S,e){return{w:S!=null,fs:S!=null&&S.Zc}}},{name:[11,15,0],w:h},{name:[11,14],w:h,r8:!0},{name:[11,15,1],w:function(S,e){return{w:S!=null&&S.g.length!=0}},Qn:!0},{name:[8,11,2],w:function(S,e){return{w:S!=null&&S.Ks.length!=0}}}],nh:[{Y:H.E.s,G:D.iz,W:{d:"zoom",fv:!0}},{Y:H.E.s,G:D.iz,W:{d:"zoom",fv:!1}},{Y:H.E.s,G:D.iz,W:{d:"adapt",h:"fitscr"}},{Y:H.E.s,G:D.iz,W:{d:"adapt",h:"pixel"}},{Y:H.E.s,G:D.cb,W:{d:"pview"}},{sub:[{Y:H.E.L,W:{d:H.t.r4,S0:!0}},{Y:H.E.L,W:{d:H.t.r4,h:0}},{Y:H.E.L,W:{d:H.t.r4,h:1}},{Y:H.E.L,W:{d:H.t.r4,h:2}}]},{Y:H.E.L,W:{d:H.t.Gf,nZ:gp.Hl}},{sub:[{Y:H.E.L,W:{d:H.t.Gf,nZ:gp.Bx}},{Y:H.E.L,W:{d:H.t.Gf,nZ:gp.mr}},{Y:H.E.L,W:{d:H.t.Gf,nZ:gp.En}},{Y:H.E.L,W:{d:H.t.Gf,nZ:gp.oq}},{Y:H.E.L,W:{d:H.t.Gf,nZ:gp.uI}},{Y:H.E.L,W:{d:H.t.Gf,nZ:gp.bR}}]},{Y:H.E.L,W:{d:H.t.Gf,nZ:gp.rQ}},{Y:H.E.L,W:{d:H.t.Gf,nZ:gp.ayj}},{sub:[{Y:H.E.L,W:{d:H.t.Gf,nZ:gp.lX,Gs:0}},{Y:H.E.L,W:{d:H.t.Gf,nZ:gp.lX,Gs:1}},{Y:H.E.L,W:{d:H.t.Gf,nZ:gp.lX,Gs:2}},{Y:H.E.L,W:{d:H.t.Gf,nZ:gp.lX,Gs:3}},{Y:H.E.L,W:{d:H.t.Gf,nZ:gp.lX,Gs:4}}]},{Y:H.E.s,G:D.cb,W:{d:"lockguides"}},{Y:H.E.s,G:D.cb,W:{d:"gids",Ke:[[],[]]}},{Y:H.E.L,W:{d:H.t.Rq,EW:"addguides"}},{Y:H.E.s,G:D.cb,W:{d:"gidsFromLayer"}},{Y:H.E.s,G:D.yK,W:{d:"deleteAll"}}]},function(){var S={name:[0,8],items:[{name:[0,14],Qn:!0,sub:[]},{name:"Plugins",Qn:!0}],nh:[{sub:[]},{Y:H.E.L,W:{d:H.t.Rq,EW:"res1"}}]};
for(var m=0;m<cb.Ou.length;m++){var e=cb.Ou[m],P=function(){var b=e.B_.hx;return function(T,C){return{fs:C.uE.indexOf(parseInt(b))!=-1}}}();
(e.og?S.items[0].sub:S.items).push({name:e.B_.name,w:P});(e.og?S.nh[0].sub:S.nh).push({Y:H.E.L,W:{d:H.t.$p,EW:e.B_.hx}})}return S}(),function(){var S={name:[0,14],items:[],nh:[]},e={name:[0,9],sub:[]};
S.items.push(e);var P={sub:[]};S.nh.push(P);var b=hU.anv();for(var m=0;m<b.length;m++){var T=b[m],C=T.code,Z=hU.a2M(C);
e.sub.push({name:T.name,mU:C,w:function(W,s){return{fs:this.mU==hU.nP()}}});P.sub.push({Y:H.E.L,W:{d:H.t.Gf,nZ:gp.Zy,lang:Z}})}e.sub.push({name:[0,12]});
P.sub.push({Y:H.E.L,W:{d:H.t.Fn,link:"https://www.photopea.com/translate/"}});var e={name:[0,15],sub:[]};
S.items.push(e);var P={sub:[]};S.nh.push(P);for(var m=0;m<js.O6.length;m++){e.sub.push({name:js.O6[m].name,w:function(W,s){return{fs:this.name==js.O6[s.dn].name}}});
P.sub.push({Y:H.E.L,W:{d:H.t.Gf,nZ:gp.k_,dn:m}})}S.items.push({name:[0,17,6],w:function(W,s){return{w:s.SW!=null}}});
S.nh.push({Y:H.E.L,W:{d:H.t.aob}});S.items.push({name:[11,13]});S.nh.push({Y:H.E.L,W:{d:H.t.Rq,EW:"shortcuts"}});
S.items.push({name:[0,16],w:function(W){return{fs:ex.kj,w:ex.pl}},Qn:!0});S.nh.push({Y:H.E.L,W:{d:H.t.aeE}});
S.items.push({name:"",w:function(W,s){return s.Wl?{Bj:"About Photopea",w:!0}:{Bj:"",w:!1}}});S.nh.push({Y:H.E.L,W:{d:H.t.Rq,EW:"aboutpp"}});
return S}()]}();function dZ(){b1.call(this);this.m=L.S("div","");this.aq=0;this.RU=0;this.Yw=null;this.OJ=L.S("div","");
this.OJ.setAttribute("style","width:200em; height:100em; position:absolute;");this.BD=[];this.IC=[];
this.Ft={}}dZ.prototype=new b1;dZ.prototype.Ph=function(_){var n=Date.now(),O=[];if(_=="-")O=[new f_,new j$,new jM("pdfpres"),new fn,new en,new cH,new hG,new bE,new ah,new fH,new e$,new c8,new ic,new aj,new fh,new f6,new a5,new g8,new i8,new fj,new hb,new bg,new jT,new hS,new jr,new df,new bV,new ag(!1),new ag(!0),new iV(0),new iV(1),new hN,new de,new h9,new hv,new h_,new iu,new d3(0),new d3(1),new d3(2),new d3(3),new d3(4),new d3(5),new d3(6),new d3(7),new d3(8),new ac,new g5,new jj,new b5,new hg,new iG,new jH,new cD("border",[7,9],"px"),new cD("smoothness",[19,3,0],"px"),new cD("expand",[7,4],"px"),new cD("contract",[7,5],"px"),new cD("feather",[7,6],"px"),new hq(0,"namewindow",[12,48]),new hq(2,"billto","Bill To"),new hq(1,"cornerradius",[12,94,0],"px",!0,!0),new hq(1,"scaleeffects","Scale Effects","%",!0),new hq(1,"doczoom","Zoom","%",!0),new hq(1,"setFPS","Set FPS","fps",!1)];
else O=[new ir(_.slice(4))];this.axf(O);this.Ft[_]=!0};dZ.prototype.axf=function(_){var n=this.Yw;for(var m=0;
m<_.length;m++){var O=_[m];O.parent=this;this.IC.push(O);this.l0(O);O.f();if(n)O.w1(n,gp.WB);O.Z(H.E.DJ,this.p3,this);
L.FU(O)}};dZ.prototype.A$=function(_,n){this.aq=_;this.RU=n;for(var m=0;m<this.IC.length;m++)this.l0(this.IC[m])};
dZ.prototype.f=function(){for(var m=0;m<this.IC.length;m++)this.IC[m].f()};dZ.prototype.Ja=function(){return this.BD.length==0?null:this.BD[this.BD.length-1]};
dZ.prototype.HE=function(){for(var m=0;m<this.BD.length;m++)if(this.BD[m].HE())return!0;return!1};dZ.prototype.aeA=function(_,n,O,l,x){var t=_.startsWith("afw_"),h=null;
if(!t&&!this.Ft["-"])this.Ph("-");if(t&&!this.Ft[_])this.Ph(_);if(typeof _=="object"){h=_;if(!h.aky(H.E.DJ,this.p3))h.Z(H.E.DJ,this.p3,this);
h.parent=this}else for(var m=0;m<this.IC.length;m++)if(this.IC[m].id==_)h=this.IC[m];if(this.HE()&&h.HE()){alert("Finish the current action first");
return}if(!h.pq(n))return;if(this.BD.indexOf(h)!=-1){if(_=="colorpicker")h.dN(n,O,l,x);return}var V=this.BD.length-1;
if(V>=0)L.NT(this.BD[V].m,"wdisabled");this.m.appendChild(h.m);this.BD.push(h);this.l0(h);L.Z6(h);h.dN(n,O,l,x)};
dZ.prototype.l0=function(_){var n=this.aq,O=this.RU,l=_.Lw(n,O),x;if(l!=null){x=l}else{l=new aW(0,0);
x=_.a5L();if(x==null){var t=this.BD.indexOf(_)+1;if(n<450||O<450)x=new aW(0,0);else x=new aW(t*150,t*150)}}_.m.style.left=x.x+"px";
_.m.style.top=this.m.offsetTop+x.y+"px";_.A$(this.aq-l.x*2,this.RU-l.y*2-34)};dZ.prototype.w1=function(_,n){this.Yw=_;
for(var m=0;m<this.IC.length;m++)this.IC[m].w1(_,n)};dZ.prototype.p3=function(_){var n=this.BD.pop();
L.FU(n,this.m);var O=this.BD.length-1;if(O>=0)L.Gd(this.BD[O].m,"wdisabled");if(this.OJ.parentNode==this.m)this.m.removeChild(this.OJ)};
window.onload=function(){document.body.appendChild(new fd().m)}}())